<html>
<head>
<title>3619.2e4bf80097f9890aef49.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
3619.2e4bf80097f9890aef49.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;3619.2e4bf80097f9890aef49.js?v=2e4bf80097f9890aef49&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAqF;AACjC;AACF;AACD;AACL;AACA;AACE;AACQ;AACF;AACN;AACC;AAC6D;AACxD;AACU,CAAC,eAAe;AACO;AACtB;AACI;AAC3B;AACU;AACR;AACiB;AACf;AACJ;AACU;AACR;AACA;AACE;AACI;AACiC;AACzB;AACZ;AACF;AACE;AACU;AACJ;AACU;AAClB,CAAC,eAAe;AACA;AAClB;AAC6B;AACjB;AACF;AACV;AACI;AACF;AACI;AACN;AACM;AACE;AACN;AACY;AACJ;AACQ;AACZ;AACI;AACN;AACG;;;ACxD/C,6BAAe,sBAAS;AACxB;AACA;;;ACFqC;;AAErC,IAAI,QAAG;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAG;AACxB;AACA,6BAA6B,QAAG;;AAEhC;AACA;AACA,yGAAyG,YAAQ;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,QAAG;;AAElC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C,4FAA4F;;AAEvI;AACA;AACA,2CAA2C,gCAAgC,yEAAyE;AACpJ;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC,yCAAyC;;AAElF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,yBAAyB;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEO;AACP,cAAc,QAAG;AACjB;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;ACxKmB;;;ACLnB;;AAEA,6BAAe,kBAAS;AACxB;AACA;AACA;AACA;;;ACNqC;AACC;;AAEtC,6BAAe,0BAAS;AACxB,6CAA6C,QAAQ;;AAErD,sFAAsF,OAAO;AAC7F,gHAAgH,OAAO;AACvH;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,SAAS;AACtB;;;AChBA;AACA;AACA;AACA,cAAc;AACd;AACA;AACe;AACf;AACA;;;ACRA;AACA;AACA;;AAEA,6BAAe,qBAAS;AACxB;AACA;AACA;AACA;;;ACRqC;AACL;AACY;;AAE5C;AACA;AACA,WAAW,KAAK;AAChB;AACA;;AAEA,6BAAe,mBAAS;AACxB;AACA,gBAAgB,WAAW;;AAE3B,0FAA0F,OAAO;AACjG,+DAA+D,OAAO;AACtE;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,SAAS;AACtB;;;ACxBA,6BAAe,iBAAS;AACxB;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;;;ACV2C;;AAE3C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,qBAAS;AACxB;AACA,wDAAwD,YAAY;AACpE;;;ACjB2C;;AAE3C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,wBAAS;AACxB;AACA,6DAA6D,YAAY;AACzE;;;ACjBqC;AACD;;AAEpC,6BAAe,0BAAS;AACxB,2CAA2C,OAAO;;AAElD,sFAAsF,OAAO;AAC7F,6FAA6F,OAAO;AACpG;AACA;AACA;AACA;AACA;;AAEA,aAAa,SAAS;AACtB;;;ACfA,6BAAe,gBAAS;AACxB;AACA;;;ACFiC;AACI;;AAErC,6BAAe,iBAAW;AAC1B,aAAa,SAAS,iCAAiC,MAAM;AAC7D;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,sDAAsD;AACvF,wCAAwC,gDAAgD;AACxF,sCAAsC,8CAA8C;AACpF,yCAAyC;AACzC;;;ACrBA,6BAAe,sBAAS;AACxB;AACA;AACA;AACA;;;ACJqC;AACA;AACC;;AAEtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS,gBAAgB;AACzB;AACA;AACA;AACA,MAAM;AACN,qBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA,SAAS,iBAAiB;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,qBAAqB,SAAS;AAC9B;AACA;;AAEA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,cAAS;AACxB;;AAEA;AACA;AACA;;AAEA,2CAA2C,YAAQ;;AAEnD,uGAAuG,OAAO;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,6CAA6C,iBAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,wBAAwB;AACxB;;;AC/HiC;AACI;;AAErC,6BAAe,gBAAW;AAC1B,aAAa,SAAS,gCAAgC,MAAM;AAC5D;;;ACLA,6BAAe,cAAS;AACxB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;;;ACdqC;;AAErC,6BAAe,eAAS;AACxB;;AAEA,+JAA+J,OAAO;AACtK,yHAAyH,OAAO;AAChI;AACA;AACA;AACA;AACA;;AAEA,SAAS,QAAQ;AACjB;AACA;;AAEA,aAAa,SAAS;AACtB;;;AClBA,6BAAe,iBAAW;;AAE1B,6DAA6D,QAAQ;AACrE,6EAA6E,SAAS;AACtF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;ACZqC;;AAErC,6BAAe,cAAS;AACxB;;AAEA;AACA;AACA;;AAEA,uFAAuF,OAAO;AAC9F,yGAAyG,OAAO;AAChH;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,SAAS;AACtB;;AAEA;AACA;AACA;;;ACvBA,6BAAe,gBAAW;AAC1B;AACA;AACA;AACA;AACA;;;ACLA,6BAAe,iBAAW;AAC1B;AACA;;;ACFA,6BAAe,gBAAW;;AAE1B,4DAA4D,OAAO;AACnE,yDAAyD,OAAO;AAChE;AACA;AACA;AACA;;AAEA;AACA;;;ACVA,6BAAe,gBAAW;AAC1B;AACA,mCAAmC;AACnC;AACA;;;ACJA,6BAAe,2BAAW;AAC1B;AACA;;;ACFA,6BAAe,cAAS;;AAExB,4DAA4D,OAAO;AACnE,+DAA+D,OAAO;AACtE;AACA;AACA;;AAEA;AACA;;;ACTO;;AAEP,iDAAe;AACf;AACA;AACA;AACA;AACA;AACA,CAAC,EAAC;;;ACRuC;;AAEzC,6BAAe,mBAAS;AACxB;AACA;AACA,SAAS,UAAU,2BAA2B,OAAO,UAAU,uBAAuB,QAAQ;AAC9F;;;ACNwC;;AAExC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,cAAS;AACxB,iBAAiB,SAAS;;AAE1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;ACxDA,6BAAe,oBAAS;AACxB;AACA;AACA,2BAA2B;AAC3B;;;ACJuC;;AAEvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,eAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA,SAAS,UAAW;AACpB;;;AClCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,kBAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,iBAAS;AACxB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AC1EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,wBAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,cAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxBA;AACA;AACA;;AAEA,6BAAe,2BAAW;AAC1B;AACA;;;ACNA;AACA;AACA;;AAEA,6BAAe,2BAAW;AAC1B;AACA;;;ACNuC;AACD;;AAEtC;AACA;AACA;AACA;AACA,mBAAmB,KAAK,8CAA8C,KAAK;AAC3E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,iBAAS;AACxB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;;ACxBoC;;AAEpC,6BAAe,gBAAS;AACxB,mDAAmD,OAAO;AAC1D;AACA;AACA,GAAG;AACH;;;ACPoC;AACE;;AAEtC;AACA;AACA;;AAEA,6BAAe,gBAAS;AACxB,mDAAmD,OAAO;AAC1D,uFAAuF,QAAQ;AAC/F;AACA;AACA,GAAG;AACH;;;ACbA;AACA;AACA;AACA;;AAEA,6BAAe,4BAAW;AAC1B;AACA;;;ACPA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAAe,eAAS;AACxB;AACA;;;ACZA,6BAAe,yBAAS;AACxB;AACA;AACA;AACA;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,OAAO;AACrD;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA,6BAAe,YAAS;AACxB;;AAEA;AACA;AACA,8CAA8C,OAAO;AACrD,6BAA6B,OAAO;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,OAAO;AACrB;AACA;;;AClEuC;;AAEvC;AACA,eAAe,UAAW;AAC1B;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,4BAAS;AACxB;AACA;AACA;AACA;;;ACjCA,6BAAe,qBAAY;AAC3B,4DAA4D,OAAO;AACnE,+DAA+D,OAAO;AACtE;AACA;AACA;AACA;;;ACN2C;AACM;AACI;AACM;AAChB;AACJ;AACE;AACF;AACA;AACE;AACA;AACF;AACA;AACE;AACF;AACA;AACE;AACF;AACA;AACE;AACM;AACF;AACN;AACA;AACE;AACA;AACE;AACA;AACA;AACF;AACA;AACN;AACY;AACA;;AAExC;;AAEA;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB;AAC1B,aAAa,SAAmB;AAChC,eAAe,WAAqB;AACpC,kBAAkB,cAAwB;AAC1C,UAAU,gBAAgB;AAC1B,QAAQ,IAAc;AACtB,SAAS,KAAe;AACxB,QAAQ,IAAc;AACtB,QAAQ,IAAc;AACtB,SAAS,KAAe;AACxB;AACA,SAAS,KAAe;AACxB,QAAQ,IAAc;AACtB,QAAQ,IAAc;AACtB,SAAS,KAAe;AACxB,QAAQ,IAAc;AACtB,QAAQ,IAAc;AACtB,SAAS,eAAe;AACxB,QAAQ,IAAc;AACtB,QAAQ,IAAc;AACtB,SAAS,KAAe;AACxB,YAAY,QAAkB;AAC9B,WAAW,OAAiB;AAC5B,QAAQ,cAAc;AACtB,QAAQ,IAAc;AACtB,SAAS,eAAe;AACxB,SAAS,eAAe;AACxB,UAAU,MAAgB;AAC1B,UAAU,MAAgB;AAC1B,UAAU,gBAAgB;AAC1B,SAAS,KAAe;AACxB,SAAS,eAAe;AACxB,MAAM,EAAY;AAClB,YAAY,kBAAkB;AAC9B,qBAAqB,QAAkB;AACvC;;AAEA,oDAAe,SAAS,EAAC;;;;;;;ACzFQ;;AAEjC,6BAAe,iBAAS;AACxB,cAAc,mBAAK;AACnB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;ACVqC;AACG;;AAExC,cAAc,+BAAQ;AACtB;;AAEO;AACA;AACA;AACA;AACA;AACA;AACA;;AAEP,6BAAe,kBAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEO;AACP;AACA,2DAA2D;AAC3D;AACA;;AAEO;AACP;AACA,2DAA2D;AAC3D;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,uBAAK;;AAEpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;AAC5C,sCAAsC,OAAO;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yDAAyD;AACzD;AACA,2DAA2D;AAC3D;AACA,IAAI,OAAO;AACX;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,yCAAyC;AACzC;;AAEA;AACA;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;;;ACxJiE;;AAEjE,6BAAe,uBAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,mDAAmD,eAAe;AAClE,8BAA8B,QAAQ,qBAAqB,MAAM;AACjE,qBAAqB,KAAK;AAC1B;AACA;AACA;AACA;;AAEA;AACA;;;ACvBwC;;AAExC,6BAAe,6BAAS;AACxB;AACA,IAAI,aAAS;AACb,GAAG;AACH;;;;;ACNuC;;AAEvC;AACA;AACA;AACA,mBAAmB,GAAG;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,GAAG;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB,4BAA4B,OAAO;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,eAAS;AACxB;;AAEA;;AAEA;AACA,gBAAgB,GAAG;AACnB,yCAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;;AAEA;AACA,mBAAmB,GAAG;AACtB,2CAA2C;AAC3C,GAAG;;AAEH;AACA,WAAW,GAAG;AACd;AACA;;;;;;;;;;;AChF+B;AACqD;;AAEpF,6BAAe,gCAAS;AACxB;AACA,kCAAkC,yBAAiB;AACnD,qBAAqB,qBAAK,GAAG,mBAAc;AAC3C,aAAa,yBAAK,eAAe,mBAAc;AAC/C,QAAQ,qBAAiB;AACzB;;;ACT+E;AACxC;AACD;AACK;;AAE3C,SAAS,eAAU;AACnB;AACA;AACA;AACA;;AAEA,SAAS,iBAAY;AACrB;AACA;AACA;AACA;;AAEA,SAAS,iBAAY;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,mBAAc;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,iBAAY;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,mBAAc;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,yBAAS;AACxB,iBAAiB,SAAS,uCAAuC,wCAAoB,GAAG,sBAAW;AACnG;AACA,0BAA0B,mBAAc,GAAG,iBAAY,eAAe,UAAU;AAChF,0CAA0C,iBAAY,GAAG,eAAU;AACnE,0BAA0B,mBAAc,GAAG,iBAAY;AACvD;;;AC7EuC;;AAEvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,8BAAS;AACxB;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;;;AC3CwC;;AAExC;AACA;AACA,IAAI,IAAI;AACR;AACA;;AAEA;AACA;AACA,IAAI,IAAI;AACR;AACA;;AAEA,6BAAe,eAAS;AACxB;;AAEA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;;;ACtBuC;;AAEvC;AACA;AACA,IAAI,GAAG;AACP;AACA;;AAEA;AACA;AACA,IAAI,GAAG;AACP;AACA;;AAEA,6BAAe,kBAAS;AACxB;;AAEA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;;;ACtBuC;;AAEvC;AACA;AACA;AACA,IAAI,GAAG;AACP;AACA;;AAEA,6BAAe,cAAS;AACxB;;AAEA;AACA;AACA,QAAQ,GAAG;AACX;;;ACfkC;;AAElC;AACA;AACA;AACA;AACA,IAAI,GAAG;AACP;AACA;;AAEA,6BAAe,gCAAS;AACxB;AACA;AACA;;;ACbqC;AACC;;AAEtC,6BAAe,2BAAS;AACxB,2CAA2C,OAAO;;AAElD,sFAAsF,OAAO;AAC7F,6FAA6F,OAAO;AACpG;AACA;AACA;AACA;AACA;;AAEA,aAAa,UAAU;AACvB;;;ACfsC;;AAEtC,6BAAe,0BAAS;AACxB;;AAEA,gKAAgK,OAAO;AACvK,yHAAyH,OAAO;AAChI;AACA;AACA;AACA;AACA;;AAEA,SAAS,QAAQ;AACjB;AACA;;AAEA,aAAa,UAAU;AACvB;;;AClB6C;;AAE7C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,oCAAoC,IAAI,GAAG,GAAG;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,uBAAS;AACxB;;AAEA;AACA,QAAQ,GAAG;AACX;AACA;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,6BAAW;AAC1B;AACA;;;ACVsC;AACA;AACM;;AAE5C,6BAAe,2BAAS;AACxB;AACA;;AAEA,6CAA6C,QAAQ;;AAErD,sFAAsF,OAAO;AAC7F,gHAAgH,OAAO;AACvH;AACA;AACA;AACA,QAAQ,QAAQ,qCAAqC,GAAG;AACxD;AACA;AACA;;AAEA,aAAa,UAAU;AACvB;;;ACrByC;AACH;AACM;;AAE5C,6BAAe,8BAAS;AACxB;AACA;;AAEA,6CAA6C,WAAW;;AAExD,0FAA0F,OAAO;AACjG,+DAA+D,OAAO;AACtE;AACA,yFAAyF,GAAG,wCAAwC,OAAO;AAC3I;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,UAAU;AACvB;;;ACzBuC;;AAEvC,IAAI,mBAAS,GAAG,aAAS;;AAEzB,6BAAe,gCAAW;AAC1B,aAAa,mBAAS;AACtB;;;ACN+E;AAC5C;AACD;AACI;AACK;;AAE3C;AACA;AACA;AACA;AACA;AACA,kBAAkB,UAAK;AACvB,oDAAoD,UAAK;AACzD;AACA;AACA;AACA;AACA;;AAEA,SAAS,iBAAW;AACpB;AACA;AACA;AACA;;AAEA,SAAS,mBAAa;AACtB;AACA;AACA;AACA;AACA,kBAAkB,UAAK;AACvB;AACA;AACA;AACA;AACA;;AAEA,SAAS,mBAAa;AACtB;AACA;AACA;AACA;AACA,kBAAkB,UAAK;AACvB;AACA;AACA,6EAA6E,UAAK;AAClF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,GAAG;AACtB;AACA,qEAAqE,iBAAW;;AAEhF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,0BAAS;AACxB,yCAAyC,wCAAoB,GAAG,sBAAW;AAC3E;AACA;AACA,+BAA+B,iBAAW;AAC1C;AACA,wBAAwB,mBAAa,UAAU,UAAU;AACzD;AACA;AACA,wBAAwB,mBAAa;AACrC;AACA;;;AC/EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,+BAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;;ACvBsC;;AAEtC,SAAS,iBAAY;AACrB;AACA;AACA;AACA;;AAEA,SAAS,iBAAY;AACrB;AACA;AACA;AACA;AACA;;AAEA,6BAAe,yBAAS;AACxB;AACA,QAAQ,iBAAY,CAAC,UAAU;AAC/B,QAAQ,iBAAY;AACpB;;;ACnBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,8BAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;;ACvB6C;AACD;;AAE5C,6BAAe,sBAAW;AAC1B;AACA;AACA,YAAY,KAAK;;AAEjB,4DAA4D,OAAO;AACnE,+DAA+D,OAAO;AACtE;AACA,sBAAsB,GAAG;AACzB,QAAQ,QAAQ;AAChB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,aAAa,UAAU;AACvB;;;ACvBkC;;AAElC,6BAAe,eAAW;AAC1B;AACA;AACA,kBAAkB,cAAc;AAChC,eAAe,oBAAoB;;AAEnC;AACA,qBAAqB,GAAG;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,GAAG;AACH;;;AC5BuC;AACC;AACU;AACR;AACM;AACR;AACc;AACV;AACF;AACN;AACQ;AACA;AACM;AACA;AACR;AACU;AACZ;AACU;AACE;AACV;AACJ;;AAEtC;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEe,SAAS,qBAAU;AAClC,SAAS,aAAS;AAClB;;AAEO;AACP;AACA;;AAEA,0BAA0B,aAAS;;AAEnC,uBAAuB,qBAAU;AACjC;AACA,UAAU,iBAAiB;AAC3B,aAAa,oBAAoB;AACjC;AACA;AACA,UAAU,iBAAiB;AAC3B,SAAS,gBAAgB;AACzB,aAAa,oBAAoB;AACjC,cAAc,UAAqB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,aAAa;AACnB,QAAQ,eAAe;AACvB,aAAa,oBAAoB;AACjC,SAAS,gBAAgB;AACzB,cAAc,qBAAqB;AACnC,QAAQ,eAAe;AACvB,aAAa,oBAAoB;AACjC,UAAU,iBAAiB;AAC3B,SAAS,KAAgB;AACzB,SAAS,KAAgB;AACzB,YAAY,QAAmB;AAC/B,QAAQ,IAAe;AACvB,eAAe,sBAAsB;AACrC,OAAO,GAAc;AACrB;AACA;;;ACxEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;ACVyD;AACR;AACV;AACV;;AAE7B;AACA;AACA;AACA;AACA,QAAQ,UAAc;AACtB;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;;AAEA,6BAAe,8BAAS;AACxB;AACA;;AAEA,sBAAsB,UAAU;AAChC;AACA,IAAI;AACJ,SAAS,KAAK,oCAAoC,qBAAG;AACrD;;AAEA,4DAA4D,OAAO;AACnE,+DAA+D,OAAO;AACtE;AACA,QAAQ,QAAQ;AAChB;AACA;AACA;;AAEA,aAAa,UAAU;AACvB;;;ACzCuC;AACU;AACE;;AAEnD,aAAS,uBAAuB,mBAAmB;AACnD,aAAS,wBAAwB,oBAAoB;;;ACLvB;AAC8B;AACd;AACM;;;ACHf;AACW;AACL;AACE;AACL;AACH;AACD;AACgB;;AAEpD,iBAAiB,aAAa;AAC9B,kBAAkB,cAAc;AAChC,mBAAmB,eAAe;AAClC,mBAAmB;;AAEnB,OAAO,QAAQ,gBAAK,aAAE;;AAEtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B,iEAAiE;AAC3F,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA,0BAA0B,iEAAiE;AAC3F,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA,wBAAwB,yCAAyC;AACjE,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,SAAS,WAAK;AACd;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP,SAAS,WAAK;AACd;;AAEO;AACP,SAAS,WAAK;AACd;;AAEA,6BAAe,iBAAW;AAC1B,SAAS,WAAK;AACd;;AAEA,SAAS,WAAK;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,gBAAgB;;AAEvD;;AAEA;AACA,qCAAqC,oCAAoC;AACzE,sCAAsC,yBAAyB;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,sDAAsD;AACrG,6DAA6D,sCAAsC;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,iHAAiH;AACpJ,mCAAmC,iGAAiG;AACpI,uCAAuC,wGAAwG;AAC/I,wCAAwC,wGAAwG;AAChJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA+B,SAAG;AAClC,+BAA+B,SAAG;AAClC;AACA,+BAA+B,SAAG;AAClC,+BAA+B,SAAG;AAClC;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B,SAAG,SAAS,SAAG;AACzC,0BAA0B,SAAG,SAAS,SAAG;AACzC;AACA;AACA;AACA;AACA,4BAA4B,SAAG,IAAI,SAAG,yBAAyB,SAAG,IAAI,SAAG;AACzE,4BAA4B,SAAG,IAAI,SAAG,yBAAyB,SAAG,IAAI,SAAG;AACzE,YAAY;AACZ,gCAAgC,SAAG,SAAS,SAAG;AAC/C,qCAAqC,SAAG,SAAS,SAAG;AACpD,gCAAgC,SAAG,SAAS,SAAG;AAC/C,qCAAqC,SAAG,SAAS,SAAG;AACpD;AACA;AACA;AACA;AACA,0BAA0B,SAAG,IAAI,SAAG,4BAA4B,SAAG,IAAI,SAAG;AAC1E,0BAA0B,SAAG,IAAI,SAAG,4BAA4B,SAAG,IAAI,SAAG;AAC1E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wDAAwD;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8CAA8C,qBAAqB,QAAQ;AAC3E,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD,UAAU,WAAK;AACf;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA,yCAAyC;AACzC,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,oCAAoC;AACpC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;ACvmBoB;;;;;;;;;;;ACLuB;AACP;AACD;;AAEpB;AACf,cAAc,0BAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAQ,sBAAsB,0BAA0B;AACzE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,yBAAS;AAClB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;;;;;;;ACjGmB;;AAII;;AAIF;;AAIH;;AAIG;;AAKC;;AAKJ;;AAIG;;AAIE;;AAIA;;AAIC;;AAIL;;AAIG;;AAQG;;AAIQ;;AAQT;;AAIC;;;;;AC7ES;;AAElC,gDAAe,yBAAM,gEAAgE,EAAC;;;ACFd;AACR;AACF;AACc;AACZ;AACE;AACA;AACN;AACA;AACA;AACU;AACe;AACA;AACA;AACA;AACA;AACA;AACM;AACA;AACM;AACL;AACA;AACA;AACA;AACM;AACN;AACA;AACA;AACM;AACN;AACM;AACA;AACF;AACG;AACH;AACM;AACT;AACS;AAC1B;AACW;AACuC;AAClD;AACJ;AAC2F;;;AC3C9G;;AAErD,6BAAe,oBAAS;AACxB;AACA,YAAY,SAAS;AACrB,YAAY,SAAS,eAAe,IAAI;AACxC;;;ACN8C;AACE;AACJ;AACI;AACI;AACE;AACN;AACE;AACJ;AACM;AACM;AACR;AACM;AACC;AACX;;;;;;;;;;;ACd9C,6BAAe,oBAAS;AACxB;AACA;;;ACFA,6BAAe,+BAAS;AACxB;AACA;;;;;ACF+B;AACM;AACI;AACJ;AACP;;AAE9B,6BAAe,eAAW;AAC1B,cAAc,qBAAQ;AACtB,mBAAmB,UAAU;AAC7B;AACA,mBAAmB,wCAAQ;AAC3B,iBAAiB,wCAAQ,CAAC,gBAAG;AAC7B,iBAAiB,wCAAQ;;AAEzB;AACA;AACA,oBAAoB,4BAAK;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gBAAG,YAAY,gBAAG;AACxC;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA,wDAAwD,sCAAsC;AAC9F,uDAAuD,gCAAgC;;AAEvF;AACA,mDAAmD,OAAO;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qEAAqE,wCAAQ;AAC7E;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0EAA0E,wCAAQ;AAClF;;AAEA;AACA,wEAAwE,wCAAQ;AAChF;;AAEA;AACA,wEAAwE,wCAAQ;AAChF;;AAEA;AACA;;;;;;;;;AC/E4C;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1EwC;AACE;AACA;AACF;AACqC,CAAC;AACD,CAAC;AACtB;AACiB;;AAEyB;AACnC;AACJ;AACF;AACI;AACE;AACR;AACI;AACE;AACN;AACQ;AACE;AACZ;AACwB;;AAEV;AACJ;AACR;AACkB;AAChB;AACgB;AACJ;AACR;AACgB;AACJ;AACR;AACI;AACZ;AACoC;AAClC;AACsD;;AAErE;AACoB;AACM;AACV;AACY;AACR;AACM;AACF;AACE;AACF;AACV;AACM;;;;;;;;;;;;;;;;;AClDzC;;AAOG;;AAOL;;AAOA;;AAOF;;AASD;;AAmCC;;AAOC;;AAOD;;AAOC;;;;;AC/F8F;AAC1D;AACJ;AACF;;;ACH3C,SAAS,mBAAS;AACzB;AACA;AACA;AACA;;AAEA,mBAAS;AACT,eAAe,mBAAS;AACxB;AACA,gCAAgC,mBAAS;AACzC,GAAG;AACH;AACA,0CAA0C,mBAAS;AACnD,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEO,IAAI,kBAAQ,OAAO,mBAAS;;AAEnC,mBAAS,aAAa,mBAAS;;AAEhB,SAAS,mBAAS;AACjC,6DAA6D,kBAAQ;AACrE;AACA;;;AClDqC;AACW;AACD;AACF;AACL;AACH;AACF;AACgB;AACC;;AAEpD;AACA;AACA,SAAS,kBAAa;AACtB;AACA;;AAEA,SAAS,kBAAa;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS,qBAAgB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,gBAAW;AAC1B,eAAe,kBAAa;AAC5B,eAAe,kBAAa;AAC5B;AACA;AACA,kBAAkB,qBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,eAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC,gDAAgD;AACvF,oDAAoD,8CAA8C;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,mBAAmB,4BAA4B;AAC/C;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,iFAAiF,uBAAuB;AACxG;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,qBAAqB;AAC/D,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AC9b0C;AACoE;;;ACDrF;AACD;AACC;AACA;AACA;AACE;AACC;AACA;AACJ;AACD;AACC;AACC;AACA;AACC;AACH;AACM;AACE;AACP;AACG;AACC;AACF;AACD;AACU;AACN;AACJ;AACD;AACO;AACN;AACK;AACN&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-array/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-axis/src/identity.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-axis/src/axis.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-axis/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selector.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/select.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/array.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selectorAll.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/selectAll.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/matcher.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/selectChild.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/selectChildren.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/filter.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/sparse.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/enter.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/constant.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/data.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/exit.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/join.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/merge.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/order.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/sort.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/call.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/nodes.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/node.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/size.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/empty.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/each.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/namespaces.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/namespace.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/attr.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/window.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/style.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/property.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/classed.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/text.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/html.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/raise.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/lower.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/creator.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/append.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/insert.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/remove.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/clone.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/datum.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/on.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/dispatch.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/iterator.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/selection/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-timer/src/timeout.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/schedule.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/interrupt.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/selection/interrupt.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/tween.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/interpolate.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/attr.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/attrTween.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/delay.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/duration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/ease.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/easeVarying.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/filter.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/merge.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/on.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/remove.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/select.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/selectAll.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/selection.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/style.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/styleTween.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/text.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/textTween.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/transition.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/end.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/transition/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-ease/src/cubic.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/selection/transition.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/selection/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-transition/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-brush/src/brush.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-brush/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/band.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale-chromatic/src/categorical/Tableau10.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale-chromatic/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/select.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-selection/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/descending.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/identity.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/pie.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/bump.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time-format/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-zoom/src/transform.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-zoom/src/zoom.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-zoom/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3/src/index.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;export {default as bisect, bisectRight, bisectLeft, bisectCenter} from </span><span class="s3">\&quot;</span><span class="s1">./bisect.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as ascending} from </span><span class="s3">\&quot;</span><span class="s1">./ascending.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as bisector} from </span><span class="s3">\&quot;</span><span class="s1">./bisector.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {blur, blur2, blurImage} from </span><span class="s3">\&quot;</span><span class="s1">./blur.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as count} from </span><span class="s3">\&quot;</span><span class="s1">./count.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as cross} from </span><span class="s3">\&quot;</span><span class="s1">./cross.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as cumsum} from </span><span class="s3">\&quot;</span><span class="s1">./cumsum.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as descending} from </span><span class="s3">\&quot;</span><span class="s1">./descending.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as deviation} from </span><span class="s3">\&quot;</span><span class="s1">./deviation.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as extent} from </span><span class="s3">\&quot;</span><span class="s1">./extent.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {Adder, fsum, fcumsum} from </span><span class="s3">\&quot;</span><span class="s1">./fsum.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as group, flatGroup, flatRollup, groups, index, indexes, rollup, rollups} from </span><span class="s3">\&quot;</span><span class="s1">./group.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as groupSort} from </span><span class="s3">\&quot;</span><span class="s1">./groupSort.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as bin, default as histogram} from </span><span class="s3">\&quot;</span><span class="s1">./bin.js</span><span class="s3">\&quot;</span><span class="s1">; // Deprecated; use bin.</span><span class="s3">\n</span><span class="s1">export {default as thresholdFreedmanDiaconis} from </span><span class="s3">\&quot;</span><span class="s1">./threshold/freedmanDiaconis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as thresholdScott} from </span><span class="s3">\&quot;</span><span class="s1">./threshold/scott.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as thresholdSturges} from </span><span class="s3">\&quot;</span><span class="s1">./threshold/sturges.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as max} from </span><span class="s3">\&quot;</span><span class="s1">./max.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as maxIndex} from </span><span class="s3">\&quot;</span><span class="s1">./maxIndex.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as mean} from </span><span class="s3">\&quot;</span><span class="s1">./mean.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as median, medianIndex} from </span><span class="s3">\&quot;</span><span class="s1">./median.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as merge} from </span><span class="s3">\&quot;</span><span class="s1">./merge.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as min} from </span><span class="s3">\&quot;</span><span class="s1">./min.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as minIndex} from </span><span class="s3">\&quot;</span><span class="s1">./minIndex.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as mode} from </span><span class="s3">\&quot;</span><span class="s1">./mode.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as nice} from </span><span class="s3">\&quot;</span><span class="s1">./nice.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as pairs} from </span><span class="s3">\&quot;</span><span class="s1">./pairs.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as permute} from </span><span class="s3">\&quot;</span><span class="s1">./permute.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as quantile, quantileIndex, quantileSorted} from </span><span class="s3">\&quot;</span><span class="s1">./quantile.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as quickselect} from </span><span class="s3">\&quot;</span><span class="s1">./quickselect.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as range} from </span><span class="s3">\&quot;</span><span class="s1">./range.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as rank} from </span><span class="s3">\&quot;</span><span class="s1">./rank.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as least} from </span><span class="s3">\&quot;</span><span class="s1">./least.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as leastIndex} from </span><span class="s3">\&quot;</span><span class="s1">./leastIndex.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as greatest} from </span><span class="s3">\&quot;</span><span class="s1">./greatest.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as greatestIndex} from </span><span class="s3">\&quot;</span><span class="s1">./greatestIndex.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as scan} from </span><span class="s3">\&quot;</span><span class="s1">./scan.js</span><span class="s3">\&quot;</span><span class="s1">; // Deprecated; use leastIndex.</span><span class="s3">\n</span><span class="s1">export {default as shuffle, shuffler} from </span><span class="s3">\&quot;</span><span class="s1">./shuffle.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as sum} from </span><span class="s3">\&quot;</span><span class="s1">./sum.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as ticks, tickIncrement, tickStep} from </span><span class="s3">\&quot;</span><span class="s1">./ticks.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as transpose} from </span><span class="s3">\&quot;</span><span class="s1">./transpose.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as variance} from </span><span class="s3">\&quot;</span><span class="s1">./variance.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as zip} from </span><span class="s3">\&quot;</span><span class="s1">./zip.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as every} from </span><span class="s3">\&quot;</span><span class="s1">./every.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as some} from </span><span class="s3">\&quot;</span><span class="s1">./some.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as filter} from </span><span class="s3">\&quot;</span><span class="s1">./filter.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as map} from </span><span class="s3">\&quot;</span><span class="s1">./map.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as reduce} from </span><span class="s3">\&quot;</span><span class="s1">./reduce.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as reverse} from </span><span class="s3">\&quot;</span><span class="s1">./reverse.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as sort} from </span><span class="s3">\&quot;</span><span class="s1">./sort.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as difference} from </span><span class="s3">\&quot;</span><span class="s1">./difference.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as disjoint} from </span><span class="s3">\&quot;</span><span class="s1">./disjoint.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as intersection} from </span><span class="s3">\&quot;</span><span class="s1">./intersection.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as subset} from </span><span class="s3">\&quot;</span><span class="s1">./subset.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as superset} from </span><span class="s3">\&quot;</span><span class="s1">./superset.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as union} from </span><span class="s3">\&quot;</span><span class="s1">./union.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {InternMap, InternSet} from </span><span class="s3">\&quot;</span><span class="s1">internmap</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(x) {</span><span class="s3">\n  </span><span class="s1">return x;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import identity from </span><span class="s3">\&quot;</span><span class="s1">./identity.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var top = 1,</span><span class="s3">\n    </span><span class="s1">right = 2,</span><span class="s3">\n    </span><span class="s1">bottom = 3,</span><span class="s3">\n    </span><span class="s1">left = 4,</span><span class="s3">\n    </span><span class="s1">epsilon = 1e-6;</span><span class="s3">\n\n</span><span class="s1">function translateX(x) {</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ x + </span><span class="s3">\&quot;</span><span class="s1">,0)</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function translateY(y) {</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">translate(0,</span><span class="s3">\&quot; </span><span class="s1">+ y + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function number(scale) {</span><span class="s3">\n  </span><span class="s1">return d =&gt; +scale(d);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function center(scale, offset) {</span><span class="s3">\n  </span><span class="s1">offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;</span><span class="s3">\n  </span><span class="s1">if (scale.round()) offset = Math.round(offset);</span><span class="s3">\n  </span><span class="s1">return d =&gt; +scale(d) + offset;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function entering() {</span><span class="s3">\n  </span><span class="s1">return !this.__axis;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function axis(orient, scale) {</span><span class="s3">\n  </span><span class="s1">var tickArguments = [],</span><span class="s3">\n      </span><span class="s1">tickValues = null,</span><span class="s3">\n      </span><span class="s1">tickFormat = null,</span><span class="s3">\n      </span><span class="s1">tickSizeInner = 6,</span><span class="s3">\n      </span><span class="s1">tickSizeOuter = 6,</span><span class="s3">\n      </span><span class="s1">tickPadding = 3,</span><span class="s3">\n      </span><span class="s1">offset = typeof window !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; window.devicePixelRatio &gt; 1 ? 0 : 0.5,</span><span class="s3">\n      </span><span class="s1">k = orient === top || orient === left ? -1 : 1,</span><span class="s3">\n      </span><span class="s1">x = orient === left || orient === right ? </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">transform = orient === top || orient === bottom ? translateX : translateY;</span><span class="s3">\n\n  </span><span class="s1">function axis(context) {</span><span class="s3">\n    </span><span class="s1">var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,</span><span class="s3">\n        </span><span class="s1">format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,</span><span class="s3">\n        </span><span class="s1">spacing = Math.max(tickSizeInner, 0) + tickPadding,</span><span class="s3">\n        </span><span class="s1">range = scale.range(),</span><span class="s3">\n        </span><span class="s1">range0 = +range[0] + offset,</span><span class="s3">\n        </span><span class="s1">range1 = +range[range.length - 1] + offset,</span><span class="s3">\n        </span><span class="s1">position = (scale.bandwidth ? center : number)(scale.copy(), offset),</span><span class="s3">\n        </span><span class="s1">selection = context.selection ? context.selection() : context,</span><span class="s3">\n        </span><span class="s1">path = selection.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.domain</span><span class="s3">\&quot;</span><span class="s1">).data([null]),</span><span class="s3">\n        </span><span class="s1">tick = selection.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.tick</span><span class="s3">\&quot;</span><span class="s1">).data(values, scale).order(),</span><span class="s3">\n        </span><span class="s1">tickExit = tick.exit(),</span><span class="s3">\n        </span><span class="s1">tickEnter = tick.enter().append(</span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">).attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">tick</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n        </span><span class="s1">line = tick.select(</span><span class="s3">\&quot;</span><span class="s1">line</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n        </span><span class="s1">text = tick.select(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">path = path.merge(path.enter().insert(</span><span class="s3">\&quot;</span><span class="s1">path</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">.tick</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">domain</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">currentColor</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n\n    </span><span class="s1">tick = tick.merge(tickEnter);</span><span class="s3">\n\n    </span><span class="s1">line = line.merge(tickEnter.append(</span><span class="s3">\&quot;</span><span class="s1">line</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">currentColor</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(x + </span><span class="s3">\&quot;</span><span class="s1">2</span><span class="s3">\&quot;</span><span class="s1">, k * tickSizeInner));</span><span class="s3">\n\n    </span><span class="s1">text = text.merge(tickEnter.append(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">currentColor</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(x, k * spacing)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">dy</span><span class="s3">\&quot;</span><span class="s1">, orient === top ? </span><span class="s3">\&quot;</span><span class="s1">0em</span><span class="s3">\&quot; </span><span class="s1">: orient === bottom ? </span><span class="s3">\&quot;</span><span class="s1">0.71em</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0.32em</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n\n    </span><span class="s1">if (context !== selection) {</span><span class="s3">\n      </span><span class="s1">path = path.transition(context);</span><span class="s3">\n      </span><span class="s1">tick = tick.transition(context);</span><span class="s3">\n      </span><span class="s1">line = line.transition(context);</span><span class="s3">\n      </span><span class="s1">text = text.transition(context);</span><span class="s3">\n\n      </span><span class="s1">tickExit = tickExit.transition(context)</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">opacity</span><span class="s3">\&quot;</span><span class="s1">, epsilon)</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">); });</span><span class="s3">\n\n      </span><span class="s1">tickEnter</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">opacity</span><span class="s3">\&quot;</span><span class="s1">, epsilon)</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, function(d) { var p = this.parentNode.__axis; return transform((p &amp;&amp; isFinite(p = p(d)) ? p : position(d)) + offset); });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">tickExit.remove();</span><span class="s3">\n\n    </span><span class="s1">path</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">, orient === left || orient === right</span><span class="s3">\n            </span><span class="s1">? (tickSizeOuter ? </span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot; </span><span class="s1">+ k * tickSizeOuter + </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">+ range0 + </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot; </span><span class="s1">+ offset + </span><span class="s3">\&quot;</span><span class="s1">V</span><span class="s3">\&quot; </span><span class="s1">+ range1 + </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot; </span><span class="s1">+ k * tickSizeOuter : </span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot; </span><span class="s1">+ offset + </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">+ range0 + </span><span class="s3">\&quot;</span><span class="s1">V</span><span class="s3">\&quot; </span><span class="s1">+ range1)</span><span class="s3">\n            </span><span class="s1">: (tickSizeOuter ? </span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot; </span><span class="s1">+ range0 + </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">+ k * tickSizeOuter + </span><span class="s3">\&quot;</span><span class="s1">V</span><span class="s3">\&quot; </span><span class="s1">+ offset + </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot; </span><span class="s1">+ range1 + </span><span class="s3">\&quot;</span><span class="s1">V</span><span class="s3">\&quot; </span><span class="s1">+ k * tickSizeOuter : </span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot; </span><span class="s1">+ range0 + </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">+ offset + </span><span class="s3">\&quot;</span><span class="s1">H</span><span class="s3">\&quot; </span><span class="s1">+ range1));</span><span class="s3">\n\n    </span><span class="s1">tick</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">opacity</span><span class="s3">\&quot;</span><span class="s1">, 1)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, function(d) { return transform(position(d) + offset); });</span><span class="s3">\n\n    </span><span class="s1">line</span><span class="s3">\n        </span><span class="s1">.attr(x + </span><span class="s3">\&quot;</span><span class="s1">2</span><span class="s3">\&quot;</span><span class="s1">, k * tickSizeInner);</span><span class="s3">\n\n    </span><span class="s1">text</span><span class="s3">\n        </span><span class="s1">.attr(x, k * spacing)</span><span class="s3">\n        </span><span class="s1">.text(format);</span><span class="s3">\n\n    </span><span class="s1">selection.filter(entering)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">font-size</span><span class="s3">\&quot;</span><span class="s1">, 10)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">font-family</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">sans-serif</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">text-anchor</span><span class="s3">\&quot;</span><span class="s1">, orient === right ? </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot; </span><span class="s1">: orient === left ? </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">middle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">selection</span><span class="s3">\n        </span><span class="s1">.each(function() { this.__axis = position; });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">axis.scale = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (scale = _, axis) : scale;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">axis.ticks = function() {</span><span class="s3">\n    </span><span class="s1">return tickArguments = Array.from(arguments), axis;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">axis.tickArguments = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">axis.tickValues = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues &amp;&amp; tickValues.slice();</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">axis.tickFormat = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (tickFormat = _, axis) : tickFormat;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">axis.tickSize = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">axis.tickSizeInner = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">axis.tickSizeOuter = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">axis.tickPadding = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (tickPadding = +_, axis) : tickPadding;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">axis.offset = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (offset = +_, axis) : offset;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return axis;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function axisTop(scale) {</span><span class="s3">\n  </span><span class="s1">return axis(top, scale);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function axisRight(scale) {</span><span class="s3">\n  </span><span class="s1">return axis(right, scale);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function axisBottom(scale) {</span><span class="s3">\n  </span><span class="s1">return axis(bottom, scale);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function axisLeft(scale) {</span><span class="s3">\n  </span><span class="s1">return axis(left, scale);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export {</span><span class="s3">\n  </span><span class="s1">axisTop,</span><span class="s3">\n  </span><span class="s1">axisRight,</span><span class="s3">\n  </span><span class="s1">axisBottom,</span><span class="s3">\n  </span><span class="s1">axisLeft</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./axis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function none() {}</span><span class="s3">\n\n</span><span class="s1">export default function(selector) {</span><span class="s3">\n  </span><span class="s1">return selector == null ? none : function() {</span><span class="s3">\n    </span><span class="s1">return this.querySelector(selector);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Selection} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selector from </span><span class="s3">\&quot;</span><span class="s1">../selector.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(select) {</span><span class="s3">\n  </span><span class="s1">if (typeof select !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) select = selector(select);</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if ((node = group[i]) &amp;&amp; (subnode = select.call(node, node.__data__, i, group))) {</span><span class="s3">\n        </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">__data__</span><span class="s3">\&quot; </span><span class="s1">in node) subnode.__data__ = node.__data__;</span><span class="s3">\n        </span><span class="s1">subgroup[i] = subnode;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Selection(subgroups, this._parents);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Given something array like (or null), returns something that is strictly an</span><span class="s3">\n</span><span class="s1">// array. This is used to ensure that array-like objects passed to d3.selectAll</span><span class="s3">\n</span><span class="s1">// or selection.selectAll are converted into proper arrays when creating a</span><span class="s3">\n</span><span class="s1">// selection; we don’t ever want to create a selection backed by a live</span><span class="s3">\n</span><span class="s1">// HTMLCollection or NodeList. However, note that selection.selectAll will use a</span><span class="s3">\n</span><span class="s1">// static NodeList as a group, since it safely derived from querySelectorAll.</span><span class="s3">\n</span><span class="s1">export default function array(x) {</span><span class="s3">\n  </span><span class="s1">return x == null ? [] : Array.isArray(x) ? x : Array.from(x);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function empty() {</span><span class="s3">\n  </span><span class="s1">return [];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(selector) {</span><span class="s3">\n  </span><span class="s1">return selector == null ? empty : function() {</span><span class="s3">\n    </span><span class="s1">return this.querySelectorAll(selector);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Selection} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import array from </span><span class="s3">\&quot;</span><span class="s1">../array.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selectorAll from </span><span class="s3">\&quot;</span><span class="s1">../selectorAll.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function arrayAll(select) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return array(select.apply(this, arguments));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(select) {</span><span class="s3">\n  </span><span class="s1">if (typeof select === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) select = arrayAll(select);</span><span class="s3">\n  </span><span class="s1">else select = selectorAll(select);</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], n = group.length, node, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (node = group[i]) {</span><span class="s3">\n        </span><span class="s1">subgroups.push(select.call(node, node.__data__, i, group));</span><span class="s3">\n        </span><span class="s1">parents.push(node);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Selection(subgroups, parents);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(selector) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return this.matches(selector);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function childMatcher(selector) {</span><span class="s3">\n  </span><span class="s1">return function(node) {</span><span class="s3">\n    </span><span class="s1">return node.matches(selector);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {childMatcher} from </span><span class="s3">\&quot;</span><span class="s1">../matcher.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var find = Array.prototype.find;</span><span class="s3">\n\n</span><span class="s1">function childFind(match) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return find.call(this.children, match);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function childFirst() {</span><span class="s3">\n  </span><span class="s1">return this.firstElementChild;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(match) {</span><span class="s3">\n  </span><span class="s1">return this.select(match == null ? childFirst</span><span class="s3">\n      </span><span class="s1">: childFind(typeof match === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? match : childMatcher(match)));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {childMatcher} from </span><span class="s3">\&quot;</span><span class="s1">../matcher.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var filter = Array.prototype.filter;</span><span class="s3">\n\n</span><span class="s1">function children() {</span><span class="s3">\n  </span><span class="s1">return Array.from(this.children);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function childrenFilter(match) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return filter.call(this.children, match);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(match) {</span><span class="s3">\n  </span><span class="s1">return this.selectAll(match == null ? children</span><span class="s3">\n      </span><span class="s1">: childrenFilter(typeof match === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? match : childMatcher(match)));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Selection} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import matcher from </span><span class="s3">\&quot;</span><span class="s1">../matcher.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(match) {</span><span class="s3">\n  </span><span class="s1">if (typeof match !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) match = matcher(match);</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if ((node = group[i]) &amp;&amp; match.call(node, node.__data__, i, group)) {</span><span class="s3">\n        </span><span class="s1">subgroup.push(node);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Selection(subgroups, this._parents);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(update) {</span><span class="s3">\n  </span><span class="s1">return new Array(update.length);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import sparse from </span><span class="s3">\&quot;</span><span class="s1">./sparse.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {Selection} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">return new Selection(this._enter || this._groups.map(sparse), this._parents);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function EnterNode(parent, datum) {</span><span class="s3">\n  </span><span class="s1">this.ownerDocument = parent.ownerDocument;</span><span class="s3">\n  </span><span class="s1">this.namespaceURI = parent.namespaceURI;</span><span class="s3">\n  </span><span class="s1">this._next = null;</span><span class="s3">\n  </span><span class="s1">this._parent = parent;</span><span class="s3">\n  </span><span class="s1">this.__data__ = datum;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">EnterNode.prototype = {</span><span class="s3">\n  </span><span class="s1">constructor: EnterNode,</span><span class="s3">\n  </span><span class="s1">appendChild: function(child) { return this._parent.insertBefore(child, this._next); },</span><span class="s3">\n  </span><span class="s1">insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },</span><span class="s3">\n  </span><span class="s1">querySelector: function(selector) { return this._parent.querySelector(selector); },</span><span class="s3">\n  </span><span class="s1">querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(x) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return x;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Selection} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {EnterNode} from </span><span class="s3">\&quot;</span><span class="s1">./enter.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import constant from </span><span class="s3">\&quot;</span><span class="s1">../constant.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function bindIndex(parent, group, enter, update, exit, data) {</span><span class="s3">\n  </span><span class="s1">var i = 0,</span><span class="s3">\n      </span><span class="s1">node,</span><span class="s3">\n      </span><span class="s1">groupLength = group.length,</span><span class="s3">\n      </span><span class="s1">dataLength = data.length;</span><span class="s3">\n\n  </span><span class="s1">// Put any non-null nodes that fit into update.</span><span class="s3">\n  </span><span class="s1">// Put any null nodes into enter.</span><span class="s3">\n  </span><span class="s1">// Put any remaining data into enter.</span><span class="s3">\n  </span><span class="s1">for (; i &lt; dataLength; ++i) {</span><span class="s3">\n    </span><span class="s1">if (node = group[i]) {</span><span class="s3">\n      </span><span class="s1">node.__data__ = data[i];</span><span class="s3">\n      </span><span class="s1">update[i] = node;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">enter[i] = new EnterNode(parent, data[i]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Put any non-null nodes that don’t fit into exit.</span><span class="s3">\n  </span><span class="s1">for (; i &lt; groupLength; ++i) {</span><span class="s3">\n    </span><span class="s1">if (node = group[i]) {</span><span class="s3">\n      </span><span class="s1">exit[i] = node;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function bindKey(parent, group, enter, update, exit, data, key) {</span><span class="s3">\n  </span><span class="s1">var i,</span><span class="s3">\n      </span><span class="s1">node,</span><span class="s3">\n      </span><span class="s1">nodeByKeyValue = new Map,</span><span class="s3">\n      </span><span class="s1">groupLength = group.length,</span><span class="s3">\n      </span><span class="s1">dataLength = data.length,</span><span class="s3">\n      </span><span class="s1">keyValues = new Array(groupLength),</span><span class="s3">\n      </span><span class="s1">keyValue;</span><span class="s3">\n\n  </span><span class="s1">// Compute the key for each node.</span><span class="s3">\n  </span><span class="s1">// If multiple nodes have the same key, the duplicates are added to exit.</span><span class="s3">\n  </span><span class="s1">for (i = 0; i &lt; groupLength; ++i) {</span><span class="s3">\n    </span><span class="s1">if (node = group[i]) {</span><span class="s3">\n      </span><span class="s1">keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">if (nodeByKeyValue.has(keyValue)) {</span><span class="s3">\n        </span><span class="s1">exit[i] = node;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">nodeByKeyValue.set(keyValue, node);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Compute the key for each datum.</span><span class="s3">\n  </span><span class="s1">// If there a node associated with this key, join and add it to update.</span><span class="s3">\n  </span><span class="s1">// If there is not (or the key is a duplicate), add it to enter.</span><span class="s3">\n  </span><span class="s1">for (i = 0; i &lt; dataLength; ++i) {</span><span class="s3">\n    </span><span class="s1">keyValue = key.call(parent, data[i], i, data) + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">if (node = nodeByKeyValue.get(keyValue)) {</span><span class="s3">\n      </span><span class="s1">update[i] = node;</span><span class="s3">\n      </span><span class="s1">node.__data__ = data[i];</span><span class="s3">\n      </span><span class="s1">nodeByKeyValue.delete(keyValue);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">enter[i] = new EnterNode(parent, data[i]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Add any remaining nodes that were not bound to data to exit.</span><span class="s3">\n  </span><span class="s1">for (i = 0; i &lt; groupLength; ++i) {</span><span class="s3">\n    </span><span class="s1">if ((node = group[i]) &amp;&amp; (nodeByKeyValue.get(keyValues[i]) === node)) {</span><span class="s3">\n      </span><span class="s1">exit[i] = node;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function datum(node) {</span><span class="s3">\n  </span><span class="s1">return node.__data__;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(value, key) {</span><span class="s3">\n  </span><span class="s1">if (!arguments.length) return Array.from(this, datum);</span><span class="s3">\n\n  </span><span class="s1">var bind = key ? bindKey : bindIndex,</span><span class="s3">\n      </span><span class="s1">parents = this._parents,</span><span class="s3">\n      </span><span class="s1">groups = this._groups;</span><span class="s3">\n\n  </span><span class="s1">if (typeof value !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) value = constant(value);</span><span class="s3">\n\n  </span><span class="s1">for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">var parent = parents[j],</span><span class="s3">\n        </span><span class="s1">group = groups[j],</span><span class="s3">\n        </span><span class="s1">groupLength = group.length,</span><span class="s3">\n        </span><span class="s1">data = arraylike(value.call(parent, parent &amp;&amp; parent.__data__, j, parents)),</span><span class="s3">\n        </span><span class="s1">dataLength = data.length,</span><span class="s3">\n        </span><span class="s1">enterGroup = enter[j] = new Array(dataLength),</span><span class="s3">\n        </span><span class="s1">updateGroup = update[j] = new Array(dataLength),</span><span class="s3">\n        </span><span class="s1">exitGroup = exit[j] = new Array(groupLength);</span><span class="s3">\n\n    </span><span class="s1">bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);</span><span class="s3">\n\n    </span><span class="s1">// Now connect the enter nodes to their following update node, such that</span><span class="s3">\n    </span><span class="s1">// appendChild can insert the materialized enter node before this node,</span><span class="s3">\n    </span><span class="s1">// rather than at the end of the parent node.</span><span class="s3">\n    </span><span class="s1">for (var i0 = 0, i1 = 0, previous, next; i0 &lt; dataLength; ++i0) {</span><span class="s3">\n      </span><span class="s1">if (previous = enterGroup[i0]) {</span><span class="s3">\n        </span><span class="s1">if (i0 &gt;= i1) i1 = i0 + 1;</span><span class="s3">\n        </span><span class="s1">while (!(next = updateGroup[i1]) &amp;&amp; ++i1 &lt; dataLength);</span><span class="s3">\n        </span><span class="s1">previous._next = next || null;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">update = new Selection(update, parents);</span><span class="s3">\n  </span><span class="s1">update._enter = enter;</span><span class="s3">\n  </span><span class="s1">update._exit = exit;</span><span class="s3">\n  </span><span class="s1">return update;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Given some data, this returns an array-like view of it: an object that</span><span class="s3">\n</span><span class="s1">// exposes a length property and allows numeric indexing. Note that unlike</span><span class="s3">\n</span><span class="s1">// selectAll, this isn’t worried about “live” collections because the resulting</span><span class="s3">\n</span><span class="s1">// array will only be used briefly while data is being bound. (It is possible to</span><span class="s3">\n</span><span class="s1">// cause the data to change while iterating by using a key function, but please</span><span class="s3">\n</span><span class="s1">// don’t; we’d rather avoid a gratuitous copy.)</span><span class="s3">\n</span><span class="s1">function arraylike(data) {</span><span class="s3">\n  </span><span class="s1">return typeof data === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">length</span><span class="s3">\&quot; </span><span class="s1">in data</span><span class="s3">\n    </span><span class="s1">? data // Array, TypedArray, NodeList, array-like</span><span class="s3">\n    </span><span class="s1">: Array.from(data); // Map, Set, iterable, string, or anything else</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import sparse from </span><span class="s3">\&quot;</span><span class="s1">./sparse.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {Selection} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">return new Selection(this._exit || this._groups.map(sparse), this._parents);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(onenter, onupdate, onexit) {</span><span class="s3">\n  </span><span class="s1">var enter = this.enter(), update = this, exit = this.exit();</span><span class="s3">\n  </span><span class="s1">if (typeof onenter === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">enter = onenter(enter);</span><span class="s3">\n    </span><span class="s1">if (enter) enter = enter.selection();</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">enter = enter.append(onenter + </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (onupdate != null) {</span><span class="s3">\n    </span><span class="s1">update = onupdate(update);</span><span class="s3">\n    </span><span class="s1">if (update) update = update.selection();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (onexit == null) exit.remove(); else onexit(exit);</span><span class="s3">\n  </span><span class="s1">return enter &amp;&amp; update ? enter.merge(update).order() : update;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Selection} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(context) {</span><span class="s3">\n  </span><span class="s1">var selection = context.selection ? context.selection() : context;</span><span class="s3">\n\n  </span><span class="s1">for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (node = group0[i] || group1[i]) {</span><span class="s3">\n        </span><span class="s1">merge[i] = node;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">for (; j &lt; m0; ++j) {</span><span class="s3">\n    </span><span class="s1">merges[j] = groups0[j];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Selection(merges, this._parents);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function() {</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, j = -1, m = groups.length; ++j &lt; m;) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], i = group.length - 1, next = group[i], node; --i &gt;= 0;) {</span><span class="s3">\n      </span><span class="s1">if (node = group[i]) {</span><span class="s3">\n        </span><span class="s1">if (next &amp;&amp; node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);</span><span class="s3">\n        </span><span class="s1">next = node;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Selection} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(compare) {</span><span class="s3">\n  </span><span class="s1">if (!compare) compare = ascending;</span><span class="s3">\n\n  </span><span class="s1">function compareNode(a, b) {</span><span class="s3">\n    </span><span class="s1">return a &amp;&amp; b ? compare(a.__data__, b.__data__) : !a - !b;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (node = group[i]) {</span><span class="s3">\n        </span><span class="s1">sortgroup[i] = node;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">sortgroup.sort(compareNode);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Selection(sortgroups, this._parents).order();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function ascending(a, b) {</span><span class="s3">\n  </span><span class="s1">return a &lt; b ? -1 : a &gt; b ? 1 : a &gt;= b ? 0 : NaN;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function() {</span><span class="s3">\n  </span><span class="s1">var callback = arguments[0];</span><span class="s3">\n  </span><span class="s1">arguments[0] = this;</span><span class="s3">\n  </span><span class="s1">callback.apply(null, arguments);</span><span class="s3">\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function() {</span><span class="s3">\n  </span><span class="s1">return Array.from(this);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function() {</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, j = 0, m = groups.length; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], i = 0, n = group.length; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">var node = group[i];</span><span class="s3">\n      </span><span class="s1">if (node) return node;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function() {</span><span class="s3">\n  </span><span class="s1">let size = 0;</span><span class="s3">\n  </span><span class="s1">for (const node of this) ++size; // eslint-disable-line no-unused-vars</span><span class="s3">\n  </span><span class="s1">return size;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function() {</span><span class="s3">\n  </span><span class="s1">return !this.node();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(callback) {</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, j = 0, m = groups.length; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], i = 0, n = group.length, node; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (node = group[i]) callback.call(node, node.__data__, i, group);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export var xhtml = </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1999/xhtml</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default {</span><span class="s3">\n  </span><span class="s1">svg: </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xhtml: xhtml,</span><span class="s3">\n  </span><span class="s1">xlink: </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/1999/xlink</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xml: </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/XML/1998/namespace</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">xmlns: </span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/xmlns/</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import namespaces from </span><span class="s3">\&quot;</span><span class="s1">./namespaces.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(name) {</span><span class="s3">\n  </span><span class="s1">var prefix = name += </span><span class="s3">\&quot;\&quot;</span><span class="s1">, i = prefix.indexOf(</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (i &gt;= 0 &amp;&amp; (prefix = name.slice(0, i)) !== </span><span class="s3">\&quot;</span><span class="s1">xmlns</span><span class="s3">\&quot;</span><span class="s1">) name = name.slice(i + 1);</span><span class="s3">\n  </span><span class="s1">return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import namespace from </span><span class="s3">\&quot;</span><span class="s1">../namespace.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function attrRemove(name) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.removeAttribute(name);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrRemoveNS(fullname) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.removeAttributeNS(fullname.space, fullname.local);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrConstant(name, value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.setAttribute(name, value);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrConstantNS(fullname, value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.setAttributeNS(fullname.space, fullname.local, value);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrFunction(name, value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var v = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">if (v == null) this.removeAttribute(name);</span><span class="s3">\n    </span><span class="s1">else this.setAttribute(name, v);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrFunctionNS(fullname, value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var v = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">if (v == null) this.removeAttributeNS(fullname.space, fullname.local);</span><span class="s3">\n    </span><span class="s1">else this.setAttributeNS(fullname.space, fullname.local, v);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, value) {</span><span class="s3">\n  </span><span class="s1">var fullname = namespace(name);</span><span class="s3">\n\n  </span><span class="s1">if (arguments.length &lt; 2) {</span><span class="s3">\n    </span><span class="s1">var node = this.node();</span><span class="s3">\n    </span><span class="s1">return fullname.local</span><span class="s3">\n        </span><span class="s1">? node.getAttributeNS(fullname.space, fullname.local)</span><span class="s3">\n        </span><span class="s1">: node.getAttribute(fullname);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return this.each((value == null</span><span class="s3">\n      </span><span class="s1">? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n      </span><span class="s1">? (fullname.local ? attrFunctionNS : attrFunction)</span><span class="s3">\n      </span><span class="s1">: (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(node) {</span><span class="s3">\n  </span><span class="s1">return (node.ownerDocument &amp;&amp; node.ownerDocument.defaultView) // node is a Node</span><span class="s3">\n      </span><span class="s1">|| (node.document &amp;&amp; node) // node is a Window</span><span class="s3">\n      </span><span class="s1">|| node.defaultView; // node is a Document</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import defaultView from </span><span class="s3">\&quot;</span><span class="s1">../window.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function styleRemove(name) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.style.removeProperty(name);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function styleConstant(name, value, priority) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.style.setProperty(name, value, priority);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function styleFunction(name, value, priority) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var v = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">if (v == null) this.style.removeProperty(name);</span><span class="s3">\n    </span><span class="s1">else this.style.setProperty(name, v, priority);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, value, priority) {</span><span class="s3">\n  </span><span class="s1">return arguments.length &gt; 1</span><span class="s3">\n      </span><span class="s1">? this.each((value == null</span><span class="s3">\n            </span><span class="s1">? styleRemove : typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n            </span><span class="s1">? styleFunction</span><span class="s3">\n            </span><span class="s1">: styleConstant)(name, value, priority == null ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: priority))</span><span class="s3">\n      </span><span class="s1">: styleValue(this.node(), name);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function styleValue(node, name) {</span><span class="s3">\n  </span><span class="s1">return node.style.getPropertyValue(name)</span><span class="s3">\n      </span><span class="s1">|| defaultView(node).getComputedStyle(node, null).getPropertyValue(name);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function propertyRemove(name) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">delete this[name];</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function propertyConstant(name, value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this[name] = value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function propertyFunction(name, value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var v = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">if (v == null) delete this[name];</span><span class="s3">\n    </span><span class="s1">else this[name] = v;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, value) {</span><span class="s3">\n  </span><span class="s1">return arguments.length &gt; 1</span><span class="s3">\n      </span><span class="s1">? this.each((value == null</span><span class="s3">\n          </span><span class="s1">? propertyRemove : typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n          </span><span class="s1">? propertyFunction</span><span class="s3">\n          </span><span class="s1">: propertyConstant)(name, value))</span><span class="s3">\n      </span><span class="s1">: this.node()[name];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function classArray(string) {</span><span class="s3">\n  </span><span class="s1">return string.trim().split(/^|</span><span class="s3">\\</span><span class="s1">s+/);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function classList(node) {</span><span class="s3">\n  </span><span class="s1">return node.classList || new ClassList(node);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function ClassList(node) {</span><span class="s3">\n  </span><span class="s1">this._node = node;</span><span class="s3">\n  </span><span class="s1">this._names = classArray(node.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">) || </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">ClassList.prototype = {</span><span class="s3">\n  </span><span class="s1">add: function(name) {</span><span class="s3">\n    </span><span class="s1">var i = this._names.indexOf(name);</span><span class="s3">\n    </span><span class="s1">if (i &lt; 0) {</span><span class="s3">\n      </span><span class="s1">this._names.push(name);</span><span class="s3">\n      </span><span class="s1">this._node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, this._names.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">remove: function(name) {</span><span class="s3">\n    </span><span class="s1">var i = this._names.indexOf(name);</span><span class="s3">\n    </span><span class="s1">if (i &gt;= 0) {</span><span class="s3">\n      </span><span class="s1">this._names.splice(i, 1);</span><span class="s3">\n      </span><span class="s1">this._node.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, this._names.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">contains: function(name) {</span><span class="s3">\n    </span><span class="s1">return this._names.indexOf(name) &gt;= 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">function classedAdd(node, names) {</span><span class="s3">\n  </span><span class="s1">var list = classList(node), i = -1, n = names.length;</span><span class="s3">\n  </span><span class="s1">while (++i &lt; n) list.add(names[i]);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function classedRemove(node, names) {</span><span class="s3">\n  </span><span class="s1">var list = classList(node), i = -1, n = names.length;</span><span class="s3">\n  </span><span class="s1">while (++i &lt; n) list.remove(names[i]);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function classedTrue(names) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">classedAdd(this, names);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function classedFalse(names) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">classedRemove(this, names);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function classedFunction(names, value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">(value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, value) {</span><span class="s3">\n  </span><span class="s1">var names = classArray(name + </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n\n  </span><span class="s1">if (arguments.length &lt; 2) {</span><span class="s3">\n    </span><span class="s1">var list = classList(this.node()), i = -1, n = names.length;</span><span class="s3">\n    </span><span class="s1">while (++i &lt; n) if (!list.contains(names[i])) return false;</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return this.each((typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n      </span><span class="s1">? classedFunction : value</span><span class="s3">\n      </span><span class="s1">? classedTrue</span><span class="s3">\n      </span><span class="s1">: classedFalse)(names, value));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function textRemove() {</span><span class="s3">\n  </span><span class="s1">this.textContent = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function textConstant(value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.textContent = value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function textFunction(value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var v = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">this.textContent = v == null ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: v;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(value) {</span><span class="s3">\n  </span><span class="s1">return arguments.length</span><span class="s3">\n      </span><span class="s1">? this.each(value == null</span><span class="s3">\n          </span><span class="s1">? textRemove : (typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n          </span><span class="s1">? textFunction</span><span class="s3">\n          </span><span class="s1">: textConstant)(value))</span><span class="s3">\n      </span><span class="s1">: this.node().textContent;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function htmlRemove() {</span><span class="s3">\n  </span><span class="s1">this.innerHTML = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function htmlConstant(value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.innerHTML = value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function htmlFunction(value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var v = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">this.innerHTML = v == null ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: v;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(value) {</span><span class="s3">\n  </span><span class="s1">return arguments.length</span><span class="s3">\n      </span><span class="s1">? this.each(value == null</span><span class="s3">\n          </span><span class="s1">? htmlRemove : (typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n          </span><span class="s1">? htmlFunction</span><span class="s3">\n          </span><span class="s1">: htmlConstant)(value))</span><span class="s3">\n      </span><span class="s1">: this.node().innerHTML;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function raise() {</span><span class="s3">\n  </span><span class="s1">if (this.nextSibling) this.parentNode.appendChild(this);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">return this.each(raise);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function lower() {</span><span class="s3">\n  </span><span class="s1">if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">return this.each(lower);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import namespace from </span><span class="s3">\&quot;</span><span class="s1">./namespace.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {xhtml} from </span><span class="s3">\&quot;</span><span class="s1">./namespaces.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function creatorInherit(name) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var document = this.ownerDocument,</span><span class="s3">\n        </span><span class="s1">uri = this.namespaceURI;</span><span class="s3">\n    </span><span class="s1">return uri === xhtml &amp;&amp; document.documentElement.namespaceURI === xhtml</span><span class="s3">\n        </span><span class="s1">? document.createElement(name)</span><span class="s3">\n        </span><span class="s1">: document.createElementNS(uri, name);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function creatorFixed(fullname) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return this.ownerDocument.createElementNS(fullname.space, fullname.local);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name) {</span><span class="s3">\n  </span><span class="s1">var fullname = namespace(name);</span><span class="s3">\n  </span><span class="s1">return (fullname.local</span><span class="s3">\n      </span><span class="s1">? creatorFixed</span><span class="s3">\n      </span><span class="s1">: creatorInherit)(fullname);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import creator from </span><span class="s3">\&quot;</span><span class="s1">../creator.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(name) {</span><span class="s3">\n  </span><span class="s1">var create = typeof name === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? name : creator(name);</span><span class="s3">\n  </span><span class="s1">return this.select(function() {</span><span class="s3">\n    </span><span class="s1">return this.appendChild(create.apply(this, arguments));</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import creator from </span><span class="s3">\&quot;</span><span class="s1">../creator.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selector from </span><span class="s3">\&quot;</span><span class="s1">../selector.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function constantNull() {</span><span class="s3">\n  </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, before) {</span><span class="s3">\n  </span><span class="s1">var create = typeof name === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? name : creator(name),</span><span class="s3">\n      </span><span class="s1">select = before == null ? constantNull : typeof before === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? before : selector(before);</span><span class="s3">\n  </span><span class="s1">return this.select(function() {</span><span class="s3">\n    </span><span class="s1">return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function remove() {</span><span class="s3">\n  </span><span class="s1">var parent = this.parentNode;</span><span class="s3">\n  </span><span class="s1">if (parent) parent.removeChild(this);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">return this.each(remove);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function selection_cloneShallow() {</span><span class="s3">\n  </span><span class="s1">var clone = this.cloneNode(false), parent = this.parentNode;</span><span class="s3">\n  </span><span class="s1">return parent ? parent.insertBefore(clone, this.nextSibling) : clone;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function selection_cloneDeep() {</span><span class="s3">\n  </span><span class="s1">var clone = this.cloneNode(true), parent = this.parentNode;</span><span class="s3">\n  </span><span class="s1">return parent ? parent.insertBefore(clone, this.nextSibling) : clone;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(deep) {</span><span class="s3">\n  </span><span class="s1">return this.select(deep ? selection_cloneDeep : selection_cloneShallow);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(value) {</span><span class="s3">\n  </span><span class="s1">return arguments.length</span><span class="s3">\n      </span><span class="s1">? this.property(</span><span class="s3">\&quot;</span><span class="s1">__data__</span><span class="s3">\&quot;</span><span class="s1">, value)</span><span class="s3">\n      </span><span class="s1">: this.node().__data__;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function contextListener(listener) {</span><span class="s3">\n  </span><span class="s1">return function(event) {</span><span class="s3">\n    </span><span class="s1">listener.call(this, event, this.__data__);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseTypenames(typenames) {</span><span class="s3">\n  </span><span class="s1">return typenames.trim().split(/^|</span><span class="s3">\\</span><span class="s1">s+/).map(function(t) {</span><span class="s3">\n    </span><span class="s1">var name = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, i = t.indexOf(</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (i &gt;= 0) name = t.slice(i + 1), t = t.slice(0, i);</span><span class="s3">\n    </span><span class="s1">return {type: t, name: name};</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function onRemove(typename) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var on = this.__on;</span><span class="s3">\n    </span><span class="s1">if (!on) return;</span><span class="s3">\n    </span><span class="s1">for (var j = 0, i = -1, m = on.length, o; j &lt; m; ++j) {</span><span class="s3">\n      </span><span class="s1">if (o = on[j], (!typename.type || o.type === typename.type) &amp;&amp; o.name === typename.name) {</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(o.type, o.listener, o.options);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">on[++i] = o;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (++i) on.length = i;</span><span class="s3">\n    </span><span class="s1">else delete this.__on;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function onAdd(typename, value, options) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var on = this.__on, o, listener = contextListener(value);</span><span class="s3">\n    </span><span class="s1">if (on) for (var j = 0, m = on.length; j &lt; m; ++j) {</span><span class="s3">\n      </span><span class="s1">if ((o = on[j]).type === typename.type &amp;&amp; o.name === typename.name) {</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(o.type, o.listener, o.options);</span><span class="s3">\n        </span><span class="s1">this.addEventListener(o.type, o.listener = listener, o.options = options);</span><span class="s3">\n        </span><span class="s1">o.value = value;</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.addEventListener(typename.type, listener, options);</span><span class="s3">\n    </span><span class="s1">o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};</span><span class="s3">\n    </span><span class="s1">if (!on) this.__on = [o];</span><span class="s3">\n    </span><span class="s1">else on.push(o);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(typename, value, options) {</span><span class="s3">\n  </span><span class="s1">var typenames = parseTypenames(typename + </span><span class="s3">\&quot;\&quot;</span><span class="s1">), i, n = typenames.length, t;</span><span class="s3">\n\n  </span><span class="s1">if (arguments.length &lt; 2) {</span><span class="s3">\n    </span><span class="s1">var on = this.node().__on;</span><span class="s3">\n    </span><span class="s1">if (on) for (var j = 0, m = on.length, o; j &lt; m; ++j) {</span><span class="s3">\n      </span><span class="s1">for (i = 0, o = on[j]; i &lt; n; ++i) {</span><span class="s3">\n        </span><span class="s1">if ((t = typenames[i]).type === o.type &amp;&amp; t.name === o.name) {</span><span class="s3">\n          </span><span class="s1">return o.value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">on = value ? onAdd : onRemove;</span><span class="s3">\n  </span><span class="s1">for (i = 0; i &lt; n; ++i) this.each(on(typenames[i], value, options));</span><span class="s3">\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import defaultView from </span><span class="s3">\&quot;</span><span class="s1">../window.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function dispatchEvent(node, type, params) {</span><span class="s3">\n  </span><span class="s1">var window = defaultView(node),</span><span class="s3">\n      </span><span class="s1">event = window.CustomEvent;</span><span class="s3">\n\n  </span><span class="s1">if (typeof event === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">event = new event(type, params);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">event = window.document.createEvent(</span><span class="s3">\&quot;</span><span class="s1">Event</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;</span><span class="s3">\n    </span><span class="s1">else event.initEvent(type, false, false);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">node.dispatchEvent(event);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function dispatchConstant(type, params) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return dispatchEvent(this, type, params);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function dispatchFunction(type, params) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return dispatchEvent(this, type, params.apply(this, arguments));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(type, params) {</span><span class="s3">\n  </span><span class="s1">return this.each((typeof params === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n      </span><span class="s1">? dispatchFunction</span><span class="s3">\n      </span><span class="s1">: dispatchConstant)(type, params));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function*() {</span><span class="s3">\n  </span><span class="s1">for (var groups = this._groups, j = 0, m = groups.length; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], i = 0, n = group.length, node; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (node = group[i]) yield node;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import selection_select from </span><span class="s3">\&quot;</span><span class="s1">./select.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_selectAll from </span><span class="s3">\&quot;</span><span class="s1">./selectAll.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_selectChild from </span><span class="s3">\&quot;</span><span class="s1">./selectChild.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_selectChildren from </span><span class="s3">\&quot;</span><span class="s1">./selectChildren.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_filter from </span><span class="s3">\&quot;</span><span class="s1">./filter.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_data from </span><span class="s3">\&quot;</span><span class="s1">./data.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_enter from </span><span class="s3">\&quot;</span><span class="s1">./enter.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_exit from </span><span class="s3">\&quot;</span><span class="s1">./exit.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_join from </span><span class="s3">\&quot;</span><span class="s1">./join.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_merge from </span><span class="s3">\&quot;</span><span class="s1">./merge.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_order from </span><span class="s3">\&quot;</span><span class="s1">./order.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_sort from </span><span class="s3">\&quot;</span><span class="s1">./sort.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_call from </span><span class="s3">\&quot;</span><span class="s1">./call.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_nodes from </span><span class="s3">\&quot;</span><span class="s1">./nodes.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_node from </span><span class="s3">\&quot;</span><span class="s1">./node.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_size from </span><span class="s3">\&quot;</span><span class="s1">./size.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_empty from </span><span class="s3">\&quot;</span><span class="s1">./empty.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_each from </span><span class="s3">\&quot;</span><span class="s1">./each.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_attr from </span><span class="s3">\&quot;</span><span class="s1">./attr.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_style from </span><span class="s3">\&quot;</span><span class="s1">./style.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_property from </span><span class="s3">\&quot;</span><span class="s1">./property.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_classed from </span><span class="s3">\&quot;</span><span class="s1">./classed.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_text from </span><span class="s3">\&quot;</span><span class="s1">./text.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_html from </span><span class="s3">\&quot;</span><span class="s1">./html.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_raise from </span><span class="s3">\&quot;</span><span class="s1">./raise.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_lower from </span><span class="s3">\&quot;</span><span class="s1">./lower.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_append from </span><span class="s3">\&quot;</span><span class="s1">./append.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_insert from </span><span class="s3">\&quot;</span><span class="s1">./insert.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_remove from </span><span class="s3">\&quot;</span><span class="s1">./remove.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_clone from </span><span class="s3">\&quot;</span><span class="s1">./clone.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_datum from </span><span class="s3">\&quot;</span><span class="s1">./datum.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_on from </span><span class="s3">\&quot;</span><span class="s1">./on.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_dispatch from </span><span class="s3">\&quot;</span><span class="s1">./dispatch.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_iterator from </span><span class="s3">\&quot;</span><span class="s1">./iterator.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export var root = [null];</span><span class="s3">\n\n</span><span class="s1">export function Selection(groups, parents) {</span><span class="s3">\n  </span><span class="s1">this._groups = groups;</span><span class="s3">\n  </span><span class="s1">this._parents = parents;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function selection() {</span><span class="s3">\n  </span><span class="s1">return new Selection([[document.documentElement]], root);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function selection_selection() {</span><span class="s3">\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Selection.prototype = selection.prototype = {</span><span class="s3">\n  </span><span class="s1">constructor: Selection,</span><span class="s3">\n  </span><span class="s1">select: selection_select,</span><span class="s3">\n  </span><span class="s1">selectAll: selection_selectAll,</span><span class="s3">\n  </span><span class="s1">selectChild: selection_selectChild,</span><span class="s3">\n  </span><span class="s1">selectChildren: selection_selectChildren,</span><span class="s3">\n  </span><span class="s1">filter: selection_filter,</span><span class="s3">\n  </span><span class="s1">data: selection_data,</span><span class="s3">\n  </span><span class="s1">enter: selection_enter,</span><span class="s3">\n  </span><span class="s1">exit: selection_exit,</span><span class="s3">\n  </span><span class="s1">join: selection_join,</span><span class="s3">\n  </span><span class="s1">merge: selection_merge,</span><span class="s3">\n  </span><span class="s1">selection: selection_selection,</span><span class="s3">\n  </span><span class="s1">order: selection_order,</span><span class="s3">\n  </span><span class="s1">sort: selection_sort,</span><span class="s3">\n  </span><span class="s1">call: selection_call,</span><span class="s3">\n  </span><span class="s1">nodes: selection_nodes,</span><span class="s3">\n  </span><span class="s1">node: selection_node,</span><span class="s3">\n  </span><span class="s1">size: selection_size,</span><span class="s3">\n  </span><span class="s1">empty: selection_empty,</span><span class="s3">\n  </span><span class="s1">each: selection_each,</span><span class="s3">\n  </span><span class="s1">attr: selection_attr,</span><span class="s3">\n  </span><span class="s1">style: selection_style,</span><span class="s3">\n  </span><span class="s1">property: selection_property,</span><span class="s3">\n  </span><span class="s1">classed: selection_classed,</span><span class="s3">\n  </span><span class="s1">text: selection_text,</span><span class="s3">\n  </span><span class="s1">html: selection_html,</span><span class="s3">\n  </span><span class="s1">raise: selection_raise,</span><span class="s3">\n  </span><span class="s1">lower: selection_lower,</span><span class="s3">\n  </span><span class="s1">append: selection_append,</span><span class="s3">\n  </span><span class="s1">insert: selection_insert,</span><span class="s3">\n  </span><span class="s1">remove: selection_remove,</span><span class="s3">\n  </span><span class="s1">clone: selection_clone,</span><span class="s3">\n  </span><span class="s1">datum: selection_datum,</span><span class="s3">\n  </span><span class="s1">on: selection_on,</span><span class="s3">\n  </span><span class="s1">dispatch: selection_dispatch,</span><span class="s3">\n  </span><span class="s1">[Symbol.iterator]: selection_iterator</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default selection;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Timer} from </span><span class="s3">\&quot;</span><span class="s1">./timer.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(callback, delay, time) {</span><span class="s3">\n  </span><span class="s1">var t = new Timer;</span><span class="s3">\n  </span><span class="s1">delay = delay == null ? 0 : +delay;</span><span class="s3">\n  </span><span class="s1">t.restart(elapsed =&gt; {</span><span class="s3">\n    </span><span class="s1">t.stop();</span><span class="s3">\n    </span><span class="s1">callback(elapsed + delay);</span><span class="s3">\n  </span><span class="s1">}, delay, time);</span><span class="s3">\n  </span><span class="s1">return t;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {dispatch} from </span><span class="s3">\&quot;</span><span class="s1">d3-dispatch</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {timer, timeout} from </span><span class="s3">\&quot;</span><span class="s1">d3-timer</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var emptyOn = dispatch(</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">cancel</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">interrupt</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">var emptyTween = [];</span><span class="s3">\n\n</span><span class="s1">export var CREATED = 0;</span><span class="s3">\n</span><span class="s1">export var SCHEDULED = 1;</span><span class="s3">\n</span><span class="s1">export var STARTING = 2;</span><span class="s3">\n</span><span class="s1">export var STARTED = 3;</span><span class="s3">\n</span><span class="s1">export var RUNNING = 4;</span><span class="s3">\n</span><span class="s1">export var ENDING = 5;</span><span class="s3">\n</span><span class="s1">export var ENDED = 6;</span><span class="s3">\n\n</span><span class="s1">export default function(node, name, id, index, group, timing) {</span><span class="s3">\n  </span><span class="s1">var schedules = node.__transition;</span><span class="s3">\n  </span><span class="s1">if (!schedules) node.__transition = {};</span><span class="s3">\n  </span><span class="s1">else if (id in schedules) return;</span><span class="s3">\n  </span><span class="s1">create(node, id, {</span><span class="s3">\n    </span><span class="s1">name: name,</span><span class="s3">\n    </span><span class="s1">index: index, // For context during callback.</span><span class="s3">\n    </span><span class="s1">group: group, // For context during callback.</span><span class="s3">\n    </span><span class="s1">on: emptyOn,</span><span class="s3">\n    </span><span class="s1">tween: emptyTween,</span><span class="s3">\n    </span><span class="s1">time: timing.time,</span><span class="s3">\n    </span><span class="s1">delay: timing.delay,</span><span class="s3">\n    </span><span class="s1">duration: timing.duration,</span><span class="s3">\n    </span><span class="s1">ease: timing.ease,</span><span class="s3">\n    </span><span class="s1">timer: null,</span><span class="s3">\n    </span><span class="s1">state: CREATED</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function init(node, id) {</span><span class="s3">\n  </span><span class="s1">var schedule = get(node, id);</span><span class="s3">\n  </span><span class="s1">if (schedule.state &gt; CREATED) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">too late; already scheduled</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return schedule;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function set(node, id) {</span><span class="s3">\n  </span><span class="s1">var schedule = get(node, id);</span><span class="s3">\n  </span><span class="s1">if (schedule.state &gt; STARTED) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">too late; already running</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return schedule;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function get(node, id) {</span><span class="s3">\n  </span><span class="s1">var schedule = node.__transition;</span><span class="s3">\n  </span><span class="s1">if (!schedule || !(schedule = schedule[id])) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">transition not found</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return schedule;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function create(node, id, self) {</span><span class="s3">\n  </span><span class="s1">var schedules = node.__transition,</span><span class="s3">\n      </span><span class="s1">tween;</span><span class="s3">\n\n  </span><span class="s1">// Initialize the self timer when the transition is created.</span><span class="s3">\n  </span><span class="s1">// Note the actual delay is not known until the first callback!</span><span class="s3">\n  </span><span class="s1">schedules[id] = self;</span><span class="s3">\n  </span><span class="s1">self.timer = timer(schedule, 0, self.time);</span><span class="s3">\n\n  </span><span class="s1">function schedule(elapsed) {</span><span class="s3">\n    </span><span class="s1">self.state = SCHEDULED;</span><span class="s3">\n    </span><span class="s1">self.timer.restart(start, self.delay, self.time);</span><span class="s3">\n\n    </span><span class="s1">// If the elapsed delay is less than our first sleep, start immediately.</span><span class="s3">\n    </span><span class="s1">if (self.delay &lt;= elapsed) start(elapsed - self.delay);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function start(elapsed) {</span><span class="s3">\n    </span><span class="s1">var i, j, n, o;</span><span class="s3">\n\n    </span><span class="s1">// If the state is not SCHEDULED, then we previously errored on start.</span><span class="s3">\n    </span><span class="s1">if (self.state !== SCHEDULED) return stop();</span><span class="s3">\n\n    </span><span class="s1">for (i in schedules) {</span><span class="s3">\n      </span><span class="s1">o = schedules[i];</span><span class="s3">\n      </span><span class="s1">if (o.name !== self.name) continue;</span><span class="s3">\n\n      </span><span class="s1">// While this element already has a starting transition during this frame,</span><span class="s3">\n      </span><span class="s1">// defer starting an interrupting transition until that transition has a</span><span class="s3">\n      </span><span class="s1">// chance to tick (and possibly end); see d3/d3-transition#54!</span><span class="s3">\n      </span><span class="s1">if (o.state === STARTED) return timeout(start);</span><span class="s3">\n\n      </span><span class="s1">// Interrupt the active transition, if any.</span><span class="s3">\n      </span><span class="s1">if (o.state === RUNNING) {</span><span class="s3">\n        </span><span class="s1">o.state = ENDED;</span><span class="s3">\n        </span><span class="s1">o.timer.stop();</span><span class="s3">\n        </span><span class="s1">o.on.call(</span><span class="s3">\&quot;</span><span class="s1">interrupt</span><span class="s3">\&quot;</span><span class="s1">, node, node.__data__, o.index, o.group);</span><span class="s3">\n        </span><span class="s1">delete schedules[i];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// Cancel any pre-empted transitions.</span><span class="s3">\n      </span><span class="s1">else if (+i &lt; id) {</span><span class="s3">\n        </span><span class="s1">o.state = ENDED;</span><span class="s3">\n        </span><span class="s1">o.timer.stop();</span><span class="s3">\n        </span><span class="s1">o.on.call(</span><span class="s3">\&quot;</span><span class="s1">cancel</span><span class="s3">\&quot;</span><span class="s1">, node, node.__data__, o.index, o.group);</span><span class="s3">\n        </span><span class="s1">delete schedules[i];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Defer the first tick to end of the current frame; see d3/d3#1576.</span><span class="s3">\n    </span><span class="s1">// Note the transition may be canceled after start and before the first tick!</span><span class="s3">\n    </span><span class="s1">// Note this must be scheduled before the start event; see d3/d3-transition#16!</span><span class="s3">\n    </span><span class="s1">// Assuming this is successful, subsequent callbacks go straight to tick.</span><span class="s3">\n    </span><span class="s1">timeout(function() {</span><span class="s3">\n      </span><span class="s1">if (self.state === STARTED) {</span><span class="s3">\n        </span><span class="s1">self.state = RUNNING;</span><span class="s3">\n        </span><span class="s1">self.timer.restart(tick, self.delay, self.time);</span><span class="s3">\n        </span><span class="s1">tick(elapsed);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">// Dispatch the start event.</span><span class="s3">\n    </span><span class="s1">// Note this must be done before the tween are initialized.</span><span class="s3">\n    </span><span class="s1">self.state = STARTING;</span><span class="s3">\n    </span><span class="s1">self.on.call(</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">, node, node.__data__, self.index, self.group);</span><span class="s3">\n    </span><span class="s1">if (self.state !== STARTING) return; // interrupted</span><span class="s3">\n    </span><span class="s1">self.state = STARTED;</span><span class="s3">\n\n    </span><span class="s1">// Initialize the tween, deleting null tween.</span><span class="s3">\n    </span><span class="s1">tween = new Array(n = self.tween.length);</span><span class="s3">\n    </span><span class="s1">for (i = 0, j = -1; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {</span><span class="s3">\n        </span><span class="s1">tween[++j] = o;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">tween.length = j + 1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function tick(elapsed) {</span><span class="s3">\n    </span><span class="s1">var t = elapsed &lt; self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),</span><span class="s3">\n        </span><span class="s1">i = -1,</span><span class="s3">\n        </span><span class="s1">n = tween.length;</span><span class="s3">\n\n    </span><span class="s1">while (++i &lt; n) {</span><span class="s3">\n      </span><span class="s1">tween[i].call(node, t);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Dispatch the end event.</span><span class="s3">\n    </span><span class="s1">if (self.state === ENDING) {</span><span class="s3">\n      </span><span class="s1">self.on.call(</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">, node, node.__data__, self.index, self.group);</span><span class="s3">\n      </span><span class="s1">stop();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function stop() {</span><span class="s3">\n    </span><span class="s1">self.state = ENDED;</span><span class="s3">\n    </span><span class="s1">self.timer.stop();</span><span class="s3">\n    </span><span class="s1">delete schedules[id];</span><span class="s3">\n    </span><span class="s1">for (var i in schedules) return; // eslint-disable-line no-unused-vars</span><span class="s3">\n    </span><span class="s1">delete node.__transition;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {STARTING, ENDING, ENDED} from </span><span class="s3">\&quot;</span><span class="s1">./transition/schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(node, name) {</span><span class="s3">\n  </span><span class="s1">var schedules = node.__transition,</span><span class="s3">\n      </span><span class="s1">schedule,</span><span class="s3">\n      </span><span class="s1">active,</span><span class="s3">\n      </span><span class="s1">empty = true,</span><span class="s3">\n      </span><span class="s1">i;</span><span class="s3">\n\n  </span><span class="s1">if (!schedules) return;</span><span class="s3">\n\n  </span><span class="s1">name = name == null ? null : name + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n  </span><span class="s1">for (i in schedules) {</span><span class="s3">\n    </span><span class="s1">if ((schedule = schedules[i]).name !== name) { empty = false; continue; }</span><span class="s3">\n    </span><span class="s1">active = schedule.state &gt; STARTING &amp;&amp; schedule.state &lt; ENDING;</span><span class="s3">\n    </span><span class="s1">schedule.state = ENDED;</span><span class="s3">\n    </span><span class="s1">schedule.timer.stop();</span><span class="s3">\n    </span><span class="s1">schedule.on.call(active ? </span><span class="s3">\&quot;</span><span class="s1">interrupt</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">cancel</span><span class="s3">\&quot;</span><span class="s1">, node, node.__data__, schedule.index, schedule.group);</span><span class="s3">\n    </span><span class="s1">delete schedules[i];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (empty) delete node.__transition;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import interrupt from </span><span class="s3">\&quot;</span><span class="s1">../interrupt.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(name) {</span><span class="s3">\n  </span><span class="s1">return this.each(function() {</span><span class="s3">\n    </span><span class="s1">interrupt(this, name);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {get, set} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function tweenRemove(id, name) {</span><span class="s3">\n  </span><span class="s1">var tween0, tween1;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var schedule = set(this, id),</span><span class="s3">\n        </span><span class="s1">tween = schedule.tween;</span><span class="s3">\n\n    </span><span class="s1">// If this node shared tween with the previous node,</span><span class="s3">\n    </span><span class="s1">// just assign the updated shared tween and we’re done!</span><span class="s3">\n    </span><span class="s1">// Otherwise, copy-on-write.</span><span class="s3">\n    </span><span class="s1">if (tween !== tween0) {</span><span class="s3">\n      </span><span class="s1">tween1 = tween0 = tween;</span><span class="s3">\n      </span><span class="s1">for (var i = 0, n = tween1.length; i &lt; n; ++i) {</span><span class="s3">\n        </span><span class="s1">if (tween1[i].name === name) {</span><span class="s3">\n          </span><span class="s1">tween1 = tween1.slice();</span><span class="s3">\n          </span><span class="s1">tween1.splice(i, 1);</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">schedule.tween = tween1;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function tweenFunction(id, name, value) {</span><span class="s3">\n  </span><span class="s1">var tween0, tween1;</span><span class="s3">\n  </span><span class="s1">if (typeof value !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new Error;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var schedule = set(this, id),</span><span class="s3">\n        </span><span class="s1">tween = schedule.tween;</span><span class="s3">\n\n    </span><span class="s1">// If this node shared tween with the previous node,</span><span class="s3">\n    </span><span class="s1">// just assign the updated shared tween and we’re done!</span><span class="s3">\n    </span><span class="s1">// Otherwise, copy-on-write.</span><span class="s3">\n    </span><span class="s1">if (tween !== tween0) {</span><span class="s3">\n      </span><span class="s1">tween1 = (tween0 = tween).slice();</span><span class="s3">\n      </span><span class="s1">for (var t = {name: name, value: value}, i = 0, n = tween1.length; i &lt; n; ++i) {</span><span class="s3">\n        </span><span class="s1">if (tween1[i].name === name) {</span><span class="s3">\n          </span><span class="s1">tween1[i] = t;</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (i === n) tween1.push(t);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">schedule.tween = tween1;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, value) {</span><span class="s3">\n  </span><span class="s1">var id = this._id;</span><span class="s3">\n\n  </span><span class="s1">name += </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n  </span><span class="s1">if (arguments.length &lt; 2) {</span><span class="s3">\n    </span><span class="s1">var tween = get(this.node(), id).tween;</span><span class="s3">\n    </span><span class="s1">for (var i = 0, n = tween.length, t; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if ((t = tween[i]).name === name) {</span><span class="s3">\n        </span><span class="s1">return t.value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function tweenValue(transition, name, value) {</span><span class="s3">\n  </span><span class="s1">var id = transition._id;</span><span class="s3">\n\n  </span><span class="s1">transition.each(function() {</span><span class="s3">\n    </span><span class="s1">var schedule = set(this, id);</span><span class="s3">\n    </span><span class="s1">(schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n\n  </span><span class="s1">return function(node) {</span><span class="s3">\n    </span><span class="s1">return get(node, id).value[name];</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {color} from </span><span class="s3">\&quot;</span><span class="s1">d3-color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {interpolateNumber, interpolateRgb, interpolateString} from </span><span class="s3">\&quot;</span><span class="s1">d3-interpolate</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">var c;</span><span class="s3">\n  </span><span class="s1">return (typeof b === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">? interpolateNumber</span><span class="s3">\n      </span><span class="s1">: b instanceof color ? interpolateRgb</span><span class="s3">\n      </span><span class="s1">: (c = color(b)) ? (b = c, interpolateRgb)</span><span class="s3">\n      </span><span class="s1">: interpolateString)(a, b);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {interpolateTransformSvg as interpolateTransform} from </span><span class="s3">\&quot;</span><span class="s1">d3-interpolate</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {namespace} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {tweenValue} from </span><span class="s3">\&quot;</span><span class="s1">./tween.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import interpolate from </span><span class="s3">\&quot;</span><span class="s1">./interpolate.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function attrRemove(name) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.removeAttribute(name);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrRemoveNS(fullname) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.removeAttributeNS(fullname.space, fullname.local);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrConstant(name, interpolate, value1) {</span><span class="s3">\n  </span><span class="s1">var string00,</span><span class="s3">\n      </span><span class="s1">string1 = value1 + </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">interpolate0;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var string0 = this.getAttribute(name);</span><span class="s3">\n    </span><span class="s1">return string0 === string1 ? null</span><span class="s3">\n        </span><span class="s1">: string0 === string00 ? interpolate0</span><span class="s3">\n        </span><span class="s1">: interpolate0 = interpolate(string00 = string0, value1);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrConstantNS(fullname, interpolate, value1) {</span><span class="s3">\n  </span><span class="s1">var string00,</span><span class="s3">\n      </span><span class="s1">string1 = value1 + </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">interpolate0;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var string0 = this.getAttributeNS(fullname.space, fullname.local);</span><span class="s3">\n    </span><span class="s1">return string0 === string1 ? null</span><span class="s3">\n        </span><span class="s1">: string0 === string00 ? interpolate0</span><span class="s3">\n        </span><span class="s1">: interpolate0 = interpolate(string00 = string0, value1);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrFunction(name, interpolate, value) {</span><span class="s3">\n  </span><span class="s1">var string00,</span><span class="s3">\n      </span><span class="s1">string10,</span><span class="s3">\n      </span><span class="s1">interpolate0;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var string0, value1 = value(this), string1;</span><span class="s3">\n    </span><span class="s1">if (value1 == null) return void this.removeAttribute(name);</span><span class="s3">\n    </span><span class="s1">string0 = this.getAttribute(name);</span><span class="s3">\n    </span><span class="s1">string1 = value1 + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return string0 === string1 ? null</span><span class="s3">\n        </span><span class="s1">: string0 === string00 &amp;&amp; string1 === string10 ? interpolate0</span><span class="s3">\n        </span><span class="s1">: (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrFunctionNS(fullname, interpolate, value) {</span><span class="s3">\n  </span><span class="s1">var string00,</span><span class="s3">\n      </span><span class="s1">string10,</span><span class="s3">\n      </span><span class="s1">interpolate0;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var string0, value1 = value(this), string1;</span><span class="s3">\n    </span><span class="s1">if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);</span><span class="s3">\n    </span><span class="s1">string0 = this.getAttributeNS(fullname.space, fullname.local);</span><span class="s3">\n    </span><span class="s1">string1 = value1 + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">return string0 === string1 ? null</span><span class="s3">\n        </span><span class="s1">: string0 === string00 &amp;&amp; string1 === string10 ? interpolate0</span><span class="s3">\n        </span><span class="s1">: (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, value) {</span><span class="s3">\n  </span><span class="s1">var fullname = namespace(name), i = fullname === </span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot; </span><span class="s1">? interpolateTransform : interpolate;</span><span class="s3">\n  </span><span class="s1">return this.attrTween(name, typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n      </span><span class="s1">? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, </span><span class="s3">\&quot;</span><span class="s1">attr.</span><span class="s3">\&quot; </span><span class="s1">+ name, value))</span><span class="s3">\n      </span><span class="s1">: value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)</span><span class="s3">\n      </span><span class="s1">: (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {namespace} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function attrInterpolate(name, i) {</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">this.setAttribute(name, i.call(this, t));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrInterpolateNS(fullname, i) {</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrTweenNS(fullname, value) {</span><span class="s3">\n  </span><span class="s1">var t0, i0;</span><span class="s3">\n  </span><span class="s1">function tween() {</span><span class="s3">\n    </span><span class="s1">var i = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">if (i !== i0) t0 = (i0 = i) &amp;&amp; attrInterpolateNS(fullname, i);</span><span class="s3">\n    </span><span class="s1">return t0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">tween._value = value;</span><span class="s3">\n  </span><span class="s1">return tween;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function attrTween(name, value) {</span><span class="s3">\n  </span><span class="s1">var t0, i0;</span><span class="s3">\n  </span><span class="s1">function tween() {</span><span class="s3">\n    </span><span class="s1">var i = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">if (i !== i0) t0 = (i0 = i) &amp;&amp; attrInterpolate(name, i);</span><span class="s3">\n    </span><span class="s1">return t0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">tween._value = value;</span><span class="s3">\n  </span><span class="s1">return tween;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, value) {</span><span class="s3">\n  </span><span class="s1">var key = </span><span class="s3">\&quot;</span><span class="s1">attr.</span><span class="s3">\&quot; </span><span class="s1">+ name;</span><span class="s3">\n  </span><span class="s1">if (arguments.length &lt; 2) return (key = this.tween(key)) &amp;&amp; key._value;</span><span class="s3">\n  </span><span class="s1">if (value == null) return this.tween(key, null);</span><span class="s3">\n  </span><span class="s1">if (typeof value !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new Error;</span><span class="s3">\n  </span><span class="s1">var fullname = namespace(name);</span><span class="s3">\n  </span><span class="s1">return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {get, init} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function delayFunction(id, value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">init(this, id).delay = +value.apply(this, arguments);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function delayConstant(id, value) {</span><span class="s3">\n  </span><span class="s1">return value = +value, function() {</span><span class="s3">\n    </span><span class="s1">init(this, id).delay = value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(value) {</span><span class="s3">\n  </span><span class="s1">var id = this._id;</span><span class="s3">\n\n  </span><span class="s1">return arguments.length</span><span class="s3">\n      </span><span class="s1">? this.each((typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n          </span><span class="s1">? delayFunction</span><span class="s3">\n          </span><span class="s1">: delayConstant)(id, value))</span><span class="s3">\n      </span><span class="s1">: get(this.node(), id).delay;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {get, set} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function durationFunction(id, value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">set(this, id).duration = +value.apply(this, arguments);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function durationConstant(id, value) {</span><span class="s3">\n  </span><span class="s1">return value = +value, function() {</span><span class="s3">\n    </span><span class="s1">set(this, id).duration = value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(value) {</span><span class="s3">\n  </span><span class="s1">var id = this._id;</span><span class="s3">\n\n  </span><span class="s1">return arguments.length</span><span class="s3">\n      </span><span class="s1">? this.each((typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n          </span><span class="s1">? durationFunction</span><span class="s3">\n          </span><span class="s1">: durationConstant)(id, value))</span><span class="s3">\n      </span><span class="s1">: get(this.node(), id).duration;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {get, set} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function easeConstant(id, value) {</span><span class="s3">\n  </span><span class="s1">if (typeof value !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new Error;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">set(this, id).ease = value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(value) {</span><span class="s3">\n  </span><span class="s1">var id = this._id;</span><span class="s3">\n\n  </span><span class="s1">return arguments.length</span><span class="s3">\n      </span><span class="s1">? this.each(easeConstant(id, value))</span><span class="s3">\n      </span><span class="s1">: get(this.node(), id).ease;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {set} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function easeVarying(id, value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var v = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">if (typeof v !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new Error;</span><span class="s3">\n    </span><span class="s1">set(this, id).ease = v;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(value) {</span><span class="s3">\n  </span><span class="s1">if (typeof value !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new Error;</span><span class="s3">\n  </span><span class="s1">return this.each(easeVarying(this._id, value));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {matcher} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {Transition} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(match) {</span><span class="s3">\n  </span><span class="s1">if (typeof match !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) match = matcher(match);</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if ((node = group[i]) &amp;&amp; match.call(node, node.__data__, i, group)) {</span><span class="s3">\n        </span><span class="s1">subgroup.push(node);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Transition(subgroups, this._parents, this._name, this._id);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Transition} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(transition) {</span><span class="s3">\n  </span><span class="s1">if (transition._id !== this._id) throw new Error;</span><span class="s3">\n\n  </span><span class="s1">for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (node = group0[i] || group1[i]) {</span><span class="s3">\n        </span><span class="s1">merge[i] = node;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">for (; j &lt; m0; ++j) {</span><span class="s3">\n    </span><span class="s1">merges[j] = groups0[j];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Transition(merges, this._parents, this._name, this._id);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {get, set, init} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function start(name) {</span><span class="s3">\n  </span><span class="s1">return (name + </span><span class="s3">\&quot;\&quot;</span><span class="s1">).trim().split(/^|</span><span class="s3">\\</span><span class="s1">s+/).every(function(t) {</span><span class="s3">\n    </span><span class="s1">var i = t.indexOf(</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (i &gt;= 0) t = t.slice(0, i);</span><span class="s3">\n    </span><span class="s1">return !t || t === </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function onFunction(id, name, listener) {</span><span class="s3">\n  </span><span class="s1">var on0, on1, sit = start(name) ? init : set;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var schedule = sit(this, id),</span><span class="s3">\n        </span><span class="s1">on = schedule.on;</span><span class="s3">\n\n    </span><span class="s1">// If this node shared a dispatch with the previous node,</span><span class="s3">\n    </span><span class="s1">// just assign the updated shared dispatch and we’re done!</span><span class="s3">\n    </span><span class="s1">// Otherwise, copy-on-write.</span><span class="s3">\n    </span><span class="s1">if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);</span><span class="s3">\n\n    </span><span class="s1">schedule.on = on1;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, listener) {</span><span class="s3">\n  </span><span class="s1">var id = this._id;</span><span class="s3">\n\n  </span><span class="s1">return arguments.length &lt; 2</span><span class="s3">\n      </span><span class="s1">? get(this.node(), id).on.on(name)</span><span class="s3">\n      </span><span class="s1">: this.each(onFunction(id, name, listener));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function removeFunction(id) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var parent = this.parentNode;</span><span class="s3">\n    </span><span class="s1">for (var i in this.__transition) if (+i !== id) return;</span><span class="s3">\n    </span><span class="s1">if (parent) parent.removeChild(this);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">return this.on(</span><span class="s3">\&quot;</span><span class="s1">end.remove</span><span class="s3">\&quot;</span><span class="s1">, removeFunction(this._id));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {selector} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {Transition} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import schedule, {get} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(select) {</span><span class="s3">\n  </span><span class="s1">var name = this._name,</span><span class="s3">\n      </span><span class="s1">id = this._id;</span><span class="s3">\n\n  </span><span class="s1">if (typeof select !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) select = selector(select);</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if ((node = group[i]) &amp;&amp; (subnode = select.call(node, node.__data__, i, group))) {</span><span class="s3">\n        </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">__data__</span><span class="s3">\&quot; </span><span class="s1">in node) subnode.__data__ = node.__data__;</span><span class="s3">\n        </span><span class="s1">subgroup[i] = subnode;</span><span class="s3">\n        </span><span class="s1">schedule(subgroup[i], name, id, i, subgroup, get(node, id));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Transition(subgroups, this._parents, name, id);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {selectorAll} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {Transition} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import schedule, {get} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(select) {</span><span class="s3">\n  </span><span class="s1">var name = this._name,</span><span class="s3">\n      </span><span class="s1">id = this._id;</span><span class="s3">\n\n  </span><span class="s1">if (typeof select !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) select = selectorAll(select);</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], n = group.length, node, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (node = group[i]) {</span><span class="s3">\n        </span><span class="s1">for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k &lt; l; ++k) {</span><span class="s3">\n          </span><span class="s1">if (child = children[k]) {</span><span class="s3">\n            </span><span class="s1">schedule(child, name, id, k, children, inherit);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">subgroups.push(children);</span><span class="s3">\n        </span><span class="s1">parents.push(node);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Transition(subgroups, parents, name, id);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {selection} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var Selection = selection.prototype.constructor;</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">return new Selection(this._groups, this._parents);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {interpolateTransformCss as interpolateTransform} from </span><span class="s3">\&quot;</span><span class="s1">d3-interpolate</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {style} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {set} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {tweenValue} from </span><span class="s3">\&quot;</span><span class="s1">./tween.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import interpolate from </span><span class="s3">\&quot;</span><span class="s1">./interpolate.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function styleNull(name, interpolate) {</span><span class="s3">\n  </span><span class="s1">var string00,</span><span class="s3">\n      </span><span class="s1">string10,</span><span class="s3">\n      </span><span class="s1">interpolate0;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var string0 = style(this, name),</span><span class="s3">\n        </span><span class="s1">string1 = (this.style.removeProperty(name), style(this, name));</span><span class="s3">\n    </span><span class="s1">return string0 === string1 ? null</span><span class="s3">\n        </span><span class="s1">: string0 === string00 &amp;&amp; string1 === string10 ? interpolate0</span><span class="s3">\n        </span><span class="s1">: interpolate0 = interpolate(string00 = string0, string10 = string1);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function styleRemove(name) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.style.removeProperty(name);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function styleConstant(name, interpolate, value1) {</span><span class="s3">\n  </span><span class="s1">var string00,</span><span class="s3">\n      </span><span class="s1">string1 = value1 + </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">interpolate0;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var string0 = style(this, name);</span><span class="s3">\n    </span><span class="s1">return string0 === string1 ? null</span><span class="s3">\n        </span><span class="s1">: string0 === string00 ? interpolate0</span><span class="s3">\n        </span><span class="s1">: interpolate0 = interpolate(string00 = string0, value1);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function styleFunction(name, interpolate, value) {</span><span class="s3">\n  </span><span class="s1">var string00,</span><span class="s3">\n      </span><span class="s1">string10,</span><span class="s3">\n      </span><span class="s1">interpolate0;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var string0 = style(this, name),</span><span class="s3">\n        </span><span class="s1">value1 = value(this),</span><span class="s3">\n        </span><span class="s1">string1 = value1 + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));</span><span class="s3">\n    </span><span class="s1">return string0 === string1 ? null</span><span class="s3">\n        </span><span class="s1">: string0 === string00 &amp;&amp; string1 === string10 ? interpolate0</span><span class="s3">\n        </span><span class="s1">: (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function styleMaybeRemove(id, name) {</span><span class="s3">\n  </span><span class="s1">var on0, on1, listener0, key = </span><span class="s3">\&quot;</span><span class="s1">style.</span><span class="s3">\&quot; </span><span class="s1">+ name, event = </span><span class="s3">\&quot;</span><span class="s1">end.</span><span class="s3">\&quot; </span><span class="s1">+ key, remove;</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var schedule = set(this, id),</span><span class="s3">\n        </span><span class="s1">on = schedule.on,</span><span class="s3">\n        </span><span class="s1">listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;</span><span class="s3">\n\n    </span><span class="s1">// If this node shared a dispatch with the previous node,</span><span class="s3">\n    </span><span class="s1">// just assign the updated shared dispatch and we’re done!</span><span class="s3">\n    </span><span class="s1">// Otherwise, copy-on-write.</span><span class="s3">\n    </span><span class="s1">if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);</span><span class="s3">\n\n    </span><span class="s1">schedule.on = on1;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, value, priority) {</span><span class="s3">\n  </span><span class="s1">var i = (name += </span><span class="s3">\&quot;\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot; </span><span class="s1">? interpolateTransform : interpolate;</span><span class="s3">\n  </span><span class="s1">return value == null ? this</span><span class="s3">\n      </span><span class="s1">.styleTween(name, styleNull(name, i))</span><span class="s3">\n      </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">end.style.</span><span class="s3">\&quot; </span><span class="s1">+ name, styleRemove(name))</span><span class="s3">\n    </span><span class="s1">: typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? this</span><span class="s3">\n      </span><span class="s1">.styleTween(name, styleFunction(name, i, tweenValue(this, </span><span class="s3">\&quot;</span><span class="s1">style.</span><span class="s3">\&quot; </span><span class="s1">+ name, value)))</span><span class="s3">\n      </span><span class="s1">.each(styleMaybeRemove(this._id, name))</span><span class="s3">\n    </span><span class="s1">: this</span><span class="s3">\n      </span><span class="s1">.styleTween(name, styleConstant(name, i, value), priority)</span><span class="s3">\n      </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">end.style.</span><span class="s3">\&quot; </span><span class="s1">+ name, null);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function styleInterpolate(name, i, priority) {</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">this.style.setProperty(name, i.call(this, t), priority);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function styleTween(name, value, priority) {</span><span class="s3">\n  </span><span class="s1">var t, i0;</span><span class="s3">\n  </span><span class="s1">function tween() {</span><span class="s3">\n    </span><span class="s1">var i = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">if (i !== i0) t = (i0 = i) &amp;&amp; styleInterpolate(name, i, priority);</span><span class="s3">\n    </span><span class="s1">return t;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">tween._value = value;</span><span class="s3">\n  </span><span class="s1">return tween;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name, value, priority) {</span><span class="s3">\n  </span><span class="s1">var key = </span><span class="s3">\&quot;</span><span class="s1">style.</span><span class="s3">\&quot; </span><span class="s1">+ (name += </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (arguments.length &lt; 2) return (key = this.tween(key)) &amp;&amp; key._value;</span><span class="s3">\n  </span><span class="s1">if (value == null) return this.tween(key, null);</span><span class="s3">\n  </span><span class="s1">if (typeof value !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new Error;</span><span class="s3">\n  </span><span class="s1">return this.tween(key, styleTween(name, value, priority == null ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: priority));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {tweenValue} from </span><span class="s3">\&quot;</span><span class="s1">./tween.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function textConstant(value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">this.textContent = value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function textFunction(value) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">var value1 = value(this);</span><span class="s3">\n    </span><span class="s1">this.textContent = value1 == null ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: value1;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(value) {</span><span class="s3">\n  </span><span class="s1">return this.tween(</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">, typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n      </span><span class="s1">? textFunction(tweenValue(this, </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">, value))</span><span class="s3">\n      </span><span class="s1">: textConstant(value == null ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: value + </span><span class="s3">\&quot;\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function textInterpolate(i) {</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">this.textContent = i.call(this, t);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function textTween(value) {</span><span class="s3">\n  </span><span class="s1">var t0, i0;</span><span class="s3">\n  </span><span class="s1">function tween() {</span><span class="s3">\n    </span><span class="s1">var i = value.apply(this, arguments);</span><span class="s3">\n    </span><span class="s1">if (i !== i0) t0 = (i0 = i) &amp;&amp; textInterpolate(i);</span><span class="s3">\n    </span><span class="s1">return t0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">tween._value = value;</span><span class="s3">\n  </span><span class="s1">return tween;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(value) {</span><span class="s3">\n  </span><span class="s1">var key = </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">if (arguments.length &lt; 1) return (key = this.tween(key)) &amp;&amp; key._value;</span><span class="s3">\n  </span><span class="s1">if (value == null) return this.tween(key, null);</span><span class="s3">\n  </span><span class="s1">if (typeof value !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new Error;</span><span class="s3">\n  </span><span class="s1">return this.tween(key, textTween(value));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Transition, newId} from </span><span class="s3">\&quot;</span><span class="s1">./index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import schedule, {get} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">var name = this._name,</span><span class="s3">\n      </span><span class="s1">id0 = this._id,</span><span class="s3">\n      </span><span class="s1">id1 = newId();</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, m = groups.length, j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], n = group.length, node, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (node = group[i]) {</span><span class="s3">\n        </span><span class="s1">var inherit = get(node, id0);</span><span class="s3">\n        </span><span class="s1">schedule(node, name, id1, i, group, {</span><span class="s3">\n          </span><span class="s1">time: inherit.time + inherit.delay + inherit.duration,</span><span class="s3">\n          </span><span class="s1">delay: 0,</span><span class="s3">\n          </span><span class="s1">duration: inherit.duration,</span><span class="s3">\n          </span><span class="s1">ease: inherit.ease</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Transition(groups, this._parents, name, id1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {set} from </span><span class="s3">\&quot;</span><span class="s1">./schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">var on0, on1, that = this, id = that._id, size = that.size();</span><span class="s3">\n  </span><span class="s1">return new Promise(function(resolve, reject) {</span><span class="s3">\n    </span><span class="s1">var cancel = {value: reject},</span><span class="s3">\n        </span><span class="s1">end = {value: function() { if (--size === 0) resolve(); }};</span><span class="s3">\n\n    </span><span class="s1">that.each(function() {</span><span class="s3">\n      </span><span class="s1">var schedule = set(this, id),</span><span class="s3">\n          </span><span class="s1">on = schedule.on;</span><span class="s3">\n\n      </span><span class="s1">// If this node shared a dispatch with the previous node,</span><span class="s3">\n      </span><span class="s1">// just assign the updated shared dispatch and we’re done!</span><span class="s3">\n      </span><span class="s1">// Otherwise, copy-on-write.</span><span class="s3">\n      </span><span class="s1">if (on !== on0) {</span><span class="s3">\n        </span><span class="s1">on1 = (on0 = on).copy();</span><span class="s3">\n        </span><span class="s1">on1._.cancel.push(cancel);</span><span class="s3">\n        </span><span class="s1">on1._.interrupt.push(cancel);</span><span class="s3">\n        </span><span class="s1">on1._.end.push(end);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">schedule.on = on1;</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">// The selection was empty, resolve end immediately</span><span class="s3">\n    </span><span class="s1">if (size === 0) resolve();</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {selection} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_attr from </span><span class="s3">\&quot;</span><span class="s1">./attr.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_attrTween from </span><span class="s3">\&quot;</span><span class="s1">./attrTween.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_delay from </span><span class="s3">\&quot;</span><span class="s1">./delay.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_duration from </span><span class="s3">\&quot;</span><span class="s1">./duration.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_ease from </span><span class="s3">\&quot;</span><span class="s1">./ease.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_easeVarying from </span><span class="s3">\&quot;</span><span class="s1">./easeVarying.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_filter from </span><span class="s3">\&quot;</span><span class="s1">./filter.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_merge from </span><span class="s3">\&quot;</span><span class="s1">./merge.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_on from </span><span class="s3">\&quot;</span><span class="s1">./on.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_remove from </span><span class="s3">\&quot;</span><span class="s1">./remove.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_select from </span><span class="s3">\&quot;</span><span class="s1">./select.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_selectAll from </span><span class="s3">\&quot;</span><span class="s1">./selectAll.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_selection from </span><span class="s3">\&quot;</span><span class="s1">./selection.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_style from </span><span class="s3">\&quot;</span><span class="s1">./style.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_styleTween from </span><span class="s3">\&quot;</span><span class="s1">./styleTween.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_text from </span><span class="s3">\&quot;</span><span class="s1">./text.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_textTween from </span><span class="s3">\&quot;</span><span class="s1">./textTween.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_transition from </span><span class="s3">\&quot;</span><span class="s1">./transition.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_tween from </span><span class="s3">\&quot;</span><span class="s1">./tween.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import transition_end from </span><span class="s3">\&quot;</span><span class="s1">./end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var id = 0;</span><span class="s3">\n\n</span><span class="s1">export function Transition(groups, parents, name, id) {</span><span class="s3">\n  </span><span class="s1">this._groups = groups;</span><span class="s3">\n  </span><span class="s1">this._parents = parents;</span><span class="s3">\n  </span><span class="s1">this._name = name;</span><span class="s3">\n  </span><span class="s1">this._id = id;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function transition(name) {</span><span class="s3">\n  </span><span class="s1">return selection().transition(name);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function newId() {</span><span class="s3">\n  </span><span class="s1">return ++id;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">var selection_prototype = selection.prototype;</span><span class="s3">\n\n</span><span class="s1">Transition.prototype = transition.prototype = {</span><span class="s3">\n  </span><span class="s1">constructor: Transition,</span><span class="s3">\n  </span><span class="s1">select: transition_select,</span><span class="s3">\n  </span><span class="s1">selectAll: transition_selectAll,</span><span class="s3">\n  </span><span class="s1">selectChild: selection_prototype.selectChild,</span><span class="s3">\n  </span><span class="s1">selectChildren: selection_prototype.selectChildren,</span><span class="s3">\n  </span><span class="s1">filter: transition_filter,</span><span class="s3">\n  </span><span class="s1">merge: transition_merge,</span><span class="s3">\n  </span><span class="s1">selection: transition_selection,</span><span class="s3">\n  </span><span class="s1">transition: transition_transition,</span><span class="s3">\n  </span><span class="s1">call: selection_prototype.call,</span><span class="s3">\n  </span><span class="s1">nodes: selection_prototype.nodes,</span><span class="s3">\n  </span><span class="s1">node: selection_prototype.node,</span><span class="s3">\n  </span><span class="s1">size: selection_prototype.size,</span><span class="s3">\n  </span><span class="s1">empty: selection_prototype.empty,</span><span class="s3">\n  </span><span class="s1">each: selection_prototype.each,</span><span class="s3">\n  </span><span class="s1">on: transition_on,</span><span class="s3">\n  </span><span class="s1">attr: transition_attr,</span><span class="s3">\n  </span><span class="s1">attrTween: transition_attrTween,</span><span class="s3">\n  </span><span class="s1">style: transition_style,</span><span class="s3">\n  </span><span class="s1">styleTween: transition_styleTween,</span><span class="s3">\n  </span><span class="s1">text: transition_text,</span><span class="s3">\n  </span><span class="s1">textTween: transition_textTween,</span><span class="s3">\n  </span><span class="s1">remove: transition_remove,</span><span class="s3">\n  </span><span class="s1">tween: transition_tween,</span><span class="s3">\n  </span><span class="s1">delay: transition_delay,</span><span class="s3">\n  </span><span class="s1">duration: transition_duration,</span><span class="s3">\n  </span><span class="s1">ease: transition_ease,</span><span class="s3">\n  </span><span class="s1">easeVarying: transition_easeVarying,</span><span class="s3">\n  </span><span class="s1">end: transition_end,</span><span class="s3">\n  </span><span class="s1">[Symbol.iterator]: selection_prototype[Symbol.iterator]</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export function cubicIn(t) {</span><span class="s3">\n  </span><span class="s1">return t * t * t;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function cubicOut(t) {</span><span class="s3">\n  </span><span class="s1">return --t * t * t + 1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function cubicInOut(t) {</span><span class="s3">\n  </span><span class="s1">return ((t *= 2) &lt;= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Transition, newId} from </span><span class="s3">\&quot;</span><span class="s1">../transition/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import schedule from </span><span class="s3">\&quot;</span><span class="s1">../transition/schedule.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {easeCubicInOut} from </span><span class="s3">\&quot;</span><span class="s1">d3-ease</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {now} from </span><span class="s3">\&quot;</span><span class="s1">d3-timer</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var defaultTiming = {</span><span class="s3">\n  </span><span class="s1">time: null, // Set on use.</span><span class="s3">\n  </span><span class="s1">delay: 0,</span><span class="s3">\n  </span><span class="s1">duration: 250,</span><span class="s3">\n  </span><span class="s1">ease: easeCubicInOut</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">function inherit(node, id) {</span><span class="s3">\n  </span><span class="s1">var timing;</span><span class="s3">\n  </span><span class="s1">while (!(timing = node.__transition) || !(timing = timing[id])) {</span><span class="s3">\n    </span><span class="s1">if (!(node = node.parentNode)) {</span><span class="s3">\n      </span><span class="s1">throw new Error(`transition ${id} not found`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return timing;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(name) {</span><span class="s3">\n  </span><span class="s1">var id,</span><span class="s3">\n      </span><span class="s1">timing;</span><span class="s3">\n\n  </span><span class="s1">if (name instanceof Transition) {</span><span class="s3">\n    </span><span class="s1">id = name._id, name = name._name;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">for (var groups = this._groups, m = groups.length, j = 0; j &lt; m; ++j) {</span><span class="s3">\n    </span><span class="s1">for (var group = groups[j], n = group.length, node, i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (node = group[i]) {</span><span class="s3">\n        </span><span class="s1">schedule(node, name, id, i, group, timing || inherit(node, id));</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return new Transition(groups, this._parents, name, id);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {selection} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_interrupt from </span><span class="s3">\&quot;</span><span class="s1">./interrupt.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import selection_transition from </span><span class="s3">\&quot;</span><span class="s1">./transition.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">selection.prototype.interrupt = selection_interrupt;</span><span class="s3">\n</span><span class="s1">selection.prototype.transition = selection_transition;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import </span><span class="s3">\&quot;</span><span class="s1">./selection/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as transition} from </span><span class="s3">\&quot;</span><span class="s1">./transition/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as active} from </span><span class="s3">\&quot;</span><span class="s1">./active.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interrupt} from </span><span class="s3">\&quot;</span><span class="s1">./interrupt.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {dispatch} from </span><span class="s3">\&quot;</span><span class="s1">d3-dispatch</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {dragDisable, dragEnable} from </span><span class="s3">\&quot;</span><span class="s1">d3-drag</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {interpolate} from </span><span class="s3">\&quot;</span><span class="s1">d3-interpolate</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {pointer, select} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {interrupt} from </span><span class="s3">\&quot;</span><span class="s1">d3-transition</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import constant from </span><span class="s3">\&quot;</span><span class="s1">./constant.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import BrushEvent from </span><span class="s3">\&quot;</span><span class="s1">./event.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import noevent, {nopropagation} from </span><span class="s3">\&quot;</span><span class="s1">./noevent.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var MODE_DRAG = {name: </span><span class="s3">\&quot;</span><span class="s1">drag</span><span class="s3">\&quot;</span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">MODE_SPACE = {name: </span><span class="s3">\&quot;</span><span class="s1">space</span><span class="s3">\&quot;</span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">MODE_HANDLE = {name: </span><span class="s3">\&quot;</span><span class="s1">handle</span><span class="s3">\&quot;</span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">MODE_CENTER = {name: </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">const {abs, max, min} = Math;</span><span class="s3">\n\n</span><span class="s1">function number1(e) {</span><span class="s3">\n  </span><span class="s1">return [+e[0], +e[1]];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function number2(e) {</span><span class="s3">\n  </span><span class="s1">return [number1(e[0]), number1(e[1])];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">var X = {</span><span class="s3">\n  </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">handles: [</span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">].map(type),</span><span class="s3">\n  </span><span class="s1">input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },</span><span class="s3">\n  </span><span class="s1">output: function(xy) { return xy &amp;&amp; [xy[0][0], xy[1][0]]; }</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var Y = {</span><span class="s3">\n  </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">handles: [</span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">].map(type),</span><span class="s3">\n  </span><span class="s1">input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },</span><span class="s3">\n  </span><span class="s1">output: function(xy) { return xy &amp;&amp; [xy[0][1], xy[1][1]]; }</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var XY = {</span><span class="s3">\n  </span><span class="s1">name: </span><span class="s3">\&quot;</span><span class="s1">xy</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">handles: [</span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">nw</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">ne</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">sw</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">se</span><span class="s3">\&quot;</span><span class="s1">].map(type),</span><span class="s3">\n  </span><span class="s1">input: function(xy) { return xy == null ? null : number2(xy); },</span><span class="s3">\n  </span><span class="s1">output: function(xy) { return xy; }</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var cursors = {</span><span class="s3">\n  </span><span class="s1">overlay: </span><span class="s3">\&quot;</span><span class="s1">crosshair</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">selection: </span><span class="s3">\&quot;</span><span class="s1">move</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">n: </span><span class="s3">\&quot;</span><span class="s1">ns-resize</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">e: </span><span class="s3">\&quot;</span><span class="s1">ew-resize</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">s: </span><span class="s3">\&quot;</span><span class="s1">ns-resize</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">w: </span><span class="s3">\&quot;</span><span class="s1">ew-resize</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">nw: </span><span class="s3">\&quot;</span><span class="s1">nwse-resize</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">ne: </span><span class="s3">\&quot;</span><span class="s1">nesw-resize</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">se: </span><span class="s3">\&quot;</span><span class="s1">nwse-resize</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">sw: </span><span class="s3">\&quot;</span><span class="s1">nesw-resize</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var flipX = {</span><span class="s3">\n  </span><span class="s1">e: </span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">w: </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">nw: </span><span class="s3">\&quot;</span><span class="s1">ne</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">ne: </span><span class="s3">\&quot;</span><span class="s1">nw</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">se: </span><span class="s3">\&quot;</span><span class="s1">sw</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">sw: </span><span class="s3">\&quot;</span><span class="s1">se</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var flipY = {</span><span class="s3">\n  </span><span class="s1">n: </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">s: </span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">nw: </span><span class="s3">\&quot;</span><span class="s1">sw</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">ne: </span><span class="s3">\&quot;</span><span class="s1">se</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">se: </span><span class="s3">\&quot;</span><span class="s1">ne</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">sw: </span><span class="s3">\&quot;</span><span class="s1">nw</span><span class="s3">\&quot;\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var signsX = {</span><span class="s3">\n  </span><span class="s1">overlay: +1,</span><span class="s3">\n  </span><span class="s1">selection: +1,</span><span class="s3">\n  </span><span class="s1">n: null,</span><span class="s3">\n  </span><span class="s1">e: +1,</span><span class="s3">\n  </span><span class="s1">s: null,</span><span class="s3">\n  </span><span class="s1">w: -1,</span><span class="s3">\n  </span><span class="s1">nw: -1,</span><span class="s3">\n  </span><span class="s1">ne: +1,</span><span class="s3">\n  </span><span class="s1">se: +1,</span><span class="s3">\n  </span><span class="s1">sw: -1</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var signsY = {</span><span class="s3">\n  </span><span class="s1">overlay: +1,</span><span class="s3">\n  </span><span class="s1">selection: +1,</span><span class="s3">\n  </span><span class="s1">n: -1,</span><span class="s3">\n  </span><span class="s1">e: null,</span><span class="s3">\n  </span><span class="s1">s: +1,</span><span class="s3">\n  </span><span class="s1">w: null,</span><span class="s3">\n  </span><span class="s1">nw: -1,</span><span class="s3">\n  </span><span class="s1">ne: -1,</span><span class="s3">\n  </span><span class="s1">se: +1,</span><span class="s3">\n  </span><span class="s1">sw: +1</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">function type(t) {</span><span class="s3">\n  </span><span class="s1">return {type: t};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Ignore right-click, since that should open the context menu.</span><span class="s3">\n</span><span class="s1">function defaultFilter(event) {</span><span class="s3">\n  </span><span class="s1">return !event.ctrlKey &amp;&amp; !event.button;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function defaultExtent() {</span><span class="s3">\n  </span><span class="s1">var svg = this.ownerSVGElement || this;</span><span class="s3">\n  </span><span class="s1">if (svg.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n    </span><span class="s1">svg = svg.viewBox.baseVal;</span><span class="s3">\n    </span><span class="s1">return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function defaultTouchable() {</span><span class="s3">\n  </span><span class="s1">return navigator.maxTouchPoints || (</span><span class="s3">\&quot;</span><span class="s1">ontouchstart</span><span class="s3">\&quot; </span><span class="s1">in this);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Like d3.local, but with the name “__brush” rather than auto-generated.</span><span class="s3">\n</span><span class="s1">function local(node) {</span><span class="s3">\n  </span><span class="s1">while (!node.__brush) if (!(node = node.parentNode)) return;</span><span class="s3">\n  </span><span class="s1">return node.__brush;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function empty(extent) {</span><span class="s3">\n  </span><span class="s1">return extent[0][0] === extent[1][0]</span><span class="s3">\n      </span><span class="s1">|| extent[0][1] === extent[1][1];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function brushSelection(node) {</span><span class="s3">\n  </span><span class="s1">var state = node.__brush;</span><span class="s3">\n  </span><span class="s1">return state ? state.dim.output(state.selection) : null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function brushX() {</span><span class="s3">\n  </span><span class="s1">return brush(X);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function brushY() {</span><span class="s3">\n  </span><span class="s1">return brush(Y);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">return brush(XY);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function brush(dim) {</span><span class="s3">\n  </span><span class="s1">var extent = defaultExtent,</span><span class="s3">\n      </span><span class="s1">filter = defaultFilter,</span><span class="s3">\n      </span><span class="s1">touchable = defaultTouchable,</span><span class="s3">\n      </span><span class="s1">keys = true,</span><span class="s3">\n      </span><span class="s1">listeners = dispatch(</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">brush</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">handleSize = 6,</span><span class="s3">\n      </span><span class="s1">touchending;</span><span class="s3">\n\n  </span><span class="s1">function brush(group) {</span><span class="s3">\n    </span><span class="s1">var overlay = group</span><span class="s3">\n        </span><span class="s1">.property(</span><span class="s3">\&quot;</span><span class="s1">__brush</span><span class="s3">\&quot;</span><span class="s1">, initialize)</span><span class="s3">\n      </span><span class="s1">.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.overlay</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">.data([type(</span><span class="s3">\&quot;</span><span class="s1">overlay</span><span class="s3">\&quot;</span><span class="s1">)]);</span><span class="s3">\n\n    </span><span class="s1">overlay.enter().append(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">overlay</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">pointer-events</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">all</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">cursor</span><span class="s3">\&quot;</span><span class="s1">, cursors.overlay)</span><span class="s3">\n      </span><span class="s1">.merge(overlay)</span><span class="s3">\n        </span><span class="s1">.each(function() {</span><span class="s3">\n          </span><span class="s1">var extent = local(this).extent;</span><span class="s3">\n          </span><span class="s1">select(this)</span><span class="s3">\n              </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, extent[0][0])</span><span class="s3">\n              </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, extent[0][1])</span><span class="s3">\n              </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, extent[1][0] - extent[0][0])</span><span class="s3">\n              </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, extent[1][1] - extent[0][1]);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">group.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.selection</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">.data([type(</span><span class="s3">\&quot;</span><span class="s1">selection</span><span class="s3">\&quot;</span><span class="s1">)])</span><span class="s3">\n      </span><span class="s1">.enter().append(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">selection</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">cursor</span><span class="s3">\&quot;</span><span class="s1">, cursors.selection)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">#777</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">fill-opacity</span><span class="s3">\&quot;</span><span class="s1">, 0.3)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">stroke</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">#fff</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">shape-rendering</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">crispEdges</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">var handle = group.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.handle</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">.data(dim.handles, function(d) { return d.type; });</span><span class="s3">\n\n    </span><span class="s1">handle.exit().remove();</span><span class="s3">\n\n    </span><span class="s1">handle.enter().append(</span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">, function(d) { return </span><span class="s3">\&quot;</span><span class="s1">handle handle--</span><span class="s3">\&quot; </span><span class="s1">+ d.type; })</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">cursor</span><span class="s3">\&quot;</span><span class="s1">, function(d) { return cursors[d.type]; });</span><span class="s3">\n\n    </span><span class="s1">group</span><span class="s3">\n        </span><span class="s1">.each(redraw)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">pointer-events</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">all</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">mousedown.brush</span><span class="s3">\&quot;</span><span class="s1">, started)</span><span class="s3">\n      </span><span class="s1">.filter(touchable)</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">touchstart.brush</span><span class="s3">\&quot;</span><span class="s1">, started)</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">touchmove.brush</span><span class="s3">\&quot;</span><span class="s1">, touchmoved)</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">touchend.brush touchcancel.brush</span><span class="s3">\&quot;</span><span class="s1">, touchended)</span><span class="s3">\n        </span><span class="s1">.style(</span><span class="s3">\&quot;</span><span class="s1">touch-action</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.style(</span><span class="s3">\&quot;</span><span class="s1">-webkit-tap-highlight-color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rgba(0,0,0,0)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">brush.move = function(group, selection, event) {</span><span class="s3">\n    </span><span class="s1">if (group.tween) {</span><span class="s3">\n      </span><span class="s1">group</span><span class="s3">\n          </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">start.brush</span><span class="s3">\&quot;</span><span class="s1">, function(event) { emitter(this, arguments).beforestart().start(event); })</span><span class="s3">\n          </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">interrupt.brush end.brush</span><span class="s3">\&quot;</span><span class="s1">, function(event) { emitter(this, arguments).end(event); })</span><span class="s3">\n          </span><span class="s1">.tween(</span><span class="s3">\&quot;</span><span class="s1">brush</span><span class="s3">\&quot;</span><span class="s1">, function() {</span><span class="s3">\n            </span><span class="s1">var that = this,</span><span class="s3">\n                </span><span class="s1">state = that.__brush,</span><span class="s3">\n                </span><span class="s1">emit = emitter(that, arguments),</span><span class="s3">\n                </span><span class="s1">selection0 = state.selection,</span><span class="s3">\n                </span><span class="s1">selection1 = dim.input(typeof selection === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? selection.apply(this, arguments) : selection, state.extent),</span><span class="s3">\n                </span><span class="s1">i = interpolate(selection0, selection1);</span><span class="s3">\n\n            </span><span class="s1">function tween(t) {</span><span class="s3">\n              </span><span class="s1">state.selection = t === 1 &amp;&amp; selection1 === null ? null : i(t);</span><span class="s3">\n              </span><span class="s1">redraw.call(that);</span><span class="s3">\n              </span><span class="s1">emit.brush();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">return selection0 !== null &amp;&amp; selection1 !== null ? tween : tween(1);</span><span class="s3">\n          </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">group</span><span class="s3">\n          </span><span class="s1">.each(function() {</span><span class="s3">\n            </span><span class="s1">var that = this,</span><span class="s3">\n                </span><span class="s1">args = arguments,</span><span class="s3">\n                </span><span class="s1">state = that.__brush,</span><span class="s3">\n                </span><span class="s1">selection1 = dim.input(typeof selection === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? selection.apply(that, args) : selection, state.extent),</span><span class="s3">\n                </span><span class="s1">emit = emitter(that, args).beforestart();</span><span class="s3">\n\n            </span><span class="s1">interrupt(that);</span><span class="s3">\n            </span><span class="s1">state.selection = selection1 === null ? null : selection1;</span><span class="s3">\n            </span><span class="s1">redraw.call(that);</span><span class="s3">\n            </span><span class="s1">emit.start(event).brush(event).end(event);</span><span class="s3">\n          </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">brush.clear = function(group, event) {</span><span class="s3">\n    </span><span class="s1">brush.move(group, null, event);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">function redraw() {</span><span class="s3">\n    </span><span class="s1">var group = select(this),</span><span class="s3">\n        </span><span class="s1">selection = local(this).selection;</span><span class="s3">\n\n    </span><span class="s1">if (selection) {</span><span class="s3">\n      </span><span class="s1">group.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.selection</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">.style(</span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">, null)</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, selection[0][0])</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, selection[0][1])</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, selection[1][0] - selection[0][0])</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, selection[1][1] - selection[0][1]);</span><span class="s3">\n\n      </span><span class="s1">group.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.handle</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">.style(</span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">, null)</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, function(d) { return d.type[d.type.length - 1] === </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot; </span><span class="s1">? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, function(d) { return d.type[0] === </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot; </span><span class="s1">? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, function(d) { return d.type === </span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">|| d.type === </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot; </span><span class="s1">? selection[1][0] - selection[0][0] + handleSize : handleSize; })</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, function(d) { return d.type === </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot; </span><span class="s1">|| d.type === </span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot; </span><span class="s1">? selection[1][1] - selection[0][1] + handleSize : handleSize; });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">else {</span><span class="s3">\n      </span><span class="s1">group.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.selection,.handle</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">.style(</span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">, null)</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">, null)</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">width</span><span class="s3">\&quot;</span><span class="s1">, null)</span><span class="s3">\n          </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">height</span><span class="s3">\&quot;</span><span class="s1">, null);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function emitter(that, args, clean) {</span><span class="s3">\n    </span><span class="s1">var emit = that.__brush.emitter;</span><span class="s3">\n    </span><span class="s1">return emit &amp;&amp; (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function Emitter(that, args, clean) {</span><span class="s3">\n    </span><span class="s1">this.that = that;</span><span class="s3">\n    </span><span class="s1">this.args = args;</span><span class="s3">\n    </span><span class="s1">this.state = that.__brush;</span><span class="s3">\n    </span><span class="s1">this.active = 0;</span><span class="s3">\n    </span><span class="s1">this.clean = clean;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">Emitter.prototype = {</span><span class="s3">\n    </span><span class="s1">beforestart: function() {</span><span class="s3">\n      </span><span class="s1">if (++this.active === 1) this.state.emitter = this, this.starting = true;</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">start: function(event, mode) {</span><span class="s3">\n      </span><span class="s1">if (this.starting) this.starting = false, this.emit(</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">, event, mode);</span><span class="s3">\n      </span><span class="s1">else this.emit(</span><span class="s3">\&quot;</span><span class="s1">brush</span><span class="s3">\&quot;</span><span class="s1">, event);</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">brush: function(event, mode) {</span><span class="s3">\n      </span><span class="s1">this.emit(</span><span class="s3">\&quot;</span><span class="s1">brush</span><span class="s3">\&quot;</span><span class="s1">, event, mode);</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">end: function(event, mode) {</span><span class="s3">\n      </span><span class="s1">if (--this.active === 0) delete this.state.emitter, this.emit(</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">, event, mode);</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">emit: function(type, event, mode) {</span><span class="s3">\n      </span><span class="s1">var d = select(this.that).datum();</span><span class="s3">\n      </span><span class="s1">listeners.call(</span><span class="s3">\n        </span><span class="s1">type,</span><span class="s3">\n        </span><span class="s1">this.that,</span><span class="s3">\n        </span><span class="s1">new BrushEvent(type, {</span><span class="s3">\n          </span><span class="s1">sourceEvent: event,</span><span class="s3">\n          </span><span class="s1">target: brush,</span><span class="s3">\n          </span><span class="s1">selection: dim.output(this.state.selection),</span><span class="s3">\n          </span><span class="s1">mode,</span><span class="s3">\n          </span><span class="s1">dispatch: listeners</span><span class="s3">\n        </span><span class="s1">}),</span><span class="s3">\n        </span><span class="s1">d</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">function started(event) {</span><span class="s3">\n    </span><span class="s1">if (touchending &amp;&amp; !event.touches) return;</span><span class="s3">\n    </span><span class="s1">if (!filter.apply(this, arguments)) return;</span><span class="s3">\n\n    </span><span class="s1">var that = this,</span><span class="s3">\n        </span><span class="s1">type = event.target.__data__.type,</span><span class="s3">\n        </span><span class="s1">mode = (keys &amp;&amp; event.metaKey ? type = </span><span class="s3">\&quot;</span><span class="s1">overlay</span><span class="s3">\&quot; </span><span class="s1">: type) === </span><span class="s3">\&quot;</span><span class="s1">selection</span><span class="s3">\&quot; </span><span class="s1">? MODE_DRAG : (keys &amp;&amp; event.altKey ? MODE_CENTER : MODE_HANDLE),</span><span class="s3">\n        </span><span class="s1">signX = dim === Y ? null : signsX[type],</span><span class="s3">\n        </span><span class="s1">signY = dim === X ? null : signsY[type],</span><span class="s3">\n        </span><span class="s1">state = local(that),</span><span class="s3">\n        </span><span class="s1">extent = state.extent,</span><span class="s3">\n        </span><span class="s1">selection = state.selection,</span><span class="s3">\n        </span><span class="s1">W = extent[0][0], w0, w1,</span><span class="s3">\n        </span><span class="s1">N = extent[0][1], n0, n1,</span><span class="s3">\n        </span><span class="s1">E = extent[1][0], e0, e1,</span><span class="s3">\n        </span><span class="s1">S = extent[1][1], s0, s1,</span><span class="s3">\n        </span><span class="s1">dx = 0,</span><span class="s3">\n        </span><span class="s1">dy = 0,</span><span class="s3">\n        </span><span class="s1">moving,</span><span class="s3">\n        </span><span class="s1">shifting = signX &amp;&amp; signY &amp;&amp; keys &amp;&amp; event.shiftKey,</span><span class="s3">\n        </span><span class="s1">lockX,</span><span class="s3">\n        </span><span class="s1">lockY,</span><span class="s3">\n        </span><span class="s1">points = Array.from(event.touches || [event], t =&gt; {</span><span class="s3">\n          </span><span class="s1">const i = t.identifier;</span><span class="s3">\n          </span><span class="s1">t = pointer(t, that);</span><span class="s3">\n          </span><span class="s1">t.point0 = t.slice();</span><span class="s3">\n          </span><span class="s1">t.identifier = i;</span><span class="s3">\n          </span><span class="s1">return t;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n\n    </span><span class="s1">interrupt(that);</span><span class="s3">\n    </span><span class="s1">var emit = emitter(that, arguments, true).beforestart();</span><span class="s3">\n\n    </span><span class="s1">if (type === </span><span class="s3">\&quot;</span><span class="s1">overlay</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n      </span><span class="s1">if (selection) moving = true;</span><span class="s3">\n      </span><span class="s1">const pts = [points[0], points[1] || points[0]];</span><span class="s3">\n      </span><span class="s1">state.selection = selection = [[</span><span class="s3">\n          </span><span class="s1">w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),</span><span class="s3">\n          </span><span class="s1">n0 = dim === X ? N : min(pts[0][1], pts[1][1])</span><span class="s3">\n        </span><span class="s1">], [</span><span class="s3">\n          </span><span class="s1">e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),</span><span class="s3">\n          </span><span class="s1">s0 = dim === X ? S : max(pts[0][1], pts[1][1])</span><span class="s3">\n        </span><span class="s1">]];</span><span class="s3">\n      </span><span class="s1">if (points.length &gt; 1) move(event);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">w0 = selection[0][0];</span><span class="s3">\n      </span><span class="s1">n0 = selection[0][1];</span><span class="s3">\n      </span><span class="s1">e0 = selection[1][0];</span><span class="s3">\n      </span><span class="s1">s0 = selection[1][1];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">w1 = w0;</span><span class="s3">\n    </span><span class="s1">n1 = n0;</span><span class="s3">\n    </span><span class="s1">e1 = e0;</span><span class="s3">\n    </span><span class="s1">s1 = s0;</span><span class="s3">\n\n    </span><span class="s1">var group = select(that)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">pointer-events</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n    </span><span class="s1">var overlay = group.selectAll(</span><span class="s3">\&quot;</span><span class="s1">.overlay</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.attr(</span><span class="s3">\&quot;</span><span class="s1">cursor</span><span class="s3">\&quot;</span><span class="s1">, cursors[type]);</span><span class="s3">\n\n    </span><span class="s1">if (event.touches) {</span><span class="s3">\n      </span><span class="s1">emit.moved = moved;</span><span class="s3">\n      </span><span class="s1">emit.ended = ended;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">var view = select(event.view)</span><span class="s3">\n          </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">mousemove.brush</span><span class="s3">\&quot;</span><span class="s1">, moved, true)</span><span class="s3">\n          </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">mouseup.brush</span><span class="s3">\&quot;</span><span class="s1">, ended, true);</span><span class="s3">\n      </span><span class="s1">if (keys) view</span><span class="s3">\n          </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">keydown.brush</span><span class="s3">\&quot;</span><span class="s1">, keydowned, true)</span><span class="s3">\n          </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">keyup.brush</span><span class="s3">\&quot;</span><span class="s1">, keyupped, true)</span><span class="s3">\n\n      </span><span class="s1">dragDisable(event.view);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">redraw.call(that);</span><span class="s3">\n    </span><span class="s1">emit.start(event, mode.name);</span><span class="s3">\n\n    </span><span class="s1">function moved(event) {</span><span class="s3">\n      </span><span class="s1">for (const p of event.changedTouches || [event]) {</span><span class="s3">\n        </span><span class="s1">for (const d of points)</span><span class="s3">\n          </span><span class="s1">if (d.identifier === p.identifier) d.cur = pointer(p, that);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (shifting &amp;&amp; !lockX &amp;&amp; !lockY &amp;&amp; points.length === 1) {</span><span class="s3">\n        </span><span class="s1">const point = points[0];</span><span class="s3">\n        </span><span class="s1">if (abs(point.cur[0] - point[0]) &gt; abs(point.cur[1] - point[1]))</span><span class="s3">\n          </span><span class="s1">lockY = true;</span><span class="s3">\n        </span><span class="s1">else</span><span class="s3">\n          </span><span class="s1">lockX = true;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">for (const point of points)</span><span class="s3">\n        </span><span class="s1">if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];</span><span class="s3">\n      </span><span class="s1">moving = true;</span><span class="s3">\n      </span><span class="s1">noevent(event);</span><span class="s3">\n      </span><span class="s1">move(event);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">function move(event) {</span><span class="s3">\n      </span><span class="s1">const point = points[0], point0 = point.point0;</span><span class="s3">\n      </span><span class="s1">var t;</span><span class="s3">\n\n      </span><span class="s1">dx = point[0] - point0[0];</span><span class="s3">\n      </span><span class="s1">dy = point[1] - point0[1];</span><span class="s3">\n\n      </span><span class="s1">switch (mode) {</span><span class="s3">\n        </span><span class="s1">case MODE_SPACE:</span><span class="s3">\n        </span><span class="s1">case MODE_DRAG: {</span><span class="s3">\n          </span><span class="s1">if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;</span><span class="s3">\n          </span><span class="s1">if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">case MODE_HANDLE: {</span><span class="s3">\n          </span><span class="s1">if (points[1]) {</span><span class="s3">\n            </span><span class="s1">if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;</span><span class="s3">\n            </span><span class="s1">if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">if (signX &lt; 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;</span><span class="s3">\n            </span><span class="s1">else if (signX &gt; 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;</span><span class="s3">\n            </span><span class="s1">if (signY &lt; 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;</span><span class="s3">\n            </span><span class="s1">else if (signY &gt; 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">case MODE_CENTER: {</span><span class="s3">\n          </span><span class="s1">if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));</span><span class="s3">\n          </span><span class="s1">if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (e1 &lt; w1) {</span><span class="s3">\n        </span><span class="s1">signX *= -1;</span><span class="s3">\n        </span><span class="s1">t = w0, w0 = e0, e0 = t;</span><span class="s3">\n        </span><span class="s1">t = w1, w1 = e1, e1 = t;</span><span class="s3">\n        </span><span class="s1">if (type in flipX) overlay.attr(</span><span class="s3">\&quot;</span><span class="s1">cursor</span><span class="s3">\&quot;</span><span class="s1">, cursors[type = flipX[type]]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (s1 &lt; n1) {</span><span class="s3">\n        </span><span class="s1">signY *= -1;</span><span class="s3">\n        </span><span class="s1">t = n0, n0 = s0, s0 = t;</span><span class="s3">\n        </span><span class="s1">t = n1, n1 = s1, s1 = t;</span><span class="s3">\n        </span><span class="s1">if (type in flipY) overlay.attr(</span><span class="s3">\&quot;</span><span class="s1">cursor</span><span class="s3">\&quot;</span><span class="s1">, cursors[type = flipY[type]]);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">if (state.selection) selection = state.selection; // May be set by brush.move!</span><span class="s3">\n      </span><span class="s1">if (lockX) w1 = selection[0][0], e1 = selection[1][0];</span><span class="s3">\n      </span><span class="s1">if (lockY) n1 = selection[0][1], s1 = selection[1][1];</span><span class="s3">\n\n      </span><span class="s1">if (selection[0][0] !== w1</span><span class="s3">\n          </span><span class="s1">|| selection[0][1] !== n1</span><span class="s3">\n          </span><span class="s1">|| selection[1][0] !== e1</span><span class="s3">\n          </span><span class="s1">|| selection[1][1] !== s1) {</span><span class="s3">\n        </span><span class="s1">state.selection = [[w1, n1], [e1, s1]];</span><span class="s3">\n        </span><span class="s1">redraw.call(that);</span><span class="s3">\n        </span><span class="s1">emit.brush(event, mode.name);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">function ended(event) {</span><span class="s3">\n      </span><span class="s1">nopropagation(event);</span><span class="s3">\n      </span><span class="s1">if (event.touches) {</span><span class="s3">\n        </span><span class="s1">if (event.touches.length) return;</span><span class="s3">\n        </span><span class="s1">if (touchending) clearTimeout(touchending);</span><span class="s3">\n        </span><span class="s1">touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">dragEnable(event.view, moving);</span><span class="s3">\n        </span><span class="s1">view.on(</span><span class="s3">\&quot;</span><span class="s1">keydown.brush keyup.brush mousemove.brush mouseup.brush</span><span class="s3">\&quot;</span><span class="s1">, null);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">group.attr(</span><span class="s3">\&quot;</span><span class="s1">pointer-events</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">all</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">overlay.attr(</span><span class="s3">\&quot;</span><span class="s1">cursor</span><span class="s3">\&quot;</span><span class="s1">, cursors.overlay);</span><span class="s3">\n      </span><span class="s1">if (state.selection) selection = state.selection; // May be set by brush.move (on start)!</span><span class="s3">\n      </span><span class="s1">if (empty(selection)) state.selection = null, redraw.call(that);</span><span class="s3">\n      </span><span class="s1">emit.end(event, mode.name);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">function keydowned(event) {</span><span class="s3">\n      </span><span class="s1">switch (event.keyCode) {</span><span class="s3">\n        </span><span class="s1">case 16: { // SHIFT</span><span class="s3">\n          </span><span class="s1">shifting = signX &amp;&amp; signY;</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">case 18: { // ALT</span><span class="s3">\n          </span><span class="s1">if (mode === MODE_HANDLE) {</span><span class="s3">\n            </span><span class="s1">if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;</span><span class="s3">\n            </span><span class="s1">if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;</span><span class="s3">\n            </span><span class="s1">mode = MODE_CENTER;</span><span class="s3">\n            </span><span class="s1">move(event);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">case 32: { // SPACE; takes priority over ALT</span><span class="s3">\n          </span><span class="s1">if (mode === MODE_HANDLE || mode === MODE_CENTER) {</span><span class="s3">\n            </span><span class="s1">if (signX &lt; 0) e0 = e1 - dx; else if (signX &gt; 0) w0 = w1 - dx;</span><span class="s3">\n            </span><span class="s1">if (signY &lt; 0) s0 = s1 - dy; else if (signY &gt; 0) n0 = n1 - dy;</span><span class="s3">\n            </span><span class="s1">mode = MODE_SPACE;</span><span class="s3">\n            </span><span class="s1">overlay.attr(</span><span class="s3">\&quot;</span><span class="s1">cursor</span><span class="s3">\&quot;</span><span class="s1">, cursors.selection);</span><span class="s3">\n            </span><span class="s1">move(event);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">default: return;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">noevent(event);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">function keyupped(event) {</span><span class="s3">\n      </span><span class="s1">switch (event.keyCode) {</span><span class="s3">\n        </span><span class="s1">case 16: { // SHIFT</span><span class="s3">\n          </span><span class="s1">if (shifting) {</span><span class="s3">\n            </span><span class="s1">lockX = lockY = shifting = false;</span><span class="s3">\n            </span><span class="s1">move(event);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">case 18: { // ALT</span><span class="s3">\n          </span><span class="s1">if (mode === MODE_CENTER) {</span><span class="s3">\n            </span><span class="s1">if (signX &lt; 0) e0 = e1; else if (signX &gt; 0) w0 = w1;</span><span class="s3">\n            </span><span class="s1">if (signY &lt; 0) s0 = s1; else if (signY &gt; 0) n0 = n1;</span><span class="s3">\n            </span><span class="s1">mode = MODE_HANDLE;</span><span class="s3">\n            </span><span class="s1">move(event);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">case 32: { // SPACE</span><span class="s3">\n          </span><span class="s1">if (mode === MODE_SPACE) {</span><span class="s3">\n            </span><span class="s1">if (event.altKey) {</span><span class="s3">\n              </span><span class="s1">if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;</span><span class="s3">\n              </span><span class="s1">if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;</span><span class="s3">\n              </span><span class="s1">mode = MODE_CENTER;</span><span class="s3">\n            </span><span class="s1">} else {</span><span class="s3">\n              </span><span class="s1">if (signX &lt; 0) e0 = e1; else if (signX &gt; 0) w0 = w1;</span><span class="s3">\n              </span><span class="s1">if (signY &lt; 0) s0 = s1; else if (signY &gt; 0) n0 = n1;</span><span class="s3">\n              </span><span class="s1">mode = MODE_HANDLE;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">overlay.attr(</span><span class="s3">\&quot;</span><span class="s1">cursor</span><span class="s3">\&quot;</span><span class="s1">, cursors[type]);</span><span class="s3">\n            </span><span class="s1">move(event);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">default: return;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">noevent(event);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function touchmoved(event) {</span><span class="s3">\n    </span><span class="s1">emitter(this, arguments).moved(event);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function touchended(event) {</span><span class="s3">\n    </span><span class="s1">emitter(this, arguments).ended(event);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function initialize() {</span><span class="s3">\n    </span><span class="s1">var state = this.__brush || {selection: null};</span><span class="s3">\n    </span><span class="s1">state.extent = number2(extent.apply(this, arguments));</span><span class="s3">\n    </span><span class="s1">state.dim = dim;</span><span class="s3">\n    </span><span class="s1">return state;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">brush.extent = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (extent = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(number2(_)), brush) : extent;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">brush.filter = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (filter = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(!!_), brush) : filter;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">brush.touchable = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (touchable = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(!!_), brush) : touchable;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">brush.handleSize = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (handleSize = +_, brush) : handleSize;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">brush.keyModifiers = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (keys = !!_, brush) : keys;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">brush.on = function() {</span><span class="s3">\n    </span><span class="s1">var value = listeners.on.apply(listeners, arguments);</span><span class="s3">\n    </span><span class="s1">return value === listeners ? brush : value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return brush;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export {</span><span class="s3">\n  </span><span class="s1">default as brush,</span><span class="s3">\n  </span><span class="s1">brushX,</span><span class="s3">\n  </span><span class="s1">brushY,</span><span class="s3">\n  </span><span class="s1">brushSelection</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./brush.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {range as sequence} from </span><span class="s3">\&quot;</span><span class="s1">d3-array</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {initRange} from </span><span class="s3">\&quot;</span><span class="s1">./init.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import ordinal from </span><span class="s3">\&quot;</span><span class="s1">./ordinal.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function band() {</span><span class="s3">\n  </span><span class="s1">var scale = ordinal().unknown(undefined),</span><span class="s3">\n      </span><span class="s1">domain = scale.domain,</span><span class="s3">\n      </span><span class="s1">ordinalRange = scale.range,</span><span class="s3">\n      </span><span class="s1">r0 = 0,</span><span class="s3">\n      </span><span class="s1">r1 = 1,</span><span class="s3">\n      </span><span class="s1">step,</span><span class="s3">\n      </span><span class="s1">bandwidth,</span><span class="s3">\n      </span><span class="s1">round = false,</span><span class="s3">\n      </span><span class="s1">paddingInner = 0,</span><span class="s3">\n      </span><span class="s1">paddingOuter = 0,</span><span class="s3">\n      </span><span class="s1">align = 0.5;</span><span class="s3">\n\n  </span><span class="s1">delete scale.unknown;</span><span class="s3">\n\n  </span><span class="s1">function rescale() {</span><span class="s3">\n    </span><span class="s1">var n = domain().length,</span><span class="s3">\n        </span><span class="s1">reverse = r1 &lt; r0,</span><span class="s3">\n        </span><span class="s1">start = reverse ? r1 : r0,</span><span class="s3">\n        </span><span class="s1">stop = reverse ? r0 : r1;</span><span class="s3">\n    </span><span class="s1">step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);</span><span class="s3">\n    </span><span class="s1">if (round) step = Math.floor(step);</span><span class="s3">\n    </span><span class="s1">start += (stop - start - step * (n - paddingInner)) * align;</span><span class="s3">\n    </span><span class="s1">bandwidth = step * (1 - paddingInner);</span><span class="s3">\n    </span><span class="s1">if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);</span><span class="s3">\n    </span><span class="s1">var values = sequence(n).map(function(i) { return start + step * i; });</span><span class="s3">\n    </span><span class="s1">return ordinalRange(reverse ? values.reverse() : values);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">scale.domain = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (domain(_), rescale()) : domain();</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.range = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.rangeRound = function(_) {</span><span class="s3">\n    </span><span class="s1">return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.bandwidth = function() {</span><span class="s3">\n    </span><span class="s1">return bandwidth;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.step = function() {</span><span class="s3">\n    </span><span class="s1">return step;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.round = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (round = !!_, rescale()) : round;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.padding = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.paddingInner = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.paddingOuter = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.align = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.copy = function() {</span><span class="s3">\n    </span><span class="s1">return band(domain(), [r0, r1])</span><span class="s3">\n        </span><span class="s1">.round(round)</span><span class="s3">\n        </span><span class="s1">.paddingInner(paddingInner)</span><span class="s3">\n        </span><span class="s1">.paddingOuter(paddingOuter)</span><span class="s3">\n        </span><span class="s1">.align(align);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return initRange.apply(rescale(), arguments);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function pointish(scale) {</span><span class="s3">\n  </span><span class="s1">var copy = scale.copy;</span><span class="s3">\n\n  </span><span class="s1">scale.padding = scale.paddingOuter;</span><span class="s3">\n  </span><span class="s1">delete scale.paddingInner;</span><span class="s3">\n  </span><span class="s1">delete scale.paddingOuter;</span><span class="s3">\n\n  </span><span class="s1">scale.copy = function() {</span><span class="s3">\n    </span><span class="s1">return pointish(copy());</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return scale;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function point() {</span><span class="s3">\n  </span><span class="s1">return pointish(band.apply(null, arguments).paddingInner(1));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export {</span><span class="s3">\n  </span><span class="s1">default as scaleBand,</span><span class="s3">\n  </span><span class="s1">point as scalePoint</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./band.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleIdentity</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./identity.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleLinear</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./linear.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleLog</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./log.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleSymlog</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./symlog.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleOrdinal,</span><span class="s3">\n  </span><span class="s1">implicit as scaleImplicit</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./ordinal.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scalePow,</span><span class="s3">\n  </span><span class="s1">sqrt as scaleSqrt</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./pow.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleRadial</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./radial.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleQuantile</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./quantile.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleQuantize</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./quantize.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleThreshold</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./threshold.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleTime</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./time.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleUtc</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./utcTime.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleSequential,</span><span class="s3">\n  </span><span class="s1">sequentialLog as scaleSequentialLog,</span><span class="s3">\n  </span><span class="s1">sequentialPow as scaleSequentialPow,</span><span class="s3">\n  </span><span class="s1">sequentialSqrt as scaleSequentialSqrt,</span><span class="s3">\n  </span><span class="s1">sequentialSymlog as scaleSequentialSymlog</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./sequential.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleSequentialQuantile</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./sequentialQuantile.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as scaleDiverging,</span><span class="s3">\n  </span><span class="s1">divergingLog as scaleDivergingLog,</span><span class="s3">\n  </span><span class="s1">divergingPow as scaleDivergingPow,</span><span class="s3">\n  </span><span class="s1">divergingSqrt as scaleDivergingSqrt,</span><span class="s3">\n  </span><span class="s1">divergingSymlog as scaleDivergingSymlog</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./diverging.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">default as tickFormat</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./tickFormat.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import colors from </span><span class="s3">\&quot;</span><span class="s1">../colors.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default colors(</span><span class="s3">\&quot;</span><span class="s1">4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export {default as schemeCategory10} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/category10.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as schemeAccent} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/Accent.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as schemeDark2} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/Dark2.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as schemeObservable10} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/observable10.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as schemePaired} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/Paired.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as schemePastel1} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/Pastel1.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as schemePastel2} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/Pastel2.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as schemeSet1} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/Set1.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as schemeSet2} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/Set2.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as schemeSet3} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/Set3.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as schemeTableau10} from </span><span class="s3">\&quot;</span><span class="s1">./categorical/Tableau10.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateBrBG, scheme as schemeBrBG} from </span><span class="s3">\&quot;</span><span class="s1">./diverging/BrBG.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolatePRGn, scheme as schemePRGn} from </span><span class="s3">\&quot;</span><span class="s1">./diverging/PRGn.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolatePiYG, scheme as schemePiYG} from </span><span class="s3">\&quot;</span><span class="s1">./diverging/PiYG.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolatePuOr, scheme as schemePuOr} from </span><span class="s3">\&quot;</span><span class="s1">./diverging/PuOr.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateRdBu, scheme as schemeRdBu} from </span><span class="s3">\&quot;</span><span class="s1">./diverging/RdBu.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateRdGy, scheme as schemeRdGy} from </span><span class="s3">\&quot;</span><span class="s1">./diverging/RdGy.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateRdYlBu, scheme as schemeRdYlBu} from </span><span class="s3">\&quot;</span><span class="s1">./diverging/RdYlBu.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateRdYlGn, scheme as schemeRdYlGn} from </span><span class="s3">\&quot;</span><span class="s1">./diverging/RdYlGn.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateSpectral, scheme as schemeSpectral} from </span><span class="s3">\&quot;</span><span class="s1">./diverging/Spectral.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateBuGn, scheme as schemeBuGn} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/BuGn.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateBuPu, scheme as schemeBuPu} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/BuPu.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateGnBu, scheme as schemeGnBu} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/GnBu.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateOrRd, scheme as schemeOrRd} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/OrRd.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolatePuBuGn, scheme as schemePuBuGn} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/PuBuGn.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolatePuBu, scheme as schemePuBu} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/PuBu.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolatePuRd, scheme as schemePuRd} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/PuRd.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateRdPu, scheme as schemeRdPu} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/RdPu.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateYlGnBu, scheme as schemeYlGnBu} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/YlGnBu.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateYlGn, scheme as schemeYlGn} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/YlGn.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateYlOrBr, scheme as schemeYlOrBr} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/YlOrBr.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateYlOrRd, scheme as schemeYlOrRd} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/YlOrRd.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateBlues, scheme as schemeBlues} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-single/Blues.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateGreens, scheme as schemeGreens} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-single/Greens.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateGreys, scheme as schemeGreys} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-single/Greys.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolatePurples, scheme as schemePurples} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-single/Purples.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateReds, scheme as schemeReds} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-single/Reds.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateOranges, scheme as schemeOranges} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-single/Oranges.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateCividis} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/cividis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateCubehelixDefault} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/cubehelix.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateRainbow, warm as interpolateWarm, cool as interpolateCool} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/rainbow.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateSinebow} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/sinebow.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateTurbo} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/turbo.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateViridis, magma as interpolateMagma, inferno as interpolateInferno, plasma as interpolatePlasma} from </span><span class="s3">\&quot;</span><span class="s1">./sequential-multi/viridis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Selection, root} from </span><span class="s3">\&quot;</span><span class="s1">./selection/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(selector) {</span><span class="s3">\n  </span><span class="s1">return typeof selector === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;\n      </span><span class="s1">? new Selection([[document.querySelector(selector)]], [document.documentElement])</span><span class="s3">\n      </span><span class="s1">: new Selection([[selector]], root);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export {default as create} from </span><span class="s3">\&quot;</span><span class="s1">./create.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as creator} from </span><span class="s3">\&quot;</span><span class="s1">./creator.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as local} from </span><span class="s3">\&quot;</span><span class="s1">./local.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as matcher} from </span><span class="s3">\&quot;</span><span class="s1">./matcher.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as namespace} from </span><span class="s3">\&quot;</span><span class="s1">./namespace.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as namespaces} from </span><span class="s3">\&quot;</span><span class="s1">./namespaces.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as pointer} from </span><span class="s3">\&quot;</span><span class="s1">./pointer.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as pointers} from </span><span class="s3">\&quot;</span><span class="s1">./pointers.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as select} from </span><span class="s3">\&quot;</span><span class="s1">./select.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as selectAll} from </span><span class="s3">\&quot;</span><span class="s1">./selectAll.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as selection} from </span><span class="s3">\&quot;</span><span class="s1">./selection/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as selector} from </span><span class="s3">\&quot;</span><span class="s1">./selector.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as selectorAll} from </span><span class="s3">\&quot;</span><span class="s1">./selectorAll.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {styleValue as style} from </span><span class="s3">\&quot;</span><span class="s1">./selection/style.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as window} from </span><span class="s3">\&quot;</span><span class="s1">./window.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">return b &lt; a ? -1 : b &gt; a ? 1 : b &gt;= a ? 0 : NaN;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(d) {</span><span class="s3">\n  </span><span class="s1">return d;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import array from </span><span class="s3">\&quot;</span><span class="s1">./array.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import constant from </span><span class="s3">\&quot;</span><span class="s1">./constant.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import descending from </span><span class="s3">\&quot;</span><span class="s1">./descending.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import identity from </span><span class="s3">\&quot;</span><span class="s1">./identity.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {tau} from </span><span class="s3">\&quot;</span><span class="s1">./math.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">var value = identity,</span><span class="s3">\n      </span><span class="s1">sortValues = descending,</span><span class="s3">\n      </span><span class="s1">sort = null,</span><span class="s3">\n      </span><span class="s1">startAngle = constant(0),</span><span class="s3">\n      </span><span class="s1">endAngle = constant(tau),</span><span class="s3">\n      </span><span class="s1">padAngle = constant(0);</span><span class="s3">\n\n  </span><span class="s1">function pie(data) {</span><span class="s3">\n    </span><span class="s1">var i,</span><span class="s3">\n        </span><span class="s1">n = (data = array(data)).length,</span><span class="s3">\n        </span><span class="s1">j,</span><span class="s3">\n        </span><span class="s1">k,</span><span class="s3">\n        </span><span class="s1">sum = 0,</span><span class="s3">\n        </span><span class="s1">index = new Array(n),</span><span class="s3">\n        </span><span class="s1">arcs = new Array(n),</span><span class="s3">\n        </span><span class="s1">a0 = +startAngle.apply(this, arguments),</span><span class="s3">\n        </span><span class="s1">da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),</span><span class="s3">\n        </span><span class="s1">a1,</span><span class="s3">\n        </span><span class="s1">p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),</span><span class="s3">\n        </span><span class="s1">pa = p * (da &lt; 0 ? -1 : 1),</span><span class="s3">\n        </span><span class="s1">v;</span><span class="s3">\n\n    </span><span class="s1">for (i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">if ((v = arcs[index[i] = i] = +value(data[i], i, data)) &gt; 0) {</span><span class="s3">\n        </span><span class="s1">sum += v;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Optionally sort the arcs by previously-computed values or by data.</span><span class="s3">\n    </span><span class="s1">if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });</span><span class="s3">\n    </span><span class="s1">else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });</span><span class="s3">\n\n    </span><span class="s1">// Compute the arcs! They are stored in the original data's order.</span><span class="s3">\n    </span><span class="s1">for (i = 0, k = sum ? (da - n * pa) / sum : 0; i &lt; n; ++i, a0 = a1) {</span><span class="s3">\n      </span><span class="s1">j = index[i], v = arcs[j], a1 = a0 + (v &gt; 0 ? v * k : 0) + pa, arcs[j] = {</span><span class="s3">\n        </span><span class="s1">data: data[j],</span><span class="s3">\n        </span><span class="s1">index: i,</span><span class="s3">\n        </span><span class="s1">value: v,</span><span class="s3">\n        </span><span class="s1">startAngle: a0,</span><span class="s3">\n        </span><span class="s1">endAngle: a1,</span><span class="s3">\n        </span><span class="s1">padAngle: p</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return arcs;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">pie.value = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (value = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), pie) : value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">pie.sortValues = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">pie.sort = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (sort = _, sortValues = null, pie) : sort;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">pie.startAngle = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (startAngle = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), pie) : startAngle;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">pie.endAngle = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (endAngle = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), pie) : endAngle;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">pie.padAngle = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (padAngle = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), pie) : padAngle;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return pie;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import pointRadial from </span><span class="s3">\&quot;</span><span class="s1">../pointRadial.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">class Bump {</span><span class="s3">\n  </span><span class="s1">constructor(context, x) {</span><span class="s3">\n    </span><span class="s1">this._context = context;</span><span class="s3">\n    </span><span class="s1">this._x = x;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">areaStart() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">areaEnd() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">lineStart() {</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">lineEnd() {</span><span class="s3">\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; this._point === 1)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">this._line = 1 - this._line;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">point(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: {</span><span class="s3">\n        </span><span class="s1">this._point = 1;</span><span class="s3">\n        </span><span class="s1">if (this._line) this._context.lineTo(x, y);</span><span class="s3">\n        </span><span class="s1">else this._context.moveTo(x, y);</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; // falls through</span><span class="s3">\n      </span><span class="s1">default: {</span><span class="s3">\n        </span><span class="s1">if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);</span><span class="s3">\n        </span><span class="s1">else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this._x0 = x, this._y0 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">class BumpRadial {</span><span class="s3">\n  </span><span class="s1">constructor(context) {</span><span class="s3">\n    </span><span class="s1">this._context = context;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">lineStart() {</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">lineEnd() {}</span><span class="s3">\n  </span><span class="s1">point(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">if (this._point === 0) {</span><span class="s3">\n      </span><span class="s1">this._point = 1;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">const p0 = pointRadial(this._x0, this._y0);</span><span class="s3">\n      </span><span class="s1">const p1 = pointRadial(this._x0, this._y0 = (this._y0 + y) / 2);</span><span class="s3">\n      </span><span class="s1">const p2 = pointRadial(x, this._y0);</span><span class="s3">\n      </span><span class="s1">const p3 = pointRadial(x, y);</span><span class="s3">\n      </span><span class="s1">this._context.moveTo(...p0);</span><span class="s3">\n      </span><span class="s1">this._context.bezierCurveTo(...p1, ...p2, ...p3);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this._x0 = x, this._y0 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function bumpX(context) {</span><span class="s3">\n  </span><span class="s1">return new Bump(context, true);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function bumpY(context) {</span><span class="s3">\n  </span><span class="s1">return new Bump(context, false);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function bumpRadial(context) {</span><span class="s3">\n  </span><span class="s1">return new BumpRadial(context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export {default as arc} from </span><span class="s3">\&quot;</span><span class="s1">./arc.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as area} from </span><span class="s3">\&quot;</span><span class="s1">./area.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as line} from </span><span class="s3">\&quot;</span><span class="s1">./line.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as pie} from </span><span class="s3">\&quot;</span><span class="s1">./pie.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as areaRadial, default as radialArea} from </span><span class="s3">\&quot;</span><span class="s1">./areaRadial.js</span><span class="s3">\&quot;</span><span class="s1">; // Note: radialArea is deprecated!</span><span class="s3">\n</span><span class="s1">export {default as lineRadial, default as radialLine} from </span><span class="s3">\&quot;</span><span class="s1">./lineRadial.js</span><span class="s3">\&quot;</span><span class="s1">; // Note: radialLine is deprecated!</span><span class="s3">\n</span><span class="s1">export {default as pointRadial} from </span><span class="s3">\&quot;</span><span class="s1">./pointRadial.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {link, linkHorizontal, linkVertical, linkRadial} from </span><span class="s3">\&quot;</span><span class="s1">./link.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {default as symbol, symbolsStroke, symbolsFill, symbolsFill as symbols} from </span><span class="s3">\&quot;</span><span class="s1">./symbol.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolAsterisk} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/asterisk.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolCircle} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/circle.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolCross} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/cross.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolDiamond} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/diamond.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolDiamond2} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/diamond2.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolPlus} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/plus.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolSquare} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/square.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolSquare2} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/square2.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolStar} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/star.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolTriangle} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/triangle.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolTriangle2} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/triangle2.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolWye} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/wye.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as symbolTimes, default as symbolX} from </span><span class="s3">\&quot;</span><span class="s1">./symbol/times.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {default as curveBasisClosed} from </span><span class="s3">\&quot;</span><span class="s1">./curve/basisClosed.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveBasisOpen} from </span><span class="s3">\&quot;</span><span class="s1">./curve/basisOpen.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveBasis} from </span><span class="s3">\&quot;</span><span class="s1">./curve/basis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {bumpX as curveBumpX, bumpY as curveBumpY} from </span><span class="s3">\&quot;</span><span class="s1">./curve/bump.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveBundle} from </span><span class="s3">\&quot;</span><span class="s1">./curve/bundle.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveCardinalClosed} from </span><span class="s3">\&quot;</span><span class="s1">./curve/cardinalClosed.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveCardinalOpen} from </span><span class="s3">\&quot;</span><span class="s1">./curve/cardinalOpen.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveCardinal} from </span><span class="s3">\&quot;</span><span class="s1">./curve/cardinal.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveCatmullRomClosed} from </span><span class="s3">\&quot;</span><span class="s1">./curve/catmullRomClosed.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveCatmullRomOpen} from </span><span class="s3">\&quot;</span><span class="s1">./curve/catmullRomOpen.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveCatmullRom} from </span><span class="s3">\&quot;</span><span class="s1">./curve/catmullRom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveLinearClosed} from </span><span class="s3">\&quot;</span><span class="s1">./curve/linearClosed.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveLinear} from </span><span class="s3">\&quot;</span><span class="s1">./curve/linear.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from </span><span class="s3">\&quot;</span><span class="s1">./curve/monotone.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveNatural} from </span><span class="s3">\&quot;</span><span class="s1">./curve/natural.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from </span><span class="s3">\&quot;</span><span class="s1">./curve/step.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {default as stack} from </span><span class="s3">\&quot;</span><span class="s1">./stack.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOffsetExpand} from </span><span class="s3">\&quot;</span><span class="s1">./offset/expand.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOffsetDiverging} from </span><span class="s3">\&quot;</span><span class="s1">./offset/diverging.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOffsetNone} from </span><span class="s3">\&quot;</span><span class="s1">./offset/none.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOffsetSilhouette} from </span><span class="s3">\&quot;</span><span class="s1">./offset/silhouette.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOffsetWiggle} from </span><span class="s3">\&quot;</span><span class="s1">./offset/wiggle.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOrderAppearance} from </span><span class="s3">\&quot;</span><span class="s1">./order/appearance.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOrderAscending} from </span><span class="s3">\&quot;</span><span class="s1">./order/ascending.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOrderDescending} from </span><span class="s3">\&quot;</span><span class="s1">./order/descending.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOrderInsideOut} from </span><span class="s3">\&quot;</span><span class="s1">./order/insideOut.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOrderNone} from </span><span class="s3">\&quot;</span><span class="s1">./order/none.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as stackOrderReverse} from </span><span class="s3">\&quot;</span><span class="s1">./order/reverse.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export {</span><span class="s3">\n  </span><span class="s1">timeInterval</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./interval.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">millisecond as utcMillisecond,</span><span class="s3">\n  </span><span class="s1">milliseconds as utcMilliseconds,</span><span class="s3">\n  </span><span class="s1">millisecond as timeMillisecond,</span><span class="s3">\n  </span><span class="s1">milliseconds as timeMilliseconds</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./millisecond.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">second as utcSecond,</span><span class="s3">\n  </span><span class="s1">seconds as utcSeconds,</span><span class="s3">\n  </span><span class="s1">second as timeSecond,</span><span class="s3">\n  </span><span class="s1">seconds as timeSeconds</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./second.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">timeMinute,</span><span class="s3">\n  </span><span class="s1">timeMinutes,</span><span class="s3">\n  </span><span class="s1">utcMinute,</span><span class="s3">\n  </span><span class="s1">utcMinutes</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./minute.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">timeHour,</span><span class="s3">\n  </span><span class="s1">timeHours,</span><span class="s3">\n  </span><span class="s1">utcHour,</span><span class="s3">\n  </span><span class="s1">utcHours</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./hour.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">timeDay,</span><span class="s3">\n  </span><span class="s1">timeDays,</span><span class="s3">\n  </span><span class="s1">utcDay,</span><span class="s3">\n  </span><span class="s1">utcDays,</span><span class="s3">\n  </span><span class="s1">unixDay,</span><span class="s3">\n  </span><span class="s1">unixDays</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./day.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">timeSunday as timeWeek,</span><span class="s3">\n  </span><span class="s1">timeSundays as timeWeeks,</span><span class="s3">\n  </span><span class="s1">timeSunday,</span><span class="s3">\n  </span><span class="s1">timeSundays,</span><span class="s3">\n  </span><span class="s1">timeMonday,</span><span class="s3">\n  </span><span class="s1">timeMondays,</span><span class="s3">\n  </span><span class="s1">timeTuesday,</span><span class="s3">\n  </span><span class="s1">timeTuesdays,</span><span class="s3">\n  </span><span class="s1">timeWednesday,</span><span class="s3">\n  </span><span class="s1">timeWednesdays,</span><span class="s3">\n  </span><span class="s1">timeThursday,</span><span class="s3">\n  </span><span class="s1">timeThursdays,</span><span class="s3">\n  </span><span class="s1">timeFriday,</span><span class="s3">\n  </span><span class="s1">timeFridays,</span><span class="s3">\n  </span><span class="s1">timeSaturday,</span><span class="s3">\n  </span><span class="s1">timeSaturdays,</span><span class="s3">\n  </span><span class="s1">utcSunday as utcWeek,</span><span class="s3">\n  </span><span class="s1">utcSundays as utcWeeks,</span><span class="s3">\n  </span><span class="s1">utcSunday,</span><span class="s3">\n  </span><span class="s1">utcSundays,</span><span class="s3">\n  </span><span class="s1">utcMonday,</span><span class="s3">\n  </span><span class="s1">utcMondays,</span><span class="s3">\n  </span><span class="s1">utcTuesday,</span><span class="s3">\n  </span><span class="s1">utcTuesdays,</span><span class="s3">\n  </span><span class="s1">utcWednesday,</span><span class="s3">\n  </span><span class="s1">utcWednesdays,</span><span class="s3">\n  </span><span class="s1">utcThursday,</span><span class="s3">\n  </span><span class="s1">utcThursdays,</span><span class="s3">\n  </span><span class="s1">utcFriday,</span><span class="s3">\n  </span><span class="s1">utcFridays,</span><span class="s3">\n  </span><span class="s1">utcSaturday,</span><span class="s3">\n  </span><span class="s1">utcSaturdays</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./week.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">timeMonth,</span><span class="s3">\n  </span><span class="s1">timeMonths,</span><span class="s3">\n  </span><span class="s1">utcMonth,</span><span class="s3">\n  </span><span class="s1">utcMonths</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./month.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">timeYear,</span><span class="s3">\n  </span><span class="s1">timeYears,</span><span class="s3">\n  </span><span class="s1">utcYear,</span><span class="s3">\n  </span><span class="s1">utcYears</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./year.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export {</span><span class="s3">\n  </span><span class="s1">utcTicks,</span><span class="s3">\n  </span><span class="s1">utcTickInterval,</span><span class="s3">\n  </span><span class="s1">timeTicks,</span><span class="s3">\n  </span><span class="s1">timeTickInterval</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">./ticks.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export {default as timeFormatDefaultLocale, timeFormat, timeParse, utcFormat, utcParse} from </span><span class="s3">\&quot;</span><span class="s1">./defaultLocale.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as timeFormatLocale} from </span><span class="s3">\&quot;</span><span class="s1">./locale.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as isoFormat} from </span><span class="s3">\&quot;</span><span class="s1">./isoFormat.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as isoParse} from </span><span class="s3">\&quot;</span><span class="s1">./isoParse.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export function Transform(k, x, y) {</span><span class="s3">\n  </span><span class="s1">this.k = k;</span><span class="s3">\n  </span><span class="s1">this.x = x;</span><span class="s3">\n  </span><span class="s1">this.y = y;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Transform.prototype = {</span><span class="s3">\n  </span><span class="s1">constructor: Transform,</span><span class="s3">\n  </span><span class="s1">scale: function(k) {</span><span class="s3">\n    </span><span class="s1">return k === 1 ? this : new Transform(this.k * k, this.x, this.y);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">translate: function(x, y) {</span><span class="s3">\n    </span><span class="s1">return x === 0 &amp; y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">apply: function(point) {</span><span class="s3">\n    </span><span class="s1">return [point[0] * this.k + this.x, point[1] * this.k + this.y];</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">applyX: function(x) {</span><span class="s3">\n    </span><span class="s1">return x * this.k + this.x;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">applyY: function(y) {</span><span class="s3">\n    </span><span class="s1">return y * this.k + this.y;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">invert: function(location) {</span><span class="s3">\n    </span><span class="s1">return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">invertX: function(x) {</span><span class="s3">\n    </span><span class="s1">return (x - this.x) / this.k;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">invertY: function(y) {</span><span class="s3">\n    </span><span class="s1">return (y - this.y) / this.k;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">rescaleX: function(x) {</span><span class="s3">\n    </span><span class="s1">return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">rescaleY: function(y) {</span><span class="s3">\n    </span><span class="s1">return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">toString: function() {</span><span class="s3">\n    </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ this.x + </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">+ this.y + </span><span class="s3">\&quot;</span><span class="s1">) scale(</span><span class="s3">\&quot; </span><span class="s1">+ this.k + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export var identity = new Transform(1, 0, 0);</span><span class="s3">\n\n</span><span class="s1">transform.prototype = Transform.prototype;</span><span class="s3">\n\n</span><span class="s1">export default function transform(node) {</span><span class="s3">\n  </span><span class="s1">while (!node.__zoom) if (!(node = node.parentNode)) return identity;</span><span class="s3">\n  </span><span class="s1">return node.__zoom;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {dispatch} from </span><span class="s3">\&quot;</span><span class="s1">d3-dispatch</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {dragDisable, dragEnable} from </span><span class="s3">\&quot;</span><span class="s1">d3-drag</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {interpolateZoom} from </span><span class="s3">\&quot;</span><span class="s1">d3-interpolate</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {select, pointer} from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {interrupt} from </span><span class="s3">\&quot;</span><span class="s1">d3-transition</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import constant from </span><span class="s3">\&quot;</span><span class="s1">./constant.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import ZoomEvent from </span><span class="s3">\&quot;</span><span class="s1">./event.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {Transform, identity} from </span><span class="s3">\&quot;</span><span class="s1">./transform.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import noevent, {nopropagation} from </span><span class="s3">\&quot;</span><span class="s1">./noevent.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// Ignore right-click, since that should open the context menu.</span><span class="s3">\n</span><span class="s1">// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event</span><span class="s3">\n</span><span class="s1">function defaultFilter(event) {</span><span class="s3">\n  </span><span class="s1">return (!event.ctrlKey || event.type === 'wheel') &amp;&amp; !event.button;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function defaultExtent() {</span><span class="s3">\n  </span><span class="s1">var e = this;</span><span class="s3">\n  </span><span class="s1">if (e instanceof SVGElement) {</span><span class="s3">\n    </span><span class="s1">e = e.ownerSVGElement || e;</span><span class="s3">\n    </span><span class="s1">if (e.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">viewBox</span><span class="s3">\&quot;</span><span class="s1">)) {</span><span class="s3">\n      </span><span class="s1">e = e.viewBox.baseVal;</span><span class="s3">\n      </span><span class="s1">return [[e.x, e.y], [e.x + e.width, e.y + e.height]];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return [[0, 0], [e.clientWidth, e.clientHeight]];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function defaultTransform() {</span><span class="s3">\n  </span><span class="s1">return this.__zoom || identity;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function defaultWheelDelta(event) {</span><span class="s3">\n  </span><span class="s1">return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function defaultTouchable() {</span><span class="s3">\n  </span><span class="s1">return navigator.maxTouchPoints || (</span><span class="s3">\&quot;</span><span class="s1">ontouchstart</span><span class="s3">\&quot; </span><span class="s1">in this);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function defaultConstrain(transform, extent, translateExtent) {</span><span class="s3">\n  </span><span class="s1">var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],</span><span class="s3">\n      </span><span class="s1">dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],</span><span class="s3">\n      </span><span class="s1">dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],</span><span class="s3">\n      </span><span class="s1">dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];</span><span class="s3">\n  </span><span class="s1">return transform.translate(</span><span class="s3">\n    </span><span class="s1">dx1 &gt; dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),</span><span class="s3">\n    </span><span class="s1">dy1 &gt; dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">var filter = defaultFilter,</span><span class="s3">\n      </span><span class="s1">extent = defaultExtent,</span><span class="s3">\n      </span><span class="s1">constrain = defaultConstrain,</span><span class="s3">\n      </span><span class="s1">wheelDelta = defaultWheelDelta,</span><span class="s3">\n      </span><span class="s1">touchable = defaultTouchable,</span><span class="s3">\n      </span><span class="s1">scaleExtent = [0, Infinity],</span><span class="s3">\n      </span><span class="s1">translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],</span><span class="s3">\n      </span><span class="s1">duration = 250,</span><span class="s3">\n      </span><span class="s1">interpolate = interpolateZoom,</span><span class="s3">\n      </span><span class="s1">listeners = dispatch(</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">zoom</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">touchstarting,</span><span class="s3">\n      </span><span class="s1">touchfirst,</span><span class="s3">\n      </span><span class="s1">touchending,</span><span class="s3">\n      </span><span class="s1">touchDelay = 500,</span><span class="s3">\n      </span><span class="s1">wheelDelay = 150,</span><span class="s3">\n      </span><span class="s1">clickDistance2 = 0,</span><span class="s3">\n      </span><span class="s1">tapDistance = 10;</span><span class="s3">\n\n  </span><span class="s1">function zoom(selection) {</span><span class="s3">\n    </span><span class="s1">selection</span><span class="s3">\n        </span><span class="s1">.property(</span><span class="s3">\&quot;</span><span class="s1">__zoom</span><span class="s3">\&quot;</span><span class="s1">, defaultTransform)</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">wheel.zoom</span><span class="s3">\&quot;</span><span class="s1">, wheeled, {passive: false})</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">mousedown.zoom</span><span class="s3">\&quot;</span><span class="s1">, mousedowned)</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">dblclick.zoom</span><span class="s3">\&quot;</span><span class="s1">, dblclicked)</span><span class="s3">\n      </span><span class="s1">.filter(touchable)</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">touchstart.zoom</span><span class="s3">\&quot;</span><span class="s1">, touchstarted)</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">touchmove.zoom</span><span class="s3">\&quot;</span><span class="s1">, touchmoved)</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">touchend.zoom touchcancel.zoom</span><span class="s3">\&quot;</span><span class="s1">, touchended)</span><span class="s3">\n        </span><span class="s1">.style(</span><span class="s3">\&quot;</span><span class="s1">-webkit-tap-highlight-color</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">rgba(0,0,0,0)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">zoom.transform = function(collection, transform, point, event) {</span><span class="s3">\n    </span><span class="s1">var selection = collection.selection ? collection.selection() : collection;</span><span class="s3">\n    </span><span class="s1">selection.property(</span><span class="s3">\&quot;</span><span class="s1">__zoom</span><span class="s3">\&quot;</span><span class="s1">, defaultTransform);</span><span class="s3">\n    </span><span class="s1">if (collection !== selection) {</span><span class="s3">\n      </span><span class="s1">schedule(collection, transform, point, event);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">selection.interrupt().each(function() {</span><span class="s3">\n        </span><span class="s1">gesture(this, arguments)</span><span class="s3">\n          </span><span class="s1">.event(event)</span><span class="s3">\n          </span><span class="s1">.start()</span><span class="s3">\n          </span><span class="s1">.zoom(null, typeof transform === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? transform.apply(this, arguments) : transform)</span><span class="s3">\n          </span><span class="s1">.end();</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.scaleBy = function(selection, k, p, event) {</span><span class="s3">\n    </span><span class="s1">zoom.scaleTo(selection, function() {</span><span class="s3">\n      </span><span class="s1">var k0 = this.__zoom.k,</span><span class="s3">\n          </span><span class="s1">k1 = typeof k === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? k.apply(this, arguments) : k;</span><span class="s3">\n      </span><span class="s1">return k0 * k1;</span><span class="s3">\n    </span><span class="s1">}, p, event);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.scaleTo = function(selection, k, p, event) {</span><span class="s3">\n    </span><span class="s1">zoom.transform(selection, function() {</span><span class="s3">\n      </span><span class="s1">var e = extent.apply(this, arguments),</span><span class="s3">\n          </span><span class="s1">t0 = this.__zoom,</span><span class="s3">\n          </span><span class="s1">p0 = p == null ? centroid(e) : typeof p === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? p.apply(this, arguments) : p,</span><span class="s3">\n          </span><span class="s1">p1 = t0.invert(p0),</span><span class="s3">\n          </span><span class="s1">k1 = typeof k === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? k.apply(this, arguments) : k;</span><span class="s3">\n      </span><span class="s1">return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);</span><span class="s3">\n    </span><span class="s1">}, p, event);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.translateBy = function(selection, x, y, event) {</span><span class="s3">\n    </span><span class="s1">zoom.transform(selection, function() {</span><span class="s3">\n      </span><span class="s1">return constrain(this.__zoom.translate(</span><span class="s3">\n        </span><span class="s1">typeof x === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? x.apply(this, arguments) : x,</span><span class="s3">\n        </span><span class="s1">typeof y === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? y.apply(this, arguments) : y</span><span class="s3">\n      </span><span class="s1">), extent.apply(this, arguments), translateExtent);</span><span class="s3">\n    </span><span class="s1">}, null, event);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.translateTo = function(selection, x, y, p, event) {</span><span class="s3">\n    </span><span class="s1">zoom.transform(selection, function() {</span><span class="s3">\n      </span><span class="s1">var e = extent.apply(this, arguments),</span><span class="s3">\n          </span><span class="s1">t = this.__zoom,</span><span class="s3">\n          </span><span class="s1">p0 = p == null ? centroid(e) : typeof p === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? p.apply(this, arguments) : p;</span><span class="s3">\n      </span><span class="s1">return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(</span><span class="s3">\n        </span><span class="s1">typeof x === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? -x.apply(this, arguments) : -x,</span><span class="s3">\n        </span><span class="s1">typeof y === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? -y.apply(this, arguments) : -y</span><span class="s3">\n      </span><span class="s1">), e, translateExtent);</span><span class="s3">\n    </span><span class="s1">}, p, event);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">function scale(transform, k) {</span><span class="s3">\n    </span><span class="s1">k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));</span><span class="s3">\n    </span><span class="s1">return k === transform.k ? transform : new Transform(k, transform.x, transform.y);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function translate(transform, p0, p1) {</span><span class="s3">\n    </span><span class="s1">var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;</span><span class="s3">\n    </span><span class="s1">return x === transform.x &amp;&amp; y === transform.y ? transform : new Transform(transform.k, x, y);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function centroid(extent) {</span><span class="s3">\n    </span><span class="s1">return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function schedule(transition, transform, point, event) {</span><span class="s3">\n    </span><span class="s1">transition</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">start.zoom</span><span class="s3">\&quot;</span><span class="s1">, function() { gesture(this, arguments).event(event).start(); })</span><span class="s3">\n        </span><span class="s1">.on(</span><span class="s3">\&quot;</span><span class="s1">interrupt.zoom end.zoom</span><span class="s3">\&quot;</span><span class="s1">, function() { gesture(this, arguments).event(event).end(); })</span><span class="s3">\n        </span><span class="s1">.tween(</span><span class="s3">\&quot;</span><span class="s1">zoom</span><span class="s3">\&quot;</span><span class="s1">, function() {</span><span class="s3">\n          </span><span class="s1">var that = this,</span><span class="s3">\n              </span><span class="s1">args = arguments,</span><span class="s3">\n              </span><span class="s1">g = gesture(that, args).event(event),</span><span class="s3">\n              </span><span class="s1">e = extent.apply(that, args),</span><span class="s3">\n              </span><span class="s1">p = point == null ? centroid(e) : typeof point === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? point.apply(that, args) : point,</span><span class="s3">\n              </span><span class="s1">w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),</span><span class="s3">\n              </span><span class="s1">a = that.__zoom,</span><span class="s3">\n              </span><span class="s1">b = typeof transform === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? transform.apply(that, args) : transform,</span><span class="s3">\n              </span><span class="s1">i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));</span><span class="s3">\n          </span><span class="s1">return function(t) {</span><span class="s3">\n            </span><span class="s1">if (t === 1) t = b; // Avoid rounding error on end.</span><span class="s3">\n            </span><span class="s1">else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }</span><span class="s3">\n            </span><span class="s1">g.zoom(null, t);</span><span class="s3">\n          </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function gesture(that, args, clean) {</span><span class="s3">\n    </span><span class="s1">return (!clean &amp;&amp; that.__zooming) || new Gesture(that, args);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function Gesture(that, args) {</span><span class="s3">\n    </span><span class="s1">this.that = that;</span><span class="s3">\n    </span><span class="s1">this.args = args;</span><span class="s3">\n    </span><span class="s1">this.active = 0;</span><span class="s3">\n    </span><span class="s1">this.sourceEvent = null;</span><span class="s3">\n    </span><span class="s1">this.extent = extent.apply(that, args);</span><span class="s3">\n    </span><span class="s1">this.taps = 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">Gesture.prototype = {</span><span class="s3">\n    </span><span class="s1">event: function(event) {</span><span class="s3">\n      </span><span class="s1">if (event) this.sourceEvent = event;</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">start: function() {</span><span class="s3">\n      </span><span class="s1">if (++this.active === 1) {</span><span class="s3">\n        </span><span class="s1">this.that.__zooming = this;</span><span class="s3">\n        </span><span class="s1">this.emit(</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">zoom: function(key, transform) {</span><span class="s3">\n      </span><span class="s1">if (this.mouse &amp;&amp; key !== </span><span class="s3">\&quot;</span><span class="s1">mouse</span><span class="s3">\&quot;</span><span class="s1">) this.mouse[1] = transform.invert(this.mouse[0]);</span><span class="s3">\n      </span><span class="s1">if (this.touch0 &amp;&amp; key !== </span><span class="s3">\&quot;</span><span class="s1">touch</span><span class="s3">\&quot;</span><span class="s1">) this.touch0[1] = transform.invert(this.touch0[0]);</span><span class="s3">\n      </span><span class="s1">if (this.touch1 &amp;&amp; key !== </span><span class="s3">\&quot;</span><span class="s1">touch</span><span class="s3">\&quot;</span><span class="s1">) this.touch1[1] = transform.invert(this.touch1[0]);</span><span class="s3">\n      </span><span class="s1">this.that.__zoom = transform;</span><span class="s3">\n      </span><span class="s1">this.emit(</span><span class="s3">\&quot;</span><span class="s1">zoom</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">end: function() {</span><span class="s3">\n      </span><span class="s1">if (--this.active === 0) {</span><span class="s3">\n        </span><span class="s1">delete this.that.__zooming;</span><span class="s3">\n        </span><span class="s1">this.emit(</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">emit: function(type) {</span><span class="s3">\n      </span><span class="s1">var d = select(this.that).datum();</span><span class="s3">\n      </span><span class="s1">listeners.call(</span><span class="s3">\n        </span><span class="s1">type,</span><span class="s3">\n        </span><span class="s1">this.that,</span><span class="s3">\n        </span><span class="s1">new ZoomEvent(type, {</span><span class="s3">\n          </span><span class="s1">sourceEvent: this.sourceEvent,</span><span class="s3">\n          </span><span class="s1">target: zoom,</span><span class="s3">\n          </span><span class="s1">type,</span><span class="s3">\n          </span><span class="s1">transform: this.that.__zoom,</span><span class="s3">\n          </span><span class="s1">dispatch: listeners</span><span class="s3">\n        </span><span class="s1">}),</span><span class="s3">\n        </span><span class="s1">d</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">function wheeled(event, ...args) {</span><span class="s3">\n    </span><span class="s1">if (!filter.apply(this, arguments)) return;</span><span class="s3">\n    </span><span class="s1">var g = gesture(this, args).event(event),</span><span class="s3">\n        </span><span class="s1">t = this.__zoom,</span><span class="s3">\n        </span><span class="s1">k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),</span><span class="s3">\n        </span><span class="s1">p = pointer(event);</span><span class="s3">\n\n    </span><span class="s1">// If the mouse is in the same location as before, reuse it.</span><span class="s3">\n    </span><span class="s1">// If there were recent wheel events, reset the wheel idle timeout.</span><span class="s3">\n    </span><span class="s1">if (g.wheel) {</span><span class="s3">\n      </span><span class="s1">if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {</span><span class="s3">\n        </span><span class="s1">g.mouse[1] = t.invert(g.mouse[0] = p);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">clearTimeout(g.wheel);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// If this wheel event won’t trigger a transform change, ignore it.</span><span class="s3">\n    </span><span class="s1">else if (t.k === k) return;</span><span class="s3">\n\n    </span><span class="s1">// Otherwise, capture the mouse point and location at the start.</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n      </span><span class="s1">g.mouse = [p, t.invert(p)];</span><span class="s3">\n      </span><span class="s1">interrupt(this);</span><span class="s3">\n      </span><span class="s1">g.start();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">noevent(event);</span><span class="s3">\n    </span><span class="s1">g.wheel = setTimeout(wheelidled, wheelDelay);</span><span class="s3">\n    </span><span class="s1">g.zoom(</span><span class="s3">\&quot;</span><span class="s1">mouse</span><span class="s3">\&quot;</span><span class="s1">, constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));</span><span class="s3">\n\n    </span><span class="s1">function wheelidled() {</span><span class="s3">\n      </span><span class="s1">g.wheel = null;</span><span class="s3">\n      </span><span class="s1">g.end();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function mousedowned(event, ...args) {</span><span class="s3">\n    </span><span class="s1">if (touchending || !filter.apply(this, arguments)) return;</span><span class="s3">\n    </span><span class="s1">var currentTarget = event.currentTarget,</span><span class="s3">\n        </span><span class="s1">g = gesture(this, args, true).event(event),</span><span class="s3">\n        </span><span class="s1">v = select(event.view).on(</span><span class="s3">\&quot;</span><span class="s1">mousemove.zoom</span><span class="s3">\&quot;</span><span class="s1">, mousemoved, true).on(</span><span class="s3">\&quot;</span><span class="s1">mouseup.zoom</span><span class="s3">\&quot;</span><span class="s1">, mouseupped, true),</span><span class="s3">\n        </span><span class="s1">p = pointer(event, currentTarget),</span><span class="s3">\n        </span><span class="s1">x0 = event.clientX,</span><span class="s3">\n        </span><span class="s1">y0 = event.clientY;</span><span class="s3">\n\n    </span><span class="s1">dragDisable(event.view);</span><span class="s3">\n    </span><span class="s1">nopropagation(event);</span><span class="s3">\n    </span><span class="s1">g.mouse = [p, this.__zoom.invert(p)];</span><span class="s3">\n    </span><span class="s1">interrupt(this);</span><span class="s3">\n    </span><span class="s1">g.start();</span><span class="s3">\n\n    </span><span class="s1">function mousemoved(event) {</span><span class="s3">\n      </span><span class="s1">noevent(event);</span><span class="s3">\n      </span><span class="s1">if (!g.moved) {</span><span class="s3">\n        </span><span class="s1">var dx = event.clientX - x0, dy = event.clientY - y0;</span><span class="s3">\n        </span><span class="s1">g.moved = dx * dx + dy * dy &gt; clickDistance2;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">g.event(event)</span><span class="s3">\n       </span><span class="s1">.zoom(</span><span class="s3">\&quot;</span><span class="s1">mouse</span><span class="s3">\&quot;</span><span class="s1">, constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">function mouseupped(event) {</span><span class="s3">\n      </span><span class="s1">v.on(</span><span class="s3">\&quot;</span><span class="s1">mousemove.zoom mouseup.zoom</span><span class="s3">\&quot;</span><span class="s1">, null);</span><span class="s3">\n      </span><span class="s1">dragEnable(event.view, g.moved);</span><span class="s3">\n      </span><span class="s1">noevent(event);</span><span class="s3">\n      </span><span class="s1">g.event(event).end();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function dblclicked(event, ...args) {</span><span class="s3">\n    </span><span class="s1">if (!filter.apply(this, arguments)) return;</span><span class="s3">\n    </span><span class="s1">var t0 = this.__zoom,</span><span class="s3">\n        </span><span class="s1">p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),</span><span class="s3">\n        </span><span class="s1">p1 = t0.invert(p0),</span><span class="s3">\n        </span><span class="s1">k1 = t0.k * (event.shiftKey ? 0.5 : 2),</span><span class="s3">\n        </span><span class="s1">t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);</span><span class="s3">\n\n    </span><span class="s1">noevent(event);</span><span class="s3">\n    </span><span class="s1">if (duration &gt; 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);</span><span class="s3">\n    </span><span class="s1">else select(this).call(zoom.transform, t1, p0, event);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function touchstarted(event, ...args) {</span><span class="s3">\n    </span><span class="s1">if (!filter.apply(this, arguments)) return;</span><span class="s3">\n    </span><span class="s1">var touches = event.touches,</span><span class="s3">\n        </span><span class="s1">n = touches.length,</span><span class="s3">\n        </span><span class="s1">g = gesture(this, args, event.changedTouches.length === n).event(event),</span><span class="s3">\n        </span><span class="s1">started, i, t, p;</span><span class="s3">\n\n    </span><span class="s1">nopropagation(event);</span><span class="s3">\n    </span><span class="s1">for (i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">t = touches[i], p = pointer(t, this);</span><span class="s3">\n      </span><span class="s1">p = [p, this.__zoom.invert(p), t.identifier];</span><span class="s3">\n      </span><span class="s1">if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;</span><span class="s3">\n      </span><span class="s1">else if (!g.touch1 &amp;&amp; g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (touchstarting) touchstarting = clearTimeout(touchstarting);</span><span class="s3">\n\n    </span><span class="s1">if (started) {</span><span class="s3">\n      </span><span class="s1">if (g.taps &lt; 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);</span><span class="s3">\n      </span><span class="s1">interrupt(this);</span><span class="s3">\n      </span><span class="s1">g.start();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function touchmoved(event, ...args) {</span><span class="s3">\n    </span><span class="s1">if (!this.__zooming) return;</span><span class="s3">\n    </span><span class="s1">var g = gesture(this, args).event(event),</span><span class="s3">\n        </span><span class="s1">touches = event.changedTouches,</span><span class="s3">\n        </span><span class="s1">n = touches.length, i, t, p, l;</span><span class="s3">\n\n    </span><span class="s1">noevent(event);</span><span class="s3">\n    </span><span class="s1">for (i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">t = touches[i], p = pointer(t, this);</span><span class="s3">\n      </span><span class="s1">if (g.touch0 &amp;&amp; g.touch0[2] === t.identifier) g.touch0[0] = p;</span><span class="s3">\n      </span><span class="s1">else if (g.touch1 &amp;&amp; g.touch1[2] === t.identifier) g.touch1[0] = p;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">t = g.that.__zoom;</span><span class="s3">\n    </span><span class="s1">if (g.touch1) {</span><span class="s3">\n      </span><span class="s1">var p0 = g.touch0[0], l0 = g.touch0[1],</span><span class="s3">\n          </span><span class="s1">p1 = g.touch1[0], l1 = g.touch1[1],</span><span class="s3">\n          </span><span class="s1">dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,</span><span class="s3">\n          </span><span class="s1">dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;</span><span class="s3">\n      </span><span class="s1">t = scale(t, Math.sqrt(dp / dl));</span><span class="s3">\n      </span><span class="s1">p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];</span><span class="s3">\n      </span><span class="s1">l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (g.touch0) p = g.touch0[0], l = g.touch0[1];</span><span class="s3">\n    </span><span class="s1">else return;</span><span class="s3">\n\n    </span><span class="s1">g.zoom(</span><span class="s3">\&quot;</span><span class="s1">touch</span><span class="s3">\&quot;</span><span class="s1">, constrain(translate(t, p, l), g.extent, translateExtent));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function touchended(event, ...args) {</span><span class="s3">\n    </span><span class="s1">if (!this.__zooming) return;</span><span class="s3">\n    </span><span class="s1">var g = gesture(this, args).event(event),</span><span class="s3">\n        </span><span class="s1">touches = event.changedTouches,</span><span class="s3">\n        </span><span class="s1">n = touches.length, i, t;</span><span class="s3">\n\n    </span><span class="s1">nopropagation(event);</span><span class="s3">\n    </span><span class="s1">if (touchending) clearTimeout(touchending);</span><span class="s3">\n    </span><span class="s1">touchending = setTimeout(function() { touchending = null; }, touchDelay);</span><span class="s3">\n    </span><span class="s1">for (i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">t = touches[i];</span><span class="s3">\n      </span><span class="s1">if (g.touch0 &amp;&amp; g.touch0[2] === t.identifier) delete g.touch0;</span><span class="s3">\n      </span><span class="s1">else if (g.touch1 &amp;&amp; g.touch1[2] === t.identifier) delete g.touch1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (g.touch1 &amp;&amp; !g.touch0) g.touch0 = g.touch1, delete g.touch1;</span><span class="s3">\n    </span><span class="s1">if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n      </span><span class="s1">g.end();</span><span class="s3">\n      </span><span class="s1">// If this was a dbltap, reroute to the (optional) dblclick.zoom handler.</span><span class="s3">\n      </span><span class="s1">if (g.taps === 2) {</span><span class="s3">\n        </span><span class="s1">t = pointer(t, this);</span><span class="s3">\n        </span><span class="s1">if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) &lt; tapDistance) {</span><span class="s3">\n          </span><span class="s1">var p = select(this).on(</span><span class="s3">\&quot;</span><span class="s1">dblclick.zoom</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">if (p) p.apply(this, arguments);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">zoom.wheelDelta = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (wheelDelta = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), zoom) : wheelDelta;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.filter = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (filter = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(!!_), zoom) : filter;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.touchable = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (touchable = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(!!_), zoom) : touchable;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.extent = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (extent = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.scaleExtent = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.translateExtent = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.constrain = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (constrain = _, zoom) : constrain;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.duration = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (duration = +_, zoom) : duration;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.interpolate = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (interpolate = _, zoom) : interpolate;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.on = function() {</span><span class="s3">\n    </span><span class="s1">var value = listeners.on.apply(listeners, arguments);</span><span class="s3">\n    </span><span class="s1">return value === listeners ? zoom : value;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.clickDistance = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">zoom.tapDistance = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (tapDistance = +_, zoom) : tapDistance;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return zoom;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export {default as zoom} from </span><span class="s3">\&quot;</span><span class="s1">./zoom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as zoomTransform, identity as zoomIdentity, Transform as ZoomTransform} from </span><span class="s3">\&quot;</span><span class="s1">./transform.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export * from </span><span class="s3">\&quot;</span><span class="s1">d3-array</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-axis</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-brush</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-chord</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-contour</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-delaunay</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-dispatch</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-drag</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-dsv</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-ease</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-fetch</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-force</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-format</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-geo</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-hierarchy</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-interpolate</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-path</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-polygon</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-quadtree</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-random</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-scale</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-scale-chromatic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-selection</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-shape</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-time</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-time-format</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-timer</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-transition</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export * from </span><span class="s3">\&quot;</span><span class="s1">d3-zoom</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>