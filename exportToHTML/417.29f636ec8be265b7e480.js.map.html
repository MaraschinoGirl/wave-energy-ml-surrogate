<html>
<head>
<title>417.29f636ec8be265b7e480.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
417.29f636ec8be265b7e480.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;417.29f636ec8be265b7e480.js?v=29f636ec8be265b7e480&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,wBAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;ACzIsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,yBAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB,QAAQ;AAC/C;AACA;AACA;AACA;AACA,kBAAkB,yBAAW;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,sBAAsB,WAAW,WAAW,sBAAsB,GAAG,WAAW,WAAW,sBAAsB,GAAG,WAAW,WAAW,sBAAsB;AAChK;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA,uBAAuB,WAAW,WAAW,sBAAsB,GAAG,WAAW,WAAW,sBAAsB,GAAG,WAAW,WAAW,sBAAsB,GAAG,KAAK,eAAe;AACxL;AACA;AACA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA,mBAAmB,yBAAW,CAAC,qBAAqB,qBAAqB,qBAAqB,qBAAqB,qBAAqB,qBAAqB,qBAAqB;AAClL;AACA;AACA,sBAAsB,mBAAmB;AACzC;AACA;AACA,mBAAmB,yBAAW,CAAC,KAAK,gBAAgB,KAAK,gBAAgB,KAAK,gBAAgB,KAAK;AACnG;AACA;AACA,qBAAqB,mBAAmB,MAAM,wBAAwB;AACtE;AACA;AACA,iBAAiB;AACjB;AACA;AACA,eAAe,mBAAmB,CAAC,WAAW;AAC9C;AACA;;;AC9FO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;;ACtuBiD;AACD;AACO;AACvD;AACA,+DAA+D,IAAI,UAAU,EAAE,6BAA6B,IAAI;AAChH;AACA,iEAAiE,IAAI,UAAU,EAAE;AACjF;AACA,oCAAoC,EAAE,UAAU,EAAE;AAClD;AACA,qCAAqC,EAAE,UAAU,EAAE;AACnD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,gCAAgC,yCAAyC;AACzE;AACA;AACA;AACO;AACP,WAAW,kBAAkB;AAC7B;AACA;AACA,6CAA6C,yCAAyC;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAW,CAAC,wBAAS,sCAAsC,wBAAS,qCAAqC,wBAAS;AACjI;AACA;AACA,6CAA6C,yCAAyC;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAW,CAAC,wBAAS,wCAAwC,wBAAS,uCAAuC,wBAAS,+BAA+B,wBAAS;AAC7K;AACA;AACA,6CAA6C,yCAAyC;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,yCAAyC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAW,CAAC,wBAAS,4BAA4B,wBAAS,4BAA4B,wBAAS;AAC9G;AACA;AACA,sCAAsC,yCAAyC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yBAAW,CAAC,wBAAS,4BAA4B,wBAAS,4BAA4B,wBAAS;AAClH;AACA;AACA;AACA;AACA,gCAAgC,yCAAyC;AACzE,mBAAmB,yEAAyE;AAC5F;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,mBAAmB,kBAAkB;AACrC;AACA,cAAc,yBAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0EAA0E;AAC5F;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1N4D;AAC5D;AACA;AACA;AACA;AACA;AACO,MAAM,kBAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA,uBAAuB,kBAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB;AACtC;AACA;AACA;AACA,mBAAmB,kBAAQ,CAAC,qBAAqB,qBAAqB,qBAAqB,qBAAqB,qBAAqB;AACrI;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA,iBAAiB;AACjB;AACA;;;ACzC4D;AAC5D;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB;AACtC;AACA;AACA;AACA,4BAA4B,qBAAqB,qBAAqB,qBAAqB,qBAAqB,qBAAqB;AACrI;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA,iBAAiB;AACjB;AACA;;;ACzC4D;AAC5D;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACO,MAAM,kBAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA,uBAAuB,kBAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB;AACtC;AACA;AACA;AACA,mBAAmB,kBAAQ,CAAC,qBAAqB,qBAAqB,qBAAqB,qBAAqB,qBAAqB;AACrI;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA,iBAAiB;AACjB;AACA;AACA,kBAAQ;AACR,kBAAQ;;;AC9CoD;AAC5D;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB;AACtC;AACA;AACA;AACA,4BAA4B,qBAAqB,qBAAqB,qBAAqB,qBAAqB,qBAAqB;AACrI;AACA;AACA,qBAAqB,gBAAgB;AACrC;AACA;AACA,iBAAiB;AACjB;AACA;;;ACjD4D;AAC5D;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB;AACtC;AACA;AACA;AACA,4BAA4B,qBAAqB,qBAAqB,qBAAqB,qBAAqB,qBAAqB;AACrI;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;;ACjD0C;AACA;AACA;AACA;AACO;AACP;AAC+B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,yBAAW;AAC/C;AACA;AACA;AACA,mFAAmF,6DAA6D;AAChJ;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0CAA0C,MAAM;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,yBAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAQ;AACvB;AACA;AACA,eAAe,uCAAuC,MAAM;AAC5D;AACA;AACA;AACA;AACA;AACO,SAAS,yBAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAW;AAC1B;AACA;AACA,eAAe,0CAA0C,MAAM;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,uCAAuC,MAAM;AAC5D;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAW;AAC1B;AACA;AACA,eAAe,uCAAuC,MAAM;AAC5D;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,qBAAqB,gBAAgB;AACrC,qBAAqB,gBAAgB;AACrC;AACA,eAAe,kBAAQ;AACvB;AACA;AACA,eAAe,uCAAuC,MAAM;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,uCAAuC,MAAM;AAC5D;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAQ;AACzB;AACA;AACA;AACA,8BAA8B,kBAAQ;AACtC;AACA;AACA,gBAAgB,kBAAQ,WAAW,kBAAQ;AAC3C;AACA;AACA;AACA,oBAAoB,kBAAQ;AAC5B;AACA;AACA,iBAAiB,kBAAQ;AACzB;AACA;AACA;AACA,8BAA8B,kBAAQ;AACtC;AACA,QAAQ,QAAQ;AAChB,QAAQ,QAAQ;AAChB,QAAQ,QAAQ;AAChB,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,uCAAuC,MAAM;AAC5D;AACA;AACA;AACA;AACO;AACP;AACA,gBAAgB,kBAAQ;AACxB;AACA;AACA,gBAAgB,kBAAQ;AACxB;AACA,qCAAqC,QAAQ;AAC7C,qCAAqC,QAAQ;AAC7C,qCAAqC,QAAQ;AAC7C;AACA;AACA;AACA,eAAe,kBAAQ;AACvB;AACA;AACA,eAAe,0CAA0C,MAAM;AAC/D;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA,eAAe,uCAAuC,MAAM;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAW;AAC1B;AACA;AACA,eAAe,0CAA0C,MAAM;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,yBAAQ;AACxB;AACA;AACA;AACA,eAAe,uCAAuC,MAAM;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,yBAAQ;AACxB;AACA;AACA;AACA,cAAc,0CAA0C,MAAM;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,oBAAoB,yBAAQ;AAC5B;AACA;AACA,cAAc,uCAAuC,MAAM;AAC3D;AACA;AACA;AACA;AACA;AACO;AACP,WAAW,yBAAQ;AACnB;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3gBA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;;;ACP6E;AAChB;AAC7D;AACO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,4BAA4B,yBAAW;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA,iCAAiC,sBAAsB;AACvD;AACA;AACA;AACA;AACA;;;ACrDyC;AAClC;AACP,WAAW,SAAS;AACpB;AACA;AACA,mDAAmD,oDAAoD;AACvG;AACA;AACA;AACO;AACP;AACA;AACA;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB,sCAAsC,kBAAkB;AACnF,0BAA0B;AAC1B;AACA;AACA;AACO;AACP;AACA,oBAAoB;AACpB;AACA;AACA;AACO;AACP;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACO;AACP,oCAAoC;AACpC;AACA;AACO;AACP;AACA;AACA;AACO;AACP,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACO;AACP,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,iBAAiB,oDAAoD,qEAAqE,cAAc;AACxJ,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,MAAM;AAC1B;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACO;AACP,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACO;AACP,kDAAkD,QAAQ;AAC1D,yCAAyC,QAAQ;AACjD,yDAAyD,QAAQ;AACjE;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA,iBAAiB,uFAAuF,cAAc;AACtH,uBAAuB,gCAAgC,qCAAqC,2CAA2C;AACvI,4BAA4B,MAAM,iBAAiB,YAAY;AAC/D,uBAAuB;AACvB,8BAA8B;AAC9B,6BAA6B;AAC7B,4BAA4B;AAC5B;AACA;AACO;AACP;AACA,iBAAiB,6CAA6C,UAAU,sDAAsD,cAAc;AAC5I,0BAA0B,6BAA6B,oBAAoB,gDAAgD,kBAAkB;AAC7I;AACA;AACO;AACP;AACA;AACA,2GAA2G,uFAAuF,cAAc;AAChN,uBAAuB,8BAA8B,gDAAgD,wDAAwD;AAC7J,6CAA6C,sCAAsC,UAAU,mBAAmB,IAAI;AACpH;AACA;AACO;AACP,iCAAiC,uCAAuC,YAAY,KAAK,OAAO;AAChG;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,6CAA6C;AAC7C;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;;ACzNA;AACA,yBAAyB,UAAU;AACnC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpBA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,eAAe,qBAAM;AACrB;AACA,eAAe,qBAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,4BAA4B;AACxF;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzFwC;AACxC,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,kBAAkB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA,uBAAuB,OAAO;AAC9B;AACA,CAAC;AACD;AACA;AACA,uBAAuB,2CAA2C;AAClE;AACO,+BAA+B,QAAQ;AAC9C;AACO,4BAA4B,EAAE,OAAO;AAC5C;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,yCAAyC,qBAAqB;AAC9D;AACA;AACA;AACA,6CAA6C,OAAO;AACpD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,oBAAoB,EAAE,MAAM,EAAE,kBAAkB;AAClE,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc,IAAI,2CAA2C;AAC/E,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO,GAAG,MAAM;AACtC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;;AC9MD;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,QAAQ;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3KgC;AAC6B;AACS;AACtE;AACA;AACA;AACA;AACO,mBAAmB,IAAI;AAC9B;AACA;AACA,wBAAwB,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,sBAAsB;AAC9E;AACA;AACA;AACA;AACA,yBAAyB,qBAAqB;AAC9C;AACA;AACA;AACA,6BAA6B,KAAK;AAClC,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,aAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,uBAAuB;AAC7C,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,mBAAQ;AACxB,2BAA2B;AAC3B;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,qBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,CAAC;AACD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;;;AC/VyB;AAChC;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,GAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gBAAgB;AACnE,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClL0D;AAC1B;AACuB;AACvD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,YAAY,qBAAqB;AACjC,CAAC;AACD;AACA,MAAM,sBAAsB;AAC5B;AACA,0CAA0C,qBAAqB;AAC/D;AACA;AACO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,MAAM,sBAAsB;AAC5B;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,0BAA0B,qBAAqB;AAC/C,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,KAAK;AAClC,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA;AACA;AACA;AACA,oBAAoB,GAAG;AACvB;AACA;AACA,oBAAoB,GAAG;AACvB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,QAAQ;AAC5D;AACA;AACA;AACA;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB,4CAA4C;AAC5C;AACA;;;ACrMsC;AACoB;AACE;AACN;AACtD,+BAA+B;AAC/B;AACA,qBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACO,MAAM,sCAAqB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,qDAAqD,aAAa;AAClE;AACA,0BAA0B,aAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,QAAQ;AAC5D,gBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqB;;;ACzGW;AACoC;AACe;AACrB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yBAAyB,sBAAsB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,UAAU;AACpC;AACA;AACA,mDAAmD,QAAQ;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,4BAA4B;AACxD,iDAAiD,uBAAuB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,8BAA8B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uBAAuB;AAC3D;AACA;AACA;AACA;AACA,uCAAuC,uBAAuB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,QAAQ;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,QAAQ;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sCAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;;;AC9W6C;AACkB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sCAAqB;AACxC,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtBsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;;;ACrBmC;AACgE;AAC5F;AACP;AACA,8BAA8B,WAAW;AACzC;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D,yCAAyC,aAAa;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA;AACA;AACA,4BAA4B,uCAAuC;AACnE;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,GAAG;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;;ACtNkC;AACmF;AACrD;AACI;AACuB;AAC9B;AAC9D;AACA,sBAAsB;AACtB;AACA,8BAA8B,YAAY;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,oCAAoC;AAC9E,iCAAiC,uBAAuB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,UAAU,iCAAiC,SAAS,oBAAoB,QAAQ;AACzJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,cAAc;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,8BAA8B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA,QAAQ,qBAAqB;AAC7B;AACA;AACA,QAAQ,qBAAqB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,uBAAuB;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,UAAU;AACtB;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,QAAQ,UAAU;AAClB,8BAA8B,WAAW;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,cAAc;AAC5B,yBAAyB,cAAc;AACvC;AACA;AACA;AACA;AACA,yBAAyB,cAAc;AACvC;AACA,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,cAAc;AACnD,kDAAkD,cAAc;AAChE;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,QAAQ,wCAAwC;AAChD,QAAQ,2CAA2C;AACnD;AACA;AACA;AACA,0BAA0B,cAAc;AACxC,QAAQ,oBAAoB;AAC5B,KAAK;AACL;AACA;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C,QAAQ,oBAAoB;AAC5B,KAAK;AACL,CAAC;AACD;;;AC5nBA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,CAAC,8BAA8B;;;ACPqE;AAC1D;AACA;AACA;AACO;AACL;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA,WAAW,QAAQ,KAAK,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,eAAe,yBAAW;AAC1B;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,KAAK;AACpB;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,eAAe,yBAAW;AAC1B;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wCAAwC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7Q4I;AAClG;AACA;AACA;AACA;AACO;AACP;AACsB;AAChE;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAW,CAAC,IAAI,6BAA6B,IAAI,6BAA6B,IAAI,6BAA6B,IAAI;AAClI;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAQ,CAAC,mBAAmB,6BAA6B,IAAI,6BAA6B,IAAI;AAC7G;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ,CAAC,mBAAmB,6BAA6B,IAAI,6BAA6B,IAAI;AAC7G;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ,CAAC,IAAI,6BAA6B,IAAI,6BAA6B,IAAI;AAC9F;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAQ,CAAC,IAAI,6BAA6B,IAAI,6BAA6B,IAAI;AAC9F;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ,CAAC,IAAI,6BAA6B,IAAI,6BAA6B,mBAAmB;AAC7G;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0DAA0D;AAC3D;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yBAAQ,0BAA0B,yBAAQ,QAAQ,yBAAQ;AAC7E;AACA,mBAAmB,QAAQ,0BAA0B,QAAQ,QAAQ,QAAQ;AAC7E;AACA,mBAAmB,QAAQ,0BAA0B,QAAQ,QAAQ,QAAQ;AAC7E;AACA,mBAAmB,yBAAQ,0BAA0B,yBAAQ,QAAQ,yBAAQ;AAC7E;AACA,mBAAmB,QAAQ,0BAA0B,QAAQ,QAAQ,QAAQ;AAC7E;AACA;AACA;AACA;;;ACpIsD;AACuC;AAC7F;AACA;AACA;AACA;AACO,MAAM,sBAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAU;AAC7B;AACA,2CAA2C,uBAAuB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA,qDAAqD,uBAAuB;AAC5E;AACA;AACA;AACA;AACA,uBAAuB,sBAAU;AACjC,kBAAkB,kEAAkE;AACpF;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAU;AACjC,kBAAkB,wDAAwD;AAC1E,kBAAkB,wDAAwD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAU;AAC7B;AACA,8EAA8E,uBAAuB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;AC/KkF;AACjC;AAC4C;AAC5C;AACH;AACM;AACpD;AACA;AACA;AACA;AACO;AACP;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,yBAAQ;AACrC,8BAA8B,sBAAU;AACxC,cAAc,iDAAiD;AAC/D,cAAc,6CAA6C;AAC3D,cAAc,gDAAgD;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C,2BAA2B,cAAc;AACzC;AACA;AACA,6BAA6B,aAAa;AAC1C,4BAA4B,uBAAuB;AACnD;AACA;AACA,6BAA6B,aAAa;AAC1C,2BAA2B,uBAAuB;AAClD;AACA;AACA,4BAA4B,YAAY;AACxC,4BAA4B,uBAAuB;AACnD;AACA;AACA,4BAA4B,YAAY;AACxC,2BAA2B,uBAAuB;AAClD;AACA;AACA;AACA,2BAA2B,sBAAU;AACrC,sBAAsB,2CAA2C;AACjE,sBAAsB,0CAA0C;AAChE;AACA;AACA;AACA,2BAA2B,sBAAU;AACrC,sBAAsB,2CAA2C;AACjE,sBAAsB,2CAA2C;AACjE;AACA;AACA,uBAAuB,sBAAU;AACjC,kBAAkB,2CAA2C;AAC7D;AACA;AACA;AACA,iBAAiB;AACjB,kBAAkB,0CAA0C;AAC5D;AACA;AACA,mBAAmB,sBAAU;AAC7B,cAAc,2CAA2C;AACzD,cAAc,6CAA6C;AAC3D,cAAc,0CAA0C;AACxD;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA,uBAAuB,uBAAuB;AAC9C,yBAAyB,yBAAW;AACpC,wBAAwB,yBAAW;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA,uBAAuB,uBAAuB;AAC9C,yBAAyB,yBAAW;AACpC,wBAAwB,yBAAW;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,qEAAqE,sBAAsB,oBAAoB;AAC/G;AACA,0DAA0D,kBAAkB,yFAAyF;AACrK;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C,yBAAyB;AACzB;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,aAAa;AACb;;;AC5RiD;AACC;AAC+B;AACnC;AACJ;AACyB;AACf;AACpD;AACA;AACA;AACA;AACO;AACP;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,yBAAW;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY,+BAA+B,EAAE,YAAY,4BAA4B,kGAAkG;AAC7M;AACA;AACA;AACA,8BAA8B,oBAAoB;AAClD,8BAA8B,yBAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,yBAAQ;AACrC,8BAA8B,yBAAQ,CAAC,kBAAQ;AAC/C;AACA;AACA;AACA,SAAS;AACT,iCAAiC,yBAAQ,CAAC,kBAAQ;AAClD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uBAAuB,yBAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yBAAW;AAClC;AACA,0BAA0B,sBAAU;AACpC;AACA;AACA,wBAAwB,WAAW;AACnC,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,sCAAsC,oBAAoB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;;;AChHA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfsC;AACtC;AACA;AACA;AACO;AACP,WAAW,MAAM;AACjB;;;ACN0G;AACrD;AACO;AACY;AACX;AAC7D,SAAS,cAAM;AACf;AACA;AACA,+BAA+B,SAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB;AACA,8BAA8B,SAAS;AACvC;AACA;AACO;AACP,UAAU;AACV;AACA,CAAC;AACD;AACA,MAAM,eAAe;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA,qCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA,QAAQ;AACR;AACA;AACA,sDAAsD,KAAK;AAC3D;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,0BAA0B;AACtF;AACA,uBAAuB,yBAAW;AAClC,SAAS;AACT;AACA,uBAAuB,gBAAgB;AACvC,mBAAmB,SAAS;AAC5B,SAAS;AACT;AACA;;;ACvGA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnByE;AACzE;AACA;AACA;AACO;AACP;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClC0D;AACjB;AACzC;AACA;AACA;AACO,cAAc,SAAS;AAC9B;AACA;AACA;AACO,cAAc,SAAS;AAC9B;AACA;AACA;AACA;AACO,mBAAmB,SAAS,MAAM,gBAAgB;AACzD;AACA;AACA;AACA;AACO,mBAAmB,SAAS,MAAM,gBAAgB;AACzD;AACA;AACA;AACA;AACO,kBAAkB,SAAS,MAAM,gBAAgB;;;ACxBO;AAC/D;AACA;AACA;AACO;AACP,8BAA8B,KAAK,sBAAsB,KAAK,GAAG,KAAK;AACtE;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpByE;AACzE;AACA;AACA;AACO;AACP,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbA;AACA;AACA;AACO;AACP;AACA;AACA;;;ACNA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbyE;AACzE;AACA;AACA;AACO;AACP,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3ByE;AACzE;AACO;AACP;AACA;AACA;AACO;AACP,2FAA2F,iBAAiB;AAC5G;;;ACRA;AACA;AACA;AACO;AACP;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;;;ACTgF;AAChF;AACA;AACA;AACO;AACP,8CAA8C,wBAAwB;AACtE;AACA;;;ACPgF;AAChF;AACA;AACA;AACO;AACP,6CAA6C,wBAAwB;AACrE;AACA;AACA;;;ACRgF;AACzE;AACP,8CAA8C,wBAAwB;AACtE;;;ACHgF;AAChF;AACA;AACA;AACO;AACP,2CAA2C,wBAAwB;AACnE;AACA;AACA;AACA;AACO;AACP;AACA;;;ACZ0D;AAC1D;AACA;AACA;AACO;AACP,uBAAuB,kBAAkB;AACzC;;;ACN0D;AAC1D;AACA;AACA;AACO;AACP,uBAAuB,kBAAkB;AACzC;AACA;;;ACPyE;AACzE;AACA;AACA;AACO;AACP;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjByE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,2DAA2D,iBAAiB;AAC5E;;;ACXiD;AAC1C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,sBAAsB,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnD+D;AAC/D;AACA;AACA;AACO;AACP,8BAA8B,KAAK,sBAAsB,KAAK,GAAG,KAAK;AACtE;;;ACNA;AACA;AACA;AACyD;AACC;AACV;AACmC;AACkB;AACO;AACtB;AACgB;AACA;AACM;AACG;AACgC;AACvC;AACa;AACa;AAChB;AACrB;AACA;AACA;AACA;AACD;AACsB;AACpC;AACW;AACI;AACT;AACpF,QAAQ,MAAM,yBAAG,EAAE,WAAW;AAC9B;AACA,WAAW,WAAW,UAAU,mCAAmC;AACnE;AACA;AACA;AACO,iBAAiB,oBAAM;AAC9B;AACO,6BAA6B,oBAAM;AAC1C;AACO,wCAAwC,oBAAM;AACrD;AACO,2BAA2B,oBAAM,qCAAqC,iBAAiB;AAC9F;AACO,4BAA4B,oBAAM;AACzC;AACO,gBAAgB,oBAAM;AAC7B;AACO,mBAAmB,oBAAM;AAChC;AACA;AACA;AACA;AACA;AACO,qBAAqB,oBAAM;AAClC;AACO,kBAAkB,oBAAM,0BAA0B,SAAS;AAClE;AACO,wBAAwB,oBAAM;AACrC;AACO,oBAAoB,oBAAM;AACjC;AACO,yBAAyB,oBAAM;AACtC;AACA;AACO,6BAA6B,oBAAM;AAC1C;AACO,+BAA+B,oBAAM;AAC5C;AACO,+BAA+B,oBAAM;AAC5C;AACO,iCAAiC,oBAAM;AAC9C;AACO,+BAA+B,oBAAM;AAC5C;AACO,iCAAiC,oBAAM;AAC9C;AACO,8BAA8B,oBAAM;AAC3C;AACO,gCAAgC,oBAAM;AAC7C;AACO,8BAA8B,oBAAM;AAC3C;AACO,gCAAgC,oBAAM;AAC7C;AACO,8BAA8B,oBAAM;AAC3C;AACO,gCAAgC,oBAAM;AAC7C;AACO,8BAA8B,oBAAM;AAC3C;AACO,gCAAgC,oBAAM;AAC7C;AACO,8BAA8B,oBAAM;AAC3C;AACO,gCAAgC,oBAAM;AAC7C;AACO,8BAA8B,oBAAM;AAC3C;AACO,gCAAgC,oBAAM;AAC7C;AACA;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACO;AACP;AACA;AACO,qBAAqB,oBAAM,8BAA8B,UAAU;AAC1E;AACO,gFAAgF,UAAU;AACjG;AACO,oBAAoB,oBAAM,6BAA6B,UAAU;AACxE;AACO,8EAA8E,UAAU;AAC/F;AACA;AACO;AACP,2BAA2B,yBAAkC;AAC7D,CAAC;AACD;AACO,MAAM,uCAAyB,GAAG,oBAAM;AAC/C;AACA;AACO;AACP,2BAA2B,oBAA6B;AACxD,CAAC;AACD;AACO,MAAM,kCAAoB,GAAG,oBAAM;AAC1C;AACA;AACO;AACP,2BAA2B,aAAsB;AACjD,CAAC;AACD;AACO,MAAM,2BAAa,GAAG,oBAAM;AACnC;AACA;AACO;AACP,2BAA2B,aAAsB;AACjD,CAAC;AACD;AACO,MAAM,2BAAa,GAAG,oBAAM;AACnC;AACA;AACO;AACP,2BAA2B,aAAsB;AACjD,CAAC;AACD;AACO,MAAM,2BAAa,GAAG,oBAAM;AACnC;AACA;AACO;AACP,2BAA2B,aAAsB;AACjD,CAAC;AACD;AACO,MAAM,2BAAa,GAAG,oBAAM;AACnC;AACO,kBAAkB,oBAAM,sCAAsC,2BAAa;AAClF;AACA;AACA;AACA;AACA,CAAC,wCAAwC;AACzC;AACA;AACO,yBAAyB,oBAAM;AACtC;AACA;AACA,CAAC;AACD,sCAAsC,UAAmB;AACzD,CAAC;AACD;AACO,uBAAuB,oBAAM;AACpC;AACA,CAAC;AACD;AACO,wBAAwB,oBAAM;AACrC;AACA,CAAC;AACD;AACO,yBAAyB,oBAAM;AACtC;AACA,CAAC;AACD;AACO,wBAAwB,oBAAM;AACrC;AACA,CAAC;AACD;AACA;AACA,WAAW,kBAA2B;AACtC;AACA;AACO;AACP;AACA,CAAC;AACD;AACO,+BAA+B,oBAAM;AAC5C;AACA;AACA;AACO,gCAAgC,oBAAM;AAC7C;AACA;AACA;AACO,iCAAiC,oBAAM;AAC9C;AACA;AACA;AACO,gCAAgC,oBAAM;AAC7C;AACA;AACA;AACO;AACP;AACA,CAAC;AACD;AACO,oCAAoC,oBAAM;AACjD;AACA;AACA;AACO,qCAAqC,oBAAM;AAClD;AACA;AACA;AACO,sCAAsC,oBAAM;AACnD;AACA;AACA;AACO,qCAAqC,oBAAM;AAClD;AACA;AACA;AACA,yEAAyE,gBAAyB;AAClG;AACO,+BAA+B,oBAAM;AAC5C;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACO,6BAA6B,oBAAM;AAC1C;AACO,8BAA8B,oBAAM;AAC3C;AACO,+BAA+B,oBAAM;AAC5C;AACO,8BAA8B,oBAAM;AAC3C;AACA;AACO,0BAA0B,oBAAM;AACvC;AACA;AACA,CAAC;AACD,sCAAsC,WAAoB;AAC1D,CAAC;AACD;AACO,wBAAwB,oBAAM;AACrC;AACO,yBAAyB,oBAAM;AACtC;AACO,0BAA0B,oBAAM;AACvC;AACO,yBAAyB,oBAAM;AACtC;AACA;AACO,+BAA+B,oBAAM;AAC5C;AACA;AACA,CAAC;AACD,sCAAsC,gBAAyB;AAC/D,CAAC;AACD;AACO,6BAA6B,oBAAM;AAC1C;AACO,8BAA8B,oBAAM;AAC3C;AACO,+BAA+B,oBAAM;AAC5C;AACO,8BAA8B,oBAAM;AAC3C;AACA;AACO,iCAAiC,oBAAM;AAC9C;AACA;AACA,CAAC;AACD,sCAAsC,kBAA2B;AACjE,CAAC;AACD;AACO,+BAA+B,oBAAM;AAC5C;AACO,gCAAgC,oBAAM;AAC7C;AACO,iCAAiC,oBAAM;AAC9C;AACO,gCAAgC,oBAAM;AAC7C;AACA;AACO,gCAAgC,oBAAM;AAC7C;AACA;AACA,CAAC;AACD,sCAAsC,mBAA4B;AAClE,CAAC;AACD;AACO,8BAA8B,oBAAM;AAC3C;AACO,+BAA+B,oBAAM;AAC5C;AACO,gCAAgC,oBAAM;AAC7C;AACO,+BAA+B,oBAAM;AAC5C;AACA;AACO;AACP,sCAAsC,gBAAyB;AAC/D,CAAC;AACD;AACO,6BAA6B,oBAAM;AAC1C;AACA;AACO;AACP,2BAA2B,gBAAyB;AACpD,CAAC;AACD;AACO,MAAM,8BAAgB,GAAG,oBAAM;AACtC;AACA;AACO;AACP,2BAA2B,gBAAyB,qEAAqE,8BAAgB;AACzI,CAAC;AACD;AACO,MAAM,8BAAgB,GAAG,oBAAM;AACtC;AACA;AACO;AACP,2BAA2B,qBAA8B;AACzD,CAAC;AACD;AACO,MAAM,mCAAqB,GAAG,oBAAM;AAC3C;AACA;AACO;AACP,2BAA2B,iBAA0B;AACrD,CAAC;AACD;AACO,8BAA8B,oBAAM;AAC3C;AACA;AACO,4BAA4B,oBAAM;AACzC;AACA;AACA,CAAC;AACD;AACA,eAAe,aAAsB;AACrC;AACA,CAAC;AACD;AACO,0BAA0B,oBAAM;AACvC;AACO,2BAA2B,oBAAM;AACxC;AACO,4BAA4B,oBAAM;AACzC;AACO,2BAA2B,oBAAM;AACxC;AACA;AACO;AACP,sCAAsC,oBAA6B;AACnE,CAAC;AACD;AACO,iCAAiC,oBAAM;AAC9C;AACA;AACA;AACA;AACA;AACA;AACO,4BAA4B,WAAW;AAC9C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,mBAAmB,oBAAM,4BAA4B,SAAS;AACrE;AACA;AACA;AACA;AACO,4EAA4E,UAAU;AAC7F;AACA;AACO,wBAAwB,oBAAM;AACrC;AACA;AACA,CAAC;AACD,sCAAsC,kBAAkB;AACxD,CAAC;AACD;AACO,sBAAsB,oBAAM;AACnC;AACA,CAAC;AACD;AACO,uBAAuB,oBAAM;AACpC;AACA,CAAC;AACD;AACO,wBAAwB,oBAAM;AACrC;AACA,CAAC;AACD;AACO,uBAAuB,oBAAM;AACpC;AACA,CAAC;AACD;AACA;AACA,WAAW,0BAA0B;AACrC;AACA;AACO,gCAAgC,oBAAM;AAC7C;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACO,8BAA8B,oBAAM;AAC3C;AACA;AACA;AACO,+BAA+B,oBAAM;AAC5C;AACA;AACA;AACO,gCAAgC,oBAAM;AAC7C;AACA;AACA;AACO,+BAA+B,oBAAM;AAC5C;AACA;AACA;AACO,qCAAqC,oBAAM;AAClD;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACO,mCAAmC,oBAAM;AAChD;AACA;AACA;AACO,oCAAoC,oBAAM;AACjD;AACA;AACA;AACO,qCAAqC,oBAAM;AAClD;AACA;AACA;AACO,oCAAoC,oBAAM;AACjD;AACA;AACA;AACA,wEAAwE,wBAAwB;AAChG;AACO,8BAA8B,oBAAM;AAC3C;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACO,4BAA4B,oBAAM;AACzC;AACO,6BAA6B,oBAAM;AAC1C;AACO,8BAA8B,oBAAM;AAC3C;AACO,6BAA6B,oBAAM;;;AC7hB1C;AACA;AACkF;AAChC;AACgC;AACxB;AACiI;AAC3L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,KAAK;AACL;AACA;AACA,eAAe,mBAAmB;AAClC,KAAK;AACL;AACA;AACA,gCAAgC,UAAU;AAC1C;AACA,4BAA4B,yBAAQ;AACpC;AACA,qCAAqC,kBAAQ;AAC7C;AACA;AACA;AACA,iBAAiB;AACjB,qCAAqC,yBAAQ;AAC7C,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA,SAAS;AACT,eAAe,YAAY;AAC3B,KAAK;AACL;AACA;AACA,gCAAgC,UAAU;AAC1C;AACA,4BAA4B,yBAAQ;AACpC;AACA;AACA,qCAAqC,kBAAQ;AAC7C;AACA;AACA;AACA,qCAAqC,oBAAoB;AACzD,iBAAiB;AACjB,qCAAqC,yBAAQ;AAC7C,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA,SAAS;AACT,eAAe,WAAW;AAC1B,KAAK;AACL;AACA;AACA,gCAAgC,UAAU;AAC1C;AACA,4BAA4B,yBAAQ;AACpC;AACA;AACA,qCAAqC,kBAAQ;AAC7C;AACA;AACA;AACA,qCAAqC,oBAAoB;AACzD,iBAAiB;AACjB,qCAAqC,yBAAQ;AAC7C,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA,SAAS;AACT,eAAe,UAAU;AACzB,KAAK;AACL;AACA,eAAe,QAAQ;AACvB,KAAK;AACL;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,UAAU;AAC1C;AACA,0BAA0B,MAAM,CAAC,SAAS;AAC1C,0CAA0C,4BAA4B,YAAY,kBAAkB,WAAW,YAAY;AAC3H;AACA;AACA;AACA,IAAI,kBAAkB,sCAAsC,iBAAiB,YAAY,iBAAiB;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,MAAM,SAAS,YAAY;AACjF;AACA;AACA;AACA;;;AClLA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4BAA4B;AAC7B;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO,0BAA0B;AACjC;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO,2BAA2B;AAClC;AACA;AACA;AACO,4BAA4B;AACnC;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO,2BAA2B;AAClC;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO,iCAAiC;AACxC;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACP;AACA;AACA;AACA;AACA;;;ACvXA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;AC/BA;AACA;AACA;AACA;AACkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mBAAmB;AACzC,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E;AAC5E;AACA,iBAAiB;AACjB;AACA;AACA,oDAAoD;AACpD;AACA,aAAa;AACb,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,WAAW;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,cAAc;AAC3D;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,uBAAuB;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,uBAAuB;AAC7D;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,yBAAyB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO,uBAAuB,yDAAS;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO,SAAS,YAAS;AACzB;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAM,MAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA;AACA;AACO;AACP;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,0BAA0B;AAClC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gBAAgB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,kBAAkB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,cAAc;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,YAAY;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,UAAU;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA,mCAAmC,WAAW;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,yBAAyB,2BAA2B;AAC3G;AACA;AACA;AACA,8FAA8F,WAAW;AACzG;AACA;AACA,2EAA2E,gBAAgB;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,wBAAwB;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,6BAA6B,WAAW;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,eAAe;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,YAAY;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5zCyD;AACV;AAC/C;AACA,cAAc,sBAAsB;AACpC;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,YAAY;AACvC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,EAAE;AAChC;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,wCAAwC,aAAa;AACrD;AACA,0BAA0B,aAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrFmC;AAC+B;AACgD;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,gCAAgC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA,wBAAwB,OAAO,GAAG,oBAAoB;AACtD;AACA;AACA;AACA;AACA;AACA,yCAAyC,4BAA4B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;;;ACnIgC;AAChC;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,qBAAqB;AAC3B;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,GAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/DgC;AAC6C;AACjB;AAC5D;AACA;AACA;AACA;AACA,+BAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,GAAG;AACP;AACA;AACA,IAAI,GAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,QAAQ;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,mCAAmC,qBAAqB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,UAAU;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,GAAG;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,gBAAgB;AACxB;AACA,QAAQ,gBAAgB;AACxB;AACA;AACA;AACA;AACA;;;AC3PwE;AACpB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA,0BAA0B,oBAAoB;AAC9C;AACA;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA,sCAAsC,iBAAiB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oBAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,QAAQ;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,GAAG;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,GAAG;AACvB,kDAAkD,GAAG;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,GAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzLA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,QAAQ;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,QAAQ;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,QAAQ;AACnD;AACA;AACA;AACA,mDAAmD,QAAQ;AAC3D;AACA;AACA;AACA;AACA;;;AC5JgC;AACuC;AACvB;AACX;AACuC;AACxB;AACpD;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,GAAG;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,GAAG;AAC1B;AACA;AACA;AACA,4CAA4C,oBAAoB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,QAAQ;AAC/D;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uBAAuB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oBAAoB;AAC5C;AACA,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtJoE;AACpE;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,eAAe,6BAA6B;AAC5C;;;ACrCoD;AACpD;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACO,iDAAiD,IAAI;AAC5D;AACA;AACA,UAAU,GAAG;AACb,gBAAgB;AAChB;AACA,2BAA2B,GAAG,SAAS,eAAe,gCAAgC;AACtF,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACO,mDAAmD,IAAI;AAC9D;AACA;AACA,UAAU,GAAG;AACb,iBAAiB,2CAA2C;AAC5D;AACA;AACA;AACA,cAAc,GAAG;AACjB,2BAA2B,kCAAkC;AAC7D;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACO,oBAAoB,IAAI;AAC/B,uBAAuB,GAAG,iBAAiB;AAC3C;AACA;AACA,cAAc,GAAG;AACjB,2BAA2B,gCAAgC;AAC3D;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACO,sBAAsB,IAAI;AACjC,yBAAyB,GAAG,mBAAmB;AAC/C;AACA;AACA,cAAc,GAAG;AACjB,2BAA2B,kCAAkC;AAC7D;AACA;AACA;;;ACnFiE;AACjE;AACA;AACA,iBAAiB,2FAA2F;AAC5G;AACA;AACO;AACP,8BAA8B,sBAAsB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,+BAA+B,sBAAsB;AACrD;AACA,KAAK;AACL;;;ACnBmC;AACsC;AACQ;AAC7B;AACO;AAC3D;AACA,6BAA6B,oDAAoD;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,4BAA4B,iBAAiB;AACpD;AACA;AACA;AACA,2BAA2B,8DAA8D;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,WAAW,gBAAgB,QAAQ;;;ACvEA;AACwB;AAC8C;AACzB;AACZ;AACpE;AACA,oBAAoB;AACpB;AACA;AACO;AACP;AACA,iCAAiC,yDAAyD;AAC1F;AACA;AACA;AACA,4BAA4B,yEAAyE;AACrG;AACA;AACA;AACA;AACA;AACA,eAAe,+EAA+E;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oDAAoD,KAAK,uDAAuD;AAC7I;AACO,wBAAwB,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,UAAU;AAC5F;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,qBAAqB,MAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mCAAmC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+BAA+B,YAAY;AAC3C;AACA;AACA;AACA;AACA,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,0BAA0B;AACrC;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;ACxL0D;AACd;AAC5C;AACA;AACA;AACA;AACA;AACO,SAAS,yBAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,UAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,UAAU;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvEoE;AACJ;AAChE;AACA;AACA;AACA;AACO,8BAA8B,uBAAuB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,8BAA8B;AAC9B;AACA,eAAe,6BAA6B;AAC5C;;;AC7CkE;AAClE;AACA,yBAAyB,4CAA4C;AACrE;AACA;AACO,qKAAqK,IAAI;AAChL;AACA,gBAAgB,OAAO,GAAG,oCAAoC,yBAAQ,IAAI,EAAE;AAC5E,wCAAwC,OAAO,mBAAmB;AAClE;AACA;;;ACVkD;AACE;AACpD;AACA;AACA;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA,6BAA6B,YAAY;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,YAAY,oBAAoB;AAChC,0BAA0B,aAAa;AACvC;AACA;AACA;AACA;AACA;AACA,yBAAyB,YAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,0BAA0B,aAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,YAAY,oBAAoB;AAChC;AACA;;;ACtGA;AACA,wCAAwC;AACxC;AACA;AACO,MAAM,cAAM,oBAAoB,aAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACO;AACP,cAAc,cAAM,CAAC,MAAM,UAAU,cAAc;AACnD;;;ACbA;AACA;AACA;AAC8C;AACO;AAC0G;AAC/J;AACA;AACA;AACA;AACO,iDAAiD,GAAG;AAC3D,IAAI,OAAO,UAAU;AACrB;AACA;AACA,mBAAmB,QAAQ;AAC3B,iBAAiB,sBAAsB;AACvC,mBAAmB,wBAAwB;AAC3C,aAAa,qBAAqB;AAClC,uBAAuB,WAAW,EAAE,eAAe,wBAAwB;AAC3E;AACA;;;ACpBoD;AAC0B;AAC9E;AACA,yBAAyB,wDAAwD;AACjF;AACA;AACO,uDAAuD,IAAI;AAClE,uBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA,0BAA0B,oBAAoB;AAC9C;AACA;AACA;AACA;AACA,kBAAkB,GAAG;AACrB,iCAAiC,gBAAgB;AACjD,iCAAiC,UAAU;AAC3C,sBAAsB,UAAU;AAChC,0BAA0B,kCAAkC;AAC5D;AACA;AACA;AACA;AACA;AACA,cAAc,iBAAiB;AAC/B,cAAc,eAAe;AAC7B;AACA;AACA,sBAAsB;AACtB;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,UAAU;AAC5B;AACA,+BAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;;;AChDA;AACA;AACA;AACO,SAAS,qBAAS;AACzB;AACA;;;ACLsC;AACtC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,SAAS,qBAAS;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,cAAc;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO,4BAA4B,kEAAkB;;;AClGc;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,kBAAkB;;;ACR9C;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,qBAAqB,oCAAoC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,oEAAoE;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB,gBAAgB,+BAA+B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;;;AC3IP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oCAAoC;;;ACnBrC;AACA;AACA;AACqD;AACyC;AAC9F;AACA;AACA;AACA;AACA;AACO,qBAAqB,UAAU,KAAK,oBAAoB,EAAE,IAAI,OAAO,EAAE,IAAI,YAAY,CAAC,MAAM,UAAU,CAAC;;;ACVhH;AACA;AACA;AAC8C;AACqD;AACtC;AAC+K;AAC3L;AACjD;AACA;AACA;AACA;AACO,qDAAqD,GAAG;AAC/D,MAAM,OAAO,UAAU;AACvB;AACA,qBAAqB,QAAQ;AAC7B;AACA,mBAAmB,sBAAsB;AACzC,qBAAqB,wBAAwB;AAC7C,4BAA4B,WAAW,EAAE;AACzC,UAAU,wBAAwB;AAClC;;AAEA;AACA;AACA,4BAA4B,UAAU,EAAE,QAAQ,OAAO,CAAC;AACxD;;AAEA;AACA;AACA;AACA,oCAAoC,YAAY,EAAE;AAClD,eAAe,qBAAqB;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,UAAU,EAAE,QAAQ,OAAO,CAAC;AAC1D;AACA,qBAAqB,YAAY,EAAE;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,YAAY,CAAC;AAC3B;AACA,qBAAqB,gBAAgB,EAAE,eAAe,eAAe;AACrE,4BAA4B,mBAAmB,EAAE;AACjD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC,UAAU,EAAE;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA,gBAAgB,YAAY,CAAC;AAC7B,0BAA0B,YAAY;AACtC;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;;;ACtIA;AACA;AACA;AAC8F;AACnB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,aAAa;AAChD;AACA;AACA,8BAA8B,gDAAgD;AAC9E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,aAAa;AAC5B,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACgD;AACR;;;AC1DzC;AACA;AACA;AACsF;AACpB;AACvB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,SAAS;AACxC;AACA;AACA,8BAA8B,4CAA4C;AAC1E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,SAAS;AACxB,YAAY;AACZ,UAAU;AACV,CAAC;AACwC;AACJ;;;AC9BrC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,uBAAa;AACjB,EAAE,uBAAa;AACf,SAAS,gBAAgB,sCAAsC,kBAAkB;AACjF,wBAAwB;AACxB,SAAS,uBAAa;AACtB;;AAEO,SAAS,iBAAS;AACzB;AACA;AACA,EAAE,uBAAa;AACf,kBAAkB;AAClB;AACA;;AAEO,IAAI,gBAAQ;AACnB,EAAE,gBAAQ;AACV,+CAA+C,OAAO;AACtD;AACA;AACA;AACA;AACA;AACA,SAAS,gBAAQ;AACjB;;AAEO,SAAS,cAAM;AACtB;AACA;AACA;AACA;AACA,2DAA2D,cAAc;AACzE;AACA;AACA;AACA;AACA;;AAEO,SAAS,kBAAU;AAC1B;AACA;AACA,2CAA2C,QAAQ;AACnD;AACA;;AAEO,SAAS,eAAO;AACvB,kCAAkC;AAClC;;AAEO;AACP,uBAAuB,uFAAuF;AAC9G;AACA;AACA,yGAAyG;AACzG;AACA,sCAAsC,QAAQ;AAC9C;AACA,gEAAgE;AAChE;AACA,8CAA8C,yFAAyF;AACvI,8DAA8D,2CAA2C;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA,4CAA4C,yEAAyE;AACrH;;AAEO,SAAS,kBAAU;AAC1B;AACA;;AAEO,SAAS,iBAAS;AACzB,0BAA0B,+DAA+D,iBAAiB;AAC1G;AACA,kCAAkC,MAAM,+BAA+B,YAAY;AACnF,iCAAiC,MAAM,mCAAmC,YAAY;AACtF,8BAA8B;AAC9B;AACA,GAAG;AACH;;AAEO,SAAS,mBAAW;AAC3B,YAAY,6BAA6B,0BAA0B,cAAc,qBAAqB;AACtG,eAAe,oDAAoD,qEAAqE,cAAc;AACtJ,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC,iCAAiC,SAAS;AAC1C,iCAAiC,WAAW,UAAU;AACtD,wCAAwC,cAAc;AACtD;AACA,4GAA4G,OAAO;AACnH,+EAA+E,iBAAiB;AAChG,uDAAuD,gBAAgB,QAAQ;AAC/E,6CAA6C,gBAAgB,gBAAgB;AAC7E;AACA,gCAAgC;AAChC;AACA;AACA,QAAQ,YAAY,aAAa,SAAS,UAAU;AACpD,kCAAkC,SAAS;AAC3C;AACA;;AAEO,IAAI,uBAAe;AAC1B;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;;AAEM,SAAS,oBAAY;AAC5B,uFAAuF,uBAAe;AACtG;;AAEO,SAAS,gBAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEO,SAAS,cAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,MAAM;AACxB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACO,SAAS,gBAAQ;AACxB,2BAA2B,sBAAsB;AACjD,qBAAqB,cAAM;AAC3B;AACA;;AAEA;AACO,SAAS,sBAAc;AAC9B,gDAAgD,QAAQ;AACxD,uCAAuC,QAAQ;AAC/C,uDAAuD,QAAQ;AAC/D;AACA;AACA;;AAEO;AACP,2EAA2E,OAAO;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,SAAS,eAAO;AACvB,yBAAyB,eAAO,4BAA4B,eAAO;AACnE;;AAEO,SAAS,wBAAgB;AAChC;AACA;AACA,eAAe,uFAAuF,cAAc;AACpH,qBAAqB,gCAAgC,qCAAqC,2CAA2C;AACrI,0BAA0B,MAAM,iBAAiB,YAAY;AAC7D,qBAAqB,mBAAmB,eAAO;AAC/C,4BAA4B;AAC5B,2BAA2B;AAC3B,0BAA0B;AAC1B;;AAEO,SAAS,wBAAgB;AAChC;AACA,eAAe,6CAA6C,UAAU,sDAAsD,cAAc;AAC1I,wBAAwB,6BAA6B,oBAAoB,OAAO,eAAO,yBAAyB,kBAAkB;AAClI;;AAEO,SAAS,qBAAa;AAC7B;AACA;AACA,qCAAqC,gBAAQ,kBAAkB,gBAAQ,kCAAkC,uFAAuF,cAAc;AAC9M,qBAAqB,8BAA8B,gDAAgD,wDAAwD;AAC3J,2CAA2C,sCAAsC,UAAU,mBAAmB,IAAI;AAClH;;AAEO,SAAS,4BAAoB;AACpC,+BAA+B,uCAAuC,YAAY,KAAK,OAAO;AAC9F;AACA;;AAEA;AACA,wCAAwC,4BAA4B;AACpE,CAAC;AACD;AACA;;AAEO,SAAS,oBAAY;AAC5B;AACA;AACA,2GAA2G,uBAAe;AAC1H;AACA;AACA;;AAEO,SAAS,uBAAe;AAC/B,2CAA2C;AAC3C;;AAEO,SAAS,8BAAsB;AACtC;AACA;AACA;AACA;;AAEO,SAAS,8BAAsB;AACtC;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,8CAA8C;AACnE;AACA;AACA,qBAAqB,aAAa;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,SAAS,gBAAgB;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gDAAe;AACf,WAAW;AACX,UAAU;AACV,QAAQ;AACR,YAAY;AACZ,SAAS;AACT,YAAY;AACZ,WAAW;AACX,aAAa;AACb,iBAAiB;AACjB,cAAc;AACd,UAAU;AACV,QAAQ;AACR,UAAU;AACV,gBAAgB;AAChB;AACA,SAAS;AACT,kBAAkB;AAClB,kBAAkB;AAClB,eAAe;AACf,sBAAsB;AACtB,cAAc;AACd,iBAAiB;AACjB,wBAAwB;AACxB,wBAAwB;AACxB;AACA;AACA;AACA,CAAC,EAAC;;;ACjXiC;AACY;AAC/C;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACO;AACP;AACA,UAAU;AACV,IAAI,IAAI,GAAG,0BAA0B;AACrC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wBAAwB;AACnC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,4BAA4B;AACvC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,2BAA2B;AACtC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,+BAA+B;AAC1C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,2BAA2B;AACtC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,4BAA4B;AACvC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,gCAAgC;AAC3C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,0BAA0B;AACrC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,4BAA4B;AACvC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,0BAA0B;AACrC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,2BAA2B;AACtC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,gCAAgC;AAC3C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,yBAAyB;AACpC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,8BAA8B;AACzC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wBAAwB;AACnC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wBAAwB;AACnC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,4BAA4B;AACvC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,mCAAmC;AAC9C;;;ACrEmC;AACwB;AACsB;AACD;AACrB;AAC3D;AACA;AACA,yBAAyB,iFAAiF;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,UAAU;AACV,IAAI,IAAI,GAAG,4BAA4B;AACvC;AACA,WAAW,oBAAoB,6BAA6B;AAC5D,WAAW,SAAS,QAAQ;;;ACpFiC;AACiB;AAC9E;AACA,yBAAyB,iDAAiD;AAC1E;AACA;AACO,gDAAgD,IAAI;AAC3D;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC,gBAAgB,YAAY;AAC5B,oBAAoB,gBAAgB;AACpC,gBAAgB,YAAY;AAC5B,0BAA0B,sBAAsB;AAChD,eAAe,WAAW;AAC1B,kBAAkB,cAAc;AAChC,gBAAgB,YAAY;AAC5B,uBAAuB,kBAAkB;AACzC,qBAAqB,gBAAgB;AACrC,yBAAyB,oBAAoB;AAC7C,wBAAwB,mBAAmB;AAC3C,4BAA4B,uBAAuB;AACnD,wBAAwB,mBAAmB;AAC3C,yBAAyB,oBAAoB;AAC7C,6BAA6B,wBAAwB;AACrD,yBAAyB,oBAAoB;AAC7C,uBAAuB,kBAAkB;AACzC,yBAAyB,oBAAoB;AAC7C,uBAAuB,kBAAkB;AACzC,wBAAwB,mBAAmB;AAC3C,6BAA6B,wBAAwB;AACrD,sBAAsB,iBAAiB;AACvC,2BAA2B,sBAAsB;AACjD,qBAAqB,gBAAgB;AACrC,qBAAqB,gBAAgB;AACrC,yBAAyB,oBAAoB;AAC7C,gCAAgC,2BAA2B;AAC3D,UAAU,GAAG;AACb;AACA,UAAU,iBAAiB;AAC3B;AACA,oBAAoB,OAAO,0BAA0B;AACrD;AACA,UAAU,eAAe;AACzB;AACA;;;AC9CA;AACA;AACA;AAC8C;AACqD;AACtC;AACwmB;AAC3nB;AAC1C;AACA;AACA;AACA;AACA;AACO,yBAAyB,GAAG;AACnC,IAAI,OAAO,iBAAiB;AAC5B,mBAAmB,QAAQ;AAC3B;AACA,iBAAiB,oBAAoB;AACrC,mBAAmB,sBAAsB;AACzC,mBAAmB,YAAY,EAAE;AACjC,sBAAsB,YAAY,EAAE;AACpC,wBAAwB,eAAe;AACvC,aAAa,qBAAqB;AAClC,0BAA0B,mBAAmB,EAAE;AAC/C;AACA;AACA,oBAAoB,gBAAgB,EAAE;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,UAAU,EAAE,SAAS,OAAO,EAAE,IAAI,YAAY,CAAC;AACrE;AACA;AACA;AACA;AACA,mBAAmB,WAAW,EAAE;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,gBAAgB;AACxC;;AAEA;AACA,wBAAwB,iBAAiB;AACzC;;AAEA;AACA,wCAAwC,uBAAuB;AAC/D;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,sBAAsB,gBAAgB,EAAE,eAAe,sBAAsB;AAC7E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,8BAA8B,CAAC,GAAG;AAClD;AACA,0BAA0B,YAAY;AACtC,sBAAsB,YAAY;AAClC,eAAe,YAAY;AAC3B;AACA;;AAEA;AACA;AACA,0BAA0B,YAAY;AACtC,eAAe,YAAY;AAC3B;;AAEA;AACA,eAAe,YAAY;AAC3B;AACA,8BAA8B,YAAY;AAC1C,2BAA2B,YAAY;AACvC,mBAAmB,YAAY;AAC/B;;AAEA;AACA;AACA,sBAAsB,YAAY;AAClC;;AAEA;AACA,sBAAsB,YAAY;AAClC,eAAe,YAAY;AAC3B;;AAEA;AACA,iCAAiC,YAAY;AAC7C;AACA,oBAAoB,YAAY;AAChC,uBAAuB,YAAY;AACnC,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACO,2BAA2B,GAAG;AACrC;AACA,kBAAkB,cAAc;AAChC,aAAa,sBAAsB;AACnC;;AAEA;AACA,kBAAkB,eAAe;AACjC,aAAa,uBAAuB;AACpC;;AAEA;AACA,wCAAwC,sBAAsB;AAC9D;;AAEA;AACA,kBAAkB,gBAAgB;AAClC,aAAa,wBAAwB;AACrC;;AAEA,0CAA0C,YAAY;AACtD,qBAAqB,eAAe;AACpC;AACA,gBAAgB,8BAA8B,CAAC,GAAG;AAClD;AACA;AACA,oBAAoB,YAAY;AAChC,eAAe,YAAY;AAC3B;;AAEA;AACA;AACA,oBAAoB,YAAY;AAChC,sBAAsB,YAAY;AAClC,eAAe,YAAY;AAC3B;;AAEA,4CAA4C,YAAY;AACxD,uBAAuB,YAAY;AACnC;;AAEA;AACA,oBAAoB,YAAY;AAChC,eAAe,YAAY;AAC3B;;AAEA;AACA,oBAAoB,YAAY;AAChC,sBAAsB,YAAY;AAClC;AACA,eAAe,YAAY;AAC3B;AACA;;AAEA,kDAAkD,YAAY;AAC9D,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACO,0BAA0B,GAAG;AACpC;AACA,kBAAkB,aAAa;AAC/B,aAAa,sBAAsB;AACnC;;AAEA;AACA,kBAAkB,cAAc;AAChC,aAAa,uBAAuB;AACpC;;AAEA;AACA,wCAAwC,qBAAqB;AAC7D;;AAEA;AACA,kBAAkB,eAAe;AACjC,aAAa,wBAAwB;AACrC;;AAEA,yCAAyC,YAAY;AACrD,qBAAqB,cAAc;AACnC;AACA,gBAAgB,8BAA8B,CAAC,GAAG;AAClD;AACA;AACA,oBAAoB,YAAY;AAChC,eAAe,YAAY;AAC3B;;AAEA;AACA;AACA,oBAAoB,YAAY;AAChC,sBAAsB,YAAY;AAClC,eAAe,YAAY;AAC3B;;AAEA,2CAA2C,YAAY;AACvD,uBAAuB,YAAY;AACnC;;AAEA;AACA,oBAAoB,YAAY;AAChC,eAAe,YAAY;AAC3B;;AAEA;AACA,oBAAoB,YAAY;AAChC,sBAAsB,YAAY;AAClC;AACA,eAAe,YAAY;AAC3B;AACA;;AAEA,iDAAiD,YAAY;AAC7D,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACO,wBAAwB,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,oBAAoB;AACjC,0BAA0B,WAAW,EAAE,eAAe,oBAAoB;AAC1E;;AAEA;AACA;AACA;AACA,2BAA2B,qBAAqB;AAChD;;AAEA;AACA;AACA;AACA,2BAA2B,sBAAsB;AACjD;;AAEA,6CAA6C,YAAY;AACzD;AACA,0BAA0B,gBAAgB,EAAE,eAAe,8BAAgB;AAC3E,+BAA+B,WAAW,EAAE,IAAI,gBAAgB,CAAC;AACjE;AACA,gBAAgB,8BAA8B,CAAC,GAAG;AAClD;AACA,0BAA0B,YAAY;AACtC,eAAe,YAAY;AAC3B;AACA;AACA;AACA,yDAAyD,YAAY;AACrE,eAAe,YAAY;AAC3B,6BAA6B,YAAY;AACzC;AACA;AACA;AACA;AACA;AACA;AACO,gCAAgC,GAAG;AAC1C;AACA;AACA,aAAa,oBAAoB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,qBAAqB;AAClC;;AAEA;AACA;AACA,aAAa,sBAAsB;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,WAAW,EAAE;AAChC;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,qBAAqB;AACvC;;AAEA;AACA,kBAAkB,sBAAsB;AACxC;;AAEA,+CAA+C,YAAY;AAC3D;AACA;;AAEA,+CAA+C,YAAY,EAAE;AAC7D,kBAAkB,qBAAqB;AACvC,mBAAmB,gBAAgB,EAAE;AACrC;AACA,gBAAgB,8BAA8B,CAAC,GAAG;AAClD;AACA,qDAAqD,YAAY;AACjE;AACA,oBAAoB,YAAY;AAChC,eAAe,YAAY;AAC3B;AACA;AACA,qDAAqD,YAAY,EAAE;AACnE,oBAAoB,YAAY;AAChC;;AAEA;AACA,2DAA2D,YAAY;AACvE,oBAAoB,YAAY;AAChC;AACA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D,YAAY,EAAE;AACzE,oBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACO,4BAA4B,GAAG;AACtC;AACA;AACA,oBAAoB,cAAc;AAClC;;AAEA;AACA,oBAAoB,eAAe;AACnC;;AAEA;AACA,oBAAoB,gBAAgB;AACpC;;AAEA;AACA;AACA;;AAEA,2CAA2C,YAAY;AACvD,qBAAqB,eAAe;AACpC;AACA,gBAAgB,8BAA8B,CAAC,GAAG;AAClD;AACA,sBAAsB,YAAY;AAClC;AACA,6CAA6C,YAAY;AACzD;AACA,0BAA0B,YAAY;AACtC,uBAAuB,YAAY;AACnC,eAAe,YAAY;AAC3B;AACA;AACA;AACA,oBAAoB,YAAY;AAChC,sBAAsB,YAAY;AAClC,eAAe,YAAY;AAC3B;AACA;AACA;AACA,uDAAuD,YAAY;AACnE;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACO,4BAA4B,GAAG;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,uBAAuB;AACzC;;AAEA;AACA,kBAAkB,wBAAwB;AAC1C;;AAEA,2CAA2C,YAAY;AACvD,qBAAqB,eAAe;AACpC;;AAEA;AACA,mCAAmC;AACnC;AACA;AACA,uDAAuD,YAAY,CAAC;AACpE,yDAAyD,YAAY;AACrE;AACA;AACA,gBAAgB,8BAA8B,CAAC,GAAG;AAClD;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA,eAAe,YAAY;AAC3B;AACA;;AAEA;AACA,oBAAoB,YAAY;AAChC,sBAAsB,YAAY;AAClC,eAAe,YAAY;AAC3B;AACA;;AAEA,mCAAmC,YAAY,CAAC;AAChD,uBAAuB,YAAY;AACnC,eAAe,YAAY;AAC3B;AACA;;AAEA;AACA,eAAe,YAAY;AAC3B;;AAEA;AACA,6CAA6C,YAAY,CAAC;AAC1D,oBAAoB,YAAY;AAChC,sBAAsB,YAAY;AAClC,eAAe,YAAY;AAC3B;AACA;;AAEA,yCAAyC,YAAY,CAAC;AACtD;AACA,8BAA8B,YAAY;AAC1C;AACA;;;ACjiBsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,qBAAqB,kCAAkC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnDA;AACA;AACA;AACwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,eAAe,0BAA0B;AACzC;;;ACfA;AACA;AACA;AAC8C;AACgH;AAC/F;AAC/D;AACA;AACA;AACA;AACO,8CAA8C,GAAG;AACxD,MAAM,gBAAgB;AACtB,kBAAkB,kBAAkB,WAAW,kBAAkB,GAAG,kBAAkB,cAAc,eAAe,GAAG,kBAAkB,gBAAgB,uBAAuB,GAAG,kBAAkB,YAAY,mBAAmB,GAAG,kBAAkB,YAAY,mBAAmB;;;ACZvR;AACA;AACA;AACmC;AACY;AACiC;AACpB;AAC5D;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA,8BAA8B,yCAAyC;AACvE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP;AACA,eAAe,MAAM;AACrB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA,CAAC;AACkC;AACD;;;AClElC;AACA;AACA;AACA;AACO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5ImD;AAC1D;AACA;AACA;AACA;AACA;AACO;AACP;AACA,uDAAuD,SAAS,OAAO,SAAS;AAChF;;;ACTkD;AAClD;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;;AC1FmC;AAC6B;AACoB;AACJ;AACvB;AACkB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,6BAA6B,iBAAiB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,SAAS;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,YAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA;AACA;AACA;AACA,sDAAsD,SAAS;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA,qDAAqD,gBAAgB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gBAAgB,MAAM,gBAAgB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,iBAAiB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,WAAW,iBAAiB,eAAe;AAC/E,oCAAoC,WAAW;AAC/C;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,mBAAmB;AAC5D,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,0CAA0C;AACrD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,0CAA0C;AACrD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wDAAwD;AACnE;AACA,UAAU;AACV,IAAI,IAAI,GAAG,gDAAgD;AAC3D;AACA,UAAU;AACV,IAAI,IAAI,GAAG,mCAAmC;AAC9C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iCAAiC;AAC5C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,sDAAsD;AACjE;AACA,UAAU;AACV,IAAI,IAAI,GAAG,8CAA8C;AACzD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iCAAiC;AAC5C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,+BAA+B;AAC1C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,+CAA+C;AAC1D;AACA,UAAU;AACV,IAAI,IAAI,GAAG,+BAA+B;AAC1C;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;ACn8BA;AACA;AACA;AACA;AACO;;;ACJuC;AAC9C;AACA;AACA,8CAA8C,UAAU;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,wBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;AACA;;;ACrBqD;AACrD;AACA,yBAAyB,yDAAyD;AAClF;AACA;AACO,wDAAwD,IAAI;AACnE,uBAAuB,+CAA+C;AACtE,UAAU,IAAI,+BAA+B,IAAI;AACjD;AACA;AACA;AACA;;;ACXA;AACA;AACA;AAC8C;AAC9C;AACA;AACA;AACA;AACO,sDAAsD,GAAG;AAChE;AACA;AACA;AACA;AACA;;;ACbA;AACA;AACA;AACgG;AACnB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA,8BAA8B,iDAAiD;AAC/E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,cAAc;AAC7B,YAAY;AACZ,UAAU;AACV,CAAC;AACkD;AACT;;;AC7BP;AACY;AACkC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;;;ACtC+C;AAC/C;AACA,qBAAqB,yCAAyC;AAC9D;AACA;AACO,gDAAgD,IAAI;AAC3D;AACA,2BAA2B,aAAa;AACxC;AACA,iBAAiB,qDAAqD,OAAO,EAAE,WAAW;AAC1F;AACA;AACA;AACA;AACA,oBAAoB,gCAAgC;AACpD,qBAAqB,6CAA6C,QAAQ,EAAE,YAAY;AACxF;AACA,8CAA8C,uBAAuB;AACrE;AACA;AACA;AACA;AACA;;;ACtBmC;AACY;AACiC;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACO,oBAAoB,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,UAAU,EAAE;AAC3E,sDAAsD,WAAW,EAAE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO,EAAE,KAAK;AACxC;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,mBAAmB;AAC9B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,oBAAoB;AAC/B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;;;ACvCA;AACA;AACA;AACwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,gCAAgC;AAC5C;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC,iBAAiB,eAAe;AAChC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAoB;AAChC;AACA;AACA;AACA;AACA;AACA,sBAAsB,SAAoB;AAC1C,QAAQ,SAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5EA;AACA;AACA;AAC8C;AACc;AACsG;AAC3F;AACvE,qCAAqC,GAAG;AACxC,cAAc,eAAe,KAAK,EAAE;AACpC;AACA;AACA;AACA,qCAAqC,GAAG;AACxC,cAAc,eAAe,KAAK,EAAE;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACO,8CAA8C,GAAG;AACxD,MAAM,OAAO,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB,EAAE,IAAI,OAAO,CAAC,MAAM,UAAU,EAAE;AACnE,kBAAkB,UAAU,EAAE;AAC9B;AACA;AACA,4BAA4B,oBAAoB;AAChD,6BAA6B,UAAU;AACvC;;AAEA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,mBAAmB,EAAE;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B,cAAc;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,eAAe,KAAK,EAAE;AACtC;AACA;AACA;AACA,sBAAsB,6BAA6B;;;ACvFnD;AACA;AACA;AACmC;AACwB;AACqB;AACpB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM;AAClC;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,kBAAkB;AAC7B;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA;AACA;AACA;AACA;AACO,oBAAoB,IAAI;AAC/B,IAAI,IAAI,gBAAgB,IAAI;AAC5B;AACA,eAAe,cAAc;AAC7B,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,yCAAyC;AACvE,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,MAAM;AACrB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA;AACA,CAAC;AACkC;AACD;;;ACzDa;AAC/C;AACA,yBAAyB,wCAAwC;AACjE;AACA;AACO,+CAA+C,IAAI;AAC1D,uBAAuB,oCAAoC;AAC3D,qDAAqD,4BAA4B;AACjF;AACA;AACA;AACA;;;ACXA;AACA;AACA;AAC8C;AACO;AACkI;AACrI;AAClD;AACA;AACA;AACA;AACO,6CAA6C,GAAG;AACvD,IAAI,OAAO,kBAAkB;AAC7B;AACA,mBAAmB,QAAQ;AAC3B,iBAAiB,sBAAsB;AACvC,mBAAmB,wBAAwB;AAC3C;;AAEA;AACA,0BAA0B,mBAAmB,EAAE;AAC/C,sBAAsB,UAAU,EAAE,WAAW,WAAW,CAAC;AACzD,cAAc,UAAU,EAAE,IAAI,WAAW,CAAC;AAC1C,aAAa,qBAAqB;AAClC;AACA,mBAAmB,WAAW,EAAE;AAChC,wBAAwB,eAAe;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,UAAU,EAAE;AAClC,oBAAoB,YAAY,EAAE,KAAK,UAAU,EAAE;AACnD,uBAAuB,YAAY,EAAE,KAAK,UAAU,EAAE;AACtD;AACA;AACA;AACA;AACA;AACA;;;AC3CA;AACA;AACA;AAC8E;AACpB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,KAAK;AAChC;AACA;AACA,8BAA8B,wCAAwC;AACtE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,KAAK;AACpB,YAAY;AACZ,UAAU;AACV,CAAC;AACgC;AACA;;;AC7BE;AACkB;AACW;AAChB;AACW;AAC3D;AACA;AACA;AACA;AACA;AACO,6BAA6B,MAAM;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,iBAAiB,QAAQ,EAAE,iBAAiB;;;ACtBpB;AACkB;AACkB;AACS;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yBAAyB,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;ACrEkE;AAClE;AACA,yBAAyB,6CAA6C;AACtE;AACA;AACO,oDAAoD,IAAI;AAC/D;AACA;AACA;AACA,kBAAkB,OAAO,GAAG,4CAA4C,yBAAQ,IAAI;AACpF;AACA;AACA;AACA;;;ACbA;AACA;AACA;AAC8C;AACO;AACwC;AAC7F;AACA;AACA;AACA;AACO,kDAAkD,GAAG;AAC5D,IAAI,OAAO,kBAAkB;AAC7B;AACA,mBAAmB,QAAQ;AAC3B,iBAAiB,oBAAoB;AACrC,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;;;ACtBA;AACA;AACA;AACwF;AACpB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,UAAU;AAC1C;AACA;AACA,8BAA8B,6CAA6C;AAC3E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,UAAU;AACzB,YAAY;AACZ,UAAU;AACV,CAAC;AAC0C;AACL;;;AC7Be;AACS;AACgB;AAC9E;AACA,yBAAyB,yDAAyD;AAClF;AACA;AACO,wDAAwD,IAAI;AACnE;AACA,UAAU,IAAI,mCAAmC,IAAI;AACrD,kBAAkB,cAAc;AAChC;AACA,UAAU,IAAI,eAAe,IAAI;AACjC,kBAAkB,iBAAiB;AACnC;AACA,kBAAkB,eAAe;AACjC;AACA,UAAU,IAAI,mBAAmB,IAAI;AACrC;AACA,6CAA6C,2BAA2B;AACxE;AACA;AACA;AACA;;;ACvBA;AACA;AACA;AAC8C;AACqD;AACtC;AACkL;AAC7L;AAClD;AACA;AACA;AACA;AACO,sDAAsD,GAAG;AAChE,MAAM,OAAO,iBAAiB;AAC9B;AACA;AACA,uBAAuB,QAAQ;AAC/B,qBAAqB,oBAAoB;AACzC;AACA,uBAAuB,sBAAsB;AAC7C,0BAA0B,YAAY,EAAE;AACxC;AACA,iBAAiB,qBAAqB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,qBAAqB;AACtC;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,WAAW,EAAE;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,qBAAqB;AAC3C;;AAEA;AACA,sBAAsB,sBAAsB;AAC5C;;AAEA,eAAe,YAAY,EAAE;AAC7B,sBAAsB,qBAAqB;AAC3C,uBAAuB,gBAAgB,EAAE;AACzC;;AAEA;AACA,iBAAiB,qBAAqB;AACtC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,8BAA8B,CAAC,GAAG;AAClD;AACA,2BAA2B,YAAY,EAAE;AACzC,sBAAsB,YAAY;AAClC;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;;;ACxHA;AACA;AACA;AACgG;AACnB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA,8BAA8B,iDAAiD;AAC/E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,cAAc;AAC7B,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA;AACA,CAAC;AACkD;AACT;;;ACjCqD;AACtC;AACzD;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAAgG,QAAQ;AACxG;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iDAAiD;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,GAAG,iBAAiB;AAC5B,IAAI,IAAI,GAAG,sCAAsC;AACjD,IAAI,IAAI,GAAG,4BAA4B;AACvC,IAAI,IAAI;AACR,IAAI,IAAI,GAAG,iBAAiB;AAC5B,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI,GAAG,uCAAuC;AAClD,IAAI,IAAI,GAAG,yCAAyC,gBAAgB,EAAE;AACtE,IAAI,UAAU;AACd,IAAI,UAAU;AACd;AACA;;;AC/cuE;AACS;AAChF,sBAAsB,iBAAiB;AACvC;AACA;AACA,yCAAyC,iDAAiD;AAC1F;AACA;AACA;AACO,mCAAmC,cAAc;AACxD;AACA;AACA;AACA;AACA;;;ACdmC;AACwB;AACqB;AACrB;AACQ;AACnE;AACA;AACA,yBAAyB,2FAA2F;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iDAAiD;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,mBAAmB;AAC9B;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,UAAU;AACV,IAAI,IAAI,GAAG,4BAA4B;AACvC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,2BAA2B;AACtC;AACA,WAAW,sBAAsB,6BAA6B;AAC9D,WAAW,SAAS,QAAQ;;;ACtLiC;AACiB;AAC9E;AACA,yBAAyB,iDAAiD;AAC1E;AACA;AACO,gDAAgD,IAAI;AAC3D;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC,qBAAqB,gBAAgB;AACrC,gBAAgB,cAAc;AAC9B,sBAAsB,kBAAkB;AACxC,uBAAuB,mBAAmB;AAC1C,sBAAsB,kBAAkB;AACxC,0BAA0B,sBAAsB;AAChD,sBAAsB,kBAAkB;AACxC,gBAAgB,YAAY;AAC5B,gBAAgB,YAAY;AAC5B,iBAAiB,aAAa;AAC9B,uBAAuB,kBAAkB;AACzC,qBAAqB,gBAAgB;AACrC,yBAAyB,oBAAoB;AAC7C,wBAAwB,mBAAmB;AAC3C,4BAA4B,uBAAuB;AACnD,wBAAwB,mBAAmB;AAC3C,yBAAyB,oBAAoB;AAC7C,6BAA6B,wBAAwB;AACrD,yBAAyB,oBAAoB;AAC7C,uBAAuB,kBAAkB;AACzC,yBAAyB,oBAAoB;AAC7C,uBAAuB,kBAAkB;AACzC,wBAAwB,mBAAmB;AAC3C,6BAA6B,wBAAwB;AACrD,sBAAsB,iBAAiB;AACvC,2BAA2B,sBAAsB;AACjD,qBAAqB,gBAAgB;AACrC,qBAAqB,gBAAgB;AACrC,wBAAwB,mBAAmB;AAC3C,yBAAyB,oBAAoB;AAC7C,gCAAgC,2BAA2B;AAC3D,UAAU,GAAG;AACb;AACA,UAAU,iBAAiB;AAC3B;AACA,oBAAoB,OAAO,0BAA0B;AACrD;AACA,UAAU,eAAe;AACzB;AACA;;;AClDA;AACA;AACA;AACA;AACO;;;ACJP;AACA;AACA;AAC8C;AAC8C;AAC/B;AAC+D;AAC8C;AAC3G;AAC/D;AACA;AACA;AACA;AACO,8CAA8C,GAAG;AACxD;AACA;AACA;AACA,iBAAiB,eAAe;AAChC,0BAA0B,eAAe;AACzC,gBAAgB,cAAc;AAC9B;;AAEA,MAAM,gBAAgB;AACtB,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;AACA;AACA;AACA,4BAA4B,YAAY;AACxC,yBAAyB,YAAY;AACrC,iBAAiB,YAAY;AAC7B,kBAAkB,cAAc;AAChC;AACA;AACA,QAAQ,kBAAkB,WAAW,GAAG;AACxC;AACA;AACA;AACA,wBAAwB,cAAc;AACtC;;AAEA,UAAU,kBAAkB;AAC5B,sBAAsB,8BAA8B,CAAC,GAAG;AACxD;AACA;AACA,0BAA0B,YAAY;AACtC,4BAA4B,YAAY;AACxC,qBAAqB,YAAY;AACjC;AACA,cAAc,kBAAkB,UAAU,GAAG;AAC7C;AACA;AACA;AACA,wBAAwB,aAAa;AACrC;;AAEA,UAAU,iBAAiB;AAC3B,sBAAsB,8BAA8B,CAAC,GAAG;AACxD;AACA;AACA,0BAA0B,YAAY;AACtC,4BAA4B,YAAY;AACxC,qBAAqB,YAAY;AACjC;AACA,cAAc,kBAAkB,gBAAgB,GAAG;AACnD;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA,UAAU,uBAAuB;AACjC,sBAAsB,8BAA8B,CAAC,GAAG;AACxD;AACA;AACA,qBAAqB,YAAY;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,kBAAkB,YAAY,GAAG;AAC/C;AACA;AACA;AACA;AACA,0BAA0B,cAAc;AACxC;;AAEA,UAAU,mBAAmB;AAC7B,sBAAsB,8BAA8B,CAAC,GAAG;AACxD;AACA,4BAA4B,YAAY;AACxC;AACA,cAAc,kBAAkB,YAAY,GAAG;AAC/C,UAAU,mBAAmB;AAC7B,sBAAsB,8BAA8B,CAAC,GAAG;AACxD;AACA,0BAA0B,YAAY;AACtC;;AAEA;AACA,0BAA0B,YAAY;AACtC;AACA,qBAAqB,YAAY;AACjC;AACA;;;ACnHA;AACA;AACA;AACmC;AACY;AACiC;AACpB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,uCAAuC;AAClD;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA,8BAA8B,yCAAyC;AACvE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP;AACA,eAAe,MAAM;AACrB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA,CAAC;AACkC;AACD;;;AC1E8C;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACO,mBAAmB,iBAAiB;AAC3C;;;ACT+C;AAC/C;AACA,yBAAyB,uCAAuC;AAChE;AACA;AACO,8CAA8C,IAAI;AACzD;AACA;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO,iCAAiC,cAAc,IAAI,mBAAmB;;;ACtB7E;AACA;AACA;AAC8C;AACuC;AACxB;AACQ;AACtB;AAC/C;AACA;AACA;AACA;AACO,4CAA4C,GAAG;AACtD,MAAM,OAAO,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B,4BAA4B,mBAAmB,EAAE;AACjD,QAAQ,SAAS;AACjB;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA,sBAAsB,YAAY;AAClC,gCAAgC,YAAY;AAC5C;AACA;;;AC9BA;AACA;AACA;AAC4F;AACpB;AAChB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,IAAI;AAC9B;AACA;AACA,uBAAuB,cAAc;AACrC;AACA,YAAY,SAAS,+BAA+B,sBAAsB;AAC1E;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;AACA;AACA,8BAA8B,uCAAuC;AACrE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,IAAI;AACnB,YAAY;AACZ,UAAU;AACV,CAAC;AAC8B;AACC;;;ACvCgD;AACA;AAChF,wBAAwB,iBAAiB;AACzC;AACA;AACA,yCAAyC,mDAAmD;AAC5F;AACA;AACA;AACO,qCAAqC,uBAAuB;AACnE;AACA;AACA;AACA;AACA;;;ACdmC;AACwB;AACF;AACc;AACvE;AACA;AACA,mBAAmB,oEAAoE;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,sBAAsB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;AC1EA;AACA;AACA;AAC8C;AACqE;AACtD;AACwd;AACne;AAClD;AACA;AACA;AACA;AACO,gDAAgD,GAAG;AAC1D,MAAM,OAAO,iBAAiB;AAC9B;AACA;AACA,qBAAqB,UAAU,EAAE;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,YAAY,EAAE,QAAQ,UAAU,CAAC;AACtD,sBAAsB,YAAY,EAAE,QAAQ,UAAU,CAAC;AACvD;AACA,4BAA4B,mBAAmB,EAAE;AACjD,qBAAqB,WAAW,EAAE,eAAe,iBAAiB;AAClE,oBAAoB,oBAAoB;AACxC;AACA;AACA;;AAEA;AACA,sBAAsB,aAAa;AACnC;;AAEA;AACA,qBAAqB,QAAQ;AAC7B,eAAe,qBAAqB;AACpC;AACA;AACA,mCAAmC,UAAU,EAAE;AAC/C,gCAAgC,UAAU,EAAE;AAC5C;AACA,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,sBAAsB;AACpC;AACA;AACA;;AAEA;AACA,4BAA4B,mBAAmB,EAAE;AACjD,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,qBAAqB;AACzC,sBAAsB,kBAAkB;AACxC;;AAEA;AACA,oBAAoB,sBAAsB;AAC1C,sBAAsB,mBAAmB;AACzC;;AAEA;AACA,sBAAsB,cAAc;AACpC;;AAEA;AACA,sBAAsB,eAAe;AACrC;;AAEA,aAAa,YAAY,CAAC;AAC1B,sBAAsB,gBAAgB,EAAE,eAAe,eAAe;AACtE;AACA;;AAEA,kCAAkC,YAAY,CAAC;AAC/C,uBAAuB,cAAc;AACrC;;AAEA;AACA,oBAAoB,cAAc;AAClC,qBAAqB,WAAW,EAAE,eAAe,cAAc;AAC/D;;AAEA;AACA,oBAAoB,eAAe;AACnC,qBAAqB,WAAW,EAAE,eAAe,eAAe;AAChE;;AAEA;AACA,0BAA0B,aAAa;AACvC,sBAAsB,aAAa;AACnC;;AAEA;AACA;AACA,0BAA0B,cAAc;AACxC,sBAAsB,cAAc;AACpC;;AAEA;AACA;AACA;AACA,cAAc,uBAAuB;AACrC;;AAEA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,oBAAoB,gBAAgB;AACpC,qBAAqB,WAAW,EAAE,eAAe,gBAAgB;AACjE;;AAEA;AACA;AACA,0BAA0B,eAAe;AACzC,sBAAsB,eAAe;AACrC;;AAEA;AACA;AACA;AACA,cAAc,wBAAwB;AACtC;;AAEA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C;;AAEA,kCAAkC,YAAY,CAAC;AAC/C,sBAAsB,gBAAgB,EAAE,eAAe,eAAe;AACtE;AACA;;AAEA,uDAAuD,YAAY,CAAC;AACpE,uBAAuB,cAAc;AACrC;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,eAAe;AAChC;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA,wBAAwB,YAAY;AACpC,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,sBAAsB,YAAY;AAClC;AACA,eAAe,YAAY,CAAC;AAC5B,wBAAwB,gBAAgB,EAAE,eAAe,YAAY;AACrE;AACA;AACA,oCAAoC,YAAY,CAAC;AACjD,wBAAwB,gBAAgB,EAAE,eAAe,YAAY;AACrE;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,sBAAsB,YAAY;AAClC;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;;;AC9PA;AACA;AACA;AACsD;AACU;AACR;AACxD;AACA,yBAAyB,mDAAmD;AAC5E;AACA;AACO,kDAAkD,IAAI;AAC7D;AACA;AACA,oBAAoB,eAAe;AACnC,qBAAqB,gBAAgB;AACrC,qBAAqB,gBAAgB;AACrC,qBAAqB,gBAAgB;AACrC,gBAAgB,6BAA6B;AAC7C,iBAAiB,qCAAqC;AACtD,cAAc,kCAAkC;AAChD;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,4BAA4B;AAC5B;AACA,cAAc,OAAO,wBAAwB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,2CAA2C;AACzE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,QAAQ;AACvB;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACsC;AACH;;;ACxFpC;AACA;AACA;AACA;AACO;AACP,cAAc,OAAO,EAAE,kBAAkB;AACzC;AACA;AACA;AACA;AACO;AACP,qCAAqC,MAAM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP,sBAAsB,MAAM;AAC5B;AACA;AACA;AACA,oEAAoE,oCAAoC;AACxG;AACA;AACA,oBAAoB,qBAAqB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iCAAiC,EAAE;AAClD;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,6CAA6C;AAC7C;AACA,uBAAuB,EAAE,eAAe;AACxC;AACA,mBAAmB,qBAAqB;AACxC,KAAK;AACL;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACdmC;AACoC;AACT;AACkB;AACL;AACvB;AACO;AAC3D;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACO;AACP,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAgE;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,4BAA4B,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,eAAe;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,6CAA6C;AACzE;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,IAAI,GAAG,sCAAsC;AACjD;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,6BAA6B,6BAA6B;AACrE,WAAW,gBAAgB,QAAQ;;;ACvMA;AACoC;AACoF;AAC3E;AACV;AACK;AAChB;AAC3D;AACA;AACA,mBAAmB,kEAAkE;AACrF;AACA;AACA;AACA;AACA;AACO,sBAAsB,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,kBAAkB;AACjE,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kDAAkD,EAAE,IAAI;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB,iBAAiB,SAAS;AAC1B;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,IAAI;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,UAAU;AACvC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA,SAAS;AACT,2BAA2B,oBAAoB;AAC/C;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA,qCAAqC,UAAU;AAC/C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,eAAe;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,uBAAuB,6BAA6B;AAC/D,WAAW;;;AC/gBX;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;ACPuE;AACvB;AAChD,wBAAwB,OAAO;AAC/B;AACA;AACA,yCAAyC,wBAAwB;AACjE;AACA;AACA;AACO,qCAAqC,cAAc;AAC1D;AACA;AACA;AACA;AACA;;;ACdA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;;;ACTmC;AACyC;AACZ;AACH;AACT;AACS;AACF;AACY;AACV;AAC7D;AACA;AACA,mBAAmB,sEAAsE;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,sBAAsB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iDAAiD;AAC1D;AACA;AACA;AACA;AACA,sCAAsC,oBAAoB;AAC1D;AACA;AACA,qCAAqC,oBAAoB;AACzD;AACA;AACA,qCAAqC,oBAAoB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,oBAAoB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6GAA6G,kBAAkB;AAC/H,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,KAAK;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc;AAChC,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA,8BAA8B,cAAc;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,6CAA6C;AACxD;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,IAAI,GAAG,oCAAoC;AAC/C;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,uBAAuB;AAClC;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,wBAAwB,oBAAoB;AACvD,WAAW,WAAW,QAAQ;;;ACxkB+B;AACb;AAC8B;AAC9E;AACA,yBAAyB,mDAAmD;AAC5E;AACA;AACO,kDAAkD,IAAI;AAC7D;AACA,yBAAyB,oBAAoB;AAC7C,wBAAwB,oBAAoB;AAC5C,iBAAiB,6BAA6B,EAAE,mCAAmC,EAAE,gBAAgB;AACrG,iBAAiB,YAAY;AAC7B,oBAAoB,gCAAgC;AACpD,kBAAkB,kCAAkC;AACpD,qBAAqB,qCAAqC;AAC1D,oBAAoB,oCAAoC;AACxD;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA,6CAA6C,4CAA4C;AACzF,yCAAyC,wBAAwB;AACjE,qCAAqC,oBAAoB;AACzD,qCAAqC,oBAAoB;AACzD,qCAAqC,oBAAoB;AACzD;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA,iCAAiC,gBAAgB;AACjD,8BAA8B,aAAa;AAC3C,8BAA8B,kCAAkC;AAChE,8BAA8B,kCAAkC;AAChE,sBAAsB,GAAG;AACzB;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,cAAc,eAAe;AAC7B;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA,yBAAyB,gBAAgB;AACzC,uBAAuB,aAAa;AACpC,cAAc,GAAG;AACjB;AACA;AACA,kBAAkB,OAAO;AACzB,YAAY,OAAO;AACnB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;;ACjEmC;AACsD;AACwC;AAC1F;AACvC;AACA;AACA,mBAAmB,0DAA0D;AAC7E;AACA;AACA;AACO,6BAA6B,OAAO;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,OAAO;AACnC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,OAAO;AACnC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,OAAO;AACnC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,OAAO;AACnC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,IAAI;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;;;AC/b+D;AACQ;AACvE,sBAAsB,cAAc;AACpC;AACA;AACA,yCAAyC,iDAAiD;AAC1F;AACA;AACA;AACO,mCAAmC,cAAc;AACxD;AACA;AACA;AACA;AACA;;;ACdmC;AACmD;AACsD;AACtE;AAClB;AACO;AACQ;AACd;AACrD;AACA;AACA,mBAAmB,gEAAgE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc;AAChC,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA,8BAA8B,cAAc;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,UAAU;AACvC;AACA,SAAS;AACT;AACA;AACA,6BAA6B,UAAU;AACvC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8GAA8G,OAAO;AACrH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,YAAY,YAAY,UAAU;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,UAAU;AACtB;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,oCAAoC;AAC/C;AACA,UAAU;AACV,IAAI,mBAAQ;AACZ;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,IAAI,GAAG,uBAAuB;AAClC;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,sBAAsB,oBAAoB;AACrD,WAAW,SAAS,QAAQ;;;ACze5B;AACA;AACA;AAC8C;AACoG;AACrF;AACyG;AACrH;AACjD;AACA;AACA;AACA;AACO;AACP,4CAA4C,aAAa;AACzD,wDAAwD,cAAc;AACtE;AACA;AACA;AACA,WAAW,GAAG;AACd,UAAU,eAAe,OAAO;;AAEhC,gBAAgB;AAChB,0BAA0B,SAAS;AACnC,2BAA2B,WAAW,EAAE,eAAe,iBAAiB;AACxE,kCAAkC,mBAAmB,EAAE;AACvD;AACA;AACA,4BAA4B,UAAU,EAAE;AACxC;;AAEA,UAAU,eAAe,GAAG;AAC5B,SAAS,YAAY,CAAC;AACtB;AACA;;AAEA;AACA,gCAAgC,8BAAgB;AAChD;AACA,4BAA4B,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAC9D,sBAAsB,8BAAgB,EAAE;AACxC;;AAEA;AACA,0BAA0B,cAAc;AACxC,2BAA2B,eAAe;AAC1C;AACA;AACA;;AAEA,UAAU;AACV;AACA,iCAAiC,YAAY,EAAE,KAAK,UAAU,EAAE,IAAI,WAAW,EAAE;AACjF;AACA;AACA;;AAEA,4BAA4B;AAC5B;AACA;AACA,oBAAoB,8BAA8B,CAAC,GAAG;AACtD,yCAAyC,YAAY,CAAC,cAAc,iBAAiB;AACrF,mCAAmC,YAAY,CAAC,cAAc,iBAAiB;AAC/E,oCAAoC,YAAY;AAChD,6CAA6C,gBAAgB,EAAE,eAAe,YAAY;AAC1F;;AAEA,yCAAyC,YAAY,CAAC,cAAc,iBAAiB;AACrF,kCAAkC,YAAY;AAC9C,6BAA6B,YAAY;AACzC;AACA;;AAEA,4BAA4B,iBAAiB;AAC7C,kCAAkC,YAAY;AAC9C,oCAAoC,YAAY;AAChD,6BAA6B,YAAY;AACzC;AACA;AACA;;;AC9EA;AACA;AACA;AAC8C;AAC4F;AAC7E;AAC+X;AAC/X;AACV;AACF;AACjD;AACA;AACA;AACA;AACA;AACO;AACP,0DAA0D,MAAM;AAChE;AACA;AACA;AACA,WAAW,GAAG;AACd,IAAI,OAAO;AACX;AACA;AACA;AACA,kBAAkB,oBAAoB;AACtC,0BAA0B,mBAAmB,EAAE;AAC/C,mBAAmB,WAAW,EAAE,eAAe,qBAAqB;AACpE;AACA,aAAa,qBAAqB;AAClC,mBAAmB,QAAQ;AAC3B,mBAAmB,YAAY,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,aAAa;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,gBAAgB,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,aAAa;AACjB;AACA;AACA,MAAM,SAAS;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,UAAU,EAAE,IAAI,WAAW,EAAE;AACvD;AACA,qCAAqC,YAAY,EAAE;AACnD;AACA;AACA;AACA,IAAI,gBAAgB,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,UAAU,EAAE;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA,mBAAmB,sBAAsB;AACzC;AACA,sBAAsB,UAAU,EAAE;AAClC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,qBAAqB;AACvC,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA,WAAW,YAAY,CAAC;AACxB,oBAAoB,eAAe;AACnC,8BAA8B,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAChE,MAAM,eAAe;AACrB;AACA;AACA,gCAAgC,YAAY,CAAC;AAC7C,oBAAoB,cAAc;AAClC,8BAA8B,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAChE,MAAM,cAAc;AACpB;AACA;AACA,mDAAmD,YAAY,CAAC;AAChE,qBAAqB,YAAY,CAAC;AAClC,iBAAiB,YAAY,CAAC;AAC9B,8BAA8B,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAChE,MAAM,eAAe;AACrB;AACA;AACA,wEAAwE,YAAY,CAAC;AACrF,0CAA0C,YAAY,CAAC;AACvD,sCAAsC,YAAY,CAAC;AACnD,8BAA8B,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAChE,MAAM,cAAc;AACpB;AACA;AACA,uCAAuC,YAAY,CAAC,cAAc,eAAe,aAAa,EAAE;AAChG,6BAA6B,gBAAgB,EAAE,eAAe,eAAe;AAC7E,oBAAoB,eAAe;AACnC,kBAAkB,eAAe;AACjC,aAAa,uBAAuB;AACpC;AACA;AACA;AACA,cAAc,cAAc;AAC5B,eAAe,eAAe;AAC9B;AACA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC,aAAa,qBAAqB;AAClC;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC,oBAAoB,gBAAgB;AACpC,0BAA0B,mBAAmB,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,YAAY,EAAE;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,SAAS;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU,EAAE;AACnC,sBAAsB,UAAU,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA,wBAAwB,YAAY;AACpC;;AAEA;AACA;AACA;AACA;AACA,+BAA+B,YAAY,CAAC;AAC5C,4BAA4B,YAAY;AACxC,iCAAiC,gBAAgB,EAAE,SAAS,YAAY;AACxE,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA,+BAA+B,YAAY,CAAC;AAC5C,sBAAsB,YAAY;AAClC;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,4BAA4B,YAAY;AACxC,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B,wBAAwB,YAAY;AACpC;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA,eAAe,YAAY,CAAC;AAC5B,eAAe,YAAY,CAAC;AAC5B,eAAe,YAAY,CAAC;AAC5B,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC,kCAAkC,gBAAgB,EAAE,IAAI,WAAW,CAAC;AACpE,UAAU,YAAY;AACtB,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;;AC9TA;AACA;AACA;AAC8C;AAC4B;AACyE;AACzF;AAC1D;AACA;AACA;AACA;AACO,gDAAgD,GAAG;AAC1D,IAAI,YAAY;;AAEhB;AACA;AACA;;AAEA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;;AAEA;AACA,oBAAoB,eAAe;AACnC,8BAA8B,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAChE,QAAQ,eAAe;AACvB;;AAEA;AACA,oBAAoB,cAAc;AAClC,8BAA8B,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAChE,QAAQ,cAAc;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC,mBAAmB,sBAAsB;AACzC,2BAA2B,WAAW,EAAE;AACxC;AACA;AACA;;AAEA;AACA,sBAAsB,YAAY,CAAC;AACnC;AACA;AACA;AACA;AACA;;;ACtDA;AACA;AACA;AACmC;AACiB;AACgC;AAC1B;AACM;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,sBAAsB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,UAAU,UAAU,KAAK;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,mBAAmB;AAC9E,kCAAkC,GAAG;AACrC;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,yCAAyC;AACpD;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,uCAAuC;AAClD;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA,8BAA8B,2CAA2C;AACzE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,QAAQ;AACvB,YAAY;AACZ,UAAU;AACV;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACsC;AACH;;;AC1IpC;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;;;AC9BmC;AAC8B;AAC6D;AAC9C;AACrB;AAC9B;AAC7B,oCAAoC,IAAI;AACxC;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,IAAI;AAC9C;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,2BAA2B,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,YAAY;AAC1C,8BAA8B,aAAa;AAC3C,8BAA8B,YAAY;AAC1C,mCAAmC;AACnC;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,YAAY;AAC7C,iCAAiC,aAAa;AAC9C,iCAAiC,YAAY;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wBAAwB;AACnC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,0BAA0B;AACrC;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;ACpO+C;AAC/C;AACA,iCAAiC,+CAA+C;AAChF;AACA;AACA;AACO;AACP,WAAW,IAAI;AACf;AACA;AACA,oBAAoB,uEAAuE;AAC3F;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtB4C;AAC5C;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA,oBAAoB,cAAc;AAClC,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA,8BAA8B;AAC9B;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,oBAAoB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,gDAAgD,QAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrUgC;AACwD;AAC1C;AACD;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,aAAa;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,mBAAmB;AACjC,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,sBAAsB;AAC1B;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,IAAI,UAAU;AACd;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;;;AChLgC;AAC2B;AACe;AAC9B;AACQ;AACf;AACrC;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,UAAU;AAC9C,uCAAuC,UAAU;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,UAAU;AACnC;AACA;AACA;AACA,kDAAkD,UAAU;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,QAAQ;AACvE;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iBAAiB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,QAAQ;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,8BAA8B,aAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,GAAG;AACpC,QAAQ,sBAAsB;AAC9B,sCAAsC,UAAU;AAChD,yCAAyC,UAAU;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,4FAA4F;AAC5F;;;ACzQmC;AAC0C;AAC8C;AAC3C;AACtB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACO,0BAA0B,iBAAiB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,eAAe,4DAA4D,mBAAmB;AACzI;AACA;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,8BAA8B,YAAY;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C,iCAAiC,YAAY;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C;AACA;AACA,mCAAmC,gBAAgB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,oCAAoC;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,uBAAuB;AAClC;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;AC1MoE;AACJ;AAChE;AACA;AACA;AACA;AACO,+BAA+B,uBAAuB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C;;;ACvD4E;AACzB;AACnD;AACA,mCAAmC,YAAY;AAC/C,WAAW,IAAI;AACf,OAAO;AACP,qBAAqB,+CAA+C;AACpE,uBAAuB,sBAAsB;AAC7C,oBAAoB,2BAA2B;AAC/C,6BAA6B,OAAO;AACpC,SAAS,QAAQ;AACjB;AACA;AACA;AACA,mCAAmC,YAAY;AAC/C,WAAW,IAAI;AACf,OAAO;AACP;AACA,uBAAuB,sBAAsB;AAC7C,6BAA6B,OAAO;AACpC,SAAS,QAAQ;AACjB;AACA;AACA;AACA,iCAAiC,8CAA8C;AAC/E;AACA;AACA;AACA;AACO;AACP;AACA;AACA,WAAW,IAAI;AACf;AACA;AACA,qBAAqB,gDAAgD;AACrE,wCAAwC,iBAAiB;AACzD,8CAA8C,uBAAuB;AACrE,cAAc,QAAQ;AACtB;AACA,gBAAgB,yBAAQ;AACxB,KAAK;AACL;AACA,oBAAoB,OAAO,wBAAwB;AACnD;AACA;AACA;;;AC9CmC;AAC+C;AAC0E;AAC5E;AACC;AAC9B;AACnD;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,iBAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,mCAAmC;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,GAAG;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gBAAgB,EAAE,kCAAkC,EAAE,MAAM;AAC7F,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,eAAe,4CAA4C,mBAAmB;AACpH;AACA;AACA;AACA,8BAA8B,UAAU;AACxC,8BAA8B,YAAY;AAC1C,8BAA8B,aAAa;AAC3C;AACA;AACA,sCAAsC,iBAAiB;AACvD;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,UAAU;AAC3C,iCAAiC,YAAY;AAC7C,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,uBAAuB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,8BAA8B;AACrE;AACA;AACA;AACA,oDAAoD,qBAAqB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,qBAAqB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,qBAAqB;AAC7D,sBAAsB,gBAAgB;AACtC,sBAAsB,gBAAgB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,MAAM;AACjC;AACA,KAAK;AACL;AACA,UAAU;AACV,IAAI,IAAI,GAAG,0CAA0C;AACrD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,8BAA8B;AACzC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,oCAAoC;AAC/C;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;ACvbmE;AAClB;AACjD;AACA,kCAAkC,WAAW;AAC7C,WAAW,IAAI;AACf,OAAO;AACP,oBAAoB,OAAO;AAC3B,6BAA6B,oCAAoC;AACjE,mCAAmC,0CAA0C;AAC7E,SAAS,OAAO;AAChB;AACA;AACA;AACA,iCAAiC,2CAA2C;AAC5E;AACA;AACA;AACA;AACO;AACP;AACA,kCAAkC,WAAW;AAC7C,WAAW,IAAI;AACf;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,uCAAuC,gBAAgB;AACvD,cAAc,QAAQ;AACtB;AACA,gBAAgB,yBAAQ;AACxB,KAAK;AACL;AACA;AACA;AACA;AACA;;;ACnCA;AACA;AACA;AAC8C;AAC9C;AACA;AACA;AACA;AACO,gDAAgD,GAAG;AAC1D;AACA;AACA;AACA;AACA;AACA;;;ACdA;AACA;AACA;AAC8C;AAC+C;AAC7F;AACA;AACA;AACA;AACO,mDAAmD,GAAG;AAC7D;AACA;AACA;AACA;AACA;AACA,0BAA0B,WAAW,EAAE,eAAe,wBAAwB;AAC9E;;AAEA;AACA;;AAEA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;;;AC1BA;AACA;AACA;AAC8C;AACe;AAC6B;AAC8F;AACxL;AACA;AACA;AACA;AACO,oDAAoD,GAAG;AAC9D;AACA,sBAAsB,UAAU,EAAE,cAAc,UAAU,EAAE;AAC5D,eAAe,qBAAqB;AACpC;AACA,qBAAqB,QAAQ;AAC7B,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C;AACA,iCAAiC,gBAAgB,EAAE;AACnD;AACA;AACA,4BAA4B,mBAAmB,EAAE;AACjD;;AAEA;AACA;AACA;;AAEA,aAAa,YAAY,CAAC;AAC1B,sBAAsB,gBAAgB,EAAE,eAAe,eAAe;AACtE,eAAe,qBAAqB;AACpC;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;;AAEA,eAAe,YAAY,CAAC;AAC5B,wBAAwB,YAAY;AACpC,sCAAsC,YAAY;AAClD,iBAAiB,YAAY;AAC7B;AACA;;;AC/CA;AACA;AACA;AAC8I;AACvF;AACO;AACE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,YAAY;AAC9C;AACA;AACA,8BAA8B,+CAA+C;AAC7E;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,YAAY;AAC3B,cAAc,oBAAoB;AAClC,YAAY,kBAAkB;AAC9B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;AACA,8BAA8B,8CAA8C;AAC5E;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,WAAW;AAC1B,cAAc,mBAAmB;AACjC,YAAY,iBAAiB;AAC7B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA,8BAA8B,2CAA2C;AACzE;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,QAAQ;AACvB,cAAc,gBAAgB;AAC9B,YAAY,cAAc;AAC1B,CAAC;AACqK;;;ACtE/F;AACS;AAChF,yBAAyB,iBAAiB;AAC1C;AACA;AACA,yCAAyC,oDAAoD;AAC7F;AACA;AACA;AACO,sCAAsC,cAAc;AAC3D;AACA;AACA;AACA;AACA;;;ACdA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzBmC;AACsD;AACT;AACrB;AACe;AAClB;AAC/B;AACzB;AACA;AACA,yBAAyB,4GAA4G;AACrI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,wBAAwB,uBAAuB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,aAAa;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iDAAiD;AAC1D;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,WAAW,uBAAuB,6BAA6B;AAC/D,WAAW,YAAY,QAAQ;;;ACtL/B;AACA;AAC+E;AAC/E,yBAAyB,iBAAiB;AAC1C;AACA;AACA,yCAAyC,iDAAiD;AAC1F;AACA;AACA;AACO,sCAAsC,cAAc;AAC3D;AACA;AACA;AACA;AACA;;;ACfA;AACA;AACA;AACA,MAAM,sBAAsB;AAC5B;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,+CAA+C,GAAG;AACnE;AACA,kCAAkC,GAAG,2CAA2C;AAChF,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9BA;AACA;AACmC;AACsD;AAChB;AACgB;AACf;AACjB;AACzD;AACA;AACA;AACA,yBAAyB,4GAA4G;AACrI;AACA;AACA;AACA;AACA;AACA;AACA;AACO,wBAAwB,uBAAuB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qDAAqD,GAAG;AACpF;AACA,kCAAkC,GAAG,iDAAiD;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,WAAW,qBAAqB,EAAE;AAC7C;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,WAAW,qBAAqB,EAAE;AAC7C;AACA,kBAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,YAAY,QAAQ,EAAE,oBAAoB;;;AC9PrD;AACA;AACA;AAC8C;AACqE;AACtD;AACuY;AAC1Z;AACnC,wBAAwB,GAAG;AAClC,IAAI,OAAO,kBAAkB;AAC7B,mBAAmB,QAAQ;AAC3B;AACA;AACA;AACA,oBAAoB,gBAAgB,EAAE,IAAI,WAAW,CAAC;AACtD;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,qBAAqB;AAClC,kBAAkB,oBAAoB;AACtC,0BAA0B,mBAAmB,EAAE;AAC/C,mBAAmB,WAAW,EAAE,eAAe,qBAAqB;AACpE,mBAAmB,YAAY,EAAE;AACjC;;AAEA;AACA,oBAAoB,aAAa;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,UAAU,EAAE;AAClC,iBAAiB,oBAAoB;AACrC,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,YAAY,CAAC;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,qBAAqB;AAClC;AACA,iBAAiB,oBAAoB;AACrC,mBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB,qBAAqB;AACvC,oBAAoB,sBAAsB;AAC1C;;AAEA;AACA,oBAAoB,cAAc;AAClC;;AAEA;AACA,kBAAkB,qBAAqB;AACvC,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,oBAAoB,eAAe;AACnC;;AAEA;AACA,oBAAoB,eAAe;AACnC,8BAA8B,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAChE,QAAQ,eAAe;AACvB;;AAEA;AACA,oBAAoB,cAAc;AAClC,8BAA8B,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAChE,QAAQ,cAAc;AACtB;;AAEA;AACA,kBAAkB,eAAe;AACjC;;AAEA;AACA,kBAAkB,gBAAgB;AAClC;;AAEA;AACA;AACA;AACA;AACA,cAAc,cAAc;AAC5B;;AAEA;AACA,eAAe,eAAe;AAC9B;;AAEA;AACA,oBAAoB,iBAAiB;AACrC;AACA,gBAAgB,8BAA8B,CAAC,GAAG;AAClD;AACA;AACA;AACA,oBAAoB,YAAY;AAChC,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,oBAAoB,YAAY;AAChC;AACA;AACA,sBAAsB,YAAY;AAClC,gCAAgC,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAClE,UAAU,YAAY;AACtB;AACA;AACA,eAAe,YAAY;AAC3B;AACA;;;ACtLA;AACA;AAC8C;AACO;AACrD;AACA;AACA;AACA;AACO,iDAAiD,GAAG;AAC3D,IAAI,eAAe;AACnB;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;;;ACZA;AACA;AAC6D;AACqC;AAClG;AACA,yBAAyB,iDAAiD;AAC1E;AACA;AACO,mDAAmD,IAAI;AAC9D,qBAAqB,oCAAoC;AACzD;AACA;AACA;AACA,eAAe;AACf;AACA,4BAA4B;AAC5B;AACA;AACA,UAAU,OAAO;AACjB;AACA,YAAY,gBAAgB;AAC5B,CAAC;AACD;AACA;AACA;AACA,QAAQ,iBAAiB;AACzB;AACA;AACA;AACA;AACA,kBAAkB,yBAAyB;AAC3C,mBAAmB,sBAAsB;AACzC,sBAAsB,iBAAiB;AACvC,qBAAqB,gBAAgB;AACrC,gBAAgB,YAAY;AAC5B,qBAAqB,gBAAgB;AACrC,qBAAqB,gBAAgB;AACrC,kBAAkB,aAAa;AAC/B;AACA,uBAAuB,kBAAkB;AACzC,qBAAqB,gBAAgB;AACrC,yBAAyB,oBAAoB;AAC7C,wBAAwB,mBAAmB;AAC3C,4BAA4B,uBAAuB;AACnD,wBAAwB,mBAAmB;AAC3C,yBAAyB,oBAAoB;AAC7C,6BAA6B,wBAAwB;AACrD,uBAAuB,kBAAkB;AACzC,yBAAyB,oBAAoB;AAC7C,uBAAuB,kBAAkB;AACzC,wBAAwB,mBAAmB;AAC3C,6BAA6B,wBAAwB;AACrD,sBAAsB,iBAAiB;AACvC,2BAA2B,sBAAsB;AACjD,qBAAqB,gBAAgB;AACrC,qBAAqB,gBAAgB;AACrC,yBAAyB,oBAAoB;AAC7C,gCAAgC,2BAA2B;AAC3D,UAAU,GAAG;AACb;AACA,QAAQ,eAAe;AACvB;AACA;AACA;;;AC/DA;AACA;AACA;AAC4C;AACuB;AACM;AACzC;AACS;AACzC;AACA,8BAA8B,yCAAyC;AACvE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACO,oBAAoB,SAAS;AACpC;AACA,UAAU;AACV,YAAY;AACZ;AACA;AACA;AACA,CAAC;AACoC;;;AC3BrC;AACA;AACA;AACmC;AACuB;AACqC;AACS;AAC3C;AACd;AACm6C;AACl9C;AACA,MAAM,sBAAsB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,sBAAsB,gBAAgB;AACtC,uBAAuB,SAAS;AAChC;AACA;AACA,yBAAyB,GAAG;AAC5B;AACA,wBAAwB,SAAS;AACjC,aAAa,qBAAqB;AAClC;AACA,gBAAgB,8BAA8B,CAAC,GAAG;AAClD;AACA,0BAA0B,YAAY;AACtC,8BAA8B,YAAY;AAC1C,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,mCAAmC,iBAAiB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA,KAAK;AACL,gBAAgB,SAAS;AACzB;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA;AACA,KAAK;AACL,gBAAgB,WAAW;AAC3B;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA;AACA,KAAK;AACL,gBAAgB,YAAY;AAC5B;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA;AACA,KAAK;AACL,gBAAgB,UAAU;AAC1B;AACA,kBAAU;AACV,IAAI,IAAI;AACR,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,OAAO;AACvB;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,UAAU;AAC1B;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,SAAS;AACzB;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,oBAAoB;AACpC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,+BAA+B;AAC/C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,mBAAmB;AACnC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,WAAW;AAC3B;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,gBAAgB;AAChC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,eAAe;AAC/B;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,sBAAsB;AACtC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,wBAAwB;AACxC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,sBAAsB;AACtC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,wBAAwB;AACxC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,oBAAoB;AACpC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,sBAAsB;AACtC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,qBAAqB;AACrC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,uBAAuB;AACvC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,qBAAqB;AACrC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,uBAAuB;AACvC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,qBAAqB;AACrC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,uBAAuB;AACvC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,qBAAqB;AACrC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,uBAAuB;AACvC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,qBAAqB;AACrC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,uBAAuB;AACvC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,qBAAqB;AACrC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,KAAK;AACL,gBAAgB,uBAAuB;AACvC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,mBAAmB;AACnC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,oBAAoB;AACpC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,qBAAqB;AACrC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,oBAAoB;AACpC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,yBAAyB;AACzC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,0BAA0B;AAC1C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,2BAA2B;AAC3C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,0BAA0B;AAC1C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,oBAAoB;AACpC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,qBAAqB;AACrC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,sBAAsB;AACtC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,qBAAqB;AACrC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,yBAAyB;AACzC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,0BAA0B;AAC1C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,2BAA2B;AAC3C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,0BAA0B;AAC1C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,2BAA2B;AAC3C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,4BAA4B;AAC5C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,6BAA6B;AAC7C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,4BAA4B;AAC5C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,2BAA2B;AAC3C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,4BAA4B;AAC5C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,2BAA2B;AAC3C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,kBAAkB;AAClC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,yBAAyB;AACzC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,6BAA6B;AAC7C;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,sBAAsB;AACtC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,uBAAuB;AACvC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,wBAAwB;AACxC;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,mBAAmB,uBAAuB;AAC1C,KAAK;AACL,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACO,8DAA8D,IAAI;AACzE;AACA;AACA;AACA;AACO,4DAA4D,GAAG;AACtE,IAAI,OAAO;AACX;AACA;AACA,8BAA8B,4BAA4B;AAC1D;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,CAAC;;;AC9gBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,4BAA4B;AACvC,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,oBAAoB;AACjC;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc,SAAS;AACvB,cAAc,WAAW;AACzB;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc,uBAAuB,iDAAiD;AACtF;AACA;AACA,cAAc,4BAA4B;AAC1C,cAAc,SAAS;AACvB,cAAc,kBAAkB;AAChC;;AAEA;AACA,WAAW,WAAW;AACtB,WAAW,SAAS;AACpB,WAAW,kBAAkB;AAC7B,aAAa;AACb;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,SAAS;AACT;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA,QAAQ;;;AAGR;AACA;AACA;;AAEA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,WAAW;AACX;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,yDAAyD;AACzD,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI,oEAAoE;AACxE,+BAA+B;AAC/B;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,UAAU;AACV;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN,uFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,6BAA6B;AAC7B,0DAA0D;AAC1D;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;;AAGJ;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA,yCAAyC;;AAEzC;AACA;AACA;AACA,wBAAwB,gCAAgC;AACxD,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA,UAAU;;;AAGV;AACA;;AAEA;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;;;AAGA;AACA;AACA;AACA,WAAW,iCAAiC;AAC5C;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEwD;AACxD;;;AC5emC;AAC6B;AACE;AAC5B;AAC0C;AAChF;AACA;AACA,mBAAmB,gEAAgE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,SAAS;AAClC;AACA;AACA;AACA,yBAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,GAAG;AACnB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B,SAAS;AACT;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,0CAA0C;AACrD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,+BAA+B;AAC1C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,8BAA8B;AACzC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,yBAAyB;AACpC;;;ACvR0D;AAC1D;AACA,yBAAyB,yCAAyC;AAClE;AACA;AACO,gDAAgD,IAAI;AAC3D;AACA,UAAU,IAAI,eAAe,IAAI;AACjC;AACA;AACA;AACA;AACA,8BAA8B,iBAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,aAAa;AACvC,gCAAgC,uBAAuB;AACvD,+BAA+B,sBAAsB;AACrD,0BAA0B,iBAAiB;AAC3C,cAAc,GAAG;AACjB;AACA;AACA;AACA;AACA;;;AC7BA;AACA;AACA;AAC8C;AACoC;AAC/B;AACnD;AACA;AACA;AACA;AACO,8CAA8C,GAAG;AACxD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM,SAAS;AACf;AACA;AACA;AACA;AACA,wBAAwB,SAAS;AACjC;AACA,0BAA0B,mBAAmB,EAAE;AAC/C,mBAAmB,WAAW,EAAE;AAChC;AACA;;;ACtDA;AACA;AACA;AACgF;AACpB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM;AAClC;AACA;AACA,8BAA8B,yCAAyC;AACvE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,MAAM;AACrB,YAAY;AACZ,UAAU;AACV,CAAC;AAC0D;;;AC7BxB;AACY;AACiC;AAChF;AACA;AACA,yBAAyB,6EAA6E;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yBAAyB,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI;AACR;;;ACvEoD;AACpD;AACA,yBAAyB,6CAA6C;AACtE;AACA;AACO,oDAAoD,IAAI;AAC/D,kCAAkC,GAAG,YAAY;AACjD;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA;;;ACnBA;AACA;AACA;AAC8C;AAC4P;AAC1S;AACA;AACA;AACA;AACO,kDAAkD,GAAG;AAC5D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB,cAAc;AAChC,aAAa,sBAAsB;AACnC,mBAAmB,QAAQ;AAC3B,iBAAiB,oBAAoB;AACrC,0BAA0B,mBAAmB,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,gBAAgB;AAClC,aAAa,wBAAwB;AACrC;;AAEA;AACA,kBAAkB,eAAe;AACjC,aAAa,uBAAuB;AACpC;;AAEA;AACA;AACA,aAAa,oBAAoB;AACjC,0BAA0B,WAAW,EAAE,eAAe,oBAAoB;AAC1E;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,sBAAsB;AACjD;;AAEA;AACA,2BAA2B,qBAAqB;AAChD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1EA;AACA;AACA;AACmC;AACY;AACyC;AACpB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,UAAU;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,sBAAsB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA,8BAA8B,6CAA6C;AAC3E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,UAAU;AACzB,YAAY;AACZ,UAAU;AACV,CAAC;AACsE;;;ACnFvE;AACA;AACA;AACO;AACP;AACA;AACA;;;ACNA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbmC;AACY;AACa;AACoB;AAC7B;AAC5B;AACvB;AACA;AACA,mBAAmB,uEAAuE,IAAI,2EAA2E;AACzK;AACA;AACA;AACO,sBAAsB,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,WAAW;AACtC;AACA;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;;;ACtC+C;AAC/C;AACA,yBAAyB,0CAA0C;AACnE;AACA;AACO,iDAAiD,IAAI;AAC5D,sBAAsB,YAAY,sBAAsB,mBAAmB;AAC3E;;;ACPA;AACA;AACA;AAC8C;AACO;AACmC;AACxF;AACA;AACA;AACA;AACO,+CAA+C,GAAG;AACzD,IAAI,OAAO,WAAW;AACtB;AACA;AACA,mBAAmB,UAAU,EAAE;AAC/B,uBAAuB,WAAW,EAAE,eAAe,wBAAwB;AAC3E;AACA;;AAEA;AACA;AACA,qBAAqB,UAAU,EAAE;AACjC;AACA,wBAAwB,WAAW,EAAE,eAAe,wBAAwB;AAC5E;AACA;;;ACzBA;AACA;AACA;AACkF;AACpB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,OAAO;AACpC;AACA;AACA,8BAA8B,0CAA0C;AACxE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,OAAO;AACtB,YAAY;AACZ,UAAU;AACV,CAAC;AAC6D;;;AC5BN;AACF;AACtD;AACA,yBAAyB,kDAAkD;AAC3E;AACA;AACO,iDAAiD,IAAI;AAC5D;AACA,iCAAiC,4BAA4B;AAC7D,gCAAgC,2BAA2B;AAC3D;AACA;AACA,oBAAoB,gCAAgC;AACpD,kBAAkB,kCAAkC;AACpD,oBAAoB,oCAAoC;AACxD,oBAAoB,oCAAoC;AACxD,sBAAsB,sCAAsC;AAC5D;AACA;AACA,cAAc,OAAO;AACrB,YAAY,cAAc;AAC1B;AACA;AACA,CAAC;AACD;AACA;AACA;;;AC1BA;AACA;AACA;AAC8C;AAC2C;AAC3B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,UAAU;AACzC,kCAAkC,GAAG;AACrC;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,iDAAiD;AAC/E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,cAAc;AAC7B,YAAY;AACZ,UAAU;AACV,CAAC;AAC6D;;;AC7D9D;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;;;ACzBmC;AAC6B;AAC4C;AAC3B;AAC7B;AACK;AACE;AACY;AAC9B;AACzC;AACA;AACA,eAAe,oEAAoE,GAAG,mFAAmF,MAAM,8EAA8E;AAC7P;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,iBAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,SAAS;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B,qBAAqB,QAAQ;AAC7B;AACA;AACA,qBAAqB,aAAa;AAClC;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA,kDAAkD,gBAAgB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,WAAW,QAAQ;;;AC1PK;AACuB;AACgD;AACzB;AACD;AAChF;AACA;AACA,mBAAmB,4DAA4D;AAC/E;AACA;AACA;AACA;AACA;AACO,mBAAmB,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,YAAY;AACzC;AACA;AACA,kCAAkC,YAAY;AAC9C;AACA;AACA,kCAAkC,YAAY;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,QAAQ;AAC1D;AACA;AACA,iCAAiC,YAAY;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,eAAe;AACjE;AACA;AACA,iCAAiC,YAAY;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,aAAa;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,eAAe;AAC5C,UAAU;AACV,IAAI,UAAU;AACd;;;ACjSwD;AACxD;AACA,yBAAyB,uCAAuC;AAChE;AACA;AACO,8CAA8C,IAAI;AACzD;AACA,gBAAgB,+DAA+D;AAC/E;AACA,oBAAoB,uCAAuC;AAC3D,qBAAqB,oCAAoC;AACzD;AACA,gBAAgB,OAAO,UAAU;AACjC;AACA;;;ACdA;AACA;AACA;AAC8C;AACuC;AACxB;AAC2D;AACzE;AAC/C;AACA;AACA;AACA;AACO,4CAA4C,GAAG;AACtD,MAAM,OAAO,WAAW;AACxB;AACA,oBAAoB,SAAS;AAC7B,qBAAqB,WAAW,EAAE;AAClC,QAAQ,SAAS;AACjB;AACA,4BAA4B,mBAAmB,EAAE;AACjD,sBAAsB,UAAU,EAAE;AAClC;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,UAAU,EAAE;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,WAAW,EAAE,eAAe,wBAAwB;AAC7E;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA;;;AC1CA;AACA;AACA;AAC4E;AACN;AACd;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,QAAQ,SAAS,mBAAmB,kCAAoB;AACxD;AACA;AACA;AACA,8BAA8B,uCAAuC;AACrE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,IAAI;AACnB,YAAY;AACZ,UAAU;AACV,CAAC;AACoD;;;ACpCK;AACa;AACO;AAChC;AAC9C;AACA,iCAAiC,mDAAmD;AACpF;AACA;AACA;AACA;AACO,kDAAkD,IAAI;AAC7D;AACA,gBAAgB,YAAY;AAC5B,yBAAyB,sCAAsC;AAC/D,wBAAwB,iBAAiB,YAAY,gCAAgC;AACrF,yBAAyB,gBAAgB;AACzC,yBAAyB,gBAAgB;AACzC,oBAAoB,2CAA2C;AAC/D,kBAAkB,yCAAyC;AAC3D,sBAAsB,qCAAqC;AAC3D,qBAAqB,oCAAoC;AACzD,iBAAiB,qCAAqC,EAAE,mCAAmC,EAAE,eAAe,mBAAmB,EAAE;AACjI;AACA,cAAc,IAAI,iBAAiB,YAAY,mBAAmB,IAAI;AACtE;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,cAAc,IAAI,iBAAiB,YAAY,gBAAgB,IAAI;AACnE;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA,UAAU,eAAe;AACzB,UAAU,IAAI,oBAAoB,IAAI;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,UAAU,IAAI,kBAAkB,IAAI;AACpC,mBAAmB,eAAe,cAAc;AAChD,sCAAsC,OAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,wBAAwB;AACnD,+BAA+B,uBAAuB;AACtD,sBAAsB,GAAG;AACzB;AACA;AACA;AACA,oBAAoB,eAAe,cAAc,EAAE;AACnD;AACA;AACA;;;AC7EA;AACA;AACA;AAC8C;AACqE;AACtD;AAC6W;AACzV;AACjF;AACA;AACA;AACA;AACO,gDAAgD,GAAG;AAC1D,MAAM,OAAO,UAAU;AACvB;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,qBAAqB,YAAY,EAAE;AACnC;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU,EAAE;AACnC;AACA,oBAAoB,sBAAsB;AAC1C,eAAe,qBAAqB;AACpC;AACA;AACA,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C,4BAA4B,mBAAmB,EAAE;AACjD,qBAAqB,gBAAgB,EAAE;AACvC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,YAAY,CAAC;AAC1B,sBAAsB,eAAe;AACrC,oBAAoB,uBAAuB;AAC3C,eAAe,qBAAqB;AACpC;;AAEA;AACA,oBAAoB,uBAAuB;AAC3C,eAAe,qBAAqB;AACpC;;AAEA;AACA,oBAAoB,wBAAwB;AAC5C;;AAEA;AACA;AACA,oBAAoB,eAAe;AACnC,eAAe,qBAAqB;AACpC;;AAEA;AACA,gBAAgB,cAAc;AAC9B,iBAAiB,eAAe;AAChC;;AAEA;AACA,eAAe,qBAAqB;AACpC;AACA,oBAAoB,sBAAsB;AAC1C;;AAEA;AACA;AACA;AACA,cAAc,qBAAqB;AACnC;;AAEA;AACA;AACA,0BAA0B,OAAO,CAAC;AAClC,2BAA2B,OAAO,CAAC;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,qBAAqB;AACpC,gBAAgB,qBAAqB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,qBAAqB;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,WAAW,EAAE,eAAe,qBAAqB;AACtE;;AAEA;AACA;AACA,oBAAoB,cAAc;AAClC,sBAAsB,cAAc;AACpC;;AAEA;AACA,4BAA4B,mBAAmB,EAAE;AACjD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,mCAAqB;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,sBAAsB;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;;AAEA;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC,iBAAiB,YAAY;AAC7B;;AAEA,eAAe,YAAY,CAAC;AAC5B,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC,iCAAiC,gBAAgB,EAAE;AACnD,YAAY,YAAY;AACxB,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,sBAAsB,YAAY;AAClC;;AAEA;AACA;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;;AAEA;AACA;AACA;AACA,qBAAqB,YAAY,CAAC;AAClC,qBAAqB,YAAY,CAAC;AAClC,qBAAqB,YAAY,CAAC;AAClC;AACA;AACA,qCAAqC,YAAY,CAAC;AAClD,qCAAqC,YAAY,CAAC;AAClD,wBAAwB,YAAY;AACpC;;AAEA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;;AAEA;AACA,sBAAsB,YAAY;AAClC;;AAEA;AACA,iBAAiB,YAAY;AAC7B;;AAEA;AACA,qBAAqB,YAAY,CAAC;AAClC,iBAAiB,YAAY;AAC7B;AACA,YAAY,6BAA6B,CAAC,GAAG;AAC7C;AACA;AACA;AACA,SAAS,GAAG;AACZ;AACA;AACA;AACA;;;AChYA;AACA;AACA;AACoF;AACnB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA,8BAA8B,2CAA2C;AACzE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,QAAQ;AACvB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACgE;;;ACzDM;AACS;AAChF,2BAA2B,iBAAiB;AAC5C;AACA;AACA,yCAAyC,sDAAsD;AAC/F;AACA;AACA;AACO,wCAAwC,cAAc;AAC7D;AACA;AACA;AACA;AACA;;;ACdmC;AACuD;AACjB;AACrB;AACO;AACQ;AACW;AAC9E;AACA;AACA,yBAAyB,gHAAgH;AACzI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,0BAA0B,yBAAyB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iDAAiD;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,yCAAyC;AACpD;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,cAAc,QAAQ,EAAE,oBAAoB;;;AC/RY;AACW;AAC9E;AACA,yBAAyB,sDAAsD;AAC/E;AACA;AACO,qDAAqD,IAAI;AAChE,uBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA,qBAAqB;AACrB;AACA,4BAA4B;AAC5B;AACA,oBAAoB,OAAO,wBAAwB;AACnD;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA,0BAA0B,yBAAyB;AACnD,2BAA2B,sBAAsB;AACjD,4BAA4B,mCAAmC;AAC/D,yBAAyB,yBAAyB;AAClD,8BAA8B,iBAAiB;AAC/C,6BAA6B,gBAAgB;AAC7C,wBAAwB,YAAY;AACpC,6BAA6B,iBAAiB;AAC9C,6BAA6B,iBAAiB;AAC9C,+BAA+B,mBAAmB;AAClD,6BAA6B,gBAAgB;AAC7C,6BAA6B,gBAAgB;AAC7C,wBAAwB,YAAY;AACpC;AACA;AACA,uBAAuB,WAAW;AAClC,uBAAuB,WAAW;AAClC,wBAAwB,YAAY;AACpC,+BAA+B,kBAAkB;AACjD,6BAA6B,gBAAgB;AAC7C,iCAAiC,oBAAoB;AACrD,gCAAgC,mBAAmB;AACnD,oCAAoC,uBAAuB;AAC3D,gCAAgC,mBAAmB;AACnD,iCAAiC,oBAAoB;AACrD,qCAAqC,wBAAwB;AAC7D,+BAA+B,kBAAkB;AACjD,iCAAiC,oBAAoB;AACrD,+BAA+B,kBAAkB;AACjD,gCAAgC,mBAAmB;AACnD,qCAAqC,wBAAwB;AAC7D,8BAA8B,iBAAiB;AAC/C,mCAAmC,sBAAsB;AACzD,6BAA6B,gBAAgB;AAC7C,6BAA6B,gBAAgB;AAC7C,iCAAiC,oBAAoB;AACrD,wCAAwC,2BAA2B;AACnE,kBAAkB,GAAG;AACrB;AACA,cAAc,IAAI,iDAAiD,IAAI;AACvE;AACA,sEAAsE,gBAAgB;AACtF;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,sCAAsC,kBAAkB;AACxD;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B;AACA;AACA;;;ACnFA;AACA;AACA;AAC8C;AACsF;AAC/E;AACrD;AACA;AACA;AACA;AACO,mDAAmD,GAAG;AAC7D,IAAI,eAAe;;AAEnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU,EAAE,UAAU,OAAO,EAAE,UAAU,YAAY,CAAC;AACjE;AACA,sBAAsB,UAAU,EAAE,IAAI,OAAO,EAAE,IAAI,YAAY,CAAC;AAChE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,UAAU,EAAE,UAAU,OAAO,EAAE,UAAU,YAAY,CAAC;AACxE;;AAEA;AACA;AACA,wBAAwB,gBAAgB;AACxC;;AAEA;AACA;AACA,wBAAwB,iBAAiB;AACzC;;AAEA;AACA,2BAA2B,qBAAqB;AAChD;;AAEA;AACA,wBAAwB,qBAAqB;AAC7C;;AAEA;AACA;AACA;AACA;AACA;;;AC1DA;AACA;AACA;AACmC;AACY;AAC2C;AACnB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA,8BAA8B,8CAA8C;AAC5E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP;AACA,eAAe,WAAW;AAC1B,UAAU;AACV,YAAY;AACZ;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACyE;;;ACvDlB;AACsB;AAC9E;AACA,yBAAyB,wDAAwD;AACjF;AACA;AACO,uDAAuD,IAAI;AAClE;AACA,wBAAwB,mBAAmB;AAC3C,yBAAyB,oBAAoB;AAC7C,yBAAyB,oBAAoB;AAC7C,yBAAyB,oBAAoB;AAC7C,wBAAwB,mBAAmB;AAC3C,iBAAiB;AACjB;AACA,eAAe;AACf;AACA;AACA,UAAU,iBAAiB;AAC3B;AACA,oBAAoB,OAAO,YAAY;AACvC;AACA,UAAU,eAAe;AACzB;AACA;;;ACxBA;AACA;AACA;AAC8C;AACuD;AACxC;AACwW;AACpX;AACjD;AACA,mBAAmB,8DAA8D;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACO,8CAA8C,GAAG;AACxD,MAAM,OAAO,iBAAiB;AAC9B;AACA,qBAAqB,QAAQ;AAC7B,4BAA4B,mBAAmB,EAAE;AACjD,qBAAqB,gBAAgB,EAAE;AACvC;AACA,oBAAoB,sBAAsB;AAC1C,eAAe,qBAAqB;AACpC;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC,qBAAqB,YAAY,EAAE;AACnC,qBAAqB,sBAAsB;AAC3C,wBAAwB,UAAU,EAAE,IAAI,gBAAgB,CAAC;AACzD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,oBAAoB,wBAAwB;AAC5C;;AAEA;AACA,oBAAoB,cAAc;AAClC,eAAe,sBAAsB;AACrC;;AAEA;AACA,oBAAoB,eAAe;AACnC,eAAe,uBAAuB;AACtC;;AAEA;AACA,oBAAoB,gBAAgB;AACpC,eAAe,wBAAwB;AACvC;;AAEA;AACA,gBAAgB,cAAc;AAC9B,iBAAiB,eAAe;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,UAAU,EAAE;AACjC,oBAAoB,UAAU,EAAE;AAChC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,8BAAgB;AACtC;;AAEA;AACA,sBAAsB,8BAAgB;AACtC,+BAA+B,gBAAgB,EAAE;AACjD,UAAU,8BAAgB;AAC1B;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B,wBAAwB,YAAY;AACpC;;AAEA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B,wBAAwB,YAAY;AACpC;AACA;;;AC1IA;AACA;AACA;AAC8F;AAClC;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,aAAa;AACzC;AACA;AACA,8BAA8B,gDAAgD;AAC9E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,aAAa;AAC5B,YAAY;AACZ,UAAU;AACV,CAAC;AAC0D;;;AC7BxB;AACkD;AACJ;AACjF;AACA;AACA,mBAAmB,0EAA0E;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,2BAA2B,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;ACpEqD;AACrD;AACA,yBAAyB,+CAA+C;AACxE;AACA;AACO,iDAAiD,IAAI;AAC5D;AACA;AACA,yBAAyB,aAAa;AACtC,yBAAyB,WAAW;AACpC,yBAAyB,WAAW;AACpC,iBAAiB,gCAAgC;AACjD;AACA,UAAU,IAAI,mCAAmC,IAAI;AACrD;AACA;AACA;AACA;AACA,wCAAwC,uBAAuB;AAC/D;AACA;AACA,eAAe,IAAI;AACnB;AACA;AACA,0BAA0B;AAC1B,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;;;AC9BA;AACA;AACA;AAC8C;AACuC;AACxB;AACkD;AAC/G;AACA;AACA;AACA;AACO,gDAAgD,GAAG;AAC1D,MAAM,OAAO,UAAU;AACvB;AACA;AACA,qBAAqB,UAAU,EAAE;AACjC,qBAAqB,UAAU,EAAE;AACjC;;AAEA;AACA,0BAA0B,eAAe;AACzC,4BAA4B,UAAU,EAAE;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,oBAAoB;AAC9C,4BAA4B,UAAU,EAAE;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,UAAU,EAAE;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,oBAAoB;AAC9C,4BAA4B,UAAU,EAAE;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,oBAAoB;AAC9C,4BAA4B,UAAU,EAAE;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC;;AAEA;AACA,0BAA0B,mCAAqB;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA,4BAA4B,YAAY;AACxC,sCAAsC,YAAY;AAClD;AACA;AACA;AACA;AACA;AACA,4BAA4B,YAAY;AACxC;AACA;AACA;AACA;AACA,4BAA4B,YAAY;AACxC;AACA;;;AClIA;AACA;AACA;AACwF;AACxB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,YAAY;AAC1C;AACA;AACA,8BAA8B,+CAA+C;AAC7E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,YAAY;AAC3B,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACgE;;;AClCZ;AACrD;AACA;AACA,yBAAyB,+CAA+C;AACxE;AACA;AACO,sDAAsD,IAAI;AACjE;AACA;AACA,yBAAyB,aAAa;AACtC,yBAAyB,WAAW;AACpC,yBAAyB,WAAW;AACpC,iBAAiB,gCAAgC;AACjD;AACA,UAAU,IAAI,mCAAmC,IAAI;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD,QAAQ,KAAK,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB;AACA,sBAAsB;AACtB;AACA;AACA;AACA;;;AC5CA;AACA;AACA;AAC8C;AACuC;AACxB;AACsC;AAClD;AACjD;AACA;AACA;AACA;AACO,oDAAoD,GAAG;AAC9D,MAAM,OAAO,UAAU;AACvB;AACA;AACA,qBAAqB,YAAY,EAAE;AACnC,oBAAoB,YAAY,EAAE;AAClC,qBAAqB,YAAY,EAAE;AACnC;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;;AAEA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,eAAe;AAC/B;;AAEA;AACA,gBAAgB,mCAAqB;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;;;AC1FA;AACA;AACA;AAC4F;AACnB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,YAAY;AAC9C;AACA;AACA,8BAA8B,+CAA+C;AAC7E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,YAAY;AAC3B,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC4E;;;AC9CG;AACA;AAChF,qBAAqB,iBAAiB;AACtC;AACA;AACA,yCAAyC,gDAAgD;AACzF;AACA;AACA;AACO,kCAAkC,uBAAuB;AAChE;AACA;AACA;AACA;AACA;;;ACdmC;AACwB;AACF;AACQ;AACjE;AACA;AACA,mBAAmB,8DAA8D;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,oBAAoB,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;AC3GA;AACA;AACA;AAC8C;AACqE;AACtD;AACmc;AAC9c;AAClD;AACA;AACA;AACA;AACO,6CAA6C,GAAG;AACvD,MAAM,OAAO,iBAAiB;AAC9B,4BAA4B,YAAY,EAAE,SAAS,UAAU,CAAC;AAC9D;AACA;AACA,qBAAqB,UAAU,EAAE;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,YAAY,EAAE,QAAQ,UAAU,CAAC;AACtD,sBAAsB,YAAY,EAAE,QAAQ,UAAU,CAAC;AACvD;AACA;AACA,qBAAqB,WAAW,EAAE,eAAe,iBAAiB;AAClE,oBAAoB,oBAAoB;AACxC;AACA;AACA;;AAEA;AACA,sBAAsB,aAAa;AACnC;;AAEA;AACA,qBAAqB,QAAQ;AAC7B,eAAe,qBAAqB;AACpC,mCAAmC,UAAU,EAAE;AAC/C,gCAAgC,UAAU,EAAE;AAC5C;AACA,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C,cAAc,sBAAsB;AACpC;AACA;AACA;;AAEA;AACA,oBAAoB,qBAAqB;AACzC,sBAAsB,kBAAkB;AACxC;;AAEA;AACA,sBAAsB,cAAc;AACpC;;AAEA;AACA,oBAAoB,sBAAsB;AAC1C,sBAAsB,mBAAmB;AACzC;;AAEA;AACA,sBAAsB,eAAe;AACrC;;AAEA,aAAa,YAAY,CAAC;AAC1B,4BAA4B,gBAAgB,EAAE,SAAS,eAAe;AACtE;;AAEA,kCAAkC,YAAY,CAAC;AAC/C,uBAAuB,cAAc;AACrC;;AAEA;AACA,oBAAoB,cAAc;AAClC,qBAAqB,WAAW,EAAE,eAAe,cAAc;AAC/D;;AAEA;AACA,0BAA0B,aAAa;AACvC,sBAAsB,aAAa;AACnC;;AAEA;AACA,oBAAoB,eAAe;AACnC,qBAAqB,WAAW,EAAE,eAAe,eAAe;AAChE;;AAEA;AACA;AACA,0BAA0B,cAAc;AACxC,sBAAsB,cAAc;AACpC;;AAEA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C,cAAc,uBAAuB;AACrC;;AAEA;AACA,oBAAoB,gBAAgB;AACpC,qBAAqB,WAAW,EAAE,eAAe,gBAAgB;AACjE;;AAEA;AACA;AACA,0BAA0B,eAAe;AACzC,sBAAsB,eAAe;AACrC;;AAEA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C,cAAc,wBAAwB;AACtC;;AAEA,kCAAkC,YAAY,CAAC;AAC/C;AACA,4BAA4B,gBAAgB,EAAE,SAAS,eAAe;AACtE;;AAEA,uDAAuD,YAAY,CAAC;AACpE,uBAAuB,cAAc;AACrC;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,eAAe;AAChC;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,sBAAsB,YAAY;AAClC;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,sBAAsB,YAAY;AAClC;AACA;AACA,sBAAsB,YAAY;AAClC,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,gBAAgB,YAAY;AAC5B;AACA,eAAe,YAAY,CAAC;AAC5B,wBAAwB,YAAY;AACpC;AACA,8BAA8B,gBAAgB,EAAE,SAAS,YAAY;AACrE;AACA,oCAAoC,YAAY,CAAC;AACjD,wBAAwB,YAAY;AACpC,8BAA8B,gBAAgB,EAAE,SAAS,YAAY;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B,sBAAsB,YAAY;AAClC;AACA;;;ACtOA;AACA;AACA;AACmD;AACO;AACF;AACjD,+CAA+C,IAAI;AAC1D;AACA;AACA,oBAAoB,eAAe;AACnC,qBAAqB,gBAAgB;AACrC,qBAAqB,gBAAgB;AACrC,qBAAqB,gBAAgB;AACrC,iBAAiB,qCAAqC;AACtD,cAAc,kCAAkC;AAChD;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,eAAe;AACf;AACA,4BAA4B;AAC5B;AACA,cAAc,OAAO,wBAAwB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,KAAK;AAChC;AACA;AACA,8BAA8B,wCAAwC;AACtE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,KAAK;AACpB;AACA,UAAU;AACV;AACA;AACA;AACA,CAAC;AACuD;;;ACxDrB;AACwB;AACyF;AAC3F;AACuB;AAChF;AACA;AACA,mBAAmB,wEAAwE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,yBAAyB,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,WAAW;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E,aAAa;AAC1F;AACA;AACA;AACA,gEAAgE,YAAY;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA,qBAAqB,aAAa;AAClC,qBAAqB,YAAY;AACjC,2CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC,qBAAqB,UAAU;AAC/B,2CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,YAAY;AACrC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;ACrYkE;AACN;AAC5D;AACA,yBAAyB,6CAA6C;AACtE;AACA;AACO,oDAAoD,IAAI;AAC/D;AACA;AACA,yBAAyB,gBAAgB;AACzC,yBAAyB,gBAAgB;AACzC,kBAAkB,kCAAkC;AACpD,oBAAoB,oCAAoC;AACxD,qBAAqB,qCAAqC;AAC1D;AACA;AACA;AACA,wCAAwC,uBAAuB,WAAW,wCAAwC;AAClH;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA,YAAY,yBAAQ;AACpB,CAAC;AACD;AACA;AACA;AACA;;;AC5BA;AACA;AACA;AAC8C;AACO;AACJ;AACjD;AACA;AACA;AACA;AACO,kDAAkD,GAAG;AAC5D,IAAI,OAAO,UAAU;AACrB;AACA,mBAAmB,UAAU,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1BA;AACA;AACA;AACwF;AACnB;AAChB;AACrD;AACA;AACA;AACA;AACA;AACA,gCAAgC,UAAU;AAC1C;AACA;AACA;AACA,yBAAyB,UAAU;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,8BAA8B,6CAA6C;AAC3E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,UAAU;AACzB,YAAY;AACZ,UAAU;AACV,CAAC;AACsE;;;ACjDA;AACS;AAChF,sBAAsB,iBAAiB;AACvC;AACA;AACA,yCAAyC,iDAAiD;AAC1F;AACA;AACA;AACO,mCAAmC,cAAc;AACxD;AACA;AACA;AACA;AACA;;;ACdmC;AACsD;AACT;AACrB;AACQ;AACnE;AACA;AACA,yBAAyB,gHAAgH;AACzI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA,aAAa;AACb;AACA;AACA,SAAS,iDAAiD;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,WAAW,sBAAsB,6BAA6B;AAC9D,WAAW,SAAS,QAAQ;;;AC5JiC;AACiB;AACT;AACrE;AACA,yBAAyB,iDAAiD;AAC1E;AACA;AACO,gDAAgD,IAAI;AAC3D;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,4BAA4B;AAC5B;AACA;AACA,kBAAkB,OAAO,GAAG,yCAAyC,gBAAgB,EAAE;AACvF;AACA;AACA,wCAAwC,GAAG,SAAS;AACpD,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA;AACA,8BAA8B,yBAAyB;AACvD,+BAA+B,sBAAsB;AACrD,kCAAkC,iBAAiB;AACnD,iCAAiC,gBAAgB;AACjD,4BAA4B,YAAY;AACxC,iCAAiC,iBAAiB;AAClD,iCAAiC,iBAAiB;AAClD,+BAA+B,eAAe;AAC9C,mCAAmC,mBAAmB;AACtD,iCAAiC,gBAAgB;AACjD,iCAAiC,gBAAgB;AACjD,4BAA4B,YAAY;AACxC,mCAAmC,kBAAkB;AACrD,8BAA8B,aAAa;AAC3C;AACA,mCAAmC,kBAAkB;AACrD,iCAAiC,gBAAgB;AACjD,qCAAqC,oBAAoB;AACzD,oCAAoC,mBAAmB;AACvD,wCAAwC,uBAAuB;AAC/D,oCAAoC,mBAAmB;AACvD,qCAAqC,oBAAoB;AACzD,yCAAyC,wBAAwB;AACjE,mCAAmC,kBAAkB;AACrD,qCAAqC,oBAAoB;AACzD,mCAAmC,kBAAkB;AACrD,oCAAoC,mBAAmB;AACvD,yCAAyC,wBAAwB;AACjE,kCAAkC,iBAAiB;AACnD,uCAAuC,sBAAsB;AAC7D,iCAAiC,gBAAgB;AACjD,iCAAiC,gBAAgB;AACjD,qCAAqC,oBAAoB;AACzD,4CAA4C,2BAA2B;AACvE,sBAAsB,GAAG;AACzB;AACA;AACA;AACA,8CAA8C,2CAA2C;AACzF;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B;AACA;AACA;;;AC5FA;AACA;AACA;AAC8C;AACyB;AACuL;AAC3L;AACnE,yBAAyB,WAAW;AACpC,yBAAyB,wBAAwB;AACjD,wBAAwB,iBAAiB;AACzC;AACA;AACA,CAAC;AACD,0BAA0B,WAAW;AACrC,yBAAyB,wBAAwB;AACjD,wBAAwB,iBAAiB;AACzC;AACA;AACA,CAAC;AACM,8CAA8C,GAAG;AACxD,IAAI,eAAe;;AAEnB;AACA;AACA;;AAEA;AACA,eAAe,YAAY,CAAC;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,qBAAqB;AAClC;AACA;AACA,0BAA0B,mBAAmB,EAAE;AAC/C,sBAAsB,YAAY,EAAE;AACpC,iBAAiB,oBAAoB;AACrC,mBAAmB,sBAAsB;AACzC;AACA,mBAAmB,QAAQ;AAC3B,6BAA6B,UAAU,EAAE,QAAQ,OAAO,CAAC;AACzD;;AAEA;AACA,kBAAkB,uBAAuB;AACzC;;AAEA;AACA,kBAAkB,wBAAwB;AAC1C;;AAEA;AACA,kBAAkB;AAClB;;AAEA;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;ACjHA;AACA;AACA;AACmC;AACY;AACiC;AACpB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA,8BAA8B,yCAAyC;AACvE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP;AACA,eAAe,MAAM;AACrB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA,CAAC;AAC0D;;;ACpDQ;AACnB;AAC8B;AAC9E;AACA,yBAAyB,iDAAiD;AAC1E;AACA;AACO,gDAAgD,IAAI;AAC3D;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,iCAAiC,4BAA4B;AAC7D,yBAAyB,oBAAoB;AAC7C,yBAAyB,oBAAoB;AAC7C,yBAAyB,oBAAoB;AAC7C,yBAAyB,wCAAwC;AACjE,gCAAgC,2BAA2B;AAC3D,iBAAiB,YAAY;AAC7B;AACA,oBAAoB,gCAAgC;AACpD,kBAAkB,kCAAkC;AACpD,oBAAoB,oCAAoC;AACxD,qBAAqB,qCAAqC;AAC1D,oBAAoB,oCAAoC;AACxD,sBAAsB,sCAAsC;AAC5D;AACA,UAAU,IAAI,qBAAqB,IAAI;AACvC;AACA;AACA;AACA,iCAAiC,gBAAgB;AACjD,sBAAsB,GAAG;AACzB;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA,0DAA0D,oBAAoB;AAC9E;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA,yBAAyB,gBAAgB;AACzC,uBAAuB,uCAAuC;AAC9D,cAAc,GAAG;AACjB;AACA;AACA,kBAAkB,OAAO;AACzB,YAAY,OAAO;AACnB;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;;ACvEA;AACA;AACA;AACmC;AAC6B;AACgB;AACW;AAC/B;AAC5D;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,sBAAsB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,UAAU,UAAU,KAAK;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,SAAS,2BAA2B,kCAAoB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,mBAAmB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0EAA0E;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB;AACtE;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,GAAG;AACrC;AACA,gCAAgC;AAChC,kCAAkC;AAClC,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,yCAAyC;AACpD;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,uCAAuC;AAClD;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,kBAAU;AACV,IAAI,UAAU;AACd;AACA;AACA,8BAA8B,yCAAyC;AACvE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,MAAM;AACrB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC0D;;;ACpOxB;AACY;AACiC;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,iBAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;;;AClCqD;AACrD;AACA;AACA;AACA;AACO,kDAAkD,IAAI;AAC7D;AACA,iBAAiB,gDAAgD;AACjE,mBAAmB,eAAe;AAClC,oBAAoB,eAAe;AACnC;AACA,UAAU,IAAI,0BAA0B,IAAI;AAC5C;AACA;AACA,6CAA6C,eAAe;AAC5D,wCAAwC,eAAe;AACvD;AACA;AACA;AACA;;;ACnBA;AACA;AACA;AAC8C;AAC8B;AACf;AACR;AACsB;AAC3E;AACA;AACA;AACA;AACO,gDAAgD,GAAG;AAC1D,MAAM,OAAO,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,mBAAmB,EAAE;AACjD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,MAAM,OAAO,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,eAAe,CAAC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA,4BAA4B,YAAY;AACxC,gCAAgC,YAAY;AAC5C;;AAEA,QAAQ,OAAO,WAAW;AAC1B;AACA;AACA;;;AChGA;AACA;AACA;AACoF;AACpB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA,8BAA8B,2CAA2C;AACzE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,QAAQ;AACvB,YAAY;AACZ,UAAU;AACV,CAAC;AACgE;;;AC5BA;AACjE;AACA;AACA;AACO;AACP,cAAc,KAAK;AACnB,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;;;ACVuE;AACS;AAChF,sBAAsB,iBAAiB;AACvC;AACA;AACA,yCAAyC,iDAAiD;AAC1F;AACA;AACA;AACO,mCAAmC,cAAc;AACxD;AACA;AACA;AACA;AACA;;;ACdmC;AACkD;AAC2D;AACvF;AACK;AACK;AACnE;AACA,6BAA6B,gDAAgD;AAC7E;AACA;AACO;AACP;AACA;AACA;AACA;AACA,mBAAmB,gEAAgE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA,yBAAyB,SAAS;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,WAAW;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO;AACjC;AACA,gCAAgC,SAAS;AACzC;AACA,+BAA+B,MAAM;AACrC;AACA,gCAAgC,SAAS;AACzC;AACA;AACA;AACA,yBAAyB,aAAa;AACtC,yBAAyB,UAAU;AACnC;AACA;AACA;AACA,yBAAyB,YAAY;AACrC,yBAAyB,YAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B;AAC7D;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,kCAAkC;AACrE;AACA,qEAAqE,eAAe;AACpF,qEAAqE,eAAe;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,WAAW;AAC/D;AACA;AACA,4BAA4B,mCAAmC;AAC/D;AACA;AACA;AACA,gCAAgC,qBAAqB,gCAAgC,WAAW;AAChG;AACA,4DAA4D,WAAW;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,8BAA8B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,WAAW;AACzE;AACA;AACA,oCAAoC,qCAAqC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,SAAS;AACzC;AACA;AACA;AACA;AACA;AACA,gCAAgC,SAAS;AACzC;AACA;AACA;AACA;AACA;AACA,iCAAiC,UAAU;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,YAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,SAAS,6BAA6B,WAAW;AAC3F;AACA;AACA;AACA,4EAA4E,eAAe,OAAO,SAAS;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,SAAS,6BAA6B,WAAW;AAC3F;AACA;AACA;AACA,4EAA4E,eAAe,OAAO,SAAS;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA,iCAAiC,WAAW;AAC5C;AACA,4BAA4B,WAAW,GAAG,iBAAiB;AAC3D,4BAA4B,WAAW,GAAG,0BAA0B;AACpE;AACA;AACA;AACA,6BAA6B,WAAW,GAAG,iBAAiB;AAC5D,6BAA6B,WAAW,GAAG,0BAA0B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0DAA0D;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;;;ACncoD;AACQ;AAC5D;AACA,yBAAyB,iDAAiD;AAC1E;AACA;AACO,gDAAgD,IAAI;AAC3D;AACA;AACA,iBAAiB;AACjB,UAAU,sBAAsB,WAAW,YAAY;AACvD,oBAAoB,6BAA6B;AACjD,0BAA0B,mCAAmC;AAC7D,yBAAyB,aAAa;AACtC,yBAAyB,WAAW;AACpC,yBAAyB,WAAW;AACpC,yBAAyB,kCAAkC;AAC3D,yBAAyB,kCAAkC;AAC3D,4BAA4B,mBAAmB;AAC/C,iBAAiB,mBAAmB;AACpC;AACA;AACA,mBAAmB,GAAG,WAAW;AACjC;AACA,qEAAqE,gBAAgB;AACrF;AACA;AACA;AACA;AACA;AACA,kBAAkB,GAAG;AACrB;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA,qCAAqC,uBAAuB;AAC5D;AACA;AACA;AACA;;;ACvCA;AACA;AACA;AAC8C;AACqE;AACtD;AAC2L;AACvK;AACjF,MAAM,iBAAG,GAAG,GAAG;AACf;AACA;AACA;AACA;AACA,MAAM,iBAAG,GAAG,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,8CAA8C,GAAG;AACxD;AACA;AACA;;AAEA,MAAM,OAAO,iBAAiB;AAC9B,2BAA2B,YAAY,EAAE,UAAU,UAAU,CAAC;AAC9D;AACA;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,uBAAuB,UAAU;AACjC;AACA;AACA;AACA,qBAAqB,UAAU,EAAE;AACjC;AACA;AACA,4BAA4B,mBAAmB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,YAAY,CAAC;AAC1B;AACA,oBAAoB,SAAS,CAAC;AAC9B,0BAA0B,gBAAgB,CAAC,WAAW,eAAe;AACrE;;AAEA,kCAAkC,YAAY,CAAC;AAC/C;AACA,oBAAoB,SAAS,CAAC;AAC9B,0BAA0B,gBAAgB,CAAC,WAAW,cAAc;AACpE;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC,4BAA4B,mBAAmB,EAAE;AACjD;AACA;AACA,oBAAoB,qBAAqB;AACzC,sBAAsB,kBAAkB;AACxC;AACA;AACA,oBAAoB,qBAAqB;AACzC;AACA;AACA,oBAAoB,oBAAoB;AACxC;AACA;AACA;AACA,4BAA4B,mBAAmB,EAAE;AACjD;AACA;AACA,0BAA0B,aAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA,4BAA4B,mBAAmB,EAAE;AACjD;AACA;AACA;AACA;AACA,wBAAwB,UAAU,EAAE;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA,iBAAiB,eAAe;AAChC;AACA,sBAAsB,6BAA6B,CAAC,iBAAG,EAAE,iBAAG,GAAG,8BAA8B,CAAC,GAAG;AACjG;AACA;AACA,wBAAwB,YAAY;AACpC,sBAAsB,YAAY;AAClC;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA,eAAe,YAAY,CAAC;AAC5B,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;;AAEA,eAAe,YAAY,CAAC;AAC5B,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA,sBAAsB,YAAY,OAAO;AACzC,sBAAsB,YAAY;AAClC;AACA;;;ACpLA;AACA;AACA;AACgF;AACpB;AAC5D;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM;AAClC;AACA;AACA,8BAA8B,yCAAyC;AACvE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,MAAM;AACrB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA,CAAC;AAC0D;;;AC9BxB;AACoC;AACA;AACD;AACU;AAChF;AACA;AACA;AACA,eAAe,SAAS;AACxB,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA,iDAAiD,iDAAiD;AAClG;AACA;AACA;AACA;AACA;AACA;AACO,0BAA0B,iBAAiB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,SAAS;AACxC;AACA;AACA,kEAAkE,SAAS;AAC3E,sEAAsE,WAAW;AACjF;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,6CAA6C;AACrE;AACA;AACA;AACA,oDAAoD,SAAS;AAC7D,wDAAwD,WAAW;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,WAAW;AACtD,qCAAqC,SAAS;AAC9C,gCAAgC,QAAQ,GAAG,QAAQ,SAAS,EAAE;AAC9D,+BAA+B,QAAQ,GAAG,SAAS,SAAS,EAAE;AAC9D;AACA;AACA,+BAA+B,QAAQ,GAAG,UAAU,SAAS,EAAE;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,yCAAyC;AACpD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;AC7J0D;AACE;AAC5D;AACA,yBAAyB,sDAAsD;AAC/E;AACA;AACO,qDAAqD,IAAI;AAChE;AACA,yBAAyB,gBAAgB;AACzC,iBAAiB,4BAA4B,WAAW;AACxD,cAAc,oCAAoC;AAClD;AACA,eAAe,GAAG,UAAU,kCAAkC,qBAAqB;AACnF;AACA,kBAAkB,IAAI,mBAAmB,IAAI;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvBA;AACA;AACA;AAC8C;AACuC;AACxB;AACyD;AACpE;AAClD;AACA;AACA;AACA;AACO,oCAAoC,GAAG;AAC9C;AACA;AACA;AACA;AACA,oBAAoB,YAAY,EAAE,QAAQ,UAAU,CAAC;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,kCAAkC,GAAG;AAC5C;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY,EAAE,QAAQ,UAAU,CAAC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,UAAU,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACO,mDAAmD,GAAG;AAC7D,MAAM,OAAO,WAAW;AACxB,qBAAqB,QAAQ;AAC7B,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,UAAU,EAAE;AACjC,qBAAqB,YAAY,EAAE;AACnC,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;;;ACvGA;AACA;AACA;AAC0F;AAC9B;AACmE;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,WAAW;AAC5C;AACA,uCAAuC,WAAW;AAClD,2CAA2C,2BAA2B;AACtE,8CAA8C,yBAAyB;AACvE;AACA;AACA,2CAA2C,yBAAyB;AACpE,8CAA8C,2BAA2B;AACzE;AACA;AACA;AACA;AACA,8BAA8B,8CAA8C;AAC5E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,WAAW;AAC1B,YAAY;AACZ,UAAU;AACV,CAAC;AACiI;;;ACvClD;AACA;AAChF,sBAAsB,iBAAiB;AACvC;AACA;AACA,yCAAyC,iDAAiD;AAC1F;AACA;AACA;AACO,mCAAmC,uBAAuB;AACjE;AACA;AACA;AACA;AACA;;;ACdmC;AACwB;AACQ;AACA;AACnE;AACA;AACA,mBAAmB,gEAAgE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wCAAwC;AACnD;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;AC9EwD;AACxD;AACA,yBAAyB,iDAAiD;AAC1E;AACA;AACO,gDAAgD,IAAI;AAC3D;AACA;AACA,wBAAwB,eAAe;AACvC,yBAAyB,gBAAgB;AACzC,yBAAyB,gBAAgB;AACzC,oBAAoB,6BAA6B;AACjD,qBAAqB,qCAAqC;AAC1D,kBAAkB,kCAAkC;AACpD,iBAAiB,kCAAkC;AACnD;AACA;AACA;AACA,qBAAqB;AACrB;AACA,4BAA4B;AAC5B;AACA,oBAAoB,OAAO,wBAAwB;AACnD;AACA;AACA,kCAAkC,wBAAwB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpCA;AACA;AACA;AAC8C;AACqE;AACtD;AACwd;AACpc;AACjF;AACA;AACA;AACA;AACO,8CAA8C,GAAG;AACxD;AACA;AACA;;AAEA,MAAM,OAAO,iBAAiB;AAC9B;AACA;AACA,qBAAqB,QAAQ;AAC7B,qBAAqB,UAAU,EAAE;AACjC;AACA;AACA;AACA;AACA,QAAQ;AACR;;AAEA;AACA,iBAAiB,eAAe;AAChC;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,YAAY,EAAE;AAClC,sBAAsB,YAAY,EAAE,QAAQ,UAAU,CAAC;AACvD,oBAAoB,oBAAoB;AACxC,4BAA4B,mBAAmB,EAAE;AACjD,qBAAqB,WAAW,EAAE,eAAe,iBAAiB;AAClE;;AAEA;AACA,sBAAsB,aAAa;AACnC;;AAEA;AACA,oBAAoB,qBAAqB;AACzC,sBAAsB,kBAAkB;AACxC;AACA;;AAEA;AACA;AACA,oBAAoB,qBAAqB;AACzC,sBAAsB,kBAAkB;AACxC,gBAAgB,cAAc;AAC9B;;AAEA;AACA;AACA,sBAAsB,cAAc;AACpC;;AAEA;AACA,oBAAoB,sBAAsB;AAC1C,sBAAsB,mBAAmB;AACzC;;AAEA;AACA,sBAAsB,eAAe;AACrC;;AAEA,aAAa,YAAY,CAAC;AAC1B;AACA,4BAA4B,gBAAgB,EAAE,SAAS,eAAe;AACtE;;AAEA,kCAAkC,YAAY,CAAC;AAC/C,uBAAuB,cAAc;AACrC;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC,4BAA4B,mBAAmB,EAAE;AACjD;AACA;;AAEA;AACA,eAAe,qBAAqB;AACpC;AACA,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C;;AAEA;AACA;AACA,gBAAgB,cAAc;AAC9B;;AAEA;AACA,eAAe,qBAAqB;AACpC,gCAAgC,UAAU,EAAE;AAC5C,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,UAAU,EAAE;AAC9C;;AAEA;AACA,oBAAoB,sBAAsB;AAC1C;;AAEA;AACA,oBAAoB,cAAc;AAClC,sBAAsB,cAAc;AACpC;;AAEA;AACA,oBAAoB,eAAe;AACnC,sBAAsB,eAAe;AACrC;;AAEA;AACA,0BAA0B,aAAa;AACvC,sBAAsB,aAAa;AACnC;;AAEA;AACA;AACA,0BAA0B,cAAc;AACxC,sBAAsB,cAAc;AACpC;;AAEA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,oBAAoB,gBAAgB;AACpC,sBAAsB,gBAAgB;AACtC;;AAEA;AACA;AACA,0BAA0B,eAAe;AACzC,sBAAsB,eAAe;AACrC;;AAEA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C;;AAEA,kCAAkC,YAAY,CAAC;AAC/C,4BAA4B,gBAAgB,EAAE,SAAS,eAAe;AACtE;;AAEA,uDAAuD,YAAY,CAAC;AACpE,uBAAuB,cAAc;AACrC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA,eAAe,YAAY,CAAC;AAC5B,wBAAwB,YAAY;AACpC;AACA,8BAA8B,gBAAgB,EAAE,SAAS,YAAY;AACrE;AACA,oCAAoC,YAAY,CAAC;AACjD,8BAA8B,gBAAgB,EAAE,SAAS,YAAY;AACrE;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA,YAAY,6BAA6B,CAAC,GAAG;AAC7C;AACA;AACA,0BAA0B,YAAY,EAAE;AACxC;;AAEA;AACA,yBAAyB,YAAY,EAAE;AACvC;AACA;AACA,SAAS,GAAG;AACZ;AACA;AACA,yBAAyB,YAAY,EAAE;AACvC;;AAEA;AACA,0BAA0B,YAAY,EAAE;AACxC;AACA;AACA;;;AClRA;AACA;AACA;AACgF;AACpB;AAC5D;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM;AAClC;AACA;AACA,8BAA8B,yCAAyC;AACvE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,MAAM;AACrB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA,CAAC;AAC0D;;;AC9BqB;AAChF;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACO,uBAAuB,iBAAiB;AAC/C;;;ACT+C;AAC/C;AACA,yBAAyB,2CAA2C;AACpE;AACA;AACO,kDAAkD,IAAI;AAC7D;AACA;AACA;AACA;;;ACTA;AACA;AACA;AAC8C;AACO;AACmD;AACxG;AACA;AACA;AACA;AACO,gDAAgD,GAAG;AAC1D,IAAI,OAAO,WAAW;AACtB;AACA,iBAAiB,oBAAoB;AACrC,mBAAmB,sBAAsB;AACzC,4BAA4B,UAAU,EAAE,QAAQ,OAAO,CAAC;AACxD;AACA;;;ACjBA;AACA;AACA;AACoF;AACnB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA,8BAA8B,2CAA2C;AACzE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,QAAQ;AACvB,YAAY;AACZ,UAAU;AACV,CAAC;AACgE;;;AC5B9B;AACY;AACiC;AAChF;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACO,kBAAkB,iBAAiB;AAC1C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;;;ACd+C;AAC/C;AACA,yBAAyB,sCAAsC;AAC/D;AACA;AACO,6CAA6C,IAAI;AACxD,qDAAqD,gBAAgB;AACrE;AACA;AACA;;;ACTA;AACA;AACA;AAC8C;AACqE;AACtD;AAC8P;AAC1Q;AACjD;AACA;AACA;AACA;AACO,2CAA2C,GAAG;AACrD,MAAM,OAAO,iBAAiB;AAC9B;AACA,qBAAqB,QAAQ;AAC7B,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C,qBAAqB,YAAY,EAAE;AACnC,sBAAsB,UAAU,EAAE,cAAc,UAAU,EAAE;AAC5D,eAAe,mCAAqB;AACpC;AACA,gCAAgC,mBAAmB,EAAE;AACrD,eAAe,mBAAmB,EAAE;AACpC,qBAAqB,WAAW,EAAE;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,qBAAqB;AACpC;AACA;;AAEA;AACA,eAAe,qBAAqB;AACpC;AACA;;AAEA;AACA,gBAAgB,cAAc;AAC9B,iBAAiB,eAAe;AAChC;;AAEA;AACA,eAAe,mCAAqB;AACpC,oBAAoB,sBAAsB;AAC1C;;AAEA;AACA,oBAAoB,eAAe;AACnC,eAAe,qBAAqB;AACpC;AACA;;AAEA;AACA,oBAAoB,gBAAgB;AACpC,eAAe,qBAAqB;AACpC;AACA;;AAEA;AACA,oBAAoB,iBAAiB;AACrC,eAAe,qBAAqB;AACpC;AACA;;AAEA,aAAa,YAAY,CAAC;AAC1B;AACA,sBAAsB,eAAe;AACrC,gCAAgC,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAClE,UAAU,eAAe;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC,mBAAmB,EAAE;AAC3D;;AAEA;AACA;AACA;;AAEA;AACA,eAAe,qBAAqB;AACpC;;AAEA;AACA,eAAe,qBAAqB;AACpC;;AAEA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;AACA;AACA,eAAe,YAAY,CAAC;AAC5B,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B,sBAAsB,YAAY;AAClC;AACA;;;AClIA;AACA;AAC0E;AACpB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,GAAG;AAC5B;AACA;AACA,8BAA8B,sCAAsC;AACpE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,GAAG;AAClB,YAAY;AACZ,UAAU;AACV,CAAC;AACiD;;;AC3Bf;AACwB;AAC8E;AACrF;AACO;AACsB;AACjF;AACA,2BAA2B,+CAA+C;AAC1E;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,mBAAmB,kEAAkE;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,mBAAmB,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,UAAU;AACvD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,YAAY;AACrC;AACA;AACA;AACA,yBAAyB,aAAa;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,UAAU;AACnC;AACA;AACA;AACA,yBAAyB,YAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,qBAAqB,MAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAyF,QAAQ,GAAG;AACpG,SAAS;AACT;AACA;AACA;AACA;AACA,gGAAgG,QAAQ,GAAG;AAC3G,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,wBAAwB;AACjF;AACA,yDAAyD,4BAA4B;AACrF;AACA,qDAAqD,kBAAkB,GAAG,IAAI;AAC9E;AACA;AACA;AACA,6DAA6D,wBAAwB;AACrF,yDAAyD,kBAAkB;AAC3E;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,KAAK;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,OAAO,QAAQ;;;ACtXyC;AACW;AAC9E;AACA,yBAAyB,+CAA+C;AACxE;AACA;AACO,8CAA8C,IAAI;AACzD,uBAAuB,mBAAmB;AAC1C,UAAU,iBAAiB;AAC3B;AACA,sDAAsD,OAAO,SAAS;;AAEtE,cAAc,IAAI,6BAA6B,IAAI;AACnD;AACA,0BAA0B,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA,UAAU,eAAe;AACzB;AACA,oCAAoC,OAAO,cAAc;AACzD;AACA;AACA;;;ACzBA;AACA;AACA;AAC8C;AACuC;AACxB;AACwG;AACnH;AAClD;AACA;AACA;AACA;AACO,4CAA4C,GAAG;AACtD,MAAM,OAAO,UAAU;AACvB;AACA,qBAAqB,QAAQ;AAC7B,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C,eAAe,qBAAqB;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,UAAU,EAAE,cAAc,UAAU,EAAE;AAC5D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA,4BAA4B,mBAAmB,EAAE;AACjD,eAAe,mBAAmB,EAAE;AACpC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,UAAU,EAAE;AACpC,gBAAgB,YAAY,EAAE,IAAI,UAAU,CAAC;AAC7C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC,4BAA4B,mBAAmB,EAAE;AACjD,eAAe,mBAAmB,EAAE;AACpC;;AAEA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;;;ACjHA;AACA;AAC4E;AACpB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,IAAI;AAC9B;AACA;AACA,8BAA8B,uCAAuC;AACrE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,IAAI;AACnB,YAAY;AACZ,UAAU;AACV,CAAC;AAC+B;AACM;AACe;;;AC7BkB;AACS;AAChF,wBAAwB,iBAAiB;AACzC;AACA;AACA,yCAAyC,mDAAmD;AAC5F;AACA;AACA;AACO,qCAAqC,cAAc;AAC1D;AACA;AACA;AACA;AACA;;;ACdA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrBmC;AACiD;AACjB;AACR;AACa;AAChB;AAC9B;AAC1B;AACA;AACA,yBAAyB,+FAA+F;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,sBAAsB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iDAAiD;AAC1D;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,mBAAmB;AAC9B;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,EAAE;AAC/C;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,oBAAoB;AACjE;AACA,UAAU;AACV,IAAI,IAAI,GAAG,WAAW,uBAAuB,oBAAoB;AACjE;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,WAAW,oBAAoB;;;ACjJmB;AACb;AAChD;AACA,yBAAyB,mDAAmD;AAC5E;AACA;AACO,kDAAkD,IAAI;AAC7D;AACA;AACA,cAAc;AACd,cAAc,mBAAmB,cAAc,kBAAkB,SAAS,QAAQ;AAClF;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,4BAA4B;AAC5B;AACA,oBAAoB,OAAO,wBAAwB;AACnD;AACA;AACA;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C,oBAAoB,YAAY;AAChC,yBAAyB,gBAAgB;AACzC,oBAAoB,YAAY;AAChC,oBAAoB,YAAY;AAChC,yBAAyB,iBAAiB;AAC1C,yBAAyB,iBAAiB;AAC1C,oBAAoB,YAAY;AAChC,2BAA2B,mBAAmB;AAC9C,yBAAyB,gBAAgB;AACzC,yBAAyB,gBAAgB;AACzC,oBAAoB,YAAY;AAChC,2BAA2B,kBAAkB;AAC7C,sBAAsB,aAAa;AACnC,2BAA2B,kBAAkB;AAC7C,yBAAyB,gBAAgB;AACzC,6BAA6B,oBAAoB;AACjD,4BAA4B,mBAAmB;AAC/C,gCAAgC,uBAAuB;AACvD,4BAA4B,mBAAmB;AAC/C,6BAA6B,oBAAoB;AACjD,iCAAiC,wBAAwB;AACzD,2BAA2B,kBAAkB;AAC7C,6BAA6B,oBAAoB;AACjD,2BAA2B,kBAAkB;AAC7C,4BAA4B,mBAAmB;AAC/C,iCAAiC,wBAAwB;AACzD,0BAA0B,iBAAiB;AAC3C,+BAA+B,sBAAsB;AACrD,yBAAyB,gBAAgB;AACzC,yBAAyB,gBAAgB;AACzC,6BAA6B,oBAAoB;AACjD,oCAAoC,2BAA2B;AAC/D,sBAAsB,8BAA8B;AACpD,uBAAuB,sBAAsB;AAC7C,cAAc,GAAG;AACjB;AACA;AACA;;;AC/DA;AACA;AACA;AAC8C;AACqE;AACsW;AACva;AAClD;AACA;AACA;AACA;AACO,gDAAgD,GAAG;AAC1D,MAAM,OAAO,kBAAkB;AAC/B,qBAAqB,QAAQ;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,oBAAoB,oBAAoB;AACxC,4BAA4B,mBAAmB,EAAE;AACjD,qBAAqB,WAAW,EAAE,eAAe,qBAAqB;AACtE,qBAAqB,YAAY,EAAE;AACnC;AACA,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C,sBAAsB,UAAU,EAAE;AAClC;AACA;AACA;;AAEA;AACA,sBAAsB,aAAa;AACnC;;AAEA;AACA,oBAAoB,qBAAqB;AACzC,sBAAsB,sBAAsB;AAC5C;;AAEA;AACA,sBAAsB,cAAc;AACpC;;AAEA;AACA,oBAAoB,sBAAsB;AAC1C,sBAAsB,uBAAuB;AAC7C;;AAEA;AACA,sBAAsB,eAAe;AACrC;;AAEA;AACA,eAAe,YAAY,CAAC;AAC5B;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,eAAe;AACrC,gCAAgC,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAClE,UAAU,eAAe;AACzB;;AAEA;AACA,sBAAsB,cAAc;AACpC,gCAAgC,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAClE,UAAU,cAAc;AACxB;;AAEA;AACA,oBAAoB,eAAe;AACnC;;AAEA;AACA,oBAAoB,gBAAgB;AACpC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA,sBAAsB,iBAAiB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;;AAEA;AACA;AACA;AACA;;;ACzIA;AACA;AACA;AACmC;AACY;AACqC;AACnB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA,8BAA8B,2CAA2C;AACzE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP;AACA,eAAe,QAAQ;AACvB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA,CAAC;AACgE;;;ACnDJ;AACiB;AACT;AACrE;AACA,yBAAyB,oDAAoD;AAC7E;AACA;AACO,mDAAmD,IAAI;AAC9D;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,4BAA4B;AAC5B;AACA;AACA,kBAAkB,OAAO,GAAG,yCAAyC,gBAAgB,EAAE;AACvF;AACA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA,0BAA0B,yBAAyB;AACnD,2BAA2B,sBAAsB;AACjD,8BAA8B,iBAAiB;AAC/C,6BAA6B,gBAAgB;AAC7C,wBAAwB,YAAY;AACpC,6BAA6B,iBAAiB;AAC9C,6BAA6B,iBAAiB;AAC9C,2BAA2B,eAAe;AAC1C,+BAA+B,mBAAmB;AAClD,6BAA6B,gBAAgB;AAC7C,6BAA6B,gBAAgB;AAC7C,wBAAwB,YAAY;AACpC,+BAA+B,kBAAkB;AACjD,0BAA0B,aAAa;AACvC,wBAAwB,YAAY;AACpC,+BAA+B,kBAAkB;AACjD,6BAA6B,gBAAgB;AAC7C,iCAAiC,oBAAoB;AACrD,gCAAgC,mBAAmB;AACnD,oCAAoC,uBAAuB;AAC3D,gCAAgC,mBAAmB;AACnD,iCAAiC,oBAAoB;AACrD,qCAAqC,wBAAwB;AAC7D,+BAA+B,kBAAkB;AACjD,iCAAiC,oBAAoB;AACrD,+BAA+B,kBAAkB;AACjD,gCAAgC,mBAAmB;AACnD,qCAAqC,wBAAwB;AAC7D,8BAA8B,iBAAiB;AAC/C,mCAAmC,sBAAsB;AACzD,6BAA6B,gBAAgB;AAC7C,6BAA6B,gBAAgB;AAC7C,iCAAiC,oBAAoB;AACrD,wCAAwC,2BAA2B;AACnE,kBAAkB,GAAG;AACrB;AACA,cAAc,eAAe;AAC7B;AACA;AACA;;;ACrEA;AACA;AACA;AAC8C;AACO;AACrD;AACA;AACA;AACA;AACO,iDAAiD,GAAG;AAC3D,IAAI,eAAe;;AAEnB;AACA;AACA;AACA;AACA;;;AChBA;AACA;AACA;AACmC;AACY;AACuC;AACnB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,SAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA;AACA,8BAA8B,4CAA4C;AAC1E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP;AACA,eAAe,SAAS;AACxB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA,CAAC;AACmE;;;ACnDQ;AACE;AAC9E;AACA,yBAAyB,kDAAkD;AAC3E;AACA;AACA;AACO,iDAAiD,IAAI;AAC5D;AACA,sBAAsB,iBAAiB;AACvC,2BAA2B,sBAAsB;AACjD,4BAA4B,mBAAmB;AAC/C,uBAAuB,mBAAmB;AAC1C;AACA,sBAAsB,sCAAsC;AAC5D,oBAAoB,oCAAoC;AACxD,oBAAoB,oCAAoC;AACxD,UAAU,QAAQ;AAClB;AACA;AACA,YAAY,yBAAQ;AACpB;AACA,CAAC;AACD;AACA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA,kBAAkB,OAAO;AACzB,YAAY,yBAAQ;AACpB;AACA,CAAC;AACD;AACA,cAAc,eAAe;AAC7B;AACA;AACA;;;ACpCA;AACA;AACA;AAC8C;AACqD;AACtC;AACwD;AACrH;AACA;AACA;AACA;AACA;AACO,+CAA+C,GAAG;AACzD,MAAM,OAAO,iBAAiB;AAC9B;AACA;AACA;AACA,0BAA0B,SAAS;AACnC,4BAA4B,mBAAmB,EAAE;AACjD;AACA;AACA;;AAEA,YAAY,YAAY,CAAC;AACzB,sBAAsB,WAAW,EAAE,eAAe,eAAe;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD,eAAe,YAAY,CAAC;AAC5B,iCAAiC,gBAAgB,EAAE;AACnD,YAAY,YAAY;AACxB,iBAAiB,YAAY;AAC7B;AACA;AACA;;;ACpEA;AACA;AACA;AACmC;AACoC;AACyG;AACvF;AAClD;AACiC;AACV;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,SAAS;AACd,SAAS,WAAW;AACpB,KAAK;AACL,KAAK,SAAS;AACd,SAAS,WAAW;AACpB,KAAK;AACL,KAAK,SAAS;AACd,SAAS,WAAW;AACpB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA,KAAK;AACL,KAAK,SAAS;AACd,SAAS,WAAW;AACpB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA,CAAC;AACD;AACA;AACA,mBAAmB,iEAAiE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,gCAAgC,iBAAiB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,SAAS;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,WAAW;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,UAAU;AAClB;AACA;AACA;AACA;AACA,gCAAgC,KAAK;AACrC,YAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,YAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4LAA4L,WAAW;AACvM;AACA;AACA,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,kBAAU;AACV,IAAI,UAAU;AACd;AACA,kBAAU;AACV,IAAI,IAAI;AACR;AACA,kBAAU;AACV,IAAI,UAAU;AACd;AACA,kBAAU;AACV,IAAI,UAAU;AACd;AACA,kBAAU;AACV,IAAI,UAAU;AACd;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,8BAA8B;AACzC;AACA,kBAAU;AACV,IAAI,IAAI,GAAG,yBAAyB;AACpC;AACA,WAAW,uBAAuB,6BAA6B;AAC/D,WAAW,oBAAoB,QAAQ;AACvC;AACA;AACA;AACA;AACO;AACP;AACA;AACA,uBAAuB,cAAc;AACrC;AACA,YAAY,SAAS,+BAA+B,sBAAsB;AAC1E;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;AACA;AACA,8BAA8B,0CAA0C;AACxE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA,CAAC;AACkC;;;ACrTnC;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9DmC;AAC6B;AACK;AACZ;AACuB;AACzB;AAC5B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,sBAAsB,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,SAAS;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,SAAS;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,YAAY;AAChD;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+FAA+F,eAAe;AAC9G,6FAA6F,eAAe;AAC5G;AACA;AACA,iBAAiB;AACjB,6FAA6F,eAAe;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,iBAAiB,eAAe;AAChC,iBAAiB,eAAe;AAChC,iBAAiB,eAAe;AAChC,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI;AACR;AACA,UAAU;AACV,IAAI,IAAI,GAAG,+BAA+B;AAC1C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,uCAAuC;AAClD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,qCAAqC;AAChD;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;AC/f0D;AACa;AACvE;AACA,+BAA+B,kDAAkD;AACjF;AACA;AACO;AACP,WAAW,IAAI;AACf,UAAU,IAAI,wBAAwB,IAAI;AAC1C,eAAe,eAAe,cAAc;AAC5C;AACA,oCAAoC,sBAAsB;AAC1D,6CAA6C,+BAA+B;AAC5E,6CAA6C,+BAA+B;AAC5E,kCAAkC,qBAAqB;AACvD,oCAAoC,uBAAuB;AAC3D,+CAA+C,iCAAiC;AAChF,+CAA+C,iCAAiC;AAChF,sCAAsC,yBAAyB;AAC/D,oCAAoC,uBAAuB;AAC3D,0CAA0C,8BAA8B;AACxE,4CAA4C,4BAA4B;AACxE,uBAAuB,wBAAwB;AAC/C,kBAAkB,GAAG;AACrB;AACA;AACA;AACA;AACA,gBAAgB,eAAe,cAAc,EAAE;AAC/C;AACA;AACA;;;AC/BA;AACA;AACA;AAC8C;AAC8C;AAC6F;AACzL;AACA;AACA;AACA;AACO;AACP,6CAA6C,cAAc;AAC3D,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,mBAAmB,EAAE;AACjD,qBAAqB,WAAW,EAAE,eAAe,8BAAgB;AACjE,8BAA8B,8BAAgB,EAAE;AAChD,oBAAoB,eAAe;AACnC,eAAe,qBAAqB;AACpC;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;;AAEA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM,kBAAkB;AACxB,MAAM,kBAAkB;AACxB;AACA;;AAEA,MAAM,kBAAkB;AACxB;AACA;;AAEA,MAAM,kBAAkB;AACxB;AACA;;AAEA,MAAM,kBAAkB;AACxB;AACA;;AAEA,MAAM,kBAAkB;AACxB;AACA;;AAEA,MAAM,kBAAkB;AACxB,cAAc,kBAAkB;AAChC;AACA;;AAEA,MAAM,kBAAkB;AACxB,cAAc,kBAAkB;AAChC;AACA;;AAEA,MAAM,kBAAkB;AACxB,cAAc,kBAAkB;AAChC;AACA;;AAEA,MAAM,kBAAkB;AACxB,cAAc,kBAAkB;AAChC;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;AACA;AACA;;;AC5FA;AACA;AACA;AACkF;AACpB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,OAAO;AACpC;AACA;AACA,8BAA8B,0CAA0C;AACxE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,OAAO;AACtB,YAAY;AACZ,UAAU;AACV,CAAC;AAC6D;;;AC5B3B;AACwB;AACG;AACV;AACO;AACsB;AACjF;AACA;AACA;AACA;AACA;AACA;AACO;AACP,WAAW,aAAa;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uBAAuB,iBAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,iBAAiB;AAC5B;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,WAAW,WAAW,QAAQ;;;ACrJyD;AACT;AAC9E;AACA,yBAAyB,mDAAmD;AAC5E;AACA;AACO,kDAAkD,IAAI;AAC7D;AACA;AACA,gBAAgB,0CAA0C;AAC1D;AACA,iBAAiB,qCAAqC,EAAE,mCAAmC,EAAE;AAC7F,cAAc,oCAAoC;AAClD,yBAAyB,mEAAmE;AAC5F,yBAAyB,gBAAgB;AACzC,yBAAyB,gBAAgB;AACzC,oBAAoB,iCAAiC;AACrD,qBAAqB,gCAAgC;AACrD,UAAU,QAAQ;AAClB;AACA,YAAY,yBAAQ;AACpB,CAAC;AACD;AACA;AACA;AACA,kBAAkB,IAAI,+CAA+C,IAAI;AACzE;AACA;AACA;AACA;AACA,sCAAsC,qDAAqD;AAC3F,8BAA8B,GAAG;AACjC;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA,kBAAkB,eAAe;AACjC;AACA;AACA,UAAU,IAAI;AACd;AACA,+CAA+C,IAAI;AACnD;AACA,wCAAwC,OAAO,UAAU;AACzD;AACA;AACA;AACA;;;ACnDA;AACA;AACA;AAC0D;AACgF;AAC7E;AACmZ;AAC/X;AACjF;AACA;AACA;AACA;AACO,iCAAiC,UAAU,OAAO,oBAAoB,EAAE,IAAI,OAAO,CAAC,iBAAiB,UAAU,CAAC;AACvH,MAAM,oBAAG,GAAG,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0BAA0B;AACxC,kBAAkB,oBAAoB,EAAE,IAAI,OAAO,CAAC;AACpD;AACA;AACA;AACA;AACA;AACA,iBAAiB,gBAAgB,EAAE;AACnC;AACA;AACA;AACA;AACA;AACA,MAAM,oBAAG,GAAG,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0BAA0B;AACxC,kBAAkB,oBAAoB,EAAE,IAAI,OAAO,CAAC;AACpD;AACA;AACA;AACA;AACA;AACA,kBAAkB,gBAAgB,EAAE;AACpC;AACA;AACA;AACA;AACA;AACA,oCAAoC,WAAW;AAC/C,mBAAmB,wBAAwB;AAC3C;AACA,CAAC;AACD,4CAA4C,WAAW;AACvD,uBAAuB,iBAAiB;AACxC,yBAAyB,wBAAwB;AACjD;AACA,CAAC;AACD;AACA;AACA;AACA;AACO,gDAAgD,GAAG;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM,OAAO,WAAW;AACxB;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,oBAAoB,sBAAsB;AAC1C;AACA,qBAAqB,QAAQ;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa,YAAY,CAAC;AAC1B,sBAAsB,eAAe;AACrC,gCAAgC,gBAAgB,EAAE,IAAI,WAAW,CAAC;AAClE,UAAU,eAAe,EAAE;AAC3B,eAAe,qBAAqB;AACpC;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,sBAAsB;AAC1C,iCAAiC,WAAW,EAAE;AAC9C,4BAA4B,mBAAmB,EAAE;AACjD,sBAAsB,YAAY,EAAE;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,oBAAoB,wBAAwB;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY,EAAE;AACnC,kCAAkC,UAAU,EAAE;AAC9C,mBAAmB,oBAAoB;AACvC,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA,+BAA+B,UAAU,EAAE;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,0BAA0B;AAC9C,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,OAAO,CAAC;AAClC,2BAA2B,OAAO,CAAC;AACnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,qBAAqB;AACpC,gBAAgB,qBAAqB;AACrC;AACA;;AAEA;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C;;AAEA;AACA;AACA,kCAAkC,UAAU,EAAE;AAC9C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,eAAe;AAChC,gBAAgB,cAAc;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,0BAA0B;AACxC,kBAAkB,oBAAoB,EAAE,IAAI,OAAO,CAAC;AACpD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB;;AAEA;AACA,oBAAoB,eAAe;AACnC;;AAEA;AACA,oBAAoB,gBAAgB;AACpC;;AAEA;AACA,oBAAoB,iBAAiB;AACrC;;AAEA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,oBAAoB;AACxC,4BAA4B,mBAAmB,EAAE;AACjD;AACA;AACA;AACA,mBAAmB,YAAY,EAAE;AACjC;AACA,sBAAsB,YAAY,EAAE;AACpC;;AAEA,gBAAgB,eAAe,QAAQ,EAAE;AACzC;AACA;AACA;AACA,cAAc,0BAA0B;AACxC,kBAAkB,oBAAoB,EAAE,IAAI,OAAO,CAAC;AACpD;AACA;AACA;AACA,sBAAsB,6BAA6B,CAAC,oBAAG,EAAE,oBAAG,GAAG,8BAA8B,CAAC,GAAG;AACjG;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA,sBAAsB,YAAY;AAClC;AACA,eAAe,YAAY,CAAC;AAC5B,wBAAwB,YAAY;AACpC,sCAAsC,YAAY;AAClD,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;;;ACrVA;AACA;AACA;AACoF;AACnB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA,8BAA8B,2CAA2C;AACzE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,QAAQ;AACvB,YAAY;AACZ,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACgE;;;ACxC9B;AAC6B;AACoG;AAC5F;AACQ;AAChF;AACA;AACA,mBAAmB,sEAAsE;AACzF;AACA;AACA;AACA;AACA;AACO,uBAAuB,iBAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA,qBAAqB,MAAM;AAC3B;AACA,wBAAwB,QAAQ;AAChC;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA,iDAAiD,QAAQ;AACzD,0DAA0D,QAAQ;AAClE,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA,qBAAqB,aAAa;AAClC;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA,iDAAiD,QAAQ;AACzD;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,iBAAiB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,iBAAiB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,aAAa;AACzB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC,SAAS;AACT;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,qCAAqC;AAChD;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;AC3Q6D;AAC7D;AACA,yBAAyB,2CAA2C;AACpE;AACA;AACO,kDAAkD,IAAI;AAC7D;AACA;AACA,UAAU,GAAG;AACb,oBAAoB,mCAAmC;AACvD,oBAAoB,iCAAiC;AACrD,qBAAqB,gCAAgC;AACrD,kBAAkB,iCAAiC;AACnD,4BAA4B,0CAA0C;AACtE;AACA,gBAAgB,OAAO,qBAAqB;AAC5C;AACA;;;ACjBA;AACA;AACA;AAC8C;AACO;AACrD;AACA;AACA;AACA;AACO,gDAAgD,GAAG;AAC1D,IAAI,OAAO,UAAU;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;ACpBA;AACA;AACA;AACuG;AACtC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,2CAA2C;AACzE,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,QAAQ;AACvB,YAAY;AACZ,UAAU;AACV,CAAC;AACgE;;;ACzDjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,mDAAmD,8BAA8B,4HAA4H;AACpN;AACA;AACA;AACA;AACA;AACA;AACO,sDAAsD,8BAA8B,+HAA+H;AAC1N;AACA;AACA;AACA;AACA;AACA;AACA;AACO,uDAAuD,8BAA8B,sFAAsF;AAClL;AACA;AACA;AACA;AACA;AACA;AACO,uDAAuD,mBAAmB,yBAAyB;AAC1G;AACA;AACA;AACA;AACA;AACA;AACO,0DAA0D,sBAAsB,yBAAyB;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACO,2DAA2D,uBAAuB,yBAAyB;;;AC1D/E;AAC8B;AACe;AAChF,gCAAgC,IAAI;AACpC;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACO,+BAA+B,iBAAiB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,oBAAoB;AAC/B;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;AC5DmC;AAC8B;AACR;AACuB;AAChF,MAAM,wCAAuB,GAAG,IAAI;AACpC;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACO,6BAA6B,iBAAiB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4IAA4I,wCAAuB;AACnK;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,oBAAoB;AAC/B;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;ACtEuE;AACS;AAChF,sBAAsB,iBAAiB;AACvC;AACA;AACA,yCAAyC,iDAAiD;AAC1F;AACA;AACA;AACO,mCAAmC,cAAc;AACxD;AACA;AACA;AACA;AACA;;;ACdmC;AAC0D;AACkE;AACH;AACjG;AACJ;AACY;AACnE,4BAA4B,IAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,2BAA2B,kBAAkB;AAC7C,uBAAuB,mBAAmB;AAC1C,UAAU,GAAG;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,qBAAqB,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,GAAG;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B,oBAAoB,eAAe;AACnC,qBAAqB,gBAAgB;AACrC,wBAAwB,gBAAgB;AACxC,2BAA2B,mBAAmB;AAC9C,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,gBAAgB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf,wCAAwC,gBAAgB;AACxD;AACA;AACA,wCAAwC,gBAAgB;AACxD;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,eAAe,wDAAwD,mBAAmB;AACjI;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,eAAe,gEAAgE,mBAAmB;AAC3I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,GAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,GAAG;AACvB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA,SAAS;AACT,wCAAwC,gBAAgB;AACxD;AACA;AACA;AACA;AACA;AACA,QAAQ,GAAG;AACX;AACA,uCAAuC,gBAAgB;AACvD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,GAAG;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gBAAgB;AAChD;AACA,oCAAoC,eAAe,EAAE,iCAAiC,EAAE,eAAe;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA,wDAAwD,gBAAgB,0GAA0G;AAClL;AACA;AACA,UAAU;AACV,IAAI,IAAI,GAAG,wBAAwB;AACnC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,sBAAsB;AACjC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,+CAA+C;AAC1D;AACA,UAAU;AACV,IAAI,IAAI,GAAG,4CAA4C;AACvD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,2BAA2B;AACtC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,kCAAkC;AAC7C;AACA,UAAU;AACV,IAAI,IAAI,GAAG,yCAAyC;AACpD;AACA,UAAU;AACV,IAAI,IAAI,GAAG,2BAA2B;AACtC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,oBAAoB;AAC/B;AACA,UAAU;AACV,IAAI,IAAI,GAAG,yBAAyB;AACpC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,0BAA0B;AACrC;AACA,UAAU;AACV,IAAI,IAAI,GAAG,6BAA6B;AACxC;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;ACtvBmC;AACsB;AACJ;AAC2B;AAChF;AACA;AACA;AACA;AACA;AACO,yBAAyB,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,QAAQ;AAC/C;AACA;AACA,SAAS;AACT;AACA;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;AACA,UAAU;AACV,IAAI,UAAU;AACd;;;AC1DgF;AAChF;AACA;AACA;AACA;AACA;AACO,yBAAyB,iBAAiB;AACjD;;;ACP0D;AACa;AACzB;AACa;AACb;AACS;AACvD;AACA,6CAA6C,cAAc;AAC3D,WAAW,IAAI;AACf,OAAO;AACP,iBAAiB,OAAO;AACxB,6BAA6B,4CAA4C;AACzE;AACA,QAAQ,kBAAkB;AAC1B;AACA;AACA;AACA,+CAA+C,gBAAgB;AAC/D,WAAW,IAAI;AACf,OAAO;AACP,iBAAiB,OAAO;AACxB,6BAA6B,8CAA8C;AAC3E;AACA,QAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACO;AACP,6CAA6C,cAAc;AAC3D,yCAAyC,UAAU;AACnD,yCAAyC,UAAU;AACnD,2CAA2C,UAAU;AACrD;AACA;AACA,WAAW,IAAI;AACf;AACA,gCAAgC,oBAAoB;AACpD,wBAAwB,oBAAoB;AAC5C,wCAAwC,wBAAwB;AAChE,0CAA0C,0BAA0B;AACpE,wBAAwB,mCAAmC;AAC3D,yBAAyB,oCAAoC;AAC7D,wBAAwB,mCAAmC;AAC3D,kCAAkC,sCAAsC;AACxE,oCAAoC,wCAAwC;AAC5E;AACA;;AAEA,cAAc,IAAI,oBAAoB,IAAI;AAC1C,mBAAmB;AACnB;AACA;AACA,wCAAwC,iCAAiC;AACzE,uCAAuC,iCAAiC;AACxE,iDAAiD,0CAA0C;AAC3F,iDAAiD,0CAA0C;AAC3F,wCAAwC,kCAAkC;AAC1E,sCAAsC,gCAAgC;AACtE,8CAA8C,uCAAuC;AACrF,mDAAmD,4CAA4C;AAC/F,mDAAmD,4CAA4C;AAC/F,0CAA0C,oCAAoC;AAC9E,wCAAwC,kCAAkC;AAC1E,gDAAgD,yCAAyC;AACzF,+BAA+B,wCAAwC;AACvE,sBAAsB,GAAG;AACzB;AACA,sBAAsB,IAAI,0CAA0C,IAAI;AACxE;AACA;AACA,sBAAsB,IAAI,yCAAyC,IAAI;AACvE;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,sBAAsB,IAAI,qBAAqB,IAAI;AACnD;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD,0CAA0C;AAC1C;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;;;AChGwD;AACxD;AACA;AACA;AACA;AACO;AACP,WAAW,IAAI;AACf;AACA;AACA;AACA,iDAAiD,OAAO,mBAAmB;AAC3E;;AAEA,wBAAwB,OAAO,iBAAiB;AAChD;AACA,iDAAiD,OAAO,mBAAmB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;;;AC5B+C;AAC/C;AACA;AACA;AACA;AACO;AACP,WAAW,IAAI;AACf;AACA;AACA;AACA,sBAAsB,iCAAiC;AACvD;AACA;AACA;AACA;AACA;;;ACf+C;AAC/C;AACA;AACA;AACA;AACO;AACP,WAAW,IAAI;AACf;AACA;AACA;AACA;AACA;AACA;;;ACZ+C;AAC/C;AACA;AACA;AACA;AACO;AACP,WAAW,IAAI;AACf;AACA;AACA;AACA,sBAAsB,iCAAiC;AACvD,wBAAwB,mCAAmC;AAC3D;AACA;AACA;AACA;AACA;;;AChBA;AACA;AACA;AAC8C;AACiD;AAC1C;AACrD;AACA;AACA;AACA;AACO,8CAA8C,GAAG;AACxD;AACA;AACA;AACA;AACA,mBAAmB,QAAQ;AAC3B,iBAAiB,oBAAoB;AACrC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA,uBAAuB,YAAY,EAAE;AACrC;AACA;AACA;AACA;AACA,oBAAoB,UAAU,EAAE;AAChC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AChDA;AACA;AACA;AAC8C;AAC8B;AACf;AACoC;AAC/C;AAClD;AACA;AACA;AACA;AACO,kDAAkD,GAAG;AAC5D;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB,EAAE;AACjD,sBAAsB,UAAU,EAAE;AAClC,qBAAqB,WAAW,EAAE;AAClC,QAAQ,SAAS;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA;;;AC5CA;AACA;AACA;AAC8C;AAC4C;AAC7B;AACiW;AACzW;AACrD;AACA;AACA;AACA;AACO,wDAAwD,GAAG;AAClE;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B,4BAA4B,mBAAmB,EAAE;AACjD,qBAAqB,gBAAgB,EAAE;AACvC;AACA,oBAAoB,sBAAsB;AAC1C,eAAe,qBAAqB;AACpC;AACA;AACA,mBAAmB,oBAAoB;AACvC,yBAAyB,YAAY,EAAE;AACvC,qBAAqB,sBAAsB;AAC3C,uBAAuB,UAAU,EAAE;AACnC;AACA;AACA,wBAAwB,UAAU,EAAE;AACpC;AACA;AACA;;AAEA,aAAa,YAAY,CAAC;AAC1B,sBAAsB,8BAAgB;AACtC,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,oBAAoB,wBAAwB;AAC5C;;AAEA;AACA,oBAAoB,cAAc;AAClC,eAAe,sBAAsB;AACrC;;AAEA;AACA,oBAAoB,eAAe;AACnC,eAAe,uBAAuB;AACtC;;AAEA;AACA,oBAAoB,gBAAgB;AACpC,eAAe,wBAAwB;AACvC;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;;ACpFA;AACA;AACA;AAC8C;AAC8B;AACf;AACyM;AACjN;AACrD;AACA;AACA;AACA;AACO,kDAAkD,GAAG;AAC5D;AACA;AACA;AACA,+BAA+B,UAAU,EAAE;AAC3C,4BAA4B,UAAU,EAAE;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C,0BAA0B,oBAAoB;AAC9C,kCAAkC,mBAAmB,EAAE;AACvD,2BAA2B,WAAW,EAAE,eAAe,cAAc;AACrE,2BAA2B,YAAY,EAAE;AACzC,2BAA2B,QAAQ;AACnC;AACA;AACA,yBAAyB,oBAAoB;AAC7C,2BAA2B,sBAAsB;AACjD,8BAA8B,UAAU,EAAE;AAC1C;;AAEA;AACA,0BAA0B,qBAAqB;AAC/C,4BAA4B,gBAAgB;AAC5C;;AAEA;AACA,4BAA4B,8BAAgB;AAC5C,oCAAoC,8BAAgB,EAAE;AACtD;AACA,oBAAoB,8BAA8B,CAAC,GAAG;AACtD;AACA,sBAAsB,YAAY;AAClC,wBAAwB,YAAY;AACpC;AACA;AACA,wBAAwB,YAAY;AACpC,gCAAgC,YAAY,YAAY;AACxD;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;;;AC3DA;AACA;AACA;AAC8C;AAC4C;AAC7B;AAC6Q;AACrR;AACrD;AACA;AACA;AACA;AACO,sDAAsD,GAAG;AAChE;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B,4BAA4B,mBAAmB,EAAE;AACjD,qBAAqB,gBAAgB,EAAE;AACvC;AACA,oBAAoB,sBAAsB;AAC1C,eAAe,qBAAqB;AACpC;AACA;AACA,mBAAmB,oBAAoB;AACvC,qBAAqB,YAAY,EAAE;AACnC,qBAAqB,sBAAsB;AAC3C;AACA;AACA,wBAAwB,UAAU,EAAE;AACpC;AACA;AACA;;AAEA;AACA,oBAAoB,uBAAuB;AAC3C;;AAEA;AACA,oBAAoB,wBAAwB;AAC5C;;AAEA,aAAa,YAAY,CAAC;AAC1B,oBAAoB,uBAAuB;AAC3C,sBAAsB,8BAAgB;AACtC;;AAEA;AACA,oBAAoB,cAAc;AAClC,eAAe,wBAAwB;AACvC;AACA,kBAAkB,8BAA8B,CAAC,GAAG;AACpD;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA,sBAAsB,YAAY;AAClC,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;;ACzEA;AACA;AACA;AACwN;AAC/I;AACvB;AACS;AACa;AACb;AACS;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM;AAClC;AACA;AACA,+CAA+C,wCAAwC;AACvF,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,MAAM;AACrB,cAAc,cAAc;AAC5B,YAAY,YAAY;AACxB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,UAAU;AAC1C;AACA;AACA;AACA;AACA,QAAQ,SAAS,mBAAmB,kCAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,UAAU;AACzB,cAAc,kBAAkB;AAChC,YAAY,gBAAgB;AAC5B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,gBAAgB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,gBAAgB;AAC/B,cAAc,wBAAwB;AACtC,YAAY,sBAAsB;AAClC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,UAAU;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,UAAU;AACzB,cAAc,kBAAkB;AAChC,YAAY,gBAAgB;AAC5B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,eAAe,cAAc;AAC7B,cAAc,sBAAsB;AACpC,YAAY,oBAAoB;AAChC,CAAC;AACwQ;;;ACrIzQ;AACA;AACA;AACA;AACA;AACmD;AACS;AACf;AACiB;AACjB;AACF;AACU;AACS;AACjB;AACJ;AACQ;AACA;AACgC;AAC7B;AACuB;AAC3E;AACA;AACA;AACA,iBAAiB,uBAAuB;AACK;AACQ;AACN;AACA;AACN;AACS;AACM;AACX;AACI;AACS;AACf;AACW;AACT;AACA;AACI;AACJ;AACW;AACX;AACK;AACX;AACE;AACS;AACE;AACL;AACA;AACG;AACA;AACoE;AACtH;AACA;AACA;AACA;AACgnB;AAChnB;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,eAAe;AACf,mBAAmB;AACnB,YAAY;AACZ,oBAAoB;AACpB,YAAY;AACZ,WAAW;AACX,gBAAgB;AAChB,oBAAoB;AACpB,YAAY;AACZ,UAAU;AACV,cAAc;AACd,cAAc;AACd,cAAc;AACd,kBAAkB;AAClB,iBAAiB;AACjB,eAAe;AACf,0BAA0B;AAC1B,YAAY;AACZ,gBAAgB;AAChB,aAAa;AACb,aAAa;AACb,UAAU;AACV,cAAc;AACd,iBAAiB;AACjB,YAAY;AACZ,YAAY;AACZ,gBAAgB;AAChB,oBAAoB;AACpB,gBAAgB;AAChB,sBAAsB;AACtB,cAAc;AACd,kBAAkB;AAClB,WAAW;AACX,gBAAgB;AAChB,YAAY;AACZ,YAAY;AACZ,cAAc;AACd,YAAY;AACZ,iBAAiB;AACjB,YAAY;AACZ,SAAS;AACT,cAAc;AACd,UAAU;AACV,cAAc;AACd,eAAe;AACf,aAAa;AACb,aAAa;AACb,cAAc;AACd,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC/HgE;AACgB;AACjC;AACe;AACM;AACpE;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,wBAAwB,EAAE;AAC1B;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,EAAE;AAC5B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,EAAE;AAC5B;AACA;AACA;AACA;AACA;AACA,+BAA+B,YAAY;AAC3C;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,4BAA4B;AACpD,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,iBAAiB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qBAAqB;AAC7B;AACA;AACA,8BAA8B,sCAAqB,0CAA0C,iBAAiB,iBAAiB;AAC/H;AACA;AACA;AACA;AACA;AACA;;;AC9MA;AACA;AAC0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,WAAW,YAAY;AACvB;;;ACZA;AACA;AACA;AACA;AACA;AACsG;AACjE;AACM;AACN;AACH;AACS;AACT;AACD;AACK;AACK;AACT;AACF;AACI;AACA;AACE;AACD;AACa;AACF;AACF;AACQ;AACwB;AAC5B;AACf;AACD;AACI;AACH;AACA;AACH;AACK;AACG;AACN;AACE;AACK;AACR;AACM;AACL;AACA;AACE;AACF;AACM;AACF;AACJ;AACF;AACK;AACC;AACH;AACA;AACE;AACA;AACrC;AACyC&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/math-utilities.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-rgba-64.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/named-colors.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/parse-color.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-hsl.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-hsv.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-lab.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-lch.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-xyz.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-converters.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/utilities/relative-luminance.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/swatch.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/utilities/base-layer-luminance.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/utilities/is-dark.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/node_modules/tslib/tslib.es6.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/styles/css-directive.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/platform.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/dom.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/observation/notifier.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/observation/observable.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/styles/element-styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/components/attributes.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/components/fast-definitions.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/components/controller.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/composed-parent.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/composed-contains.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/design-token/custom-property-manager.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/design-token/design-token.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-web-utilities/dist/localization.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-blending.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-interpolation.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-scale.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/color-palette.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-colors/dist/component-state-color-palette.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/utilities/binary-search.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/utilities/direction-by-is-dark.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/palette.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/accent-fill.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/accent-foreground.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/utilities/color-constants.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/foreground-on-accent.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-fill.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-fill-input.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-fill-layer.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-fill-stealth.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-fill-contrast.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/focus-stroke.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-foreground.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-foreground-hint.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-layer-card-container.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-layer-floating.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-layer-1.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-layer-2.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-layer-3.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-layer-4.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-stroke.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/neutral-stroke-divider.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/error-fill.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/color/recipes/foreground-on-error.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/design-tokens.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/utilities/theme/applyTheme.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-web-utilities/dist/key-codes.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-web-utilities/dist/numbers.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/di/di.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/design-system/component-presentation.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/foundation-element/foundation-element.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/html-directive.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/binding.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/compiler.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/view.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/ref.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/patterns/start-end.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/apply-mixins.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/accordion-item/accordion-item.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/accordion/accordion.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/accordion/accordion.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/styles/css.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/style/display.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/accordion/accordion.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/accordion-item/accordion-item.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/exenv-es6/dist/can-use-dom.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-web-utilities/dist/dom.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/style/focus.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/match-media-stylesheet-behavior.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-web-utilities/dist/system-colors.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/styles/size.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/accordion-item/accordion-item.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/accordion-item/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/accordion/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/tslib/tslib.es6.mjs&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/patterns/aria-global.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/anchor/anchor.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/anchor/anchor.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/styles/patterns/button.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/property-stylesheet-behavior.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/utilities/behaviors.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/anchor/anchor.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/anchor/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-web-utilities/dist/events.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/direction.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/intersection-service.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/anchored-region/anchored-region.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/interfaces.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/when.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/anchored-region/anchored-region.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/anchored-region/anchored-region.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/anchored-region/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/avatar/avatar.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/avatar/avatar.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/badge/badge.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/styles/direction.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/avatar/avatar.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/avatar/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/badge/badge.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/badge/badge.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/badge/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/breadcrumb-item/breadcrumb-item.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/breadcrumb/breadcrumb.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/breadcrumb/breadcrumb.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/breadcrumb/breadcrumb.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/breadcrumb/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/breadcrumb-item/breadcrumb-item.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/breadcrumb-item/breadcrumb-item.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/breadcrumb-item/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/form-associated/form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/button/button.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/button/button.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/button/button.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/style/disabled.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/button/button.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/button/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/card/card.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/card/card.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/styles/elevation.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/card/card.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/card/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/checkbox/checkbox.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/checkbox/checkbox.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/checkbox/checkbox.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/checkbox/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-web-utilities/dist/strings.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-web-utilities/dist/array.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/listbox-option/listbox-option.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/listbox/listbox.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/select/select.options.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/combobox/combobox.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/combobox/combobox.options.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/combobox/combobox.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/combobox/combobox.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/listbox/listbox.element.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/select/select.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/select/select.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/listbox/listbox.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/select/select.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/combobox/combobox.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/combobox/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid.options.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid-cell.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid-cell.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/observation/array-change-records.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/observation/array-observer.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid-row.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-element/dist/esm/templating/children.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid-row.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/data-grid/data-grid.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/data-grid/data-grid.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/data-grid/data-grid-row.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/data-grid/data-grid-cell.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/data-grid/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/text-field/text-field.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/text-field/text-field.options.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/text-field/text-field.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/date-field/date-field.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/converters.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/date-field/date-field.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/styles/patterns/field.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/date-field/date-field.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/utilities/whitespace-filter.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/date-field/date-field.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/date-field/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/design-system-provider/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/tabbable/dist/index.esm.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/dialog/dialog.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/dialog/dialog.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/dialog/dialog.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/dialog/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/disclosure/disclosure.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/disclosure/disclosure.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/disclosure/disclosure.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/disclosure/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-web-utilities/dist/aria.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/divider/divider.options.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/divider/divider.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/divider/divider.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/divider/divider.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/divider/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/listbox/listbox.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/listbox/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/menu-item/menu-item.options.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/menu-item/menu-item.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/menu/menu.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/menu/menu.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/menu/menu.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/menu/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/menu-item/menu-item.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/menu-item/menu-item.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/menu-item/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/number-field/number-field.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/number-field/number-field.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/number-field/number-field.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/number-field/number-field.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/number-field/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/listbox-option/listbox-option.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/option/option.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/option/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/progress/base-progress.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/progress/progress.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/progress/progress.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/progress/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/progress-ring/progress-ring.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/progress-ring/progress-ring.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/progress-ring/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/radio/radio.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/radio/radio.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/radio/radio.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/radio/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/radio-group/radio-group.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/radio-group/radio-group.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/radio-group/radio-group.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/radio-group/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/search/search.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/search/search.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/search/search.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/search/search.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/search/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/select/select.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/select/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/skeleton/skeleton.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/skeleton/skeleton.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/skeleton/skeleton.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/skeleton/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/slider/slider-utilities.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/slider/slider.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/slider/slider.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/slider/slider.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/slider/slider.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/slider/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/slider-label/slider-label.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/slider-label/slider-label.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/slider-label/slider-label.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/slider-label/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/switch/switch.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/switch/switch.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/switch/switch.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/switch/switch.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/switch/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tab-panel/tab-panel.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tab-panel/tab-panel.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tab-panel/tab-panel.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tab-panel/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tab/tab.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tab/tab.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tab/tab.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tab/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tabs/tabs.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tabs/tabs.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tabs/tabs.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tabs/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/text-area/text-area.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/text-area/text-area.options.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/text-area/text-area.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/text-area/text-area.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/text-area/text-area.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/text-area/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/text-field/text-field.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/text-field/text-field.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/text-field/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/toolbar/toolbar.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/toolbar/toolbar.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/toolbar/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tooltip/tooltip.options.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tooltip/tooltip.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tooltip/tooltip.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tooltip/tooltip.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tooltip/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tree-item/tree-item.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tree-item/tree-item.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tree-item/tree-item.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tree-item/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tree-view/tree-view.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/tree-view/tree-view.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tree-view/tree-view.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/tree-view/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/anchored-region/anchored-region-config.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-menu-option.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-list-item.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker.form-associated.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-menu.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-list.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-menu.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-menu-option.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-list.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/picker/picker-list-item.template.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/drafts/picker/picker.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/drafts/picker/picker-menu.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/drafts/picker/picker-menu-option.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/drafts/picker/picker-list.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/drafts/picker/picker-list-item.styles.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/drafts/picker/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/custom-elements.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@microsoft/fast-foundation/dist/esm/design-system/design-system.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/jupyter-design-system.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyter/web-components/dist/esm/index.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Ensures that an input number does not exceed a max value and is not less than a min value.</span><span class="s3">\n </span><span class="s1">* @param i - the number to clamp</span><span class="s3">\n </span><span class="s1">* @param min - the maximum (inclusive) value</span><span class="s3">\n </span><span class="s1">* @param max - the minimum (inclusive) value</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function clamp(i, min, max) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(i) || i &lt;= min) {</span><span class="s3">\n        </span><span class="s1">return min;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (i &gt;= max) {</span><span class="s3">\n        </span><span class="s1">return max;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return i;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Scales an input to a number between 0 and 1</span><span class="s3">\n </span><span class="s1">* @param i - a number between min and max</span><span class="s3">\n </span><span class="s1">* @param min - the max value</span><span class="s3">\n </span><span class="s1">* @param max - the min value</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function normalize(i, min, max) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(i) || i &lt;= min) {</span><span class="s3">\n        </span><span class="s1">return 0.0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (i &gt;= max) {</span><span class="s3">\n        </span><span class="s1">return 1.0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return i / (max - min);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Scales a number between 0 and 1</span><span class="s3">\n </span><span class="s1">* @param i - the number to denormalize</span><span class="s3">\n </span><span class="s1">* @param min - the min value</span><span class="s3">\n </span><span class="s1">* @param max - the max value</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function denormalize(i, min, max) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(i)) {</span><span class="s3">\n        </span><span class="s1">return min;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return min + i * (max - min);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts degrees to radians.</span><span class="s3">\n </span><span class="s1">* @param i - degrees</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function degreesToRadians(i) {</span><span class="s3">\n    </span><span class="s1">return i * (Math.PI / 180.0);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts radians to degrees.</span><span class="s3">\n </span><span class="s1">* @param i - radians</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function radiansToDegrees(i) {</span><span class="s3">\n    </span><span class="s1">return i * (180.0 / Math.PI);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a number between 0 and 255 to a hex string.</span><span class="s3">\n </span><span class="s1">* @param i - the number to convert to a hex string</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function getHexStringForByte(i) {</span><span class="s3">\n    </span><span class="s1">const s = Math.round(clamp(i, 0.0, 255.0)).toString(16);</span><span class="s3">\n    </span><span class="s1">if (s.length === 1) {</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">+ s;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return s;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Linearly interpolate</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function lerp(i, min, max) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(i) || i &lt;= 0.0) {</span><span class="s3">\n        </span><span class="s1">return min;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (i &gt;= 1.0) {</span><span class="s3">\n        </span><span class="s1">return max;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return min + i * (max - min);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Linearly interpolate angles in degrees</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function lerpAnglesInDegrees(i, min, max) {</span><span class="s3">\n    </span><span class="s1">if (i &lt;= 0.0) {</span><span class="s3">\n        </span><span class="s1">return min % 360.0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (i &gt;= 1.0) {</span><span class="s3">\n        </span><span class="s1">return max % 360.0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const a = (min - max + 360.0) % 360.0;</span><span class="s3">\n    </span><span class="s1">const b = (max - min + 360.0) % 360.0;</span><span class="s3">\n    </span><span class="s1">if (a &lt;= b) {</span><span class="s3">\n        </span><span class="s1">return (min - a * i + 360.0) % 360.0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return (min + a * i + 360.0) % 360.0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const TwoPI = Math.PI * 2;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Linearly interpolate angles in radians</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function lerpAnglesInRadians(i, min, max) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(i) || i &lt;= 0.0) {</span><span class="s3">\n        </span><span class="s1">return min % TwoPI;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (i &gt;= 1.0) {</span><span class="s3">\n        </span><span class="s1">return max % TwoPI;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const a = (min - max + TwoPI) % TwoPI;</span><span class="s3">\n    </span><span class="s1">const b = (max - min + TwoPI) % TwoPI;</span><span class="s3">\n    </span><span class="s1">if (a &lt;= b) {</span><span class="s3">\n        </span><span class="s1">return (min - a * i + TwoPI) % TwoPI;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return (min + a * i + TwoPI) % TwoPI;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Will return infinity if i*10^(precision) overflows number</span><span class="s3">\n </span><span class="s1">* note that floating point rounding rules come into play here</span><span class="s3">\n </span><span class="s1">* so values that end up rounding on a .5 round to the nearest</span><span class="s3">\n </span><span class="s1">* even not always up so 2.5 rounds to 2</span><span class="s3">\n </span><span class="s1">* @param i - the number to round</span><span class="s3">\n </span><span class="s1">* @param precision - the precision to round to</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function roundToPrecisionSmall(i, precision) {</span><span class="s3">\n    </span><span class="s1">const factor = Math.pow(10, precision);</span><span class="s3">\n    </span><span class="s1">return Math.round(i * factor) / factor;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { clamp, denormalize, getHexStringForByte, roundToPrecisionSmall, } from </span><span class="s3">\&quot;</span><span class="s1">./math-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A RGBA color with 64 bit channels.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* new ColorRGBA64(1, 0, 0, 1) // red</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ColorRGBA64 {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param red - the red value</span><span class="s3">\n     </span><span class="s1">* @param green - the green value</span><span class="s3">\n     </span><span class="s1">* @param blue - the blue value</span><span class="s3">\n     </span><span class="s1">* @param alpha - the alpha value</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(red, green, blue, alpha) {</span><span class="s3">\n        </span><span class="s1">this.r = red;</span><span class="s3">\n        </span><span class="s1">this.g = green;</span><span class="s3">\n        </span><span class="s1">this.b = blue;</span><span class="s3">\n        </span><span class="s1">this.a = typeof alpha === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; !isNaN(alpha) ? alpha : 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Construct a {@link ColorRGBA64} from a {@link ColorRGBA64Config}</span><span class="s3">\n     </span><span class="s1">* @param data - the config object</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static fromObject(data) {</span><span class="s3">\n        </span><span class="s1">return data &amp;&amp; !isNaN(data.r) &amp;&amp; !isNaN(data.g) &amp;&amp; !isNaN(data.b)</span><span class="s3">\n            </span><span class="s1">? new ColorRGBA64(data.r, data.g, data.b, data.a)</span><span class="s3">\n            </span><span class="s1">: null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines if one color is equal to another.</span><span class="s3">\n     </span><span class="s1">* @param rhs - the color to compare</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">equalValue(rhs) {</span><span class="s3">\n        </span><span class="s1">return (this.r === rhs.r &amp;&amp; this.g === rhs.g &amp;&amp; this.b === rhs.b &amp;&amp; this.a === rhs.a);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the color formatted as a string; #RRGGBB</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toStringHexRGB() {</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">+ [this.r, this.g, this.b].map(this.formatHexValue).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the color formatted as a string; #RRGGBBAA</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toStringHexRGBA() {</span><span class="s3">\n        </span><span class="s1">return this.toStringHexRGB() + this.formatHexValue(this.a);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the color formatted as a string; #AARRGGBB</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toStringHexARGB() {</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">+ [this.a, this.r, this.g, this.b].map(this.formatHexValue).join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the color formatted as a string; </span><span class="s3">\&quot;</span><span class="s1">rgb(0xRR, 0xGG, 0xBB)</span><span class="s3">\&quot;\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toStringWebRGB() {</span><span class="s3">\n        </span><span class="s1">return `rgb(${Math.round(denormalize(this.r, 0.0, 255.0))},${Math.round(denormalize(this.g, 0.0, 255.0))},${Math.round(denormalize(this.b, 0.0, 255.0))})`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the color formatted as a string; </span><span class="s3">\&quot;</span><span class="s1">rgba(0xRR, 0xGG, 0xBB, a)</span><span class="s3">\&quot;\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Note that this follows the convention of putting alpha in the range [0.0,1.0] while the other three channels are [0,255]</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toStringWebRGBA() {</span><span class="s3">\n        </span><span class="s1">return `rgba(${Math.round(denormalize(this.r, 0.0, 255.0))},${Math.round(denormalize(this.g, 0.0, 255.0))},${Math.round(denormalize(this.b, 0.0, 255.0))},${clamp(this.a, 0, 1)})`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns a new {@link ColorRGBA64} rounded to the provided precision</span><span class="s3">\n     </span><span class="s1">* @param precision - the precision to round to</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">roundToPrecision(precision) {</span><span class="s3">\n        </span><span class="s1">return new ColorRGBA64(roundToPrecisionSmall(this.r, precision), roundToPrecisionSmall(this.g, precision), roundToPrecisionSmall(this.b, precision), roundToPrecisionSmall(this.a, precision));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns a new {@link ColorRGBA64} with channel values clamped between 0 and 1.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">clamp() {</span><span class="s3">\n        </span><span class="s1">return new ColorRGBA64(clamp(this.r, 0, 1), clamp(this.g, 0, 1), clamp(this.b, 0, 1), clamp(this.a, 0, 1));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Converts the {@link ColorRGBA64} to a {@link ColorRGBA64Config}.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toObject() {</span><span class="s3">\n        </span><span class="s1">return { r: this.r, g: this.g, b: this.b, a: this.a };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">formatHexValue(value) {</span><span class="s3">\n        </span><span class="s1">return getHexStringForByte(denormalize(value, 0.0, 255.0));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export const namedColorsConfigs = {</span><span class="s3">\n    </span><span class="s1">aliceblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.941176,</span><span class="s3">\n        </span><span class="s1">g: 0.972549,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">antiquewhite: {</span><span class="s3">\n        </span><span class="s1">r: 0.980392,</span><span class="s3">\n        </span><span class="s1">g: 0.921569,</span><span class="s3">\n        </span><span class="s1">b: 0.843137,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">aqua: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">aquamarine: {</span><span class="s3">\n        </span><span class="s1">r: 0.498039,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 0.831373,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">azure: {</span><span class="s3">\n        </span><span class="s1">r: 0.941176,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">beige: {</span><span class="s3">\n        </span><span class="s1">r: 0.960784,</span><span class="s3">\n        </span><span class="s1">g: 0.960784,</span><span class="s3">\n        </span><span class="s1">b: 0.862745,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">bisque: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.894118,</span><span class="s3">\n        </span><span class="s1">b: 0.768627,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">black: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">blanchedalmond: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.921569,</span><span class="s3">\n        </span><span class="s1">b: 0.803922,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">blue: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">blueviolet: {</span><span class="s3">\n        </span><span class="s1">r: 0.541176,</span><span class="s3">\n        </span><span class="s1">g: 0.168627,</span><span class="s3">\n        </span><span class="s1">b: 0.886275,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">brown: {</span><span class="s3">\n        </span><span class="s1">r: 0.647059,</span><span class="s3">\n        </span><span class="s1">g: 0.164706,</span><span class="s3">\n        </span><span class="s1">b: 0.164706,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">burlywood: {</span><span class="s3">\n        </span><span class="s1">r: 0.870588,</span><span class="s3">\n        </span><span class="s1">g: 0.721569,</span><span class="s3">\n        </span><span class="s1">b: 0.529412,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">cadetblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.372549,</span><span class="s3">\n        </span><span class="s1">g: 0.619608,</span><span class="s3">\n        </span><span class="s1">b: 0.627451,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">chartreuse: {</span><span class="s3">\n        </span><span class="s1">r: 0.498039,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">chocolate: {</span><span class="s3">\n        </span><span class="s1">r: 0.823529,</span><span class="s3">\n        </span><span class="s1">g: 0.411765,</span><span class="s3">\n        </span><span class="s1">b: 0.117647,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">coral: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.498039,</span><span class="s3">\n        </span><span class="s1">b: 0.313725,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">cornflowerblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.392157,</span><span class="s3">\n        </span><span class="s1">g: 0.584314,</span><span class="s3">\n        </span><span class="s1">b: 0.929412,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">cornsilk: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.972549,</span><span class="s3">\n        </span><span class="s1">b: 0.862745,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">crimson: {</span><span class="s3">\n        </span><span class="s1">r: 0.862745,</span><span class="s3">\n        </span><span class="s1">g: 0.078431,</span><span class="s3">\n        </span><span class="s1">b: 0.235294,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">cyan: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkblue: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0.545098,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkcyan: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0.545098,</span><span class="s3">\n        </span><span class="s1">b: 0.545098,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkgoldenrod: {</span><span class="s3">\n        </span><span class="s1">r: 0.721569,</span><span class="s3">\n        </span><span class="s1">g: 0.52549,</span><span class="s3">\n        </span><span class="s1">b: 0.043137,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkgray: {</span><span class="s3">\n        </span><span class="s1">r: 0.662745,</span><span class="s3">\n        </span><span class="s1">g: 0.662745,</span><span class="s3">\n        </span><span class="s1">b: 0.662745,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkgreen: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0.392157,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkgrey: {</span><span class="s3">\n        </span><span class="s1">r: 0.662745,</span><span class="s3">\n        </span><span class="s1">g: 0.662745,</span><span class="s3">\n        </span><span class="s1">b: 0.662745,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkkhaki: {</span><span class="s3">\n        </span><span class="s1">r: 0.741176,</span><span class="s3">\n        </span><span class="s1">g: 0.717647,</span><span class="s3">\n        </span><span class="s1">b: 0.419608,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkmagenta: {</span><span class="s3">\n        </span><span class="s1">r: 0.545098,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0.545098,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkolivegreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.333333,</span><span class="s3">\n        </span><span class="s1">g: 0.419608,</span><span class="s3">\n        </span><span class="s1">b: 0.184314,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkorange: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.54902,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkorchid: {</span><span class="s3">\n        </span><span class="s1">r: 0.6,</span><span class="s3">\n        </span><span class="s1">g: 0.196078,</span><span class="s3">\n        </span><span class="s1">b: 0.8,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkred: {</span><span class="s3">\n        </span><span class="s1">r: 0.545098,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darksalmon: {</span><span class="s3">\n        </span><span class="s1">r: 0.913725,</span><span class="s3">\n        </span><span class="s1">g: 0.588235,</span><span class="s3">\n        </span><span class="s1">b: 0.478431,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkseagreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.560784,</span><span class="s3">\n        </span><span class="s1">g: 0.737255,</span><span class="s3">\n        </span><span class="s1">b: 0.560784,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkslateblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.282353,</span><span class="s3">\n        </span><span class="s1">g: 0.239216,</span><span class="s3">\n        </span><span class="s1">b: 0.545098,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkslategray: {</span><span class="s3">\n        </span><span class="s1">r: 0.184314,</span><span class="s3">\n        </span><span class="s1">g: 0.309804,</span><span class="s3">\n        </span><span class="s1">b: 0.309804,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkslategrey: {</span><span class="s3">\n        </span><span class="s1">r: 0.184314,</span><span class="s3">\n        </span><span class="s1">g: 0.309804,</span><span class="s3">\n        </span><span class="s1">b: 0.309804,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkturquoise: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0.807843,</span><span class="s3">\n        </span><span class="s1">b: 0.819608,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">darkviolet: {</span><span class="s3">\n        </span><span class="s1">r: 0.580392,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0.827451,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">deeppink: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.078431,</span><span class="s3">\n        </span><span class="s1">b: 0.576471,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">deepskyblue: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0.74902,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">dimgray: {</span><span class="s3">\n        </span><span class="s1">r: 0.411765,</span><span class="s3">\n        </span><span class="s1">g: 0.411765,</span><span class="s3">\n        </span><span class="s1">b: 0.411765,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">dimgrey: {</span><span class="s3">\n        </span><span class="s1">r: 0.411765,</span><span class="s3">\n        </span><span class="s1">g: 0.411765,</span><span class="s3">\n        </span><span class="s1">b: 0.411765,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">dodgerblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.117647,</span><span class="s3">\n        </span><span class="s1">g: 0.564706,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">firebrick: {</span><span class="s3">\n        </span><span class="s1">r: 0.698039,</span><span class="s3">\n        </span><span class="s1">g: 0.133333,</span><span class="s3">\n        </span><span class="s1">b: 0.133333,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">floralwhite: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.980392,</span><span class="s3">\n        </span><span class="s1">b: 0.941176,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">forestgreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.133333,</span><span class="s3">\n        </span><span class="s1">g: 0.545098,</span><span class="s3">\n        </span><span class="s1">b: 0.133333,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">fuchsia: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">gainsboro: {</span><span class="s3">\n        </span><span class="s1">r: 0.862745,</span><span class="s3">\n        </span><span class="s1">g: 0.862745,</span><span class="s3">\n        </span><span class="s1">b: 0.862745,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">ghostwhite: {</span><span class="s3">\n        </span><span class="s1">r: 0.972549,</span><span class="s3">\n        </span><span class="s1">g: 0.972549,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">gold: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.843137,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">goldenrod: {</span><span class="s3">\n        </span><span class="s1">r: 0.854902,</span><span class="s3">\n        </span><span class="s1">g: 0.647059,</span><span class="s3">\n        </span><span class="s1">b: 0.12549,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">gray: {</span><span class="s3">\n        </span><span class="s1">r: 0.501961,</span><span class="s3">\n        </span><span class="s1">g: 0.501961,</span><span class="s3">\n        </span><span class="s1">b: 0.501961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">green: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0.501961,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">greenyellow: {</span><span class="s3">\n        </span><span class="s1">r: 0.678431,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 0.184314,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">grey: {</span><span class="s3">\n        </span><span class="s1">r: 0.501961,</span><span class="s3">\n        </span><span class="s1">g: 0.501961,</span><span class="s3">\n        </span><span class="s1">b: 0.501961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">honeydew: {</span><span class="s3">\n        </span><span class="s1">r: 0.941176,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 0.941176,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">hotpink: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.411765,</span><span class="s3">\n        </span><span class="s1">b: 0.705882,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">indianred: {</span><span class="s3">\n        </span><span class="s1">r: 0.803922,</span><span class="s3">\n        </span><span class="s1">g: 0.360784,</span><span class="s3">\n        </span><span class="s1">b: 0.360784,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">indigo: {</span><span class="s3">\n        </span><span class="s1">r: 0.294118,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0.509804,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">ivory: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 0.941176,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">khaki: {</span><span class="s3">\n        </span><span class="s1">r: 0.941176,</span><span class="s3">\n        </span><span class="s1">g: 0.901961,</span><span class="s3">\n        </span><span class="s1">b: 0.54902,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lavender: {</span><span class="s3">\n        </span><span class="s1">r: 0.901961,</span><span class="s3">\n        </span><span class="s1">g: 0.901961,</span><span class="s3">\n        </span><span class="s1">b: 0.980392,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lavenderblush: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.941176,</span><span class="s3">\n        </span><span class="s1">b: 0.960784,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lawngreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.486275,</span><span class="s3">\n        </span><span class="s1">g: 0.988235,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lemonchiffon: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.980392,</span><span class="s3">\n        </span><span class="s1">b: 0.803922,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.678431,</span><span class="s3">\n        </span><span class="s1">g: 0.847059,</span><span class="s3">\n        </span><span class="s1">b: 0.901961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightcoral: {</span><span class="s3">\n        </span><span class="s1">r: 0.941176,</span><span class="s3">\n        </span><span class="s1">g: 0.501961,</span><span class="s3">\n        </span><span class="s1">b: 0.501961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightcyan: {</span><span class="s3">\n        </span><span class="s1">r: 0.878431,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightgoldenrodyellow: {</span><span class="s3">\n        </span><span class="s1">r: 0.980392,</span><span class="s3">\n        </span><span class="s1">g: 0.980392,</span><span class="s3">\n        </span><span class="s1">b: 0.823529,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightgray: {</span><span class="s3">\n        </span><span class="s1">r: 0.827451,</span><span class="s3">\n        </span><span class="s1">g: 0.827451,</span><span class="s3">\n        </span><span class="s1">b: 0.827451,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightgreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.564706,</span><span class="s3">\n        </span><span class="s1">g: 0.933333,</span><span class="s3">\n        </span><span class="s1">b: 0.564706,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightgrey: {</span><span class="s3">\n        </span><span class="s1">r: 0.827451,</span><span class="s3">\n        </span><span class="s1">g: 0.827451,</span><span class="s3">\n        </span><span class="s1">b: 0.827451,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightpink: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.713725,</span><span class="s3">\n        </span><span class="s1">b: 0.756863,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightsalmon: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.627451,</span><span class="s3">\n        </span><span class="s1">b: 0.478431,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightseagreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.12549,</span><span class="s3">\n        </span><span class="s1">g: 0.698039,</span><span class="s3">\n        </span><span class="s1">b: 0.666667,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightskyblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.529412,</span><span class="s3">\n        </span><span class="s1">g: 0.807843,</span><span class="s3">\n        </span><span class="s1">b: 0.980392,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightslategray: {</span><span class="s3">\n        </span><span class="s1">r: 0.466667,</span><span class="s3">\n        </span><span class="s1">g: 0.533333,</span><span class="s3">\n        </span><span class="s1">b: 0.6,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightslategrey: {</span><span class="s3">\n        </span><span class="s1">r: 0.466667,</span><span class="s3">\n        </span><span class="s1">g: 0.533333,</span><span class="s3">\n        </span><span class="s1">b: 0.6,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightsteelblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.690196,</span><span class="s3">\n        </span><span class="s1">g: 0.768627,</span><span class="s3">\n        </span><span class="s1">b: 0.870588,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lightyellow: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 0.878431,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">lime: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">limegreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.196078,</span><span class="s3">\n        </span><span class="s1">g: 0.803922,</span><span class="s3">\n        </span><span class="s1">b: 0.196078,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">linen: {</span><span class="s3">\n        </span><span class="s1">r: 0.980392,</span><span class="s3">\n        </span><span class="s1">g: 0.941176,</span><span class="s3">\n        </span><span class="s1">b: 0.901961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">magenta: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">maroon: {</span><span class="s3">\n        </span><span class="s1">r: 0.501961,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mediumaquamarine: {</span><span class="s3">\n        </span><span class="s1">r: 0.4,</span><span class="s3">\n        </span><span class="s1">g: 0.803922,</span><span class="s3">\n        </span><span class="s1">b: 0.666667,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mediumblue: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0.803922,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mediumorchid: {</span><span class="s3">\n        </span><span class="s1">r: 0.729412,</span><span class="s3">\n        </span><span class="s1">g: 0.333333,</span><span class="s3">\n        </span><span class="s1">b: 0.827451,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mediumpurple: {</span><span class="s3">\n        </span><span class="s1">r: 0.576471,</span><span class="s3">\n        </span><span class="s1">g: 0.439216,</span><span class="s3">\n        </span><span class="s1">b: 0.858824,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mediumseagreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.235294,</span><span class="s3">\n        </span><span class="s1">g: 0.701961,</span><span class="s3">\n        </span><span class="s1">b: 0.443137,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mediumslateblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.482353,</span><span class="s3">\n        </span><span class="s1">g: 0.407843,</span><span class="s3">\n        </span><span class="s1">b: 0.933333,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mediumspringgreen: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0.980392,</span><span class="s3">\n        </span><span class="s1">b: 0.603922,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mediumturquoise: {</span><span class="s3">\n        </span><span class="s1">r: 0.282353,</span><span class="s3">\n        </span><span class="s1">g: 0.819608,</span><span class="s3">\n        </span><span class="s1">b: 0.8,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mediumvioletred: {</span><span class="s3">\n        </span><span class="s1">r: 0.780392,</span><span class="s3">\n        </span><span class="s1">g: 0.082353,</span><span class="s3">\n        </span><span class="s1">b: 0.521569,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">midnightblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.098039,</span><span class="s3">\n        </span><span class="s1">g: 0.098039,</span><span class="s3">\n        </span><span class="s1">b: 0.439216,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mintcream: {</span><span class="s3">\n        </span><span class="s1">r: 0.960784,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 0.980392,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">mistyrose: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.894118,</span><span class="s3">\n        </span><span class="s1">b: 0.882353,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">moccasin: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.894118,</span><span class="s3">\n        </span><span class="s1">b: 0.709804,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">navajowhite: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.870588,</span><span class="s3">\n        </span><span class="s1">b: 0.678431,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">navy: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0.501961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">oldlace: {</span><span class="s3">\n        </span><span class="s1">r: 0.992157,</span><span class="s3">\n        </span><span class="s1">g: 0.960784,</span><span class="s3">\n        </span><span class="s1">b: 0.901961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">olive: {</span><span class="s3">\n        </span><span class="s1">r: 0.501961,</span><span class="s3">\n        </span><span class="s1">g: 0.501961,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">olivedrab: {</span><span class="s3">\n        </span><span class="s1">r: 0.419608,</span><span class="s3">\n        </span><span class="s1">g: 0.556863,</span><span class="s3">\n        </span><span class="s1">b: 0.137255,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">orange: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.647059,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">orangered: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.270588,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">orchid: {</span><span class="s3">\n        </span><span class="s1">r: 0.854902,</span><span class="s3">\n        </span><span class="s1">g: 0.439216,</span><span class="s3">\n        </span><span class="s1">b: 0.839216,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">palegoldenrod: {</span><span class="s3">\n        </span><span class="s1">r: 0.933333,</span><span class="s3">\n        </span><span class="s1">g: 0.909804,</span><span class="s3">\n        </span><span class="s1">b: 0.666667,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">palegreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.596078,</span><span class="s3">\n        </span><span class="s1">g: 0.984314,</span><span class="s3">\n        </span><span class="s1">b: 0.596078,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">paleturquoise: {</span><span class="s3">\n        </span><span class="s1">r: 0.686275,</span><span class="s3">\n        </span><span class="s1">g: 0.933333,</span><span class="s3">\n        </span><span class="s1">b: 0.933333,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">palevioletred: {</span><span class="s3">\n        </span><span class="s1">r: 0.858824,</span><span class="s3">\n        </span><span class="s1">g: 0.439216,</span><span class="s3">\n        </span><span class="s1">b: 0.576471,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">papayawhip: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.937255,</span><span class="s3">\n        </span><span class="s1">b: 0.835294,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">peachpuff: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.854902,</span><span class="s3">\n        </span><span class="s1">b: 0.72549,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">peru: {</span><span class="s3">\n        </span><span class="s1">r: 0.803922,</span><span class="s3">\n        </span><span class="s1">g: 0.521569,</span><span class="s3">\n        </span><span class="s1">b: 0.247059,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">pink: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.752941,</span><span class="s3">\n        </span><span class="s1">b: 0.796078,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">plum: {</span><span class="s3">\n        </span><span class="s1">r: 0.866667,</span><span class="s3">\n        </span><span class="s1">g: 0.627451,</span><span class="s3">\n        </span><span class="s1">b: 0.866667,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">powderblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.690196,</span><span class="s3">\n        </span><span class="s1">g: 0.878431,</span><span class="s3">\n        </span><span class="s1">b: 0.901961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">purple: {</span><span class="s3">\n        </span><span class="s1">r: 0.501961,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0.501961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">red: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">rosybrown: {</span><span class="s3">\n        </span><span class="s1">r: 0.737255,</span><span class="s3">\n        </span><span class="s1">g: 0.560784,</span><span class="s3">\n        </span><span class="s1">b: 0.560784,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">royalblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.254902,</span><span class="s3">\n        </span><span class="s1">g: 0.411765,</span><span class="s3">\n        </span><span class="s1">b: 0.882353,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">saddlebrown: {</span><span class="s3">\n        </span><span class="s1">r: 0.545098,</span><span class="s3">\n        </span><span class="s1">g: 0.270588,</span><span class="s3">\n        </span><span class="s1">b: 0.07451,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">salmon: {</span><span class="s3">\n        </span><span class="s1">r: 0.980392,</span><span class="s3">\n        </span><span class="s1">g: 0.501961,</span><span class="s3">\n        </span><span class="s1">b: 0.447059,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">sandybrown: {</span><span class="s3">\n        </span><span class="s1">r: 0.956863,</span><span class="s3">\n        </span><span class="s1">g: 0.643137,</span><span class="s3">\n        </span><span class="s1">b: 0.376471,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">seagreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.180392,</span><span class="s3">\n        </span><span class="s1">g: 0.545098,</span><span class="s3">\n        </span><span class="s1">b: 0.341176,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">seashell: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.960784,</span><span class="s3">\n        </span><span class="s1">b: 0.933333,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">sienna: {</span><span class="s3">\n        </span><span class="s1">r: 0.627451,</span><span class="s3">\n        </span><span class="s1">g: 0.321569,</span><span class="s3">\n        </span><span class="s1">b: 0.176471,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">silver: {</span><span class="s3">\n        </span><span class="s1">r: 0.752941,</span><span class="s3">\n        </span><span class="s1">g: 0.752941,</span><span class="s3">\n        </span><span class="s1">b: 0.752941,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">skyblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.529412,</span><span class="s3">\n        </span><span class="s1">g: 0.807843,</span><span class="s3">\n        </span><span class="s1">b: 0.921569,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">slateblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.415686,</span><span class="s3">\n        </span><span class="s1">g: 0.352941,</span><span class="s3">\n        </span><span class="s1">b: 0.803922,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">slategray: {</span><span class="s3">\n        </span><span class="s1">r: 0.439216,</span><span class="s3">\n        </span><span class="s1">g: 0.501961,</span><span class="s3">\n        </span><span class="s1">b: 0.564706,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">slategrey: {</span><span class="s3">\n        </span><span class="s1">r: 0.439216,</span><span class="s3">\n        </span><span class="s1">g: 0.501961,</span><span class="s3">\n        </span><span class="s1">b: 0.564706,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">snow: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.980392,</span><span class="s3">\n        </span><span class="s1">b: 0.980392,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">springgreen: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 0.498039,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">steelblue: {</span><span class="s3">\n        </span><span class="s1">r: 0.27451,</span><span class="s3">\n        </span><span class="s1">g: 0.509804,</span><span class="s3">\n        </span><span class="s1">b: 0.705882,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">tan: {</span><span class="s3">\n        </span><span class="s1">r: 0.823529,</span><span class="s3">\n        </span><span class="s1">g: 0.705882,</span><span class="s3">\n        </span><span class="s1">b: 0.54902,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">teal: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0.501961,</span><span class="s3">\n        </span><span class="s1">b: 0.501961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">thistle: {</span><span class="s3">\n        </span><span class="s1">r: 0.847059,</span><span class="s3">\n        </span><span class="s1">g: 0.74902,</span><span class="s3">\n        </span><span class="s1">b: 0.847059,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">tomato: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 0.388235,</span><span class="s3">\n        </span><span class="s1">b: 0.278431,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">transparent: {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n        </span><span class="s1">a: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">turquoise: {</span><span class="s3">\n        </span><span class="s1">r: 0.25098,</span><span class="s3">\n        </span><span class="s1">g: 0.878431,</span><span class="s3">\n        </span><span class="s1">b: 0.815686,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">violet: {</span><span class="s3">\n        </span><span class="s1">r: 0.933333,</span><span class="s3">\n        </span><span class="s1">g: 0.509804,</span><span class="s3">\n        </span><span class="s1">b: 0.933333,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">wheat: {</span><span class="s3">\n        </span><span class="s1">r: 0.960784,</span><span class="s3">\n        </span><span class="s1">g: 0.870588,</span><span class="s3">\n        </span><span class="s1">b: 0.701961,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">white: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 1,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">whitesmoke: {</span><span class="s3">\n        </span><span class="s1">r: 0.960784,</span><span class="s3">\n        </span><span class="s1">g: 0.960784,</span><span class="s3">\n        </span><span class="s1">b: 0.960784,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">yellow: {</span><span class="s3">\n        </span><span class="s1">r: 1,</span><span class="s3">\n        </span><span class="s1">g: 1,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">yellowgreen: {</span><span class="s3">\n        </span><span class="s1">r: 0.603922,</span><span class="s3">\n        </span><span class="s1">g: 0.803922,</span><span class="s3">\n        </span><span class="s1">b: 0.196078,</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { ColorRGBA64 } from </span><span class="s3">\&quot;</span><span class="s1">./color-rgba-64.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { normalize } from </span><span class="s3">\&quot;</span><span class="s1">./math-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { namedColorsConfigs } from </span><span class="s3">\&quot;</span><span class="s1">./named-colors.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">// Matches rgb(R, G, B) where R, G, and B are integers [0 - 255]</span><span class="s3">\n</span><span class="s1">const webRGBRegex = /^rgb</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">s*((?:(?:25[0-5]|2[0-4]</span><span class="s3">\\</span><span class="s1">d|1</span><span class="s3">\\</span><span class="s1">d</span><span class="s3">\\</span><span class="s1">d|</span><span class="s3">\\</span><span class="s1">d{1,2})</span><span class="s3">\\</span><span class="s1">s*,</span><span class="s3">\\</span><span class="s1">s*){2}(?:25[0-5]|2[0-4]</span><span class="s3">\\</span><span class="s1">d|1</span><span class="s3">\\</span><span class="s1">d</span><span class="s3">\\</span><span class="s1">d|</span><span class="s3">\\</span><span class="s1">d{1,2})</span><span class="s3">\\</span><span class="s1">s*)</span><span class="s3">\\</span><span class="s1">)$/i;</span><span class="s3">\n</span><span class="s1">// Matches rgb(R, G, B, A) where R, G, and B are integers [0 - 255] and A is [0-1] floating</span><span class="s3">\n</span><span class="s1">const webRGBARegex = /^rgba</span><span class="s3">\\</span><span class="s1">(</span><span class="s3">\\</span><span class="s1">s*((?:(?:25[0-5]|2[0-4]</span><span class="s3">\\</span><span class="s1">d|1</span><span class="s3">\\</span><span class="s1">d</span><span class="s3">\\</span><span class="s1">d|</span><span class="s3">\\</span><span class="s1">d{1,2})</span><span class="s3">\\</span><span class="s1">s*,</span><span class="s3">\\</span><span class="s1">s*){3}(?:0|1|0?</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d*)</span><span class="s3">\\</span><span class="s1">s*)</span><span class="s3">\\</span><span class="s1">)$/i;</span><span class="s3">\n</span><span class="s1">// Matches #RGB and #RRGGBB, where R, G, and B are [0-9] or [A-F]</span><span class="s3">\n</span><span class="s1">const hexRGBRegex = /^#((?:[0-9a-f]{6}|[0-9a-f]{3}))$/i;</span><span class="s3">\n</span><span class="s1">// Matches #RGB and #RRGGBBAA, where R, G, B, and A are [0-9] or [A-F]</span><span class="s3">\n</span><span class="s1">const hexRGBARegex = /^#((?:[0-9a-f]{8}|[0-9a-f]{4}))$/i;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Test if a color matches #RRGGBB or #RGB</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isColorStringHexRGB(raw) {</span><span class="s3">\n    </span><span class="s1">return hexRGBRegex.test(raw);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Test if a color matches #AARRGGBB or #ARGB</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isColorStringHexARGB(raw) {</span><span class="s3">\n    </span><span class="s1">return hexRGBARegex.test(raw);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Test if a color matches #RRGGBBAA or #RGBA</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isColorStringHexRGBA(raw) {</span><span class="s3">\n    </span><span class="s1">return isColorStringHexARGB(raw); // No way to differentiate these two formats, so just use the same test</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Test if a color matches rgb(rr, gg, bb)</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isColorStringWebRGB(raw) {</span><span class="s3">\n    </span><span class="s1">return webRGBRegex.test(raw);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Test if a color matches rgba(rr, gg, bb, aa)</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isColorStringWebRGBA(raw) {</span><span class="s3">\n    </span><span class="s1">return webRGBARegex.test(raw);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Tests whether a color is in {@link @microsoft/fast-colors#NamedColors}.</span><span class="s3">\n </span><span class="s1">* @param raw - the color name to test</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isColorNamed(raw) {</span><span class="s3">\n    </span><span class="s1">return namedColorsConfigs.hasOwnProperty(raw);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a hexadecimal color string to a {@link @microsoft/fast-colors#ColorRGBA64}.</span><span class="s3">\n </span><span class="s1">* @param raw - a color string in the form of </span><span class="s3">\&quot;</span><span class="s1">#RRGGBB</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">#RGB</span><span class="s3">\&quot;\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* parseColorHexRGBA(</span><span class="s3">\&quot;</span><span class="s1">#FF0000</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n </span><span class="s1">* parseColorHexRGBA(</span><span class="s3">\&quot;</span><span class="s1">#F00</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function parseColorHexRGB(raw) {</span><span class="s3">\n    </span><span class="s1">const result = hexRGBRegex.exec(raw);</span><span class="s3">\n    </span><span class="s1">if (result === null) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let digits = result[1];</span><span class="s3">\n    </span><span class="s1">if (digits.length === 3) {</span><span class="s3">\n        </span><span class="s1">const r = digits.charAt(0);</span><span class="s3">\n        </span><span class="s1">const g = digits.charAt(1);</span><span class="s3">\n        </span><span class="s1">const b = digits.charAt(2);</span><span class="s3">\n        </span><span class="s1">digits = r.concat(r, g, g, b, b);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const rawInt = parseInt(digits, 16);</span><span class="s3">\n    </span><span class="s1">if (isNaN(rawInt)) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Note the use of &gt;&gt;&gt; rather than &gt;&gt; as we want JS to manipulate these as unsigned numbers</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(normalize((rawInt &amp; 0xff0000) &gt;&gt;&gt; 16, 0, 255), normalize((rawInt &amp; 0x00ff00) &gt;&gt;&gt; 8, 0, 255), normalize(rawInt &amp; 0x0000ff, 0, 255), 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a hexadecimal color string to a {@link @microsoft/fast-colors#ColorRGBA64}.</span><span class="s3">\n </span><span class="s1">* @param raw - a color string in the form of </span><span class="s3">\&quot;</span><span class="s1">#AARRGGBB</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">#ARGB</span><span class="s3">\&quot;\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* parseColorHexRGBA(</span><span class="s3">\&quot;</span><span class="s1">#AAFF0000</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n </span><span class="s1">* parseColorHexRGBA(</span><span class="s3">\&quot;</span><span class="s1">#AF00</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function parseColorHexARGB(raw) {</span><span class="s3">\n    </span><span class="s1">const result = hexRGBARegex.exec(raw);</span><span class="s3">\n    </span><span class="s1">if (result === null) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let digits = result[1];</span><span class="s3">\n    </span><span class="s1">if (digits.length === 4) {</span><span class="s3">\n        </span><span class="s1">const a = digits.charAt(0);</span><span class="s3">\n        </span><span class="s1">const r = digits.charAt(1);</span><span class="s3">\n        </span><span class="s1">const g = digits.charAt(2);</span><span class="s3">\n        </span><span class="s1">const b = digits.charAt(3);</span><span class="s3">\n        </span><span class="s1">digits = a.concat(a, r, r, g, g, b, b);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const rawInt = parseInt(digits, 16);</span><span class="s3">\n    </span><span class="s1">if (isNaN(rawInt)) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Note the use of &gt;&gt;&gt; rather than &gt;&gt; as we want JS to manipulate these as unsigned numbers</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(normalize((rawInt &amp; 0x00ff0000) &gt;&gt;&gt; 16, 0, 255), normalize((rawInt &amp; 0x0000ff00) &gt;&gt;&gt; 8, 0, 255), normalize(rawInt &amp; 0x000000ff, 0, 255), normalize((rawInt &amp; 0xff000000) &gt;&gt;&gt; 24, 0, 255));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a hexadecimal color string to a {@link @microsoft/fast-colors#ColorRGBA64}.</span><span class="s3">\n </span><span class="s1">* @param raw - a color string in the form of </span><span class="s3">\&quot;</span><span class="s1">#RRGGBBAA</span><span class="s3">\&quot; </span><span class="s1">or </span><span class="s3">\&quot;</span><span class="s1">#RGBA</span><span class="s3">\&quot;\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* parseColorHexRGBA(</span><span class="s3">\&quot;</span><span class="s1">#FF0000AA</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n </span><span class="s1">* parseColorHexRGBA(</span><span class="s3">\&quot;</span><span class="s1">#F00A</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function parseColorHexRGBA(raw) {</span><span class="s3">\n    </span><span class="s1">const result = hexRGBARegex.exec(raw);</span><span class="s3">\n    </span><span class="s1">if (result === null) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let digits = result[1];</span><span class="s3">\n    </span><span class="s1">if (digits.length === 4) {</span><span class="s3">\n        </span><span class="s1">const r = digits.charAt(0);</span><span class="s3">\n        </span><span class="s1">const g = digits.charAt(1);</span><span class="s3">\n        </span><span class="s1">const b = digits.charAt(2);</span><span class="s3">\n        </span><span class="s1">const a = digits.charAt(3);</span><span class="s3">\n        </span><span class="s1">digits = r.concat(r, g, g, b, b, a, a);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const rawInt = parseInt(digits, 16);</span><span class="s3">\n    </span><span class="s1">if (isNaN(rawInt)) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Note the use of &gt;&gt;&gt; rather than &gt;&gt; as we want JS to manipulate these as unsigned numbers</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(normalize((rawInt &amp; 0xff000000) &gt;&gt;&gt; 24, 0, 255), normalize((rawInt &amp; 0x00ff0000) &gt;&gt;&gt; 16, 0, 255), normalize((rawInt &amp; 0x0000ff00) &gt;&gt;&gt; 8, 0, 255), normalize(rawInt &amp; 0x000000ff, 0, 255));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a rgb color string to a {@link @microsoft/fast-colors#ColorRGBA64}.</span><span class="s3">\n </span><span class="s1">* @param raw - a color string format </span><span class="s3">\&quot;</span><span class="s1">rgba(RR,GG,BB)</span><span class="s3">\&quot; </span><span class="s1">where RR,GG,BB are [0,255]</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* parseColorWebRGB(</span><span class="s3">\&quot;</span><span class="s1">rgba(255, 0, 0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function parseColorWebRGB(raw) {</span><span class="s3">\n    </span><span class="s1">const result = webRGBRegex.exec(raw);</span><span class="s3">\n    </span><span class="s1">if (result === null) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const split = result[1].split(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(normalize(Number(split[0]), 0, 255), normalize(Number(split[1]), 0, 255), normalize(Number(split[2]), 0, 255), 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a rgba color string to a {@link @microsoft/fast-colors#ColorRGBA64}.</span><span class="s3">\n </span><span class="s1">* @param raw - a color string format </span><span class="s3">\&quot;</span><span class="s1">rgba(RR,GG,BB,a)</span><span class="s3">\&quot; </span><span class="s1">where RR,GG,BB are [0,255] and a is [0,1]</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* parseColorWebRGBA(</span><span class="s3">\&quot;</span><span class="s1">rgba(255, 0, 0, 1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function parseColorWebRGBA(raw) {</span><span class="s3">\n    </span><span class="s1">const result = webRGBARegex.exec(raw);</span><span class="s3">\n    </span><span class="s1">if (result === null) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const split = result[1].split(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (split.length === 4) {</span><span class="s3">\n        </span><span class="s1">return new ColorRGBA64(normalize(Number(split[0]), 0, 255), normalize(Number(split[1]), 0, 255), normalize(Number(split[2]), 0, 255), Number(split[3]));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a named color to a {@link @microsoft/fast-colors#ColorRGBA64}.</span><span class="s3">\n </span><span class="s1">* @param raw - a {@link https://www.w3schools.com/colors/colors_names.asp | CSS color name}.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* parseColorNamed(</span><span class="s3">\&quot;</span><span class="s1">red</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function parseColorNamed(raw) {</span><span class="s3">\n    </span><span class="s1">// const rawLower: typeof raw =  raw.toLowerCase() : raw.toString();</span><span class="s3">\n    </span><span class="s1">const config = namedColorsConfigs[raw.toLowerCase()];</span><span class="s3">\n    </span><span class="s1">return config</span><span class="s3">\n        </span><span class="s1">? new ColorRGBA64(config.r, config.g, config.b, config.hasOwnProperty(</span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">) ? config.a : void 0)</span><span class="s3">\n        </span><span class="s1">: null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n  </span><span class="s1">Expects any of the following and attempts to determine which is being used</span><span class="s3">\n </span><span class="s1">* #RRGGBB, #AARRGGBB, rgb(RR,GG,BB) rgba(RR,GG,BB,a),</span><span class="s3">\n </span><span class="s1">* or any of the {@link https://www.w3schools.com/colors/colors_names.asp | CSS color names}.</span><span class="s3">\n </span><span class="s1">* @param raw - the color string to parse</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function parseColor(raw) {</span><span class="s3">\n    </span><span class="s1">const rawLower = raw.toLowerCase();</span><span class="s3">\n    </span><span class="s1">return isColorStringHexRGB(rawLower)</span><span class="s3">\n        </span><span class="s1">? parseColorHexRGB(rawLower)</span><span class="s3">\n        </span><span class="s1">: isColorStringHexRGBA(rawLower)</span><span class="s3">\n            </span><span class="s1">? parseColorHexARGB(rawLower)</span><span class="s3">\n            </span><span class="s1">: isColorStringWebRGB(rawLower)</span><span class="s3">\n                </span><span class="s1">? parseColorWebRGB(rawLower)</span><span class="s3">\n                </span><span class="s1">: isColorStringWebRGBA(rawLower)</span><span class="s3">\n                    </span><span class="s1">? parseColorWebRGBA(rawLower)</span><span class="s3">\n                    </span><span class="s1">: isColorNamed(rawLower)</span><span class="s3">\n                        </span><span class="s1">? parseColorNamed(rawLower)</span><span class="s3">\n                        </span><span class="s1">: null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { roundToPrecisionSmall } from </span><span class="s3">\&quot;</span><span class="s1">./math-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This uses Hue values in </span><span class="s3">\&quot;</span><span class="s1">degree</span><span class="s3">\&quot; </span><span class="s1">format. So expect a range of [0,360]. Some other implementations instead uses radians or a normalized Hue with range [0,1]. Be aware of this when checking values or using other libraries.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ColorHSL {</span><span class="s3">\n    </span><span class="s1">constructor(hue, sat, lum) {</span><span class="s3">\n        </span><span class="s1">this.h = hue;</span><span class="s3">\n        </span><span class="s1">this.s = sat;</span><span class="s3">\n        </span><span class="s1">this.l = lum;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Construct a {@link ColorHSL} from a config object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static fromObject(data) {</span><span class="s3">\n        </span><span class="s1">if (data &amp;&amp; !isNaN(data.h) &amp;&amp; !isNaN(data.s) &amp;&amp; !isNaN(data.l)) {</span><span class="s3">\n            </span><span class="s1">return new ColorHSL(data.h, data.s, data.l);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines if a color is equal to another</span><span class="s3">\n     </span><span class="s1">* @param rhs - the value to compare</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">equalValue(rhs) {</span><span class="s3">\n        </span><span class="s1">return this.h === rhs.h &amp;&amp; this.s === rhs.s &amp;&amp; this.l === rhs.l;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns a new {@link ColorHSL} rounded to the provided precision</span><span class="s3">\n     </span><span class="s1">* @param precision - the precision to round to</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">roundToPrecision(precision) {</span><span class="s3">\n        </span><span class="s1">return new ColorHSL(roundToPrecisionSmall(this.h, precision), roundToPrecisionSmall(this.s, precision), roundToPrecisionSmall(this.l, precision));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the {@link ColorHSL} formatted as an object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toObject() {</span><span class="s3">\n        </span><span class="s1">return { h: this.h, s: this.s, l: this.l };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { roundToPrecisionSmall } from </span><span class="s3">\&quot;</span><span class="s1">./math-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This uses Hue values in </span><span class="s3">\&quot;</span><span class="s1">degree</span><span class="s3">\&quot; </span><span class="s1">format. So expect a range of [0,360]. Some other implementations instead uses radians or a normalized Hue with range [0,1]. Be aware of this when checking values or using other libraries.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ColorHSV {</span><span class="s3">\n    </span><span class="s1">constructor(hue, sat, val) {</span><span class="s3">\n        </span><span class="s1">this.h = hue;</span><span class="s3">\n        </span><span class="s1">this.s = sat;</span><span class="s3">\n        </span><span class="s1">this.v = val;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Construct a {@link ColorHSV} from a config object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static fromObject(data) {</span><span class="s3">\n        </span><span class="s1">if (data &amp;&amp; !isNaN(data.h) &amp;&amp; !isNaN(data.s) &amp;&amp; !isNaN(data.v)) {</span><span class="s3">\n            </span><span class="s1">return new ColorHSV(data.h, data.s, data.v);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines if a color is equal to another</span><span class="s3">\n     </span><span class="s1">* @param rhs - the value to compare</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">equalValue(rhs) {</span><span class="s3">\n        </span><span class="s1">return this.h === rhs.h &amp;&amp; this.s === rhs.s &amp;&amp; this.v === rhs.v;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns a new {@link ColorHSV} rounded to the provided precision</span><span class="s3">\n     </span><span class="s1">* @param precision - the precision to round to</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">roundToPrecision(precision) {</span><span class="s3">\n        </span><span class="s1">return new ColorHSV(roundToPrecisionSmall(this.h, precision), roundToPrecisionSmall(this.s, precision), roundToPrecisionSmall(this.v, precision));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the {@link ColorHSV} formatted as an object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toObject() {</span><span class="s3">\n        </span><span class="s1">return { h: this.h, s: this.s, v: this.v };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { roundToPrecisionSmall } from </span><span class="s3">\&quot;</span><span class="s1">./math-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* {@link https://en.wikipedia.org/wiki/CIELAB_color_space | CIELAB color space}</span><span class="s3">\n </span><span class="s1">* This implementation uses the D65 constants for 2 degrees. That determines the constants used for the pure white point of the XYZ space of 0.95047, 1.0, 1.08883.</span><span class="s3">\n </span><span class="s1">* {@link https://en.wikipedia.org/wiki/Illuminant_D65}</span><span class="s3">\n </span><span class="s1">* These constants determine how the XYZ, LCH and LAB colors convert to/from RGB.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ColorLAB {</span><span class="s3">\n    </span><span class="s1">constructor(l, a, b) {</span><span class="s3">\n        </span><span class="s1">this.l = l;</span><span class="s3">\n        </span><span class="s1">this.a = a;</span><span class="s3">\n        </span><span class="s1">this.b = b;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Construct a {@link ColorLAB} from a config object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static fromObject(data) {</span><span class="s3">\n        </span><span class="s1">if (data &amp;&amp; !isNaN(data.l) &amp;&amp; !isNaN(data.a) &amp;&amp; !isNaN(data.b)) {</span><span class="s3">\n            </span><span class="s1">return new ColorLAB(data.l, data.a, data.b);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines if a color is equal to another</span><span class="s3">\n     </span><span class="s1">* @param rhs - the value to compare</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">equalValue(rhs) {</span><span class="s3">\n        </span><span class="s1">return this.l === rhs.l &amp;&amp; this.a === rhs.a &amp;&amp; this.b === rhs.b;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns a new {@link ColorLAB} rounded to the provided precision</span><span class="s3">\n     </span><span class="s1">* @param precision - the precision to round to</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">roundToPrecision(precision) {</span><span class="s3">\n        </span><span class="s1">return new ColorLAB(roundToPrecisionSmall(this.l, precision), roundToPrecisionSmall(this.a, precision), roundToPrecisionSmall(this.b, precision));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the {@link ColorLAB} formatted as an object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toObject() {</span><span class="s3">\n        </span><span class="s1">return { l: this.l, a: this.a, b: this.b };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">ColorLAB.epsilon = 216 / 24389;</span><span class="s3">\n</span><span class="s1">ColorLAB.kappa = 24389 / 27;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { roundToPrecisionSmall } from </span><span class="s3">\&quot;</span><span class="s1">./math-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* {@link https://en.wikipedia.org/wiki/CIELAB_color_space | CIELCH color space}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* This is a cylindrical representation of the CIELAB space useful for saturation operations</span><span class="s3">\n </span><span class="s1">* This uses Hue values in </span><span class="s3">\&quot;</span><span class="s1">degree</span><span class="s3">\&quot; </span><span class="s1">format. So expect a range of [0,360]. Some other implementations instead uses radians or a normalized Hue with range [0,1]. Be aware of this when checking values or using other libraries.</span><span class="s3">\n </span><span class="s1">* This implementation uses the D65 constants for 2 degrees. That determines the constants used for the pure white point of the XYZ space of 0.95047, 1.0, 1.08883.</span><span class="s3">\n </span><span class="s1">* {@link https://en.wikipedia.org/wiki/Illuminant_D65}</span><span class="s3">\n </span><span class="s1">* These constants determine how the XYZ, LCH and LAB colors convert to/from RGB.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ColorLCH {</span><span class="s3">\n    </span><span class="s1">constructor(l, c, h) {</span><span class="s3">\n        </span><span class="s1">this.l = l;</span><span class="s3">\n        </span><span class="s1">this.c = c;</span><span class="s3">\n        </span><span class="s1">this.h = h;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Construct a {@link ColorLCH} from a config object.</span><span class="s3">\n     </span><span class="s1">* @param data - the config object</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static fromObject(data) {</span><span class="s3">\n        </span><span class="s1">if (data &amp;&amp; !isNaN(data.l) &amp;&amp; !isNaN(data.c) &amp;&amp; !isNaN(data.h)) {</span><span class="s3">\n            </span><span class="s1">return new ColorLCH(data.l, data.c, data.h);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines if one color is equal to another.</span><span class="s3">\n     </span><span class="s1">* @param rhs - the color to compare</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">equalValue(rhs) {</span><span class="s3">\n        </span><span class="s1">return this.l === rhs.l &amp;&amp; this.c === rhs.c &amp;&amp; this.h === rhs.h;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns a new {@link ColorLCH} rounded to the provided precision</span><span class="s3">\n     </span><span class="s1">* @param precision - the precision to round to</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">roundToPrecision(precision) {</span><span class="s3">\n        </span><span class="s1">return new ColorLCH(roundToPrecisionSmall(this.l, precision), roundToPrecisionSmall(this.c, precision), roundToPrecisionSmall(this.h, precision));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Converts the {@link ColorLCH} to a config object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toObject() {</span><span class="s3">\n        </span><span class="s1">return { l: this.l, c: this.c, h: this.h };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { roundToPrecisionSmall } from </span><span class="s3">\&quot;</span><span class="s1">./math-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* {@link https://en.wikipedia.org/wiki/CIE_1931_color_space | XYZ color space}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* This implementation uses the D65 constants for 2 degrees. That determines the constants used for the pure white point of the XYZ space of 0.95047, 1.0, 1.08883.</span><span class="s3">\n </span><span class="s1">* {@link https://en.wikipedia.org/wiki/Illuminant_D65}</span><span class="s3">\n </span><span class="s1">* These constants determine how the XYZ, LCH and LAB colors convert to/from RGB.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ColorXYZ {</span><span class="s3">\n    </span><span class="s1">constructor(x, y, z) {</span><span class="s3">\n        </span><span class="s1">this.x = x;</span><span class="s3">\n        </span><span class="s1">this.y = y;</span><span class="s3">\n        </span><span class="s1">this.z = z;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Construct a {@link ColorXYZ} from a config object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static fromObject(data) {</span><span class="s3">\n        </span><span class="s1">if (data &amp;&amp; !isNaN(data.x) &amp;&amp; !isNaN(data.y) &amp;&amp; !isNaN(data.z)) {</span><span class="s3">\n            </span><span class="s1">return new ColorXYZ(data.x, data.y, data.z);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines if a color is equal to another</span><span class="s3">\n     </span><span class="s1">* @param rhs - the value to compare</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">equalValue(rhs) {</span><span class="s3">\n        </span><span class="s1">return this.x === rhs.x &amp;&amp; this.y === rhs.y &amp;&amp; this.z === rhs.z;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns a new {@link ColorXYZ} rounded to the provided precision</span><span class="s3">\n     </span><span class="s1">* @param precision - the precision to round to</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">roundToPrecision(precision) {</span><span class="s3">\n        </span><span class="s1">return new ColorXYZ(roundToPrecisionSmall(this.x, precision), roundToPrecisionSmall(this.y, precision), roundToPrecisionSmall(this.z, precision));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the {@link ColorXYZ} formatted as an object.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toObject() {</span><span class="s3">\n        </span><span class="s1">return { x: this.x, y: this.y, z: this.z };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* D65 2 degree white point</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">ColorXYZ.whitePoint = new ColorXYZ(0.95047, 1.0, 1.08883);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { ColorHSL } from </span><span class="s3">\&quot;</span><span class="s1">./color-hsl.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorHSV } from </span><span class="s3">\&quot;</span><span class="s1">./color-hsv.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorLAB } from </span><span class="s3">\&quot;</span><span class="s1">./color-lab.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorLCH } from </span><span class="s3">\&quot;</span><span class="s1">./color-lch.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorRGBA64 } from </span><span class="s3">\&quot;</span><span class="s1">./color-rgba-64.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorXYZ } from </span><span class="s3">\&quot;</span><span class="s1">./color-xyz.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { degreesToRadians, radiansToDegrees } from </span><span class="s3">\&quot;</span><span class="s1">./math-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">// All hue values are in degrees rather than radians or normalized</span><span class="s3">\n</span><span class="s1">// All conversions use the D65 2 degree white point for XYZ</span><span class="s3">\n</span><span class="s1">// Info on conversions and constants used can be found in the following:</span><span class="s3">\n</span><span class="s1">// https://en.wikipedia.org/wiki/CIELAB_color_space</span><span class="s3">\n</span><span class="s1">// https://en.wikipedia.org/wiki/Illuminant_D65</span><span class="s3">\n</span><span class="s1">// https://ninedegreesbelow.com/photography/xyz-rgb.html</span><span class="s3">\n</span><span class="s1">// http://user.engineering.uiowa.edu/~aip/Misc/ColorFAQ.html</span><span class="s3">\n</span><span class="s1">// https://web.stanford.edu/~sujason/ColorBalancing/adaptation.html</span><span class="s3">\n</span><span class="s1">// http://brucelindbloom.com/index.html</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get the luminance of a color in the linear RGB space.</span><span class="s3">\n </span><span class="s1">* This is not the same as the relative luminance in the sRGB space for WCAG contrast calculations. Use rgbToRelativeLuminance instead.</span><span class="s3">\n </span><span class="s1">* @param rgb - The input color</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function rgbToLinearLuminance(rgb) {</span><span class="s3">\n    </span><span class="s1">return rgb.r * 0.2126 + rgb.g * 0.7152 + rgb.b * 0.0722;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Get the relative luminance of a color.</span><span class="s3">\n </span><span class="s1">* Adjusts the color to sRGB space, which is necessary for the WCAG contrast spec.</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored.</span><span class="s3">\n </span><span class="s1">* @param rgb - The input color</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function rgbToRelativeLuminance(rgb) {</span><span class="s3">\n    </span><span class="s1">function luminanceHelper(i) {</span><span class="s3">\n        </span><span class="s1">if (i &lt;= 0.03928) {</span><span class="s3">\n            </span><span class="s1">return i / 12.92;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return Math.pow((i + 0.055) / 1.055, 2.4);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return rgbToLinearLuminance(new ColorRGBA64(luminanceHelper(rgb.r), luminanceHelper(rgb.g), luminanceHelper(rgb.b), 1));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const calculateContrastRatio = (a, b) =&gt; (a + 0.05) / (b + 0.05);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Calculate the contrast ratio between two colors. Uses the formula described by {@link https://www.w3.org/TR/WCAG20-TECHS/G17.html | WCAG 2.0}.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function contrastRatio(a, b) {</span><span class="s3">\n    </span><span class="s1">const luminanceA = rgbToRelativeLuminance(a);</span><span class="s3">\n    </span><span class="s1">const luminanceB = rgbToRelativeLuminance(b);</span><span class="s3">\n    </span><span class="s1">return luminanceA &gt; luminanceB</span><span class="s3">\n        </span><span class="s1">? calculateContrastRatio(luminanceA, luminanceB)</span><span class="s3">\n        </span><span class="s1">: calculateContrastRatio(luminanceB, luminanceA);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function calcChannelOverlay(match, background, overlay) {</span><span class="s3">\n    </span><span class="s1">if (overlay - background === 0) {</span><span class="s3">\n        </span><span class="s1">return 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">return (match - background) / (overlay - background);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function calcRgbOverlay(rgbMatch, rgbBackground, rgbOverlay) {</span><span class="s3">\n    </span><span class="s1">const rChannel = calcChannelOverlay(rgbMatch.r, rgbBackground.r, rgbOverlay.r);</span><span class="s3">\n    </span><span class="s1">const gChannel = calcChannelOverlay(rgbMatch.g, rgbBackground.g, rgbOverlay.g);</span><span class="s3">\n    </span><span class="s1">const bChannel = calcChannelOverlay(rgbMatch.b, rgbBackground.b, rgbOverlay.b);</span><span class="s3">\n    </span><span class="s1">return (rChannel + gChannel + bChannel) / 3;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Calculate an overlay color that uses rgba (rgb + alpha) that matches the appearance of a given solid color when placed on the same background</span><span class="s3">\n </span><span class="s1">* @param rgbMatch - The solid color the overlay should match in appearance when placed over the rgbBackground</span><span class="s3">\n </span><span class="s1">* @param rgbBackground - The background on which the overlay rests</span><span class="s3">\n </span><span class="s1">* @param rgbOverlay - The rgb color of the overlay. Typically this is either pure white or pure black and when not provided will be determined automatically. This color will be used in the returned output</span><span class="s3">\n </span><span class="s1">* @returns The rgba (rgb + alpha) color of the overlay</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function calculateOverlayColor(rgbMatch, rgbBackground, rgbOverlay = null) {</span><span class="s3">\n    </span><span class="s1">let alpha = 0;</span><span class="s3">\n    </span><span class="s1">let overlay = rgbOverlay;</span><span class="s3">\n    </span><span class="s1">if (overlay !== null) {</span><span class="s3">\n        </span><span class="s1">alpha = calcRgbOverlay(rgbMatch, rgbBackground, overlay);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">overlay = new ColorRGBA64(0, 0, 0, 1);</span><span class="s3">\n        </span><span class="s1">alpha = calcRgbOverlay(rgbMatch, rgbBackground, overlay);</span><span class="s3">\n        </span><span class="s1">if (alpha &lt;= 0) {</span><span class="s3">\n            </span><span class="s1">overlay = new ColorRGBA64(1, 1, 1, 1);</span><span class="s3">\n            </span><span class="s1">alpha = calcRgbOverlay(rgbMatch, rgbBackground, overlay);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">alpha = Math.round(alpha * 1000) / 1000;</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(overlay.r, overlay.g, overlay.b, alpha);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorRGBA64} to a {@link @microsoft/fast-colors#ColorHSL}</span><span class="s3">\n </span><span class="s1">* @param rgb - the rgb color to convert</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function rgbToHSL(rgb) {</span><span class="s3">\n    </span><span class="s1">const max = Math.max(rgb.r, rgb.g, rgb.b);</span><span class="s3">\n    </span><span class="s1">const min = Math.min(rgb.r, rgb.g, rgb.b);</span><span class="s3">\n    </span><span class="s1">const delta = max - min;</span><span class="s3">\n    </span><span class="s1">let hue = 0;</span><span class="s3">\n    </span><span class="s1">if (delta !== 0) {</span><span class="s3">\n        </span><span class="s1">if (max === rgb.r) {</span><span class="s3">\n            </span><span class="s1">hue = 60 * (((rgb.g - rgb.b) / delta) % 6);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (max === rgb.g) {</span><span class="s3">\n            </span><span class="s1">hue = 60 * ((rgb.b - rgb.r) / delta + 2);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">hue = 60 * ((rgb.r - rgb.g) / delta + 4);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (hue &lt; 0) {</span><span class="s3">\n        </span><span class="s1">hue += 360;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const lum = (max + min) / 2;</span><span class="s3">\n    </span><span class="s1">let sat = 0;</span><span class="s3">\n    </span><span class="s1">if (delta !== 0) {</span><span class="s3">\n        </span><span class="s1">sat = delta / (1 - Math.abs(2 * lum - 1));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorHSL(hue, sat, lum);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorHSL} to a {@link @microsoft/fast-colors#ColorRGBA64}</span><span class="s3">\n </span><span class="s1">* @param hsl - the hsl color to convert</span><span class="s3">\n </span><span class="s1">* @param alpha - the alpha value</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function hslToRGB(hsl, alpha = 1) {</span><span class="s3">\n    </span><span class="s1">const c = (1 - Math.abs(2 * hsl.l - 1)) * hsl.s;</span><span class="s3">\n    </span><span class="s1">const x = c * (1 - Math.abs(((hsl.h / 60) % 2) - 1));</span><span class="s3">\n    </span><span class="s1">const m = hsl.l - c / 2;</span><span class="s3">\n    </span><span class="s1">let r = 0;</span><span class="s3">\n    </span><span class="s1">let g = 0;</span><span class="s3">\n    </span><span class="s1">let b = 0;</span><span class="s3">\n    </span><span class="s1">if (hsl.h &lt; 60) {</span><span class="s3">\n        </span><span class="s1">r = c;</span><span class="s3">\n        </span><span class="s1">g = x;</span><span class="s3">\n        </span><span class="s1">b = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (hsl.h &lt; 120) {</span><span class="s3">\n        </span><span class="s1">r = x;</span><span class="s3">\n        </span><span class="s1">g = c;</span><span class="s3">\n        </span><span class="s1">b = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (hsl.h &lt; 180) {</span><span class="s3">\n        </span><span class="s1">r = 0;</span><span class="s3">\n        </span><span class="s1">g = c;</span><span class="s3">\n        </span><span class="s1">b = x;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (hsl.h &lt; 240) {</span><span class="s3">\n        </span><span class="s1">r = 0;</span><span class="s3">\n        </span><span class="s1">g = x;</span><span class="s3">\n        </span><span class="s1">b = c;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (hsl.h &lt; 300) {</span><span class="s3">\n        </span><span class="s1">r = x;</span><span class="s3">\n        </span><span class="s1">g = 0;</span><span class="s3">\n        </span><span class="s1">b = c;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (hsl.h &lt; 360) {</span><span class="s3">\n        </span><span class="s1">r = c;</span><span class="s3">\n        </span><span class="s1">g = 0;</span><span class="s3">\n        </span><span class="s1">b = x;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(r + m, g + m, b + m, alpha);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorRGBA64} to a {@link @microsoft/fast-colors#ColorHSV}</span><span class="s3">\n </span><span class="s1">* @param rgb - the rgb color to convert</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function rgbToHSV(rgb) {</span><span class="s3">\n    </span><span class="s1">const max = Math.max(rgb.r, rgb.g, rgb.b);</span><span class="s3">\n    </span><span class="s1">const min = Math.min(rgb.r, rgb.g, rgb.b);</span><span class="s3">\n    </span><span class="s1">const delta = max - min;</span><span class="s3">\n    </span><span class="s1">let hue = 0;</span><span class="s3">\n    </span><span class="s1">if (delta !== 0) {</span><span class="s3">\n        </span><span class="s1">if (max === rgb.r) {</span><span class="s3">\n            </span><span class="s1">hue = 60 * (((rgb.g - rgb.b) / delta) % 6);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (max === rgb.g) {</span><span class="s3">\n            </span><span class="s1">hue = 60 * ((rgb.b - rgb.r) / delta + 2);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">hue = 60 * ((rgb.r - rgb.g) / delta + 4);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (hue &lt; 0) {</span><span class="s3">\n        </span><span class="s1">hue += 360;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let sat = 0;</span><span class="s3">\n    </span><span class="s1">if (max !== 0) {</span><span class="s3">\n        </span><span class="s1">sat = delta / max;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorHSV(hue, sat, max);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorHSV} to a {@link @microsoft/fast-colors#ColorRGBA64}</span><span class="s3">\n </span><span class="s1">* @param hsv - the hsv color to convert</span><span class="s3">\n </span><span class="s1">* @param alpha - the alpha value</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function hsvToRGB(hsv, alpha = 1) {</span><span class="s3">\n    </span><span class="s1">const c = hsv.s * hsv.v;</span><span class="s3">\n    </span><span class="s1">const x = c * (1 - Math.abs(((hsv.h / 60) % 2) - 1));</span><span class="s3">\n    </span><span class="s1">const m = hsv.v - c;</span><span class="s3">\n    </span><span class="s1">let r = 0;</span><span class="s3">\n    </span><span class="s1">let g = 0;</span><span class="s3">\n    </span><span class="s1">let b = 0;</span><span class="s3">\n    </span><span class="s1">if (hsv.h &lt; 60) {</span><span class="s3">\n        </span><span class="s1">r = c;</span><span class="s3">\n        </span><span class="s1">g = x;</span><span class="s3">\n        </span><span class="s1">b = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (hsv.h &lt; 120) {</span><span class="s3">\n        </span><span class="s1">r = x;</span><span class="s3">\n        </span><span class="s1">g = c;</span><span class="s3">\n        </span><span class="s1">b = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (hsv.h &lt; 180) {</span><span class="s3">\n        </span><span class="s1">r = 0;</span><span class="s3">\n        </span><span class="s1">g = c;</span><span class="s3">\n        </span><span class="s1">b = x;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (hsv.h &lt; 240) {</span><span class="s3">\n        </span><span class="s1">r = 0;</span><span class="s3">\n        </span><span class="s1">g = x;</span><span class="s3">\n        </span><span class="s1">b = c;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (hsv.h &lt; 300) {</span><span class="s3">\n        </span><span class="s1">r = x;</span><span class="s3">\n        </span><span class="s1">g = 0;</span><span class="s3">\n        </span><span class="s1">b = c;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (hsv.h &lt; 360) {</span><span class="s3">\n        </span><span class="s1">r = c;</span><span class="s3">\n        </span><span class="s1">g = 0;</span><span class="s3">\n        </span><span class="s1">b = x;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(r + m, g + m, b + m, alpha);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorLCH} to a {@link @microsoft/fast-colors#ColorLAB}</span><span class="s3">\n </span><span class="s1">* @param lch - the lch color to convert</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function lchToLAB(lch) {</span><span class="s3">\n    </span><span class="s1">let a = 0;</span><span class="s3">\n    </span><span class="s1">let b = 0;</span><span class="s3">\n    </span><span class="s1">if (lch.h !== 0) {</span><span class="s3">\n        </span><span class="s1">a = Math.cos(degreesToRadians(lch.h)) * lch.c;</span><span class="s3">\n        </span><span class="s1">b = Math.sin(degreesToRadians(lch.h)) * lch.c;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorLAB(lch.l, a, b);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorLAB} to a {@link @microsoft/fast-colors#ColorLCH}</span><span class="s3">\n </span><span class="s1">* @param lab - the lab color to convert</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The discontinuity in the C parameter at 0 means that floating point errors will often result in values near 0 giving unpredictable results.</span><span class="s3">\n </span><span class="s1">* EG: 0.0000001 gives a very different result than -0.0000001</span><span class="s3">\n </span><span class="s1">* In cases where both a and b are very near zero this function will return an LCH color with an H of 0</span><span class="s3">\n </span><span class="s1">* More info about the atan2 function: {@link https://en.wikipedia.org/wiki/Atan2}</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function labToLCH(lab) {</span><span class="s3">\n    </span><span class="s1">let h = 0;</span><span class="s3">\n    </span><span class="s1">// Because of the discontinuity at 0 if a number is very close to 0 - often due to floating point errors - then</span><span class="s3">\n    </span><span class="s1">// it gives unexpected results. EG: 0.000000000001 gives a different result than 0. So just avoid any number</span><span class="s3">\n    </span><span class="s1">// that has both a and b very close to zero and lump it in with the h = 0 case.</span><span class="s3">\n    </span><span class="s1">if (Math.abs(lab.b) &gt; 0.001 || Math.abs(lab.a) &gt; 0.001) {</span><span class="s3">\n        </span><span class="s1">h = radiansToDegrees(Math.atan2(lab.b, lab.a));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (h &lt; 0) {</span><span class="s3">\n        </span><span class="s1">h += 360;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const c = Math.sqrt(lab.a * lab.a + lab.b * lab.b);</span><span class="s3">\n    </span><span class="s1">return new ColorLCH(lab.l, c, h);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorLAB} to a {@link @microsoft/fast-colors#ColorXYZ}</span><span class="s3">\n </span><span class="s1">* @param lab - the lab color to convert</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function labToXYZ(lab) {</span><span class="s3">\n    </span><span class="s1">const fy = (lab.l + 16) / 116;</span><span class="s3">\n    </span><span class="s1">const fx = fy + lab.a / 500;</span><span class="s3">\n    </span><span class="s1">const fz = fy - lab.b / 200;</span><span class="s3">\n    </span><span class="s1">const xcubed = Math.pow(fx, 3);</span><span class="s3">\n    </span><span class="s1">const ycubed = Math.pow(fy, 3);</span><span class="s3">\n    </span><span class="s1">const zcubed = Math.pow(fz, 3);</span><span class="s3">\n    </span><span class="s1">let x = 0;</span><span class="s3">\n    </span><span class="s1">if (xcubed &gt; ColorLAB.epsilon) {</span><span class="s3">\n        </span><span class="s1">x = xcubed;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">x = (116 * fx - 16) / ColorLAB.kappa;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let y = 0;</span><span class="s3">\n    </span><span class="s1">if (lab.l &gt; ColorLAB.epsilon * ColorLAB.kappa) {</span><span class="s3">\n        </span><span class="s1">y = ycubed;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">y = lab.l / ColorLAB.kappa;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let z = 0;</span><span class="s3">\n    </span><span class="s1">if (zcubed &gt; ColorLAB.epsilon) {</span><span class="s3">\n        </span><span class="s1">z = zcubed;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">z = (116 * fz - 16) / ColorLAB.kappa;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">x = ColorXYZ.whitePoint.x * x;</span><span class="s3">\n    </span><span class="s1">y = ColorXYZ.whitePoint.y * y;</span><span class="s3">\n    </span><span class="s1">z = ColorXYZ.whitePoint.z * z;</span><span class="s3">\n    </span><span class="s1">return new ColorXYZ(x, y, z);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorXYZ} to a {@link @microsoft/fast-colors#ColorLAB}</span><span class="s3">\n </span><span class="s1">* @param xyz - the xyz color to convert</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function xyzToLAB(xyz) {</span><span class="s3">\n    </span><span class="s1">function xyzToLABHelper(i) {</span><span class="s3">\n        </span><span class="s1">if (i &gt; ColorLAB.epsilon) {</span><span class="s3">\n            </span><span class="s1">return Math.pow(i, 1 / 3);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return (ColorLAB.kappa * i + 16) / 116;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const x = xyzToLABHelper(xyz.x / ColorXYZ.whitePoint.x);</span><span class="s3">\n    </span><span class="s1">const y = xyzToLABHelper(xyz.y / ColorXYZ.whitePoint.y);</span><span class="s3">\n    </span><span class="s1">const z = xyzToLABHelper(xyz.z / ColorXYZ.whitePoint.z);</span><span class="s3">\n    </span><span class="s1">const l = 116 * y - 16;</span><span class="s3">\n    </span><span class="s1">const a = 500 * (x - y);</span><span class="s3">\n    </span><span class="s1">const b = 200 * (y - z);</span><span class="s3">\n    </span><span class="s1">return new ColorLAB(l, a, b);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorRGBA64} to a {@link @microsoft/fast-colors#ColorXYZ}</span><span class="s3">\n </span><span class="s1">* @param rgb - the rgb color to convert</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function rgbToXYZ(rgb) {</span><span class="s3">\n    </span><span class="s1">function rgbToXYZHelper(i) {</span><span class="s3">\n        </span><span class="s1">if (i &lt;= 0.04045) {</span><span class="s3">\n            </span><span class="s1">return i / 12.92;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return Math.pow((i + 0.055) / 1.055, 2.4);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const r = rgbToXYZHelper(rgb.r);</span><span class="s3">\n    </span><span class="s1">const g = rgbToXYZHelper(rgb.g);</span><span class="s3">\n    </span><span class="s1">const b = rgbToXYZHelper(rgb.b);</span><span class="s3">\n    </span><span class="s1">const x = r * 0.4124564 + g * 0.3575761 + b * 0.1804375;</span><span class="s3">\n    </span><span class="s1">const y = r * 0.2126729 + g * 0.7151522 + b * 0.072175;</span><span class="s3">\n    </span><span class="s1">const z = r * 0.0193339 + g * 0.119192 + b * 0.9503041;</span><span class="s3">\n    </span><span class="s1">return new ColorXYZ(x, y, z);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorXYZ} to a {@link @microsoft/fast-colors#ColorRGBA64}</span><span class="s3">\n </span><span class="s1">* @param xyz - the xyz color to convert</span><span class="s3">\n </span><span class="s1">* @param alpha - the alpha value</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Note that the xyz color space is significantly larger than sRGB. As such, this can return colors rgb values greater than 1 or less than 0</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function xyzToRGB(xyz, alpha = 1) {</span><span class="s3">\n    </span><span class="s1">function xyzToRGBHelper(i) {</span><span class="s3">\n        </span><span class="s1">if (i &lt;= 0.0031308) {</span><span class="s3">\n            </span><span class="s1">return i * 12.92;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return 1.055 * Math.pow(i, 1 / 2.4) - 0.055;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const r = xyzToRGBHelper(xyz.x * 3.2404542 - xyz.y * 1.5371385 - xyz.z * 0.4985314);</span><span class="s3">\n    </span><span class="s1">const g = xyzToRGBHelper(xyz.x * -0.969266 + xyz.y * 1.8760108 + xyz.z * 0.041556);</span><span class="s3">\n    </span><span class="s1">const b = xyzToRGBHelper(xyz.x * 0.0556434 - xyz.y * 0.2040259 + xyz.z * 1.0572252);</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(r, g, b, alpha);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorRGBA64} to a {@link @microsoft/fast-colors#ColorLAB}</span><span class="s3">\n </span><span class="s1">* @param rgb - the rgb color to convert</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function rgbToLAB(rgb) {</span><span class="s3">\n    </span><span class="s1">return xyzToLAB(rgbToXYZ(rgb));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a {@link @microsoft/fast-colors#ColorLAB} to a {@link @microsoft/fast-colors#ColorRGBA64}</span><span class="s3">\n </span><span class="s1">* @param lab - the LAB color to convert</span><span class="s3">\n </span><span class="s1">* @param alpha - the alpha value</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Note that the xyz color space (which the conversion from LAB uses) is significantly larger than sRGB. As such, this can return colors rgb values greater than 1 or less than 0</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function labToRGB(lab, alpha = 1) {</span><span class="s3">\n    </span><span class="s1">return xyzToRGB(labToXYZ(lab), alpha);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Convert a {@link @microsoft/fast-colors#ColorRGBA64} to a {@link @microsoft/fast-colors#ColorLCH}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param rgb - the rgb color to convert</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function rgbToLCH(rgb) {</span><span class="s3">\n    </span><span class="s1">return labToLCH(rgbToLAB(rgb));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Convert a {@link @microsoft/fast-colors#ColorLCH} to a {@link @microsoft/fast-colors#ColorRGBA64}</span><span class="s3">\n </span><span class="s1">* @param lch - the LCH color to convert</span><span class="s3">\n </span><span class="s1">* @param alpha - the alpha value</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function lchToRGB(lch, alpha = 1) {</span><span class="s3">\n    </span><span class="s1">return labToRGB(lchToLAB(lch), alpha);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a color temperature to a {@link @microsoft/fast-colors#ColorRGBA64}</span><span class="s3">\n </span><span class="s1">* @param tempKelvin - the temperature to convert</span><span class="s3">\n </span><span class="s1">* @param alpha - the alpha value</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function temperatureToRGB(tempKelvin, alpha = 1) {</span><span class="s3">\n    </span><span class="s1">// The constants I could find assumed a decimal range of [0,255] for each channel. Just going to put a /255.0 at the end</span><span class="s3">\n    </span><span class="s1">let r = 0;</span><span class="s3">\n    </span><span class="s1">let g = 0;</span><span class="s3">\n    </span><span class="s1">let b = 0;</span><span class="s3">\n    </span><span class="s1">if (tempKelvin &lt;= 1000) {</span><span class="s3">\n        </span><span class="s1">tempKelvin = 1000;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (tempKelvin &gt;= 40000) {</span><span class="s3">\n        </span><span class="s1">tempKelvin = 40000;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (tempKelvin &lt; 6600.0) {</span><span class="s3">\n        </span><span class="s1">r = 255.0;</span><span class="s3">\n        </span><span class="s1">g = tempKelvin / 100.0 - 2.0;</span><span class="s3">\n        </span><span class="s1">g =</span><span class="s3">\n            </span><span class="s1">-155.25485562709179 -</span><span class="s3">\n                </span><span class="s1">0.44596950469579133 * g +</span><span class="s3">\n                </span><span class="s1">104.49216199393888 * Math.log(g);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">r = tempKelvin / 100.0 - 55.0;</span><span class="s3">\n        </span><span class="s1">r = 351.97690566805693 + 0.114206453784165 * r - 40.25366309332127 * Math.log(r);</span><span class="s3">\n        </span><span class="s1">g = tempKelvin / 100.0 - 50.0;</span><span class="s3">\n        </span><span class="s1">g = 325.4494125711974 + 0.07943456536662342 * g - 28.0852963507957 * Math.log(g);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (tempKelvin &gt;= 6600.0) {</span><span class="s3">\n        </span><span class="s1">b = 255.0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (tempKelvin &lt; 2000.0) {</span><span class="s3">\n        </span><span class="s1">b = 0.0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">b = tempKelvin / 100.0 - 10;</span><span class="s3">\n        </span><span class="s1">b =</span><span class="s3">\n            </span><span class="s1">-254.76935184120902 +</span><span class="s3">\n                </span><span class="s1">0.8274096064007395 * b +</span><span class="s3">\n                </span><span class="s1">115.67994401066147 * Math.log(b);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(r / 255, g / 255, b / 255, alpha);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Convert a rgb color to a color temperature</span><span class="s3">\n </span><span class="s1">* @param rgb - the color to convert</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function rgbToTemperature(rgb) {</span><span class="s3">\n    </span><span class="s1">let t = 0;</span><span class="s3">\n    </span><span class="s1">let min = 1000;</span><span class="s3">\n    </span><span class="s1">let max = 40000;</span><span class="s3">\n    </span><span class="s1">while (max - min &gt; 0.4) {</span><span class="s3">\n        </span><span class="s1">t = (max + min) / 2.0;</span><span class="s3">\n        </span><span class="s1">const testColor = temperatureToRGB(t);</span><span class="s3">\n        </span><span class="s1">if (testColor.b / testColor.r &gt;= rgb.b / rgb.r) {</span><span class="s3">\n            </span><span class="s1">max = t;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">min = t;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return Math.round(t);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function contrast(a, b) {</span><span class="s3">\n    </span><span class="s1">const L1 = a.relativeLuminance &gt; b.relativeLuminance ? a : b;</span><span class="s3">\n    </span><span class="s1">const L2 = a.relativeLuminance &gt; b.relativeLuminance ? b : a;</span><span class="s3">\n    </span><span class="s1">return (L1.relativeLuminance + 0.05) / (L2.relativeLuminance + 0.05);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { ColorRGBA64, rgbToRelativeLuminance } from '@microsoft/fast-colors';</span><span class="s3">\n</span><span class="s1">import { contrast } from './utilities/relative-luminance.js';</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const SwatchRGB = Object.freeze({</span><span class="s3">\n    </span><span class="s1">create(r, g, b) {</span><span class="s3">\n        </span><span class="s1">return new SwatchRGBImpl(r, g, b);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">from(obj) {</span><span class="s3">\n        </span><span class="s1">return new SwatchRGBImpl(obj.r, obj.g, obj.b);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Runtime test for an objects conformance with the SwatchRGB interface.</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isSwatchRGB(value) {</span><span class="s3">\n    </span><span class="s1">const test = {</span><span class="s3">\n        </span><span class="s1">r: 0,</span><span class="s3">\n        </span><span class="s1">g: 0,</span><span class="s3">\n        </span><span class="s1">b: 0,</span><span class="s3">\n        </span><span class="s1">toColorString: () =&gt; '',</span><span class="s3">\n        </span><span class="s1">contrast: () =&gt; 0,</span><span class="s3">\n        </span><span class="s1">relativeLuminance: 0</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">for (const key in test) {</span><span class="s3">\n        </span><span class="s1">// @ts-expect-error swatch has no index</span><span class="s3">\n        </span><span class="s1">if (typeof test[key] !== typeof value[key]) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A RGB implementation of {@link Swatch}</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class SwatchRGBImpl extends ColorRGBA64 {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param red - Red channel expressed as a number between 0 and 1</span><span class="s3">\n     </span><span class="s1">* @param green - Green channel expressed as a number between 0 and 1</span><span class="s3">\n     </span><span class="s1">* @param blue - Blue channel expressed as a number between 0 and 1</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(red, green, blue) {</span><span class="s3">\n        </span><span class="s1">super(red, green, blue, 1);</span><span class="s3">\n        </span><span class="s1">this.toColorString = this.toStringHexRGB;</span><span class="s3">\n        </span><span class="s1">this.contrast = contrast.bind(null, this);</span><span class="s3">\n        </span><span class="s1">this.createCSS = this.toColorString;</span><span class="s3">\n        </span><span class="s1">this.relativeLuminance = rgbToRelativeLuminance(this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">static fromObject(obj) {</span><span class="s3">\n        </span><span class="s1">return new SwatchRGBImpl(obj.r, obj.g, obj.b);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { SwatchRGB } from '../swatch.js';</span><span class="s3">\n</span><span class="s1">export function baseLayerLuminanceSwatch(luminance) {</span><span class="s3">\n    </span><span class="s1">return SwatchRGB.create(luminance, luminance, luminance);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Recommended values for light and dark mode for {@link @microsoft/fast-components#baseLayerLuminance}.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const StandardLuminance = {</span><span class="s3">\n    </span><span class="s1">LightMode: 1,</span><span class="s3">\n    </span><span class="s1">DarkMode: 0.23</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/*</span><span class="s3">\n </span><span class="s1">* A color is in </span><span class="s3">\&quot;</span><span class="s1">dark</span><span class="s3">\&quot; </span><span class="s1">if there is more contrast between #000000 and a reference</span><span class="s3">\n </span><span class="s1">* color than #FFFFFF and the reference color. That threshold can be expressed as a relative luminance</span><span class="s3">\n </span><span class="s1">* using the contrast formula as (1 + 0.5) / (R + 0.05) === (R + 0.05) / (0 + 0.05),</span><span class="s3">\n </span><span class="s1">* which reduces to the following, where 'R' is the relative luminance of the reference color</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const target = (-0.1 + Math.sqrt(0.21)) / 2;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Determines if a color should be considered Dark Mode</span><span class="s3">\n </span><span class="s1">* @param color - The color to check to mode of</span><span class="s3">\n </span><span class="s1">* @returns boolean</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isDark(color) {</span><span class="s3">\n    </span><span class="s1">return color.relativeLuminance &lt;= target;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/*! *****************************************************************************</span><span class="s3">\r\n</span><span class="s1">Copyright (c) Microsoft Corporation.</span><span class="s3">\r\n\r\n</span><span class="s1">Permission to use, copy, modify, and/or distribute this software for any</span><span class="s3">\r\n</span><span class="s1">purpose with or without fee is hereby granted.</span><span class="s3">\r\n\r\n</span><span class="s1">THE SOFTWARE IS PROVIDED </span><span class="s3">\&quot;</span><span class="s1">AS IS</span><span class="s3">\&quot; </span><span class="s1">AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH</span><span class="s3">\r\n</span><span class="s1">REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY</span><span class="s3">\r\n</span><span class="s1">AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,</span><span class="s3">\r\n</span><span class="s1">INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM</span><span class="s3">\r\n</span><span class="s1">LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR</span><span class="s3">\r\n</span><span class="s1">OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR</span><span class="s3">\r\n</span><span class="s1">PERFORMANCE OF THIS SOFTWARE.</span><span class="s3">\r\n</span><span class="s1">***************************************************************************** */</span><span class="s3">\r\n</span><span class="s1">/* global Reflect, Promise */</span><span class="s3">\r\n\r\n</span><span class="s1">var extendStatics = function(d, b) {</span><span class="s3">\r\n    </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\r\n        </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\r\n        </span><span class="s1">function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };</span><span class="s3">\r\n    </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\r\n</span><span class="s1">};</span><span class="s3">\r\n\r\n</span><span class="s1">export function __extends(d, b) {</span><span class="s3">\r\n    </span><span class="s1">extendStatics(d, b);</span><span class="s3">\r\n    </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\r\n    </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export var __assign = function() {</span><span class="s3">\r\n    </span><span class="s1">__assign = Object.assign || function __assign(t) {</span><span class="s3">\r\n        </span><span class="s1">for (var s, i = 1, n = arguments.length; i &lt; n; i++) {</span><span class="s3">\r\n            </span><span class="s1">s = arguments[i];</span><span class="s3">\r\n            </span><span class="s1">for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];</span><span class="s3">\r\n        </span><span class="s1">}</span><span class="s3">\r\n        </span><span class="s1">return t;</span><span class="s3">\r\n    </span><span class="s1">}</span><span class="s3">\r\n    </span><span class="s1">return __assign.apply(this, arguments);</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __rest(s, e) {</span><span class="s3">\r\n    </span><span class="s1">var t = {};</span><span class="s3">\r\n    </span><span class="s1">for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) &amp;&amp; e.indexOf(p) &lt; 0)</span><span class="s3">\r\n        </span><span class="s1">t[p] = s[p];</span><span class="s3">\r\n    </span><span class="s1">if (s != null &amp;&amp; typeof Object.getOwnPropertySymbols === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\r\n        </span><span class="s1">for (var i = 0, p = Object.getOwnPropertySymbols(s); i &lt; p.length; i++) {</span><span class="s3">\r\n            </span><span class="s1">if (e.indexOf(p[i]) &lt; 0 &amp;&amp; Object.prototype.propertyIsEnumerable.call(s, p[i]))</span><span class="s3">\r\n                </span><span class="s1">t[p[i]] = s[p[i]];</span><span class="s3">\r\n        </span><span class="s1">}</span><span class="s3">\r\n    </span><span class="s1">return t;</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __decorate(decorators, target, key, desc) {</span><span class="s3">\r\n    </span><span class="s1">var c = arguments.length, r = c &lt; 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;</span><span class="s3">\r\n    </span><span class="s1">if (typeof Reflect === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof Reflect.decorate === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) r = Reflect.decorate(decorators, target, key, desc);</span><span class="s3">\r\n    </span><span class="s1">else for (var i = decorators.length - 1; i &gt;= 0; i--) if (d = decorators[i]) r = (c &lt; 3 ? d(r) : c &gt; 3 ? d(target, key, r) : d(target, key)) || r;</span><span class="s3">\r\n    </span><span class="s1">return c &gt; 3 &amp;&amp; r &amp;&amp; Object.defineProperty(target, key, r), r;</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __param(paramIndex, decorator) {</span><span class="s3">\r\n    </span><span class="s1">return function (target, key) { decorator(target, key, paramIndex); }</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __metadata(metadataKey, metadataValue) {</span><span class="s3">\r\n    </span><span class="s1">if (typeof Reflect === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof Reflect.metadata === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) return Reflect.metadata(metadataKey, metadataValue);</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __awaiter(thisArg, _arguments, P, generator) {</span><span class="s3">\r\n    </span><span class="s1">function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }</span><span class="s3">\r\n    </span><span class="s1">return new (P || (P = Promise))(function (resolve, reject) {</span><span class="s3">\r\n        </span><span class="s1">function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }</span><span class="s3">\r\n        </span><span class="s1">function rejected(value) { try { step(generator[</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">](value)); } catch (e) { reject(e); } }</span><span class="s3">\r\n        </span><span class="s1">function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }</span><span class="s3">\r\n        </span><span class="s1">step((generator = generator.apply(thisArg, _arguments || [])).next());</span><span class="s3">\r\n    </span><span class="s1">});</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __generator(thisArg, body) {</span><span class="s3">\r\n    </span><span class="s1">var _ = { label: 0, sent: function() { if (t[0] &amp; 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;</span><span class="s3">\r\n    </span><span class="s1">return g = { next: verb(0), </span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">: verb(1), </span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">: verb(2) }, typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; (g[Symbol.iterator] = function() { return this; }), g;</span><span class="s3">\r\n    </span><span class="s1">function verb(n) { return function (v) { return step([n, v]); }; }</span><span class="s3">\r\n    </span><span class="s1">function step(op) {</span><span class="s3">\r\n        </span><span class="s1">if (f) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Generator is already executing.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\r\n        </span><span class="s1">while (_) try {</span><span class="s3">\r\n            </span><span class="s1">if (f = 1, y &amp;&amp; (t = op[0] &amp; 2 ? y[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">] : op[0] ? y[</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">] || ((t = y[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">]) &amp;&amp; t.call(y), 0) : y.next) &amp;&amp; !(t = t.call(y, op[1])).done) return t;</span><span class="s3">\r\n            </span><span class="s1">if (y = 0, t) op = [op[0] &amp; 2, t.value];</span><span class="s3">\r\n            </span><span class="s1">switch (op[0]) {</span><span class="s3">\r\n                </span><span class="s1">case 0: case 1: t = op; break;</span><span class="s3">\r\n                </span><span class="s1">case 4: _.label++; return { value: op[1], done: false };</span><span class="s3">\r\n                </span><span class="s1">case 5: _.label++; y = op[1]; op = [0]; continue;</span><span class="s3">\r\n                </span><span class="s1">case 7: op = _.ops.pop(); _.trys.pop(); continue;</span><span class="s3">\r\n                </span><span class="s1">default:</span><span class="s3">\r\n                    </span><span class="s1">if (!(t = _.trys, t = t.length &gt; 0 &amp;&amp; t[t.length - 1]) &amp;&amp; (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }</span><span class="s3">\r\n                    </span><span class="s1">if (op[0] === 3 &amp;&amp; (!t || (op[1] &gt; t[0] &amp;&amp; op[1] &lt; t[3]))) { _.label = op[1]; break; }</span><span class="s3">\r\n                    </span><span class="s1">if (op[0] === 6 &amp;&amp; _.label &lt; t[1]) { _.label = t[1]; t = op; break; }</span><span class="s3">\r\n                    </span><span class="s1">if (t &amp;&amp; _.label &lt; t[2]) { _.label = t[2]; _.ops.push(op); break; }</span><span class="s3">\r\n                    </span><span class="s1">if (t[2]) _.ops.pop();</span><span class="s3">\r\n                    </span><span class="s1">_.trys.pop(); continue;</span><span class="s3">\r\n            </span><span class="s1">}</span><span class="s3">\r\n            </span><span class="s1">op = body.call(thisArg, _);</span><span class="s3">\r\n        </span><span class="s1">} catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }</span><span class="s3">\r\n        </span><span class="s1">if (op[0] &amp; 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };</span><span class="s3">\r\n    </span><span class="s1">}</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __createBinding(o, m, k, k2) {</span><span class="s3">\r\n    </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\r\n    </span><span class="s1">o[k2] = m[k];</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __exportStar(m, exports) {</span><span class="s3">\r\n    </span><span class="s1">for (var p in m) if (p !== </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; !exports.hasOwnProperty(p)) exports[p] = m[p];</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __values(o) {</span><span class="s3">\r\n    </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\r\n    </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\r\n    </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\r\n        </span><span class="s1">next: function () {</span><span class="s3">\r\n            </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\r\n            </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\r\n        </span><span class="s1">}</span><span class="s3">\r\n    </span><span class="s1">};</span><span class="s3">\r\n    </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __read(o, n) {</span><span class="s3">\r\n    </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\r\n    </span><span class="s1">if (!m) return o;</span><span class="s3">\r\n    </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\r\n    </span><span class="s1">try {</span><span class="s3">\r\n        </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\r\n    </span><span class="s1">}</span><span class="s3">\r\n    </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\r\n    </span><span class="s1">finally {</span><span class="s3">\r\n        </span><span class="s1">try {</span><span class="s3">\r\n            </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\r\n        </span><span class="s1">}</span><span class="s3">\r\n        </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\r\n    </span><span class="s1">}</span><span class="s3">\r\n    </span><span class="s1">return ar;</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __spread() {</span><span class="s3">\r\n    </span><span class="s1">for (var ar = [], i = 0; i &lt; arguments.length; i++)</span><span class="s3">\r\n        </span><span class="s1">ar = ar.concat(__read(arguments[i]));</span><span class="s3">\r\n    </span><span class="s1">return ar;</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __spreadArrays() {</span><span class="s3">\r\n    </span><span class="s1">for (var s = 0, i = 0, il = arguments.length; i &lt; il; i++) s += arguments[i].length;</span><span class="s3">\r\n    </span><span class="s1">for (var r = Array(s), k = 0, i = 0; i &lt; il; i++)</span><span class="s3">\r\n        </span><span class="s1">for (var a = arguments[i], j = 0, jl = a.length; j &lt; jl; j++, k++)</span><span class="s3">\r\n            </span><span class="s1">r[k] = a[j];</span><span class="s3">\r\n    </span><span class="s1">return r;</span><span class="s3">\r\n</span><span class="s1">};</span><span class="s3">\r\n\r\n</span><span class="s1">export function __await(v) {</span><span class="s3">\r\n    </span><span class="s1">return this instanceof __await ? (this.v = v, this) : new __await(v);</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __asyncGenerator(thisArg, _arguments, generator) {</span><span class="s3">\r\n    </span><span class="s1">if (!Symbol.asyncIterator) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Symbol.asyncIterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\r\n    </span><span class="s1">var g = generator.apply(thisArg, _arguments || []), i, q = [];</span><span class="s3">\r\n    </span><span class="s1">return i = {}, verb(</span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot;</span><span class="s1">), verb(</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">), verb(</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">), i[Symbol.asyncIterator] = function () { return this; }, i;</span><span class="s3">\r\n    </span><span class="s1">function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) &gt; 1 || resume(n, v); }); }; }</span><span class="s3">\r\n    </span><span class="s1">function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }</span><span class="s3">\r\n    </span><span class="s1">function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }</span><span class="s3">\r\n    </span><span class="s1">function fulfill(value) { resume(</span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot;</span><span class="s1">, value); }</span><span class="s3">\r\n    </span><span class="s1">function reject(value) { resume(</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">, value); }</span><span class="s3">\r\n    </span><span class="s1">function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __asyncDelegator(o) {</span><span class="s3">\r\n    </span><span class="s1">var i, p;</span><span class="s3">\r\n    </span><span class="s1">return i = {}, verb(</span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot;</span><span class="s1">), verb(</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">, function (e) { throw e; }), verb(</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">), i[Symbol.iterator] = function () { return this; }, i;</span><span class="s3">\r\n    </span><span class="s1">function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === </span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot; </span><span class="s1">} : f ? f(v) : v; } : f; }</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __asyncValues(o) {</span><span class="s3">\r\n    </span><span class="s1">if (!Symbol.asyncIterator) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Symbol.asyncIterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\r\n    </span><span class="s1">var m = o[Symbol.asyncIterator], i;</span><span class="s3">\r\n    </span><span class="s1">return m ? m.call(o) : (o = typeof __values === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? __values(o) : o[Symbol.iterator](), i = {}, verb(</span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot;</span><span class="s1">), verb(</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">), verb(</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">), i[Symbol.asyncIterator] = function () { return this; }, i);</span><span class="s3">\r\n    </span><span class="s1">function verb(n) { i[n] = o[n] &amp;&amp; function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }</span><span class="s3">\r\n    </span><span class="s1">function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __makeTemplateObject(cooked, raw) {</span><span class="s3">\r\n    </span><span class="s1">if (Object.defineProperty) { Object.defineProperty(cooked, </span><span class="s3">\&quot;</span><span class="s1">raw</span><span class="s3">\&quot;</span><span class="s1">, { value: raw }); } else { cooked.raw = raw; }</span><span class="s3">\r\n    </span><span class="s1">return cooked;</span><span class="s3">\r\n</span><span class="s1">};</span><span class="s3">\r\n\r\n</span><span class="s1">export function __importStar(mod) {</span><span class="s3">\r\n    </span><span class="s1">if (mod &amp;&amp; mod.__esModule) return mod;</span><span class="s3">\r\n    </span><span class="s1">var result = {};</span><span class="s3">\r\n    </span><span class="s1">if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];</span><span class="s3">\r\n    </span><span class="s1">result.default = mod;</span><span class="s3">\r\n    </span><span class="s1">return result;</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __importDefault(mod) {</span><span class="s3">\r\n    </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { default: mod };</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __classPrivateFieldGet(receiver, privateMap) {</span><span class="s3">\r\n    </span><span class="s1">if (!privateMap.has(receiver)) {</span><span class="s3">\r\n        </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">attempted to get private field on non-instance</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\r\n    </span><span class="s1">}</span><span class="s3">\r\n    </span><span class="s1">return privateMap.get(receiver);</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n\r\n</span><span class="s1">export function __classPrivateFieldSet(receiver, privateMap, value) {</span><span class="s3">\r\n    </span><span class="s1">if (!privateMap.has(receiver)) {</span><span class="s3">\r\n        </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">attempted to set private field on non-instance</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\r\n    </span><span class="s1">}</span><span class="s3">\r\n    </span><span class="s1">privateMap.set(receiver, value);</span><span class="s3">\r\n    </span><span class="s1">return value;</span><span class="s3">\r\n</span><span class="s1">}</span><span class="s3">\r\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Directive for use in {@link css}.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class CSSDirective {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a CSS fragment to interpolate into the CSS document.</span><span class="s3">\n     </span><span class="s1">* @returns - the string to interpolate into CSS</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createCSS() {</span><span class="s3">\n        </span><span class="s1">return </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a behavior to bind to the host element.</span><span class="s3">\n     </span><span class="s1">* @returns - the behavior to bind to the host element, or undefined.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createBehavior() {</span><span class="s3">\n        </span><span class="s1">return undefined;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* A reference to globalThis, with support</span><span class="s3">\n </span><span class="s1">* for browsers that don't yet support the spec.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const $global = (function () {</span><span class="s3">\n    </span><span class="s1">if (typeof globalThis !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// We're running in a modern environment.</span><span class="s3">\n        </span><span class="s1">return globalThis;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (typeof global !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// We're running in NodeJS</span><span class="s3">\n        </span><span class="s1">return global;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (typeof self !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// We're running in a worker.</span><span class="s3">\n        </span><span class="s1">return self;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (typeof window !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">// We're running in the browser's main thread.</span><span class="s3">\n        </span><span class="s1">return window;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">// Hopefully we never get here...</span><span class="s3">\n        </span><span class="s1">// Not all environments allow eval and Function. Use only as a last resort:</span><span class="s3">\n        </span><span class="s1">// eslint-disable-next-line no-new-func</span><span class="s3">\n        </span><span class="s1">return new Function(</span><span class="s3">\&quot;</span><span class="s1">return this</span><span class="s3">\&quot;</span><span class="s1">)();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (_a) {</span><span class="s3">\n        </span><span class="s1">// If all fails, give up and create an object.</span><span class="s3">\n        </span><span class="s1">// eslint-disable-next-line @typescript-eslint/consistent-type-assertions</span><span class="s3">\n        </span><span class="s1">return {};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">// API-only Polyfill for trustedTypes</span><span class="s3">\n</span><span class="s1">if ($global.trustedTypes === void 0) {</span><span class="s3">\n    </span><span class="s1">$global.trustedTypes = { createPolicy: (n, r) =&gt; r };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const propConfig = {</span><span class="s3">\n    </span><span class="s1">configurable: false,</span><span class="s3">\n    </span><span class="s1">enumerable: false,</span><span class="s3">\n    </span><span class="s1">writable: false,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">if ($global.FAST === void 0) {</span><span class="s3">\n    </span><span class="s1">Reflect.defineProperty($global, </span><span class="s3">\&quot;</span><span class="s1">FAST</span><span class="s3">\&quot;</span><span class="s1">, Object.assign({ value: Object.create(null) }, propConfig));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The FAST global.</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const FAST = $global.FAST;</span><span class="s3">\n</span><span class="s1">if (FAST.getById === void 0) {</span><span class="s3">\n    </span><span class="s1">const storage = Object.create(null);</span><span class="s3">\n    </span><span class="s1">Reflect.defineProperty(FAST, </span><span class="s3">\&quot;</span><span class="s1">getById</span><span class="s3">\&quot;</span><span class="s1">, Object.assign({ value(id, initialize) {</span><span class="s3">\n            </span><span class="s1">let found = storage[id];</span><span class="s3">\n            </span><span class="s1">if (found === void 0) {</span><span class="s3">\n                </span><span class="s1">found = initialize ? (storage[id] = initialize()) : null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return found;</span><span class="s3">\n        </span><span class="s1">} }, propConfig));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A readonly, empty array.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Typically returned by APIs that return arrays when there are</span><span class="s3">\n </span><span class="s1">* no actual items to return.</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const emptyArray = Object.freeze([]);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a function capable of locating metadata associated with a type.</span><span class="s3">\n </span><span class="s1">* @returns A metadata locator function.</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function createMetadataLocator() {</span><span class="s3">\n    </span><span class="s1">const metadataLookup = new WeakMap();</span><span class="s3">\n    </span><span class="s1">return function (target) {</span><span class="s3">\n        </span><span class="s1">let metadata = metadataLookup.get(target);</span><span class="s3">\n        </span><span class="s1">if (metadata === void 0) {</span><span class="s3">\n            </span><span class="s1">let currentTarget = Reflect.getPrototypeOf(target);</span><span class="s3">\n            </span><span class="s1">while (metadata === void 0 &amp;&amp; currentTarget !== null) {</span><span class="s3">\n                </span><span class="s1">metadata = metadataLookup.get(currentTarget);</span><span class="s3">\n                </span><span class="s1">currentTarget = Reflect.getPrototypeOf(currentTarget);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">metadata = metadata === void 0 ? [] : metadata.slice(0);</span><span class="s3">\n            </span><span class="s1">metadataLookup.set(target, metadata);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return metadata;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { $global } from </span><span class="s3">\&quot;</span><span class="s1">./platform.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const updateQueue = $global.FAST.getById(1 /* updateQueue */, () =&gt; {</span><span class="s3">\n    </span><span class="s1">const tasks = [];</span><span class="s3">\n    </span><span class="s1">const pendingErrors = [];</span><span class="s3">\n    </span><span class="s1">function throwFirstError() {</span><span class="s3">\n        </span><span class="s1">if (pendingErrors.length) {</span><span class="s3">\n            </span><span class="s1">throw pendingErrors.shift();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">function tryRunTask(task) {</span><span class="s3">\n        </span><span class="s1">try {</span><span class="s3">\n            </span><span class="s1">task.call();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">catch (error) {</span><span class="s3">\n            </span><span class="s1">pendingErrors.push(error);</span><span class="s3">\n            </span><span class="s1">setTimeout(throwFirstError, 0);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">function process() {</span><span class="s3">\n        </span><span class="s1">const capacity = 1024;</span><span class="s3">\n        </span><span class="s1">let index = 0;</span><span class="s3">\n        </span><span class="s1">while (index &lt; tasks.length) {</span><span class="s3">\n            </span><span class="s1">tryRunTask(tasks[index]);</span><span class="s3">\n            </span><span class="s1">index++;</span><span class="s3">\n            </span><span class="s1">// Prevent leaking memory for long chains of recursive calls to `DOM.queueUpdate`.</span><span class="s3">\n            </span><span class="s1">// If we call `DOM.queueUpdate` within a task scheduled by `DOM.queueUpdate`, the queue will</span><span class="s3">\n            </span><span class="s1">// grow, but to avoid an O(n) walk for every task we execute, we don't</span><span class="s3">\n            </span><span class="s1">// shift tasks off the queue after they have been executed.</span><span class="s3">\n            </span><span class="s1">// Instead, we periodically shift 1024 tasks off the queue.</span><span class="s3">\n            </span><span class="s1">if (index &gt; capacity) {</span><span class="s3">\n                </span><span class="s1">// Manually shift all values starting at the index back to the</span><span class="s3">\n                </span><span class="s1">// beginning of the queue.</span><span class="s3">\n                </span><span class="s1">for (let scan = 0, newLength = tasks.length - index; scan &lt; newLength; scan++) {</span><span class="s3">\n                    </span><span class="s1">tasks[scan] = tasks[scan + index];</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">tasks.length -= index;</span><span class="s3">\n                </span><span class="s1">index = 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">tasks.length = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">function enqueue(callable) {</span><span class="s3">\n        </span><span class="s1">if (tasks.length &lt; 1) {</span><span class="s3">\n            </span><span class="s1">$global.requestAnimationFrame(process);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">tasks.push(callable);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return Object.freeze({</span><span class="s3">\n        </span><span class="s1">enqueue,</span><span class="s3">\n        </span><span class="s1">process,</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/* eslint-disable */</span><span class="s3">\n</span><span class="s1">const fastHTMLPolicy = $global.trustedTypes.createPolicy(</span><span class="s3">\&quot;</span><span class="s1">fast-html</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n    </span><span class="s1">createHTML: html =&gt; html,</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/* eslint-enable */</span><span class="s3">\n</span><span class="s1">let htmlPolicy = fastHTMLPolicy;</span><span class="s3">\n</span><span class="s1">const marker = `fast-${Math.random().toString(36).substring(2, 8)}`;</span><span class="s3">\n</span><span class="s1">/** @internal */</span><span class="s3">\n</span><span class="s1">export const _interpolationStart = `${marker}{`;</span><span class="s3">\n</span><span class="s1">/** @internal */</span><span class="s3">\n</span><span class="s1">export const _interpolationEnd = `}${marker}`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Common DOM APIs.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const DOM = Object.freeze({</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Indicates whether the DOM supports the adoptedStyleSheets feature.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">supportsAdoptedStyleSheets: Array.isArray(document.adoptedStyleSheets) &amp;&amp;</span><span class="s3">\n        \&quot;</span><span class="s1">replace</span><span class="s3">\&quot; </span><span class="s1">in CSSStyleSheet.prototype,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the HTML trusted types policy used by the templating engine.</span><span class="s3">\n     </span><span class="s1">* @param policy - The policy to set for HTML.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* This API can only be called once, for security reasons. It should be</span><span class="s3">\n     </span><span class="s1">* called by the application developer at the start of their program.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setHTMLPolicy(policy) {</span><span class="s3">\n        </span><span class="s1">if (htmlPolicy !== fastHTMLPolicy) {</span><span class="s3">\n            </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">The HTML policy can only be set once.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">htmlPolicy = policy;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Turns a string into trusted HTML using the configured trusted types policy.</span><span class="s3">\n     </span><span class="s1">* @param html - The string to turn into trusted HTML.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Used internally by the template engine when creating templates</span><span class="s3">\n     </span><span class="s1">* and setting innerHTML.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createHTML(html) {</span><span class="s3">\n        </span><span class="s1">return htmlPolicy.createHTML(html);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines if the provided node is a template marker used by the runtime.</span><span class="s3">\n     </span><span class="s1">* @param node - The node to test.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">isMarker(node) {</span><span class="s3">\n        </span><span class="s1">return node &amp;&amp; node.nodeType === 8 &amp;&amp; node.data.startsWith(marker);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Given a marker node, extract the {@link HTMLDirective} index from the placeholder.</span><span class="s3">\n     </span><span class="s1">* @param node - The marker node to extract the index from.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">extractDirectiveIndexFromMarker(node) {</span><span class="s3">\n        </span><span class="s1">return parseInt(node.data.replace(`${marker}:`, </span><span class="s3">\&quot;\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a placeholder string suitable for marking out a location *within*</span><span class="s3">\n     </span><span class="s1">* an attribute value or HTML content.</span><span class="s3">\n     </span><span class="s1">* @param index - The directive index to create the placeholder for.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Used internally by binding directives.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createInterpolationPlaceholder(index) {</span><span class="s3">\n        </span><span class="s1">return `${_interpolationStart}${index}${_interpolationEnd}`;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a placeholder that manifests itself as an attribute on an</span><span class="s3">\n     </span><span class="s1">* element.</span><span class="s3">\n     </span><span class="s1">* @param attributeName - The name of the custom attribute.</span><span class="s3">\n     </span><span class="s1">* @param index - The directive index to create the placeholder for.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Used internally by attribute directives such as `ref`, `slotted`, and `children`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createCustomAttributePlaceholder(attributeName, index) {</span><span class="s3">\n        </span><span class="s1">return `${attributeName}=</span><span class="s3">\&quot;</span><span class="s1">${this.createInterpolationPlaceholder(index)}</span><span class="s3">\&quot;</span><span class="s1">`;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a placeholder that manifests itself as a marker within the DOM structure.</span><span class="s3">\n     </span><span class="s1">* @param index - The directive index to create the placeholder for.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Used internally by structural directives such as `repeat`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createBlockPlaceholder(index) {</span><span class="s3">\n        </span><span class="s1">return `&lt;!--${marker}:${index}--&gt;`;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Schedules DOM update work in the next async batch.</span><span class="s3">\n     </span><span class="s1">* @param callable - The callable function or object to queue.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">queueUpdate: updateQueue.enqueue,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Immediately processes all work previously scheduled</span><span class="s3">\n     </span><span class="s1">* through queueUpdate.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* This also forces nextUpdate promises</span><span class="s3">\n     </span><span class="s1">* to resolve.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">processUpdates: updateQueue.process,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Resolves with the next DOM update.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">nextUpdate() {</span><span class="s3">\n        </span><span class="s1">return new Promise(updateQueue.enqueue);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets an attribute value on an element.</span><span class="s3">\n     </span><span class="s1">* @param element - The element to set the attribute value on.</span><span class="s3">\n     </span><span class="s1">* @param attributeName - The attribute name to set.</span><span class="s3">\n     </span><span class="s1">* @param value - The value of the attribute to set.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* If the value is `null` or `undefined`, the attribute is removed, otherwise</span><span class="s3">\n     </span><span class="s1">* it is set to the provided value using the standard `setAttribute` API.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setAttribute(element, attributeName, value) {</span><span class="s3">\n        </span><span class="s1">if (value === null || value === undefined) {</span><span class="s3">\n            </span><span class="s1">element.removeAttribute(attributeName);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">element.setAttribute(attributeName, value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets a boolean attribute value.</span><span class="s3">\n     </span><span class="s1">* @param element - The element to set the boolean attribute value on.</span><span class="s3">\n     </span><span class="s1">* @param attributeName - The attribute name to set.</span><span class="s3">\n     </span><span class="s1">* @param value - The value of the attribute to set.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* If the value is true, the attribute is added; otherwise it is removed.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setBooleanAttribute(element, attributeName, value) {</span><span class="s3">\n        </span><span class="s1">value</span><span class="s3">\n            </span><span class="s1">? element.setAttribute(attributeName, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">: element.removeAttribute(attributeName);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Removes all the child nodes of the provided parent node.</span><span class="s3">\n     </span><span class="s1">* @param parent - The node to remove the children from.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">removeChildNodes(parent) {</span><span class="s3">\n        </span><span class="s1">for (let child = parent.firstChild; child !== null; child = parent.firstChild) {</span><span class="s3">\n            </span><span class="s1">parent.removeChild(child);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a TreeWalker configured to walk a template fragment.</span><span class="s3">\n     </span><span class="s1">* @param fragment - The fragment to walk.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createTemplateWalker(fragment) {</span><span class="s3">\n        </span><span class="s1">return document.createTreeWalker(fragment, 133, // element, text, comment</span><span class="s3">\n        </span><span class="s1">null, false);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* An implementation of {@link Notifier} that efficiently keeps track of</span><span class="s3">\n </span><span class="s1">* subscribers interested in a specific change notification on an</span><span class="s3">\n </span><span class="s1">* observable source.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* This set is optimized for the most common scenario of 1 or 2 subscribers.</span><span class="s3">\n </span><span class="s1">* With this in mind, it can store a subscriber in an internal field, allowing it to avoid Array#push operations.</span><span class="s3">\n </span><span class="s1">* If the set ever exceeds two subscribers, it upgrades to an array automatically.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class SubscriberSet {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of SubscriberSet for the specified source.</span><span class="s3">\n     </span><span class="s1">* @param source - The object source that subscribers will receive notifications from.</span><span class="s3">\n     </span><span class="s1">* @param initialSubscriber - An initial subscriber to changes.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(source, initialSubscriber) {</span><span class="s3">\n        </span><span class="s1">this.sub1 = void 0;</span><span class="s3">\n        </span><span class="s1">this.sub2 = void 0;</span><span class="s3">\n        </span><span class="s1">this.spillover = void 0;</span><span class="s3">\n        </span><span class="s1">this.source = source;</span><span class="s3">\n        </span><span class="s1">this.sub1 = initialSubscriber;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Checks whether the provided subscriber has been added to this set.</span><span class="s3">\n     </span><span class="s1">* @param subscriber - The subscriber to test for inclusion in this set.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">has(subscriber) {</span><span class="s3">\n        </span><span class="s1">return this.spillover === void 0</span><span class="s3">\n            </span><span class="s1">? this.sub1 === subscriber || this.sub2 === subscriber</span><span class="s3">\n            </span><span class="s1">: this.spillover.indexOf(subscriber) !== -1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Subscribes to notification of changes in an object's state.</span><span class="s3">\n     </span><span class="s1">* @param subscriber - The object that is subscribing for change notification.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">subscribe(subscriber) {</span><span class="s3">\n        </span><span class="s1">const spillover = this.spillover;</span><span class="s3">\n        </span><span class="s1">if (spillover === void 0) {</span><span class="s3">\n            </span><span class="s1">if (this.has(subscriber)) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.sub1 === void 0) {</span><span class="s3">\n                </span><span class="s1">this.sub1 = subscriber;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.sub2 === void 0) {</span><span class="s3">\n                </span><span class="s1">this.sub2 = subscriber;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.spillover = [this.sub1, this.sub2, subscriber];</span><span class="s3">\n            </span><span class="s1">this.sub1 = void 0;</span><span class="s3">\n            </span><span class="s1">this.sub2 = void 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">const index = spillover.indexOf(subscriber);</span><span class="s3">\n            </span><span class="s1">if (index === -1) {</span><span class="s3">\n                </span><span class="s1">spillover.push(subscriber);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unsubscribes from notification of changes in an object's state.</span><span class="s3">\n     </span><span class="s1">* @param subscriber - The object that is unsubscribing from change notification.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unsubscribe(subscriber) {</span><span class="s3">\n        </span><span class="s1">const spillover = this.spillover;</span><span class="s3">\n        </span><span class="s1">if (spillover === void 0) {</span><span class="s3">\n            </span><span class="s1">if (this.sub1 === subscriber) {</span><span class="s3">\n                </span><span class="s1">this.sub1 = void 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (this.sub2 === subscriber) {</span><span class="s3">\n                </span><span class="s1">this.sub2 = void 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">const index = spillover.indexOf(subscriber);</span><span class="s3">\n            </span><span class="s1">if (index !== -1) {</span><span class="s3">\n                </span><span class="s1">spillover.splice(index, 1);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Notifies all subscribers.</span><span class="s3">\n     </span><span class="s1">* @param args - Data passed along to subscribers during notification.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">notify(args) {</span><span class="s3">\n        </span><span class="s1">const spillover = this.spillover;</span><span class="s3">\n        </span><span class="s1">const source = this.source;</span><span class="s3">\n        </span><span class="s1">if (spillover === void 0) {</span><span class="s3">\n            </span><span class="s1">const sub1 = this.sub1;</span><span class="s3">\n            </span><span class="s1">const sub2 = this.sub2;</span><span class="s3">\n            </span><span class="s1">if (sub1 !== void 0) {</span><span class="s3">\n                </span><span class="s1">sub1.handleChange(source, args);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (sub2 !== void 0) {</span><span class="s3">\n                </span><span class="s1">sub2.handleChange(source, args);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">for (let i = 0, ii = spillover.length; i &lt; ii; ++i) {</span><span class="s3">\n                </span><span class="s1">spillover[i].handleChange(source, args);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An implementation of Notifier that allows subscribers to be notified</span><span class="s3">\n </span><span class="s1">* of individual property changes on an object.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class PropertyChangeNotifier {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of PropertyChangeNotifier for the specified source.</span><span class="s3">\n     </span><span class="s1">* @param source - The object source that subscribers will receive notifications from.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(source) {</span><span class="s3">\n        </span><span class="s1">this.subscribers = {};</span><span class="s3">\n        </span><span class="s1">this.sourceSubscribers = null;</span><span class="s3">\n        </span><span class="s1">this.source = source;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Notifies all subscribers, based on the specified property.</span><span class="s3">\n     </span><span class="s1">* @param propertyName - The property name, passed along to subscribers during notification.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">notify(propertyName) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">const subscribers = this.subscribers[propertyName];</span><span class="s3">\n        </span><span class="s1">if (subscribers !== void 0) {</span><span class="s3">\n            </span><span class="s1">subscribers.notify(propertyName);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">(_a = this.sourceSubscribers) === null || _a === void 0 ? void 0 : _a.notify(propertyName);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Subscribes to notification of changes in an object's state.</span><span class="s3">\n     </span><span class="s1">* @param subscriber - The object that is subscribing for change notification.</span><span class="s3">\n     </span><span class="s1">* @param propertyToWatch - The name of the property that the subscriber is interested in watching for changes.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">subscribe(subscriber, propertyToWatch) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">if (propertyToWatch) {</span><span class="s3">\n            </span><span class="s1">let subscribers = this.subscribers[propertyToWatch];</span><span class="s3">\n            </span><span class="s1">if (subscribers === void 0) {</span><span class="s3">\n                </span><span class="s1">this.subscribers[propertyToWatch] = subscribers = new SubscriberSet(this.source);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">subscribers.subscribe(subscriber);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.sourceSubscribers =</span><span class="s3">\n                </span><span class="s1">(_a = this.sourceSubscribers) !== null &amp;&amp; _a !== void 0 ? _a : new SubscriberSet(this.source);</span><span class="s3">\n            </span><span class="s1">this.sourceSubscribers.subscribe(subscriber);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unsubscribes from notification of changes in an object's state.</span><span class="s3">\n     </span><span class="s1">* @param subscriber - The object that is unsubscribing from change notification.</span><span class="s3">\n     </span><span class="s1">* @param propertyToUnwatch - The name of the property that the subscriber is no longer interested in watching.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unsubscribe(subscriber, propertyToUnwatch) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">if (propertyToUnwatch) {</span><span class="s3">\n            </span><span class="s1">const subscribers = this.subscribers[propertyToUnwatch];</span><span class="s3">\n            </span><span class="s1">if (subscribers !== void 0) {</span><span class="s3">\n                </span><span class="s1">subscribers.unsubscribe(subscriber);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">(_a = this.sourceSubscribers) === null || _a === void 0 ? void 0 : _a.unsubscribe(subscriber);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { DOM } from </span><span class="s3">\&quot;</span><span class="s1">../dom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { createMetadataLocator, FAST } from </span><span class="s3">\&quot;</span><span class="s1">../platform.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { PropertyChangeNotifier, SubscriberSet } from </span><span class="s3">\&quot;</span><span class="s1">./notifier.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Common Observable APIs.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const Observable = FAST.getById(2 /* observable */, () =&gt; {</span><span class="s3">\n    </span><span class="s1">const volatileRegex = /(:|&amp;&amp;|</span><span class="s3">\\</span><span class="s1">|</span><span class="s3">\\</span><span class="s1">||if)/;</span><span class="s3">\n    </span><span class="s1">const notifierLookup = new WeakMap();</span><span class="s3">\n    </span><span class="s1">const queueUpdate = DOM.queueUpdate;</span><span class="s3">\n    </span><span class="s1">let watcher = void 0;</span><span class="s3">\n    </span><span class="s1">let createArrayObserver = (array) =&gt; {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Must call enableArrayObservation before observing arrays.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">function getNotifier(source) {</span><span class="s3">\n        </span><span class="s1">let found = source.$fastController || notifierLookup.get(source);</span><span class="s3">\n        </span><span class="s1">if (found === void 0) {</span><span class="s3">\n            </span><span class="s1">if (Array.isArray(source)) {</span><span class="s3">\n                </span><span class="s1">found = createArrayObserver(source);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">notifierLookup.set(source, (found = new PropertyChangeNotifier(source)));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return found;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const getAccessors = createMetadataLocator();</span><span class="s3">\n    </span><span class="s1">class DefaultObservableAccessor {</span><span class="s3">\n        </span><span class="s1">constructor(name) {</span><span class="s3">\n            </span><span class="s1">this.name = name;</span><span class="s3">\n            </span><span class="s1">this.field = `_${name}`;</span><span class="s3">\n            </span><span class="s1">this.callback = `${name}Changed`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">getValue(source) {</span><span class="s3">\n            </span><span class="s1">if (watcher !== void 0) {</span><span class="s3">\n                </span><span class="s1">watcher.watch(source, this.name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return source[this.field];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">setValue(source, newValue) {</span><span class="s3">\n            </span><span class="s1">const field = this.field;</span><span class="s3">\n            </span><span class="s1">const oldValue = source[field];</span><span class="s3">\n            </span><span class="s1">if (oldValue !== newValue) {</span><span class="s3">\n                </span><span class="s1">source[field] = newValue;</span><span class="s3">\n                </span><span class="s1">const callback = source[this.callback];</span><span class="s3">\n                </span><span class="s1">if (typeof callback === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">callback.call(source, oldValue, newValue);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">getNotifier(source).notify(this.name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">class BindingObserverImplementation extends SubscriberSet {</span><span class="s3">\n        </span><span class="s1">constructor(binding, initialSubscriber, isVolatileBinding = false) {</span><span class="s3">\n            </span><span class="s1">super(binding, initialSubscriber);</span><span class="s3">\n            </span><span class="s1">this.binding = binding;</span><span class="s3">\n            </span><span class="s1">this.isVolatileBinding = isVolatileBinding;</span><span class="s3">\n            </span><span class="s1">this.needsRefresh = true;</span><span class="s3">\n            </span><span class="s1">this.needsQueue = true;</span><span class="s3">\n            </span><span class="s1">this.first = this;</span><span class="s3">\n            </span><span class="s1">this.last = null;</span><span class="s3">\n            </span><span class="s1">this.propertySource = void 0;</span><span class="s3">\n            </span><span class="s1">this.propertyName = void 0;</span><span class="s3">\n            </span><span class="s1">this.notifier = void 0;</span><span class="s3">\n            </span><span class="s1">this.next = void 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">observe(source, context) {</span><span class="s3">\n            </span><span class="s1">if (this.needsRefresh &amp;&amp; this.last !== null) {</span><span class="s3">\n                </span><span class="s1">this.disconnect();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const previousWatcher = watcher;</span><span class="s3">\n            </span><span class="s1">watcher = this.needsRefresh ? this : void 0;</span><span class="s3">\n            </span><span class="s1">this.needsRefresh = this.isVolatileBinding;</span><span class="s3">\n            </span><span class="s1">const result = this.binding(source, context);</span><span class="s3">\n            </span><span class="s1">watcher = previousWatcher;</span><span class="s3">\n            </span><span class="s1">return result;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">disconnect() {</span><span class="s3">\n            </span><span class="s1">if (this.last !== null) {</span><span class="s3">\n                </span><span class="s1">let current = this.first;</span><span class="s3">\n                </span><span class="s1">while (current !== void 0) {</span><span class="s3">\n                    </span><span class="s1">current.notifier.unsubscribe(this, current.propertyName);</span><span class="s3">\n                    </span><span class="s1">current = current.next;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.last = null;</span><span class="s3">\n                </span><span class="s1">this.needsRefresh = this.needsQueue = true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">watch(propertySource, propertyName) {</span><span class="s3">\n            </span><span class="s1">const prev = this.last;</span><span class="s3">\n            </span><span class="s1">const notifier = getNotifier(propertySource);</span><span class="s3">\n            </span><span class="s1">const current = prev === null ? this.first : {};</span><span class="s3">\n            </span><span class="s1">current.propertySource = propertySource;</span><span class="s3">\n            </span><span class="s1">current.propertyName = propertyName;</span><span class="s3">\n            </span><span class="s1">current.notifier = notifier;</span><span class="s3">\n            </span><span class="s1">notifier.subscribe(this, propertyName);</span><span class="s3">\n            </span><span class="s1">if (prev !== null) {</span><span class="s3">\n                </span><span class="s1">if (!this.needsRefresh) {</span><span class="s3">\n                    </span><span class="s1">// Declaring the variable prior to assignment below circumvents</span><span class="s3">\n                    </span><span class="s1">// a bug in Angular's optimization process causing infinite recursion</span><span class="s3">\n                    </span><span class="s1">// of this watch() method. Details https://github.com/microsoft/fast/issues/4969</span><span class="s3">\n                    </span><span class="s1">let prevValue;</span><span class="s3">\n                    </span><span class="s1">watcher = void 0;</span><span class="s3">\n                    </span><span class="s1">/* eslint-disable-next-line */</span><span class="s3">\n                    </span><span class="s1">prevValue = prev.propertySource[prev.propertyName];</span><span class="s3">\n                    </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-this-alias */</span><span class="s3">\n                    </span><span class="s1">watcher = this;</span><span class="s3">\n                    </span><span class="s1">if (propertySource === prevValue) {</span><span class="s3">\n                        </span><span class="s1">this.needsRefresh = true;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">prev.next = current;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.last = current;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">handleChange() {</span><span class="s3">\n            </span><span class="s1">if (this.needsQueue) {</span><span class="s3">\n                </span><span class="s1">this.needsQueue = false;</span><span class="s3">\n                </span><span class="s1">queueUpdate(this);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">call() {</span><span class="s3">\n            </span><span class="s1">if (this.last !== null) {</span><span class="s3">\n                </span><span class="s1">this.needsQueue = true;</span><span class="s3">\n                </span><span class="s1">this.notify(this);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">records() {</span><span class="s3">\n            </span><span class="s1">let next = this.first;</span><span class="s3">\n            </span><span class="s1">return {</span><span class="s3">\n                </span><span class="s1">next: () =&gt; {</span><span class="s3">\n                    </span><span class="s1">const current = next;</span><span class="s3">\n                    </span><span class="s1">if (current === undefined) {</span><span class="s3">\n                        </span><span class="s1">return { value: void 0, done: true };</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">next = next.next;</span><span class="s3">\n                        </span><span class="s1">return {</span><span class="s3">\n                            </span><span class="s1">value: current,</span><span class="s3">\n                            </span><span class="s1">done: false,</span><span class="s3">\n                        </span><span class="s1">};</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">[Symbol.iterator]: function () {</span><span class="s3">\n                    </span><span class="s1">return this;</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return Object.freeze({</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">* @param factory - The factory used to create array observers.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">setArrayObserverFactory(factory) {</span><span class="s3">\n            </span><span class="s1">createArrayObserver = factory;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Gets a notifier for an object or Array.</span><span class="s3">\n         </span><span class="s1">* @param source - The object or Array to get the notifier for.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">getNotifier,</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Records a property change for a source object.</span><span class="s3">\n         </span><span class="s1">* @param source - The object to record the change against.</span><span class="s3">\n         </span><span class="s1">* @param propertyName - The property to track as changed.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">track(source, propertyName) {</span><span class="s3">\n            </span><span class="s1">if (watcher !== void 0) {</span><span class="s3">\n                </span><span class="s1">watcher.watch(source, propertyName);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Notifies watchers that the currently executing property getter or function is volatile</span><span class="s3">\n         </span><span class="s1">* with respect to its observable dependencies.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">trackVolatile() {</span><span class="s3">\n            </span><span class="s1">if (watcher !== void 0) {</span><span class="s3">\n                </span><span class="s1">watcher.needsRefresh = true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Notifies subscribers of a source object of changes.</span><span class="s3">\n         </span><span class="s1">* @param source - the object to notify of changes.</span><span class="s3">\n         </span><span class="s1">* @param args - The change args to pass to subscribers.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">notify(source, args) {</span><span class="s3">\n            </span><span class="s1">getNotifier(source).notify(args);</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Defines an observable property on an object or prototype.</span><span class="s3">\n         </span><span class="s1">* @param target - The target object to define the observable on.</span><span class="s3">\n         </span><span class="s1">* @param nameOrAccessor - The name of the property to define as observable;</span><span class="s3">\n         </span><span class="s1">* or a custom accessor that specifies the property name and accessor implementation.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">defineProperty(target, nameOrAccessor) {</span><span class="s3">\n            </span><span class="s1">if (typeof nameOrAccessor === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">nameOrAccessor = new DefaultObservableAccessor(nameOrAccessor);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">getAccessors(target).push(nameOrAccessor);</span><span class="s3">\n            </span><span class="s1">Reflect.defineProperty(target, nameOrAccessor.name, {</span><span class="s3">\n                </span><span class="s1">enumerable: true,</span><span class="s3">\n                </span><span class="s1">get: function () {</span><span class="s3">\n                    </span><span class="s1">return nameOrAccessor.getValue(this);</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">set: function (newValue) {</span><span class="s3">\n                    </span><span class="s1">nameOrAccessor.setValue(this, newValue);</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Finds all the observable accessors defined on the target,</span><span class="s3">\n         </span><span class="s1">* including its prototype chain.</span><span class="s3">\n         </span><span class="s1">* @param target - The target object to search for accessor on.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">getAccessors,</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Creates a {@link BindingObserver} that can watch the</span><span class="s3">\n         </span><span class="s1">* provided {@link Binding} for changes.</span><span class="s3">\n         </span><span class="s1">* @param binding - The binding to observe.</span><span class="s3">\n         </span><span class="s1">* @param initialSubscriber - An initial subscriber to changes in the binding value.</span><span class="s3">\n         </span><span class="s1">* @param isVolatileBinding - Indicates whether the binding's dependency list must be re-evaluated on every value evaluation.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">binding(binding, initialSubscriber, isVolatileBinding = this.isVolatileBinding(binding)) {</span><span class="s3">\n            </span><span class="s1">return new BindingObserverImplementation(binding, initialSubscriber, isVolatileBinding);</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Determines whether a binding expression is volatile and needs to have its dependency list re-evaluated</span><span class="s3">\n         </span><span class="s1">* on every evaluation of the value.</span><span class="s3">\n         </span><span class="s1">* @param binding - The binding to inspect.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">isVolatileBinding(binding) {</span><span class="s3">\n            </span><span class="s1">return volatileRegex.test(binding.toString());</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Decorator: Defines an observable property on the target.</span><span class="s3">\n </span><span class="s1">* @param target - The target to define the observable on.</span><span class="s3">\n </span><span class="s1">* @param nameOrAccessor - The property name or accessor to define the observable as.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function observable(target, nameOrAccessor) {</span><span class="s3">\n    </span><span class="s1">Observable.defineProperty(target, nameOrAccessor);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Decorator: Marks a property getter as having volatile observable dependencies.</span><span class="s3">\n </span><span class="s1">* @param target - The target that the property is defined on.</span><span class="s3">\n </span><span class="s1">* @param name - The property name.</span><span class="s3">\n </span><span class="s1">* @param name - The existing descriptor.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function volatile(target, name, descriptor) {</span><span class="s3">\n    </span><span class="s1">return Object.assign({}, descriptor, {</span><span class="s3">\n        </span><span class="s1">get: function () {</span><span class="s3">\n            </span><span class="s1">Observable.trackVolatile();</span><span class="s3">\n            </span><span class="s1">return descriptor.get.apply(this);</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const contextEvent = FAST.getById(3 /* contextEvent */, () =&gt; {</span><span class="s3">\n    </span><span class="s1">let current = null;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">get() {</span><span class="s3">\n            </span><span class="s1">return current;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">set(event) {</span><span class="s3">\n            </span><span class="s1">current = event;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Provides additional contextual information available to behaviors and expressions.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ExecutionContext {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The index of the current item within a repeat context.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.index = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The length of the current collection within a repeat context.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.length = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The parent data object within a repeat context.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.parent = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The parent execution context when in nested context scenarios.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.parentContext = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The current event within an event handler.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get event() {</span><span class="s3">\n        </span><span class="s1">return contextEvent.get();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Indicates whether the current item within a repeat context</span><span class="s3">\n     </span><span class="s1">* has an even index.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get isEven() {</span><span class="s3">\n        </span><span class="s1">return this.index % 2 === 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Indicates whether the current item within a repeat context</span><span class="s3">\n     </span><span class="s1">* has an odd index.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get isOdd() {</span><span class="s3">\n        </span><span class="s1">return this.index % 2 !== 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Indicates whether the current item within a repeat context</span><span class="s3">\n     </span><span class="s1">* is the first item in the collection.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get isFirst() {</span><span class="s3">\n        </span><span class="s1">return this.index === 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Indicates whether the current item within a repeat context</span><span class="s3">\n     </span><span class="s1">* is somewhere in the middle of the collection.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get isInMiddle() {</span><span class="s3">\n        </span><span class="s1">return !this.isFirst &amp;&amp; !this.isLast;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Indicates whether the current item within a repeat context</span><span class="s3">\n     </span><span class="s1">* is the last item in the collection.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get isLast() {</span><span class="s3">\n        </span><span class="s1">return this.index === this.length - 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the event for the current execution context.</span><span class="s3">\n     </span><span class="s1">* @param event - The event to set.</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static setEvent(event) {</span><span class="s3">\n        </span><span class="s1">contextEvent.set(event);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">Observable.defineProperty(ExecutionContext.prototype, </span><span class="s3">\&quot;</span><span class="s1">index</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">Observable.defineProperty(ExecutionContext.prototype, </span><span class="s3">\&quot;</span><span class="s1">length</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The default execution context used in binding expressions.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const defaultExecutionContext = Object.seal(new ExecutionContext());</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { DOM } from </span><span class="s3">\&quot;</span><span class="s1">../dom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Represents styles that can be applied to a custom element.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ElementStyles {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">this.targets = new WeakSet();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** @internal */</span><span class="s3">\n    </span><span class="s1">addStylesTo(target) {</span><span class="s3">\n        </span><span class="s1">this.targets.add(target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** @internal */</span><span class="s3">\n    </span><span class="s1">removeStylesFrom(target) {</span><span class="s3">\n        </span><span class="s1">this.targets.delete(target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** @internal */</span><span class="s3">\n    </span><span class="s1">isAttachedTo(target) {</span><span class="s3">\n        </span><span class="s1">return this.targets.has(target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Associates behaviors with this set of styles.</span><span class="s3">\n     </span><span class="s1">* @param behaviors - The behaviors to associate.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">withBehaviors(...behaviors) {</span><span class="s3">\n        </span><span class="s1">this.behaviors =</span><span class="s3">\n            </span><span class="s1">this.behaviors === null ? behaviors : this.behaviors.concat(behaviors);</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Create ElementStyles from ComposableStyles.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">ElementStyles.create = (() =&gt; {</span><span class="s3">\n    </span><span class="s1">if (DOM.supportsAdoptedStyleSheets) {</span><span class="s3">\n        </span><span class="s1">const styleSheetCache = new Map();</span><span class="s3">\n        </span><span class="s1">return (styles) =&gt; </span><span class="s3">\n        </span><span class="s1">// eslint-disable-next-line @typescript-eslint/no-use-before-define</span><span class="s3">\n        </span><span class="s1">new AdoptedStyleSheetsStyles(styles, styleSheetCache);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// eslint-disable-next-line @typescript-eslint/no-use-before-define</span><span class="s3">\n    </span><span class="s1">return (styles) =&gt; new StyleElementStyles(styles);</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">function reduceStyles(styles) {</span><span class="s3">\n    </span><span class="s1">return styles</span><span class="s3">\n        </span><span class="s1">.map((x) =&gt; x instanceof ElementStyles ? reduceStyles(x.styles) : [x])</span><span class="s3">\n        </span><span class="s1">.reduce((prev, curr) =&gt; prev.concat(curr), []);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function reduceBehaviors(styles) {</span><span class="s3">\n    </span><span class="s1">return styles</span><span class="s3">\n        </span><span class="s1">.map((x) =&gt; (x instanceof ElementStyles ? x.behaviors : null))</span><span class="s3">\n        </span><span class="s1">.reduce((prev, curr) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (curr === null) {</span><span class="s3">\n            </span><span class="s1">return prev;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (prev === null) {</span><span class="s3">\n            </span><span class="s1">prev = [];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return prev.concat(curr);</span><span class="s3">\n    </span><span class="s1">}, null);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">let addAdoptedStyleSheets = (target, sheets) =&gt; {</span><span class="s3">\n    </span><span class="s1">target.adoptedStyleSheets = [...target.adoptedStyleSheets, ...sheets];</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">let removeAdoptedStyleSheets = (target, sheets) =&gt; {</span><span class="s3">\n    </span><span class="s1">target.adoptedStyleSheets = target.adoptedStyleSheets.filter((x) =&gt; sheets.indexOf(x) === -1);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">if (DOM.supportsAdoptedStyleSheets) {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">// Test if browser implementation uses FrozenArray.</span><span class="s3">\n        </span><span class="s1">// If not, use push / splice to alter the stylesheets</span><span class="s3">\n        </span><span class="s1">// in place. This circumvents a bug in Safari 16.4 where</span><span class="s3">\n        </span><span class="s1">// periodically, assigning the array would previously</span><span class="s3">\n        </span><span class="s1">// cause sheets to be removed.</span><span class="s3">\n        </span><span class="s1">document.adoptedStyleSheets.push();</span><span class="s3">\n        </span><span class="s1">document.adoptedStyleSheets.splice();</span><span class="s3">\n        </span><span class="s1">addAdoptedStyleSheets = (target, sheets) =&gt; {</span><span class="s3">\n            </span><span class="s1">target.adoptedStyleSheets.push(...sheets);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">removeAdoptedStyleSheets = (target, sheets) =&gt; {</span><span class="s3">\n            </span><span class="s1">for (const sheet of sheets) {</span><span class="s3">\n                </span><span class="s1">const index = target.adoptedStyleSheets.indexOf(sheet);</span><span class="s3">\n                </span><span class="s1">if (index !== -1) {</span><span class="s3">\n                    </span><span class="s1">target.adoptedStyleSheets.splice(index, 1);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e) {</span><span class="s3">\n        </span><span class="s1">// Do nothing if an error is thrown, the default</span><span class="s3">\n        </span><span class="s1">// case handles FrozenArray.</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* https://wicg.github.io/construct-stylesheets/</span><span class="s3">\n </span><span class="s1">* https://developers.google.com/web/updates/2019/02/constructable-stylesheets</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class AdoptedStyleSheetsStyles extends ElementStyles {</span><span class="s3">\n    </span><span class="s1">constructor(styles, styleSheetCache) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this.styles = styles;</span><span class="s3">\n        </span><span class="s1">this.styleSheetCache = styleSheetCache;</span><span class="s3">\n        </span><span class="s1">this._styleSheets = void 0;</span><span class="s3">\n        </span><span class="s1">this.behaviors = reduceBehaviors(styles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get styleSheets() {</span><span class="s3">\n        </span><span class="s1">if (this._styleSheets === void 0) {</span><span class="s3">\n            </span><span class="s1">const styles = this.styles;</span><span class="s3">\n            </span><span class="s1">const styleSheetCache = this.styleSheetCache;</span><span class="s3">\n            </span><span class="s1">this._styleSheets = reduceStyles(styles).map((x) =&gt; {</span><span class="s3">\n                </span><span class="s1">if (x instanceof CSSStyleSheet) {</span><span class="s3">\n                    </span><span class="s1">return x;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">let sheet = styleSheetCache.get(x);</span><span class="s3">\n                </span><span class="s1">if (sheet === void 0) {</span><span class="s3">\n                    </span><span class="s1">sheet = new CSSStyleSheet();</span><span class="s3">\n                    </span><span class="s1">sheet.replaceSync(x);</span><span class="s3">\n                    </span><span class="s1">styleSheetCache.set(x, sheet);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return sheet;</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this._styleSheets;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">addStylesTo(target) {</span><span class="s3">\n        </span><span class="s1">addAdoptedStyleSheets(target, this.styleSheets);</span><span class="s3">\n        </span><span class="s1">super.addStylesTo(target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">removeStylesFrom(target) {</span><span class="s3">\n        </span><span class="s1">removeAdoptedStyleSheets(target, this.styleSheets);</span><span class="s3">\n        </span><span class="s1">super.removeStylesFrom(target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">let styleClassId = 0;</span><span class="s3">\n</span><span class="s1">function getNextStyleClass() {</span><span class="s3">\n    </span><span class="s1">return `fast-style-class-${++styleClassId}`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class StyleElementStyles extends ElementStyles {</span><span class="s3">\n    </span><span class="s1">constructor(styles) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this.styles = styles;</span><span class="s3">\n        </span><span class="s1">this.behaviors = null;</span><span class="s3">\n        </span><span class="s1">this.behaviors = reduceBehaviors(styles);</span><span class="s3">\n        </span><span class="s1">this.styleSheets = reduceStyles(styles);</span><span class="s3">\n        </span><span class="s1">this.styleClass = getNextStyleClass();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">addStylesTo(target) {</span><span class="s3">\n        </span><span class="s1">const styleSheets = this.styleSheets;</span><span class="s3">\n        </span><span class="s1">const styleClass = this.styleClass;</span><span class="s3">\n        </span><span class="s1">target = this.normalizeTarget(target);</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; styleSheets.length; i++) {</span><span class="s3">\n            </span><span class="s1">const element = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">element.innerHTML = styleSheets[i];</span><span class="s3">\n            </span><span class="s1">element.className = styleClass;</span><span class="s3">\n            </span><span class="s1">target.append(element);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">super.addStylesTo(target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">removeStylesFrom(target) {</span><span class="s3">\n        </span><span class="s1">target = this.normalizeTarget(target);</span><span class="s3">\n        </span><span class="s1">const styles = target.querySelectorAll(`.${this.styleClass}`);</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = styles.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">target.removeChild(styles[i]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">super.removeStylesFrom(target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">isAttachedTo(target) {</span><span class="s3">\n        </span><span class="s1">return super.isAttachedTo(this.normalizeTarget(target));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">normalizeTarget(target) {</span><span class="s3">\n        </span><span class="s1">return target === document ? document.body : target;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { Observable } from </span><span class="s3">\&quot;</span><span class="s1">../observation/observable.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DOM } from </span><span class="s3">\&quot;</span><span class="s1">../dom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { createMetadataLocator } from </span><span class="s3">\&quot;</span><span class="s1">../platform.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Metadata used to configure a custom attribute's behavior.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const AttributeConfiguration = Object.freeze({</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Locates all attribute configurations associated with a type.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">locate: createMetadataLocator(),</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A {@link ValueConverter} that converts to and from `boolean` values.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Used automatically when the `boolean` {@link AttributeMode} is selected.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const booleanConverter = {</span><span class="s3">\n    </span><span class="s1">toView(value) {</span><span class="s3">\n        </span><span class="s1">return value ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">fromView(value) {</span><span class="s3">\n        </span><span class="s1">if (value === null ||</span><span class="s3">\n            </span><span class="s1">value === void 0 ||</span><span class="s3">\n            </span><span class="s1">value === </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot; </span><span class="s1">||</span><span class="s3">\n            </span><span class="s1">value === false ||</span><span class="s3">\n            </span><span class="s1">value === 0) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A {@link ValueConverter} that converts to and from `number` values.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* This converter allows for nullable numbers, returning `null` if the</span><span class="s3">\n </span><span class="s1">* input was `null`, `undefined`, or `NaN`.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const nullableNumberConverter = {</span><span class="s3">\n    </span><span class="s1">toView(value) {</span><span class="s3">\n        </span><span class="s1">if (value === null || value === undefined) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const number = value * 1;</span><span class="s3">\n        </span><span class="s1">return isNaN(number) ? null : number.toString();</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">fromView(value) {</span><span class="s3">\n        </span><span class="s1">if (value === null || value === undefined) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const number = value * 1;</span><span class="s3">\n        </span><span class="s1">return isNaN(number) ? null : number;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An implementation of {@link Accessor} that supports reactivity,</span><span class="s3">\n </span><span class="s1">* change callbacks, attribute reflection, and type conversion for</span><span class="s3">\n </span><span class="s1">* custom elements.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class AttributeDefinition {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of AttributeDefinition.</span><span class="s3">\n     </span><span class="s1">* @param Owner - The class constructor that owns this attribute.</span><span class="s3">\n     </span><span class="s1">* @param name - The name of the property associated with the attribute.</span><span class="s3">\n     </span><span class="s1">* @param attribute - The name of the attribute in HTML.</span><span class="s3">\n     </span><span class="s1">* @param mode - The {@link AttributeMode} that describes the behavior of this attribute.</span><span class="s3">\n     </span><span class="s1">* @param converter - A {@link ValueConverter} that integrates with the property getter/setter</span><span class="s3">\n     </span><span class="s1">* to convert values to and from a DOM string.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(Owner, name, attribute = name.toLowerCase(), mode = </span><span class="s3">\&quot;</span><span class="s1">reflect</span><span class="s3">\&quot;</span><span class="s1">, converter) {</span><span class="s3">\n        </span><span class="s1">this.guards = new Set();</span><span class="s3">\n        </span><span class="s1">this.Owner = Owner;</span><span class="s3">\n        </span><span class="s1">this.name = name;</span><span class="s3">\n        </span><span class="s1">this.attribute = attribute;</span><span class="s3">\n        </span><span class="s1">this.mode = mode;</span><span class="s3">\n        </span><span class="s1">this.converter = converter;</span><span class="s3">\n        </span><span class="s1">this.fieldName = `_${name}`;</span><span class="s3">\n        </span><span class="s1">this.callbackName = `${name}Changed`;</span><span class="s3">\n        </span><span class="s1">this.hasCallback = this.callbackName in Owner.prototype;</span><span class="s3">\n        </span><span class="s1">if (mode === </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; converter === void 0) {</span><span class="s3">\n            </span><span class="s1">this.converter = booleanConverter;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the value of the attribute/property on the source element.</span><span class="s3">\n     </span><span class="s1">* @param source - The source element to access.</span><span class="s3">\n     </span><span class="s1">* @param value - The value to set the attribute/property to.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setValue(source, newValue) {</span><span class="s3">\n        </span><span class="s1">const oldValue = source[this.fieldName];</span><span class="s3">\n        </span><span class="s1">const converter = this.converter;</span><span class="s3">\n        </span><span class="s1">if (converter !== void 0) {</span><span class="s3">\n            </span><span class="s1">newValue = converter.fromView(newValue);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (oldValue !== newValue) {</span><span class="s3">\n            </span><span class="s1">source[this.fieldName] = newValue;</span><span class="s3">\n            </span><span class="s1">this.tryReflectToAttribute(source);</span><span class="s3">\n            </span><span class="s1">if (this.hasCallback) {</span><span class="s3">\n                </span><span class="s1">source[this.callbackName](oldValue, newValue);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">source.$fastController.notify(this.name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets the value of the attribute/property on the source element.</span><span class="s3">\n     </span><span class="s1">* @param source - The source element to access.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getValue(source) {</span><span class="s3">\n        </span><span class="s1">Observable.track(source, this.name);</span><span class="s3">\n        </span><span class="s1">return source[this.fieldName];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** @internal */</span><span class="s3">\n    </span><span class="s1">onAttributeChangedCallback(element, value) {</span><span class="s3">\n        </span><span class="s1">if (this.guards.has(element)) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.guards.add(element);</span><span class="s3">\n        </span><span class="s1">this.setValue(element, value);</span><span class="s3">\n        </span><span class="s1">this.guards.delete(element);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">tryReflectToAttribute(element) {</span><span class="s3">\n        </span><span class="s1">const mode = this.mode;</span><span class="s3">\n        </span><span class="s1">const guards = this.guards;</span><span class="s3">\n        </span><span class="s1">if (guards.has(element) || mode === </span><span class="s3">\&quot;</span><span class="s1">fromView</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n            </span><span class="s1">guards.add(element);</span><span class="s3">\n            </span><span class="s1">const latestValue = element[this.fieldName];</span><span class="s3">\n            </span><span class="s1">switch (mode) {</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">reflect</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">const converter = this.converter;</span><span class="s3">\n                    </span><span class="s1">DOM.setAttribute(element, this.attribute, converter !== void 0 ? converter.toView(latestValue) : latestValue);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">DOM.setBooleanAttribute(element, this.attribute, latestValue);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">guards.delete(element);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Collects all attribute definitions associated with the owner.</span><span class="s3">\n     </span><span class="s1">* @param Owner - The class constructor to collect attribute for.</span><span class="s3">\n     </span><span class="s1">* @param attributeLists - Any existing attributes to collect and merge with those associated with the owner.</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static collect(Owner, ...attributeLists) {</span><span class="s3">\n        </span><span class="s1">const attributes = [];</span><span class="s3">\n        </span><span class="s1">attributeLists.push(AttributeConfiguration.locate(Owner));</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = attributeLists.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">const list = attributeLists[i];</span><span class="s3">\n            </span><span class="s1">if (list === void 0) {</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">for (let j = 0, jj = list.length; j &lt; jj; ++j) {</span><span class="s3">\n                </span><span class="s1">const config = list[j];</span><span class="s3">\n                </span><span class="s1">if (typeof config === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">attributes.push(new AttributeDefinition(Owner, config));</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">attributes.push(new AttributeDefinition(Owner, config.property, config.attribute, config.mode, config.converter));</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return attributes;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">export function attr(configOrTarget, prop) {</span><span class="s3">\n    </span><span class="s1">let config;</span><span class="s3">\n    </span><span class="s1">function decorator($target, $prop) {</span><span class="s3">\n        </span><span class="s1">if (arguments.length &gt; 1) {</span><span class="s3">\n            </span><span class="s1">// Non invocation:</span><span class="s3">\n            </span><span class="s1">// - @attr</span><span class="s3">\n            </span><span class="s1">// Invocation with or w/o opts:</span><span class="s3">\n            </span><span class="s1">// - @attr()</span><span class="s3">\n            </span><span class="s1">// - @attr({...opts})</span><span class="s3">\n            </span><span class="s1">config.property = $prop;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">AttributeConfiguration.locate($target.constructor).push(config);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (arguments.length &gt; 1) {</span><span class="s3">\n        </span><span class="s1">// Non invocation:</span><span class="s3">\n        </span><span class="s1">// - @attr</span><span class="s3">\n        </span><span class="s1">config = {};</span><span class="s3">\n        </span><span class="s1">decorator(configOrTarget, prop);</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Invocation with or w/o opts:</span><span class="s3">\n    </span><span class="s1">// - @attr()</span><span class="s3">\n    </span><span class="s1">// - @attr({...opts})</span><span class="s3">\n    </span><span class="s1">config = configOrTarget === void 0 ? {} : configOrTarget;</span><span class="s3">\n    </span><span class="s1">return decorator;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FAST } from </span><span class="s3">\&quot;</span><span class="s1">../platform.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Observable } from </span><span class="s3">\&quot;</span><span class="s1">../observation/observable.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ElementStyles } from </span><span class="s3">\&quot;</span><span class="s1">../styles/element-styles.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { AttributeDefinition } from </span><span class="s3">\&quot;</span><span class="s1">./attributes.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const defaultShadowOptions = { mode: </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot; </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const defaultElementOptions = {};</span><span class="s3">\n</span><span class="s1">const fastRegistry = FAST.getById(4 /* elementRegistry */, () =&gt; {</span><span class="s3">\n    </span><span class="s1">const typeToDefinition = new Map();</span><span class="s3">\n    </span><span class="s1">return Object.freeze({</span><span class="s3">\n        </span><span class="s1">register(definition) {</span><span class="s3">\n            </span><span class="s1">if (typeToDefinition.has(definition.type)) {</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">typeToDefinition.set(definition.type, definition);</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">getByType(key) {</span><span class="s3">\n            </span><span class="s1">return typeToDefinition.get(key);</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Defines metadata for a FASTElement.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FASTElementDefinition {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of FASTElementDefinition.</span><span class="s3">\n     </span><span class="s1">* @param type - The type this definition is being created for.</span><span class="s3">\n     </span><span class="s1">* @param nameOrConfig - The name of the element to define or a config object</span><span class="s3">\n     </span><span class="s1">* that describes the element to define.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(type, nameOrConfig = type.definition) {</span><span class="s3">\n        </span><span class="s1">if (typeof nameOrConfig === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">nameOrConfig = { name: nameOrConfig };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.type = type;</span><span class="s3">\n        </span><span class="s1">this.name = nameOrConfig.name;</span><span class="s3">\n        </span><span class="s1">this.template = nameOrConfig.template;</span><span class="s3">\n        </span><span class="s1">const attributes = AttributeDefinition.collect(type, nameOrConfig.attributes);</span><span class="s3">\n        </span><span class="s1">const observedAttributes = new Array(attributes.length);</span><span class="s3">\n        </span><span class="s1">const propertyLookup = {};</span><span class="s3">\n        </span><span class="s1">const attributeLookup = {};</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = attributes.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">const current = attributes[i];</span><span class="s3">\n            </span><span class="s1">observedAttributes[i] = current.attribute;</span><span class="s3">\n            </span><span class="s1">propertyLookup[current.name] = current;</span><span class="s3">\n            </span><span class="s1">attributeLookup[current.attribute] = current;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.attributes = attributes;</span><span class="s3">\n        </span><span class="s1">this.observedAttributes = observedAttributes;</span><span class="s3">\n        </span><span class="s1">this.propertyLookup = propertyLookup;</span><span class="s3">\n        </span><span class="s1">this.attributeLookup = attributeLookup;</span><span class="s3">\n        </span><span class="s1">this.shadowOptions =</span><span class="s3">\n            </span><span class="s1">nameOrConfig.shadowOptions === void 0</span><span class="s3">\n                </span><span class="s1">? defaultShadowOptions</span><span class="s3">\n                </span><span class="s1">: nameOrConfig.shadowOptions === null</span><span class="s3">\n                    </span><span class="s1">? void 0</span><span class="s3">\n                    </span><span class="s1">: Object.assign(Object.assign({}, defaultShadowOptions), nameOrConfig.shadowOptions);</span><span class="s3">\n        </span><span class="s1">this.elementOptions =</span><span class="s3">\n            </span><span class="s1">nameOrConfig.elementOptions === void 0</span><span class="s3">\n                </span><span class="s1">? defaultElementOptions</span><span class="s3">\n                </span><span class="s1">: Object.assign(Object.assign({}, defaultElementOptions), nameOrConfig.elementOptions);</span><span class="s3">\n        </span><span class="s1">this.styles =</span><span class="s3">\n            </span><span class="s1">nameOrConfig.styles === void 0</span><span class="s3">\n                </span><span class="s1">? void 0</span><span class="s3">\n                </span><span class="s1">: Array.isArray(nameOrConfig.styles)</span><span class="s3">\n                    </span><span class="s1">? ElementStyles.create(nameOrConfig.styles)</span><span class="s3">\n                    </span><span class="s1">: nameOrConfig.styles instanceof ElementStyles</span><span class="s3">\n                        </span><span class="s1">? nameOrConfig.styles</span><span class="s3">\n                        </span><span class="s1">: ElementStyles.create([nameOrConfig.styles]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Indicates if this element has been defined in at least one registry.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get isDefined() {</span><span class="s3">\n        </span><span class="s1">return !!fastRegistry.getByType(this.type);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Defines a custom element based on this definition.</span><span class="s3">\n     </span><span class="s1">* @param registry - The element registry to define the element in.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">define(registry = customElements) {</span><span class="s3">\n        </span><span class="s1">const type = this.type;</span><span class="s3">\n        </span><span class="s1">if (fastRegistry.register(this)) {</span><span class="s3">\n            </span><span class="s1">const attributes = this.attributes;</span><span class="s3">\n            </span><span class="s1">const proto = type.prototype;</span><span class="s3">\n            </span><span class="s1">for (let i = 0, ii = attributes.length; i &lt; ii; ++i) {</span><span class="s3">\n                </span><span class="s1">Observable.defineProperty(proto, attributes[i]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">Reflect.defineProperty(type, </span><span class="s3">\&quot;</span><span class="s1">observedAttributes</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n                </span><span class="s1">value: this.observedAttributes,</span><span class="s3">\n                </span><span class="s1">enumerable: true,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!registry.get(this.name)) {</span><span class="s3">\n            </span><span class="s1">registry.define(this.name, type, this.elementOptions);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the element definition associated with the specified type.</span><span class="s3">\n </span><span class="s1">* @param type - The custom element type to retrieve the definition for.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">FASTElementDefinition.forType = fastRegistry.getByType;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { DOM } from </span><span class="s3">\&quot;</span><span class="s1">../dom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { PropertyChangeNotifier } from </span><span class="s3">\&quot;</span><span class="s1">../observation/notifier.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { defaultExecutionContext, Observable } from </span><span class="s3">\&quot;</span><span class="s1">../observation/observable.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FASTElementDefinition } from </span><span class="s3">\&quot;</span><span class="s1">./fast-definitions.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const shadowRoots = new WeakMap();</span><span class="s3">\n</span><span class="s1">const defaultEventOptions = {</span><span class="s3">\n    </span><span class="s1">bubbles: true,</span><span class="s3">\n    </span><span class="s1">composed: true,</span><span class="s3">\n    </span><span class="s1">cancelable: true,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function getShadowRoot(element) {</span><span class="s3">\n    </span><span class="s1">return element.shadowRoot || shadowRoots.get(element) || null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Controls the lifecycle and rendering of a `FASTElement`.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Controller extends PropertyChangeNotifier {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a Controller to control the specified element.</span><span class="s3">\n     </span><span class="s1">* @param element - The element to be controlled by this controller.</span><span class="s3">\n     </span><span class="s1">* @param definition - The element definition metadata that instructs this</span><span class="s3">\n     </span><span class="s1">* controller in how to handle rendering and other platform integrations.</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(element, definition) {</span><span class="s3">\n        </span><span class="s1">super(element);</span><span class="s3">\n        </span><span class="s1">this.boundObservables = null;</span><span class="s3">\n        </span><span class="s1">this.behaviors = null;</span><span class="s3">\n        </span><span class="s1">this.needsInitialization = true;</span><span class="s3">\n        </span><span class="s1">this._template = null;</span><span class="s3">\n        </span><span class="s1">this._styles = null;</span><span class="s3">\n        </span><span class="s1">this._isConnected = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* This allows Observable.getNotifier(...) to return the Controller</span><span class="s3">\n         </span><span class="s1">* when the notifier for the Controller itself is being requested. The</span><span class="s3">\n         </span><span class="s1">* result is that the Observable system does not need to create a separate</span><span class="s3">\n         </span><span class="s1">* instance of Notifier for observables on the Controller. The component and</span><span class="s3">\n         </span><span class="s1">* the controller will now share the same notifier, removing one-object construct</span><span class="s3">\n         </span><span class="s1">* per web component instance.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.$fastController = this;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The view associated with the custom element.</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* If `null` then the element is managing its own rendering.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.view = null;</span><span class="s3">\n        </span><span class="s1">this.element = element;</span><span class="s3">\n        </span><span class="s1">this.definition = definition;</span><span class="s3">\n        </span><span class="s1">const shadowOptions = definition.shadowOptions;</span><span class="s3">\n        </span><span class="s1">if (shadowOptions !== void 0) {</span><span class="s3">\n            </span><span class="s1">const shadowRoot = element.attachShadow(shadowOptions);</span><span class="s3">\n            </span><span class="s1">if (shadowOptions.mode === </span><span class="s3">\&quot;</span><span class="s1">closed</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">shadowRoots.set(element, shadowRoot);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// Capture any observable values that were set by the binding engine before</span><span class="s3">\n        </span><span class="s1">// the browser upgraded the element. Then delete the property since it will</span><span class="s3">\n        </span><span class="s1">// shadow the getter/setter that is required to make the observable operate.</span><span class="s3">\n        </span><span class="s1">// Later, in the connect callback, we'll re-apply the values.</span><span class="s3">\n        </span><span class="s1">const accessors = Observable.getAccessors(element);</span><span class="s3">\n        </span><span class="s1">if (accessors.length &gt; 0) {</span><span class="s3">\n            </span><span class="s1">const boundObservables = (this.boundObservables = Object.create(null));</span><span class="s3">\n            </span><span class="s1">for (let i = 0, ii = accessors.length; i &lt; ii; ++i) {</span><span class="s3">\n                </span><span class="s1">const propertyName = accessors[i].name;</span><span class="s3">\n                </span><span class="s1">const value = element[propertyName];</span><span class="s3">\n                </span><span class="s1">if (value !== void 0) {</span><span class="s3">\n                    </span><span class="s1">delete element[propertyName];</span><span class="s3">\n                    </span><span class="s1">boundObservables[propertyName] = value;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Indicates whether or not the custom element has been</span><span class="s3">\n     </span><span class="s1">* connected to the document.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get isConnected() {</span><span class="s3">\n        </span><span class="s1">Observable.track(this, </span><span class="s3">\&quot;</span><span class="s1">isConnected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return this._isConnected;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setIsConnected(value) {</span><span class="s3">\n        </span><span class="s1">this._isConnected = value;</span><span class="s3">\n        </span><span class="s1">Observable.notify(this, </span><span class="s3">\&quot;</span><span class="s1">isConnected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets/sets the template used to render the component.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* This value can only be accurately read after connect but can be set at any time.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get template() {</span><span class="s3">\n        </span><span class="s1">return this._template;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set template(value) {</span><span class="s3">\n        </span><span class="s1">if (this._template === value) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this._template = value;</span><span class="s3">\n        </span><span class="s1">if (!this.needsInitialization) {</span><span class="s3">\n            </span><span class="s1">this.renderTemplate(value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets/sets the primary styles used for the component.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* This value can only be accurately read after connect but can be set at any time.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get styles() {</span><span class="s3">\n        </span><span class="s1">return this._styles;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set styles(value) {</span><span class="s3">\n        </span><span class="s1">if (this._styles === value) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this._styles !== null) {</span><span class="s3">\n            </span><span class="s1">this.removeStyles(this._styles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this._styles = value;</span><span class="s3">\n        </span><span class="s1">if (!this.needsInitialization &amp;&amp; value !== null) {</span><span class="s3">\n            </span><span class="s1">this.addStyles(value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Adds styles to this element. Providing an HTMLStyleElement will attach the element instance to the shadowRoot.</span><span class="s3">\n     </span><span class="s1">* @param styles - The styles to add.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">addStyles(styles) {</span><span class="s3">\n        </span><span class="s1">const target = getShadowRoot(this.element) ||</span><span class="s3">\n            </span><span class="s1">this.element.getRootNode();</span><span class="s3">\n        </span><span class="s1">if (styles instanceof HTMLStyleElement) {</span><span class="s3">\n            </span><span class="s1">target.append(styles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (!styles.isAttachedTo(target)) {</span><span class="s3">\n            </span><span class="s1">const sourceBehaviors = styles.behaviors;</span><span class="s3">\n            </span><span class="s1">styles.addStylesTo(target);</span><span class="s3">\n            </span><span class="s1">if (sourceBehaviors !== null) {</span><span class="s3">\n                </span><span class="s1">this.addBehaviors(sourceBehaviors);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Removes styles from this element. Providing an HTMLStyleElement will detach the element instance from the shadowRoot.</span><span class="s3">\n     </span><span class="s1">* @param styles - the styles to remove.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">removeStyles(styles) {</span><span class="s3">\n        </span><span class="s1">const target = getShadowRoot(this.element) ||</span><span class="s3">\n            </span><span class="s1">this.element.getRootNode();</span><span class="s3">\n        </span><span class="s1">if (styles instanceof HTMLStyleElement) {</span><span class="s3">\n            </span><span class="s1">target.removeChild(styles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (styles.isAttachedTo(target)) {</span><span class="s3">\n            </span><span class="s1">const sourceBehaviors = styles.behaviors;</span><span class="s3">\n            </span><span class="s1">styles.removeStylesFrom(target);</span><span class="s3">\n            </span><span class="s1">if (sourceBehaviors !== null) {</span><span class="s3">\n                </span><span class="s1">this.removeBehaviors(sourceBehaviors);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Adds behaviors to this element.</span><span class="s3">\n     </span><span class="s1">* @param behaviors - The behaviors to add.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">addBehaviors(behaviors) {</span><span class="s3">\n        </span><span class="s1">const targetBehaviors = this.behaviors || (this.behaviors = new Map());</span><span class="s3">\n        </span><span class="s1">const length = behaviors.length;</span><span class="s3">\n        </span><span class="s1">const behaviorsToBind = [];</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; length; ++i) {</span><span class="s3">\n            </span><span class="s1">const behavior = behaviors[i];</span><span class="s3">\n            </span><span class="s1">if (targetBehaviors.has(behavior)) {</span><span class="s3">\n                </span><span class="s1">targetBehaviors.set(behavior, targetBehaviors.get(behavior) + 1);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">targetBehaviors.set(behavior, 1);</span><span class="s3">\n                </span><span class="s1">behaviorsToBind.push(behavior);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this._isConnected) {</span><span class="s3">\n            </span><span class="s1">const element = this.element;</span><span class="s3">\n            </span><span class="s1">for (let i = 0; i &lt; behaviorsToBind.length; ++i) {</span><span class="s3">\n                </span><span class="s1">behaviorsToBind[i].bind(element, defaultExecutionContext);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Removes behaviors from this element.</span><span class="s3">\n     </span><span class="s1">* @param behaviors - The behaviors to remove.</span><span class="s3">\n     </span><span class="s1">* @param force - Forces unbinding of behaviors.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">removeBehaviors(behaviors, force = false) {</span><span class="s3">\n        </span><span class="s1">const targetBehaviors = this.behaviors;</span><span class="s3">\n        </span><span class="s1">if (targetBehaviors === null) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const length = behaviors.length;</span><span class="s3">\n        </span><span class="s1">const behaviorsToUnbind = [];</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; length; ++i) {</span><span class="s3">\n            </span><span class="s1">const behavior = behaviors[i];</span><span class="s3">\n            </span><span class="s1">if (targetBehaviors.has(behavior)) {</span><span class="s3">\n                </span><span class="s1">const count = targetBehaviors.get(behavior) - 1;</span><span class="s3">\n                </span><span class="s1">count === 0 || force</span><span class="s3">\n                    </span><span class="s1">? targetBehaviors.delete(behavior) &amp;&amp; behaviorsToUnbind.push(behavior)</span><span class="s3">\n                    </span><span class="s1">: targetBehaviors.set(behavior, count);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this._isConnected) {</span><span class="s3">\n            </span><span class="s1">const element = this.element;</span><span class="s3">\n            </span><span class="s1">for (let i = 0; i &lt; behaviorsToUnbind.length; ++i) {</span><span class="s3">\n                </span><span class="s1">behaviorsToUnbind[i].unbind(element);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Runs connected lifecycle behavior on the associated element.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">onConnectedCallback() {</span><span class="s3">\n        </span><span class="s1">if (this._isConnected) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const element = this.element;</span><span class="s3">\n        </span><span class="s1">if (this.needsInitialization) {</span><span class="s3">\n            </span><span class="s1">this.finishInitialization();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (this.view !== null) {</span><span class="s3">\n            </span><span class="s1">this.view.bind(element, defaultExecutionContext);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const behaviors = this.behaviors;</span><span class="s3">\n        </span><span class="s1">if (behaviors !== null) {</span><span class="s3">\n            </span><span class="s1">for (const [behavior] of behaviors) {</span><span class="s3">\n                </span><span class="s1">behavior.bind(element, defaultExecutionContext);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.setIsConnected(true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Runs disconnected lifecycle behavior on the associated element.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">onDisconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">if (!this._isConnected) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.setIsConnected(false);</span><span class="s3">\n        </span><span class="s1">const view = this.view;</span><span class="s3">\n        </span><span class="s1">if (view !== null) {</span><span class="s3">\n            </span><span class="s1">view.unbind();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const behaviors = this.behaviors;</span><span class="s3">\n        </span><span class="s1">if (behaviors !== null) {</span><span class="s3">\n            </span><span class="s1">const element = this.element;</span><span class="s3">\n            </span><span class="s1">for (const [behavior] of behaviors) {</span><span class="s3">\n                </span><span class="s1">behavior.unbind(element);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Runs the attribute changed callback for the associated element.</span><span class="s3">\n     </span><span class="s1">* @param name - The name of the attribute that changed.</span><span class="s3">\n     </span><span class="s1">* @param oldValue - The previous value of the attribute.</span><span class="s3">\n     </span><span class="s1">* @param newValue - The new value of the attribute.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">onAttributeChangedCallback(name, oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">const attrDef = this.definition.attributeLookup[name];</span><span class="s3">\n        </span><span class="s1">if (attrDef !== void 0) {</span><span class="s3">\n            </span><span class="s1">attrDef.onAttributeChangedCallback(this.element, newValue);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Emits a custom HTML event.</span><span class="s3">\n     </span><span class="s1">* @param type - The type name of the event.</span><span class="s3">\n     </span><span class="s1">* @param detail - The event detail object to send with the event.</span><span class="s3">\n     </span><span class="s1">* @param options - The event options. By default bubbles and composed.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Only emits events if connected.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">emit(type, detail, options) {</span><span class="s3">\n        </span><span class="s1">if (this._isConnected) {</span><span class="s3">\n            </span><span class="s1">return this.element.dispatchEvent(new CustomEvent(type, Object.assign(Object.assign({ detail }, defaultEventOptions), options)));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">finishInitialization() {</span><span class="s3">\n        </span><span class="s1">const element = this.element;</span><span class="s3">\n        </span><span class="s1">const boundObservables = this.boundObservables;</span><span class="s3">\n        </span><span class="s1">// If we have any observables that were bound, re-apply their values.</span><span class="s3">\n        </span><span class="s1">if (boundObservables !== null) {</span><span class="s3">\n            </span><span class="s1">const propertyNames = Object.keys(boundObservables);</span><span class="s3">\n            </span><span class="s1">for (let i = 0, ii = propertyNames.length; i &lt; ii; ++i) {</span><span class="s3">\n                </span><span class="s1">const propertyName = propertyNames[i];</span><span class="s3">\n                </span><span class="s1">element[propertyName] = boundObservables[propertyName];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.boundObservables = null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const definition = this.definition;</span><span class="s3">\n        </span><span class="s1">// 1. Template overrides take top precedence.</span><span class="s3">\n        </span><span class="s1">if (this._template === null) {</span><span class="s3">\n            </span><span class="s1">if (this.element.resolveTemplate) {</span><span class="s3">\n                </span><span class="s1">// 2. Allow for element instance overrides next.</span><span class="s3">\n                </span><span class="s1">this._template = this.element.resolveTemplate();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (definition.template) {</span><span class="s3">\n                </span><span class="s1">// 3. Default to the static definition.</span><span class="s3">\n                </span><span class="s1">this._template = definition.template || null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// If we have a template after the above process, render it.</span><span class="s3">\n        </span><span class="s1">// If there's no template, then the element author has opted into</span><span class="s3">\n        </span><span class="s1">// custom rendering and they will managed the shadow root's content themselves.</span><span class="s3">\n        </span><span class="s1">if (this._template !== null) {</span><span class="s3">\n            </span><span class="s1">this.renderTemplate(this._template);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// 1. Styles overrides take top precedence.</span><span class="s3">\n        </span><span class="s1">if (this._styles === null) {</span><span class="s3">\n            </span><span class="s1">if (this.element.resolveStyles) {</span><span class="s3">\n                </span><span class="s1">// 2. Allow for element instance overrides next.</span><span class="s3">\n                </span><span class="s1">this._styles = this.element.resolveStyles();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (definition.styles) {</span><span class="s3">\n                </span><span class="s1">// 3. Default to the static definition.</span><span class="s3">\n                </span><span class="s1">this._styles = definition.styles || null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// If we have styles after the above process, add them.</span><span class="s3">\n        </span><span class="s1">if (this._styles !== null) {</span><span class="s3">\n            </span><span class="s1">this.addStyles(this._styles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.needsInitialization = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">renderTemplate(template) {</span><span class="s3">\n        </span><span class="s1">const element = this.element;</span><span class="s3">\n        </span><span class="s1">// When getting the host to render to, we start by looking</span><span class="s3">\n        </span><span class="s1">// up the shadow root. If there isn't one, then that means</span><span class="s3">\n        </span><span class="s1">// we're doing a Light DOM render to the element's direct children.</span><span class="s3">\n        </span><span class="s1">const host = getShadowRoot(element) || element;</span><span class="s3">\n        </span><span class="s1">if (this.view !== null) {</span><span class="s3">\n            </span><span class="s1">// If there's already a view, we need to unbind and remove through dispose.</span><span class="s3">\n            </span><span class="s1">this.view.dispose();</span><span class="s3">\n            </span><span class="s1">this.view = null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (!this.needsInitialization) {</span><span class="s3">\n            </span><span class="s1">// If there was previous custom rendering, we need to clear out the host.</span><span class="s3">\n            </span><span class="s1">DOM.removeChildNodes(host);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (template) {</span><span class="s3">\n            </span><span class="s1">// If a new template was provided, render it.</span><span class="s3">\n            </span><span class="s1">this.view = template.render(element, host, element);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Locates or creates a controller for the specified element.</span><span class="s3">\n     </span><span class="s1">* @param element - The element to return the controller for.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* The specified element must have a {@link FASTElementDefinition}</span><span class="s3">\n     </span><span class="s1">* registered either through the use of the {@link customElement}</span><span class="s3">\n     </span><span class="s1">* decorator or a call to `FASTElement.define`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static forCustomElement(element) {</span><span class="s3">\n        </span><span class="s1">const controller = element.$fastController;</span><span class="s3">\n        </span><span class="s1">if (controller !== void 0) {</span><span class="s3">\n            </span><span class="s1">return controller;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const definition = FASTElementDefinition.forType(element.constructor);</span><span class="s3">\n        </span><span class="s1">if (definition === void 0) {</span><span class="s3">\n            </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Missing FASTElement definition.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return (element.$fastController = new Controller(element, definition));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { Controller } from </span><span class="s3">\&quot;</span><span class="s1">./controller.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FASTElementDefinition, } from </span><span class="s3">\&quot;</span><span class="s1">./fast-definitions.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/* eslint-disable-next-line @typescript-eslint/explicit-function-return-type */</span><span class="s3">\n</span><span class="s1">function createFASTElement(BaseType) {</span><span class="s3">\n    </span><span class="s1">return class extends BaseType {</span><span class="s3">\n        </span><span class="s1">constructor() {</span><span class="s3">\n            </span><span class="s1">/* eslint-disable-next-line */</span><span class="s3">\n            </span><span class="s1">super();</span><span class="s3">\n            </span><span class="s1">Controller.forCustomElement(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">$emit(type, detail, options) {</span><span class="s3">\n            </span><span class="s1">return this.$fastController.emit(type, detail, options);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">connectedCallback() {</span><span class="s3">\n            </span><span class="s1">this.$fastController.onConnectedCallback();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n            </span><span class="s1">this.$fastController.onDisconnectedCallback();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">attributeChangedCallback(name, oldValue, newValue) {</span><span class="s3">\n            </span><span class="s1">this.$fastController.onAttributeChangedCallback(name, oldValue, newValue);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A minimal base class for FASTElements that also provides</span><span class="s3">\n </span><span class="s1">* static helpers for working with FASTElements.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const FASTElement = Object.assign(createFASTElement(HTMLElement), {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a new FASTElement base class inherited from the</span><span class="s3">\n     </span><span class="s1">* provided base type.</span><span class="s3">\n     </span><span class="s1">* @param BaseType - The base element type to inherit from.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">from(BaseType) {</span><span class="s3">\n        </span><span class="s1">return createFASTElement(BaseType);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Defines a platform custom element based on the provided type and definition.</span><span class="s3">\n     </span><span class="s1">* @param type - The custom element type to define.</span><span class="s3">\n     </span><span class="s1">* @param nameOrDef - The name of the element to define or a definition object</span><span class="s3">\n     </span><span class="s1">* that describes the element to define.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">define(type, nameOrDef) {</span><span class="s3">\n        </span><span class="s1">return new FASTElementDefinition(type, nameOrDef).define().type;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Decorator: Defines a platform custom element based on `FASTElement`.</span><span class="s3">\n </span><span class="s1">* @param nameOrDef - The name of the element to define or a definition object</span><span class="s3">\n </span><span class="s1">* that describes the element to define.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function customElement(nameOrDef) {</span><span class="s3">\n    </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/explicit-function-return-type */</span><span class="s3">\n    </span><span class="s1">return function (type) {</span><span class="s3">\n        </span><span class="s1">new FASTElementDefinition(type, nameOrDef).define();</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Retrieves the </span><span class="s3">\&quot;</span><span class="s1">composed parent</span><span class="s3">\&quot; </span><span class="s1">element of a node, ignoring DOM tree boundaries.</span><span class="s3">\n </span><span class="s1">* When the parent of a node is a shadow-root, it will return the host</span><span class="s3">\n </span><span class="s1">* element of the shadow root. Otherwise it will return the parent node or null if</span><span class="s3">\n </span><span class="s1">* no parent node exists.</span><span class="s3">\n </span><span class="s1">* @param element - The element for which to retrieve the composed parent</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function composedParent(element) {</span><span class="s3">\n    </span><span class="s1">const parentNode = element.parentElement;</span><span class="s3">\n    </span><span class="s1">if (parentNode) {</span><span class="s3">\n        </span><span class="s1">return parentNode;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">const rootNode = element.getRootNode();</span><span class="s3">\n        </span><span class="s1">if (rootNode.host instanceof HTMLElement) {</span><span class="s3">\n            </span><span class="s1">// this is shadow-root</span><span class="s3">\n            </span><span class="s1">return rootNode.host;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { composedParent } from </span><span class="s3">\&quot;</span><span class="s1">./composed-parent.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Determines if the reference element contains the test element in a </span><span class="s3">\&quot;</span><span class="s1">composed</span><span class="s3">\&quot; </span><span class="s1">DOM tree that</span><span class="s3">\n </span><span class="s1">* ignores shadow DOM boundaries.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Returns true of the test element is a descendent of the reference, or exist in</span><span class="s3">\n </span><span class="s1">* a shadow DOM that is a logical descendent of the reference. Otherwise returns false.</span><span class="s3">\n </span><span class="s1">* @param reference - The element to test for containment against.</span><span class="s3">\n </span><span class="s1">* @param test - The element being tested for containment.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function composedContains(reference, test) {</span><span class="s3">\n    </span><span class="s1">let current = test;</span><span class="s3">\n    </span><span class="s1">while (current !== null) {</span><span class="s3">\n        </span><span class="s1">if (current === reference) {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">current = composedParent(current);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DOM, ElementStyles, FASTElement, observable, Observable, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const defaultElement = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">div</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">function isFastElement(element) {</span><span class="s3">\n    </span><span class="s1">return element instanceof FASTElement;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">class QueuedStyleSheetTarget {</span><span class="s3">\n    </span><span class="s1">setProperty(name, value) {</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; this.target.setProperty(name, value));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">removeProperty(name) {</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; this.target.removeProperty(name));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Handles setting properties for a FASTElement using Constructable Stylesheets</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class ConstructableStyleSheetTarget extends QueuedStyleSheetTarget {</span><span class="s3">\n    </span><span class="s1">constructor(source) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">const sheet = new CSSStyleSheet();</span><span class="s3">\n        </span><span class="s1">this.target = sheet.cssRules[sheet.insertRule(</span><span class="s3">\&quot;</span><span class="s1">:host{}</span><span class="s3">\&quot;</span><span class="s1">)].style;</span><span class="s3">\n        </span><span class="s1">source.$fastController.addStyles(ElementStyles.create([sheet]));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">class DocumentStyleSheetTarget extends QueuedStyleSheetTarget {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">const sheet = new CSSStyleSheet();</span><span class="s3">\n        </span><span class="s1">this.target = sheet.cssRules[sheet.insertRule(</span><span class="s3">\&quot;</span><span class="s1">:root{}</span><span class="s3">\&quot;</span><span class="s1">)].style;</span><span class="s3">\n        </span><span class="s1">document.adoptedStyleSheets = [</span><span class="s3">\n            </span><span class="s1">...document.adoptedStyleSheets,</span><span class="s3">\n            </span><span class="s1">sheet,</span><span class="s3">\n        </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">class HeadStyleElementStyleSheetTarget extends QueuedStyleSheetTarget {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this.style = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">document.head.appendChild(this.style);</span><span class="s3">\n        </span><span class="s1">const { sheet } = this.style;</span><span class="s3">\n        </span><span class="s1">// Because the HTMLStyleElement has been appended,</span><span class="s3">\n        </span><span class="s1">// there shouldn't exist a case where `sheet` is null,</span><span class="s3">\n        </span><span class="s1">// but if-check it just in case.</span><span class="s3">\n        </span><span class="s1">if (sheet) {</span><span class="s3">\n            </span><span class="s1">// https://github.com/jsdom/jsdom uses https://github.com/NV/CSSOM for it's CSSOM implementation,</span><span class="s3">\n            </span><span class="s1">// which implements the DOM Level 2 spec for CSSStyleSheet where insertRule() requires an index argument.</span><span class="s3">\n            </span><span class="s1">const index = sheet.insertRule(</span><span class="s3">\&quot;</span><span class="s1">:root{}</span><span class="s3">\&quot;</span><span class="s1">, sheet.cssRules.length);</span><span class="s3">\n            </span><span class="s1">this.target = sheet.cssRules[index].style;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Handles setting properties for a FASTElement using an HTMLStyleElement</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class StyleElementStyleSheetTarget {</span><span class="s3">\n    </span><span class="s1">constructor(target) {</span><span class="s3">\n        </span><span class="s1">this.store = new Map();</span><span class="s3">\n        </span><span class="s1">this.target = null;</span><span class="s3">\n        </span><span class="s1">const controller = target.$fastController;</span><span class="s3">\n        </span><span class="s1">this.style = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">controller.addStyles(this.style);</span><span class="s3">\n        </span><span class="s1">Observable.getNotifier(controller).subscribe(this, </span><span class="s3">\&quot;</span><span class="s1">isConnected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.handleChange(controller, </span><span class="s3">\&quot;</span><span class="s1">isConnected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">targetChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.target !== null) {</span><span class="s3">\n            </span><span class="s1">for (const [key, value] of this.store.entries()) {</span><span class="s3">\n                </span><span class="s1">this.target.setProperty(key, value);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setProperty(name, value) {</span><span class="s3">\n        </span><span class="s1">this.store.set(name, value);</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.target !== null) {</span><span class="s3">\n                </span><span class="s1">this.target.setProperty(name, value);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">removeProperty(name) {</span><span class="s3">\n        </span><span class="s1">this.store.delete(name);</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.target !== null) {</span><span class="s3">\n                </span><span class="s1">this.target.removeProperty(name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleChange(source, key) {</span><span class="s3">\n        </span><span class="s1">// HTMLStyleElement.sheet is null if the element isn't connected to the DOM,</span><span class="s3">\n        </span><span class="s1">// so this method reacts to changes in DOM connection for the element hosting</span><span class="s3">\n        </span><span class="s1">// the HTMLStyleElement.</span><span class="s3">\n        </span><span class="s1">//</span><span class="s3">\n        </span><span class="s1">// All rules applied via the CSSOM also get cleared when the element disconnects,</span><span class="s3">\n        </span><span class="s1">// so we need to add a new rule each time and populate it with the stored properties</span><span class="s3">\n        </span><span class="s1">const { sheet } = this.style;</span><span class="s3">\n        </span><span class="s1">if (sheet) {</span><span class="s3">\n            </span><span class="s1">// Safari will throw if we try to use the return result of insertRule()</span><span class="s3">\n            </span><span class="s1">// to index the rule inline, so store as a const prior to indexing.</span><span class="s3">\n            </span><span class="s1">// https://github.com/jsdom/jsdom uses https://github.com/NV/CSSOM for it's CSSOM implementation,</span><span class="s3">\n            </span><span class="s1">// which implements the DOM Level 2 spec for CSSStyleSheet where insertRule() requires an index argument.</span><span class="s3">\n            </span><span class="s1">const index = sheet.insertRule(</span><span class="s3">\&quot;</span><span class="s1">:host{}</span><span class="s3">\&quot;</span><span class="s1">, sheet.cssRules.length);</span><span class="s3">\n            </span><span class="s1">this.target = sheet.cssRules[index].style;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.target = null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], StyleElementStyleSheetTarget.prototype, </span><span class="s3">\&quot;</span><span class="s1">target</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Handles setting properties for a normal HTMLElement</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class ElementStyleSheetTarget {</span><span class="s3">\n    </span><span class="s1">constructor(source) {</span><span class="s3">\n        </span><span class="s1">this.target = source.style;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setProperty(name, value) {</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; this.target.setProperty(name, value));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">removeProperty(name) {</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; this.target.removeProperty(name));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Controls emission for default values. This control is capable</span><span class="s3">\n </span><span class="s1">* of emitting to multiple {@link PropertyTarget | PropertyTargets},</span><span class="s3">\n </span><span class="s1">* and only emits if it has at least one root.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class RootStyleSheetTarget {</span><span class="s3">\n    </span><span class="s1">setProperty(name, value) {</span><span class="s3">\n        </span><span class="s1">RootStyleSheetTarget.properties[name] = value;</span><span class="s3">\n        </span><span class="s1">for (const target of RootStyleSheetTarget.roots.values()) {</span><span class="s3">\n            </span><span class="s1">PropertyTargetManager.getOrCreate(RootStyleSheetTarget.normalizeRoot(target)).setProperty(name, value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">removeProperty(name) {</span><span class="s3">\n        </span><span class="s1">delete RootStyleSheetTarget.properties[name];</span><span class="s3">\n        </span><span class="s1">for (const target of RootStyleSheetTarget.roots.values()) {</span><span class="s3">\n            </span><span class="s1">PropertyTargetManager.getOrCreate(RootStyleSheetTarget.normalizeRoot(target)).removeProperty(name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">static registerRoot(root) {</span><span class="s3">\n        </span><span class="s1">const { roots } = RootStyleSheetTarget;</span><span class="s3">\n        </span><span class="s1">if (!roots.has(root)) {</span><span class="s3">\n            </span><span class="s1">roots.add(root);</span><span class="s3">\n            </span><span class="s1">const target = PropertyTargetManager.getOrCreate(this.normalizeRoot(root));</span><span class="s3">\n            </span><span class="s1">for (const key in RootStyleSheetTarget.properties) {</span><span class="s3">\n                </span><span class="s1">target.setProperty(key, RootStyleSheetTarget.properties[key]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">static unregisterRoot(root) {</span><span class="s3">\n        </span><span class="s1">const { roots } = RootStyleSheetTarget;</span><span class="s3">\n        </span><span class="s1">if (roots.has(root)) {</span><span class="s3">\n            </span><span class="s1">roots.delete(root);</span><span class="s3">\n            </span><span class="s1">const target = PropertyTargetManager.getOrCreate(RootStyleSheetTarget.normalizeRoot(root));</span><span class="s3">\n            </span><span class="s1">for (const key in RootStyleSheetTarget.properties) {</span><span class="s3">\n                </span><span class="s1">target.removeProperty(key);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the document when provided the default element,</span><span class="s3">\n     </span><span class="s1">* otherwise is a no-op</span><span class="s3">\n     </span><span class="s1">* @param root - the root to normalize</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static normalizeRoot(root) {</span><span class="s3">\n        </span><span class="s1">return root === defaultElement ? document : root;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">RootStyleSheetTarget.roots = new Set();</span><span class="s3">\n</span><span class="s1">RootStyleSheetTarget.properties = {};</span><span class="s3">\n</span><span class="s1">// Caches PropertyTarget instances</span><span class="s3">\n</span><span class="s1">const propertyTargetCache = new WeakMap();</span><span class="s3">\n</span><span class="s1">// Use Constructable StyleSheets for FAST elements when supported, otherwise use</span><span class="s3">\n</span><span class="s1">// HTMLStyleElement instances</span><span class="s3">\n</span><span class="s1">const propertyTargetCtor = DOM.supportsAdoptedStyleSheets</span><span class="s3">\n    </span><span class="s1">? ConstructableStyleSheetTarget</span><span class="s3">\n    </span><span class="s1">: StyleElementStyleSheetTarget;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Manages creation and caching of PropertyTarget instances.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const PropertyTargetManager = Object.freeze({</span><span class="s3">\n    </span><span class="s1">getOrCreate(source) {</span><span class="s3">\n        </span><span class="s1">if (propertyTargetCache.has(source)) {</span><span class="s3">\n            </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n            </span><span class="s1">return propertyTargetCache.get(source);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let target;</span><span class="s3">\n        </span><span class="s1">if (source === defaultElement) {</span><span class="s3">\n            </span><span class="s1">target = new RootStyleSheetTarget();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (source instanceof Document) {</span><span class="s3">\n            </span><span class="s1">target = DOM.supportsAdoptedStyleSheets</span><span class="s3">\n                </span><span class="s1">? new DocumentStyleSheetTarget()</span><span class="s3">\n                </span><span class="s1">: new HeadStyleElementStyleSheetTarget();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (isFastElement(source)) {</span><span class="s3">\n            </span><span class="s1">target = new propertyTargetCtor(source);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">target = new ElementStyleSheetTarget(source);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">propertyTargetCache.set(source, target);</span><span class="s3">\n        </span><span class="s1">return target;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { CSSDirective, defaultExecutionContext, FASTElement, observable, Observable, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { composedParent } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/composed-parent.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { composedContains } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/composed-contains.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { PropertyTargetManager, RootStyleSheetTarget, } from </span><span class="s3">\&quot;</span><span class="s1">./custom-property-manager.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { defaultElement } from </span><span class="s3">\&quot;</span><span class="s1">./custom-property-manager.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Implementation of {@link (DesignToken:interface)}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class DesignTokenImpl extends CSSDirective {</span><span class="s3">\n    </span><span class="s1">constructor(configuration) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this.subscribers = new WeakMap();</span><span class="s3">\n        </span><span class="s1">this._appliedTo = new Set();</span><span class="s3">\n        </span><span class="s1">this.name = configuration.name;</span><span class="s3">\n        </span><span class="s1">if (configuration.cssCustomPropertyName !== null) {</span><span class="s3">\n            </span><span class="s1">this.cssCustomProperty = `--${configuration.cssCustomPropertyName}`;</span><span class="s3">\n            </span><span class="s1">this.cssVar = `var(${this.cssCustomProperty})`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.id = DesignTokenImpl.uniqueId();</span><span class="s3">\n        </span><span class="s1">DesignTokenImpl.tokensById.set(this.id, this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get appliedTo() {</span><span class="s3">\n        </span><span class="s1">return [...this._appliedTo];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">static from(nameOrConfig) {</span><span class="s3">\n        </span><span class="s1">return new DesignTokenImpl({</span><span class="s3">\n            </span><span class="s1">name: typeof nameOrConfig === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">? nameOrConfig : nameOrConfig.name,</span><span class="s3">\n            </span><span class="s1">cssCustomPropertyName: typeof nameOrConfig === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;\n                </span><span class="s1">? nameOrConfig</span><span class="s3">\n                </span><span class="s1">: nameOrConfig.cssCustomPropertyName === void 0</span><span class="s3">\n                    </span><span class="s1">? nameOrConfig.name</span><span class="s3">\n                    </span><span class="s1">: nameOrConfig.cssCustomPropertyName,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">static isCSSDesignToken(token) {</span><span class="s3">\n        </span><span class="s1">return typeof token.cssCustomProperty === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">static isDerivedDesignTokenValue(value) {</span><span class="s3">\n        </span><span class="s1">return typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets a token by ID. Returns undefined if the token was not found.</span><span class="s3">\n     </span><span class="s1">* @param id - The ID of the token</span><span class="s3">\n     </span><span class="s1">* @returns</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static getTokenById(id) {</span><span class="s3">\n        </span><span class="s1">return DesignTokenImpl.tokensById.get(id);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getOrCreateSubscriberSet(target = this) {</span><span class="s3">\n        </span><span class="s1">return (this.subscribers.get(target) ||</span><span class="s3">\n            </span><span class="s1">(this.subscribers.set(target, new Set()) &amp;&amp; this.subscribers.get(target)));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">createCSS() {</span><span class="s3">\n        </span><span class="s1">return this.cssVar || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getValueFor(element) {</span><span class="s3">\n        </span><span class="s1">const value = DesignTokenNode.getOrCreate(element).get(this);</span><span class="s3">\n        </span><span class="s1">if (value !== undefined) {</span><span class="s3">\n            </span><span class="s1">return value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">throw new Error(`Value could not be retrieved for token named </span><span class="s3">\&quot;</span><span class="s1">${this.name}</span><span class="s3">\&quot;</span><span class="s1">. Ensure the value is set for ${element} or an ancestor of ${element}.`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setValueFor(element, value) {</span><span class="s3">\n        </span><span class="s1">this._appliedTo.add(element);</span><span class="s3">\n        </span><span class="s1">if (value instanceof DesignTokenImpl) {</span><span class="s3">\n            </span><span class="s1">value = this.alias(value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">DesignTokenNode.getOrCreate(element).set(this, value);</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">deleteValueFor(element) {</span><span class="s3">\n        </span><span class="s1">this._appliedTo.delete(element);</span><span class="s3">\n        </span><span class="s1">if (DesignTokenNode.existsFor(element)) {</span><span class="s3">\n            </span><span class="s1">DesignTokenNode.getOrCreate(element).delete(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">withDefault(value) {</span><span class="s3">\n        </span><span class="s1">this.setValueFor(defaultElement, value);</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">subscribe(subscriber, target) {</span><span class="s3">\n        </span><span class="s1">const subscriberSet = this.getOrCreateSubscriberSet(target);</span><span class="s3">\n        </span><span class="s1">if (target &amp;&amp; !DesignTokenNode.existsFor(target)) {</span><span class="s3">\n            </span><span class="s1">DesignTokenNode.getOrCreate(target);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!subscriberSet.has(subscriber)) {</span><span class="s3">\n            </span><span class="s1">subscriberSet.add(subscriber);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">unsubscribe(subscriber, target) {</span><span class="s3">\n        </span><span class="s1">const list = this.subscribers.get(target || this);</span><span class="s3">\n        </span><span class="s1">if (list &amp;&amp; list.has(subscriber)) {</span><span class="s3">\n            </span><span class="s1">list.delete(subscriber);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Notifies subscribers that the value for an element has changed.</span><span class="s3">\n     </span><span class="s1">* @param element - The element to emit a notification for</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">notify(element) {</span><span class="s3">\n        </span><span class="s1">const record = Object.freeze({ token: this, target: element });</span><span class="s3">\n        </span><span class="s1">if (this.subscribers.has(this)) {</span><span class="s3">\n            </span><span class="s1">this.subscribers.get(this).forEach(sub =&gt; sub.handleChange(record));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.subscribers.has(element)) {</span><span class="s3">\n            </span><span class="s1">this.subscribers.get(element).forEach(sub =&gt; sub.handleChange(record));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Alias the token to the provided token.</span><span class="s3">\n     </span><span class="s1">* @param token - the token to alias to</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">alias(token) {</span><span class="s3">\n        </span><span class="s1">return ((target) =&gt; token.getValueFor(target));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">DesignTokenImpl.uniqueId = (() =&gt; {</span><span class="s3">\n    </span><span class="s1">let id = 0;</span><span class="s3">\n    </span><span class="s1">return () =&gt; {</span><span class="s3">\n        </span><span class="s1">id++;</span><span class="s3">\n        </span><span class="s1">return id.toString(16);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Token storage by token ID</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">DesignTokenImpl.tokensById = new Map();</span><span class="s3">\n</span><span class="s1">class CustomPropertyReflector {</span><span class="s3">\n    </span><span class="s1">startReflection(token, target) {</span><span class="s3">\n        </span><span class="s1">token.subscribe(this, target);</span><span class="s3">\n        </span><span class="s1">this.handleChange({ token, target });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">stopReflection(token, target) {</span><span class="s3">\n        </span><span class="s1">token.unsubscribe(this, target);</span><span class="s3">\n        </span><span class="s1">this.remove(token, target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleChange(record) {</span><span class="s3">\n        </span><span class="s1">const { token, target } = record;</span><span class="s3">\n        </span><span class="s1">this.add(token, target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">add(token, target) {</span><span class="s3">\n        </span><span class="s1">PropertyTargetManager.getOrCreate(target).setProperty(token.cssCustomProperty, this.resolveCSSValue(DesignTokenNode.getOrCreate(target).get(token)));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">remove(token, target) {</span><span class="s3">\n        </span><span class="s1">PropertyTargetManager.getOrCreate(target).removeProperty(token.cssCustomProperty);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">resolveCSSValue(value) {</span><span class="s3">\n        </span><span class="s1">return value &amp;&amp; typeof value.createCSS === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? value.createCSS() : value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A light wrapper around BindingObserver to handle value caching and</span><span class="s3">\n </span><span class="s1">* token notification</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class DesignTokenBindingObserver {</span><span class="s3">\n    </span><span class="s1">constructor(source, token, node) {</span><span class="s3">\n        </span><span class="s1">this.source = source;</span><span class="s3">\n        </span><span class="s1">this.token = token;</span><span class="s3">\n        </span><span class="s1">this.node = node;</span><span class="s3">\n        </span><span class="s1">this.dependencies = new Set();</span><span class="s3">\n        </span><span class="s1">this.observer = Observable.binding(source, this, false);</span><span class="s3">\n        </span><span class="s1">// This is a little bit hacky because it's using internal APIs of BindingObserverImpl.</span><span class="s3">\n        </span><span class="s1">// BindingObserverImpl queues updates to batch it's notifications which doesn't work for this</span><span class="s3">\n        </span><span class="s1">// scenario because the DesignToken.getValueFor API is not async. Without this, using DesignToken.getValueFor()</span><span class="s3">\n        </span><span class="s1">// after DesignToken.setValueFor() when setting a dependency of the value being retrieved can return a stale</span><span class="s3">\n        </span><span class="s1">// value. Assigning .handleChange to .call forces immediate invocation of this classes handleChange() method,</span><span class="s3">\n        </span><span class="s1">// allowing resolution of values synchronously.</span><span class="s3">\n        </span><span class="s1">// TODO: https://github.com/microsoft/fast/issues/5110</span><span class="s3">\n        </span><span class="s1">this.observer.handleChange = this.observer.call;</span><span class="s3">\n        </span><span class="s1">this.handleChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">disconnect() {</span><span class="s3">\n        </span><span class="s1">this.observer.disconnect();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange() {</span><span class="s3">\n        </span><span class="s1">this.node.store.set(this.token, this.observer.observe(this.node.target, defaultExecutionContext));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Stores resolved token/value pairs and notifies on changes</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class Store {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">this.values = new Map();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set(token, value) {</span><span class="s3">\n        </span><span class="s1">if (this.values.get(token) !== value) {</span><span class="s3">\n            </span><span class="s1">this.values.set(token, value);</span><span class="s3">\n            </span><span class="s1">Observable.getNotifier(this).notify(token.id);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get(token) {</span><span class="s3">\n        </span><span class="s1">Observable.track(this, token.id);</span><span class="s3">\n        </span><span class="s1">return this.values.get(token);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">delete(token) {</span><span class="s3">\n        </span><span class="s1">this.values.delete(token);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">all() {</span><span class="s3">\n        </span><span class="s1">return this.values.entries();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const nodeCache = new WeakMap();</span><span class="s3">\n</span><span class="s1">const childToParent = new WeakMap();</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A node responsible for setting and getting token values,</span><span class="s3">\n </span><span class="s1">* emitting values to CSS custom properties, and maintaining</span><span class="s3">\n </span><span class="s1">* inheritance structures.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class DesignTokenNode {</span><span class="s3">\n    </span><span class="s1">constructor(target) {</span><span class="s3">\n        </span><span class="s1">this.target = target;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Stores all resolved token values for a node</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.store = new Store();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* All children assigned to the node</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.children = [];</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* All values explicitly assigned to the node in their raw form</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.assignedValues = new Map();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Tokens currently being reflected to CSS custom properties</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.reflecting = new Set();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Binding observers for assigned and inherited derived values.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.bindingObservers = new Map();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Emits notifications to token when token values</span><span class="s3">\n         </span><span class="s1">* change the DesignTokenNode</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.tokenValueChangeHandler = {</span><span class="s3">\n            </span><span class="s1">handleChange: (source, arg) =&gt; {</span><span class="s3">\n                </span><span class="s1">const token = DesignTokenImpl.getTokenById(arg);</span><span class="s3">\n                </span><span class="s1">if (token) {</span><span class="s3">\n                    </span><span class="s1">// Notify any token subscribers</span><span class="s3">\n                    </span><span class="s1">token.notify(this.target);</span><span class="s3">\n                    </span><span class="s1">this.updateCSSTokenReflection(source, token);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">nodeCache.set(target, this);</span><span class="s3">\n        </span><span class="s1">// Map store change notifications to token change notifications</span><span class="s3">\n        </span><span class="s1">Observable.getNotifier(this.store).subscribe(this.tokenValueChangeHandler);</span><span class="s3">\n        </span><span class="s1">if (target instanceof FASTElement) {</span><span class="s3">\n            </span><span class="s1">target.$fastController.addBehaviors([this]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (target.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.bind();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns a DesignTokenNode for an element.</span><span class="s3">\n     </span><span class="s1">* Creates a new instance if one does not already exist for a node,</span><span class="s3">\n     </span><span class="s1">* otherwise returns the cached instance</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param target - The HTML element to retrieve a DesignTokenNode for</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static getOrCreate(target) {</span><span class="s3">\n        </span><span class="s1">return nodeCache.get(target) || new DesignTokenNode(target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines if a DesignTokenNode has been created for a target</span><span class="s3">\n     </span><span class="s1">* @param target - The element to test</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static existsFor(target) {</span><span class="s3">\n        </span><span class="s1">return nodeCache.has(target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Searches for and return the nearest parent DesignTokenNode.</span><span class="s3">\n     </span><span class="s1">* Null is returned if no node is found or the node provided is for a default element.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static findParent(node) {</span><span class="s3">\n        </span><span class="s1">if (!(defaultElement === node.target)) {</span><span class="s3">\n            </span><span class="s1">let parent = composedParent(node.target);</span><span class="s3">\n            </span><span class="s1">while (parent !== null) {</span><span class="s3">\n                </span><span class="s1">if (nodeCache.has(parent)) {</span><span class="s3">\n                    </span><span class="s1">return nodeCache.get(parent);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">parent = composedParent(parent);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return DesignTokenNode.getOrCreate(defaultElement);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Finds the closest node with a value explicitly assigned for a token, otherwise null.</span><span class="s3">\n     </span><span class="s1">* @param token - The token to look for</span><span class="s3">\n     </span><span class="s1">* @param start - The node to start looking for value assignment</span><span class="s3">\n     </span><span class="s1">* @returns</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static findClosestAssignedNode(token, start) {</span><span class="s3">\n        </span><span class="s1">let current = start;</span><span class="s3">\n        </span><span class="s1">do {</span><span class="s3">\n            </span><span class="s1">if (current.has(token)) {</span><span class="s3">\n                </span><span class="s1">return current;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">current = current.parent</span><span class="s3">\n                </span><span class="s1">? current.parent</span><span class="s3">\n                </span><span class="s1">: current.target !== defaultElement</span><span class="s3">\n                    </span><span class="s1">? DesignTokenNode.getOrCreate(defaultElement)</span><span class="s3">\n                    </span><span class="s1">: null;</span><span class="s3">\n        </span><span class="s1">} while (current !== null);</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The parent DesignTokenNode, or null.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get parent() {</span><span class="s3">\n        </span><span class="s1">return childToParent.get(this) || null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateCSSTokenReflection(source, token) {</span><span class="s3">\n        </span><span class="s1">if (DesignTokenImpl.isCSSDesignToken(token)) {</span><span class="s3">\n            </span><span class="s1">const parent = this.parent;</span><span class="s3">\n            </span><span class="s1">const reflecting = this.isReflecting(token);</span><span class="s3">\n            </span><span class="s1">if (parent) {</span><span class="s3">\n                </span><span class="s1">const parentValue = parent.get(token);</span><span class="s3">\n                </span><span class="s1">const sourceValue = source.get(token);</span><span class="s3">\n                </span><span class="s1">if (parentValue !== sourceValue &amp;&amp; !reflecting) {</span><span class="s3">\n                    </span><span class="s1">this.reflectToCSS(token);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (parentValue === sourceValue &amp;&amp; reflecting) {</span><span class="s3">\n                    </span><span class="s1">this.stopReflectToCSS(token);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (!reflecting) {</span><span class="s3">\n                </span><span class="s1">this.reflectToCSS(token);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Checks if a token has been assigned an explicit value the node.</span><span class="s3">\n     </span><span class="s1">* @param token - the token to check.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">has(token) {</span><span class="s3">\n        </span><span class="s1">return this.assignedValues.has(token);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets the value of a token for a node</span><span class="s3">\n     </span><span class="s1">* @param token - The token to retrieve the value for</span><span class="s3">\n     </span><span class="s1">* @returns</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get(token) {</span><span class="s3">\n        </span><span class="s1">const value = this.store.get(token);</span><span class="s3">\n        </span><span class="s1">if (value !== undefined) {</span><span class="s3">\n            </span><span class="s1">return value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const raw = this.getRaw(token);</span><span class="s3">\n        </span><span class="s1">if (raw !== undefined) {</span><span class="s3">\n            </span><span class="s1">this.hydrate(token, raw);</span><span class="s3">\n            </span><span class="s1">return this.get(token);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Retrieves the raw assigned value of a token from the nearest assigned node.</span><span class="s3">\n     </span><span class="s1">* @param token - The token to retrieve a raw value for</span><span class="s3">\n     </span><span class="s1">* @returns</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getRaw(token) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">if (this.assignedValues.has(token)) {</span><span class="s3">\n            </span><span class="s1">return this.assignedValues.get(token);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return (_a = DesignTokenNode.findClosestAssignedNode(token, this)) === null || _a === void 0 ? void 0 : _a.getRaw(token);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets a token to a value for a node</span><span class="s3">\n     </span><span class="s1">* @param token - The token to set</span><span class="s3">\n     </span><span class="s1">* @param value - The value to set the token to</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">set(token, value) {</span><span class="s3">\n        </span><span class="s1">if (DesignTokenImpl.isDerivedDesignTokenValue(this.assignedValues.get(token))) {</span><span class="s3">\n            </span><span class="s1">this.tearDownBindingObserver(token);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.assignedValues.set(token, value);</span><span class="s3">\n        </span><span class="s1">if (DesignTokenImpl.isDerivedDesignTokenValue(value)) {</span><span class="s3">\n            </span><span class="s1">this.setupBindingObserver(token, value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.store.set(token, value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Deletes a token value for the node.</span><span class="s3">\n     </span><span class="s1">* @param token - The token to delete the value for</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">delete(token) {</span><span class="s3">\n        </span><span class="s1">this.assignedValues.delete(token);</span><span class="s3">\n        </span><span class="s1">this.tearDownBindingObserver(token);</span><span class="s3">\n        </span><span class="s1">const upstream = this.getRaw(token);</span><span class="s3">\n        </span><span class="s1">if (upstream) {</span><span class="s3">\n            </span><span class="s1">this.hydrate(token, upstream);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.store.delete(token);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Invoked when the DesignTokenNode.target is attached to the document</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bind() {</span><span class="s3">\n        </span><span class="s1">const parent = DesignTokenNode.findParent(this);</span><span class="s3">\n        </span><span class="s1">if (parent) {</span><span class="s3">\n            </span><span class="s1">parent.appendChild(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">for (const key of this.assignedValues.keys()) {</span><span class="s3">\n            </span><span class="s1">key.notify(this.target);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Invoked when the DesignTokenNode.target is detached from the document</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unbind() {</span><span class="s3">\n        </span><span class="s1">if (this.parent) {</span><span class="s3">\n            </span><span class="s1">const parent = childToParent.get(this);</span><span class="s3">\n            </span><span class="s1">parent.removeChild(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Appends a child to a parent DesignTokenNode.</span><span class="s3">\n     </span><span class="s1">* @param child - The child to append to the node</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">appendChild(child) {</span><span class="s3">\n        </span><span class="s1">if (child.parent) {</span><span class="s3">\n            </span><span class="s1">childToParent.get(child).removeChild(child);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const reParent = this.children.filter(x =&gt; child.contains(x));</span><span class="s3">\n        </span><span class="s1">childToParent.set(child, this);</span><span class="s3">\n        </span><span class="s1">this.children.push(child);</span><span class="s3">\n        </span><span class="s1">reParent.forEach(x =&gt; child.appendChild(x));</span><span class="s3">\n        </span><span class="s1">Observable.getNotifier(this.store).subscribe(child);</span><span class="s3">\n        </span><span class="s1">// How can we not notify *every* subscriber?</span><span class="s3">\n        </span><span class="s1">for (const [token, value] of this.store.all()) {</span><span class="s3">\n            </span><span class="s1">child.hydrate(token, this.bindingObservers.has(token) ? this.getRaw(token) : value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Removes a child from a node.</span><span class="s3">\n     </span><span class="s1">* @param child - The child to remove.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">removeChild(child) {</span><span class="s3">\n        </span><span class="s1">const childIndex = this.children.indexOf(child);</span><span class="s3">\n        </span><span class="s1">if (childIndex !== -1) {</span><span class="s3">\n            </span><span class="s1">this.children.splice(childIndex, 1);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">Observable.getNotifier(this.store).unsubscribe(child);</span><span class="s3">\n        </span><span class="s1">return child.parent === this ? childToParent.delete(child) : false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Tests whether a provided node is contained by</span><span class="s3">\n     </span><span class="s1">* the calling node.</span><span class="s3">\n     </span><span class="s1">* @param test - The node to test</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">contains(test) {</span><span class="s3">\n        </span><span class="s1">return composedContains(this.target, test.target);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Instructs the node to reflect a design token for the provided token.</span><span class="s3">\n     </span><span class="s1">* @param token - The design token to reflect</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">reflectToCSS(token) {</span><span class="s3">\n        </span><span class="s1">if (!this.isReflecting(token)) {</span><span class="s3">\n            </span><span class="s1">this.reflecting.add(token);</span><span class="s3">\n            </span><span class="s1">DesignTokenNode.cssCustomPropertyReflector.startReflection(token, this.target);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Stops reflecting a DesignToken to CSS</span><span class="s3">\n     </span><span class="s1">* @param token - The design token to stop reflecting</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">stopReflectToCSS(token) {</span><span class="s3">\n        </span><span class="s1">if (this.isReflecting(token)) {</span><span class="s3">\n            </span><span class="s1">this.reflecting.delete(token);</span><span class="s3">\n            </span><span class="s1">DesignTokenNode.cssCustomPropertyReflector.stopReflection(token, this.target);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines if a token is being reflected to CSS for a node.</span><span class="s3">\n     </span><span class="s1">* @param token - The token to check for reflection</span><span class="s3">\n     </span><span class="s1">* @returns</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">isReflecting(token) {</span><span class="s3">\n        </span><span class="s1">return this.reflecting.has(token);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle changes to upstream tokens</span><span class="s3">\n     </span><span class="s1">* @param source - The parent DesignTokenNode</span><span class="s3">\n     </span><span class="s1">* @param property - The token ID that changed</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange(source, property) {</span><span class="s3">\n        </span><span class="s1">const token = DesignTokenImpl.getTokenById(property);</span><span class="s3">\n        </span><span class="s1">if (!token) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.hydrate(token, this.getRaw(token));</span><span class="s3">\n        </span><span class="s1">this.updateCSSTokenReflection(this.store, token);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Hydrates a token with a DesignTokenValue, making retrieval available.</span><span class="s3">\n     </span><span class="s1">* @param token - The token to hydrate</span><span class="s3">\n     </span><span class="s1">* @param value - The value to hydrate</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">hydrate(token, value) {</span><span class="s3">\n        </span><span class="s1">if (!this.has(token)) {</span><span class="s3">\n            </span><span class="s1">const observer = this.bindingObservers.get(token);</span><span class="s3">\n            </span><span class="s1">if (DesignTokenImpl.isDerivedDesignTokenValue(value)) {</span><span class="s3">\n                </span><span class="s1">if (observer) {</span><span class="s3">\n                    </span><span class="s1">// If the binding source doesn't match, we need</span><span class="s3">\n                    </span><span class="s1">// to update the binding</span><span class="s3">\n                    </span><span class="s1">if (observer.source !== value) {</span><span class="s3">\n                        </span><span class="s1">this.tearDownBindingObserver(token);</span><span class="s3">\n                        </span><span class="s1">this.setupBindingObserver(token, value);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">this.setupBindingObserver(token, value);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">if (observer) {</span><span class="s3">\n                    </span><span class="s1">this.tearDownBindingObserver(token);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.store.set(token, value);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets up a binding observer for a derived token value that notifies token</span><span class="s3">\n     </span><span class="s1">* subscribers on change.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param token - The token to notify when the binding updates</span><span class="s3">\n     </span><span class="s1">* @param source - The binding source</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setupBindingObserver(token, source) {</span><span class="s3">\n        </span><span class="s1">const binding = new DesignTokenBindingObserver(source, token, this);</span><span class="s3">\n        </span><span class="s1">this.bindingObservers.set(token, binding);</span><span class="s3">\n        </span><span class="s1">return binding;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Tear down a binding observer for a token.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">tearDownBindingObserver(token) {</span><span class="s3">\n        </span><span class="s1">if (this.bindingObservers.has(token)) {</span><span class="s3">\n            </span><span class="s1">this.bindingObservers.get(token).disconnect();</span><span class="s3">\n            </span><span class="s1">this.bindingObservers.delete(token);</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Responsible for reflecting tokens to CSS custom properties</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">DesignTokenNode.cssCustomPropertyReflector = new CustomPropertyReflector();</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DesignTokenNode.prototype, </span><span class="s3">\&quot;</span><span class="s1">children</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">function create(nameOrConfig) {</span><span class="s3">\n    </span><span class="s1">return DesignTokenImpl.from(nameOrConfig);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/* eslint-enable @typescript-eslint/no-unused-vars */</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Factory object for creating {@link (DesignToken:interface)} instances.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const DesignToken = Object.freeze({</span><span class="s3">\n    </span><span class="s1">create,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Informs DesignToken that an HTMLElement for which tokens have</span><span class="s3">\n     </span><span class="s1">* been set has been connected to the document.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* The browser does not provide a reliable mechanism to observe an HTMLElement's connectedness</span><span class="s3">\n     </span><span class="s1">* in all scenarios, so invoking this method manually is necessary when:</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* 1. Token values are set for an HTMLElement.</span><span class="s3">\n     </span><span class="s1">* 2. The HTMLElement does not inherit from FASTElement.</span><span class="s3">\n     </span><span class="s1">* 3. The HTMLElement is not connected to the document when token values are set.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param element - The element to notify</span><span class="s3">\n     </span><span class="s1">* @returns - true if notification was successful, otherwise false.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">notifyConnection(element) {</span><span class="s3">\n        </span><span class="s1">if (!element.isConnected || !DesignTokenNode.existsFor(element)) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">DesignTokenNode.getOrCreate(element).bind();</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Informs DesignToken that an HTMLElement for which tokens have</span><span class="s3">\n     </span><span class="s1">* been set has been disconnected to the document.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* The browser does not provide a reliable mechanism to observe an HTMLElement's connectedness</span><span class="s3">\n     </span><span class="s1">* in all scenarios, so invoking this method manually is necessary when:</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* 1. Token values are set for an HTMLElement.</span><span class="s3">\n     </span><span class="s1">* 2. The HTMLElement does not inherit from FASTElement.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param element - The element to notify</span><span class="s3">\n     </span><span class="s1">* @returns - true if notification was successful, otherwise false.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">notifyDisconnection(element) {</span><span class="s3">\n        </span><span class="s1">if (element.isConnected || !DesignTokenNode.existsFor(element)) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">DesignTokenNode.getOrCreate(element).unbind();</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Registers and element or document as a DesignToken root.</span><span class="s3">\n     </span><span class="s1">* {@link CSSDesignToken | CSSDesignTokens} with default values assigned via</span><span class="s3">\n     </span><span class="s1">* {@link (DesignToken:interface).withDefault} will emit CSS custom properties to all</span><span class="s3">\n     </span><span class="s1">* registered roots.</span><span class="s3">\n     </span><span class="s1">* @param target - The root to register</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">registerRoot(target = defaultElement) {</span><span class="s3">\n        </span><span class="s1">RootStyleSheetTarget.registerRoot(target);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unregister an element or document as a DesignToken root.</span><span class="s3">\n     </span><span class="s1">* @param target - The root to deregister</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unregisterRoot(target = defaultElement) {</span><span class="s3">\n        </span><span class="s1">RootStyleSheetTarget.unregisterRoot(target);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/* eslint-enable @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Expose ltr and rtl strings</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export var Direction;</span><span class="s3">\n</span><span class="s1">(function (Direction) {</span><span class="s3">\n    </span><span class="s1">Direction[</span><span class="s3">\&quot;</span><span class="s1">ltr</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">ltr</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">Direction[</span><span class="s3">\&quot;</span><span class="s1">rtl</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">rtl</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">})(Direction || (Direction = {}));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { hslToRGB, labToRGB, lchToRGB, rgbToHSL, rgbToLAB, rgbToLCH, } from </span><span class="s3">\&quot;</span><span class="s1">./color-converters.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorHSL } from </span><span class="s3">\&quot;</span><span class="s1">./color-hsl.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorLAB } from </span><span class="s3">\&quot;</span><span class="s1">./color-lab.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorLCH } from </span><span class="s3">\&quot;</span><span class="s1">./color-lch.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorRGBA64 } from </span><span class="s3">\&quot;</span><span class="s1">./color-rgba-64.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { clamp } from </span><span class="s3">\&quot;</span><span class="s1">./math-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Saturate a color using LCH color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function saturateViaLCH(input, saturation, saturationConstant = 18) {</span><span class="s3">\n    </span><span class="s1">const lch = rgbToLCH(input);</span><span class="s3">\n    </span><span class="s1">let sat = lch.c + saturation * saturationConstant;</span><span class="s3">\n    </span><span class="s1">if (sat &lt; 0) {</span><span class="s3">\n        </span><span class="s1">sat = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return lchToRGB(new ColorLCH(lch.l, sat, lch.h));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* De-saturate a color using LCH color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function desaturateViaLCH(input, saturation, saturationConstant = 18) {</span><span class="s3">\n    </span><span class="s1">return saturateViaLCH(input, -1 * saturation, saturationConstant);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Darken a color using LAB color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function darkenViaLAB(input, amount, darkenConstant = 18) {</span><span class="s3">\n    </span><span class="s1">const lab = rgbToLAB(input);</span><span class="s3">\n    </span><span class="s1">const darkened = lab.l - amount * darkenConstant;</span><span class="s3">\n    </span><span class="s1">return labToRGB(new ColorLAB(darkened, lab.a, lab.b));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Lighten a color using LAB color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function lightenViaLAB(input, amount, darkenConstant = 18) {</span><span class="s3">\n    </span><span class="s1">return darkenViaLAB(input, -1 * amount, darkenConstant);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendBurnChannel(bottom, top) {</span><span class="s3">\n    </span><span class="s1">if (top === 0.0) {</span><span class="s3">\n        </span><span class="s1">// Despite the discontinuity, other sources seem to use 0.0 here instead of 1</span><span class="s3">\n        </span><span class="s1">return 0.0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return 1.0 - (1.0 - bottom) / top;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Blends two colors with the burn mode</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendBurn(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(blendBurnChannel(bottom.r, top.r), blendBurnChannel(bottom.g, top.g), blendBurnChannel(bottom.b, top.b), 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Blends two colors</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendColor(bottom, top) {</span><span class="s3">\n    </span><span class="s1">const bottomHSL = rgbToHSL(bottom);</span><span class="s3">\n    </span><span class="s1">const topHSL = rgbToHSL(top);</span><span class="s3">\n    </span><span class="s1">if (topHSL.s === 0) {</span><span class="s3">\n        </span><span class="s1">return new ColorRGBA64(bottomHSL.l, bottomHSL.l, bottomHSL.l, 1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return hslToRGB(new ColorHSL(topHSL.h, topHSL.s, bottomHSL.l));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendDarkenChannel(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return Math.min(bottom, top);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Blends two colors with the darken mode</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendDarken(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(blendDarkenChannel(bottom.r, top.r), blendDarkenChannel(bottom.g, top.g), blendDarkenChannel(bottom.b, top.b), 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendDodgeChannel(bottom, top) {</span><span class="s3">\n    </span><span class="s1">if (top &gt;= 1.0) {</span><span class="s3">\n        </span><span class="s1">return 1.0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const retVal = bottom / (1.0 - top);</span><span class="s3">\n    </span><span class="s1">if (retVal &gt;= 1.0) {</span><span class="s3">\n        </span><span class="s1">return 1.0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return retVal;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Blends two colors with the dodge mode</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendDodge(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(blendDodgeChannel(bottom.r, top.r), blendDodgeChannel(bottom.g, top.g), blendDodgeChannel(bottom.b, top.b), 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendLightenChannel(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return Math.max(bottom, top);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Blends two colors with the lighten mode</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendLighten(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(blendLightenChannel(bottom.r, top.r), blendLightenChannel(bottom.g, top.g), blendLightenChannel(bottom.b, top.b), 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendMultiplyChannel(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return bottom * top;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Blends two colors with the multiply mode</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendMultiply(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(blendMultiplyChannel(bottom.r, top.r), blendMultiplyChannel(bottom.g, top.g), blendMultiplyChannel(bottom.b, top.b), 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendOverlayChannel(bottom, top) {</span><span class="s3">\n    </span><span class="s1">if (bottom &lt; 0.5) {</span><span class="s3">\n        </span><span class="s1">return clamp(2.0 * top * bottom, 0, 1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return clamp(1.0 - 2.0 * (1.0 - top) * (1.0 - bottom), 0, 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Blends two colors with the overlay mode</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendOverlay(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(blendOverlayChannel(bottom.r, top.r), blendOverlayChannel(bottom.g, top.g), blendOverlayChannel(bottom.b, top.b), 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendScreenChannel(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return 1.0 - (1.0 - top) * (1.0 - bottom);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Blends two colors with the screen mode</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blendScreen(bottom, top) {</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(blendScreenChannel(bottom.r, top.r), blendScreenChannel(bottom.g, top.g), blendScreenChannel(bottom.b, top.b), 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Color blend modes.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export var ColorBlendMode;</span><span class="s3">\n</span><span class="s1">(function (ColorBlendMode) {</span><span class="s3">\n    </span><span class="s1">ColorBlendMode[ColorBlendMode[</span><span class="s3">\&quot;</span><span class="s1">Burn</span><span class="s3">\&quot;</span><span class="s1">] = 0] = </span><span class="s3">\&quot;</span><span class="s1">Burn</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorBlendMode[ColorBlendMode[</span><span class="s3">\&quot;</span><span class="s1">Color</span><span class="s3">\&quot;</span><span class="s1">] = 1] = </span><span class="s3">\&quot;</span><span class="s1">Color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorBlendMode[ColorBlendMode[</span><span class="s3">\&quot;</span><span class="s1">Darken</span><span class="s3">\&quot;</span><span class="s1">] = 2] = </span><span class="s3">\&quot;</span><span class="s1">Darken</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorBlendMode[ColorBlendMode[</span><span class="s3">\&quot;</span><span class="s1">Dodge</span><span class="s3">\&quot;</span><span class="s1">] = 3] = </span><span class="s3">\&quot;</span><span class="s1">Dodge</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorBlendMode[ColorBlendMode[</span><span class="s3">\&quot;</span><span class="s1">Lighten</span><span class="s3">\&quot;</span><span class="s1">] = 4] = </span><span class="s3">\&quot;</span><span class="s1">Lighten</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorBlendMode[ColorBlendMode[</span><span class="s3">\&quot;</span><span class="s1">Multiply</span><span class="s3">\&quot;</span><span class="s1">] = 5] = </span><span class="s3">\&quot;</span><span class="s1">Multiply</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorBlendMode[ColorBlendMode[</span><span class="s3">\&quot;</span><span class="s1">Overlay</span><span class="s3">\&quot;</span><span class="s1">] = 6] = </span><span class="s3">\&quot;</span><span class="s1">Overlay</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorBlendMode[ColorBlendMode[</span><span class="s3">\&quot;</span><span class="s1">Screen</span><span class="s3">\&quot;</span><span class="s1">] = 7] = </span><span class="s3">\&quot;</span><span class="s1">Screen</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">})(ColorBlendMode || (ColorBlendMode = {}));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Blend two colors.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The alpha channel of the input is ignored</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function blend(mode, bottom, top) {</span><span class="s3">\n    </span><span class="s1">switch (mode) {</span><span class="s3">\n        </span><span class="s1">case ColorBlendMode.Burn:</span><span class="s3">\n            </span><span class="s1">return blendBurn(bottom, top);</span><span class="s3">\n        </span><span class="s1">case ColorBlendMode.Color:</span><span class="s3">\n            </span><span class="s1">return blendColor(bottom, top);</span><span class="s3">\n        </span><span class="s1">case ColorBlendMode.Darken:</span><span class="s3">\n            </span><span class="s1">return blendDarken(bottom, top);</span><span class="s3">\n        </span><span class="s1">case ColorBlendMode.Dodge:</span><span class="s3">\n            </span><span class="s1">return blendDodge(bottom, top);</span><span class="s3">\n        </span><span class="s1">case ColorBlendMode.Lighten:</span><span class="s3">\n            </span><span class="s1">return blendLighten(bottom, top);</span><span class="s3">\n        </span><span class="s1">case ColorBlendMode.Multiply:</span><span class="s3">\n            </span><span class="s1">return blendMultiply(bottom, top);</span><span class="s3">\n        </span><span class="s1">case ColorBlendMode.Overlay:</span><span class="s3">\n            </span><span class="s1">return blendOverlay(bottom, top);</span><span class="s3">\n        </span><span class="s1">case ColorBlendMode.Screen:</span><span class="s3">\n            </span><span class="s1">return blendScreen(bottom, top);</span><span class="s3">\n        </span><span class="s1">default:</span><span class="s3">\n            </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Unknown blend mode</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Alpha channel of bottom is ignored</span><span class="s3">\n </span><span class="s1">* The returned color always has an alpha channel of 1</span><span class="s3">\n </span><span class="s1">* Different programs (eg: paint.net, photoshop) will give different answers than this occasionally but within +/- 1/255 in each channel. Just depends on the details of how they round off decimals</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function computeAlphaBlend(bottom, top) {</span><span class="s3">\n    </span><span class="s1">if (top.a &gt;= 1) {</span><span class="s3">\n        </span><span class="s1">return top;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (top.a &lt;= 0) {</span><span class="s3">\n        </span><span class="s1">return new ColorRGBA64(bottom.r, bottom.g, bottom.b, 1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const r = top.a * top.r + (1 - top.a) * bottom.r;</span><span class="s3">\n    </span><span class="s1">const g = top.a * top.g + (1 - top.a) * bottom.g;</span><span class="s3">\n    </span><span class="s1">const b = top.a * top.b + (1 - top.a) * bottom.b;</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(r, g, b, 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { hslToRGB, hsvToRGB, labToRGB, lchToRGB, rgbToHSL, rgbToHSV, rgbToLAB, rgbToLCH, rgbToXYZ, xyzToRGB, } from </span><span class="s3">\&quot;</span><span class="s1">./color-converters.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorHSL } from </span><span class="s3">\&quot;</span><span class="s1">./color-hsl.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorHSV } from </span><span class="s3">\&quot;</span><span class="s1">./color-hsv.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorLAB } from </span><span class="s3">\&quot;</span><span class="s1">./color-lab.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorLCH } from </span><span class="s3">\&quot;</span><span class="s1">./color-lch.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorRGBA64 } from </span><span class="s3">\&quot;</span><span class="s1">./color-rgba-64.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorXYZ } from </span><span class="s3">\&quot;</span><span class="s1">./color-xyz.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { lerp, lerpAnglesInDegrees } from </span><span class="s3">\&quot;</span><span class="s1">./math-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Interpolate by RGB color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function interpolateRGB(position, left, right) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(position) || position &lt;= 0) {</span><span class="s3">\n        </span><span class="s1">return left;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (position &gt;= 1) {</span><span class="s3">\n        </span><span class="s1">return right;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorRGBA64(lerp(position, left.r, right.r), lerp(position, left.g, right.g), lerp(position, left.b, right.b), lerp(position, left.a, right.a));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Interpolate by HSL color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function interpolateHSL(position, left, right) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(position) || position &lt;= 0) {</span><span class="s3">\n        </span><span class="s1">return left;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (position &gt;= 1) {</span><span class="s3">\n        </span><span class="s1">return right;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorHSL(lerpAnglesInDegrees(position, left.h, right.h), lerp(position, left.s, right.s), lerp(position, left.l, right.l));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Interpolate by HSV color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function interpolateHSV(position, left, right) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(position) || position &lt;= 0) {</span><span class="s3">\n        </span><span class="s1">return left;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (position &gt;= 1) {</span><span class="s3">\n        </span><span class="s1">return right;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorHSV(lerpAnglesInDegrees(position, left.h, right.h), lerp(position, left.s, right.s), lerp(position, left.v, right.v));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Interpolate by XYZ color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function interpolateXYZ(position, left, right) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(position) || position &lt;= 0) {</span><span class="s3">\n        </span><span class="s1">return left;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (position &gt;= 1) {</span><span class="s3">\n        </span><span class="s1">return right;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorXYZ(lerp(position, left.x, right.x), lerp(position, left.y, right.y), lerp(position, left.z, right.z));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Interpolate by LAB color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function interpolateLAB(position, left, right) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(position) || position &lt;= 0) {</span><span class="s3">\n        </span><span class="s1">return left;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (position &gt;= 1) {</span><span class="s3">\n        </span><span class="s1">return right;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorLAB(lerp(position, left.l, right.l), lerp(position, left.a, right.a), lerp(position, left.b, right.b));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Interpolate by LCH color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function interpolateLCH(position, left, right) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(position) || position &lt;= 0) {</span><span class="s3">\n        </span><span class="s1">return left;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (position &gt;= 1) {</span><span class="s3">\n        </span><span class="s1">return right;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new ColorLCH(lerp(position, left.l, right.l), lerp(position, left.c, right.c), lerpAnglesInDegrees(position, left.h, right.h));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Color interpolation spaces</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export var ColorInterpolationSpace;</span><span class="s3">\n</span><span class="s1">(function (ColorInterpolationSpace) {</span><span class="s3">\n    </span><span class="s1">ColorInterpolationSpace[ColorInterpolationSpace[</span><span class="s3">\&quot;</span><span class="s1">RGB</span><span class="s3">\&quot;</span><span class="s1">] = 0] = </span><span class="s3">\&quot;</span><span class="s1">RGB</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorInterpolationSpace[ColorInterpolationSpace[</span><span class="s3">\&quot;</span><span class="s1">HSL</span><span class="s3">\&quot;</span><span class="s1">] = 1] = </span><span class="s3">\&quot;</span><span class="s1">HSL</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorInterpolationSpace[ColorInterpolationSpace[</span><span class="s3">\&quot;</span><span class="s1">HSV</span><span class="s3">\&quot;</span><span class="s1">] = 2] = </span><span class="s3">\&quot;</span><span class="s1">HSV</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorInterpolationSpace[ColorInterpolationSpace[</span><span class="s3">\&quot;</span><span class="s1">XYZ</span><span class="s3">\&quot;</span><span class="s1">] = 3] = </span><span class="s3">\&quot;</span><span class="s1">XYZ</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorInterpolationSpace[ColorInterpolationSpace[</span><span class="s3">\&quot;</span><span class="s1">LAB</span><span class="s3">\&quot;</span><span class="s1">] = 4] = </span><span class="s3">\&quot;</span><span class="s1">LAB</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ColorInterpolationSpace[ColorInterpolationSpace[</span><span class="s3">\&quot;</span><span class="s1">LCH</span><span class="s3">\&quot;</span><span class="s1">] = 5] = </span><span class="s3">\&quot;</span><span class="s1">LCH</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">})(ColorInterpolationSpace || (ColorInterpolationSpace = {}));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Interpolate by color space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function interpolateByColorSpace(position, space, left, right) {</span><span class="s3">\n    </span><span class="s1">if (isNaN(position) || position &lt;= 0) {</span><span class="s3">\n        </span><span class="s1">return left;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (position &gt;= 1) {</span><span class="s3">\n        </span><span class="s1">return right;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">switch (space) {</span><span class="s3">\n        </span><span class="s1">case ColorInterpolationSpace.HSL:</span><span class="s3">\n            </span><span class="s1">return hslToRGB(interpolateHSL(position, rgbToHSL(left), rgbToHSL(right)));</span><span class="s3">\n        </span><span class="s1">case ColorInterpolationSpace.HSV:</span><span class="s3">\n            </span><span class="s1">return hsvToRGB(interpolateHSV(position, rgbToHSV(left), rgbToHSV(right)));</span><span class="s3">\n        </span><span class="s1">case ColorInterpolationSpace.XYZ:</span><span class="s3">\n            </span><span class="s1">return xyzToRGB(interpolateXYZ(position, rgbToXYZ(left), rgbToXYZ(right)));</span><span class="s3">\n        </span><span class="s1">case ColorInterpolationSpace.LAB:</span><span class="s3">\n            </span><span class="s1">return labToRGB(interpolateLAB(position, rgbToLAB(left), rgbToLAB(right)));</span><span class="s3">\n        </span><span class="s1">case ColorInterpolationSpace.LCH:</span><span class="s3">\n            </span><span class="s1">return lchToRGB(interpolateLCH(position, rgbToLCH(left), rgbToLCH(right)));</span><span class="s3">\n        </span><span class="s1">default:</span><span class="s3">\n            </span><span class="s1">return interpolateRGB(position, left, right);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { contrastRatio } from </span><span class="s3">\&quot;</span><span class="s1">./color-converters.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorInterpolationSpace, interpolateByColorSpace, } from </span><span class="s3">\&quot;</span><span class="s1">./color-interpolation.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A color scale created from linear stops</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ColorScale {</span><span class="s3">\n    </span><span class="s1">constructor(stops) {</span><span class="s3">\n        </span><span class="s1">if (stops == null || stops.length === 0) {</span><span class="s3">\n            </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">The stops argument must be non-empty</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.stops = this.sortColorScaleStops(stops);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">static createBalancedColorScale(colors) {</span><span class="s3">\n        </span><span class="s1">if (colors == null || colors.length === 0) {</span><span class="s3">\n            </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">The colors argument must be non-empty</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const stops = new Array(colors.length);</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; colors.length; i++) {</span><span class="s3">\n            </span><span class="s1">// Special case first and last in order to avoid floating point jaggies</span><span class="s3">\n            </span><span class="s1">if (i === 0) {</span><span class="s3">\n                </span><span class="s1">stops[i] = { color: colors[i], position: 0 };</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (i === colors.length - 1) {</span><span class="s3">\n                </span><span class="s1">stops[i] = { color: colors[i], position: 1 };</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">stops[i] = {</span><span class="s3">\n                    </span><span class="s1">color: colors[i],</span><span class="s3">\n                    </span><span class="s1">position: i * (1 / (colors.length - 1)),</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return new ColorScale(stops);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getColor(position, interpolationMode = ColorInterpolationSpace.RGB) {</span><span class="s3">\n        </span><span class="s1">if (this.stops.length === 1) {</span><span class="s3">\n            </span><span class="s1">return this.stops[0].color;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (position &lt;= 0) {</span><span class="s3">\n            </span><span class="s1">return this.stops[0].color;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (position &gt;= 1) {</span><span class="s3">\n            </span><span class="s1">return this.stops[this.stops.length - 1].color;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let lowerIndex = 0;</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; this.stops.length; i++) {</span><span class="s3">\n            </span><span class="s1">if (this.stops[i].position &lt;= position) {</span><span class="s3">\n                </span><span class="s1">lowerIndex = i;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let upperIndex = lowerIndex + 1;</span><span class="s3">\n        </span><span class="s1">if (upperIndex &gt;= this.stops.length) {</span><span class="s3">\n            </span><span class="s1">upperIndex = this.stops.length - 1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const scalePosition = (position - this.stops[lowerIndex].position) *</span><span class="s3">\n            </span><span class="s1">(1.0 / (this.stops[upperIndex].position - this.stops[lowerIndex].position));</span><span class="s3">\n        </span><span class="s1">return interpolateByColorSpace(scalePosition, interpolationMode, this.stops[lowerIndex].color, this.stops[upperIndex].color);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">trim(lowerBound, upperBound, interpolationMode = ColorInterpolationSpace.RGB) {</span><span class="s3">\n        </span><span class="s1">if (lowerBound &lt; 0 || upperBound &gt; 1 || upperBound &lt; lowerBound) {</span><span class="s3">\n            </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Invalid bounds</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (lowerBound === upperBound) {</span><span class="s3">\n            </span><span class="s1">return new ColorScale([</span><span class="s3">\n                </span><span class="s1">{ color: this.getColor(lowerBound, interpolationMode), position: 0 },</span><span class="s3">\n            </span><span class="s1">]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const containedStops = [];</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; this.stops.length; i++) {</span><span class="s3">\n            </span><span class="s1">if (this.stops[i].position &gt;= lowerBound &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.stops[i].position &lt;= upperBound) {</span><span class="s3">\n                </span><span class="s1">containedStops.push(this.stops[i]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (containedStops.length === 0) {</span><span class="s3">\n            </span><span class="s1">return new ColorScale([</span><span class="s3">\n                </span><span class="s1">{ color: this.getColor(lowerBound), position: lowerBound },</span><span class="s3">\n                </span><span class="s1">{ color: this.getColor(upperBound), position: upperBound },</span><span class="s3">\n            </span><span class="s1">]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (containedStops[0].position !== lowerBound) {</span><span class="s3">\n            </span><span class="s1">containedStops.unshift({</span><span class="s3">\n                </span><span class="s1">color: this.getColor(lowerBound),</span><span class="s3">\n                </span><span class="s1">position: lowerBound,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (containedStops[containedStops.length - 1].position !== upperBound) {</span><span class="s3">\n            </span><span class="s1">containedStops.push({</span><span class="s3">\n                </span><span class="s1">color: this.getColor(upperBound),</span><span class="s3">\n                </span><span class="s1">position: upperBound,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const range = upperBound - lowerBound;</span><span class="s3">\n        </span><span class="s1">const finalStops = new Array(containedStops.length);</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; containedStops.length; i++) {</span><span class="s3">\n            </span><span class="s1">finalStops[i] = {</span><span class="s3">\n                </span><span class="s1">color: containedStops[i].color,</span><span class="s3">\n                </span><span class="s1">position: (containedStops[i].position - lowerBound) / range,</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return new ColorScale(finalStops);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">findNextColor(position, contrast, searchDown = false, interpolationMode = ColorInterpolationSpace.RGB, contrastErrorMargin = 0.005, maxSearchIterations = 32) {</span><span class="s3">\n        </span><span class="s1">if (isNaN(position) || position &lt;= 0) {</span><span class="s3">\n            </span><span class="s1">position = 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (position &gt;= 1) {</span><span class="s3">\n            </span><span class="s1">position = 1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const startingColor = this.getColor(position, interpolationMode);</span><span class="s3">\n        </span><span class="s1">const finalPosition = searchDown ? 0 : 1;</span><span class="s3">\n        </span><span class="s1">const finalColor = this.getColor(finalPosition, interpolationMode);</span><span class="s3">\n        </span><span class="s1">const finalContrast = contrastRatio(startingColor, finalColor);</span><span class="s3">\n        </span><span class="s1">if (finalContrast &lt;= contrast) {</span><span class="s3">\n            </span><span class="s1">return finalPosition;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let testRangeMin = searchDown ? 0 : position;</span><span class="s3">\n        </span><span class="s1">let testRangeMax = searchDown ? position : 0;</span><span class="s3">\n        </span><span class="s1">let mid = finalPosition;</span><span class="s3">\n        </span><span class="s1">let iterations = 0;</span><span class="s3">\n        </span><span class="s1">while (iterations &lt;= maxSearchIterations) {</span><span class="s3">\n            </span><span class="s1">mid = Math.abs(testRangeMax - testRangeMin) / 2 + testRangeMin;</span><span class="s3">\n            </span><span class="s1">const midColor = this.getColor(mid, interpolationMode);</span><span class="s3">\n            </span><span class="s1">const midContrast = contrastRatio(startingColor, midColor);</span><span class="s3">\n            </span><span class="s1">if (Math.abs(midContrast - contrast) &lt;= contrastErrorMargin) {</span><span class="s3">\n                </span><span class="s1">return mid;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (midContrast &gt; contrast) {</span><span class="s3">\n                </span><span class="s1">if (searchDown) {</span><span class="s3">\n                    </span><span class="s1">testRangeMin = mid;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">testRangeMax = mid;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">if (searchDown) {</span><span class="s3">\n                    </span><span class="s1">testRangeMax = mid;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">testRangeMin = mid;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">iterations++;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return mid;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">clone() {</span><span class="s3">\n        </span><span class="s1">const newStops = new Array(this.stops.length);</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; newStops.length; i++) {</span><span class="s3">\n            </span><span class="s1">newStops[i] = {</span><span class="s3">\n                </span><span class="s1">color: this.stops[i].color,</span><span class="s3">\n                </span><span class="s1">position: this.stops[i].position,</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return new ColorScale(newStops);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">sortColorScaleStops(stops) {</span><span class="s3">\n        </span><span class="s1">return stops.sort((a, b) =&gt; {</span><span class="s3">\n            </span><span class="s1">const A = a.position;</span><span class="s3">\n            </span><span class="s1">const B = b.position;</span><span class="s3">\n            </span><span class="s1">if (A &lt; B) {</span><span class="s3">\n                </span><span class="s1">return -1;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (A &gt; B) {</span><span class="s3">\n                </span><span class="s1">return 1;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">return 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { blendMultiply, blendOverlay, saturateViaLCH } from </span><span class="s3">\&quot;</span><span class="s1">./color-blending.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { rgbToHSL } from </span><span class="s3">\&quot;</span><span class="s1">./color-converters.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorInterpolationSpace, interpolateByColorSpace, } from </span><span class="s3">\&quot;</span><span class="s1">./color-interpolation.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorRGBA64 } from </span><span class="s3">\&quot;</span><span class="s1">./color-rgba-64.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorScale } from </span><span class="s3">\&quot;</span><span class="s1">./color-scale.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { parseColorHexRGB } from </span><span class="s3">\&quot;</span><span class="s1">./parse-color.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Generates a color palette</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ColorPalette {</span><span class="s3">\n    </span><span class="s1">constructor(config) {</span><span class="s3">\n        </span><span class="s1">this.config = Object.assign({}, ColorPalette.defaultPaletteConfig, config);</span><span class="s3">\n        </span><span class="s1">this.palette = [];</span><span class="s3">\n        </span><span class="s1">this.updatePaletteColors();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updatePaletteGenerationValues(newConfig) {</span><span class="s3">\n        </span><span class="s1">let changed = false;</span><span class="s3">\n        </span><span class="s1">for (const key in newConfig) {</span><span class="s3">\n            </span><span class="s1">if (this.config[key]) {</span><span class="s3">\n                </span><span class="s1">if (this.config[key].equalValue) {</span><span class="s3">\n                    </span><span class="s1">if (!this.config[key].equalValue(newConfig[key])) {</span><span class="s3">\n                        </span><span class="s1">this.config[key] = newConfig[key];</span><span class="s3">\n                        </span><span class="s1">changed = true;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">if (newConfig[key] !== this.config[key]) {</span><span class="s3">\n                        </span><span class="s1">this.config[key] = newConfig[key];</span><span class="s3">\n                        </span><span class="s1">changed = true;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (changed) {</span><span class="s3">\n            </span><span class="s1">this.updatePaletteColors();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return changed;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updatePaletteColors() {</span><span class="s3">\n        </span><span class="s1">const scale = this.generatePaletteColorScale();</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; this.config.steps; i++) {</span><span class="s3">\n            </span><span class="s1">this.palette[i] = scale.getColor(i / (this.config.steps - 1), this.config.interpolationMode);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">generatePaletteColorScale() {</span><span class="s3">\n        </span><span class="s1">// Even when config.baseScalePosition is specified, using 0.5 for the baseColor</span><span class="s3">\n        </span><span class="s1">// in the baseScale gives better results. Otherwise very off-center palettes</span><span class="s3">\n        </span><span class="s1">// tend to go completely grey at the end furthest from the specified base color.</span><span class="s3">\n        </span><span class="s1">const baseColorHSL = rgbToHSL(this.config.baseColor);</span><span class="s3">\n        </span><span class="s1">const baseScale = new ColorScale([</span><span class="s3">\n            </span><span class="s1">{ position: 0, color: this.config.scaleColorLight },</span><span class="s3">\n            </span><span class="s1">{ position: 0.5, color: this.config.baseColor },</span><span class="s3">\n            </span><span class="s1">{ position: 1, color: this.config.scaleColorDark },</span><span class="s3">\n        </span><span class="s1">]);</span><span class="s3">\n        </span><span class="s1">const trimmedScale = baseScale.trim(this.config.clipLight, 1 - this.config.clipDark);</span><span class="s3">\n        </span><span class="s1">const trimmedLight = trimmedScale.getColor(0);</span><span class="s3">\n        </span><span class="s1">const trimmedDark = trimmedScale.getColor(1);</span><span class="s3">\n        </span><span class="s1">let adjustedLight = trimmedLight;</span><span class="s3">\n        </span><span class="s1">let adjustedDark = trimmedDark;</span><span class="s3">\n        </span><span class="s1">if (baseColorHSL.s &gt;= this.config.saturationAdjustmentCutoff) {</span><span class="s3">\n            </span><span class="s1">adjustedLight = saturateViaLCH(adjustedLight, this.config.saturationLight);</span><span class="s3">\n            </span><span class="s1">adjustedDark = saturateViaLCH(adjustedDark, this.config.saturationDark);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.config.multiplyLight !== 0) {</span><span class="s3">\n            </span><span class="s1">const multiply = blendMultiply(this.config.baseColor, adjustedLight);</span><span class="s3">\n            </span><span class="s1">adjustedLight = interpolateByColorSpace(this.config.multiplyLight, this.config.interpolationMode, adjustedLight, multiply);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.config.multiplyDark !== 0) {</span><span class="s3">\n            </span><span class="s1">const multiply = blendMultiply(this.config.baseColor, adjustedDark);</span><span class="s3">\n            </span><span class="s1">adjustedDark = interpolateByColorSpace(this.config.multiplyDark, this.config.interpolationMode, adjustedDark, multiply);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.config.overlayLight !== 0) {</span><span class="s3">\n            </span><span class="s1">const overlay = blendOverlay(this.config.baseColor, adjustedLight);</span><span class="s3">\n            </span><span class="s1">adjustedLight = interpolateByColorSpace(this.config.overlayLight, this.config.interpolationMode, adjustedLight, overlay);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.config.overlayDark !== 0) {</span><span class="s3">\n            </span><span class="s1">const overlay = blendOverlay(this.config.baseColor, adjustedDark);</span><span class="s3">\n            </span><span class="s1">adjustedDark = interpolateByColorSpace(this.config.overlayDark, this.config.interpolationMode, adjustedDark, overlay);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.config.baseScalePosition) {</span><span class="s3">\n            </span><span class="s1">if (this.config.baseScalePosition &lt;= 0) {</span><span class="s3">\n                </span><span class="s1">return new ColorScale([</span><span class="s3">\n                    </span><span class="s1">{ position: 0, color: this.config.baseColor },</span><span class="s3">\n                    </span><span class="s1">{ position: 1, color: adjustedDark.clamp() },</span><span class="s3">\n                </span><span class="s1">]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (this.config.baseScalePosition &gt;= 1) {</span><span class="s3">\n                </span><span class="s1">return new ColorScale([</span><span class="s3">\n                    </span><span class="s1">{ position: 0, color: adjustedLight.clamp() },</span><span class="s3">\n                    </span><span class="s1">{ position: 1, color: this.config.baseColor },</span><span class="s3">\n                </span><span class="s1">]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return new ColorScale([</span><span class="s3">\n                </span><span class="s1">{ position: 0, color: adjustedLight.clamp() },</span><span class="s3">\n                </span><span class="s1">{</span><span class="s3">\n                    </span><span class="s1">position: this.config.baseScalePosition,</span><span class="s3">\n                    </span><span class="s1">color: this.config.baseColor,</span><span class="s3">\n                </span><span class="s1">},</span><span class="s3">\n                </span><span class="s1">{ position: 1, color: adjustedDark.clamp() },</span><span class="s3">\n            </span><span class="s1">]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return new ColorScale([</span><span class="s3">\n            </span><span class="s1">{ position: 0, color: adjustedLight.clamp() },</span><span class="s3">\n            </span><span class="s1">{ position: 0.5, color: this.config.baseColor },</span><span class="s3">\n            </span><span class="s1">{ position: 1, color: adjustedDark.clamp() },</span><span class="s3">\n        </span><span class="s1">]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">ColorPalette.defaultPaletteConfig = {</span><span class="s3">\n    </span><span class="s1">baseColor: parseColorHexRGB(</span><span class="s3">\&quot;</span><span class="s1">#808080</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">steps: 11,</span><span class="s3">\n    </span><span class="s1">interpolationMode: ColorInterpolationSpace.RGB,</span><span class="s3">\n    </span><span class="s1">scaleColorLight: new ColorRGBA64(1, 1, 1, 1),</span><span class="s3">\n    </span><span class="s1">scaleColorDark: new ColorRGBA64(0, 0, 0, 1),</span><span class="s3">\n    </span><span class="s1">clipLight: 0.185,</span><span class="s3">\n    </span><span class="s1">clipDark: 0.16,</span><span class="s3">\n    </span><span class="s1">saturationAdjustmentCutoff: 0.05,</span><span class="s3">\n    </span><span class="s1">saturationLight: 0.35,</span><span class="s3">\n    </span><span class="s1">saturationDark: 1.25,</span><span class="s3">\n    </span><span class="s1">overlayLight: 0,</span><span class="s3">\n    </span><span class="s1">overlayDark: 0.25,</span><span class="s3">\n    </span><span class="s1">multiplyLight: 0,</span><span class="s3">\n    </span><span class="s1">multiplyDark: 0,</span><span class="s3">\n    </span><span class="s1">baseScalePosition: 0.5,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">ColorPalette.greyscalePaletteConfig = {</span><span class="s3">\n    </span><span class="s1">baseColor: parseColorHexRGB(</span><span class="s3">\&quot;</span><span class="s1">#808080</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">steps: 11,</span><span class="s3">\n    </span><span class="s1">interpolationMode: ColorInterpolationSpace.RGB,</span><span class="s3">\n    </span><span class="s1">scaleColorLight: new ColorRGBA64(1, 1, 1, 1),</span><span class="s3">\n    </span><span class="s1">scaleColorDark: new ColorRGBA64(0, 0, 0, 1),</span><span class="s3">\n    </span><span class="s1">clipLight: 0,</span><span class="s3">\n    </span><span class="s1">clipDark: 0,</span><span class="s3">\n    </span><span class="s1">saturationAdjustmentCutoff: 0,</span><span class="s3">\n    </span><span class="s1">saturationLight: 0,</span><span class="s3">\n    </span><span class="s1">saturationDark: 0,</span><span class="s3">\n    </span><span class="s1">overlayLight: 0,</span><span class="s3">\n    </span><span class="s1">overlayDark: 0,</span><span class="s3">\n    </span><span class="s1">multiplyLight: 0,</span><span class="s3">\n    </span><span class="s1">multiplyDark: 0,</span><span class="s3">\n    </span><span class="s1">baseScalePosition: 0.5,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Takes the input color and compares it to each color in the reference array to find the index with the closest Lightness value in HSL color space</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function matchLightnessIndex(input, reference) {</span><span class="s3">\n    </span><span class="s1">const hsl = rgbToHSL(input);</span><span class="s3">\n    </span><span class="s1">let bestFitValue = Number.MAX_VALUE;</span><span class="s3">\n    </span><span class="s1">let bestFitIndex = 0;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; reference.length; i++) {</span><span class="s3">\n        </span><span class="s1">const ihsl = rgbToHSL(reference[i]);</span><span class="s3">\n        </span><span class="s1">const fitValue = Math.abs(ihsl.l - hsl.l);</span><span class="s3">\n        </span><span class="s1">if (fitValue &lt; bestFitValue) {</span><span class="s3">\n            </span><span class="s1">bestFitValue = fitValue;</span><span class="s3">\n            </span><span class="s1">bestFitIndex = i;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return bestFitIndex;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Generates a greyscale palette using greyscaleConfig. The Lightness (in HSL) of the input color is then compared to the greyscale palette to determine how far off center the input color should be placed. The output palette is then generated with outputSteps number of steps using colorConfig.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function generateOffCenterPalette(input, outputSteps, greyscaleConfig = ColorPalette.greyscalePaletteConfig, colorConfig = ColorPalette.defaultPaletteConfig) {</span><span class="s3">\n    </span><span class="s1">const greyscale = new ColorPalette(Object.assign(Object.assign({}, greyscaleConfig), { steps: outputSteps }));</span><span class="s3">\n    </span><span class="s1">const scaleIndex = matchLightnessIndex(input, greyscale.palette);</span><span class="s3">\n    </span><span class="s1">return new ColorPalette(Object.assign(Object.assign({}, colorConfig), { steps: outputSteps, baseColor: input, baseScalePosition: scaleIndex / (outputSteps - 1) }));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Take the input array of colors and extrapolates them to a larger palette of size targetSize. If preserveInputColors is false the input colors are evenly distributed into the output. Otherwise, the positions of the input colors are adjusted from a perfectly even distribution in order to ensure that the exact color values appearing in the input array also appear in the output array. The larger targetSize is compared to input.length the smaller those adjustments will be.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function rescale(input, targetSize, preserveInputColors) {</span><span class="s3">\n    </span><span class="s1">if (input.length &lt;= 1 || targetSize &lt;= 1) {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">The input array and targetSize must both be greater than 1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (preserveInputColors &amp;&amp; targetSize &lt;= input.length) {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">If preserveInputColors is true then targetSize must be greater than the length of the input array</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const stops = new Array(input.length);</span><span class="s3">\n    </span><span class="s1">if (preserveInputColors) {</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; input.length; i++) {</span><span class="s3">\n            </span><span class="s1">const p = i / (input.length - 1);</span><span class="s3">\n            </span><span class="s1">let bestFitValue = 2;</span><span class="s3">\n            </span><span class="s1">let bestFitIndex = 0;</span><span class="s3">\n            </span><span class="s1">for (let j = 0; j &lt; targetSize; j++) {</span><span class="s3">\n                </span><span class="s1">const fitValue = Math.abs(j / (targetSize - 1) - p);</span><span class="s3">\n                </span><span class="s1">if (fitValue &lt; bestFitValue) {</span><span class="s3">\n                    </span><span class="s1">bestFitValue = fitValue;</span><span class="s3">\n                    </span><span class="s1">bestFitIndex = j;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (fitValue === 0) {</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">stops[i] = {</span><span class="s3">\n                </span><span class="s1">color: input[i],</span><span class="s3">\n                </span><span class="s1">position: bestFitIndex / (targetSize - 1),</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; stops.length; i++) {</span><span class="s3">\n            </span><span class="s1">stops[i] = { color: input[i], position: i / (input.length - 1) };</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const scale = new ColorScale(stops);</span><span class="s3">\n    </span><span class="s1">const retVal = new Array(targetSize);</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; targetSize; i++) {</span><span class="s3">\n        </span><span class="s1">retVal[i] = scale.getColor(i / (targetSize - 1));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return retVal;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const defaultCenteredRescaleConfig = {</span><span class="s3">\n    </span><span class="s1">targetSize: 63,</span><span class="s3">\n    </span><span class="s1">spacing: 4,</span><span class="s3">\n    </span><span class="s1">scaleColorLight: ColorPalette.defaultPaletteConfig.scaleColorLight,</span><span class="s3">\n    </span><span class="s1">scaleColorDark: ColorPalette.defaultPaletteConfig.scaleColorDark,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Takes an input array of colors and extrapolates them to a larger palette. The mapping first takes the input array and extrapolates between each color so that they are separated by spacing-1 slots. Then it adds to either end enough new colors to make up the desired targetSize. All output color slots between the defined stops are interpolated.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* For an input array with length 5, a targetSize of 17 and spacing of 3 the output would be:</span><span class="s3">\n </span><span class="s1">*  0: scaleColorLight</span><span class="s3">\n </span><span class="s1">*  1:</span><span class="s3">\n </span><span class="s1">*  2: input 0</span><span class="s3">\n </span><span class="s1">*  3:</span><span class="s3">\n </span><span class="s1">*  4:</span><span class="s3">\n </span><span class="s1">*  5: input 1</span><span class="s3">\n </span><span class="s1">*  6:</span><span class="s3">\n </span><span class="s1">*  7:</span><span class="s3">\n </span><span class="s1">*  8: input 2</span><span class="s3">\n </span><span class="s1">*  9:</span><span class="s3">\n </span><span class="s1">* 10:</span><span class="s3">\n </span><span class="s1">* 11: input 3</span><span class="s3">\n </span><span class="s1">* 12:</span><span class="s3">\n </span><span class="s1">* 13:</span><span class="s3">\n </span><span class="s1">* 14: input 4</span><span class="s3">\n </span><span class="s1">* 15:</span><span class="s3">\n </span><span class="s1">* 16: scaleColorDark</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function centeredRescale(input, config = defaultCenteredRescaleConfig) {</span><span class="s3">\n    </span><span class="s1">if (input.length === 0) {</span><span class="s3">\n        </span><span class="s1">return [];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const offset = Math.floor((config.targetSize - ((input.length - 1) * config.spacing + 1)) / 2);</span><span class="s3">\n    </span><span class="s1">if (offset &lt; 0) {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">(targetSize - ((input.length - 1) * spacing + 1)) / 2 must be &gt;= 0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const stops = new Array(input.length + 2);</span><span class="s3">\n    </span><span class="s1">stops[0] = { position: 0, color: config.scaleColorLight };</span><span class="s3">\n    </span><span class="s1">stops[stops.length - 1] = {</span><span class="s3">\n        </span><span class="s1">position: 1,</span><span class="s3">\n        </span><span class="s1">color: config.scaleColorDark,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; input.length; i++) {</span><span class="s3">\n        </span><span class="s1">stops[i + 1] = {</span><span class="s3">\n            </span><span class="s1">color: input[i],</span><span class="s3">\n            </span><span class="s1">position: (i * config.spacing + offset) / (config.targetSize - 1),</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const scale = new ColorScale(stops);</span><span class="s3">\n    </span><span class="s1">const retVal = new Array(config.targetSize);</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; config.targetSize; i++) {</span><span class="s3">\n        </span><span class="s1">retVal[i] = scale.getColor(i / (config.targetSize - 1));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return retVal;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Generates two palettes of length shortPaletteLength and longPaletteLength from a base color. The base color is compared to the default greyscale palette to determine where it should be placed. The short palette is then fed into centeredRescale to create the long palette. The colors in the short palette are always contained within the long.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function generateScaledPalettes(input, shortPaletteLength = 11, config = defaultCenteredRescaleConfig) {</span><span class="s3">\n    </span><span class="s1">const shortPalette = generateOffCenterPalette(input, shortPaletteLength);</span><span class="s3">\n    </span><span class="s1">const longPalette = centeredRescale(shortPalette.palette, config);</span><span class="s3">\n    </span><span class="s1">return { short: shortPalette.palette, long: longPalette };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { ColorRGBA64 } from </span><span class="s3">\&quot;</span><span class="s1">./color-rgba-64.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorPalette } from </span><span class="s3">\&quot;</span><span class="s1">./color-palette.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { hslToRGB, rgbToHSL, rgbToLinearLuminance } from </span><span class="s3">\&quot;</span><span class="s1">./color-converters.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorScale } from </span><span class="s3">\&quot;</span><span class="s1">./color-scale.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorHSL } from </span><span class="s3">\&quot;</span><span class="s1">./color-hsl.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ColorInterpolationSpace } from </span><span class="s3">\&quot;</span><span class="s1">./color-interpolation.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { parseColorHexRGB } from </span><span class="s3">\&quot;</span><span class="s1">./parse-color.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a color palette for UI components</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ComponentStateColorPalette {</span><span class="s3">\n    </span><span class="s1">constructor(config) {</span><span class="s3">\n        </span><span class="s1">this.palette = [];</span><span class="s3">\n        </span><span class="s1">this.config = Object.assign({}, ComponentStateColorPalette.defaultPaletteConfig, config);</span><span class="s3">\n        </span><span class="s1">this.regenPalettes();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">regenPalettes() {</span><span class="s3">\n        </span><span class="s1">let steps = this.config.steps;</span><span class="s3">\n        </span><span class="s1">if (isNaN(steps) || steps &lt; 3) {</span><span class="s3">\n            </span><span class="s1">steps = 3;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// This palette is tuned to go as dark as differences between the levels can be perceived according to tests</span><span class="s3">\n        </span><span class="s1">// on numerous monitors in different conditions. Stay linear from white until this first cutoff.</span><span class="s3">\n        </span><span class="s1">const darkLum = 0.14;</span><span class="s3">\n        </span><span class="s1">// In the dark compression, this is the last luminance value before full black.</span><span class="s3">\n        </span><span class="s1">const darkestLum = 0.06;</span><span class="s3">\n        </span><span class="s1">// The Color for the luminance value above, placed on the ramp at it's normal position, so darker colors after</span><span class="s3">\n        </span><span class="s1">// it can be compressed.</span><span class="s3">\n        </span><span class="s1">const darkLumColor = new ColorRGBA64(darkLum, darkLum, darkLum, 1);</span><span class="s3">\n        </span><span class="s1">// The number of steps in the ramp that has been tuned for default use. This coincides with the size of the</span><span class="s3">\n        </span><span class="s1">// default ramp, but the palette could be generated with fewer steps to increase final contrast. This number</span><span class="s3">\n        </span><span class="s1">// should however stay the same.</span><span class="s3">\n        </span><span class="s1">const stepsForLuminanceRamp = 94;</span><span class="s3">\n        </span><span class="s1">// Create the reference, dark-compressed, grey palette, like:</span><span class="s3">\n        </span><span class="s1">// F------------------------------------------------------------------------------------[dark]------[darkest]0</span><span class="s3">\n        </span><span class="s1">//                                                                                      |--compressed area--|</span><span class="s3">\n        </span><span class="s1">const r = new ColorPalette(Object.assign(Object.assign({}, ColorPalette.greyscalePaletteConfig), { baseColor: darkLumColor, baseScalePosition: ((1 - darkLum) * 100) / stepsForLuminanceRamp, steps }));</span><span class="s3">\n        </span><span class="s1">const referencePalette = r.palette;</span><span class="s3">\n        </span><span class="s1">// Find the requested base color on the adjusted luminance reference ramp.</span><span class="s3">\n        </span><span class="s1">// There is no _right_ way to desaturate a color, and both methods we've tested have value, so average them out.</span><span class="s3">\n        </span><span class="s1">const baseColorLum1 = rgbToLinearLuminance(this.config.baseColor);</span><span class="s3">\n        </span><span class="s1">const baseColorLum2 = rgbToHSL(this.config.baseColor).l;</span><span class="s3">\n        </span><span class="s1">const baseColorLum = (baseColorLum1 + baseColorLum2) / 2;</span><span class="s3">\n        </span><span class="s1">const baseColorRefIndex = this.matchRelativeLuminanceIndex(baseColorLum, referencePalette);</span><span class="s3">\n        </span><span class="s1">const baseColorPercent = baseColorRefIndex / (steps - 1);</span><span class="s3">\n        </span><span class="s1">// Find the luminance location for the dark cutoff.</span><span class="s3">\n        </span><span class="s1">const darkRefIndex = this.matchRelativeLuminanceIndex(darkLum, referencePalette);</span><span class="s3">\n        </span><span class="s1">const darkPercent = darkRefIndex / (steps - 1);</span><span class="s3">\n        </span><span class="s1">// Issue https://github.com/microsoft/fast/issues/1904</span><span class="s3">\n        </span><span class="s1">// Creating a color from H, S, and a known L value is not the inverse of getting the relative</span><span class="s3">\n        </span><span class="s1">// luminace as above. Need to derive a relative luminance version of the color to better match on the dark end.</span><span class="s3">\n        </span><span class="s1">// Find the dark cutoff and darkest variations of the requested base color.</span><span class="s3">\n        </span><span class="s1">const baseColorHSL = rgbToHSL(this.config.baseColor);</span><span class="s3">\n        </span><span class="s1">const darkBaseColor = hslToRGB(ColorHSL.fromObject({</span><span class="s3">\n            </span><span class="s1">h: baseColorHSL.h,</span><span class="s3">\n            </span><span class="s1">s: baseColorHSL.s,</span><span class="s3">\n            </span><span class="s1">l: darkLum,</span><span class="s3">\n        </span><span class="s1">}));</span><span class="s3">\n        </span><span class="s1">const darkestBaseColor = hslToRGB(ColorHSL.fromObject({</span><span class="s3">\n            </span><span class="s1">h: baseColorHSL.h,</span><span class="s3">\n            </span><span class="s1">s: baseColorHSL.s,</span><span class="s3">\n            </span><span class="s1">l: darkestLum,</span><span class="s3">\n        </span><span class="s1">}));</span><span class="s3">\n        </span><span class="s1">// Create the gradient stops, including the base color and anchor colors for the dark end compression.</span><span class="s3">\n        </span><span class="s1">const fullColorScaleStops = new Array(5);</span><span class="s3">\n        </span><span class="s1">fullColorScaleStops[0] = {</span><span class="s3">\n            </span><span class="s1">position: 0,</span><span class="s3">\n            </span><span class="s1">color: new ColorRGBA64(1, 1, 1, 1),</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">fullColorScaleStops[1] = {</span><span class="s3">\n            </span><span class="s1">position: baseColorPercent,</span><span class="s3">\n            </span><span class="s1">color: this.config.baseColor,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">fullColorScaleStops[2] = {</span><span class="s3">\n            </span><span class="s1">position: darkPercent,</span><span class="s3">\n            </span><span class="s1">color: darkBaseColor,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">fullColorScaleStops[3] = {</span><span class="s3">\n            </span><span class="s1">position: 0.99,</span><span class="s3">\n            </span><span class="s1">color: darkestBaseColor,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">fullColorScaleStops[4] = {</span><span class="s3">\n            </span><span class="s1">position: 1,</span><span class="s3">\n            </span><span class="s1">color: new ColorRGBA64(0, 0, 0, 1),</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">const scale = new ColorScale(fullColorScaleStops);</span><span class="s3">\n        </span><span class="s1">// Create the palette.</span><span class="s3">\n        </span><span class="s1">this.palette = new Array(steps);</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; steps; i++) {</span><span class="s3">\n            </span><span class="s1">const c = scale.getColor(i / (steps - 1), ColorInterpolationSpace.RGB);</span><span class="s3">\n            </span><span class="s1">this.palette[i] = c;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">matchRelativeLuminanceIndex(input, reference) {</span><span class="s3">\n        </span><span class="s1">let bestFitValue = Number.MAX_VALUE;</span><span class="s3">\n        </span><span class="s1">let bestFitIndex = 0;</span><span class="s3">\n        </span><span class="s1">let i = 0;</span><span class="s3">\n        </span><span class="s1">const referenceLength = reference.length;</span><span class="s3">\n        </span><span class="s1">for (; i &lt; referenceLength; i++) {</span><span class="s3">\n            </span><span class="s1">const fitValue = Math.abs(rgbToLinearLuminance(reference[i]) - input);</span><span class="s3">\n            </span><span class="s1">if (fitValue &lt; bestFitValue) {</span><span class="s3">\n                </span><span class="s1">bestFitValue = fitValue;</span><span class="s3">\n                </span><span class="s1">bestFitIndex = i;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return bestFitIndex;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">ComponentStateColorPalette.defaultPaletteConfig = {</span><span class="s3">\n    </span><span class="s1">baseColor: parseColorHexRGB(</span><span class="s3">\&quot;</span><span class="s1">#808080</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">steps: 94,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function binarySearch(valuesToSearch, searchCondition, startIndex = 0, endIndex = valuesToSearch.length - 1) {</span><span class="s3">\n    </span><span class="s1">if (endIndex === startIndex) {</span><span class="s3">\n        </span><span class="s1">return valuesToSearch[startIndex];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const middleIndex = Math.floor((endIndex - startIndex) / 2) + startIndex;</span><span class="s3">\n    </span><span class="s1">// Check to see if this passes on the item in the center of the array</span><span class="s3">\n    </span><span class="s1">// if it does check the previous values</span><span class="s3">\n    </span><span class="s1">return searchCondition(valuesToSearch[middleIndex])</span><span class="s3">\n        </span><span class="s1">? binarySearch(valuesToSearch, searchCondition, startIndex, middleIndex // include this index because it passed the search condition</span><span class="s3">\n        </span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">: binarySearch(valuesToSearch, searchCondition, middleIndex + 1, // exclude this index because it failed the search condition</span><span class="s3">\n        </span><span class="s1">endIndex);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { isDark } from './is-dark.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function directionByIsDark(color) {</span><span class="s3">\n    </span><span class="s1">return isDark(color) ? -1 : 1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { clamp, ColorRGBA64, ComponentStateColorPalette, parseColorHexRGB } from '@microsoft/fast-colors';</span><span class="s3">\n</span><span class="s1">import { isSwatchRGB, SwatchRGB } from './swatch.js';</span><span class="s3">\n</span><span class="s1">import { binarySearch } from './utilities/binary-search.js';</span><span class="s3">\n</span><span class="s1">import { directionByIsDark } from './utilities/direction-by-is-dark.js';</span><span class="s3">\n</span><span class="s1">import { contrast } from './utilities/relative-luminance.js';</span><span class="s3">\n</span><span class="s1">function create(rOrSource, g, b) {</span><span class="s3">\n    </span><span class="s1">if (typeof rOrSource === 'number') {</span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n        </span><span class="s1">return PaletteRGB.from(SwatchRGB.create(rOrSource, g, b));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">return PaletteRGB.from(rOrSource);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function from(source) {</span><span class="s3">\n    </span><span class="s1">return isSwatchRGB(source)</span><span class="s3">\n        </span><span class="s1">? PaletteRGBImpl.from(source)</span><span class="s3">\n        </span><span class="s1">: PaletteRGBImpl.from(SwatchRGB.create(source.r, source.g, source.b));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const PaletteRGB = Object.freeze({</span><span class="s3">\n    </span><span class="s1">create,</span><span class="s3">\n    </span><span class="s1">from</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A {@link Palette} representing RGB swatch values.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class PaletteRGBImpl {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param source - The source color for the palette</span><span class="s3">\n     </span><span class="s1">* @param swatches - All swatches in the palette</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(source, swatches) {</span><span class="s3">\n        </span><span class="s1">this.closestIndexCache = new Map();</span><span class="s3">\n        </span><span class="s1">this.source = source;</span><span class="s3">\n        </span><span class="s1">this.swatches = swatches;</span><span class="s3">\n        </span><span class="s1">this.reversedSwatches = Object.freeze([...this.swatches].reverse());</span><span class="s3">\n        </span><span class="s1">this.lastIndex = this.swatches.length - 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* {@inheritdoc Palette.colorContrast}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">colorContrast(reference, contrastTarget, initialSearchIndex, direction) {</span><span class="s3">\n        </span><span class="s1">if (initialSearchIndex === undefined) {</span><span class="s3">\n            </span><span class="s1">initialSearchIndex = this.closestIndexOf(reference);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let source = this.swatches;</span><span class="s3">\n        </span><span class="s1">const endSearchIndex = this.lastIndex;</span><span class="s3">\n        </span><span class="s1">let startSearchIndex = initialSearchIndex;</span><span class="s3">\n        </span><span class="s1">if (direction === undefined) {</span><span class="s3">\n            </span><span class="s1">direction = directionByIsDark(reference);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const condition = (value) =&gt; contrast(reference, value) &gt;= contrastTarget;</span><span class="s3">\n        </span><span class="s1">if (direction === -1) {</span><span class="s3">\n            </span><span class="s1">source = this.reversedSwatches;</span><span class="s3">\n            </span><span class="s1">startSearchIndex = endSearchIndex - startSearchIndex;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return binarySearch(source, condition, startSearchIndex, endSearchIndex);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* {@inheritdoc Palette.get}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get(index) {</span><span class="s3">\n        </span><span class="s1">return (this.swatches[index] || this.swatches[clamp(index, 0, this.lastIndex)]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* {@inheritdoc Palette.closestIndexOf}</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">closestIndexOf(reference) {</span><span class="s3">\n        </span><span class="s1">if (this.closestIndexCache.has(reference.relativeLuminance)) {</span><span class="s3">\n            </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n            </span><span class="s1">return this.closestIndexCache.get(reference.relativeLuminance);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let index = this.swatches.indexOf(reference);</span><span class="s3">\n        </span><span class="s1">if (index !== -1) {</span><span class="s3">\n            </span><span class="s1">this.closestIndexCache.set(reference.relativeLuminance, index);</span><span class="s3">\n            </span><span class="s1">return index;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const closest = this.swatches.reduce((previous, next) =&gt; Math.abs(next.relativeLuminance - reference.relativeLuminance) &lt;</span><span class="s3">\n            </span><span class="s1">Math.abs(previous.relativeLuminance - reference.relativeLuminance)</span><span class="s3">\n            </span><span class="s1">? next</span><span class="s3">\n            </span><span class="s1">: previous);</span><span class="s3">\n        </span><span class="s1">index = this.swatches.indexOf(closest);</span><span class="s3">\n        </span><span class="s1">this.closestIndexCache.set(reference.relativeLuminance, index);</span><span class="s3">\n        </span><span class="s1">return index;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Create a color palette from a provided swatch</span><span class="s3">\n     </span><span class="s1">* @param source - The source swatch to create a palette from</span><span class="s3">\n     </span><span class="s1">* @returns</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static from(source) {</span><span class="s3">\n        </span><span class="s1">return new PaletteRGBImpl(source, Object.freeze(new ComponentStateColorPalette({</span><span class="s3">\n            </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n            </span><span class="s1">baseColor: ColorRGBA64.fromObject(source)</span><span class="s3">\n        </span><span class="s1">}).palette.map(x =&gt; {</span><span class="s3">\n            </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n            </span><span class="s1">const _x = parseColorHexRGB(x.toStringHexRGB());</span><span class="s3">\n            </span><span class="s1">return SwatchRGB.create(_x.r, _x.g, _x.b);</span><span class="s3">\n        </span><span class="s1">})));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function accentFill(palette, neutralPalette, reference, hoverDelta, activeDelta, focusDelta, neutralFillRestDelta, neutralFillHoverDelta, neutralFillActiveDelta) {</span><span class="s3">\n    </span><span class="s1">const accent = palette.source;</span><span class="s3">\n    </span><span class="s1">const referenceIndex = neutralPalette.closestIndexOf(reference);</span><span class="s3">\n    </span><span class="s1">const swapThreshold = Math.max(neutralFillRestDelta, neutralFillHoverDelta, neutralFillActiveDelta);</span><span class="s3">\n    </span><span class="s1">const direction = referenceIndex &gt;= swapThreshold ? -1 : 1;</span><span class="s3">\n    </span><span class="s1">const accentIndex = palette.closestIndexOf(accent);</span><span class="s3">\n    </span><span class="s1">const hoverIndex = accentIndex;</span><span class="s3">\n    </span><span class="s1">const restIndex = hoverIndex + direction * -1 * hoverDelta;</span><span class="s3">\n    </span><span class="s1">const activeIndex = restIndex + direction * activeDelta;</span><span class="s3">\n    </span><span class="s1">const focusIndex = restIndex + direction * focusDelta;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">rest: palette.get(restIndex),</span><span class="s3">\n        </span><span class="s1">hover: palette.get(hoverIndex),</span><span class="s3">\n        </span><span class="s1">active: palette.get(activeIndex),</span><span class="s3">\n        </span><span class="s1">focus: palette.get(focusIndex)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { directionByIsDark } from '../utilities/direction-by-is-dark.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function accentForeground(palette, reference, contrastTarget, restDelta, hoverDelta, activeDelta, focusDelta) {</span><span class="s3">\n    </span><span class="s1">const accent = palette.source;</span><span class="s3">\n    </span><span class="s1">const accentIndex = palette.closestIndexOf(accent);</span><span class="s3">\n    </span><span class="s1">const direction = directionByIsDark(reference);</span><span class="s3">\n    </span><span class="s1">const startIndex = accentIndex +</span><span class="s3">\n        </span><span class="s1">(direction === 1</span><span class="s3">\n            </span><span class="s1">? Math.min(restDelta, hoverDelta)</span><span class="s3">\n            </span><span class="s1">: Math.max(direction * restDelta, direction * hoverDelta));</span><span class="s3">\n    </span><span class="s1">const accessibleSwatch = palette.colorContrast(reference, contrastTarget, startIndex, direction);</span><span class="s3">\n    </span><span class="s1">const accessibleIndex1 = palette.closestIndexOf(accessibleSwatch);</span><span class="s3">\n    </span><span class="s1">const accessibleIndex2 = accessibleIndex1 + direction * Math.abs(restDelta - hoverDelta);</span><span class="s3">\n    </span><span class="s1">const indexOneIsRestState = direction === 1</span><span class="s3">\n        </span><span class="s1">? restDelta &lt; hoverDelta</span><span class="s3">\n        </span><span class="s1">: direction * restDelta &gt; direction * hoverDelta;</span><span class="s3">\n    </span><span class="s1">let restIndex;</span><span class="s3">\n    </span><span class="s1">let hoverIndex;</span><span class="s3">\n    </span><span class="s1">if (indexOneIsRestState) {</span><span class="s3">\n        </span><span class="s1">restIndex = accessibleIndex1;</span><span class="s3">\n        </span><span class="s1">hoverIndex = accessibleIndex2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">restIndex = accessibleIndex2;</span><span class="s3">\n        </span><span class="s1">hoverIndex = accessibleIndex1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">rest: palette.get(restIndex),</span><span class="s3">\n        </span><span class="s1">hover: palette.get(hoverIndex),</span><span class="s3">\n        </span><span class="s1">active: palette.get(restIndex + direction * activeDelta),</span><span class="s3">\n        </span><span class="s1">focus: palette.get(restIndex + direction * focusDelta)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { parseColorHexRGB } from '@microsoft/fast-colors';</span><span class="s3">\n</span><span class="s1">import { SwatchRGB } from '../swatch.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const white = SwatchRGB.create(1, 1, 1);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const black = SwatchRGB.create(0, 0, 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n</span><span class="s1">export const middleGrey = SwatchRGB.from(parseColorHexRGB('#808080'));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n</span><span class="s1">export const accentBase = SwatchRGB.from(parseColorHexRGB('#DA1A5F'));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n</span><span class="s1">export const errorBase = SwatchRGB.from(parseColorHexRGB('#D32F2F'));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { black, white } from '../utilities/color-constants.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function foregroundOnAccent(reference, contrastTarget) {</span><span class="s3">\n    </span><span class="s1">return reference.contrast(white) &gt;= contrastTarget ? white : black;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param palette - The palette to operate on</span><span class="s3">\n </span><span class="s1">* @param reference - The reference color to calculate a color for</span><span class="s3">\n </span><span class="s1">* @param delta - The offset from the reference's location</span><span class="s3">\n </span><span class="s1">* @param threshold - Determines if a lighter or darker color than the reference will be picked.</span><span class="s3">\n </span><span class="s1">* @returns</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralFill(palette, reference, restDelta, hoverDelta, activeDelta, focusDelta) {</span><span class="s3">\n    </span><span class="s1">const referenceIndex = palette.closestIndexOf(reference);</span><span class="s3">\n    </span><span class="s1">const threshold = Math.max(restDelta, hoverDelta, activeDelta, focusDelta);</span><span class="s3">\n    </span><span class="s1">const direction = referenceIndex &gt;= threshold ? -1 : 1;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">rest: palette.get(referenceIndex + direction * restDelta),</span><span class="s3">\n        </span><span class="s1">hover: palette.get(referenceIndex + direction * hoverDelta),</span><span class="s3">\n        </span><span class="s1">active: palette.get(referenceIndex + direction * activeDelta),</span><span class="s3">\n        </span><span class="s1">focus: palette.get(referenceIndex + direction * focusDelta)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { directionByIsDark } from '../utilities/direction-by-is-dark.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralFillInput(palette, reference, restDelta, hoverDelta, activeDelta, focusDelta) {</span><span class="s3">\n    </span><span class="s1">const direction = directionByIsDark(reference);</span><span class="s3">\n    </span><span class="s1">const referenceIndex = palette.closestIndexOf(reference);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">rest: palette.get(referenceIndex - direction * restDelta),</span><span class="s3">\n        </span><span class="s1">hover: palette.get(referenceIndex - direction * hoverDelta),</span><span class="s3">\n        </span><span class="s1">active: palette.get(referenceIndex - direction * activeDelta),</span><span class="s3">\n        </span><span class="s1">focus: palette.get(referenceIndex - direction * focusDelta)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralFillLayer(palette, reference, delta) {</span><span class="s3">\n    </span><span class="s1">const referenceIndex = palette.closestIndexOf(reference);</span><span class="s3">\n    </span><span class="s1">return palette.get(referenceIndex - (referenceIndex &lt; delta ? delta * -1 : delta));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralFillStealth(palette, reference, restDelta, hoverDelta, activeDelta, focusDelta, fillRestDelta, fillHoverDelta, fillActiveDelta, fillFocusDelta) {</span><span class="s3">\n    </span><span class="s1">const swapThreshold = Math.max(restDelta, hoverDelta, activeDelta, focusDelta, fillRestDelta, fillHoverDelta, fillActiveDelta, fillFocusDelta);</span><span class="s3">\n    </span><span class="s1">const referenceIndex = palette.closestIndexOf(reference);</span><span class="s3">\n    </span><span class="s1">const direction = referenceIndex &gt;= swapThreshold ? -1 : 1;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">rest: palette.get(referenceIndex + direction * restDelta),</span><span class="s3">\n        </span><span class="s1">hover: palette.get(referenceIndex + direction * hoverDelta),</span><span class="s3">\n        </span><span class="s1">active: palette.get(referenceIndex + direction * activeDelta),</span><span class="s3">\n        </span><span class="s1">focus: palette.get(referenceIndex + direction * focusDelta)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { directionByIsDark } from '../utilities/direction-by-is-dark.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralFillContrast(palette, reference, restDelta, hoverDelta, activeDelta, focusDelta) {</span><span class="s3">\n    </span><span class="s1">const direction = directionByIsDark(reference);</span><span class="s3">\n    </span><span class="s1">const accessibleIndex = palette.closestIndexOf(palette.colorContrast(reference, 4.5));</span><span class="s3">\n    </span><span class="s1">const accessibleIndex2 = accessibleIndex + direction * Math.abs(restDelta - hoverDelta);</span><span class="s3">\n    </span><span class="s1">const indexOneIsRest = direction === 1</span><span class="s3">\n        </span><span class="s1">? restDelta &lt; hoverDelta</span><span class="s3">\n        </span><span class="s1">: direction * restDelta &gt; direction * hoverDelta;</span><span class="s3">\n    </span><span class="s1">let restIndex;</span><span class="s3">\n    </span><span class="s1">let hoverIndex;</span><span class="s3">\n    </span><span class="s1">if (indexOneIsRest) {</span><span class="s3">\n        </span><span class="s1">restIndex = accessibleIndex;</span><span class="s3">\n        </span><span class="s1">hoverIndex = accessibleIndex2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">restIndex = accessibleIndex2;</span><span class="s3">\n        </span><span class="s1">hoverIndex = accessibleIndex;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">rest: palette.get(restIndex),</span><span class="s3">\n        </span><span class="s1">hover: palette.get(hoverIndex),</span><span class="s3">\n        </span><span class="s1">active: palette.get(restIndex + direction * activeDelta),</span><span class="s3">\n        </span><span class="s1">focus: palette.get(restIndex + direction * focusDelta)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { directionByIsDark } from '../utilities/direction-by-is-dark.js';</span><span class="s3">\n</span><span class="s1">/** @internal */</span><span class="s3">\n</span><span class="s1">export function focusStrokeOuter(palette, reference) {</span><span class="s3">\n    </span><span class="s1">return palette.colorContrast(reference, 3.5);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/** @internal */</span><span class="s3">\n</span><span class="s1">export function focusStrokeInner(palette, reference, focusColor) {</span><span class="s3">\n    </span><span class="s1">return palette.colorContrast(focusColor, 3.5, palette.closestIndexOf(palette.source), (directionByIsDark(reference) * -1));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralForeground(palette, reference) {</span><span class="s3">\n    </span><span class="s1">return palette.colorContrast(reference, 14);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* The neutralForegroundHint color recipe</span><span class="s3">\n </span><span class="s1">* @param palette - The palette to operate on</span><span class="s3">\n </span><span class="s1">* @param reference - The reference color</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralForegroundHint(palette, reference) {</span><span class="s3">\n    </span><span class="s1">return palette.colorContrast(reference, 4.5);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { baseLayerLuminanceSwatch } from '../utilities/base-layer-luminance.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralLayerCardContainer(palette, relativeLuminance, layerDelta) {</span><span class="s3">\n    </span><span class="s1">return palette.get(palette.closestIndexOf(baseLayerLuminanceSwatch(relativeLuminance)) +</span><span class="s3">\n        </span><span class="s1">layerDelta);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { baseLayerLuminanceSwatch } from '../utilities/base-layer-luminance.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralLayerFloating(palette, relativeLuminance, layerDelta) {</span><span class="s3">\n    </span><span class="s1">const cardIndex = palette.closestIndexOf(baseLayerLuminanceSwatch(relativeLuminance)) -</span><span class="s3">\n        </span><span class="s1">layerDelta;</span><span class="s3">\n    </span><span class="s1">return palette.get(cardIndex - layerDelta);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { baseLayerLuminanceSwatch } from '../utilities/base-layer-luminance.js';</span><span class="s3">\n</span><span class="s1">export function neutralLayer1(palette, baseLayerLuminance) {</span><span class="s3">\n    </span><span class="s1">return palette.get(palette.closestIndexOf(baseLayerLuminanceSwatch(baseLayerLuminance)));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { baseLayerLuminanceSwatch } from '../utilities/base-layer-luminance.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralLayer2Index(palette, luminance, layerDelta, fillRestDelta, fillHoverDelta, fillActiveDelta) {</span><span class="s3">\n    </span><span class="s1">return Math.max(palette.closestIndexOf(baseLayerLuminanceSwatch(luminance)) + layerDelta, fillRestDelta, fillHoverDelta, fillActiveDelta);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralLayer2(palette, luminance, layerDelta, fillRestDelta, fillHoverDelta, fillActiveDelta) {</span><span class="s3">\n    </span><span class="s1">return palette.get(neutralLayer2Index(palette, luminance, layerDelta, fillRestDelta, fillHoverDelta, fillActiveDelta));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { neutralLayer2Index } from './neutral-layer-2.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralLayer3(palette, luminance, layerDelta, fillRestDelta, fillHoverDelta, fillActiveDelta) {</span><span class="s3">\n    </span><span class="s1">return palette.get(neutralLayer2Index(palette, luminance, layerDelta, fillRestDelta, fillHoverDelta, fillActiveDelta) + layerDelta);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { neutralLayer2Index } from './neutral-layer-2.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralLayer4(palette, luminance, layerDelta, fillRestDelta, fillHoverDelta, fillActiveDelta) {</span><span class="s3">\n    </span><span class="s1">return palette.get(neutralLayer2Index(palette, luminance, layerDelta, fillRestDelta, fillHoverDelta, fillActiveDelta) +</span><span class="s3">\n        </span><span class="s1">layerDelta * 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { directionByIsDark } from '../utilities/direction-by-is-dark.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralStroke(palette, reference, restDelta, hoverDelta, activeDelta, focusDelta) {</span><span class="s3">\n    </span><span class="s1">const referenceIndex = palette.closestIndexOf(reference);</span><span class="s3">\n    </span><span class="s1">const direction = directionByIsDark(reference);</span><span class="s3">\n    </span><span class="s1">const restIndex = referenceIndex + direction * restDelta;</span><span class="s3">\n    </span><span class="s1">const hoverIndex = restIndex + direction * (hoverDelta - restDelta);</span><span class="s3">\n    </span><span class="s1">const activeIndex = restIndex + direction * (activeDelta - restDelta);</span><span class="s3">\n    </span><span class="s1">const focusIndex = restIndex + direction * (focusDelta - restDelta);</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">rest: palette.get(restIndex),</span><span class="s3">\n        </span><span class="s1">hover: palette.get(hoverIndex),</span><span class="s3">\n        </span><span class="s1">active: palette.get(activeIndex),</span><span class="s3">\n        </span><span class="s1">focus: palette.get(focusIndex)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { directionByIsDark } from '../utilities/direction-by-is-dark.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The neutralStrokeDivider color recipe</span><span class="s3">\n </span><span class="s1">* @param palette - The palette to operate on</span><span class="s3">\n </span><span class="s1">* @param reference - The reference color</span><span class="s3">\n </span><span class="s1">* @param delta - The offset from the reference</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function neutralStrokeDivider(palette, reference, delta) {</span><span class="s3">\n    </span><span class="s1">return palette.get(palette.closestIndexOf(reference) + directionByIsDark(reference) * delta);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { isDark } from '../utilities/is-dark.js';</span><span class="s3">\n</span><span class="s1">export function errorFillAlgorithm(palette, neutralPalette, reference, hoverDelta, activeDelta, focusDelta, neutralFillRestDelta, neutralFillHoverDelta, neutralFillActiveDelta) {</span><span class="s3">\n    </span><span class="s1">const error = palette.source;</span><span class="s3">\n    </span><span class="s1">const referenceIndex = neutralPalette.closestIndexOf(reference);</span><span class="s3">\n    </span><span class="s1">const swapThreshold = Math.max(neutralFillRestDelta, neutralFillHoverDelta, neutralFillActiveDelta);</span><span class="s3">\n    </span><span class="s1">const direction = referenceIndex &gt;= swapThreshold ? -1 : 1;</span><span class="s3">\n    </span><span class="s1">const errorIndex = palette.closestIndexOf(error);</span><span class="s3">\n    </span><span class="s1">const hoverIndex = errorIndex;</span><span class="s3">\n    </span><span class="s1">const restIndex = hoverIndex + direction * -1 * hoverDelta;</span><span class="s3">\n    </span><span class="s1">const activeIndex = restIndex + direction * activeDelta;</span><span class="s3">\n    </span><span class="s1">const focusIndex = restIndex + direction * focusDelta;</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">rest: palette.get(restIndex),</span><span class="s3">\n        </span><span class="s1">hover: palette.get(hoverIndex),</span><span class="s3">\n        </span><span class="s1">active: palette.get(activeIndex),</span><span class="s3">\n        </span><span class="s1">focus: palette.get(focusIndex)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function errorForegroundAlgorithm(palette, reference, contrastTarget, restDelta, hoverDelta, activeDelta, focusDelta) {</span><span class="s3">\n    </span><span class="s1">const error = palette.source;</span><span class="s3">\n    </span><span class="s1">const errorIndex = palette.closestIndexOf(error);</span><span class="s3">\n    </span><span class="s1">const direction = isDark(reference) ? -1 : 1;</span><span class="s3">\n    </span><span class="s1">const startIndex = errorIndex +</span><span class="s3">\n        </span><span class="s1">(direction === 1</span><span class="s3">\n            </span><span class="s1">? Math.min(restDelta, hoverDelta)</span><span class="s3">\n            </span><span class="s1">: Math.max(direction * restDelta, direction * hoverDelta));</span><span class="s3">\n    </span><span class="s1">const accessibleSwatch = palette.colorContrast(reference, contrastTarget, startIndex, direction);</span><span class="s3">\n    </span><span class="s1">const accessibleIndex1 = palette.closestIndexOf(accessibleSwatch);</span><span class="s3">\n    </span><span class="s1">const accessibleIndex2 = accessibleIndex1 + direction * Math.abs(restDelta - hoverDelta);</span><span class="s3">\n    </span><span class="s1">const indexOneIsRestState = direction === 1</span><span class="s3">\n        </span><span class="s1">? restDelta &lt; hoverDelta</span><span class="s3">\n        </span><span class="s1">: direction * restDelta &gt; direction * hoverDelta;</span><span class="s3">\n    </span><span class="s1">let restIndex;</span><span class="s3">\n    </span><span class="s1">let hoverIndex;</span><span class="s3">\n    </span><span class="s1">if (indexOneIsRestState) {</span><span class="s3">\n        </span><span class="s1">restIndex = accessibleIndex1;</span><span class="s3">\n        </span><span class="s1">hoverIndex = accessibleIndex2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">restIndex = accessibleIndex2;</span><span class="s3">\n        </span><span class="s1">hoverIndex = accessibleIndex1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">rest: palette.get(restIndex),</span><span class="s3">\n        </span><span class="s1">hover: palette.get(hoverIndex),</span><span class="s3">\n        </span><span class="s1">active: palette.get(restIndex + direction * activeDelta),</span><span class="s3">\n        </span><span class="s1">focus: palette.get(restIndex + direction * focusDelta)</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { black, white } from '../utilities/color-constants.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function foregroundOnErrorAlgorithm(reference, contrastTarget) {</span><span class="s3">\n    </span><span class="s1">return reference.contrast(white) &gt;= contrastTarget ? white : black;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { DesignToken } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { Direction } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { PaletteRGB } from './color/palette.js';</span><span class="s3">\n</span><span class="s1">import { accentFill as accentFillAlgorithm } from './color/recipes/accent-fill.js';</span><span class="s3">\n</span><span class="s1">import { accentForeground as accentForegroundAlgorithm } from './color/recipes/accent-foreground.js';</span><span class="s3">\n</span><span class="s1">import { foregroundOnAccent as foregroundOnAccentAlgorithm } from './color/recipes/foreground-on-accent.js';</span><span class="s3">\n</span><span class="s1">import { neutralFill as neutralFillAlgorithm } from './color/recipes/neutral-fill.js';</span><span class="s3">\n</span><span class="s1">import { neutralFillInput as neutralFillInputAlgorithm } from './color/recipes/neutral-fill-input.js';</span><span class="s3">\n</span><span class="s1">import { neutralFillLayer as neutralFillLayerAlgorithm } from './color/recipes/neutral-fill-layer.js';</span><span class="s3">\n</span><span class="s1">import { neutralFillStealth as neutralFillStealthAlgorithm } from './color/recipes/neutral-fill-stealth.js';</span><span class="s3">\n</span><span class="s1">import { neutralFillContrast as neutralFillContrastAlgorithm } from './color/recipes/neutral-fill-contrast.js';</span><span class="s3">\n</span><span class="s1">import { focusStrokeInner as focusStrokeInnerAlgorithm, focusStrokeOuter as focusStrokeOuterAlgorithm } from './color/recipes/focus-stroke.js';</span><span class="s3">\n</span><span class="s1">import { neutralForeground as neutralForegroundAlgorithm } from './color/recipes/neutral-foreground.js';</span><span class="s3">\n</span><span class="s1">import { neutralForegroundHint as neutralForegroundHintAlgorithm } from './color/recipes/neutral-foreground-hint.js';</span><span class="s3">\n</span><span class="s1">import { neutralLayerCardContainer as neutralLayerCardContainerAlgorithm } from './color/recipes/neutral-layer-card-container.js';</span><span class="s3">\n</span><span class="s1">import { neutralLayerFloating as neutralLayerFloatingAlgorithm } from './color/recipes/neutral-layer-floating.js';</span><span class="s3">\n</span><span class="s1">import { neutralLayer1 as neutralLayer1Algorithm } from './color/recipes/neutral-layer-1.js';</span><span class="s3">\n</span><span class="s1">import { neutralLayer2 as neutralLayer2Algorithm } from './color/recipes/neutral-layer-2.js';</span><span class="s3">\n</span><span class="s1">import { neutralLayer3 as neutralLayer3Algorithm } from './color/recipes/neutral-layer-3.js';</span><span class="s3">\n</span><span class="s1">import { neutralLayer4 as neutralLayer4Algorithm } from './color/recipes/neutral-layer-4.js';</span><span class="s3">\n</span><span class="s1">import { neutralStroke as neutralStrokeAlgorithm } from './color/recipes/neutral-stroke.js';</span><span class="s3">\n</span><span class="s1">import { neutralStrokeDivider as neutralStrokeDividerAlgorithm } from './color/recipes/neutral-stroke-divider.js';</span><span class="s3">\n</span><span class="s1">import { StandardLuminance } from './color/utilities/base-layer-luminance.js';</span><span class="s3">\n</span><span class="s1">import { accentBase, errorBase, middleGrey } from './color/utilities/color-constants.js';</span><span class="s3">\n</span><span class="s1">import { errorFillAlgorithm, errorForegroundAlgorithm } from './color/recipes/error-fill.js';</span><span class="s3">\n</span><span class="s1">import { foregroundOnErrorAlgorithm } from './color/recipes/foreground-on-error.js';</span><span class="s3">\n</span><span class="s1">const { create } = DesignToken;</span><span class="s3">\n</span><span class="s1">function createNonCss(name) {</span><span class="s3">\n    </span><span class="s1">return DesignToken.create({ name, cssCustomPropertyName: null });</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">// General tokens</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const bodyFont = create('body-font').withDefault('aktiv-grotesk, </span><span class="s3">\&quot;</span><span class="s1">Segoe UI</span><span class="s3">\&quot;</span><span class="s1">, Arial, Helvetica, sans-serif');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const baseHeightMultiplier = create('base-height-multiplier').withDefault(10);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const baseHorizontalSpacingMultiplier = create('base-horizontal-spacing-multiplier').withDefault(3);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const baseLayerLuminance = create('base-layer-luminance').withDefault(StandardLuminance.DarkMode);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const controlCornerRadius = create('control-corner-radius').withDefault(4);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const density = create('density').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const designUnit = create('design-unit').withDefault(4);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Adds to the density on specified element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @private</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const elementScale = create('element-scale').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const direction = create('direction').withDefault(Direction.ltr);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const disabledOpacity = create('disabled-opacity').withDefault(0.4);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const strokeWidth = create('stroke-width').withDefault(1);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const focusStrokeWidth = create('focus-stroke-width').withDefault(2);</span><span class="s3">\n</span><span class="s1">// Typography values</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampBaseFontSize = create('type-ramp-base-font-size').withDefault('14px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampBaseLineHeight = create('type-ramp-base-line-height').withDefault('20px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampMinus1FontSize = create('type-ramp-minus-1-font-size').withDefault('12px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampMinus1LineHeight = create('type-ramp-minus-1-line-height').withDefault('16px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampMinus2FontSize = create('type-ramp-minus-2-font-size').withDefault('10px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampMinus2LineHeight = create('type-ramp-minus-2-line-height').withDefault('16px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus1FontSize = create('type-ramp-plus-1-font-size').withDefault('16px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus1LineHeight = create('type-ramp-plus-1-line-height').withDefault('24px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus2FontSize = create('type-ramp-plus-2-font-size').withDefault('20px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus2LineHeight = create('type-ramp-plus-2-line-height').withDefault('28px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus3FontSize = create('type-ramp-plus-3-font-size').withDefault('28px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus3LineHeight = create('type-ramp-plus-3-line-height').withDefault('36px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus4FontSize = create('type-ramp-plus-4-font-size').withDefault('34px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus4LineHeight = create('type-ramp-plus-4-line-height').withDefault('44px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus5FontSize = create('type-ramp-plus-5-font-size').withDefault('46px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus5LineHeight = create('type-ramp-plus-5-line-height').withDefault('56px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus6FontSize = create('type-ramp-plus-6-font-size').withDefault('60px');</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const typeRampPlus6LineHeight = create('type-ramp-plus-6-line-height').withDefault('72px');</span><span class="s3">\n</span><span class="s1">// Color recipe values</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentFillRestDelta = createNonCss('accent-fill-rest-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentFillHoverDelta = createNonCss('accent-fill-hover-delta').withDefault(4);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentFillActiveDelta = createNonCss('accent-fill-active-delta').withDefault(-5);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentFillFocusDelta = createNonCss('accent-fill-focus-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentForegroundRestDelta = createNonCss('accent-foreground-rest-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentForegroundHoverDelta = createNonCss('accent-foreground-hover-delta').withDefault(6);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentForegroundActiveDelta = createNonCss('accent-foreground-active-delta').withDefault(-4);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentForegroundFocusDelta = createNonCss('accent-foreground-focus-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillRestDelta = createNonCss('neutral-fill-rest-delta').withDefault(7);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillHoverDelta = createNonCss('neutral-fill-hover-delta').withDefault(10);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillActiveDelta = createNonCss('neutral-fill-active-delta').withDefault(5);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillFocusDelta = createNonCss('neutral-fill-focus-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillInputRestDelta = createNonCss('neutral-fill-input-rest-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillInputHoverDelta = createNonCss('neutral-fill-input-hover-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillInputActiveDelta = createNonCss('neutral-fill-input-active-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillInputFocusDelta = createNonCss('neutral-fill-input-focus-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStealthRestDelta = createNonCss('neutral-fill-stealth-rest-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStealthHoverDelta = createNonCss('neutral-fill-stealth-hover-delta').withDefault(5);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStealthActiveDelta = createNonCss('neutral-fill-stealth-active-delta').withDefault(3);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStealthFocusDelta = createNonCss('neutral-fill-stealth-focus-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStrongRestDelta = createNonCss('neutral-fill-strong-rest-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStrongHoverDelta = createNonCss('neutral-fill-strong-hover-delta').withDefault(8);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStrongActiveDelta = createNonCss('neutral-fill-strong-active-delta').withDefault(-5);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStrongFocusDelta = createNonCss('neutral-fill-strong-focus-delta').withDefault(0);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillLayerRestDelta = createNonCss('neutral-fill-layer-rest-delta').withDefault(3);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeRestDelta = createNonCss('neutral-stroke-rest-delta').withDefault(25);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeHoverDelta = createNonCss('neutral-stroke-hover-delta').withDefault(40);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeActiveDelta = createNonCss('neutral-stroke-active-delta').withDefault(16);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeFocusDelta = createNonCss('neutral-stroke-focus-delta').withDefault(25);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeDividerRestDelta = createNonCss('neutral-stroke-divider-rest-delta').withDefault(8);</span><span class="s3">\n</span><span class="s1">// Color recipes</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralColor = create('neutral-color').withDefault(middleGrey);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralPalette = createNonCss('neutral-palette').withDefault((element) =&gt; PaletteRGB.from(neutralColor.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentColor = create('accent-color').withDefault(accentBase);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentPalette = createNonCss('accent-palette').withDefault((element) =&gt; PaletteRGB.from(accentColor.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">// Neutral Layer Card Container</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayerCardContainerRecipe = createNonCss('neutral-layer-card-container-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; neutralLayerCardContainerAlgorithm(neutralPalette.getValueFor(element), baseLayerLuminance.getValueFor(element), neutralFillLayerRestDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayerCardContainer = create('neutral-layer-card-container').withDefault((element) =&gt; neutralLayerCardContainerRecipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">// Neutral Layer Floating</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayerFloatingRecipe = createNonCss('neutral-layer-floating-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; neutralLayerFloatingAlgorithm(neutralPalette.getValueFor(element), baseLayerLuminance.getValueFor(element), neutralFillLayerRestDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayerFloating = create('neutral-layer-floating').withDefault((element) =&gt; neutralLayerFloatingRecipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">// Neutral Layer 1</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayer1Recipe = createNonCss('neutral-layer-1-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; neutralLayer1Algorithm(neutralPalette.getValueFor(element), baseLayerLuminance.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayer1 = create('neutral-layer-1').withDefault((element) =&gt; neutralLayer1Recipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">// Neutral Layer 2</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayer2Recipe = createNonCss('neutral-layer-2-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; neutralLayer2Algorithm(neutralPalette.getValueFor(element), baseLayerLuminance.getValueFor(element), neutralFillLayerRestDelta.getValueFor(element), neutralFillRestDelta.getValueFor(element), neutralFillHoverDelta.getValueFor(element), neutralFillActiveDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayer2 = create('neutral-layer-2').withDefault((element) =&gt; neutralLayer2Recipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">// Neutral Layer 3</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayer3Recipe = createNonCss('neutral-layer-3-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; neutralLayer3Algorithm(neutralPalette.getValueFor(element), baseLayerLuminance.getValueFor(element), neutralFillLayerRestDelta.getValueFor(element), neutralFillRestDelta.getValueFor(element), neutralFillHoverDelta.getValueFor(element), neutralFillActiveDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayer3 = create('neutral-layer-3').withDefault((element) =&gt; neutralLayer3Recipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">// Neutral Layer 4</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayer4Recipe = createNonCss('neutral-layer-4-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; neutralLayer4Algorithm(neutralPalette.getValueFor(element), baseLayerLuminance.getValueFor(element), neutralFillLayerRestDelta.getValueFor(element), neutralFillRestDelta.getValueFor(element), neutralFillHoverDelta.getValueFor(element), neutralFillActiveDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralLayer4 = create('neutral-layer-4').withDefault((element) =&gt; neutralLayer4Recipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const fillColor = create('fill-color').withDefault(element =&gt; neutralLayer1.getValueFor(element));</span><span class="s3">\n</span><span class="s1">var ContrastTarget;</span><span class="s3">\n</span><span class="s1">(function (ContrastTarget) {</span><span class="s3">\n    </span><span class="s1">ContrastTarget[ContrastTarget[</span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">] = 4.5] = </span><span class="s3">\&quot;</span><span class="s1">normal</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">ContrastTarget[ContrastTarget[</span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">] = 7] = </span><span class="s3">\&quot;</span><span class="s1">large</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">})(ContrastTarget || (ContrastTarget = {}));</span><span class="s3">\n</span><span class="s1">// Accent Fill</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentFillRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'accent-fill-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; accentFillAlgorithm(accentPalette.getValueFor(element), neutralPalette.getValueFor(element), reference || fillColor.getValueFor(element), accentFillHoverDelta.getValueFor(element), accentFillActiveDelta.getValueFor(element), accentFillFocusDelta.getValueFor(element), neutralFillRestDelta.getValueFor(element), neutralFillHoverDelta.getValueFor(element), neutralFillActiveDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentFillRest = create('accent-fill-rest').withDefault((element) =&gt; {</span><span class="s3">\n    </span><span class="s1">return accentFillRecipe.getValueFor(element).evaluate(element).rest;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentFillHover = create('accent-fill-hover').withDefault((element) =&gt; {</span><span class="s3">\n    </span><span class="s1">return accentFillRecipe.getValueFor(element).evaluate(element).hover;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentFillActive = create('accent-fill-active').withDefault((element) =&gt; {</span><span class="s3">\n    </span><span class="s1">return accentFillRecipe.getValueFor(element).evaluate(element).active;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentFillFocus = create('accent-fill-focus').withDefault((element) =&gt; {</span><span class="s3">\n    </span><span class="s1">return accentFillRecipe.getValueFor(element).evaluate(element).focus;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">// Foreground On Accent</span><span class="s3">\n</span><span class="s1">const foregroundOnAccentByContrast = (contrast) =&gt; (element, reference) =&gt; {</span><span class="s3">\n    </span><span class="s1">return foregroundOnAccentAlgorithm(reference || accentFillRest.getValueFor(element), contrast);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnAccentRecipe = createNonCss('foreground-on-accent-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; foregroundOnAccentByContrast(ContrastTarget.normal)(element, reference)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnAccentRest = create('foreground-on-accent-rest').withDefault((element) =&gt; foregroundOnAccentRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, accentFillRest.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnAccentHover = create('foreground-on-accent-hover').withDefault((element) =&gt; foregroundOnAccentRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, accentFillHover.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnAccentActive = create('foreground-on-accent-active').withDefault((element) =&gt; foregroundOnAccentRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, accentFillActive.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnAccentFocus = create('foreground-on-accent-focus').withDefault((element) =&gt; foregroundOnAccentRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, accentFillFocus.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnAccentLargeRecipe = createNonCss('foreground-on-accent-large-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; foregroundOnAccentByContrast(ContrastTarget.large)(element, reference)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnAccentRestLarge = create('foreground-on-accent-rest-large').withDefault((element) =&gt; foregroundOnAccentLargeRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, accentFillRest.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnAccentHoverLarge = create('foreground-on-accent-hover-large').withDefault((element) =&gt; foregroundOnAccentLargeRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, accentFillHover.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnAccentActiveLarge = create('foreground-on-accent-active-large').withDefault((element) =&gt; foregroundOnAccentLargeRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, accentFillActive.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnAccentFocusLarge = create('foreground-on-accent-focus-large').withDefault((element) =&gt; foregroundOnAccentLargeRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, accentFillFocus.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">// Accent Foreground</span><span class="s3">\n</span><span class="s1">const accentForegroundByContrast = (contrast) =&gt; (element, reference) =&gt; accentForegroundAlgorithm(accentPalette.getValueFor(element), reference || fillColor.getValueFor(element), contrast, accentForegroundRestDelta.getValueFor(element), accentForegroundHoverDelta.getValueFor(element), accentForegroundActiveDelta.getValueFor(element), accentForegroundFocusDelta.getValueFor(element));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentForegroundRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'accent-foreground-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; accentForegroundByContrast(ContrastTarget.normal)(element, reference)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentForegroundRest = create('accent-foreground-rest').withDefault((element) =&gt; accentForegroundRecipe.getValueFor(element).evaluate(element).rest);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentForegroundHover = create('accent-foreground-hover').withDefault((element) =&gt; accentForegroundRecipe.getValueFor(element).evaluate(element).hover);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentForegroundActive = create('accent-foreground-active').withDefault((element) =&gt; accentForegroundRecipe.getValueFor(element).evaluate(element).active);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const accentForegroundFocus = create('accent-foreground-focus').withDefault((element) =&gt; accentForegroundRecipe.getValueFor(element).evaluate(element).focus);</span><span class="s3">\n</span><span class="s1">// Neutral Fill</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'neutral-fill-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; neutralFillAlgorithm(neutralPalette.getValueFor(element), reference || fillColor.getValueFor(element), neutralFillRestDelta.getValueFor(element), neutralFillHoverDelta.getValueFor(element), neutralFillActiveDelta.getValueFor(element), neutralFillFocusDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillRest = create('neutral-fill-rest').withDefault((element) =&gt; neutralFillRecipe.getValueFor(element).evaluate(element).rest);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillHover = create('neutral-fill-hover').withDefault((element) =&gt; neutralFillRecipe.getValueFor(element).evaluate(element).hover);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillActive = create('neutral-fill-active').withDefault((element) =&gt; neutralFillRecipe.getValueFor(element).evaluate(element).active);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillFocus = create('neutral-fill-focus').withDefault((element) =&gt; neutralFillRecipe.getValueFor(element).evaluate(element).focus);</span><span class="s3">\n</span><span class="s1">// Neutral Fill Input</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillInputRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'neutral-fill-input-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; neutralFillInputAlgorithm(neutralPalette.getValueFor(element), reference || fillColor.getValueFor(element), neutralFillInputRestDelta.getValueFor(element), neutralFillInputHoverDelta.getValueFor(element), neutralFillInputActiveDelta.getValueFor(element), neutralFillInputFocusDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillInputRest = create('neutral-fill-input-rest').withDefault((element) =&gt; neutralFillInputRecipe.getValueFor(element).evaluate(element).rest);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillInputHover = create('neutral-fill-input-hover').withDefault((element) =&gt; neutralFillInputRecipe.getValueFor(element).evaluate(element).hover);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillInputActive = create('neutral-fill-input-active').withDefault((element) =&gt; neutralFillInputRecipe.getValueFor(element).evaluate(element).active);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillInputFocus = create('neutral-fill-input-focus').withDefault((element) =&gt; neutralFillInputRecipe.getValueFor(element).evaluate(element).focus);</span><span class="s3">\n</span><span class="s1">// Neutral Fill Stealth</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStealthRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'neutral-fill-stealth-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; neutralFillStealthAlgorithm(neutralPalette.getValueFor(element), reference || fillColor.getValueFor(element), neutralFillStealthRestDelta.getValueFor(element), neutralFillStealthHoverDelta.getValueFor(element), neutralFillStealthActiveDelta.getValueFor(element), neutralFillStealthFocusDelta.getValueFor(element), neutralFillRestDelta.getValueFor(element), neutralFillHoverDelta.getValueFor(element), neutralFillActiveDelta.getValueFor(element), neutralFillFocusDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStealthRest = create('neutral-fill-stealth-rest').withDefault((element) =&gt; neutralFillStealthRecipe.getValueFor(element).evaluate(element).rest);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStealthHover = create('neutral-fill-stealth-hover').withDefault((element) =&gt; neutralFillStealthRecipe.getValueFor(element).evaluate(element).hover);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStealthActive = create('neutral-fill-stealth-active').withDefault((element) =&gt; neutralFillStealthRecipe.getValueFor(element).evaluate(element).active);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStealthFocus = create('neutral-fill-stealth-focus').withDefault((element) =&gt; neutralFillStealthRecipe.getValueFor(element).evaluate(element).focus);</span><span class="s3">\n</span><span class="s1">// Neutral Fill Strong</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStrongRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'neutral-fill-strong-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; neutralFillContrastAlgorithm(neutralPalette.getValueFor(element), reference || fillColor.getValueFor(element), neutralFillStrongRestDelta.getValueFor(element), neutralFillStrongHoverDelta.getValueFor(element), neutralFillStrongActiveDelta.getValueFor(element), neutralFillStrongFocusDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStrongRest = create('neutral-fill-strong-rest').withDefault((element) =&gt; neutralFillStrongRecipe.getValueFor(element).evaluate(element).rest);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStrongHover = create('neutral-fill-strong-hover').withDefault((element) =&gt; neutralFillStrongRecipe.getValueFor(element).evaluate(element).hover);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStrongActive = create('neutral-fill-strong-active').withDefault((element) =&gt; neutralFillStrongRecipe.getValueFor(element).evaluate(element).active);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillStrongFocus = create('neutral-fill-strong-focus').withDefault((element) =&gt; neutralFillStrongRecipe.getValueFor(element).evaluate(element).focus);</span><span class="s3">\n</span><span class="s1">// Neutral Fill Layer</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillLayerRecipe = createNonCss('neutral-fill-layer-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; neutralFillLayerAlgorithm(neutralPalette.getValueFor(element), reference || fillColor.getValueFor(element), neutralFillLayerRestDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralFillLayerRest = create('neutral-fill-layer-rest').withDefault((element) =&gt; neutralFillLayerRecipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">// Focus Stroke Outer</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const focusStrokeOuterRecipe = createNonCss('focus-stroke-outer-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; focusStrokeOuterAlgorithm(neutralPalette.getValueFor(element), fillColor.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const focusStrokeOuter = create('focus-stroke-outer').withDefault((element) =&gt; focusStrokeOuterRecipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">// Focus Stroke Inner</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const focusStrokeInnerRecipe = createNonCss('focus-stroke-inner-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; focusStrokeInnerAlgorithm(accentPalette.getValueFor(element), fillColor.getValueFor(element), focusStrokeOuter.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const focusStrokeInner = create('focus-stroke-inner').withDefault((element) =&gt; focusStrokeInnerRecipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">// Neutral Foreground Hint</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralForegroundHintRecipe = createNonCss('neutral-foreground-hint-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; neutralForegroundHintAlgorithm(neutralPalette.getValueFor(element), fillColor.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralForegroundHint = create('neutral-foreground-hint').withDefault((element) =&gt; neutralForegroundHintRecipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">// Neutral Foreground</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralForegroundRecipe = createNonCss('neutral-foreground-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; neutralForegroundAlgorithm(neutralPalette.getValueFor(element), fillColor.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralForegroundRest = create('neutral-foreground-rest').withDefault((element) =&gt; neutralForegroundRecipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">// Neutral Stroke</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'neutral-stroke-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element) =&gt; {</span><span class="s3">\n        </span><span class="s1">return neutralStrokeAlgorithm(neutralPalette.getValueFor(element), fillColor.getValueFor(element), neutralStrokeRestDelta.getValueFor(element), neutralStrokeHoverDelta.getValueFor(element), neutralStrokeActiveDelta.getValueFor(element), neutralStrokeFocusDelta.getValueFor(element));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeRest = create('neutral-stroke-rest').withDefault((element) =&gt; neutralStrokeRecipe.getValueFor(element).evaluate(element).rest);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeHover = create('neutral-stroke-hover').withDefault((element) =&gt; neutralStrokeRecipe.getValueFor(element).evaluate(element).hover);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeActive = create('neutral-stroke-active').withDefault((element) =&gt; neutralStrokeRecipe.getValueFor(element).evaluate(element).active);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeFocus = create('neutral-stroke-focus').withDefault((element) =&gt; neutralStrokeRecipe.getValueFor(element).evaluate(element).focus);</span><span class="s3">\n</span><span class="s1">// Neutral Stroke Divider</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeDividerRecipe = createNonCss('neutral-stroke-divider-recipe').withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; neutralStrokeDividerAlgorithm(neutralPalette.getValueFor(element), reference || fillColor.getValueFor(element), neutralStrokeDividerRestDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const neutralStrokeDividerRest = create('neutral-stroke-divider-rest').withDefault(element =&gt; neutralStrokeDividerRecipe.getValueFor(element).evaluate(element));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The control height formula expressed as a design token.</span><span class="s3">\n </span><span class="s1">* This token does not provide a CSS custom property.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const heightNumberAsToken = DesignToken.create({</span><span class="s3">\n    </span><span class="s1">name: 'height-number',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault(target =&gt; (baseHeightMultiplier.getValueFor(target) + density.getValueFor(target)) *</span><span class="s3">\n    </span><span class="s1">designUnit.getValueFor(target));</span><span class="s3">\n</span><span class="s1">/*</span><span class="s3">\n </span><span class="s1">* The error palette is built using the same color algorithm as the accent palette</span><span class="s3">\n </span><span class="s1">* But by copying the algorithm from @microsoft/fast-components at commit 03d711f222bd816834a5e1d60256d3e083b27c27</span><span class="s3">\n </span><span class="s1">* as some helpers are not exported.</span><span class="s3">\n </span><span class="s1">* The delta used are those of the accent palette.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorColor = create('error-color').withDefault(errorBase);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Error palette</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const errorPalette = createNonCss('error-palette').withDefault((element) =&gt; PaletteRGB.from(errorColor.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">// Error Fill</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorFillRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'error-fill-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; errorFillAlgorithm(errorPalette.getValueFor(element), neutralPalette.getValueFor(element), reference || fillColor.getValueFor(element), accentFillHoverDelta.getValueFor(element), accentFillActiveDelta.getValueFor(element), accentFillFocusDelta.getValueFor(element), neutralFillRestDelta.getValueFor(element), neutralFillHoverDelta.getValueFor(element), neutralFillActiveDelta.getValueFor(element))</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorFillRest = create('error-fill-rest').withDefault((element) =&gt; {</span><span class="s3">\n    </span><span class="s1">return errorFillRecipe.getValueFor(element).evaluate(element).rest;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorFillHover = create('error-fill-hover').withDefault((element) =&gt; {</span><span class="s3">\n    </span><span class="s1">return errorFillRecipe.getValueFor(element).evaluate(element).hover;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorFillActive = create('error-fill-active').withDefault((element) =&gt; {</span><span class="s3">\n    </span><span class="s1">return errorFillRecipe.getValueFor(element).evaluate(element).active;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorFillFocus = create('error-fill-focus').withDefault((element) =&gt; {</span><span class="s3">\n    </span><span class="s1">return errorFillRecipe.getValueFor(element).evaluate(element).focus;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">// Foreground On Error</span><span class="s3">\n</span><span class="s1">const foregroundOnErrorByContrast = (contrast) =&gt; (element, reference) =&gt; {</span><span class="s3">\n    </span><span class="s1">return foregroundOnErrorAlgorithm(reference || errorFillRest.getValueFor(element), contrast);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnErrorRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'foreground-on-error-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; foregroundOnErrorByContrast(ContrastTarget.normal)(element, reference)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnErrorRest = create('foreground-on-error-rest').withDefault((element) =&gt; foregroundOnErrorRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, errorFillRest.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnErrorHover = create('foreground-on-error-hover').withDefault((element) =&gt; foregroundOnErrorRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, errorFillHover.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnErrorActive = create('foreground-on-error-active').withDefault((element) =&gt; foregroundOnErrorRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, errorFillActive.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnErrorFocus = create('foreground-on-error-focus').withDefault((element) =&gt; foregroundOnErrorRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, errorFillFocus.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnErrorLargeRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'foreground-on-error-large-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; foregroundOnErrorByContrast(ContrastTarget.large)(element, reference)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnErrorRestLarge = create('foreground-on-error-rest-large').withDefault((element) =&gt; foregroundOnErrorLargeRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, errorFillRest.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnErrorHoverLarge = create('foreground-on-error-hover-large').withDefault((element) =&gt; foregroundOnErrorLargeRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, errorFillHover.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnErrorActiveLarge = create('foreground-on-error-active-large').withDefault((element) =&gt; foregroundOnErrorLargeRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, errorFillActive.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const foregroundOnErrorFocusLarge = create('foreground-on-error-focus-large').withDefault((element) =&gt; foregroundOnErrorLargeRecipe</span><span class="s3">\n    </span><span class="s1">.getValueFor(element)</span><span class="s3">\n    </span><span class="s1">.evaluate(element, errorFillFocus.getValueFor(element)));</span><span class="s3">\n</span><span class="s1">// Error Foreground</span><span class="s3">\n</span><span class="s1">const errorForegroundByContrast = (contrast) =&gt; (element, reference) =&gt; errorForegroundAlgorithm(errorPalette.getValueFor(element), reference || fillColor.getValueFor(element), contrast, accentForegroundRestDelta.getValueFor(element), accentForegroundHoverDelta.getValueFor(element), accentForegroundActiveDelta.getValueFor(element), accentForegroundFocusDelta.getValueFor(element));</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorForegroundRecipe = create({</span><span class="s3">\n    </span><span class="s1">name: 'error-foreground-recipe',</span><span class="s3">\n    </span><span class="s1">cssCustomPropertyName: null</span><span class="s3">\n</span><span class="s1">}).withDefault({</span><span class="s3">\n    </span><span class="s1">evaluate: (element, reference) =&gt; errorForegroundByContrast(ContrastTarget.normal)(element, reference)</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorForegroundRest = create('error-foreground-rest').withDefault((element) =&gt; errorForegroundRecipe.getValueFor(element).evaluate(element).rest);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorForegroundHover = create('error-foreground-hover').withDefault((element) =&gt; errorForegroundRecipe.getValueFor(element).evaluate(element).hover);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorForegroundActive = create('error-foreground-active').withDefault((element) =&gt; errorForegroundRecipe.getValueFor(element).evaluate(element).active);</span><span class="s3">\n</span><span class="s1">/** @public */</span><span class="s3">\n</span><span class="s1">export const errorForegroundFocus = create('error-foreground-focus').withDefault((element) =&gt; errorForegroundRecipe.getValueFor(element).evaluate(element).focus);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { ColorHSL, hslToRGB, parseColor, rgbToHSL } from '@microsoft/fast-colors';</span><span class="s3">\n</span><span class="s1">import { SwatchRGB } from '../../color/swatch.js';</span><span class="s3">\n</span><span class="s1">import { StandardLuminance } from '../../color/utilities/base-layer-luminance.js';</span><span class="s3">\n</span><span class="s1">import { isDark } from '../../color/utilities/is-dark.js';</span><span class="s3">\n</span><span class="s1">import { accentColor, accentFillHoverDelta, baseLayerLuminance, bodyFont, controlCornerRadius, errorColor, neutralColor, strokeWidth, typeRampBaseFontSize } from '../../design-tokens.js';</span><span class="s3">\n</span><span class="s1">const THEME_NAME_BODY_ATTRIBUTE = 'data-jp-theme-name';</span><span class="s3">\n</span><span class="s1">const THEME_MODE_BODY_ATTRIBUTE = 'data-jp-theme-light';</span><span class="s3">\n</span><span class="s1">// Use to determine the neutral color and possibly if theme is dark</span><span class="s3">\n</span><span class="s1">const BASE_LAYOUT_COLOR = '--jp-layout-color1';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Flag to initialized only one listener</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">let isThemeChangeInitialized = false;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Configures a MutationObserver to watch for Jupyter theme changes and</span><span class="s3">\n </span><span class="s1">* applies the current Jupyter theme to the toolkit components.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function addJupyterLabThemeChangeListener() {</span><span class="s3">\n    </span><span class="s1">if (!isThemeChangeInitialized) {</span><span class="s3">\n        </span><span class="s1">isThemeChangeInitialized = true;</span><span class="s3">\n        </span><span class="s1">initThemeChangeListener();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function initThemeChangeListener() {</span><span class="s3">\n    </span><span class="s1">const addObserver = () =&gt; {</span><span class="s3">\n        </span><span class="s1">const observer = new MutationObserver(() =&gt; {</span><span class="s3">\n            </span><span class="s1">applyJupyterTheme();</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">observer.observe(document.body, {</span><span class="s3">\n            </span><span class="s1">attributes: true,</span><span class="s3">\n            </span><span class="s1">attributeFilter: [THEME_NAME_BODY_ATTRIBUTE],</span><span class="s3">\n            </span><span class="s1">childList: false,</span><span class="s3">\n            </span><span class="s1">characterData: false</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">applyJupyterTheme();</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">if (document.readyState === 'complete') {</span><span class="s3">\n        </span><span class="s1">addObserver();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">window.addEventListener('load', addObserver);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Convert a string to an integer.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param value String to convert</span><span class="s3">\n </span><span class="s1">* @returns Extracted integer or null</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const intConverter = (value) =&gt; {</span><span class="s3">\n    </span><span class="s1">const parsedValue = parseInt(value, 10);</span><span class="s3">\n    </span><span class="s1">return isNaN(parsedValue) ? null : parsedValue;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Mapping JupyterLab CSS variables to FAST design tokens</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const tokenMappings = {</span><span class="s3">\n    </span><span class="s1">'--jp-border-width': {</span><span class="s3">\n        </span><span class="s1">converter: intConverter,</span><span class="s3">\n        </span><span class="s1">token: strokeWidth</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">'--jp-border-radius': {</span><span class="s3">\n        </span><span class="s1">converter: intConverter,</span><span class="s3">\n        </span><span class="s1">token: controlCornerRadius</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">[BASE_LAYOUT_COLOR]: {</span><span class="s3">\n        </span><span class="s1">converter: (value, isDark) =&gt; {</span><span class="s3">\n            </span><span class="s1">const parsedColor = parseColor(value);</span><span class="s3">\n            </span><span class="s1">if (parsedColor) {</span><span class="s3">\n                </span><span class="s1">const hsl = rgbToHSL(parsedColor);</span><span class="s3">\n                </span><span class="s1">// Neutral luminance should be about 50%</span><span class="s3">\n                </span><span class="s1">const correctedHSL = ColorHSL.fromObject({</span><span class="s3">\n                    </span><span class="s1">h: hsl.h,</span><span class="s3">\n                    </span><span class="s1">s: hsl.s,</span><span class="s3">\n                    </span><span class="s1">l: 0.5</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">const correctedRGB = hslToRGB(correctedHSL);</span><span class="s3">\n                </span><span class="s1">return SwatchRGB.create(correctedRGB.r, correctedRGB.g, correctedRGB.b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">token: neutralColor</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">'--jp-brand-color1': {</span><span class="s3">\n        </span><span class="s1">converter: (value, isDark) =&gt; {</span><span class="s3">\n            </span><span class="s1">const parsedColor = parseColor(value);</span><span class="s3">\n            </span><span class="s1">if (parsedColor) {</span><span class="s3">\n                </span><span class="s1">const hsl = rgbToHSL(parsedColor);</span><span class="s3">\n                </span><span class="s1">// Correct luminance to get accent fill closer to brand color 1</span><span class="s3">\n                </span><span class="s1">const direction = isDark ? 1 : -1;</span><span class="s3">\n                </span><span class="s1">const correctedHSL = ColorHSL.fromObject({</span><span class="s3">\n                    </span><span class="s1">h: hsl.h,</span><span class="s3">\n                    </span><span class="s1">s: hsl.s,</span><span class="s3">\n                    </span><span class="s1">l: hsl.l +</span><span class="s3">\n                        </span><span class="s1">(direction * accentFillHoverDelta.getValueFor(document.body)) / 94.0</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">const correctedRGB = hslToRGB(correctedHSL);</span><span class="s3">\n                </span><span class="s1">return SwatchRGB.create(correctedRGB.r, correctedRGB.g, correctedRGB.b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">token: accentColor</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">'--jp-error-color1': {</span><span class="s3">\n        </span><span class="s1">converter: (value, isDark) =&gt; {</span><span class="s3">\n            </span><span class="s1">const parsedColor = parseColor(value);</span><span class="s3">\n            </span><span class="s1">if (parsedColor) {</span><span class="s3">\n                </span><span class="s1">const hsl = rgbToHSL(parsedColor);</span><span class="s3">\n                </span><span class="s1">// Correct luminance to get error fill closer</span><span class="s3">\n                </span><span class="s1">const direction = isDark ? 1 : -1;</span><span class="s3">\n                </span><span class="s1">const correctedHSL = ColorHSL.fromObject({</span><span class="s3">\n                    </span><span class="s1">h: hsl.h,</span><span class="s3">\n                    </span><span class="s1">s: hsl.s,</span><span class="s3">\n                    </span><span class="s1">l: hsl.l +</span><span class="s3">\n                        </span><span class="s1">(direction * accentFillHoverDelta.getValueFor(document.body)) / 94.0</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">const correctedRGB = hslToRGB(correctedHSL);</span><span class="s3">\n                </span><span class="s1">return SwatchRGB.create(correctedRGB.r, correctedRGB.g, correctedRGB.b);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">token: errorColor</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">'--jp-ui-font-family': {</span><span class="s3">\n        </span><span class="s1">token: bodyFont</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">'--jp-ui-font-size1': {</span><span class="s3">\n        </span><span class="s1">token: typeRampBaseFontSize</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Applies the current Jupyter theme to the toolkit components.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function applyJupyterTheme() {</span><span class="s3">\n    </span><span class="s1">var _a;</span><span class="s3">\n    </span><span class="s1">// Get all the styles applied to the &lt;body&gt; tag in the webview HTML</span><span class="s3">\n    </span><span class="s1">// Importantly this includes all the CSS variables associated with the</span><span class="s3">\n    </span><span class="s1">// current Jupyter theme</span><span class="s3">\n    </span><span class="s1">const styles = getComputedStyle(document.body);</span><span class="s3">\n    </span><span class="s1">// Set mode</span><span class="s3">\n    </span><span class="s1">//   It will look at the body attribute or try to extrapolate</span><span class="s3">\n    </span><span class="s1">const themeMode = document.body.getAttribute(THEME_MODE_BODY_ATTRIBUTE);</span><span class="s3">\n    </span><span class="s1">let isDark_ = false;</span><span class="s3">\n    </span><span class="s1">if (themeMode) {</span><span class="s3">\n        </span><span class="s1">isDark_ = themeMode === 'false';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">const layoutColor = styles.getPropertyValue(BASE_LAYOUT_COLOR).toString();</span><span class="s3">\n        </span><span class="s1">if (layoutColor) {</span><span class="s3">\n            </span><span class="s1">const parsedColor = parseColor(layoutColor);</span><span class="s3">\n            </span><span class="s1">if (parsedColor) {</span><span class="s3">\n                </span><span class="s1">isDark_ = isDark(SwatchRGB.create(parsedColor.r, parsedColor.g, parsedColor.b));</span><span class="s3">\n                </span><span class="s1">console.debug(`Theme is ${isDark_ ? 'dark' : 'light'} based on '${BASE_LAYOUT_COLOR}' value: ${layoutColor}.`);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">baseLayerLuminance.setValueFor(document.body, isDark_ ? StandardLuminance.DarkMode : StandardLuminance.LightMode);</span><span class="s3">\n    </span><span class="s1">for (const jpTokenName in tokenMappings) {</span><span class="s3">\n        </span><span class="s1">const toolkitTokenName = tokenMappings[jpTokenName];</span><span class="s3">\n        </span><span class="s1">const value = styles.getPropertyValue(jpTokenName).toString();</span><span class="s3">\n        </span><span class="s1">if (document.body &amp;&amp; value !== '') {</span><span class="s3">\n            </span><span class="s1">const parsedValue = ((_a = toolkitTokenName.converter) !== null &amp;&amp; _a !== void 0 ? _a : ((v) =&gt; v))(value.trim(), isDark_);</span><span class="s3">\n            </span><span class="s1">if (parsedValue !== null) {</span><span class="s3">\n                </span><span class="s1">toolkitTokenName.token.setValueFor(document.body, parsedValue);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">console.error(`Fail to parse value '${value}' for '${jpTokenName}' as FAST design token.`);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Key Code values</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use individual string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export var KeyCodes;</span><span class="s3">\n</span><span class="s1">(function (KeyCodes) {</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">alt</span><span class="s3">\&quot;</span><span class="s1">] = 18] = </span><span class="s3">\&quot;</span><span class="s1">alt</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">arrowDown</span><span class="s3">\&quot;</span><span class="s1">] = 40] = </span><span class="s3">\&quot;</span><span class="s1">arrowDown</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">arrowLeft</span><span class="s3">\&quot;</span><span class="s1">] = 37] = </span><span class="s3">\&quot;</span><span class="s1">arrowLeft</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">arrowRight</span><span class="s3">\&quot;</span><span class="s1">] = 39] = </span><span class="s3">\&quot;</span><span class="s1">arrowRight</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">arrowUp</span><span class="s3">\&quot;</span><span class="s1">] = 38] = </span><span class="s3">\&quot;</span><span class="s1">arrowUp</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">back</span><span class="s3">\&quot;</span><span class="s1">] = 8] = </span><span class="s3">\&quot;</span><span class="s1">back</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">backSlash</span><span class="s3">\&quot;</span><span class="s1">] = 220] = </span><span class="s3">\&quot;</span><span class="s1">backSlash</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">break</span><span class="s3">\&quot;</span><span class="s1">] = 19] = </span><span class="s3">\&quot;</span><span class="s1">break</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">capsLock</span><span class="s3">\&quot;</span><span class="s1">] = 20] = </span><span class="s3">\&quot;</span><span class="s1">capsLock</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">closeBracket</span><span class="s3">\&quot;</span><span class="s1">] = 221] = </span><span class="s3">\&quot;</span><span class="s1">closeBracket</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">colon</span><span class="s3">\&quot;</span><span class="s1">] = 186] = </span><span class="s3">\&quot;</span><span class="s1">colon</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">colon2</span><span class="s3">\&quot;</span><span class="s1">] = 59] = </span><span class="s3">\&quot;</span><span class="s1">colon2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">comma</span><span class="s3">\&quot;</span><span class="s1">] = 188] = </span><span class="s3">\&quot;</span><span class="s1">comma</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">ctrl</span><span class="s3">\&quot;</span><span class="s1">] = 17] = </span><span class="s3">\&quot;</span><span class="s1">ctrl</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">delete</span><span class="s3">\&quot;</span><span class="s1">] = 46] = </span><span class="s3">\&quot;</span><span class="s1">delete</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">] = 35] = </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">enter</span><span class="s3">\&quot;</span><span class="s1">] = 13] = </span><span class="s3">\&quot;</span><span class="s1">enter</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">equals</span><span class="s3">\&quot;</span><span class="s1">] = 187] = </span><span class="s3">\&quot;</span><span class="s1">equals</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">equals2</span><span class="s3">\&quot;</span><span class="s1">] = 61] = </span><span class="s3">\&quot;</span><span class="s1">equals2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">equals3</span><span class="s3">\&quot;</span><span class="s1">] = 107] = </span><span class="s3">\&quot;</span><span class="s1">equals3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">escape</span><span class="s3">\&quot;</span><span class="s1">] = 27] = </span><span class="s3">\&quot;</span><span class="s1">escape</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">forwardSlash</span><span class="s3">\&quot;</span><span class="s1">] = 191] = </span><span class="s3">\&quot;</span><span class="s1">forwardSlash</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function1</span><span class="s3">\&quot;</span><span class="s1">] = 112] = </span><span class="s3">\&quot;</span><span class="s1">function1</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function10</span><span class="s3">\&quot;</span><span class="s1">] = 121] = </span><span class="s3">\&quot;</span><span class="s1">function10</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function11</span><span class="s3">\&quot;</span><span class="s1">] = 122] = </span><span class="s3">\&quot;</span><span class="s1">function11</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function12</span><span class="s3">\&quot;</span><span class="s1">] = 123] = </span><span class="s3">\&quot;</span><span class="s1">function12</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function2</span><span class="s3">\&quot;</span><span class="s1">] = 113] = </span><span class="s3">\&quot;</span><span class="s1">function2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function3</span><span class="s3">\&quot;</span><span class="s1">] = 114] = </span><span class="s3">\&quot;</span><span class="s1">function3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function4</span><span class="s3">\&quot;</span><span class="s1">] = 115] = </span><span class="s3">\&quot;</span><span class="s1">function4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function5</span><span class="s3">\&quot;</span><span class="s1">] = 116] = </span><span class="s3">\&quot;</span><span class="s1">function5</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function6</span><span class="s3">\&quot;</span><span class="s1">] = 117] = </span><span class="s3">\&quot;</span><span class="s1">function6</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function7</span><span class="s3">\&quot;</span><span class="s1">] = 118] = </span><span class="s3">\&quot;</span><span class="s1">function7</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function8</span><span class="s3">\&quot;</span><span class="s1">] = 119] = </span><span class="s3">\&quot;</span><span class="s1">function8</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">function9</span><span class="s3">\&quot;</span><span class="s1">] = 120] = </span><span class="s3">\&quot;</span><span class="s1">function9</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">home</span><span class="s3">\&quot;</span><span class="s1">] = 36] = </span><span class="s3">\&quot;</span><span class="s1">home</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">insert</span><span class="s3">\&quot;</span><span class="s1">] = 45] = </span><span class="s3">\&quot;</span><span class="s1">insert</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">menu</span><span class="s3">\&quot;</span><span class="s1">] = 93] = </span><span class="s3">\&quot;</span><span class="s1">menu</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">minus</span><span class="s3">\&quot;</span><span class="s1">] = 189] = </span><span class="s3">\&quot;</span><span class="s1">minus</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">minus2</span><span class="s3">\&quot;</span><span class="s1">] = 109] = </span><span class="s3">\&quot;</span><span class="s1">minus2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numLock</span><span class="s3">\&quot;</span><span class="s1">] = 144] = </span><span class="s3">\&quot;</span><span class="s1">numLock</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPad0</span><span class="s3">\&quot;</span><span class="s1">] = 96] = </span><span class="s3">\&quot;</span><span class="s1">numPad0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPad1</span><span class="s3">\&quot;</span><span class="s1">] = 97] = </span><span class="s3">\&quot;</span><span class="s1">numPad1</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPad2</span><span class="s3">\&quot;</span><span class="s1">] = 98] = </span><span class="s3">\&quot;</span><span class="s1">numPad2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPad3</span><span class="s3">\&quot;</span><span class="s1">] = 99] = </span><span class="s3">\&quot;</span><span class="s1">numPad3</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPad4</span><span class="s3">\&quot;</span><span class="s1">] = 100] = </span><span class="s3">\&quot;</span><span class="s1">numPad4</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPad5</span><span class="s3">\&quot;</span><span class="s1">] = 101] = </span><span class="s3">\&quot;</span><span class="s1">numPad5</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPad6</span><span class="s3">\&quot;</span><span class="s1">] = 102] = </span><span class="s3">\&quot;</span><span class="s1">numPad6</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPad7</span><span class="s3">\&quot;</span><span class="s1">] = 103] = </span><span class="s3">\&quot;</span><span class="s1">numPad7</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPad8</span><span class="s3">\&quot;</span><span class="s1">] = 104] = </span><span class="s3">\&quot;</span><span class="s1">numPad8</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPad9</span><span class="s3">\&quot;</span><span class="s1">] = 105] = </span><span class="s3">\&quot;</span><span class="s1">numPad9</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPadDivide</span><span class="s3">\&quot;</span><span class="s1">] = 111] = </span><span class="s3">\&quot;</span><span class="s1">numPadDivide</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPadDot</span><span class="s3">\&quot;</span><span class="s1">] = 110] = </span><span class="s3">\&quot;</span><span class="s1">numPadDot</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPadMinus</span><span class="s3">\&quot;</span><span class="s1">] = 109] = </span><span class="s3">\&quot;</span><span class="s1">numPadMinus</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPadMultiply</span><span class="s3">\&quot;</span><span class="s1">] = 106] = </span><span class="s3">\&quot;</span><span class="s1">numPadMultiply</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">numPadPlus</span><span class="s3">\&quot;</span><span class="s1">] = 107] = </span><span class="s3">\&quot;</span><span class="s1">numPadPlus</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">openBracket</span><span class="s3">\&quot;</span><span class="s1">] = 219] = </span><span class="s3">\&quot;</span><span class="s1">openBracket</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">pageDown</span><span class="s3">\&quot;</span><span class="s1">] = 34] = </span><span class="s3">\&quot;</span><span class="s1">pageDown</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">pageUp</span><span class="s3">\&quot;</span><span class="s1">] = 33] = </span><span class="s3">\&quot;</span><span class="s1">pageUp</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">period</span><span class="s3">\&quot;</span><span class="s1">] = 190] = </span><span class="s3">\&quot;</span><span class="s1">period</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">print</span><span class="s3">\&quot;</span><span class="s1">] = 44] = </span><span class="s3">\&quot;</span><span class="s1">print</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">quote</span><span class="s3">\&quot;</span><span class="s1">] = 222] = </span><span class="s3">\&quot;</span><span class="s1">quote</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">scrollLock</span><span class="s3">\&quot;</span><span class="s1">] = 145] = </span><span class="s3">\&quot;</span><span class="s1">scrollLock</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">shift</span><span class="s3">\&quot;</span><span class="s1">] = 16] = </span><span class="s3">\&quot;</span><span class="s1">shift</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">space</span><span class="s3">\&quot;</span><span class="s1">] = 32] = </span><span class="s3">\&quot;</span><span class="s1">space</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">tab</span><span class="s3">\&quot;</span><span class="s1">] = 9] = </span><span class="s3">\&quot;</span><span class="s1">tab</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">tilde</span><span class="s3">\&quot;</span><span class="s1">] = 192] = </span><span class="s3">\&quot;</span><span class="s1">tilde</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">windowsLeft</span><span class="s3">\&quot;</span><span class="s1">] = 91] = </span><span class="s3">\&quot;</span><span class="s1">windowsLeft</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">windowsOpera</span><span class="s3">\&quot;</span><span class="s1">] = 219] = </span><span class="s3">\&quot;</span><span class="s1">windowsOpera</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">KeyCodes[KeyCodes[</span><span class="s3">\&quot;</span><span class="s1">windowsRight</span><span class="s3">\&quot;</span><span class="s1">] = 92] = </span><span class="s3">\&quot;</span><span class="s1">windowsRight</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">})(KeyCodes || (KeyCodes = {}));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeAlt = 18;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeArrowDown = 40;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeArrowLeft = 37;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeArrowRight = 39;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeArrowUp = 38;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeBack = 8;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeBackSlash = 220;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeBreak = 19;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeCapsLock = 20;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeCloseBracket = 221;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeColon = 186;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeColon2 = 59; // Opera and Firefox</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeComma = 188;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeCtrl = 17;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeDelete = 46;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeEnd = 35;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeEnter = 13;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeEquals = 187;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeEquals2 = 61; // Opera</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeEquals3 = 107; // Firefox</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeEscape = 27;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeForwardSlash = 191;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction1 = 112;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction10 = 121;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction11 = 122;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction12 = 123;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction2 = 113;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction3 = 114;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction4 = 115;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction5 = 116;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction6 = 117;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction7 = 118;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction8 = 119;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeFunction9 = 120;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeHome = 36;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeInsert = 45;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeMenu = 93;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeMinus = 189;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeMinus2 = 109; // Opera and Firefox</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumLock = 144;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPad0 = 96;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPad1 = 97;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPad2 = 98;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPad3 = 99;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPad4 = 100;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPad5 = 101;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPad6 = 102;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPad7 = 103;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPad8 = 104;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPad9 = 105;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPadDivide = 111;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPadDot = 110;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPadMinus = 109;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPadMultiply = 106;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeNumPadPlus = 107;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeOpenBracket = 219;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodePageDown = 34;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodePageUp = 33;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodePeriod = 190;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodePrint = 44;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeQuote = 222;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeScrollLock = 145;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeShift = 16;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeSpace = 32;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeTab = 9;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeTilde = 192;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeWindowsLeft = 91;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeWindowsOpera = 219; // Opera</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated - KeyCodes are deprecated, use string key exports</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyCodeWindowsRight = 92;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* String values for use with KeyboardEvent.key</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const keyArrowDown = </span><span class="s3">\&quot;</span><span class="s1">ArrowDown</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyArrowLeft = </span><span class="s3">\&quot;</span><span class="s1">ArrowLeft</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyArrowRight = </span><span class="s3">\&quot;</span><span class="s1">ArrowRight</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyArrowUp = </span><span class="s3">\&quot;</span><span class="s1">ArrowUp</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyEnter = </span><span class="s3">\&quot;</span><span class="s1">Enter</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyEscape = </span><span class="s3">\&quot;</span><span class="s1">Escape</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyHome = </span><span class="s3">\&quot;</span><span class="s1">Home</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyEnd = </span><span class="s3">\&quot;</span><span class="s1">End</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyFunction2 = </span><span class="s3">\&quot;</span><span class="s1">F2</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyPageDown = </span><span class="s3">\&quot;</span><span class="s1">PageDown</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyPageUp = </span><span class="s3">\&quot;</span><span class="s1">PageUp</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keySpace = </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyTab = </span><span class="s3">\&quot;</span><span class="s1">Tab</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyBackspace = </span><span class="s3">\&quot;</span><span class="s1">Backspace</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const keyDelete = </span><span class="s3">\&quot;</span><span class="s1">Delete</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const ArrowKeys = {</span><span class="s3">\n    </span><span class="s1">ArrowDown: keyArrowDown,</span><span class="s3">\n    </span><span class="s1">ArrowLeft: keyArrowLeft,</span><span class="s3">\n    </span><span class="s1">ArrowRight: keyArrowRight,</span><span class="s3">\n    </span><span class="s1">ArrowUp: keyArrowUp,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* This method keeps a given value within the bounds of a min and max value. If the value</span><span class="s3">\n </span><span class="s1">* is larger than the max, the minimum value will be returned. If the value is smaller than the minimum,</span><span class="s3">\n </span><span class="s1">* the maximum will be returned. Otherwise, the value is returned un-changed.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function wrapInBounds(min, max, value) {</span><span class="s3">\n    </span><span class="s1">if (value &lt; min) {</span><span class="s3">\n        </span><span class="s1">return max;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (value &gt; max) {</span><span class="s3">\n        </span><span class="s1">return min;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Ensures that a value is between a min and max value. If value is lower than min, min will be returned.</span><span class="s3">\n </span><span class="s1">* If value is greater than max, max will be returned.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function limit(min, max, value) {</span><span class="s3">\n    </span><span class="s1">return Math.min(Math.max(value, min), max);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Determines if a number value is within a specified range.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param value - the value to check</span><span class="s3">\n </span><span class="s1">* @param min - the range start</span><span class="s3">\n </span><span class="s1">* @param max - the range end</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function inRange(value, min, max = 0) {</span><span class="s3">\n    </span><span class="s1">[min, max] = [min, max].sort((a, b) =&gt; a - b);</span><span class="s3">\n    </span><span class="s1">return min &lt;= value &amp;&amp; value &lt; max;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Big thanks to https://github.com/fkleuver and the https://github.com/aurelia/aurelia project</span><span class="s3">\n </span><span class="s1">* for the bulk of this code and many of the associated tests.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">import { emptyArray, FASTElement } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">// Tiny polyfill for TypeScript's Reflect metadata API.</span><span class="s3">\n</span><span class="s1">const metadataByTarget = new Map();</span><span class="s3">\n</span><span class="s1">if (!(</span><span class="s3">\&quot;</span><span class="s1">metadata</span><span class="s3">\&quot; </span><span class="s1">in Reflect)) {</span><span class="s3">\n    </span><span class="s1">Reflect.metadata = function (key, value) {</span><span class="s3">\n        </span><span class="s1">return function (target) {</span><span class="s3">\n            </span><span class="s1">Reflect.defineMetadata(key, value, target);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">Reflect.defineMetadata = function (key, value, target) {</span><span class="s3">\n        </span><span class="s1">let metadata = metadataByTarget.get(target);</span><span class="s3">\n        </span><span class="s1">if (metadata === void 0) {</span><span class="s3">\n            </span><span class="s1">metadataByTarget.set(target, (metadata = new Map()));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">metadata.set(key, value);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">Reflect.getOwnMetadata = function (key, target) {</span><span class="s3">\n        </span><span class="s1">const metadata = metadataByTarget.get(target);</span><span class="s3">\n        </span><span class="s1">if (metadata !== void 0) {</span><span class="s3">\n            </span><span class="s1">return metadata.get(key);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return void 0;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A utility class used that constructs and registers resolvers for a dependency</span><span class="s3">\n </span><span class="s1">* injection container. Supports a standard set of object lifetimes.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ResolverBuilder {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param container - The container to create resolvers for.</span><span class="s3">\n     </span><span class="s1">* @param key - The key to register resolvers under.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(container, key) {</span><span class="s3">\n        </span><span class="s1">this.container = container;</span><span class="s3">\n        </span><span class="s1">this.key = key;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a resolver for an existing object instance.</span><span class="s3">\n     </span><span class="s1">* @param value - The instance to resolve.</span><span class="s3">\n     </span><span class="s1">* @returns The resolver.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">instance(value) {</span><span class="s3">\n        </span><span class="s1">return this.registerResolver(0 /* instance */, value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a resolver that enforces a singleton lifetime.</span><span class="s3">\n     </span><span class="s1">* @param value - The type to create and cache the singleton for.</span><span class="s3">\n     </span><span class="s1">* @returns The resolver.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">singleton(value) {</span><span class="s3">\n        </span><span class="s1">return this.registerResolver(1 /* singleton */, value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a resolver that creates a new instance for every dependency request.</span><span class="s3">\n     </span><span class="s1">* @param value - The type to create instances of.</span><span class="s3">\n     </span><span class="s1">* @returns - The resolver.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">transient(value) {</span><span class="s3">\n        </span><span class="s1">return this.registerResolver(2 /* transient */, value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a resolver that invokes a callback function for every dependency resolution</span><span class="s3">\n     </span><span class="s1">* request, allowing custom logic to return the dependency.</span><span class="s3">\n     </span><span class="s1">* @param value - The callback to call during resolution.</span><span class="s3">\n     </span><span class="s1">* @returns The resolver.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">callback(value) {</span><span class="s3">\n        </span><span class="s1">return this.registerResolver(3 /* callback */, value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a resolver that invokes a callback function the first time that a dependency</span><span class="s3">\n     </span><span class="s1">* resolution is requested. The returned value is then cached and provided for all</span><span class="s3">\n     </span><span class="s1">* subsequent requests.</span><span class="s3">\n     </span><span class="s1">* @param value - The callback to call during the first resolution.</span><span class="s3">\n     </span><span class="s1">* @returns The resolver.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">cachedCallback(value) {</span><span class="s3">\n        </span><span class="s1">return this.registerResolver(3 /* callback */, cacheCallbackResult(value));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Aliases the current key to a different key.</span><span class="s3">\n     </span><span class="s1">* @param destinationKey - The key to point the alias to.</span><span class="s3">\n     </span><span class="s1">* @returns The resolver.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">aliasTo(destinationKey) {</span><span class="s3">\n        </span><span class="s1">return this.registerResolver(5 /* alias */, destinationKey);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">registerResolver(strategy, state) {</span><span class="s3">\n        </span><span class="s1">const { container, key } = this;</span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n        </span><span class="s1">this.container = this.key = (void 0);</span><span class="s3">\n        </span><span class="s1">return container.registerResolver(key, new ResolverImpl(key, strategy, state));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function cloneArrayWithPossibleProps(source) {</span><span class="s3">\n    </span><span class="s1">const clone = source.slice();</span><span class="s3">\n    </span><span class="s1">const keys = Object.keys(source);</span><span class="s3">\n    </span><span class="s1">const len = keys.length;</span><span class="s3">\n    </span><span class="s1">let key;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; len; ++i) {</span><span class="s3">\n        </span><span class="s1">key = keys[i];</span><span class="s3">\n        </span><span class="s1">if (!isArrayIndex(key)) {</span><span class="s3">\n            </span><span class="s1">clone[key] = source[key];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return clone;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A set of default resolvers useful in configuring a container.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const DefaultResolver = Object.freeze({</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Disables auto-registration and throws for all un-registered dependencies.</span><span class="s3">\n     </span><span class="s1">* @param key - The key to create the resolver for.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">none(key) {</span><span class="s3">\n        </span><span class="s1">throw Error(`${key.toString()} not registered, did you forget to add @singleton()?`);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Provides default singleton resolution behavior during auto-registration.</span><span class="s3">\n     </span><span class="s1">* @param key - The key to create the resolver for.</span><span class="s3">\n     </span><span class="s1">* @returns The resolver.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">singleton(key) {</span><span class="s3">\n        </span><span class="s1">return new ResolverImpl(key, 1 /* singleton */, key);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Provides default transient resolution behavior during auto-registration.</span><span class="s3">\n     </span><span class="s1">* @param key - The key to create the resolver for.</span><span class="s3">\n     </span><span class="s1">* @returns The resolver.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">transient(key) {</span><span class="s3">\n        </span><span class="s1">return new ResolverImpl(key, 2 /* transient */, key);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Configuration for a dependency injection container.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const ContainerConfiguration = Object.freeze({</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The default configuration used when creating a DOM-disconnected container.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* The default creates a root container, with no parent container. It does not handle</span><span class="s3">\n     </span><span class="s1">* owner requests and it uses singleton resolution behavior for auto-registration.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">default: Object.freeze({</span><span class="s3">\n        </span><span class="s1">parentLocator: () =&gt; null,</span><span class="s3">\n        </span><span class="s1">responsibleForOwnerRequests: false,</span><span class="s3">\n        </span><span class="s1">defaultResolver: DefaultResolver.singleton,</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">const dependencyLookup = new Map();</span><span class="s3">\n</span><span class="s1">function getParamTypes(key) {</span><span class="s3">\n    </span><span class="s1">return (Type) =&gt; {</span><span class="s3">\n        </span><span class="s1">return Reflect.getOwnMetadata(key, Type);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">let rootDOMContainer = null;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The gateway to dependency injection APIs.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const DI = Object.freeze({</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a new dependency injection container.</span><span class="s3">\n     </span><span class="s1">* @param config - The configuration for the container.</span><span class="s3">\n     </span><span class="s1">* @returns A newly created dependency injection container.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createContainer(config) {</span><span class="s3">\n        </span><span class="s1">return new ContainerImpl(null, Object.assign({}, ContainerConfiguration.default, config));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Finds the dependency injection container responsible for providing dependencies</span><span class="s3">\n     </span><span class="s1">* to the specified node.</span><span class="s3">\n     </span><span class="s1">* @param node - The node to find the responsible container for.</span><span class="s3">\n     </span><span class="s1">* @returns The container responsible for providing dependencies to the node.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* This will be the same as the parent container if the specified node</span><span class="s3">\n     </span><span class="s1">* does not itself host a container configured with responsibleForOwnerRequests.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">findResponsibleContainer(node) {</span><span class="s3">\n        </span><span class="s1">const owned = node.$$container$$;</span><span class="s3">\n        </span><span class="s1">if (owned &amp;&amp; owned.responsibleForOwnerRequests) {</span><span class="s3">\n            </span><span class="s1">return owned;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return DI.findParentContainer(node);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Find the dependency injection container up the DOM tree from this node.</span><span class="s3">\n     </span><span class="s1">* @param node - The node to find the parent container for.</span><span class="s3">\n     </span><span class="s1">* @returns The parent container of this node.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* This will be the same as the responsible container if the specified node</span><span class="s3">\n     </span><span class="s1">* does not itself host a container configured with responsibleForOwnerRequests.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">findParentContainer(node) {</span><span class="s3">\n        </span><span class="s1">const event = new CustomEvent(DILocateParentEventType, {</span><span class="s3">\n            </span><span class="s1">bubbles: true,</span><span class="s3">\n            </span><span class="s1">composed: true,</span><span class="s3">\n            </span><span class="s1">cancelable: true,</span><span class="s3">\n            </span><span class="s1">detail: { container: void 0 },</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">node.dispatchEvent(event);</span><span class="s3">\n        </span><span class="s1">return event.detail.container || DI.getOrCreateDOMContainer();</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns a dependency injection container if one is explicitly owned by the specified</span><span class="s3">\n     </span><span class="s1">* node. If one is not owned, then a new container is created and assigned to the node.</span><span class="s3">\n     </span><span class="s1">* @param node - The node to find or create the container for.</span><span class="s3">\n     </span><span class="s1">* @param config - The configuration for the container if one needs to be created.</span><span class="s3">\n     </span><span class="s1">* @returns The located or created container.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* This API does not search for a responsible or parent container. It looks only for a container</span><span class="s3">\n     </span><span class="s1">* directly defined on the specified node and creates one at that location if one does not</span><span class="s3">\n     </span><span class="s1">* already exist.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getOrCreateDOMContainer(node, config) {</span><span class="s3">\n        </span><span class="s1">if (!node) {</span><span class="s3">\n            </span><span class="s1">return (rootDOMContainer ||</span><span class="s3">\n                </span><span class="s1">(rootDOMContainer = new ContainerImpl(null, Object.assign({}, ContainerConfiguration.default, config, {</span><span class="s3">\n                    </span><span class="s1">parentLocator: () =&gt; null,</span><span class="s3">\n                </span><span class="s1">}))));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return (node.$$container$$ ||</span><span class="s3">\n            </span><span class="s1">new ContainerImpl(node, Object.assign({}, ContainerConfiguration.default, config, {</span><span class="s3">\n                </span><span class="s1">parentLocator: DI.findParentContainer,</span><span class="s3">\n            </span><span class="s1">})));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets the </span><span class="s3">\&quot;</span><span class="s1">design:paramtypes</span><span class="s3">\&quot; </span><span class="s1">metadata for the specified type.</span><span class="s3">\n     </span><span class="s1">* @param Type - The type to get the metadata for.</span><span class="s3">\n     </span><span class="s1">* @returns The metadata array or undefined if no metadata is found.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getDesignParamtypes: getParamTypes(</span><span class="s3">\&quot;</span><span class="s1">design:paramtypes</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets the </span><span class="s3">\&quot;</span><span class="s1">di:paramtypes</span><span class="s3">\&quot; </span><span class="s1">metadata for the specified type.</span><span class="s3">\n     </span><span class="s1">* @param Type - The type to get the metadata for.</span><span class="s3">\n     </span><span class="s1">* @returns The metadata array or undefined if no metadata is found.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getAnnotationParamtypes: getParamTypes(</span><span class="s3">\&quot;</span><span class="s1">di:paramtypes</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param Type - Gets the </span><span class="s3">\&quot;</span><span class="s1">di:paramtypes</span><span class="s3">\&quot; </span><span class="s1">metadata for the specified type. If none is found,</span><span class="s3">\n     </span><span class="s1">* an empty metadata array is created and added.</span><span class="s3">\n     </span><span class="s1">* @returns The metadata array.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getOrCreateAnnotationParamTypes(Type) {</span><span class="s3">\n        </span><span class="s1">let annotationParamtypes = this.getAnnotationParamtypes(Type);</span><span class="s3">\n        </span><span class="s1">if (annotationParamtypes === void 0) {</span><span class="s3">\n            </span><span class="s1">Reflect.defineMetadata(</span><span class="s3">\&quot;</span><span class="s1">di:paramtypes</span><span class="s3">\&quot;</span><span class="s1">, (annotationParamtypes = []), Type);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return annotationParamtypes;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets the dependency keys representing what is needed to instantiate the specified type.</span><span class="s3">\n     </span><span class="s1">* @param Type - The type to get the dependencies for.</span><span class="s3">\n     </span><span class="s1">* @returns An array of dependency keys.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getDependencies(Type) {</span><span class="s3">\n        </span><span class="s1">// Note: Every detail of this getDependencies method is pretty deliberate at the moment, and probably not yet 100% tested from every possible angle,</span><span class="s3">\n        </span><span class="s1">// so be careful with making changes here as it can have a huge impact on complex end user apps.</span><span class="s3">\n        </span><span class="s1">// Preferably, only make changes to the dependency resolution process via a RFC.</span><span class="s3">\n        </span><span class="s1">let dependencies = dependencyLookup.get(Type);</span><span class="s3">\n        </span><span class="s1">if (dependencies === void 0) {</span><span class="s3">\n            </span><span class="s1">// Type.length is the number of constructor parameters. If this is 0, it could mean the class has an empty constructor</span><span class="s3">\n            </span><span class="s1">// but it could also mean the class has no constructor at all (in which case it inherits the constructor from the prototype).</span><span class="s3">\n            </span><span class="s1">// Non-zero constructor length + no paramtypes means emitDecoratorMetadata is off, or the class has no decorator.</span><span class="s3">\n            </span><span class="s1">// We're not doing anything with the above right now, but it's good to keep in mind for any future issues.</span><span class="s3">\n            </span><span class="s1">const inject = Type.inject;</span><span class="s3">\n            </span><span class="s1">if (inject === void 0) {</span><span class="s3">\n                </span><span class="s1">// design:paramtypes is set by tsc when emitDecoratorMetadata is enabled.</span><span class="s3">\n                </span><span class="s1">const designParamtypes = DI.getDesignParamtypes(Type);</span><span class="s3">\n                </span><span class="s1">// di:paramtypes is set by the parameter decorator from DI.createInterface or by @inject</span><span class="s3">\n                </span><span class="s1">const annotationParamtypes = DI.getAnnotationParamtypes(Type);</span><span class="s3">\n                </span><span class="s1">if (designParamtypes === void 0) {</span><span class="s3">\n                    </span><span class="s1">if (annotationParamtypes === void 0) {</span><span class="s3">\n                        </span><span class="s1">// Only go up the prototype if neither static inject nor any of the paramtypes is defined, as</span><span class="s3">\n                        </span><span class="s1">// there is no sound way to merge a type's deps with its prototype's deps</span><span class="s3">\n                        </span><span class="s1">const Proto = Object.getPrototypeOf(Type);</span><span class="s3">\n                        </span><span class="s1">if (typeof Proto === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Proto !== Function.prototype) {</span><span class="s3">\n                            </span><span class="s1">dependencies = cloneArrayWithPossibleProps(DI.getDependencies(Proto));</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">dependencies = [];</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">// No design:paramtypes so just use the di:paramtypes</span><span class="s3">\n                        </span><span class="s1">dependencies = cloneArrayWithPossibleProps(annotationParamtypes);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (annotationParamtypes === void 0) {</span><span class="s3">\n                    </span><span class="s1">// No di:paramtypes so just use the design:paramtypes</span><span class="s3">\n                    </span><span class="s1">dependencies = cloneArrayWithPossibleProps(designParamtypes);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">// We've got both, so merge them (in case of conflict on same index, di:paramtypes take precedence)</span><span class="s3">\n                    </span><span class="s1">dependencies = cloneArrayWithPossibleProps(designParamtypes);</span><span class="s3">\n                    </span><span class="s1">let len = annotationParamtypes.length;</span><span class="s3">\n                    </span><span class="s1">let auAnnotationParamtype;</span><span class="s3">\n                    </span><span class="s1">for (let i = 0; i &lt; len; ++i) {</span><span class="s3">\n                        </span><span class="s1">auAnnotationParamtype = annotationParamtypes[i];</span><span class="s3">\n                        </span><span class="s1">if (auAnnotationParamtype !== void 0) {</span><span class="s3">\n                            </span><span class="s1">dependencies[i] = auAnnotationParamtype;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">const keys = Object.keys(annotationParamtypes);</span><span class="s3">\n                    </span><span class="s1">len = keys.length;</span><span class="s3">\n                    </span><span class="s1">let key;</span><span class="s3">\n                    </span><span class="s1">for (let i = 0; i &lt; len; ++i) {</span><span class="s3">\n                        </span><span class="s1">key = keys[i];</span><span class="s3">\n                        </span><span class="s1">if (!isArrayIndex(key)) {</span><span class="s3">\n                            </span><span class="s1">dependencies[key] = annotationParamtypes[key];</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">// Ignore paramtypes if we have static inject</span><span class="s3">\n                </span><span class="s1">dependencies = cloneArrayWithPossibleProps(inject);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">dependencyLookup.set(Type, dependencies);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return dependencies;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Defines a property on a web component class. The value of this property will</span><span class="s3">\n     </span><span class="s1">* be resolved from the dependency injection container responsible for the element</span><span class="s3">\n     </span><span class="s1">* instance, based on where it is connected in the DOM.</span><span class="s3">\n     </span><span class="s1">* @param target - The target to define the property on.</span><span class="s3">\n     </span><span class="s1">* @param propertyName - The name of the property to define.</span><span class="s3">\n     </span><span class="s1">* @param key - The dependency injection key.</span><span class="s3">\n     </span><span class="s1">* @param respectConnection - Indicates whether or not to update the property value if the</span><span class="s3">\n     </span><span class="s1">* hosting component is disconnected and then re-connected at a different location in the DOM.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* The respectConnection option is only applicable to elements that descend from FASTElement.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">defineProperty(target, propertyName, key, respectConnection = false) {</span><span class="s3">\n        </span><span class="s1">const diPropertyKey = `$di_${propertyName}`;</span><span class="s3">\n        </span><span class="s1">Reflect.defineProperty(target, propertyName, {</span><span class="s3">\n            </span><span class="s1">get: function () {</span><span class="s3">\n                </span><span class="s1">let value = this[diPropertyKey];</span><span class="s3">\n                </span><span class="s1">if (value === void 0) {</span><span class="s3">\n                    </span><span class="s1">const container = this instanceof HTMLElement</span><span class="s3">\n                        </span><span class="s1">? DI.findResponsibleContainer(this)</span><span class="s3">\n                        </span><span class="s1">: DI.getOrCreateDOMContainer();</span><span class="s3">\n                    </span><span class="s1">value = container.get(key);</span><span class="s3">\n                    </span><span class="s1">this[diPropertyKey] = value;</span><span class="s3">\n                    </span><span class="s1">if (respectConnection &amp;&amp; this instanceof FASTElement) {</span><span class="s3">\n                        </span><span class="s1">const notifier = this.$fastController;</span><span class="s3">\n                        </span><span class="s1">const handleChange = () =&gt; {</span><span class="s3">\n                            </span><span class="s1">const newContainer = DI.findResponsibleContainer(this);</span><span class="s3">\n                            </span><span class="s1">const newValue = newContainer.get(key);</span><span class="s3">\n                            </span><span class="s1">const oldValue = this[diPropertyKey];</span><span class="s3">\n                            </span><span class="s1">if (newValue !== oldValue) {</span><span class="s3">\n                                </span><span class="s1">this[diPropertyKey] = value;</span><span class="s3">\n                                </span><span class="s1">notifier.notify(propertyName);</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">};</span><span class="s3">\n                        </span><span class="s1">notifier.subscribe({ handleChange }, </span><span class="s3">\&quot;</span><span class="s1">isConnected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return value;</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a dependency injection key.</span><span class="s3">\n     </span><span class="s1">* @param nameConfigOrCallback - A friendly name for the key or a lambda that configures a</span><span class="s3">\n     </span><span class="s1">* default resolution for the dependency.</span><span class="s3">\n     </span><span class="s1">* @param configuror - If a friendly name was provided for the first parameter, then an optional</span><span class="s3">\n     </span><span class="s1">* lambda that configures a default resolution for the dependency can be provided second.</span><span class="s3">\n     </span><span class="s1">* @returns The created key.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* The created key can be used as a property decorator or constructor parameter decorator,</span><span class="s3">\n     </span><span class="s1">* in addition to its standard use in an inject array or through direct container APIs.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createInterface(nameConfigOrCallback, configuror) {</span><span class="s3">\n        </span><span class="s1">const configure = typeof nameConfigOrCallback === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n            </span><span class="s1">? nameConfigOrCallback</span><span class="s3">\n            </span><span class="s1">: configuror;</span><span class="s3">\n        </span><span class="s1">const friendlyName = typeof nameConfigOrCallback === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;\n            </span><span class="s1">? nameConfigOrCallback</span><span class="s3">\n            </span><span class="s1">: nameConfigOrCallback &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">friendlyName</span><span class="s3">\&quot; </span><span class="s1">in nameConfigOrCallback</span><span class="s3">\n                </span><span class="s1">? nameConfigOrCallback.friendlyName || defaultFriendlyName</span><span class="s3">\n                </span><span class="s1">: defaultFriendlyName;</span><span class="s3">\n        </span><span class="s1">const respectConnection = typeof nameConfigOrCallback === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;\n            </span><span class="s1">? false</span><span class="s3">\n            </span><span class="s1">: nameConfigOrCallback &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">respectConnection</span><span class="s3">\&quot; </span><span class="s1">in nameConfigOrCallback</span><span class="s3">\n                </span><span class="s1">? nameConfigOrCallback.respectConnection || false</span><span class="s3">\n                </span><span class="s1">: false;</span><span class="s3">\n        </span><span class="s1">const Interface = function (target, property, index) {</span><span class="s3">\n            </span><span class="s1">if (target == null || new.target !== undefined) {</span><span class="s3">\n                </span><span class="s1">throw new Error(`No registration for interface: '${Interface.friendlyName}'`);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (property) {</span><span class="s3">\n                </span><span class="s1">DI.defineProperty(target, property, Interface, respectConnection);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">const annotationParamtypes = DI.getOrCreateAnnotationParamTypes(target);</span><span class="s3">\n                </span><span class="s1">annotationParamtypes[index] = Interface;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">Interface.$isInterface = true;</span><span class="s3">\n        </span><span class="s1">Interface.friendlyName = friendlyName == null ? </span><span class="s3">\&quot;</span><span class="s1">(anonymous)</span><span class="s3">\&quot; </span><span class="s1">: friendlyName;</span><span class="s3">\n        </span><span class="s1">if (configure != null) {</span><span class="s3">\n            </span><span class="s1">Interface.register = function (container, key) {</span><span class="s3">\n                </span><span class="s1">return configure(new ResolverBuilder(container, key !== null &amp;&amp; key !== void 0 ? key : Interface));</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">Interface.toString = function toString() {</span><span class="s3">\n            </span><span class="s1">return `InterfaceSymbol&lt;${Interface.friendlyName}&gt;`;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">return Interface;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A decorator that specifies what to inject into its target.</span><span class="s3">\n     </span><span class="s1">* @param dependencies - The dependencies to inject.</span><span class="s3">\n     </span><span class="s1">* @returns The decorator to be applied to the target class.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* The decorator can be used to decorate a class, listing all of the classes dependencies.</span><span class="s3">\n     </span><span class="s1">* Or it can be used to decorate a constructor paramter, indicating what to inject for that</span><span class="s3">\n     </span><span class="s1">* parameter.</span><span class="s3">\n     </span><span class="s1">* Or it can be used for a web component property, indicating what that property should resolve to.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">inject(...dependencies) {</span><span class="s3">\n        </span><span class="s1">return function (target, key, descriptor) {</span><span class="s3">\n            </span><span class="s1">if (typeof descriptor === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">// It's a parameter decorator.</span><span class="s3">\n                </span><span class="s1">const annotationParamtypes = DI.getOrCreateAnnotationParamTypes(target);</span><span class="s3">\n                </span><span class="s1">const dep = dependencies[0];</span><span class="s3">\n                </span><span class="s1">if (dep !== void 0) {</span><span class="s3">\n                    </span><span class="s1">annotationParamtypes[descriptor] = dep;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (key) {</span><span class="s3">\n                </span><span class="s1">DI.defineProperty(target, key, dependencies[0]);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">const annotationParamtypes = descriptor</span><span class="s3">\n                    </span><span class="s1">? DI.getOrCreateAnnotationParamTypes(descriptor.value)</span><span class="s3">\n                    </span><span class="s1">: DI.getOrCreateAnnotationParamTypes(target);</span><span class="s3">\n                </span><span class="s1">let dep;</span><span class="s3">\n                </span><span class="s1">for (let i = 0; i &lt; dependencies.length; ++i) {</span><span class="s3">\n                    </span><span class="s1">dep = dependencies[i];</span><span class="s3">\n                    </span><span class="s1">if (dep !== void 0) {</span><span class="s3">\n                        </span><span class="s1">annotationParamtypes[i] = dep;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Registers the `target` class as a transient dependency; each time the dependency is resolved</span><span class="s3">\n     </span><span class="s1">* a new instance will be created.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param target - The class / constructor function to register as transient.</span><span class="s3">\n     </span><span class="s1">* @returns The same class, with a static `register` method that takes a container and returns the appropriate resolver.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">* On an existing class</span><span class="s3">\n     </span><span class="s1">* ```ts</span><span class="s3">\n     </span><span class="s1">* class Foo { }</span><span class="s3">\n     </span><span class="s1">* DI.transient(Foo);</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">* Inline declaration</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* ```ts</span><span class="s3">\n     </span><span class="s1">* const Foo = DI.transient(class { });</span><span class="s3">\n     </span><span class="s1">* // Foo is now strongly typed with register</span><span class="s3">\n     </span><span class="s1">* Foo.register(container);</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">transient(target) {</span><span class="s3">\n        </span><span class="s1">target.register = function register(container) {</span><span class="s3">\n            </span><span class="s1">const registration = Registration.transient(target, target);</span><span class="s3">\n            </span><span class="s1">return registration.register(container);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">target.registerInRequestor = false;</span><span class="s3">\n        </span><span class="s1">return target;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Registers the `target` class as a singleton dependency; the class will only be created once. Each</span><span class="s3">\n     </span><span class="s1">* consecutive time the dependency is resolved, the same instance will be returned.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param target - The class / constructor function to register as a singleton.</span><span class="s3">\n     </span><span class="s1">* @returns The same class, with a static `register` method that takes a container and returns the appropriate resolver.</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">* On an existing class</span><span class="s3">\n     </span><span class="s1">* ```ts</span><span class="s3">\n     </span><span class="s1">* class Foo { }</span><span class="s3">\n     </span><span class="s1">* DI.singleton(Foo);</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">* Inline declaration</span><span class="s3">\n     </span><span class="s1">* ```ts</span><span class="s3">\n     </span><span class="s1">* const Foo = DI.singleton(class { });</span><span class="s3">\n     </span><span class="s1">* // Foo is now strongly typed with register</span><span class="s3">\n     </span><span class="s1">* Foo.register(container);</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">singleton(target, options = defaultSingletonOptions) {</span><span class="s3">\n        </span><span class="s1">target.register = function register(container) {</span><span class="s3">\n            </span><span class="s1">const registration = Registration.singleton(target, target);</span><span class="s3">\n            </span><span class="s1">return registration.register(container);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">target.registerInRequestor = options.scoped;</span><span class="s3">\n        </span><span class="s1">return target;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The interface key that resolves the dependency injection container itself.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const Container = DI.createInterface(</span><span class="s3">\&quot;</span><span class="s1">Container</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The interface key that resolves the service locator itself.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const ServiceLocator = Container;</span><span class="s3">\n</span><span class="s1">function createResolver(getter) {</span><span class="s3">\n    </span><span class="s1">return function (key) {</span><span class="s3">\n        </span><span class="s1">const resolver = function (target, property, descriptor) {</span><span class="s3">\n            </span><span class="s1">DI.inject(resolver)(target, property, descriptor);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">resolver.$isResolver = true;</span><span class="s3">\n        </span><span class="s1">resolver.resolve = function (handler, requestor) {</span><span class="s3">\n            </span><span class="s1">return getter(key, handler, requestor);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">return resolver;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A decorator that specifies what to inject into its target.</span><span class="s3">\n </span><span class="s1">* @param dependencies - The dependencies to inject.</span><span class="s3">\n </span><span class="s1">* @returns The decorator to be applied to the target class.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The decorator can be used to decorate a class, listing all of the classes dependencies.</span><span class="s3">\n </span><span class="s1">* Or it can be used to decorate a constructor paramter, indicating what to inject for that</span><span class="s3">\n </span><span class="s1">* parameter.</span><span class="s3">\n </span><span class="s1">* Or it can be used for a web component property, indicating what that property should resolve to.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const inject = DI.inject;</span><span class="s3">\n</span><span class="s1">function transientDecorator(target) {</span><span class="s3">\n    </span><span class="s1">return DI.transient(target);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">export function transient(target) {</span><span class="s3">\n    </span><span class="s1">return target == null ? transientDecorator : transientDecorator(target);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const defaultSingletonOptions = { scoped: false };</span><span class="s3">\n</span><span class="s1">function singletonDecorator(target) {</span><span class="s3">\n    </span><span class="s1">return DI.singleton(target);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function singleton(targetOrOptions) {</span><span class="s3">\n    </span><span class="s1">if (typeof targetOrOptions === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return DI.singleton(targetOrOptions);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return function ($target) {</span><span class="s3">\n        </span><span class="s1">return DI.singleton($target, targetOrOptions);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function createAllResolver(getter) {</span><span class="s3">\n    </span><span class="s1">return function (key, searchAncestors) {</span><span class="s3">\n        </span><span class="s1">searchAncestors = !!searchAncestors;</span><span class="s3">\n        </span><span class="s1">const resolver = function (target, property, descriptor) {</span><span class="s3">\n            </span><span class="s1">DI.inject(resolver)(target, property, descriptor);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">resolver.$isResolver = true;</span><span class="s3">\n        </span><span class="s1">resolver.resolve = function (handler, requestor) {</span><span class="s3">\n            </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n            </span><span class="s1">return getter(key, handler, requestor, searchAncestors);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">return resolver;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A decorator and DI resolver that will resolve an array of all dependencies</span><span class="s3">\n </span><span class="s1">* registered with the specified key.</span><span class="s3">\n </span><span class="s1">* @param key - The key to resolve all dependencies for.</span><span class="s3">\n </span><span class="s1">* @param searchAncestors - [optional] Indicates whether to search ancestor containers.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const all = createAllResolver((key, handler, requestor, searchAncestors) =&gt; requestor.getAll(key, searchAncestors));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A decorator that lazily injects a dependency depending on whether the `Key` is present at the time of function call.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* You need to make your argument a function that returns the type, for example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* class Foo {</span><span class="s3">\n </span><span class="s1">*   constructor( @lazy('random') public random: () =&gt; number )</span><span class="s3">\n </span><span class="s1">* }</span><span class="s3">\n </span><span class="s1">* const foo = container.get(Foo); // instanceof Foo</span><span class="s3">\n </span><span class="s1">* foo.random(); // throws</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* would throw an exception because you haven't registered `'random'` before calling the method.</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* This, would give you a new 'Math.random()' number each time.</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* class Foo {</span><span class="s3">\n </span><span class="s1">*   constructor( @lazy('random') public random: () =&gt; random )</span><span class="s3">\n </span><span class="s1">* }</span><span class="s3">\n </span><span class="s1">* container.register(Registration.callback('random', Math.random ));</span><span class="s3">\n </span><span class="s1">* container.get(Foo).random(); // some random number</span><span class="s3">\n </span><span class="s1">* container.get(Foo).random(); // another random number</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* `@lazy` does not manage the lifecycle of the underlying key. If you want a singleton, you have to register as a</span><span class="s3">\n </span><span class="s1">* `singleton`, `transient` would also behave as you would expect, providing you a new instance each time.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param key - The key to lazily resolve.</span><span class="s3">\n </span><span class="s1">* see {@link DI.createInterface} on interactions with interfaces</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const lazy = createResolver((key, handler, requestor) =&gt; {</span><span class="s3">\n    </span><span class="s1">return () =&gt; requestor.get(key);</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A decorator that allows you to optionally inject a dependency depending on whether the [[`Key`]] is present, for example:</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* class Foo {</span><span class="s3">\n </span><span class="s1">*   constructor( @inject('mystring') public str: string = 'somestring' )</span><span class="s3">\n </span><span class="s1">* }</span><span class="s3">\n </span><span class="s1">* container.get(Foo); // throws</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* would fail</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* class Foo {</span><span class="s3">\n </span><span class="s1">*   constructor( @optional('mystring') public str: string = 'somestring' )</span><span class="s3">\n </span><span class="s1">* }</span><span class="s3">\n </span><span class="s1">* container.get(Foo).str // somestring</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* if you use it without a default it will inject `undefined`, so remember to mark your input type as</span><span class="s3">\n </span><span class="s1">* possibly `undefined`!</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param key - The key to optionally resolve.</span><span class="s3">\n </span><span class="s1">* see {@link DI.createInterface} on interactions with interfaces</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const optional = createResolver((key, handler, requestor) =&gt; {</span><span class="s3">\n    </span><span class="s1">if (requestor.has(key, true)) {</span><span class="s3">\n        </span><span class="s1">return requestor.get(key);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">return undefined;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A decorator that tells the container not to try to inject a dependency.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function ignore(target, property, descriptor) {</span><span class="s3">\n    </span><span class="s1">DI.inject(ignore)(target, property, descriptor);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">// Hack: casting below used to prevent TS from generate a namespace which can't be commented</span><span class="s3">\n</span><span class="s1">// and results in documentation validation errors.</span><span class="s3">\n</span><span class="s1">ignore.$isResolver = true;</span><span class="s3">\n</span><span class="s1">ignore.resolve = () =&gt; undefined;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A decorator that indicates that a new instance should be injected scoped to the</span><span class="s3">\n </span><span class="s1">* container that requested the instance.</span><span class="s3">\n </span><span class="s1">* @param key - The dependency key for the new instance.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* This creates a resolver with an instance strategy pointing to the new instance, effectively</span><span class="s3">\n </span><span class="s1">* making this a singleton, scoped to the container or DOM's subtree.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const newInstanceForScope = createResolver((key, handler, requestor) =&gt; {</span><span class="s3">\n    </span><span class="s1">const instance = createNewInstance(key, handler);</span><span class="s3">\n    </span><span class="s1">const resolver = new ResolverImpl(key, 0 /* instance */, instance);</span><span class="s3">\n    </span><span class="s1">requestor.registerResolver(key, resolver);</span><span class="s3">\n    </span><span class="s1">return instance;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A decorator that indicates that a new instance should be injected.</span><span class="s3">\n </span><span class="s1">* @param key - The dependency key for the new instance.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The instance is not internally cached with a resolver as newInstanceForScope does.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const newInstanceOf = createResolver((key, handler, _requestor) =&gt; createNewInstance(key, handler));</span><span class="s3">\n</span><span class="s1">function createNewInstance(key, handler) {</span><span class="s3">\n    </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n    </span><span class="s1">return handler.getFactory(key).construct(handler);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/** @internal */</span><span class="s3">\n</span><span class="s1">export class ResolverImpl {</span><span class="s3">\n    </span><span class="s1">constructor(key, strategy, state) {</span><span class="s3">\n        </span><span class="s1">this.key = key;</span><span class="s3">\n        </span><span class="s1">this.strategy = strategy;</span><span class="s3">\n        </span><span class="s1">this.state = state;</span><span class="s3">\n        </span><span class="s1">this.resolving = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get $isResolver() {</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">register(container) {</span><span class="s3">\n        </span><span class="s1">return container.registerResolver(this.key, this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">resolve(handler, requestor) {</span><span class="s3">\n        </span><span class="s1">switch (this.strategy) {</span><span class="s3">\n            </span><span class="s1">case 0 /* instance */:</span><span class="s3">\n                </span><span class="s1">return this.state;</span><span class="s3">\n            </span><span class="s1">case 1 /* singleton */: {</span><span class="s3">\n                </span><span class="s1">if (this.resolving) {</span><span class="s3">\n                    </span><span class="s1">throw new Error(`Cyclic dependency found: ${this.state.name}`);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.resolving = true;</span><span class="s3">\n                </span><span class="s1">this.state = handler</span><span class="s3">\n                    </span><span class="s1">.getFactory(this.state)</span><span class="s3">\n                    </span><span class="s1">.construct(requestor);</span><span class="s3">\n                </span><span class="s1">this.strategy = 0 /* instance */;</span><span class="s3">\n                </span><span class="s1">this.resolving = false;</span><span class="s3">\n                </span><span class="s1">return this.state;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case 2 /* transient */: {</span><span class="s3">\n                </span><span class="s1">// Always create transients from the requesting container</span><span class="s3">\n                </span><span class="s1">const factory = handler.getFactory(this.state);</span><span class="s3">\n                </span><span class="s1">if (factory === null) {</span><span class="s3">\n                    </span><span class="s1">throw new Error(`Resolver for ${String(this.key)} returned a null factory`);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return factory.construct(requestor);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case 3 /* callback */:</span><span class="s3">\n                </span><span class="s1">return this.state(handler, requestor, this);</span><span class="s3">\n            </span><span class="s1">case 4 /* array */:</span><span class="s3">\n                </span><span class="s1">return this.state[0].resolve(handler, requestor);</span><span class="s3">\n            </span><span class="s1">case 5 /* alias */:</span><span class="s3">\n                </span><span class="s1">return requestor.get(this.state);</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getFactory(container) {</span><span class="s3">\n        </span><span class="s1">var _a, _b, _c;</span><span class="s3">\n        </span><span class="s1">switch (this.strategy) {</span><span class="s3">\n            </span><span class="s1">case 1 /* singleton */:</span><span class="s3">\n            </span><span class="s1">case 2 /* transient */:</span><span class="s3">\n                </span><span class="s1">return container.getFactory(this.state);</span><span class="s3">\n            </span><span class="s1">case 5 /* alias */:</span><span class="s3">\n                </span><span class="s1">return (_c = (_b = (_a = container.getResolver(this.state)) === null || _a === void 0 ? void 0 : _a.getFactory) === null || _b === void 0 ? void 0 : _b.call(_a, container)) !== null &amp;&amp; _c !== void 0 ? _c : null;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function containerGetKey(d) {</span><span class="s3">\n    </span><span class="s1">return this.get(d);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function transformInstance(inst, transform) {</span><span class="s3">\n    </span><span class="s1">return transform(inst);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/** @internal */</span><span class="s3">\n</span><span class="s1">export class FactoryImpl {</span><span class="s3">\n    </span><span class="s1">constructor(Type, dependencies) {</span><span class="s3">\n        </span><span class="s1">this.Type = Type;</span><span class="s3">\n        </span><span class="s1">this.dependencies = dependencies;</span><span class="s3">\n        </span><span class="s1">this.transformers = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">construct(container, dynamicDependencies) {</span><span class="s3">\n        </span><span class="s1">let instance;</span><span class="s3">\n        </span><span class="s1">if (dynamicDependencies === void 0) {</span><span class="s3">\n            </span><span class="s1">instance = new this.Type(...this.dependencies.map(containerGetKey, container));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">instance = new this.Type(...this.dependencies.map(containerGetKey, container), ...dynamicDependencies);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.transformers == null) {</span><span class="s3">\n            </span><span class="s1">return instance;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this.transformers.reduce(transformInstance, instance);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">registerTransformer(transformer) {</span><span class="s3">\n        </span><span class="s1">(this.transformers || (this.transformers = [])).push(transformer);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const containerResolver = {</span><span class="s3">\n    </span><span class="s1">$isResolver: true,</span><span class="s3">\n    </span><span class="s1">resolve(handler, requestor) {</span><span class="s3">\n        </span><span class="s1">return requestor;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">function isRegistry(obj) {</span><span class="s3">\n    </span><span class="s1">return typeof obj.register === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function isSelfRegistry(obj) {</span><span class="s3">\n    </span><span class="s1">return isRegistry(obj) &amp;&amp; typeof obj.registerInRequestor === </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function isRegisterInRequester(obj) {</span><span class="s3">\n    </span><span class="s1">return isSelfRegistry(obj) &amp;&amp; obj.registerInRequestor;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function isClass(obj) {</span><span class="s3">\n    </span><span class="s1">return obj.prototype !== void 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const InstrinsicTypeNames = new Set([</span><span class="s3">\n    \&quot;</span><span class="s1">Array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">ArrayBuffer</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Boolean</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">DataView</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Date</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Error</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">EvalError</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Float32Array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Float64Array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Function</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Int8Array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Int16Array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Int32Array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Map</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Number</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Object</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Promise</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">RangeError</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">ReferenceError</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">RegExp</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Set</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">SharedArrayBuffer</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">String</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">SyntaxError</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">TypeError</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Uint8Array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Uint8ClampedArray</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Uint16Array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">Uint32Array</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">URIError</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">WeakMap</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    \&quot;</span><span class="s1">WeakSet</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">]);</span><span class="s3">\n</span><span class="s1">const DILocateParentEventType = </span><span class="s3">\&quot;</span><span class="s1">__DI_LOCATE_PARENT__</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const factories = new Map();</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ContainerImpl {</span><span class="s3">\n    </span><span class="s1">constructor(owner, config) {</span><span class="s3">\n        </span><span class="s1">this.owner = owner;</span><span class="s3">\n        </span><span class="s1">this.config = config;</span><span class="s3">\n        </span><span class="s1">this._parent = void 0;</span><span class="s3">\n        </span><span class="s1">this.registerDepth = 0;</span><span class="s3">\n        </span><span class="s1">this.context = null;</span><span class="s3">\n        </span><span class="s1">if (owner !== null) {</span><span class="s3">\n            </span><span class="s1">owner.$$container$$ = this;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.resolvers = new Map();</span><span class="s3">\n        </span><span class="s1">this.resolvers.set(Container, containerResolver);</span><span class="s3">\n        </span><span class="s1">if (owner instanceof Node) {</span><span class="s3">\n            </span><span class="s1">owner.addEventListener(DILocateParentEventType, (e) =&gt; {</span><span class="s3">\n                </span><span class="s1">if (e.composedPath()[0] !== this.owner) {</span><span class="s3">\n                    </span><span class="s1">e.detail.container = this;</span><span class="s3">\n                    </span><span class="s1">e.stopImmediatePropagation();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get parent() {</span><span class="s3">\n        </span><span class="s1">if (this._parent === void 0) {</span><span class="s3">\n            </span><span class="s1">this._parent = this.config.parentLocator(this.owner);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this._parent;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get depth() {</span><span class="s3">\n        </span><span class="s1">return this.parent === null ? 0 : this.parent.depth + 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get responsibleForOwnerRequests() {</span><span class="s3">\n        </span><span class="s1">return this.config.responsibleForOwnerRequests;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">registerWithContext(context, ...params) {</span><span class="s3">\n        </span><span class="s1">this.context = context;</span><span class="s3">\n        </span><span class="s1">this.register(...params);</span><span class="s3">\n        </span><span class="s1">this.context = null;</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">register(...params) {</span><span class="s3">\n        </span><span class="s1">if (++this.registerDepth === 100) {</span><span class="s3">\n            </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">Unable to autoregister dependency</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">// Most likely cause is trying to register a plain object that does not have a</span><span class="s3">\n            </span><span class="s1">// register method and is not a class constructor</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let current;</span><span class="s3">\n        </span><span class="s1">let keys;</span><span class="s3">\n        </span><span class="s1">let value;</span><span class="s3">\n        </span><span class="s1">let j;</span><span class="s3">\n        </span><span class="s1">let jj;</span><span class="s3">\n        </span><span class="s1">const context = this.context;</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = params.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">current = params[i];</span><span class="s3">\n            </span><span class="s1">if (!isObject(current)) {</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (isRegistry(current)) {</span><span class="s3">\n                </span><span class="s1">current.register(this, context);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (isClass(current)) {</span><span class="s3">\n                </span><span class="s1">Registration.singleton(current, current).register(this);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">keys = Object.keys(current);</span><span class="s3">\n                </span><span class="s1">j = 0;</span><span class="s3">\n                </span><span class="s1">jj = keys.length;</span><span class="s3">\n                </span><span class="s1">for (; j &lt; jj; ++j) {</span><span class="s3">\n                    </span><span class="s1">value = current[keys[j]];</span><span class="s3">\n                    </span><span class="s1">if (!isObject(value)) {</span><span class="s3">\n                        </span><span class="s1">continue;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">// note: we could remove this if-branch and call this.register directly</span><span class="s3">\n                    </span><span class="s1">// - the extra check is just a perf tweak to create fewer unnecessary arrays by the spread operator</span><span class="s3">\n                    </span><span class="s1">if (isRegistry(value)) {</span><span class="s3">\n                        </span><span class="s1">value.register(this, context);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">this.register(value);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">--this.registerDepth;</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">registerResolver(key, resolver) {</span><span class="s3">\n        </span><span class="s1">validateKey(key);</span><span class="s3">\n        </span><span class="s1">const resolvers = this.resolvers;</span><span class="s3">\n        </span><span class="s1">const result = resolvers.get(key);</span><span class="s3">\n        </span><span class="s1">if (result == null) {</span><span class="s3">\n            </span><span class="s1">resolvers.set(key, resolver);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (result instanceof ResolverImpl &amp;&amp;</span><span class="s3">\n            </span><span class="s1">result.strategy === 4 /* array */) {</span><span class="s3">\n            </span><span class="s1">result.state.push(resolver);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">resolvers.set(key, new ResolverImpl(key, 4 /* array */, [result, resolver]));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return resolver;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">registerTransformer(key, transformer) {</span><span class="s3">\n        </span><span class="s1">const resolver = this.getResolver(key);</span><span class="s3">\n        </span><span class="s1">if (resolver == null) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (resolver.getFactory) {</span><span class="s3">\n            </span><span class="s1">const factory = resolver.getFactory(this);</span><span class="s3">\n            </span><span class="s1">if (factory == null) {</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// This type cast is a bit of a hacky one, necessary due to the duplicity of IResolverLike.</span><span class="s3">\n            </span><span class="s1">// Problem is that that interface's type arg can be of type Key, but the getFactory method only works on</span><span class="s3">\n            </span><span class="s1">// type Constructable. So the return type of that optional method has this additional constraint, which</span><span class="s3">\n            </span><span class="s1">// seems to confuse the type checker.</span><span class="s3">\n            </span><span class="s1">factory.registerTransformer(transformer);</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getResolver(key, autoRegister = true) {</span><span class="s3">\n        </span><span class="s1">validateKey(key);</span><span class="s3">\n        </span><span class="s1">if (key.resolve !== void 0) {</span><span class="s3">\n            </span><span class="s1">return key;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-this-alias */</span><span class="s3">\n        </span><span class="s1">let current = this;</span><span class="s3">\n        </span><span class="s1">let resolver;</span><span class="s3">\n        </span><span class="s1">while (current != null) {</span><span class="s3">\n            </span><span class="s1">resolver = current.resolvers.get(key);</span><span class="s3">\n            </span><span class="s1">if (resolver == null) {</span><span class="s3">\n                </span><span class="s1">if (current.parent == null) {</span><span class="s3">\n                    </span><span class="s1">const handler = isRegisterInRequester(key)</span><span class="s3">\n                        </span><span class="s1">? this</span><span class="s3">\n                        </span><span class="s1">: current;</span><span class="s3">\n                    </span><span class="s1">return autoRegister ? this.jitRegister(key, handler) : null;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">current = current.parent;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">return resolver;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">has(key, searchAncestors = false) {</span><span class="s3">\n        </span><span class="s1">return this.resolvers.has(key)</span><span class="s3">\n            </span><span class="s1">? true</span><span class="s3">\n            </span><span class="s1">: searchAncestors &amp;&amp; this.parent != null</span><span class="s3">\n                </span><span class="s1">? this.parent.has(key, true)</span><span class="s3">\n                </span><span class="s1">: false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get(key) {</span><span class="s3">\n        </span><span class="s1">validateKey(key);</span><span class="s3">\n        </span><span class="s1">if (key.$isResolver) {</span><span class="s3">\n            </span><span class="s1">return key.resolve(this, this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-this-alias */</span><span class="s3">\n        </span><span class="s1">let current = this;</span><span class="s3">\n        </span><span class="s1">let resolver;</span><span class="s3">\n        </span><span class="s1">while (current != null) {</span><span class="s3">\n            </span><span class="s1">resolver = current.resolvers.get(key);</span><span class="s3">\n            </span><span class="s1">if (resolver == null) {</span><span class="s3">\n                </span><span class="s1">if (current.parent == null) {</span><span class="s3">\n                    </span><span class="s1">const handler = isRegisterInRequester(key)</span><span class="s3">\n                        </span><span class="s1">? this</span><span class="s3">\n                        </span><span class="s1">: current;</span><span class="s3">\n                    </span><span class="s1">resolver = this.jitRegister(key, handler);</span><span class="s3">\n                    </span><span class="s1">return resolver.resolve(current, this);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">current = current.parent;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">return resolver.resolve(current, this);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">throw new Error(`Unable to resolve key: ${String(key)}`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getAll(key, searchAncestors = false) {</span><span class="s3">\n        </span><span class="s1">validateKey(key);</span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-this-alias */</span><span class="s3">\n        </span><span class="s1">const requestor = this;</span><span class="s3">\n        </span><span class="s1">let current = requestor;</span><span class="s3">\n        </span><span class="s1">let resolver;</span><span class="s3">\n        </span><span class="s1">if (searchAncestors) {</span><span class="s3">\n            </span><span class="s1">let resolutions = emptyArray;</span><span class="s3">\n            </span><span class="s1">while (current != null) {</span><span class="s3">\n                </span><span class="s1">resolver = current.resolvers.get(key);</span><span class="s3">\n                </span><span class="s1">if (resolver != null) {</span><span class="s3">\n                    </span><span class="s1">resolutions = resolutions.concat(</span><span class="s3">\n                    </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n                    </span><span class="s1">buildAllResponse(resolver, current, requestor));</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">current = current.parent;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return resolutions;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">while (current != null) {</span><span class="s3">\n                </span><span class="s1">resolver = current.resolvers.get(key);</span><span class="s3">\n                </span><span class="s1">if (resolver == null) {</span><span class="s3">\n                    </span><span class="s1">current = current.parent;</span><span class="s3">\n                    </span><span class="s1">if (current == null) {</span><span class="s3">\n                        </span><span class="s1">return emptyArray;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">return buildAllResponse(resolver, current, requestor);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return emptyArray;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getFactory(Type) {</span><span class="s3">\n        </span><span class="s1">let factory = factories.get(Type);</span><span class="s3">\n        </span><span class="s1">if (factory === void 0) {</span><span class="s3">\n            </span><span class="s1">if (isNativeFunction(Type)) {</span><span class="s3">\n                </span><span class="s1">throw new Error(`${Type.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">factories.set(Type, (factory = new FactoryImpl(Type, DI.getDependencies(Type))));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return factory;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">registerFactory(key, factory) {</span><span class="s3">\n        </span><span class="s1">factories.set(key, factory);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">createChild(config) {</span><span class="s3">\n        </span><span class="s1">return new ContainerImpl(null, Object.assign({}, this.config, config, { parentLocator: () =&gt; this }));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">jitRegister(keyAsValue, handler) {</span><span class="s3">\n        </span><span class="s1">if (typeof keyAsValue !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`Attempted to jitRegister something that is not a constructor: '${keyAsValue}'. Did you forget to register this dependency?`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (InstrinsicTypeNames.has(keyAsValue.name)) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`Attempted to jitRegister an intrinsic type: ${keyAsValue.name}. Did you forget to add @inject(Key)`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (isRegistry(keyAsValue)) {</span><span class="s3">\n            </span><span class="s1">const registrationResolver = keyAsValue.register(handler);</span><span class="s3">\n            </span><span class="s1">if (!(registrationResolver instanceof Object) ||</span><span class="s3">\n                </span><span class="s1">registrationResolver.resolve == null) {</span><span class="s3">\n                </span><span class="s1">const newResolver = handler.resolvers.get(keyAsValue);</span><span class="s3">\n                </span><span class="s1">if (newResolver != void 0) {</span><span class="s3">\n                    </span><span class="s1">return newResolver;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">A valid resolver was not returned from the static register method</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return registrationResolver;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (keyAsValue.$isInterface) {</span><span class="s3">\n            </span><span class="s1">throw new Error(`Attempted to jitRegister an interface: ${keyAsValue.friendlyName}`);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">const resolver = this.config.defaultResolver(keyAsValue, handler);</span><span class="s3">\n            </span><span class="s1">handler.resolvers.set(keyAsValue, resolver);</span><span class="s3">\n            </span><span class="s1">return resolver;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const cache = new WeakMap();</span><span class="s3">\n</span><span class="s1">function cacheCallbackResult(fun) {</span><span class="s3">\n    </span><span class="s1">return function (handler, requestor, resolver) {</span><span class="s3">\n        </span><span class="s1">if (cache.has(resolver)) {</span><span class="s3">\n            </span><span class="s1">return cache.get(resolver);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const t = fun(handler, requestor, resolver);</span><span class="s3">\n        </span><span class="s1">cache.set(resolver, t);</span><span class="s3">\n        </span><span class="s1">return t;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* You can use the resulting Registration of any of the factory methods</span><span class="s3">\n </span><span class="s1">* to register with the container.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">* class Foo {}</span><span class="s3">\n </span><span class="s1">* const container = DI.createContainer();</span><span class="s3">\n </span><span class="s1">* container.register(Registration.instance(Foo, new Foo()));</span><span class="s3">\n </span><span class="s1">* container.get(Foo);</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const Registration = Object.freeze({</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Allows you to pass an instance.</span><span class="s3">\n     </span><span class="s1">* Every time you request this {@link Key} you will get this instance back.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">* Registration.instance(Foo, new Foo()));</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param key - The key to register the instance under.</span><span class="s3">\n     </span><span class="s1">* @param value - The instance to return when the key is requested.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">instance(key, value) {</span><span class="s3">\n        </span><span class="s1">return new ResolverImpl(key, 0 /* instance */, value);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance from the class.</span><span class="s3">\n     </span><span class="s1">* Every time you request this {@link Key} you will get the same one back.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">* Registration.singleton(Foo, Foo);</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param key - The key to register the singleton under.</span><span class="s3">\n     </span><span class="s1">* @param value - The class to instantiate as a singleton when first requested.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">singleton(key, value) {</span><span class="s3">\n        </span><span class="s1">return new ResolverImpl(key, 1 /* singleton */, value);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance from a class.</span><span class="s3">\n     </span><span class="s1">* Every time you request this {@link Key} you will get a new instance.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">* Registration.instance(Foo, Foo);</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param key - The key to register the instance type under.</span><span class="s3">\n     </span><span class="s1">* @param value - The class to instantiate each time the key is requested.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">transient(key, value) {</span><span class="s3">\n        </span><span class="s1">return new ResolverImpl(key, 2 /* transient */, value);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Delegates to a callback function to provide the dependency.</span><span class="s3">\n     </span><span class="s1">* Every time you request this {@link Key} the callback will be invoked to provide</span><span class="s3">\n     </span><span class="s1">* the dependency.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">* Registration.callback(Foo, () =&gt; new Foo());</span><span class="s3">\n     </span><span class="s1">* Registration.callback(Bar, (c: Container) =&gt; new Bar(c.get(Foo)));</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param key - The key to register the callback for.</span><span class="s3">\n     </span><span class="s1">* @param callback - The function that is expected to return the dependency.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">callback(key, callback) {</span><span class="s3">\n        </span><span class="s1">return new ResolverImpl(key, 3 /* callback */, callback);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Delegates to a callback function to provide the dependency and then caches the</span><span class="s3">\n     </span><span class="s1">* dependency for future requests.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">* Registration.cachedCallback(Foo, () =&gt; new Foo());</span><span class="s3">\n     </span><span class="s1">* Registration.cachedCallback(Bar, (c: Container) =&gt; new Bar(c.get(Foo)));</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param key - The key to register the callback for.</span><span class="s3">\n     </span><span class="s1">* @param callback - The function that is expected to return the dependency.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* If you pass the same Registration to another container, the same cached value will be used.</span><span class="s3">\n     </span><span class="s1">* Should all references to the resolver returned be removed, the cache will expire.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">cachedCallback(key, callback) {</span><span class="s3">\n        </span><span class="s1">return new ResolverImpl(key, 3 /* callback */, cacheCallbackResult(callback));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an alternate {@link Key} to retrieve an instance by.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">* Register.singleton(Foo, Foo)</span><span class="s3">\n     </span><span class="s1">* Register.aliasTo(Foo, MyFoos);</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* container.getAll(MyFoos) // contains an instance of Foo</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param originalKey - The original key that has been registered.</span><span class="s3">\n     </span><span class="s1">* @param aliasKey - The alias to the original key.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">aliasTo(originalKey, aliasKey) {</span><span class="s3">\n        </span><span class="s1">return new ResolverImpl(aliasKey, 5 /* alias */, originalKey);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/** @internal */</span><span class="s3">\n</span><span class="s1">export function validateKey(key) {</span><span class="s3">\n    </span><span class="s1">if (key === null || key === void 0) {</span><span class="s3">\n        </span><span class="s1">throw new Error(</span><span class="s3">\&quot;</span><span class="s1">key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function buildAllResponse(resolver, handler, requestor) {</span><span class="s3">\n    </span><span class="s1">if (resolver instanceof ResolverImpl &amp;&amp;</span><span class="s3">\n        </span><span class="s1">resolver.strategy === 4 /* array */) {</span><span class="s3">\n        </span><span class="s1">const state = resolver.state;</span><span class="s3">\n        </span><span class="s1">let i = state.length;</span><span class="s3">\n        </span><span class="s1">const results = new Array(i);</span><span class="s3">\n        </span><span class="s1">while (i--) {</span><span class="s3">\n            </span><span class="s1">results[i] = state[i].resolve(handler, requestor);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return results;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return [resolver.resolve(handler, requestor)];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const defaultFriendlyName = </span><span class="s3">\&quot;</span><span class="s1">(anonymous)</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function isObject(value) {</span><span class="s3">\n    </span><span class="s1">return (typeof value === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; value !== null) || typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Determine whether the value is a native function.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param fn - The function to check.</span><span class="s3">\n </span><span class="s1">* @returns `true` is the function is a native function, otherwise `false`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const isNativeFunction = (function () {</span><span class="s3">\n    </span><span class="s1">const lookup = new WeakMap();</span><span class="s3">\n    </span><span class="s1">let isNative = false;</span><span class="s3">\n    </span><span class="s1">let sourceText = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">let i = 0;</span><span class="s3">\n    </span><span class="s1">return function (fn) {</span><span class="s3">\n        </span><span class="s1">isNative = lookup.get(fn);</span><span class="s3">\n        </span><span class="s1">if (isNative === void 0) {</span><span class="s3">\n            </span><span class="s1">sourceText = fn.toString();</span><span class="s3">\n            </span><span class="s1">i = sourceText.length;</span><span class="s3">\n            </span><span class="s1">// http://www.ecma-international.org/ecma-262/#prod-NativeFunction</span><span class="s3">\n            </span><span class="s1">isNative =</span><span class="s3">\n                </span><span class="s1">// 29 is the length of 'function () { [native code] }' which is the smallest length of a native function string</span><span class="s3">\n                </span><span class="s1">i &gt;= 29 &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">// 100 seems to be a safe upper bound of the max length of a native function. In Chrome and FF it's 56, in Edge it's 61.</span><span class="s3">\n                    </span><span class="s1">i &lt;= 100 &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">// This whole heuristic *could* be tricked by a comment. Do we need to care about that?</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 1) === 0x7d &amp;&amp; // }</span><span class="s3">\n                    </span><span class="s1">// TODO: the spec is a little vague about the precise constraints, so we do need to test this across various browsers to make sure just one whitespace is a safe assumption.</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 2) &lt;= 0x20 &amp;&amp; // whitespace</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 3) === 0x5d &amp;&amp; // ]</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 4) === 0x65 &amp;&amp; // e</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 5) === 0x64 &amp;&amp; // d</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 6) === 0x6f &amp;&amp; // o</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 7) === 0x63 &amp;&amp; // c</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 8) === 0x20 &amp;&amp; //</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 9) === 0x65 &amp;&amp; // e</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 10) === 0x76 &amp;&amp; // v</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 11) === 0x69 &amp;&amp; // i</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 12) === 0x74 &amp;&amp; // t</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 13) === 0x61 &amp;&amp; // a</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 14) === 0x6e &amp;&amp; // n</span><span class="s3">\n                    </span><span class="s1">sourceText.charCodeAt(i - 15) === 0x58; // [</span><span class="s3">\n            </span><span class="s1">lookup.set(fn, isNative);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return isNative;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">})();</span><span class="s3">\n</span><span class="s1">const isNumericLookup = {};</span><span class="s3">\n</span><span class="s1">function isArrayIndex(value) {</span><span class="s3">\n    </span><span class="s1">switch (typeof value) {</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">return value &gt;= 0 &amp;&amp; (value | 0) === value;</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n            </span><span class="s1">const result = isNumericLookup[value];</span><span class="s3">\n            </span><span class="s1">if (result !== void 0) {</span><span class="s3">\n                </span><span class="s1">return result;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const length = value.length;</span><span class="s3">\n            </span><span class="s1">if (length === 0) {</span><span class="s3">\n                </span><span class="s1">return (isNumericLookup[value] = false);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">let ch = 0;</span><span class="s3">\n            </span><span class="s1">for (let i = 0; i &lt; length; ++i) {</span><span class="s3">\n                </span><span class="s1">ch = value.charCodeAt(i);</span><span class="s3">\n                </span><span class="s1">if ((i === 0 &amp;&amp; ch === 0x30 &amp;&amp; length &gt; 1) /* must not start with 0 */ ||</span><span class="s3">\n                    </span><span class="s1">ch &lt; 0x30 /* 0 */ ||</span><span class="s3">\n                    </span><span class="s1">ch &gt; 0x39 /* 9 */) {</span><span class="s3">\n                    </span><span class="s1">return (isNumericLookup[value] = false);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return (isNumericLookup[value] = true);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">default:</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { ElementStyles, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DI, Registration } from </span><span class="s3">\&quot;</span><span class="s1">../di/di.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function presentationKeyFromTag(tagName) {</span><span class="s3">\n    </span><span class="s1">return `${tagName.toLowerCase()}:presentation`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const presentationRegistry = new Map();</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An API gateway to component presentation features.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const ComponentPresentation = Object.freeze({</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Defines a component presentation for an element.</span><span class="s3">\n     </span><span class="s1">* @param tagName - The element name to define the presentation for.</span><span class="s3">\n     </span><span class="s1">* @param presentation - The presentation that will be applied to matching elements.</span><span class="s3">\n     </span><span class="s1">* @param container - The dependency injection container to register the configuration in.</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">define(tagName, presentation, container) {</span><span class="s3">\n        </span><span class="s1">const key = presentationKeyFromTag(tagName);</span><span class="s3">\n        </span><span class="s1">const existing = presentationRegistry.get(key);</span><span class="s3">\n        </span><span class="s1">if (existing === void 0) {</span><span class="s3">\n            </span><span class="s1">presentationRegistry.set(key, presentation);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">// false indicates that we have more than one presentation</span><span class="s3">\n            </span><span class="s1">// registered for a tagName and we must resolve through DI</span><span class="s3">\n            </span><span class="s1">presentationRegistry.set(key, false);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">container.register(Registration.instance(key, presentation));</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Finds a component presentation for the specified element name,</span><span class="s3">\n     </span><span class="s1">* searching the DOM hierarchy starting from the provided element.</span><span class="s3">\n     </span><span class="s1">* @param tagName - The name of the element to locate the presentation for.</span><span class="s3">\n     </span><span class="s1">* @param element - The element to begin the search from.</span><span class="s3">\n     </span><span class="s1">* @returns The component presentation or null if none is found.</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">forTag(tagName, element) {</span><span class="s3">\n        </span><span class="s1">const key = presentationKeyFromTag(tagName);</span><span class="s3">\n        </span><span class="s1">const existing = presentationRegistry.get(key);</span><span class="s3">\n        </span><span class="s1">if (existing === false) {</span><span class="s3">\n            </span><span class="s1">const container = DI.findResponsibleContainer(element);</span><span class="s3">\n            </span><span class="s1">return container.get(key);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return existing || null;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The default implementation of ComponentPresentation, used by FoundationElement.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DefaultComponentPresentation {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of DefaultComponentPresentation.</span><span class="s3">\n     </span><span class="s1">* @param template - The template to apply to the element.</span><span class="s3">\n     </span><span class="s1">* @param styles - The styles to apply to the element.</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(template, styles) {</span><span class="s3">\n        </span><span class="s1">this.template = template || null;</span><span class="s3">\n        </span><span class="s1">this.styles =</span><span class="s3">\n            </span><span class="s1">styles === void 0</span><span class="s3">\n                </span><span class="s1">? null</span><span class="s3">\n                </span><span class="s1">: Array.isArray(styles)</span><span class="s3">\n                    </span><span class="s1">? ElementStyles.create(styles)</span><span class="s3">\n                    </span><span class="s1">: styles instanceof ElementStyles</span><span class="s3">\n                        </span><span class="s1">? styles</span><span class="s3">\n                        </span><span class="s1">: ElementStyles.create([styles]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Applies the presentation details to the specified element.</span><span class="s3">\n     </span><span class="s1">* @param element - The element to apply the presentation details to.</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">applyTo(element) {</span><span class="s3">\n        </span><span class="s1">const controller = element.$fastController;</span><span class="s3">\n        </span><span class="s1">if (controller.template === null) {</span><span class="s3">\n            </span><span class="s1">controller.template = this.template;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (controller.styles === null) {</span><span class="s3">\n            </span><span class="s1">controller.styles = this.styles;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FASTElement, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ComponentPresentation, DefaultComponentPresentation, } from </span><span class="s3">\&quot;</span><span class="s1">../design-system/component-presentation.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Defines a foundation element class that:</span><span class="s3">\n </span><span class="s1">* 1. Connects the element to its ComponentPresentation</span><span class="s3">\n </span><span class="s1">* 2. Allows resolving the element template from the instance or ComponentPresentation</span><span class="s3">\n </span><span class="s1">* 3. Allows resolving the element styles from the instance or ComponentPresentation</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FoundationElement extends FASTElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this._presentation = void 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A property which resolves the ComponentPresentation instance</span><span class="s3">\n     </span><span class="s1">* for the current component.</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get $presentation() {</span><span class="s3">\n        </span><span class="s1">if (this._presentation === void 0) {</span><span class="s3">\n            </span><span class="s1">this._presentation = ComponentPresentation.forTag(this.tagName, this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this._presentation;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">templateChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.template !== undefined) {</span><span class="s3">\n            </span><span class="s1">this.$fastController.template = this.template;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">stylesChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.styles !== undefined) {</span><span class="s3">\n            </span><span class="s1">this.$fastController.styles = this.styles;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The connected callback for this FASTElement.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* This method is invoked by the platform whenever this FoundationElement</span><span class="s3">\n     </span><span class="s1">* becomes connected to the document.</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">if (this.$presentation !== null) {</span><span class="s3">\n            </span><span class="s1">this.$presentation.applyTo(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Defines an element registry function with a set of element definition defaults.</span><span class="s3">\n     </span><span class="s1">* @param elementDefinition - The definition of the element to create the registry</span><span class="s3">\n     </span><span class="s1">* function for.</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static compose(elementDefinition) {</span><span class="s3">\n        </span><span class="s1">return (overrideDefinition = {}) =&gt; new FoundationElementRegistry(this === FoundationElement</span><span class="s3">\n            </span><span class="s1">? class extends FoundationElement {</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">: this, elementDefinition, overrideDefinition);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], FoundationElement.prototype, </span><span class="s3">\&quot;</span><span class="s1">template</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], FoundationElement.prototype, </span><span class="s3">\&quot;</span><span class="s1">styles</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">function resolveOption(option, context, definition) {</span><span class="s3">\n    </span><span class="s1">if (typeof option === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return option(context, definition);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return option;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Registry capable of defining presentation properties for a DOM Container hierarchy.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">/* eslint-disable @typescript-eslint/no-unused-vars */</span><span class="s3">\n</span><span class="s1">export class FoundationElementRegistry {</span><span class="s3">\n    </span><span class="s1">constructor(type, elementDefinition, overrideDefinition) {</span><span class="s3">\n        </span><span class="s1">this.type = type;</span><span class="s3">\n        </span><span class="s1">this.elementDefinition = elementDefinition;</span><span class="s3">\n        </span><span class="s1">this.overrideDefinition = overrideDefinition;</span><span class="s3">\n        </span><span class="s1">this.definition = Object.assign(Object.assign({}, this.elementDefinition), this.overrideDefinition);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">register(container, context) {</span><span class="s3">\n        </span><span class="s1">const definition = this.definition;</span><span class="s3">\n        </span><span class="s1">const overrideDefinition = this.overrideDefinition;</span><span class="s3">\n        </span><span class="s1">const prefix = definition.prefix || context.elementPrefix;</span><span class="s3">\n        </span><span class="s1">const name = `${prefix}-${definition.baseName}`;</span><span class="s3">\n        </span><span class="s1">context.tryDefineElement({</span><span class="s3">\n            </span><span class="s1">name,</span><span class="s3">\n            </span><span class="s1">type: this.type,</span><span class="s3">\n            </span><span class="s1">baseClass: this.elementDefinition.baseClass,</span><span class="s3">\n            </span><span class="s1">callback: x =&gt; {</span><span class="s3">\n                </span><span class="s1">const presentation = new DefaultComponentPresentation(resolveOption(definition.template, x, definition), resolveOption(definition.styles, x, definition));</span><span class="s3">\n                </span><span class="s1">x.definePresentation(presentation);</span><span class="s3">\n                </span><span class="s1">let shadowOptions = resolveOption(definition.shadowOptions, x, definition);</span><span class="s3">\n                </span><span class="s1">if (x.shadowRootMode) {</span><span class="s3">\n                    </span><span class="s1">// If the design system has overridden the shadow root mode, we need special handling.</span><span class="s3">\n                    </span><span class="s1">if (shadowOptions) {</span><span class="s3">\n                        </span><span class="s1">// If there are shadow options present in the definition, then</span><span class="s3">\n                        </span><span class="s1">// either the component itself has specified an option or the</span><span class="s3">\n                        </span><span class="s1">// registry function has overridden it.</span><span class="s3">\n                        </span><span class="s1">if (!overrideDefinition.shadowOptions) {</span><span class="s3">\n                            </span><span class="s1">// There were shadow options provided by the component and not overridden by</span><span class="s3">\n                            </span><span class="s1">// the registry.</span><span class="s3">\n                            </span><span class="s1">shadowOptions.mode = x.shadowRootMode;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else if (shadowOptions !== null) {</span><span class="s3">\n                        </span><span class="s1">// If the component author did not provide shadow options,</span><span class="s3">\n                        </span><span class="s1">// and did not null them out (light dom opt-in) then they</span><span class="s3">\n                        </span><span class="s1">// were relying on the FASTElement default. So, if the</span><span class="s3">\n                        </span><span class="s1">// design system provides a mode, we need to create the options</span><span class="s3">\n                        </span><span class="s1">// to override the default.</span><span class="s3">\n                        </span><span class="s1">shadowOptions = { mode: x.shadowRootMode };</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">x.defineElement({</span><span class="s3">\n                    </span><span class="s1">elementOptions: resolveOption(definition.elementOptions, x, definition),</span><span class="s3">\n                    </span><span class="s1">shadowOptions,</span><span class="s3">\n                    </span><span class="s1">attributes: resolveOption(definition.attributes, x, definition),</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/* eslint-enable @typescript-eslint/no-unused-vars */</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { DOM } from </span><span class="s3">\&quot;</span><span class="s1">../dom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Instructs the template engine to apply behavior to a node.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class HTMLDirective {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The index of the DOM node to which the created behavior will apply.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.targetIndex = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A {@link HTMLDirective} that targets a named attribute or property on a node.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class TargetedHTMLDirective extends HTMLDirective {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Creates a placeholder string based on the directive's index within the template.</span><span class="s3">\n         </span><span class="s1">* @param index - The index of the directive within the template.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.createPlaceholder = DOM.createInterpolationPlaceholder;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A directive that attaches special behavior to an element via a custom attribute.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class AttachedBehaviorHTMLDirective extends HTMLDirective {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param name - The name of the behavior; used as a custom attribute on the element.</span><span class="s3">\n     </span><span class="s1">* @param behavior - The behavior to instantiate and attach to the element.</span><span class="s3">\n     </span><span class="s1">* @param options - Options to pass to the behavior during creation.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(name, behavior, options) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this.name = name;</span><span class="s3">\n        </span><span class="s1">this.behavior = behavior;</span><span class="s3">\n        </span><span class="s1">this.options = options;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a placeholder string based on the directive's index within the template.</span><span class="s3">\n     </span><span class="s1">* @param index - The index of the directive within the template.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Creates a custom attribute placeholder.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createPlaceholder(index) {</span><span class="s3">\n        </span><span class="s1">return DOM.createCustomAttributePlaceholder(this.name, index);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a behavior for the provided target node.</span><span class="s3">\n     </span><span class="s1">* @param target - The node instance to create the behavior for.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Creates an instance of the `behavior` type this directive was constructed with</span><span class="s3">\n     </span><span class="s1">* and passes the target and options to that `behavior`'s constructor.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createBehavior(target) {</span><span class="s3">\n        </span><span class="s1">return new this.behavior(target, this.options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { DOM } from </span><span class="s3">\&quot;</span><span class="s1">../dom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ExecutionContext, Observable, } from </span><span class="s3">\&quot;</span><span class="s1">../observation/observable.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { TargetedHTMLDirective } from </span><span class="s3">\&quot;</span><span class="s1">./html-directive.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function normalBind(source, context) {</span><span class="s3">\n    </span><span class="s1">this.source = source;</span><span class="s3">\n    </span><span class="s1">this.context = context;</span><span class="s3">\n    </span><span class="s1">if (this.bindingObserver === null) {</span><span class="s3">\n        </span><span class="s1">this.bindingObserver = Observable.binding(this.binding, this, this.isBindingVolatile);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.updateTarget(this.bindingObserver.observe(source, context));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function triggerBind(source, context) {</span><span class="s3">\n    </span><span class="s1">this.source = source;</span><span class="s3">\n    </span><span class="s1">this.context = context;</span><span class="s3">\n    </span><span class="s1">this.target.addEventListener(this.targetName, this);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function normalUnbind() {</span><span class="s3">\n    </span><span class="s1">this.bindingObserver.disconnect();</span><span class="s3">\n    </span><span class="s1">this.source = null;</span><span class="s3">\n    </span><span class="s1">this.context = null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function contentUnbind() {</span><span class="s3">\n    </span><span class="s1">this.bindingObserver.disconnect();</span><span class="s3">\n    </span><span class="s1">this.source = null;</span><span class="s3">\n    </span><span class="s1">this.context = null;</span><span class="s3">\n    </span><span class="s1">const view = this.target.$fastView;</span><span class="s3">\n    </span><span class="s1">if (view !== void 0 &amp;&amp; view.isComposed) {</span><span class="s3">\n        </span><span class="s1">view.unbind();</span><span class="s3">\n        </span><span class="s1">view.needsBindOnly = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function triggerUnbind() {</span><span class="s3">\n    </span><span class="s1">this.target.removeEventListener(this.targetName, this);</span><span class="s3">\n    </span><span class="s1">this.source = null;</span><span class="s3">\n    </span><span class="s1">this.context = null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function updateAttributeTarget(value) {</span><span class="s3">\n    </span><span class="s1">DOM.setAttribute(this.target, this.targetName, value);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function updateBooleanAttributeTarget(value) {</span><span class="s3">\n    </span><span class="s1">DOM.setBooleanAttribute(this.target, this.targetName, value);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function updateContentTarget(value) {</span><span class="s3">\n    </span><span class="s1">// If there's no actual value, then this equates to the</span><span class="s3">\n    </span><span class="s1">// empty string for the purposes of content bindings.</span><span class="s3">\n    </span><span class="s1">if (value === null || value === undefined) {</span><span class="s3">\n        </span><span class="s1">value = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// If the value has a </span><span class="s3">\&quot;</span><span class="s1">create</span><span class="s3">\&quot; </span><span class="s1">method, then it's a template-like.</span><span class="s3">\n    </span><span class="s1">if (value.create) {</span><span class="s3">\n        </span><span class="s1">this.target.textContent = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">let view = this.target.$fastView;</span><span class="s3">\n        </span><span class="s1">// If there's no previous view that we might be able to</span><span class="s3">\n        </span><span class="s1">// reuse then create a new view from the template.</span><span class="s3">\n        </span><span class="s1">if (view === void 0) {</span><span class="s3">\n            </span><span class="s1">view = value.create();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">// If there is a previous view, but it wasn't created</span><span class="s3">\n            </span><span class="s1">// from the same template as the new value, then we</span><span class="s3">\n            </span><span class="s1">// need to remove the old view if it's still in the DOM</span><span class="s3">\n            </span><span class="s1">// and create a new view from the template.</span><span class="s3">\n            </span><span class="s1">if (this.target.$fastTemplate !== value) {</span><span class="s3">\n                </span><span class="s1">if (view.isComposed) {</span><span class="s3">\n                    </span><span class="s1">view.remove();</span><span class="s3">\n                    </span><span class="s1">view.unbind();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">view = value.create();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// It's possible that the value is the same as the previous template</span><span class="s3">\n        </span><span class="s1">// and that there's actually no need to compose it.</span><span class="s3">\n        </span><span class="s1">if (!view.isComposed) {</span><span class="s3">\n            </span><span class="s1">view.isComposed = true;</span><span class="s3">\n            </span><span class="s1">view.bind(this.source, this.context);</span><span class="s3">\n            </span><span class="s1">view.insertBefore(this.target);</span><span class="s3">\n            </span><span class="s1">this.target.$fastView = view;</span><span class="s3">\n            </span><span class="s1">this.target.$fastTemplate = value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (view.needsBindOnly) {</span><span class="s3">\n            </span><span class="s1">view.needsBindOnly = false;</span><span class="s3">\n            </span><span class="s1">view.bind(this.source, this.context);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">const view = this.target.$fastView;</span><span class="s3">\n        </span><span class="s1">// If there is a view and it's currently composed into</span><span class="s3">\n        </span><span class="s1">// the DOM, then we need to remove it.</span><span class="s3">\n        </span><span class="s1">if (view !== void 0 &amp;&amp; view.isComposed) {</span><span class="s3">\n            </span><span class="s1">view.isComposed = false;</span><span class="s3">\n            </span><span class="s1">view.remove();</span><span class="s3">\n            </span><span class="s1">if (view.needsBindOnly) {</span><span class="s3">\n                </span><span class="s1">view.needsBindOnly = false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">view.unbind();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.target.textContent = value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function updatePropertyTarget(value) {</span><span class="s3">\n    </span><span class="s1">this.target[this.targetName] = value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function updateClassTarget(value) {</span><span class="s3">\n    </span><span class="s1">const classVersions = this.classVersions || Object.create(null);</span><span class="s3">\n    </span><span class="s1">const target = this.target;</span><span class="s3">\n    </span><span class="s1">let version = this.version || 0;</span><span class="s3">\n    </span><span class="s1">// Add the classes, tracking the version at which they were added.</span><span class="s3">\n    </span><span class="s1">if (value !== null &amp;&amp; value !== undefined &amp;&amp; value.length) {</span><span class="s3">\n        </span><span class="s1">const names = value.split(/</span><span class="s3">\\</span><span class="s1">s+/);</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = names.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">const currentName = names[i];</span><span class="s3">\n            </span><span class="s1">if (currentName === </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">classVersions[currentName] = version;</span><span class="s3">\n            </span><span class="s1">target.classList.add(currentName);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this.classVersions = classVersions;</span><span class="s3">\n    </span><span class="s1">this.version = version + 1;</span><span class="s3">\n    </span><span class="s1">// If this is the first call to add classes, there's no need to remove old ones.</span><span class="s3">\n    </span><span class="s1">if (version === 0) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Remove classes from the previous version.</span><span class="s3">\n    </span><span class="s1">version -= 1;</span><span class="s3">\n    </span><span class="s1">for (const name in classVersions) {</span><span class="s3">\n        </span><span class="s1">if (classVersions[name] === version) {</span><span class="s3">\n            </span><span class="s1">target.classList.remove(name);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A directive that configures data binding to element content and attributes.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class HTMLBindingDirective extends TargetedHTMLDirective {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of BindingDirective.</span><span class="s3">\n     </span><span class="s1">* @param binding - A binding that returns the data used to update the DOM.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(binding) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this.binding = binding;</span><span class="s3">\n        </span><span class="s1">this.bind = normalBind;</span><span class="s3">\n        </span><span class="s1">this.unbind = normalUnbind;</span><span class="s3">\n        </span><span class="s1">this.updateTarget = updateAttributeTarget;</span><span class="s3">\n        </span><span class="s1">this.isBindingVolatile = Observable.isVolatileBinding(this.binding);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets/sets the name of the attribute or property that this</span><span class="s3">\n     </span><span class="s1">* binding is targeting.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get targetName() {</span><span class="s3">\n        </span><span class="s1">return this.originalTargetName;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set targetName(value) {</span><span class="s3">\n        </span><span class="s1">this.originalTargetName = value;</span><span class="s3">\n        </span><span class="s1">if (value === void 0) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">switch (value[0]) {</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                </span><span class="s1">this.cleanedTargetName = value.substr(1);</span><span class="s3">\n                </span><span class="s1">this.updateTarget = updatePropertyTarget;</span><span class="s3">\n                </span><span class="s1">if (this.cleanedTargetName === </span><span class="s3">\&quot;</span><span class="s1">innerHTML</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">const binding = this.binding;</span><span class="s3">\n                    </span><span class="s1">this.binding = (s, c) =&gt; DOM.createHTML(binding(s, c));</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">?</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                </span><span class="s1">this.cleanedTargetName = value.substr(1);</span><span class="s3">\n                </span><span class="s1">this.updateTarget = updateBooleanAttributeTarget;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">@</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                </span><span class="s1">this.cleanedTargetName = value.substr(1);</span><span class="s3">\n                </span><span class="s1">this.bind = triggerBind;</span><span class="s3">\n                </span><span class="s1">this.unbind = triggerUnbind;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">this.cleanedTargetName = value;</span><span class="s3">\n                </span><span class="s1">if (value === </span><span class="s3">\&quot;</span><span class="s1">class</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">this.updateTarget = updateClassTarget;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Makes this binding target the content of an element rather than</span><span class="s3">\n     </span><span class="s1">* a particular attribute or property.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">targetAtContent() {</span><span class="s3">\n        </span><span class="s1">this.updateTarget = updateContentTarget;</span><span class="s3">\n        </span><span class="s1">this.unbind = contentUnbind;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates the runtime BindingBehavior instance based on the configuration</span><span class="s3">\n     </span><span class="s1">* information stored in the BindingDirective.</span><span class="s3">\n     </span><span class="s1">* @param target - The target node that the binding behavior should attach to.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createBehavior(target) {</span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-use-before-define */</span><span class="s3">\n        </span><span class="s1">return new BindingBehavior(target, this.binding, this.isBindingVolatile, this.bind, this.unbind, this.updateTarget, this.cleanedTargetName);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A behavior that updates content and attributes based on a configured</span><span class="s3">\n </span><span class="s1">* BindingDirective.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class BindingBehavior {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of BindingBehavior.</span><span class="s3">\n     </span><span class="s1">* @param target - The target of the data updates.</span><span class="s3">\n     </span><span class="s1">* @param binding - The binding that returns the latest value for an update.</span><span class="s3">\n     </span><span class="s1">* @param isBindingVolatile - Indicates whether the binding has volatile dependencies.</span><span class="s3">\n     </span><span class="s1">* @param bind - The operation to perform during binding.</span><span class="s3">\n     </span><span class="s1">* @param unbind - The operation to perform during unbinding.</span><span class="s3">\n     </span><span class="s1">* @param updateTarget - The operation to perform when updating.</span><span class="s3">\n     </span><span class="s1">* @param targetName - The name of the target attribute or property to update.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(target, binding, isBindingVolatile, bind, unbind, updateTarget, targetName) {</span><span class="s3">\n        </span><span class="s1">/** @internal */</span><span class="s3">\n        </span><span class="s1">this.source = null;</span><span class="s3">\n        </span><span class="s1">/** @internal */</span><span class="s3">\n        </span><span class="s1">this.context = null;</span><span class="s3">\n        </span><span class="s1">/** @internal */</span><span class="s3">\n        </span><span class="s1">this.bindingObserver = null;</span><span class="s3">\n        </span><span class="s1">this.target = target;</span><span class="s3">\n        </span><span class="s1">this.binding = binding;</span><span class="s3">\n        </span><span class="s1">this.isBindingVolatile = isBindingVolatile;</span><span class="s3">\n        </span><span class="s1">this.bind = bind;</span><span class="s3">\n        </span><span class="s1">this.unbind = unbind;</span><span class="s3">\n        </span><span class="s1">this.updateTarget = updateTarget;</span><span class="s3">\n        </span><span class="s1">this.targetName = targetName;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** @internal */</span><span class="s3">\n    </span><span class="s1">handleChange() {</span><span class="s3">\n        </span><span class="s1">this.updateTarget(this.bindingObserver.observe(this.source, this.context));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** @internal */</span><span class="s3">\n    </span><span class="s1">handleEvent(event) {</span><span class="s3">\n        </span><span class="s1">ExecutionContext.setEvent(event);</span><span class="s3">\n        </span><span class="s1">const result = this.binding(this.source, this.context);</span><span class="s3">\n        </span><span class="s1">ExecutionContext.setEvent(null);</span><span class="s3">\n        </span><span class="s1">if (result !== true) {</span><span class="s3">\n            </span><span class="s1">event.preventDefault();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { _interpolationEnd, _interpolationStart, DOM } from </span><span class="s3">\&quot;</span><span class="s1">../dom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { HTMLBindingDirective } from </span><span class="s3">\&quot;</span><span class="s1">./binding.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">let sharedContext = null;</span><span class="s3">\n</span><span class="s1">class CompilationContext {</span><span class="s3">\n    </span><span class="s1">addFactory(factory) {</span><span class="s3">\n        </span><span class="s1">factory.targetIndex = this.targetIndex;</span><span class="s3">\n        </span><span class="s1">this.behaviorFactories.push(factory);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">captureContentBinding(directive) {</span><span class="s3">\n        </span><span class="s1">directive.targetAtContent();</span><span class="s3">\n        </span><span class="s1">this.addFactory(directive);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">reset() {</span><span class="s3">\n        </span><span class="s1">this.behaviorFactories = [];</span><span class="s3">\n        </span><span class="s1">this.targetIndex = -1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">release() {</span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-this-alias */</span><span class="s3">\n        </span><span class="s1">sharedContext = this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">static borrow(directives) {</span><span class="s3">\n        </span><span class="s1">const shareable = sharedContext || new CompilationContext();</span><span class="s3">\n        </span><span class="s1">shareable.directives = directives;</span><span class="s3">\n        </span><span class="s1">shareable.reset();</span><span class="s3">\n        </span><span class="s1">sharedContext = null;</span><span class="s3">\n        </span><span class="s1">return shareable;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function createAggregateBinding(parts) {</span><span class="s3">\n    </span><span class="s1">if (parts.length === 1) {</span><span class="s3">\n        </span><span class="s1">return parts[0];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let targetName;</span><span class="s3">\n    </span><span class="s1">const partCount = parts.length;</span><span class="s3">\n    </span><span class="s1">const finalParts = parts.map((x) =&gt; {</span><span class="s3">\n        </span><span class="s1">if (typeof x === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">return () =&gt; x;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">targetName = x.targetName || targetName;</span><span class="s3">\n        </span><span class="s1">return x.binding;</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">const binding = (scope, context) =&gt; {</span><span class="s3">\n        </span><span class="s1">let output = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">for (let i = 0; i &lt; partCount; ++i) {</span><span class="s3">\n            </span><span class="s1">output += finalParts[i](scope, context);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return output;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">const directive = new HTMLBindingDirective(binding);</span><span class="s3">\n    </span><span class="s1">directive.targetName = targetName;</span><span class="s3">\n    </span><span class="s1">return directive;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const interpolationEndLength = _interpolationEnd.length;</span><span class="s3">\n</span><span class="s1">function parseContent(context, value) {</span><span class="s3">\n    </span><span class="s1">const valueParts = value.split(_interpolationStart);</span><span class="s3">\n    </span><span class="s1">if (valueParts.length === 1) {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const bindingParts = [];</span><span class="s3">\n    </span><span class="s1">for (let i = 0, ii = valueParts.length; i &lt; ii; ++i) {</span><span class="s3">\n        </span><span class="s1">const current = valueParts[i];</span><span class="s3">\n        </span><span class="s1">const index = current.indexOf(_interpolationEnd);</span><span class="s3">\n        </span><span class="s1">let literal;</span><span class="s3">\n        </span><span class="s1">if (index === -1) {</span><span class="s3">\n            </span><span class="s1">literal = current;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">const directiveIndex = parseInt(current.substring(0, index));</span><span class="s3">\n            </span><span class="s1">bindingParts.push(context.directives[directiveIndex]);</span><span class="s3">\n            </span><span class="s1">literal = current.substring(index + interpolationEndLength);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (literal !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">bindingParts.push(literal);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return bindingParts;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function compileAttributes(context, node, includeBasicValues = false) {</span><span class="s3">\n    </span><span class="s1">const attributes = node.attributes;</span><span class="s3">\n    </span><span class="s1">for (let i = 0, ii = attributes.length; i &lt; ii; ++i) {</span><span class="s3">\n        </span><span class="s1">const attr = attributes[i];</span><span class="s3">\n        </span><span class="s1">const attrValue = attr.value;</span><span class="s3">\n        </span><span class="s1">const parseResult = parseContent(context, attrValue);</span><span class="s3">\n        </span><span class="s1">let result = null;</span><span class="s3">\n        </span><span class="s1">if (parseResult === null) {</span><span class="s3">\n            </span><span class="s1">if (includeBasicValues) {</span><span class="s3">\n                </span><span class="s1">result = new HTMLBindingDirective(() =&gt; attrValue);</span><span class="s3">\n                </span><span class="s1">result.targetName = attr.name;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">result = createAggregateBinding(parseResult);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (result !== null) {</span><span class="s3">\n            </span><span class="s1">node.removeAttributeNode(attr);</span><span class="s3">\n            </span><span class="s1">i--;</span><span class="s3">\n            </span><span class="s1">ii--;</span><span class="s3">\n            </span><span class="s1">context.addFactory(result);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function compileContent(context, node, walker) {</span><span class="s3">\n    </span><span class="s1">const parseResult = parseContent(context, node.textContent);</span><span class="s3">\n    </span><span class="s1">if (parseResult !== null) {</span><span class="s3">\n        </span><span class="s1">let lastNode = node;</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = parseResult.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">const currentPart = parseResult[i];</span><span class="s3">\n            </span><span class="s1">const currentNode = i === 0</span><span class="s3">\n                </span><span class="s1">? node</span><span class="s3">\n                </span><span class="s1">: lastNode.parentNode.insertBefore(document.createTextNode(</span><span class="s3">\&quot;\&quot;</span><span class="s1">), lastNode.nextSibling);</span><span class="s3">\n            </span><span class="s1">if (typeof currentPart === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">currentNode.textContent = currentPart;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">currentNode.textContent = </span><span class="s3">\&quot; \&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">context.captureContentBinding(currentPart);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">lastNode = currentNode;</span><span class="s3">\n            </span><span class="s1">context.targetIndex++;</span><span class="s3">\n            </span><span class="s1">if (currentNode !== node) {</span><span class="s3">\n                </span><span class="s1">walker.nextNode();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">context.targetIndex--;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Compiles a template and associated directives into a raw compilation</span><span class="s3">\n </span><span class="s1">* result which include a cloneable DocumentFragment and factories capable</span><span class="s3">\n </span><span class="s1">* of attaching runtime behavior to nodes within the fragment.</span><span class="s3">\n </span><span class="s1">* @param template - The template to compile.</span><span class="s3">\n </span><span class="s1">* @param directives - The directives referenced by the template.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The template that is provided for compilation is altered in-place</span><span class="s3">\n </span><span class="s1">* and cannot be compiled again. If the original template must be preserved,</span><span class="s3">\n </span><span class="s1">* it is recommended that you clone the original and pass the clone to this API.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function compileTemplate(template, directives) {</span><span class="s3">\n    </span><span class="s1">const fragment = template.content;</span><span class="s3">\n    </span><span class="s1">// https://bugs.chromium.org/p/chromium/issues/detail?id=1111864</span><span class="s3">\n    </span><span class="s1">document.adoptNode(fragment);</span><span class="s3">\n    </span><span class="s1">const context = CompilationContext.borrow(directives);</span><span class="s3">\n    </span><span class="s1">compileAttributes(context, template, true);</span><span class="s3">\n    </span><span class="s1">const hostBehaviorFactories = context.behaviorFactories;</span><span class="s3">\n    </span><span class="s1">context.reset();</span><span class="s3">\n    </span><span class="s1">const walker = DOM.createTemplateWalker(fragment);</span><span class="s3">\n    </span><span class="s1">let node;</span><span class="s3">\n    </span><span class="s1">while ((node = walker.nextNode())) {</span><span class="s3">\n        </span><span class="s1">context.targetIndex++;</span><span class="s3">\n        </span><span class="s1">switch (node.nodeType) {</span><span class="s3">\n            </span><span class="s1">case 1: // element node</span><span class="s3">\n                </span><span class="s1">compileAttributes(context, node);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 3: // text node</span><span class="s3">\n                </span><span class="s1">compileContent(context, node, walker);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case 8: // comment</span><span class="s3">\n                </span><span class="s1">if (DOM.isMarker(node)) {</span><span class="s3">\n                    </span><span class="s1">context.addFactory(directives[DOM.extractDirectiveIndexFromMarker(node)]);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">let targetOffset = 0;</span><span class="s3">\n    </span><span class="s1">if (</span><span class="s3">\n    </span><span class="s1">// If the first node in a fragment is a marker, that means it's an unstable first node,</span><span class="s3">\n    </span><span class="s1">// because something like a when, repeat, etc. could add nodes before the marker.</span><span class="s3">\n    </span><span class="s1">// To mitigate this, we insert a stable first node. However, if we insert a node,</span><span class="s3">\n    </span><span class="s1">// that will alter the result of the TreeWalker. So, we also need to offset the target index.</span><span class="s3">\n    </span><span class="s1">DOM.isMarker(fragment.firstChild) ||</span><span class="s3">\n        </span><span class="s1">// Or if there is only one node and a directive, it means the template's content</span><span class="s3">\n        </span><span class="s1">// is *only* the directive. In that case, HTMLView.dispose() misses any nodes inserted by</span><span class="s3">\n        </span><span class="s1">// the directive. Inserting a new node ensures proper disposal of nodes added by the directive.</span><span class="s3">\n        </span><span class="s1">(fragment.childNodes.length === 1 &amp;&amp; directives.length)) {</span><span class="s3">\n        </span><span class="s1">fragment.insertBefore(document.createComment(</span><span class="s3">\&quot;\&quot;</span><span class="s1">), fragment.firstChild);</span><span class="s3">\n        </span><span class="s1">targetOffset = -1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const viewBehaviorFactories = context.behaviorFactories;</span><span class="s3">\n    </span><span class="s1">context.release();</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">fragment,</span><span class="s3">\n        </span><span class="s1">viewBehaviorFactories,</span><span class="s3">\n        </span><span class="s1">hostBehaviorFactories,</span><span class="s3">\n        </span><span class="s1">targetOffset,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// A singleton Range instance used to efficiently remove ranges of DOM nodes.</span><span class="s3">\n</span><span class="s1">// See the implementation of HTMLView below for further details.</span><span class="s3">\n</span><span class="s1">const range = document.createRange();</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The standard View implementation, which also implements ElementView and SyntheticView.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class HTMLView {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Constructs an instance of HTMLView.</span><span class="s3">\n     </span><span class="s1">* @param fragment - The html fragment that contains the nodes for this view.</span><span class="s3">\n     </span><span class="s1">* @param behaviors - The behaviors to be applied to this view.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(fragment, behaviors) {</span><span class="s3">\n        </span><span class="s1">this.fragment = fragment;</span><span class="s3">\n        </span><span class="s1">this.behaviors = behaviors;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The data that the view is bound to.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.source = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The execution context the view is running within.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.context = null;</span><span class="s3">\n        </span><span class="s1">this.firstChild = fragment.firstChild;</span><span class="s3">\n        </span><span class="s1">this.lastChild = fragment.lastChild;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Appends the view's DOM nodes to the referenced node.</span><span class="s3">\n     </span><span class="s1">* @param node - The parent node to append the view's DOM nodes to.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">appendTo(node) {</span><span class="s3">\n        </span><span class="s1">node.appendChild(this.fragment);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Inserts the view's DOM nodes before the referenced node.</span><span class="s3">\n     </span><span class="s1">* @param node - The node to insert the view's DOM before.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">insertBefore(node) {</span><span class="s3">\n        </span><span class="s1">if (this.fragment.hasChildNodes()) {</span><span class="s3">\n            </span><span class="s1">node.parentNode.insertBefore(this.fragment, node);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">const end = this.lastChild;</span><span class="s3">\n            </span><span class="s1">if (node.previousSibling === end)</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">const parentNode = node.parentNode;</span><span class="s3">\n            </span><span class="s1">let current = this.firstChild;</span><span class="s3">\n            </span><span class="s1">let next;</span><span class="s3">\n            </span><span class="s1">while (current !== end) {</span><span class="s3">\n                </span><span class="s1">next = current.nextSibling;</span><span class="s3">\n                </span><span class="s1">parentNode.insertBefore(current, node);</span><span class="s3">\n                </span><span class="s1">current = next;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">parentNode.insertBefore(end, node);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Removes the view's DOM nodes.</span><span class="s3">\n     </span><span class="s1">* The nodes are not disposed and the view can later be re-inserted.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">remove() {</span><span class="s3">\n        </span><span class="s1">const fragment = this.fragment;</span><span class="s3">\n        </span><span class="s1">const end = this.lastChild;</span><span class="s3">\n        </span><span class="s1">let current = this.firstChild;</span><span class="s3">\n        </span><span class="s1">let next;</span><span class="s3">\n        </span><span class="s1">while (current !== end) {</span><span class="s3">\n            </span><span class="s1">next = current.nextSibling;</span><span class="s3">\n            </span><span class="s1">fragment.appendChild(current);</span><span class="s3">\n            </span><span class="s1">current = next;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">fragment.appendChild(end);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Removes the view and unbinds its behaviors, disposing of DOM nodes afterward.</span><span class="s3">\n     </span><span class="s1">* Once a view has been disposed, it cannot be inserted or bound again.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">dispose() {</span><span class="s3">\n        </span><span class="s1">const parent = this.firstChild.parentNode;</span><span class="s3">\n        </span><span class="s1">const end = this.lastChild;</span><span class="s3">\n        </span><span class="s1">let current = this.firstChild;</span><span class="s3">\n        </span><span class="s1">let next;</span><span class="s3">\n        </span><span class="s1">while (current !== end) {</span><span class="s3">\n            </span><span class="s1">next = current.nextSibling;</span><span class="s3">\n            </span><span class="s1">parent.removeChild(current);</span><span class="s3">\n            </span><span class="s1">current = next;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">parent.removeChild(end);</span><span class="s3">\n        </span><span class="s1">const behaviors = this.behaviors;</span><span class="s3">\n        </span><span class="s1">const oldSource = this.source;</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = behaviors.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">behaviors[i].unbind(oldSource);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Binds a view's behaviors to its binding source.</span><span class="s3">\n     </span><span class="s1">* @param source - The binding source for the view's binding behaviors.</span><span class="s3">\n     </span><span class="s1">* @param context - The execution context to run the behaviors within.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bind(source, context) {</span><span class="s3">\n        </span><span class="s1">const behaviors = this.behaviors;</span><span class="s3">\n        </span><span class="s1">if (this.source === source) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (this.source !== null) {</span><span class="s3">\n            </span><span class="s1">const oldSource = this.source;</span><span class="s3">\n            </span><span class="s1">this.source = source;</span><span class="s3">\n            </span><span class="s1">this.context = context;</span><span class="s3">\n            </span><span class="s1">for (let i = 0, ii = behaviors.length; i &lt; ii; ++i) {</span><span class="s3">\n                </span><span class="s1">const current = behaviors[i];</span><span class="s3">\n                </span><span class="s1">current.unbind(oldSource);</span><span class="s3">\n                </span><span class="s1">current.bind(source, context);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.source = source;</span><span class="s3">\n            </span><span class="s1">this.context = context;</span><span class="s3">\n            </span><span class="s1">for (let i = 0, ii = behaviors.length; i &lt; ii; ++i) {</span><span class="s3">\n                </span><span class="s1">behaviors[i].bind(source, context);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unbinds a view's behaviors from its binding source.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unbind() {</span><span class="s3">\n        </span><span class="s1">if (this.source === null) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const behaviors = this.behaviors;</span><span class="s3">\n        </span><span class="s1">const oldSource = this.source;</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = behaviors.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">behaviors[i].unbind(oldSource);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.source = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Efficiently disposes of a contiguous range of synthetic view instances.</span><span class="s3">\n     </span><span class="s1">* @param views - A contiguous range of views to be disposed.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static disposeContiguousBatch(views) {</span><span class="s3">\n        </span><span class="s1">if (views.length === 0) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">range.setStartBefore(views[0].firstChild);</span><span class="s3">\n        </span><span class="s1">range.setEndAfter(views[views.length - 1].lastChild);</span><span class="s3">\n        </span><span class="s1">range.deleteContents();</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = views.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">const view = views[i];</span><span class="s3">\n            </span><span class="s1">const behaviors = view.behaviors;</span><span class="s3">\n            </span><span class="s1">const oldSource = view.source;</span><span class="s3">\n            </span><span class="s1">for (let j = 0, jj = behaviors.length; j &lt; jj; ++j) {</span><span class="s3">\n                </span><span class="s1">behaviors[j].unbind(oldSource);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { DOM } from </span><span class="s3">\&quot;</span><span class="s1">../dom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { defaultExecutionContext } from </span><span class="s3">\&quot;</span><span class="s1">../observation/observable.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { compileTemplate } from </span><span class="s3">\&quot;</span><span class="s1">./compiler.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { HTMLView } from </span><span class="s3">\&quot;</span><span class="s1">./view.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { HTMLDirective, TargetedHTMLDirective, } from </span><span class="s3">\&quot;</span><span class="s1">./html-directive.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { HTMLBindingDirective } from </span><span class="s3">\&quot;</span><span class="s1">./binding.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A template capable of creating HTMLView instances or rendering directly to DOM.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-unused-vars */</span><span class="s3">\n</span><span class="s1">export class ViewTemplate {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of ViewTemplate.</span><span class="s3">\n     </span><span class="s1">* @param html - The html representing what this template will instantiate, including placeholders for directives.</span><span class="s3">\n     </span><span class="s1">* @param directives - The directives that will be connected to placeholders in the html.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(html, directives) {</span><span class="s3">\n        </span><span class="s1">this.behaviorCount = 0;</span><span class="s3">\n        </span><span class="s1">this.hasHostBehaviors = false;</span><span class="s3">\n        </span><span class="s1">this.fragment = null;</span><span class="s3">\n        </span><span class="s1">this.targetOffset = 0;</span><span class="s3">\n        </span><span class="s1">this.viewBehaviorFactories = null;</span><span class="s3">\n        </span><span class="s1">this.hostBehaviorFactories = null;</span><span class="s3">\n        </span><span class="s1">this.html = html;</span><span class="s3">\n        </span><span class="s1">this.directives = directives;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an HTMLView instance based on this template definition.</span><span class="s3">\n     </span><span class="s1">* @param hostBindingTarget - The element that host behaviors will be bound to.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">create(hostBindingTarget) {</span><span class="s3">\n        </span><span class="s1">if (this.fragment === null) {</span><span class="s3">\n            </span><span class="s1">let template;</span><span class="s3">\n            </span><span class="s1">const html = this.html;</span><span class="s3">\n            </span><span class="s1">if (typeof html === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">template = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">template</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">template.innerHTML = DOM.createHTML(html);</span><span class="s3">\n                </span><span class="s1">const fec = template.content.firstElementChild;</span><span class="s3">\n                </span><span class="s1">if (fec !== null &amp;&amp; fec.tagName === </span><span class="s3">\&quot;</span><span class="s1">TEMPLATE</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">template = fec;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">template = html;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const result = compileTemplate(template, this.directives);</span><span class="s3">\n            </span><span class="s1">this.fragment = result.fragment;</span><span class="s3">\n            </span><span class="s1">this.viewBehaviorFactories = result.viewBehaviorFactories;</span><span class="s3">\n            </span><span class="s1">this.hostBehaviorFactories = result.hostBehaviorFactories;</span><span class="s3">\n            </span><span class="s1">this.targetOffset = result.targetOffset;</span><span class="s3">\n            </span><span class="s1">this.behaviorCount =</span><span class="s3">\n                </span><span class="s1">this.viewBehaviorFactories.length + this.hostBehaviorFactories.length;</span><span class="s3">\n            </span><span class="s1">this.hasHostBehaviors = this.hostBehaviorFactories.length &gt; 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const fragment = this.fragment.cloneNode(true);</span><span class="s3">\n        </span><span class="s1">const viewFactories = this.viewBehaviorFactories;</span><span class="s3">\n        </span><span class="s1">const behaviors = new Array(this.behaviorCount);</span><span class="s3">\n        </span><span class="s1">const walker = DOM.createTemplateWalker(fragment);</span><span class="s3">\n        </span><span class="s1">let behaviorIndex = 0;</span><span class="s3">\n        </span><span class="s1">let targetIndex = this.targetOffset;</span><span class="s3">\n        </span><span class="s1">let node = walker.nextNode();</span><span class="s3">\n        </span><span class="s1">for (let ii = viewFactories.length; behaviorIndex &lt; ii; ++behaviorIndex) {</span><span class="s3">\n            </span><span class="s1">const factory = viewFactories[behaviorIndex];</span><span class="s3">\n            </span><span class="s1">const factoryIndex = factory.targetIndex;</span><span class="s3">\n            </span><span class="s1">while (node !== null) {</span><span class="s3">\n                </span><span class="s1">if (targetIndex === factoryIndex) {</span><span class="s3">\n                    </span><span class="s1">behaviors[behaviorIndex] = factory.createBehavior(node);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">node = walker.nextNode();</span><span class="s3">\n                    </span><span class="s1">targetIndex++;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.hasHostBehaviors) {</span><span class="s3">\n            </span><span class="s1">const hostFactories = this.hostBehaviorFactories;</span><span class="s3">\n            </span><span class="s1">for (let i = 0, ii = hostFactories.length; i &lt; ii; ++i, ++behaviorIndex) {</span><span class="s3">\n                </span><span class="s1">behaviors[behaviorIndex] = hostFactories[i].createBehavior(hostBindingTarget);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return new HTMLView(fragment, behaviors);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an HTMLView from this template, binds it to the source, and then appends it to the host.</span><span class="s3">\n     </span><span class="s1">* @param source - The data source to bind the template to.</span><span class="s3">\n     </span><span class="s1">* @param host - The Element where the template will be rendered.</span><span class="s3">\n     </span><span class="s1">* @param hostBindingTarget - An HTML element to target the host bindings at if different from the</span><span class="s3">\n     </span><span class="s1">* host that the template is being attached to.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">render(source, host, hostBindingTarget) {</span><span class="s3">\n        </span><span class="s1">if (typeof host === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">host = document.getElementById(host);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (hostBindingTarget === void 0) {</span><span class="s3">\n            </span><span class="s1">hostBindingTarget = host;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const view = this.create(hostBindingTarget);</span><span class="s3">\n        </span><span class="s1">view.bind(source, defaultExecutionContext);</span><span class="s3">\n        </span><span class="s1">view.appendTo(host);</span><span class="s3">\n        </span><span class="s1">return view;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">// Much thanks to LitHTML for working this out!</span><span class="s3">\n</span><span class="s1">const lastAttributeNameRegex = </span><span class="s3">\n</span><span class="s1">/* eslint-disable-next-line no-control-regex */</span><span class="s3">\n</span><span class="s1">/([ </span><span class="s3">\\</span><span class="s1">x09</span><span class="s3">\\</span><span class="s1">x0a</span><span class="s3">\\</span><span class="s1">x0c</span><span class="s3">\\</span><span class="s1">x0d])([^</span><span class="s3">\\</span><span class="s1">0-</span><span class="s3">\\</span><span class="s1">x1F</span><span class="s3">\\</span><span class="s1">x7F-</span><span class="s3">\\</span><span class="s1">x9F </span><span class="s3">\&quot;</span><span class="s1">'&gt;=/]+)([ </span><span class="s3">\\</span><span class="s1">x09</span><span class="s3">\\</span><span class="s1">x0a</span><span class="s3">\\</span><span class="s1">x0c</span><span class="s3">\\</span><span class="s1">x0d]*=[ </span><span class="s3">\\</span><span class="s1">x09</span><span class="s3">\\</span><span class="s1">x0a</span><span class="s3">\\</span><span class="s1">x0c</span><span class="s3">\\</span><span class="s1">x0d]*(?:[^ </span><span class="s3">\\</span><span class="s1">x09</span><span class="s3">\\</span><span class="s1">x0a</span><span class="s3">\\</span><span class="s1">x0c</span><span class="s3">\\</span><span class="s1">x0d</span><span class="s3">\&quot;</span><span class="s1">'`&lt;&gt;=]*|</span><span class="s3">\&quot;</span><span class="s1">[^</span><span class="s3">\&quot;</span><span class="s1">]*|'[^']*))$/;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Transforms a template literal string into a renderable ViewTemplate.</span><span class="s3">\n </span><span class="s1">* @param strings - The string fragments that are interpolated with the values.</span><span class="s3">\n </span><span class="s1">* @param values - The values that are interpolated with the string fragments.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The html helper supports interpolation of strings, numbers, binding expressions,</span><span class="s3">\n </span><span class="s1">* other template instances, and Directive instances.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function html(strings, ...values) {</span><span class="s3">\n    </span><span class="s1">const directives = [];</span><span class="s3">\n    </span><span class="s1">let html = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">for (let i = 0, ii = strings.length - 1; i &lt; ii; ++i) {</span><span class="s3">\n        </span><span class="s1">const currentString = strings[i];</span><span class="s3">\n        </span><span class="s1">let value = values[i];</span><span class="s3">\n        </span><span class="s1">html += currentString;</span><span class="s3">\n        </span><span class="s1">if (value instanceof ViewTemplate) {</span><span class="s3">\n            </span><span class="s1">const template = value;</span><span class="s3">\n            </span><span class="s1">value = () =&gt; template;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (typeof value === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">value = new HTMLBindingDirective(value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (value instanceof TargetedHTMLDirective) {</span><span class="s3">\n            </span><span class="s1">const match = lastAttributeNameRegex.exec(currentString);</span><span class="s3">\n            </span><span class="s1">if (match !== null) {</span><span class="s3">\n                </span><span class="s1">value.targetName = match[2];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (value instanceof HTMLDirective) {</span><span class="s3">\n            </span><span class="s1">// Since not all values are directives, we can't use i</span><span class="s3">\n            </span><span class="s1">// as the index for the placeholder. Instead, we need to</span><span class="s3">\n            </span><span class="s1">// use directives.length to get the next index.</span><span class="s3">\n            </span><span class="s1">html += value.createPlaceholder(directives.length);</span><span class="s3">\n            </span><span class="s1">directives.push(value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">html += value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">html += strings[strings.length - 1];</span><span class="s3">\n    </span><span class="s1">return new ViewTemplate(html, directives);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { AttachedBehaviorHTMLDirective } from </span><span class="s3">\&quot;</span><span class="s1">./html-directive.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The runtime behavior for template references.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class RefBehavior {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of RefBehavior.</span><span class="s3">\n     </span><span class="s1">* @param target - The element to reference.</span><span class="s3">\n     </span><span class="s1">* @param propertyName - The name of the property to assign the reference to.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(target, propertyName) {</span><span class="s3">\n        </span><span class="s1">this.target = target;</span><span class="s3">\n        </span><span class="s1">this.propertyName = propertyName;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Bind this behavior to the source.</span><span class="s3">\n     </span><span class="s1">* @param source - The source to bind to.</span><span class="s3">\n     </span><span class="s1">* @param context - The execution context that the binding is operating within.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bind(source) {</span><span class="s3">\n        </span><span class="s1">source[this.propertyName] = this.target;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unbinds this behavior from the source.</span><span class="s3">\n     </span><span class="s1">* @param source - The source to unbind from.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-empty-function */</span><span class="s3">\n    </span><span class="s1">unbind() { }</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A directive that observes the updates a property with a reference to the element.</span><span class="s3">\n </span><span class="s1">* @param propertyName - The name of the property to assign the reference to.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function ref(propertyName) {</span><span class="s3">\n    </span><span class="s1">return new AttachedBehaviorHTMLDirective(</span><span class="s3">\&quot;</span><span class="s1">fast-ref</span><span class="s3">\&quot;</span><span class="s1">, RefBehavior, propertyName);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A mixin class implementing start and end elements.</span><span class="s3">\n </span><span class="s1">* These are generally used to decorate text elements with icons or other visual indicators.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class StartEnd {</span><span class="s3">\n    </span><span class="s1">handleStartContentChange() {</span><span class="s3">\n        </span><span class="s1">this.startContainer.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">, this.start.assignedNodes().length &gt; 0);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleEndContentChange() {</span><span class="s3">\n        </span><span class="s1">this.endContainer.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">, this.end.assignedNodes().length &gt; 0);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the end element.</span><span class="s3">\n </span><span class="s1">* For use with {@link StartEnd}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const endSlotTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;span</span><span class="s3">\n        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;\n        </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">endContainer</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n        </span><span class="s1">class=${x =&gt; (definition.end ? </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot; </span><span class="s1">: void 0)}</span><span class="s3">\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot; </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">)} @slotchange=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleEndContentChange()}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">${definition.end || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the start element.</span><span class="s3">\n </span><span class="s1">* For use with {@link StartEnd}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const startSlotTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;span</span><span class="s3">\n        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;\n        </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">startContainer</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (definition.start ? </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot; </span><span class="s1">: void 0)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot</span><span class="s3">\n            </span><span class="s1">name=</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;\n            </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n            </span><span class="s1">@slotchange=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleStartContentChange()}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">${definition.start || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the end element.</span><span class="s3">\n </span><span class="s1">* For use with {@link StartEnd}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @deprecated - use endSlotTemplate</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const endTemplate = html `</span><span class="s3">\n    </span><span class="s1">&lt;span part=</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot; </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">endContainer</span><span class="s3">\&quot;</span><span class="s1">)}&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot</span><span class="s3">\n            </span><span class="s1">name=</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;\n            </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n            </span><span class="s1">@slotchange=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleEndContentChange()}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the start element.</span><span class="s3">\n </span><span class="s1">* For use with {@link StartEnd}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @deprecated - use startSlotTemplate</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const startTemplate = html `</span><span class="s3">\n    </span><span class="s1">&lt;span part=</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot; </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">startContainer</span><span class="s3">\&quot;</span><span class="s1">)}&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot</span><span class="s3">\n            </span><span class="s1">name=</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;\n            </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n            </span><span class="s1">@slotchange=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleStartContentChange()}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { AttributeConfiguration } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Apply mixins to a constructor.</span><span class="s3">\n </span><span class="s1">* Sourced from {@link https://www.typescriptlang.org/docs/handbook/mixins.html | TypeScript Documentation }.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function applyMixins(derivedCtor, ...baseCtors) {</span><span class="s3">\n    </span><span class="s1">const derivedAttributes = AttributeConfiguration.locate(derivedCtor);</span><span class="s3">\n    </span><span class="s1">baseCtors.forEach(baseCtor =&gt; {</span><span class="s3">\n        </span><span class="s1">Object.getOwnPropertyNames(baseCtor.prototype).forEach(name =&gt; {</span><span class="s3">\n            </span><span class="s1">if (name !== </span><span class="s3">\&quot;</span><span class="s1">constructor</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">Object.defineProperty(derivedCtor.prototype, name, </span><span class="s3">\n                </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n                </span><span class="s1">Object.getOwnPropertyDescriptor(baseCtor.prototype, name));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">const baseAttributes = AttributeConfiguration.locate(baseCtor);</span><span class="s3">\n        </span><span class="s1">baseAttributes.forEach(x =&gt; derivedAttributes.push(x));</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, nullableNumberConverter, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement, } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { StartEnd } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An individual item in an {@link @microsoft/fast-foundation#(Accordion:class) }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided between the heading and the icon</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided between the start slot and icon</span><span class="s3">\n </span><span class="s1">* @slot heading - Content which serves as the accordion item heading and text of the expand button</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for accordion item content</span><span class="s3">\n </span><span class="s1">* @slot expanded-icon - The expanded icon</span><span class="s3">\n </span><span class="s1">* @slot collapsed-icon - The collapsed icon</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the button is invoked</span><span class="s3">\n </span><span class="s1">* @csspart heading - Wraps the button</span><span class="s3">\n </span><span class="s1">* @csspart button - The button which serves to invoke the item</span><span class="s3">\n </span><span class="s1">* @csspart heading-content - Wraps the slot for the heading content within the button</span><span class="s3">\n </span><span class="s1">* @csspart icon - The icon container</span><span class="s3">\n </span><span class="s1">* @csspart expanded-icon - The expanded icon slot</span><span class="s3">\n </span><span class="s1">* @csspart collapsed-icon - The collapsed icon</span><span class="s3">\n </span><span class="s1">* @csspart region - The wrapper for the accordion item content</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class AccordionItem extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Configures the {@link https://www.w3.org/TR/wai-aria-1.1/#aria-level | level} of the</span><span class="s3">\n         </span><span class="s1">* heading element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @defaultValue 2</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML attribute: heading-level</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.headinglevel = 2;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Expands or collapses the item.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML attribute: expanded</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.expanded = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.clickHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.expanded = !this.expanded;</span><span class="s3">\n            </span><span class="s1">this.change();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.change = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: </span><span class="s3">\&quot;</span><span class="s1">heading-level</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">mode: </span><span class="s3">\&quot;</span><span class="s1">fromView</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter,</span><span class="s3">\n    </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AccordionItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">headinglevel</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AccordionItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">expanded</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], AccordionItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(AccordionItem, StartEnd);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keyArrowDown, keyArrowUp, keyEnd, keyHome, wrapInBounds, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { AccordionItem } from </span><span class="s3">\&quot;</span><span class="s1">../accordion-item/accordion-item.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Expand mode for {@link Accordion}</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const AccordionExpandMode = {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Designates only a single {@link @microsoft/fast-foundation#(AccordionItem:class) } can be open a time.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">single: </span><span class="s3">\&quot;</span><span class="s1">single</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Designates multiple {@link @microsoft/fast-foundation#(AccordionItem:class) | AccordionItems} can be open simultaneously.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">multi: </span><span class="s3">\&quot;</span><span class="s1">multi</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An Accordion Custom HTML Element</span><span class="s3">\n </span><span class="s1">* Implements {@link https://www.w3.org/TR/wai-aria-practices-1.1/#accordion | ARIA Accordion}.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the active item changes</span><span class="s3">\n </span><span class="s1">* @csspart item - The slot for the accordion items</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Designed to be used with {@link @microsoft/fast-foundation#accordionTemplate} and {@link @microsoft/fast-foundation#(AccordionItem:class)}.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Accordion extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Controls the expand mode of the Accordion, either allowing</span><span class="s3">\n         </span><span class="s1">* single or multiple item expansion.</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML attribute: expand-mode</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.expandmode = AccordionExpandMode.multi;</span><span class="s3">\n        </span><span class="s1">this.activeItemIndex = 0;</span><span class="s3">\n        </span><span class="s1">this.change = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, this.activeid);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.setItems = () =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">if (this.accordionItems.length === 0) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.accordionIds = this.getItemIds();</span><span class="s3">\n            </span><span class="s1">this.accordionItems.forEach((item, index) =&gt; {</span><span class="s3">\n                </span><span class="s1">if (item instanceof AccordionItem) {</span><span class="s3">\n                    </span><span class="s1">item.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, this.activeItemChange);</span><span class="s3">\n                    </span><span class="s1">if (this.isSingleExpandMode()) {</span><span class="s3">\n                        </span><span class="s1">this.activeItemIndex !== index</span><span class="s3">\n                            </span><span class="s1">? (item.expanded = false)</span><span class="s3">\n                            </span><span class="s1">: (item.expanded = true);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">const itemId = this.accordionIds[index];</span><span class="s3">\n                </span><span class="s1">item.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, typeof itemId !== </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">? `accordion-${index + 1}` : itemId);</span><span class="s3">\n                </span><span class="s1">this.activeid = this.accordionIds[this.activeItemIndex];</span><span class="s3">\n                </span><span class="s1">item.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">, this.handleItemKeyDown);</span><span class="s3">\n                </span><span class="s1">item.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">focus</span><span class="s3">\&quot;</span><span class="s1">, this.handleItemFocus);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">if (this.isSingleExpandMode()) {</span><span class="s3">\n                </span><span class="s1">const expandedItem = (_a = this.findExpandedItem()) !== null &amp;&amp; _a !== void 0 ? _a : this.accordionItems[0];</span><span class="s3">\n                </span><span class="s1">expandedItem.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-disabled</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.removeItemListeners = (oldValue) =&gt; {</span><span class="s3">\n            </span><span class="s1">oldValue.forEach((item, index) =&gt; {</span><span class="s3">\n                </span><span class="s1">item.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, this.activeItemChange);</span><span class="s3">\n                </span><span class="s1">item.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">, this.handleItemKeyDown);</span><span class="s3">\n                </span><span class="s1">item.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">focus</span><span class="s3">\&quot;</span><span class="s1">, this.handleItemFocus);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.activeItemChange = (event) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (event.defaultPrevented || event.target !== event.currentTarget) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">event.preventDefault();</span><span class="s3">\n            </span><span class="s1">const selectedItem = event.target;</span><span class="s3">\n            </span><span class="s1">this.activeid = selectedItem.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">if (this.isSingleExpandMode()) {</span><span class="s3">\n                </span><span class="s1">this.resetItems();</span><span class="s3">\n                </span><span class="s1">selectedItem.expanded = true;</span><span class="s3">\n                </span><span class="s1">selectedItem.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-disabled</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.accordionItems.forEach((item) =&gt; {</span><span class="s3">\n                    </span><span class="s1">if (!item.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp; item.id !== this.activeid) {</span><span class="s3">\n                        </span><span class="s1">item.removeAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-disabled</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.activeItemIndex = Array.from(this.accordionItems).indexOf(selectedItem);</span><span class="s3">\n            </span><span class="s1">this.change();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.handleItemKeyDown = (event) =&gt; {</span><span class="s3">\n            </span><span class="s1">// only handle the keydown if the event target is the accordion item</span><span class="s3">\n            </span><span class="s1">// prevents arrow keys from moving focus to accordion headers when focus is on accordion item panel content</span><span class="s3">\n            </span><span class="s1">if (event.target !== event.currentTarget) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.accordionIds = this.getItemIds();</span><span class="s3">\n            </span><span class="s1">switch (event.key) {</span><span class="s3">\n                </span><span class="s1">case keyArrowUp:</span><span class="s3">\n                    </span><span class="s1">event.preventDefault();</span><span class="s3">\n                    </span><span class="s1">this.adjust(-1);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case keyArrowDown:</span><span class="s3">\n                    </span><span class="s1">event.preventDefault();</span><span class="s3">\n                    </span><span class="s1">this.adjust(1);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case keyHome:</span><span class="s3">\n                    </span><span class="s1">this.activeItemIndex = 0;</span><span class="s3">\n                    </span><span class="s1">this.focusItem();</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case keyEnd:</span><span class="s3">\n                    </span><span class="s1">this.activeItemIndex = this.accordionItems.length - 1;</span><span class="s3">\n                    </span><span class="s1">this.focusItem();</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.handleItemFocus = (event) =&gt; {</span><span class="s3">\n            </span><span class="s1">// update the active item index if the focus moves to an accordion item via a different method other than the up and down arrow key actions</span><span class="s3">\n            </span><span class="s1">// only do so if the focus is actually on the accordion item and not on any of its children</span><span class="s3">\n            </span><span class="s1">if (event.target === event.currentTarget) {</span><span class="s3">\n                </span><span class="s1">const focusedItem = event.target;</span><span class="s3">\n                </span><span class="s1">const focusedIndex = (this.activeItemIndex = Array.from(this.accordionItems).indexOf(focusedItem));</span><span class="s3">\n                </span><span class="s1">if (this.activeItemIndex !== focusedIndex &amp;&amp; focusedIndex !== -1) {</span><span class="s3">\n                    </span><span class="s1">this.activeItemIndex = focusedIndex;</span><span class="s3">\n                    </span><span class="s1">this.activeid = this.accordionIds[this.activeItemIndex];</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">accordionItemsChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.removeItemListeners(oldValue);</span><span class="s3">\n            </span><span class="s1">this.setItems();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">findExpandedItem() {</span><span class="s3">\n        </span><span class="s1">for (let item = 0; item &lt; this.accordionItems.length; item++) {</span><span class="s3">\n            </span><span class="s1">if (this.accordionItems[item].getAttribute(</span><span class="s3">\&quot;</span><span class="s1">expanded</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">return this.accordionItems[item];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">resetItems() {</span><span class="s3">\n        </span><span class="s1">this.accordionItems.forEach((item, index) =&gt; {</span><span class="s3">\n            </span><span class="s1">item.expanded = false;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getItemIds() {</span><span class="s3">\n        </span><span class="s1">return this.accordionItems.map((accordionItem) =&gt; {</span><span class="s3">\n            </span><span class="s1">return accordionItem.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">isSingleExpandMode() {</span><span class="s3">\n        </span><span class="s1">return this.expandmode === AccordionExpandMode.single;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">adjust(adjustment) {</span><span class="s3">\n        </span><span class="s1">this.activeItemIndex = wrapInBounds(0, this.accordionItems.length - 1, this.activeItemIndex + adjustment);</span><span class="s3">\n        </span><span class="s1">this.focusItem();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">focusItem() {</span><span class="s3">\n        </span><span class="s1">const element = this.accordionItems[this.activeItemIndex];</span><span class="s3">\n        </span><span class="s1">if (element instanceof AccordionItem) {</span><span class="s3">\n            </span><span class="s1">element.expandbutton.focus();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">expand-mode</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Accordion.prototype, </span><span class="s3">\&quot;</span><span class="s1">expandmode</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Accordion.prototype, </span><span class="s3">\&quot;</span><span class="s1">accordionItems</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { Observable } from </span><span class="s3">\&quot;</span><span class="s1">../observation/observable.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { emptyArray } from </span><span class="s3">\&quot;</span><span class="s1">../platform.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a function that can be used to filter a Node array, selecting only elements.</span><span class="s3">\n </span><span class="s1">* @param selector - An optional selector to restrict the filter to.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function elements(selector) {</span><span class="s3">\n    </span><span class="s1">if (selector) {</span><span class="s3">\n        </span><span class="s1">return function (value, index, array) {</span><span class="s3">\n            </span><span class="s1">return value.nodeType === 1 &amp;&amp; value.matches(selector);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return function (value, index, array) {</span><span class="s3">\n        </span><span class="s1">return value.nodeType === 1;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A base class for node observation.</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class NodeObservationBehavior {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of NodeObservationBehavior.</span><span class="s3">\n     </span><span class="s1">* @param target - The target to assign the nodes property on.</span><span class="s3">\n     </span><span class="s1">* @param options - The options to use in configuring node observation.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(target, options) {</span><span class="s3">\n        </span><span class="s1">this.target = target;</span><span class="s3">\n        </span><span class="s1">this.options = options;</span><span class="s3">\n        </span><span class="s1">this.source = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Bind this behavior to the source.</span><span class="s3">\n     </span><span class="s1">* @param source - The source to bind to.</span><span class="s3">\n     </span><span class="s1">* @param context - The execution context that the binding is operating within.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bind(source) {</span><span class="s3">\n        </span><span class="s1">const name = this.options.property;</span><span class="s3">\n        </span><span class="s1">this.shouldUpdate = Observable.getAccessors(source).some((x) =&gt; x.name === name);</span><span class="s3">\n        </span><span class="s1">this.source = source;</span><span class="s3">\n        </span><span class="s1">this.updateTarget(this.computeNodes());</span><span class="s3">\n        </span><span class="s1">if (this.shouldUpdate) {</span><span class="s3">\n            </span><span class="s1">this.observe();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unbinds this behavior from the source.</span><span class="s3">\n     </span><span class="s1">* @param source - The source to unbind from.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unbind() {</span><span class="s3">\n        </span><span class="s1">this.updateTarget(emptyArray);</span><span class="s3">\n        </span><span class="s1">this.source = null;</span><span class="s3">\n        </span><span class="s1">if (this.shouldUpdate) {</span><span class="s3">\n            </span><span class="s1">this.disconnect();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** @internal */</span><span class="s3">\n    </span><span class="s1">handleEvent() {</span><span class="s3">\n        </span><span class="s1">this.updateTarget(this.computeNodes());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">computeNodes() {</span><span class="s3">\n        </span><span class="s1">let nodes = this.getNodes();</span><span class="s3">\n        </span><span class="s1">if (this.options.filter !== void 0) {</span><span class="s3">\n            </span><span class="s1">nodes = nodes.filter(this.options.filter);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return nodes;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateTarget(value) {</span><span class="s3">\n        </span><span class="s1">this.source[this.options.property] = value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { AttachedBehaviorHTMLDirective } from </span><span class="s3">\&quot;</span><span class="s1">./html-directive.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { NodeObservationBehavior } from </span><span class="s3">\&quot;</span><span class="s1">./node-observation.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The runtime behavior for slotted node observation.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class SlottedBehavior extends NodeObservationBehavior {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of SlottedBehavior.</span><span class="s3">\n     </span><span class="s1">* @param target - The slot element target to observe.</span><span class="s3">\n     </span><span class="s1">* @param options - The options to use when observing the slot.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(target, options) {</span><span class="s3">\n        </span><span class="s1">super(target, options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Begins observation of the nodes.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">observe() {</span><span class="s3">\n        </span><span class="s1">this.target.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">slotchange</span><span class="s3">\&quot;</span><span class="s1">, this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Disconnects observation of the nodes.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnect() {</span><span class="s3">\n        </span><span class="s1">this.target.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">slotchange</span><span class="s3">\&quot;</span><span class="s1">, this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Retrieves the nodes that should be assigned to the target.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getNodes() {</span><span class="s3">\n        </span><span class="s1">return this.target.assignedNodes(this.options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A directive that observes the `assignedNodes()` of a slot and updates a property</span><span class="s3">\n </span><span class="s1">* whenever they change.</span><span class="s3">\n </span><span class="s1">* @param propertyOrOptions - The options used to configure slotted node observation.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function slotted(propertyOrOptions) {</span><span class="s3">\n    </span><span class="s1">if (typeof propertyOrOptions === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">propertyOrOptions = { property: propertyOrOptions };</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new AttachedBehaviorHTMLDirective(</span><span class="s3">\&quot;</span><span class="s1">fast-slotted</span><span class="s3">\&quot;</span><span class="s1">, SlottedBehavior, propertyOrOptions);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { elements, html, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#Accordion} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const accordionTemplate = (context, definition) =&gt; /* TODO: deprecate slot name `item` to only support default slot https://github.com/microsoft/fast/issues/5515 */ html `</span><span class="s3">\n    </span><span class="s1">&lt;template&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot ${slotted({ property: </span><span class="s3">\&quot;</span><span class="s1">accordionItems</span><span class="s3">\&quot;</span><span class="s1">, filter: elements() })}&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">item</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">item</span><span class="s3">\&quot; </span><span class="s1">${slotted(</span><span class="s3">\&quot;</span><span class="s1">accordionItems</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { CSSDirective } from </span><span class="s3">\&quot;</span><span class="s1">./css-directive.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ElementStyles } from </span><span class="s3">\&quot;</span><span class="s1">./element-styles.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function collectStyles(strings, values) {</span><span class="s3">\n    </span><span class="s1">const styles = [];</span><span class="s3">\n    </span><span class="s1">let cssString = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">const behaviors = [];</span><span class="s3">\n    </span><span class="s1">for (let i = 0, ii = strings.length - 1; i &lt; ii; ++i) {</span><span class="s3">\n        </span><span class="s1">cssString += strings[i];</span><span class="s3">\n        </span><span class="s1">let value = values[i];</span><span class="s3">\n        </span><span class="s1">if (value instanceof CSSDirective) {</span><span class="s3">\n            </span><span class="s1">const behavior = value.createBehavior();</span><span class="s3">\n            </span><span class="s1">value = value.createCSS();</span><span class="s3">\n            </span><span class="s1">if (behavior) {</span><span class="s3">\n                </span><span class="s1">behaviors.push(behavior);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (value instanceof ElementStyles || value instanceof CSSStyleSheet) {</span><span class="s3">\n            </span><span class="s1">if (cssString.trim() !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">styles.push(cssString);</span><span class="s3">\n                </span><span class="s1">cssString = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">styles.push(value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">cssString += value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">cssString += strings[strings.length - 1];</span><span class="s3">\n    </span><span class="s1">if (cssString.trim() !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">styles.push(cssString);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">styles,</span><span class="s3">\n        </span><span class="s1">behaviors,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Transforms a template literal string into styles.</span><span class="s3">\n </span><span class="s1">* @param strings - The string fragments that are interpolated with the values.</span><span class="s3">\n </span><span class="s1">* @param values - The values that are interpolated with the string fragments.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* The css helper supports interpolation of strings and ElementStyle instances.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function css(strings, ...values) {</span><span class="s3">\n    </span><span class="s1">const { styles, behaviors } = collectStyles(strings, values);</span><span class="s3">\n    </span><span class="s1">const elementStyles = ElementStyles.create(styles);</span><span class="s3">\n    </span><span class="s1">if (behaviors.length) {</span><span class="s3">\n        </span><span class="s1">elementStyles.withBehaviors(...behaviors);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return elementStyles;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">class CSSPartial extends CSSDirective {</span><span class="s3">\n    </span><span class="s1">constructor(styles, behaviors) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this.behaviors = behaviors;</span><span class="s3">\n        </span><span class="s1">this.css = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">const stylesheets = styles.reduce((accumulated, current) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (typeof current === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">this.css += current;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">accumulated.push(current);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return accumulated;</span><span class="s3">\n        </span><span class="s1">}, []);</span><span class="s3">\n        </span><span class="s1">if (stylesheets.length) {</span><span class="s3">\n            </span><span class="s1">this.styles = ElementStyles.create(stylesheets);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">createBehavior() {</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">createCSS() {</span><span class="s3">\n        </span><span class="s1">return this.css;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">bind(el) {</span><span class="s3">\n        </span><span class="s1">if (this.styles) {</span><span class="s3">\n            </span><span class="s1">el.$fastController.addStyles(this.styles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.behaviors.length) {</span><span class="s3">\n            </span><span class="s1">el.$fastController.addBehaviors(this.behaviors);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">unbind(el) {</span><span class="s3">\n        </span><span class="s1">if (this.styles) {</span><span class="s3">\n            </span><span class="s1">el.$fastController.removeStyles(this.styles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.behaviors.length) {</span><span class="s3">\n            </span><span class="s1">el.$fastController.removeBehaviors(this.behaviors);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Transforms a template literal string into partial CSS.</span><span class="s3">\n </span><span class="s1">* @param strings - The string fragments that are interpolated with the values.</span><span class="s3">\n </span><span class="s1">* @param values - The values that are interpolated with the string fragments.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function cssPartial(strings, ...values) {</span><span class="s3">\n    </span><span class="s1">const { styles, behaviors } = collectStyles(strings, values);</span><span class="s3">\n    </span><span class="s1">return new CSSPartial(styles, behaviors);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* A CSS fragment to set `display: none;` when the host is hidden using the [hidden] attribute.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const hidden = `:host([hidden]){display:none}`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Applies a CSS display property.</span><span class="s3">\n </span><span class="s1">* Also adds CSS rules to not display the element when the [hidden] attribute is applied to the element.</span><span class="s3">\n </span><span class="s1">* @param display - The CSS display property value</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function display(displayValue) {</span><span class="s3">\n    </span><span class="s1">return `${hidden}:host{display:${displayValue}}`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { bodyFont, neutralForegroundRest, neutralStrokeDividerRest, strokeWidth, typeRampMinus1FontSize, typeRampMinus1LineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Accordion</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const accordionStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${display('flex')} :host {</span><span class="s3">\n    </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n    </span><span class="s1">flex-direction: column;</span><span class="s3">\n    </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampMinus1FontSize};</span><span class="s3">\n    </span><span class="s1">line-height: ${typeRampMinus1LineHeight};</span><span class="s3">\n    </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">border-top: calc(${strokeWidth} * 1px) solid ${neutralStrokeDividerRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(AccordionItem:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const accordionItemTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.expanded ? </span><span class="s3">\&quot;</span><span class="s1">expanded</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div</span><span class="s3">\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">heading</span><span class="s3">\&quot;\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">heading</span><span class="s3">\&quot;\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">heading</span><span class="s3">\&quot;\n            </span><span class="s1">aria-level=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.headinglevel}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;button</span><span class="s3">\n                </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">button</span><span class="s3">\&quot;\n                </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">button</span><span class="s3">\&quot;\n                </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">expandbutton</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n                </span><span class="s1">aria-expanded=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.expanded}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.id}-panel</span><span class="s3">\&quot;\n                </span><span class="s1">id=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.id}</span><span class="s3">\&quot;\n                </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.clickHandler(c.event)}</span><span class="s3">\&quot;\n            </span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">heading-content</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">heading-content</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">heading</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/button&gt;</span><span class="s3">\n            </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n            </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n            </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">icon</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">icon</span><span class="s3">\&quot; </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">expanded-icon</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">expanded-icon</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">${definition.expandedIcon || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">collapsed-icon</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">collapsed-icon</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">${definition.collapsedIcon || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">&lt;span&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div</span><span class="s3">\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">region</span><span class="s3">\&quot;\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">region</span><span class="s3">\&quot;\n            </span><span class="s1">id=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.id}-panel</span><span class="s3">\&quot;\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">region</span><span class="s3">\&quot;\n            </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.id}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Checks if the DOM is available to access and use</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function canUseDOM() {</span><span class="s3">\n    </span><span class="s1">return !!(typeof window !== </span><span class="s3">\&quot;</span><span class="s1">undefined</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; window.document &amp;&amp; window.document.createElement);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { canUseDOM } from </span><span class="s3">\&quot;</span><span class="s1">exenv-es6</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A test that ensures that all arguments are HTML Elements</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isHTMLElement(...args) {</span><span class="s3">\n    </span><span class="s1">return args.every((arg) =&gt; arg instanceof HTMLElement);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Returns all displayed elements inside of a root node that match a provided selector</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function getDisplayedNodes(rootNode, selector) {</span><span class="s3">\n    </span><span class="s1">if (!rootNode || !selector || !isHTMLElement(rootNode)) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const nodes = Array.from(rootNode.querySelectorAll(selector));</span><span class="s3">\n    </span><span class="s1">// offsetParent will be null if the element isn't currently displayed,</span><span class="s3">\n    </span><span class="s1">// so this will allow us to operate only on visible nodes</span><span class="s3">\n    </span><span class="s1">return nodes.filter((node) =&gt; node.offsetParent !== null);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Gets the numeric key code associated with a keyboard event. This method is for use with DOM level 3 events</span><span class="s3">\n </span><span class="s1">* that still use the deprecated keyCode property.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function getKeyCode(event) {</span><span class="s3">\n    </span><span class="s1">return event === null ? null : event.which || event.keyCode || event.charCode;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Returns the nonce used in the page, if any.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Based on https://github.com/cssinjs/jss/blob/master/packages/jss/src/DomRenderer.js</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">function getNonce() {</span><span class="s3">\n    </span><span class="s1">const node = document.querySelector('meta[property=</span><span class="s3">\&quot;</span><span class="s1">csp-nonce</span><span class="s3">\&quot;</span><span class="s1">]');</span><span class="s3">\n    </span><span class="s1">if (node) {</span><span class="s3">\n        </span><span class="s1">return node.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Test if the document supports :focus-visible</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">let _canUseFocusVisible;</span><span class="s3">\n</span><span class="s1">export function canUseFocusVisible() {</span><span class="s3">\n    </span><span class="s1">if (typeof _canUseFocusVisible === </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return _canUseFocusVisible;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!canUseDOM()) {</span><span class="s3">\n        </span><span class="s1">_canUseFocusVisible = false;</span><span class="s3">\n        </span><span class="s1">return _canUseFocusVisible;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Check to see if the document supports the focus-visible element</span><span class="s3">\n    </span><span class="s1">const styleElement = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">style</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">// If nonces are present on the page, use it when creating the style element</span><span class="s3">\n    </span><span class="s1">// to test focus-visible support.</span><span class="s3">\n    </span><span class="s1">const styleNonce = getNonce();</span><span class="s3">\n    </span><span class="s1">if (styleNonce !== null) {</span><span class="s3">\n        </span><span class="s1">styleElement.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">nonce</span><span class="s3">\&quot;</span><span class="s1">, styleNonce);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">document.head.appendChild(styleElement);</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">styleElement.sheet.insertRule(</span><span class="s3">\&quot;</span><span class="s1">foo:focus-visible {color:inherit}</span><span class="s3">\&quot;</span><span class="s1">, 0);</span><span class="s3">\n        </span><span class="s1">_canUseFocusVisible = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (e) {</span><span class="s3">\n        </span><span class="s1">_canUseFocusVisible = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">finally {</span><span class="s3">\n        </span><span class="s1">document.head.removeChild(styleElement);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return _canUseFocusVisible;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">let _canUseCssGrid;</span><span class="s3">\n</span><span class="s1">export function canUseCssGrid() {</span><span class="s3">\n    </span><span class="s1">if (typeof _canUseCssGrid === </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return _canUseCssGrid;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">_canUseCssGrid = CSS.supports(</span><span class="s3">\&quot;</span><span class="s1">display</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">grid</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">catch (_a) {</span><span class="s3">\n        </span><span class="s1">_canUseCssGrid = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return _canUseCssGrid;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">export function canUseForcedColors() {</span><span class="s3">\n    </span><span class="s1">return (canUseDOM() &amp;&amp;</span><span class="s3">\n        </span><span class="s1">(window.matchMedia(</span><span class="s3">\&quot;</span><span class="s1">(forced-colors: none)</span><span class="s3">\&quot;</span><span class="s1">).matches ||</span><span class="s3">\n            </span><span class="s1">window.matchMedia(</span><span class="s3">\&quot;</span><span class="s1">(forced-colors: active)</span><span class="s3">\&quot;</span><span class="s1">).matches));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">export function resetDocumentCache() {</span><span class="s3">\n    </span><span class="s1">_canUseCssGrid = undefined;</span><span class="s3">\n    </span><span class="s1">_canUseFocusVisible = undefined;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @deprecated Use 'canUseForcedColors' instead</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const canUsedForcedColors = canUseForcedColors;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { canUseFocusVisible } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The string representing the focus selector to be used. Value</span><span class="s3">\n </span><span class="s1">* will be </span><span class="s3">\&quot;</span><span class="s1">focus-visible</span><span class="s3">\&quot; </span><span class="s1">when https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo</span><span class="s3">\n </span><span class="s1">* is supported and </span><span class="s3">\&quot;</span><span class="s1">focus</span><span class="s3">\&quot; </span><span class="s1">when it is not.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const focusVisible = canUseFocusVisible() ? </span><span class="s3">\&quot;</span><span class="s1">focus-visible</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">focus</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* An abstract behavior to react to media queries. Implementations should implement</span><span class="s3">\n </span><span class="s1">* the `constructListener` method to perform some action based on media query changes.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class MatchMediaBehavior {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param query - The media query to operate from.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(query) {</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The behavior needs to operate on element instances but elements might share a behavior instance.</span><span class="s3">\n         </span><span class="s1">* To ensure proper attachment / detachment per instance, we construct a listener for</span><span class="s3">\n         </span><span class="s1">* each bind invocation and cache the listeners by element reference.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.listenerCache = new WeakMap();</span><span class="s3">\n        </span><span class="s1">this.query = query;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Binds the behavior to the element.</span><span class="s3">\n     </span><span class="s1">* @param source - The element for which the behavior is bound.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bind(source) {</span><span class="s3">\n        </span><span class="s1">const { query } = this;</span><span class="s3">\n        </span><span class="s1">const listener = this.constructListener(source);</span><span class="s3">\n        </span><span class="s1">// Invoke immediately to add if the query currently matches</span><span class="s3">\n        </span><span class="s1">listener.bind(query)();</span><span class="s3">\n        </span><span class="s1">query.addListener(listener);</span><span class="s3">\n        </span><span class="s1">this.listenerCache.set(source, listener);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unbinds the behavior from the element.</span><span class="s3">\n     </span><span class="s1">* @param source - The element for which the behavior is unbinding.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unbind(source) {</span><span class="s3">\n        </span><span class="s1">const listener = this.listenerCache.get(source);</span><span class="s3">\n        </span><span class="s1">if (listener) {</span><span class="s3">\n            </span><span class="s1">this.query.removeListener(listener);</span><span class="s3">\n            </span><span class="s1">this.listenerCache.delete(source);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A behavior to add or remove a stylesheet from an element based on a media query. The behavior ensures that</span><span class="s3">\n </span><span class="s1">* styles are applied while the a query matches the environment and that styles are not applied if the query does</span><span class="s3">\n </span><span class="s1">* not match the environment.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class MatchMediaStyleSheetBehavior extends MatchMediaBehavior {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Constructs a {@link MatchMediaStyleSheetBehavior} instance.</span><span class="s3">\n     </span><span class="s1">* @param query - The media query to operate from.</span><span class="s3">\n     </span><span class="s1">* @param styles - The styles to coordinate with the query.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(query, styles) {</span><span class="s3">\n        </span><span class="s1">super(query);</span><span class="s3">\n        </span><span class="s1">this.styles = styles;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Defines a function to construct {@link MatchMediaStyleSheetBehavior | MatchMediaStyleSheetBehaviors} for</span><span class="s3">\n     </span><span class="s1">* a provided query.</span><span class="s3">\n     </span><span class="s1">* @param query - The media query to operate from.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">* @example</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* ```ts</span><span class="s3">\n     </span><span class="s1">* import { css } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n     </span><span class="s1">* import { MatchMediaStyleSheetBehavior } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-foundation</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* const landscapeBehavior = MatchMediaStyleSheetBehavior.with(</span><span class="s3">\n     </span><span class="s1">*   window.matchMedia(</span><span class="s3">\&quot;</span><span class="s1">(orientation: landscape)</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n     </span><span class="s1">* );</span><span class="s3">\n     </span><span class="s1">* const styles = css`</span><span class="s3">\n     </span><span class="s1">*   :host {</span><span class="s3">\n     </span><span class="s1">*     width: 200px;</span><span class="s3">\n     </span><span class="s1">*     height: 400px;</span><span class="s3">\n     </span><span class="s1">*   }</span><span class="s3">\n     </span><span class="s1">* `</span><span class="s3">\n     </span><span class="s1">* .withBehaviors(landscapeBehavior(css`</span><span class="s3">\n     </span><span class="s1">*   :host {</span><span class="s3">\n     </span><span class="s1">*     width: 400px;</span><span class="s3">\n     </span><span class="s1">*     height: 200px;</span><span class="s3">\n     </span><span class="s1">*   }</span><span class="s3">\n     </span><span class="s1">* `))</span><span class="s3">\n     </span><span class="s1">* ```</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static with(query) {</span><span class="s3">\n        </span><span class="s1">return (styles) =&gt; {</span><span class="s3">\n            </span><span class="s1">return new MatchMediaStyleSheetBehavior(query, styles);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Constructs a match-media listener for a provided element.</span><span class="s3">\n     </span><span class="s1">* @param source - the element for which to attach or detach styles.</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructListener(source) {</span><span class="s3">\n        </span><span class="s1">let attached = false;</span><span class="s3">\n        </span><span class="s1">const styles = this.styles;</span><span class="s3">\n        </span><span class="s1">return function listener() {</span><span class="s3">\n            </span><span class="s1">const { matches } = this;</span><span class="s3">\n            </span><span class="s1">if (matches &amp;&amp; !attached) {</span><span class="s3">\n                </span><span class="s1">source.$fastController.addStyles(styles);</span><span class="s3">\n                </span><span class="s1">attached = matches;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (!matches &amp;&amp; attached) {</span><span class="s3">\n                </span><span class="s1">source.$fastController.removeStyles(styles);</span><span class="s3">\n                </span><span class="s1">attached = matches;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unbinds the behavior from the element.</span><span class="s3">\n     </span><span class="s1">* @param source - The element for which the behavior is unbinding.</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unbind(source) {</span><span class="s3">\n        </span><span class="s1">super.unbind(source);</span><span class="s3">\n        </span><span class="s1">source.$fastController.removeStyles(this.styles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This can be used to construct a behavior to apply a forced-colors only stylesheet.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const forcedColorsStylesheetBehavior = MatchMediaStyleSheetBehavior.with(window.matchMedia(</span><span class="s3">\&quot;</span><span class="s1">(forced-colors)</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This can be used to construct a behavior to apply a prefers color scheme: dark only stylesheet.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const darkModeStylesheetBehavior = MatchMediaStyleSheetBehavior.with(window.matchMedia(</span><span class="s3">\&quot;</span><span class="s1">(prefers-color-scheme: dark)</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* This can be used to construct a behavior to apply a prefers color scheme: light only stylesheet.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const lightModeStylesheetBehavior = MatchMediaStyleSheetBehavior.with(window.matchMedia(</span><span class="s3">\&quot;</span><span class="s1">(prefers-color-scheme: light)</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Define system colors for use in CSS stylesheets.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* https://drafts.csswg.org/css-color/#css-system-colors</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export var SystemColors;</span><span class="s3">\n</span><span class="s1">(function (SystemColors) {</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">Canvas</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">Canvas</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">CanvasText</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">CanvasText</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">LinkText</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">LinkText</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">VisitedText</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">VisitedText</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">ActiveText</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">ActiveText</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">ButtonFace</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">ButtonFace</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">ButtonText</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">ButtonText</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">Field</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">Field</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">FieldText</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">FieldText</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">Highlight</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">Highlight</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">HighlightText</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">HighlightText</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">SystemColors[</span><span class="s3">\&quot;</span><span class="s1">GrayText</span><span class="s3">\&quot;</span><span class="s1">] = </span><span class="s3">\&quot;</span><span class="s1">GrayText</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">})(SystemColors || (SystemColors = {}));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { cssPartial } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { baseHeightMultiplier, density, designUnit, elementScale } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A formula to retrieve the control height.</span><span class="s3">\n </span><span class="s1">* Use this as the value of any CSS property that</span><span class="s3">\n </span><span class="s1">* accepts a pixel size.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const heightNumber = cssPartial `(${baseHeightMultiplier} + ${density} + ${elementScale}) * ${designUnit}`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillFocus, bodyFont, controlCornerRadius, density, designUnit, focusStrokeWidth, neutralForegroundRest, neutralStrokeDividerRest, strokeWidth, typeRampMinus1FontSize, typeRampMinus1LineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/size.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for AccordionItem</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const accordionItemStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('flex')} :host {</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">flex-direction: column;</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampMinus1FontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampMinus1LineHeight};</span><span class="s3">\n      </span><span class="s1">border-bottom: calc(${strokeWidth} * 1px) solid</span><span class="s3">\n        </span><span class="s1">${neutralStrokeDividerRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.region {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n      </span><span class="s1">padding: calc((6 + (${designUnit} * 2 * ${density})) * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">div.heading {</span><span class="s3">\n      </span><span class="s1">display: grid;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">grid-template-columns: calc(${heightNumber} * 1px) auto 1fr auto;</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.button {</span><span class="s3">\n      </span><span class="s1">appearance: none;</span><span class="s3">\n      </span><span class="s1">border: none;</span><span class="s3">\n      </span><span class="s1">background: none;</span><span class="s3">\n      </span><span class="s1">grid-column: 3;</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">padding: 0 calc((6 + (${designUnit} * 2 * ${density})) * 1px);</span><span class="s3">\n      </span><span class="s1">text-align: left;</span><span class="s3">\n      </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n      </span><span class="s1">color: currentcolor;</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">font-family: inherit;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.button:hover {</span><span class="s3">\n      </span><span class="s1">color: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.button:active {</span><span class="s3">\n      </span><span class="s1">color: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.button::before {</span><span class="s3">\n      </span><span class="s1">content: '';</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">top: 0;</span><span class="s3">\n      </span><span class="s1">left: 0;</span><span class="s3">\n      </span><span class="s1">right: 0;</span><span class="s3">\n      </span><span class="s1">bottom: 0;</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/* prettier-ignore */</span><span class="s3">\n    </span><span class="s1">.button:${focusVisible}::before {</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">border: calc(${focusStrokeWidth} * 1px) solid ${accentFillFocus};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([expanded]) .region {</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.icon {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">justify-content: center;</span><span class="s3">\n      </span><span class="s1">grid-column: 1;</span><span class="s3">\n      </span><span class="s1">grid-row: 1;</span><span class="s3">\n      </span><span class="s1">pointer-events: none;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">slot[name='expanded-icon'],</span><span class="s3">\n    </span><span class="s1">slot[name='collapsed-icon'] {</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">slot[name='collapsed-icon'] {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([expanded]) slot[name='collapsed-icon'] {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">slot[name='expanded-icon'] {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([expanded]) slot[name='expanded-icon'] {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.start {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">padding-inline-start: calc(${designUnit} * 1px);</span><span class="s3">\n      </span><span class="s1">justify-content: center;</span><span class="s3">\n      </span><span class="s1">grid-column: 2;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.end {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">justify-content: center;</span><span class="s3">\n      </span><span class="s1">grid-column: 4;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">/* prettier-ignore */</span><span class="s3">\n      </span><span class="s1">.button:${focusVisible}::before {</span><span class="s3">\n          </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host slot[name='collapsed-icon'],</span><span class="s3">\n      </span><span class="s1">:host([expanded]) slot[name='expanded-icon'] {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.ButtonText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { AccordionItem, accordionItemTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { accordionItemStyles as styles } from './accordion-item.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Accordion item class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-accordion-item</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterAccordionItem extends AccordionItem {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#AccordionItem} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#accordionItemTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-accordion-item&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpAccordionItem = JupyterAccordionItem.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'accordion-item',</span><span class="s3">\n    </span><span class="s1">baseClass: AccordionItem,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">collapsedIcon: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;svg</span><span class="s3">\n            </span><span class="s1">width=</span><span class="s3">\&quot;</span><span class="s1">20</span><span class="s3">\&quot;\n            </span><span class="s1">height=</span><span class="s3">\&quot;</span><span class="s1">20</span><span class="s3">\&quot;\n            </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 16 16</span><span class="s3">\&quot;\n            </span><span class="s1">xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;path</span><span class="s3">\n                </span><span class="s1">fill-rule=</span><span class="s3">\&quot;</span><span class="s1">evenodd</span><span class="s3">\&quot;\n                </span><span class="s1">clip-rule=</span><span class="s3">\&quot;</span><span class="s1">evenodd</span><span class="s3">\&quot;\n                </span><span class="s1">d=</span><span class="s3">\&quot;</span><span class="s1">M5.00001 12.3263C5.00124 12.5147 5.05566 12.699 5.15699 12.8578C5.25831 13.0167 5.40243 13.1437 5.57273 13.2242C5.74304 13.3047 5.9326 13.3354 6.11959 13.3128C6.30659 13.2902 6.4834 13.2152 6.62967 13.0965L10.8988 8.83532C11.0739 8.69473 11.2153 8.51658 11.3124 8.31402C11.4096 8.11146 11.46 7.88966 11.46 7.66499C11.46 7.44033 11.4096 7.21853 11.3124 7.01597C11.2153 6.81341 11.0739 6.63526 10.8988 6.49467L6.62967 2.22347C6.48274 2.10422 6.30501 2.02912 6.11712 2.00691C5.92923 1.9847 5.73889 2.01628 5.56823 2.09799C5.39757 2.17969 5.25358 2.30817 5.153 2.46849C5.05241 2.62882 4.99936 2.8144 5.00001 3.00369V12.3263Z</span><span class="s3">\&quot;\n            </span><span class="s1">/&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n    </span><span class="s1">`,</span><span class="s3">\n    </span><span class="s1">expandedIcon: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;svg</span><span class="s3">\n            </span><span class="s1">width=</span><span class="s3">\&quot;</span><span class="s1">20</span><span class="s3">\&quot;\n            </span><span class="s1">height=</span><span class="s3">\&quot;</span><span class="s1">20</span><span class="s3">\&quot;\n            </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 16 16</span><span class="s3">\&quot;\n            </span><span class="s1">xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;path</span><span class="s3">\n                </span><span class="s1">fill-rule=</span><span class="s3">\&quot;</span><span class="s1">evenodd</span><span class="s3">\&quot;\n                </span><span class="s1">clip-rule=</span><span class="s3">\&quot;</span><span class="s1">evenodd</span><span class="s3">\&quot;\n                </span><span class="s1">transform=</span><span class="s3">\&quot;</span><span class="s1">rotate(90,8,8)</span><span class="s3">\&quot;\n          </span><span class="s1">d=</span><span class="s3">\&quot;</span><span class="s1">M5.00001 12.3263C5.00124 12.5147 5.05566 12.699 5.15699 12.8578C5.25831 13.0167 5.40243 13.1437 5.57273 13.2242C5.74304 13.3047 5.9326 13.3354 6.11959 13.3128C6.30659 13.2902 6.4834 13.2152 6.62967 13.0965L10.8988 8.83532C11.0739 8.69473 11.2153 8.51658 11.3124 8.31402C11.4096 8.11146 11.46 7.88966 11.46 7.66499C11.46 7.44033 11.4096 7.21853 11.3124 7.01597C11.2153 6.81341 11.0739 6.63526 10.8988 6.49467L6.62967 2.22347C6.48274 2.10422 6.30501 2.02912 6.11712 2.00691C5.92923 1.9847 5.73889 2.01628 5.56823 2.09799C5.39757 2.17969 5.25358 2.30817 5.153 2.46849C5.05241 2.62882 4.99936 2.8144 5.00001 3.00369V12.3263Z</span><span class="s3">\&quot;\n            </span><span class="s1">/&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterAccordionItem as AccordionItem };</span><span class="s3">\n</span><span class="s1">export { styles as accordionItemStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Accordion, accordionTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { accordionStyles as styles } from './accordion.styles.js';</span><span class="s3">\n</span><span class="s1">export * from '../accordion-item/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Accordion class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-accordion</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterAccordion extends Accordion {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Accordion} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#accordionTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-accordion&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpAccordion = JupyterAccordion.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'accordion',</span><span class="s3">\n    </span><span class="s1">baseClass: Accordion,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterAccordion as Accordion };</span><span class="s3">\n</span><span class="s1">export { styles as accordionStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/******************************************************************************</span><span class="s3">\n</span><span class="s1">Copyright (c) Microsoft Corporation.</span><span class="s3">\n\n</span><span class="s1">Permission to use, copy, modify, and/or distribute this software for any</span><span class="s3">\n</span><span class="s1">purpose with or without fee is hereby granted.</span><span class="s3">\n\n</span><span class="s1">THE SOFTWARE IS PROVIDED </span><span class="s3">\&quot;</span><span class="s1">AS IS</span><span class="s3">\&quot; </span><span class="s1">AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH</span><span class="s3">\n</span><span class="s1">REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY</span><span class="s3">\n</span><span class="s1">AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,</span><span class="s3">\n</span><span class="s1">INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM</span><span class="s3">\n</span><span class="s1">LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR</span><span class="s3">\n</span><span class="s1">OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR</span><span class="s3">\n</span><span class="s1">PERFORMANCE OF THIS SOFTWARE.</span><span class="s3">\n</span><span class="s1">***************************************************************************** */</span><span class="s3">\n</span><span class="s1">/* global Reflect, Promise, SuppressedError, Symbol */</span><span class="s3">\n\n</span><span class="s1">var extendStatics = function(d, b) {</span><span class="s3">\n  </span><span class="s1">extendStatics = Object.setPrototypeOf ||</span><span class="s3">\n      </span><span class="s1">({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||</span><span class="s3">\n      </span><span class="s1">function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };</span><span class="s3">\n  </span><span class="s1">return extendStatics(d, b);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export function __extends(d, b) {</span><span class="s3">\n  </span><span class="s1">if (typeof b !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; b !== null)</span><span class="s3">\n      </span><span class="s1">throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Class extends value </span><span class="s3">\&quot; </span><span class="s1">+ String(b) + </span><span class="s3">\&quot; </span><span class="s1">is not a constructor or null</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">extendStatics(d, b);</span><span class="s3">\n  </span><span class="s1">function __() { this.constructor = d; }</span><span class="s3">\n  </span><span class="s1">d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export var __assign = function() {</span><span class="s3">\n  </span><span class="s1">__assign = Object.assign || function __assign(t) {</span><span class="s3">\n      </span><span class="s1">for (var s, i = 1, n = arguments.length; i &lt; n; i++) {</span><span class="s3">\n          </span><span class="s1">s = arguments[i];</span><span class="s3">\n          </span><span class="s1">for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">return t;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return __assign.apply(this, arguments);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __rest(s, e) {</span><span class="s3">\n  </span><span class="s1">var t = {};</span><span class="s3">\n  </span><span class="s1">for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) &amp;&amp; e.indexOf(p) &lt; 0)</span><span class="s3">\n      </span><span class="s1">t[p] = s[p];</span><span class="s3">\n  </span><span class="s1">if (s != null &amp;&amp; typeof Object.getOwnPropertySymbols === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">for (var i = 0, p = Object.getOwnPropertySymbols(s); i &lt; p.length; i++) {</span><span class="s3">\n          </span><span class="s1">if (e.indexOf(p[i]) &lt; 0 &amp;&amp; Object.prototype.propertyIsEnumerable.call(s, p[i]))</span><span class="s3">\n              </span><span class="s1">t[p[i]] = s[p[i]];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return t;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __decorate(decorators, target, key, desc) {</span><span class="s3">\n  </span><span class="s1">var c = arguments.length, r = c &lt; 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;</span><span class="s3">\n  </span><span class="s1">if (typeof Reflect === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof Reflect.decorate === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) r = Reflect.decorate(decorators, target, key, desc);</span><span class="s3">\n  </span><span class="s1">else for (var i = decorators.length - 1; i &gt;= 0; i--) if (d = decorators[i]) r = (c &lt; 3 ? d(r) : c &gt; 3 ? d(target, key, r) : d(target, key)) || r;</span><span class="s3">\n  </span><span class="s1">return c &gt; 3 &amp;&amp; r &amp;&amp; Object.defineProperty(target, key, r), r;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __param(paramIndex, decorator) {</span><span class="s3">\n  </span><span class="s1">return function (target, key) { decorator(target, key, paramIndex); }</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {</span><span class="s3">\n  </span><span class="s1">function accept(f) { if (f !== void 0 &amp;&amp; typeof f !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Function expected</span><span class="s3">\&quot;</span><span class="s1">); return f; }</span><span class="s3">\n  </span><span class="s1">var kind = contextIn.kind, key = kind === </span><span class="s3">\&quot;</span><span class="s1">getter</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">get</span><span class="s3">\&quot; </span><span class="s1">: kind === </span><span class="s3">\&quot;</span><span class="s1">setter</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">set</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var target = !descriptorIn &amp;&amp; ctor ? contextIn[</span><span class="s3">\&quot;</span><span class="s1">static</span><span class="s3">\&quot;</span><span class="s1">] ? ctor : ctor.prototype : null;</span><span class="s3">\n  </span><span class="s1">var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});</span><span class="s3">\n  </span><span class="s1">var _, done = false;</span><span class="s3">\n  </span><span class="s1">for (var i = decorators.length - 1; i &gt;= 0; i--) {</span><span class="s3">\n      </span><span class="s1">var context = {};</span><span class="s3">\n      </span><span class="s1">for (var p in contextIn) context[p] = p === </span><span class="s3">\&quot;</span><span class="s1">access</span><span class="s3">\&quot; </span><span class="s1">? {} : contextIn[p];</span><span class="s3">\n      </span><span class="s1">for (var p in contextIn.access) context.access[p] = contextIn.access[p];</span><span class="s3">\n      </span><span class="s1">context.addInitializer = function (f) { if (done) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Cannot add initializers after decoration has completed</span><span class="s3">\&quot;</span><span class="s1">); extraInitializers.push(accept(f || null)); };</span><span class="s3">\n      </span><span class="s1">var result = (0, decorators[i])(kind === </span><span class="s3">\&quot;</span><span class="s1">accessor</span><span class="s3">\&quot; </span><span class="s1">? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);</span><span class="s3">\n      </span><span class="s1">if (kind === </span><span class="s3">\&quot;</span><span class="s1">accessor</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">if (result === void 0) continue;</span><span class="s3">\n          </span><span class="s1">if (result === null || typeof result !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Object expected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n          </span><span class="s1">if (_ = accept(result.get)) descriptor.get = _;</span><span class="s3">\n          </span><span class="s1">if (_ = accept(result.set)) descriptor.set = _;</span><span class="s3">\n          </span><span class="s1">if (_ = accept(result.init)) initializers.unshift(_);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">else if (_ = accept(result)) {</span><span class="s3">\n          </span><span class="s1">if (kind === </span><span class="s3">\&quot;</span><span class="s1">field</span><span class="s3">\&quot;</span><span class="s1">) initializers.unshift(_);</span><span class="s3">\n          </span><span class="s1">else descriptor[key] = _;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (target) Object.defineProperty(target, contextIn.name, descriptor);</span><span class="s3">\n  </span><span class="s1">done = true;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export function __runInitializers(thisArg, initializers, value) {</span><span class="s3">\n  </span><span class="s1">var useValue = arguments.length &gt; 2;</span><span class="s3">\n  </span><span class="s1">for (var i = 0; i &lt; initializers.length; i++) {</span><span class="s3">\n      </span><span class="s1">value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return useValue ? value : void 0;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export function __propKey(x) {</span><span class="s3">\n  </span><span class="s1">return typeof x === </span><span class="s3">\&quot;</span><span class="s1">symbol</span><span class="s3">\&quot; </span><span class="s1">? x : </span><span class="s3">\&quot;\&quot;</span><span class="s1">.concat(x);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export function __setFunctionName(f, name, prefix) {</span><span class="s3">\n  </span><span class="s1">if (typeof name === </span><span class="s3">\&quot;</span><span class="s1">symbol</span><span class="s3">\&quot;</span><span class="s1">) name = name.description ? </span><span class="s3">\&quot;</span><span class="s1">[</span><span class="s3">\&quot;</span><span class="s1">.concat(name.description, </span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\&quot;</span><span class="s1">) : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">return Object.defineProperty(f, </span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">, { configurable: true, value: prefix ? </span><span class="s3">\&quot;\&quot;</span><span class="s1">.concat(prefix, </span><span class="s3">\&quot; \&quot;</span><span class="s1">, name) : name });</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export function __metadata(metadataKey, metadataValue) {</span><span class="s3">\n  </span><span class="s1">if (typeof Reflect === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof Reflect.metadata === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) return Reflect.metadata(metadataKey, metadataValue);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __awaiter(thisArg, _arguments, P, generator) {</span><span class="s3">\n  </span><span class="s1">function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }</span><span class="s3">\n  </span><span class="s1">return new (P || (P = Promise))(function (resolve, reject) {</span><span class="s3">\n      </span><span class="s1">function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }</span><span class="s3">\n      </span><span class="s1">function rejected(value) { try { step(generator[</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">](value)); } catch (e) { reject(e); } }</span><span class="s3">\n      </span><span class="s1">function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }</span><span class="s3">\n      </span><span class="s1">step((generator = generator.apply(thisArg, _arguments || [])).next());</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __generator(thisArg, body) {</span><span class="s3">\n  </span><span class="s1">var _ = { label: 0, sent: function() { if (t[0] &amp; 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;</span><span class="s3">\n  </span><span class="s1">return g = { next: verb(0), </span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">: verb(1), </span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">: verb(2) }, typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; (g[Symbol.iterator] = function() { return this; }), g;</span><span class="s3">\n  </span><span class="s1">function verb(n) { return function (v) { return step([n, v]); }; }</span><span class="s3">\n  </span><span class="s1">function step(op) {</span><span class="s3">\n      </span><span class="s1">if (f) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Generator is already executing.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">while (g &amp;&amp; (g = 0, op[0] &amp;&amp; (_ = 0)), _) try {</span><span class="s3">\n          </span><span class="s1">if (f = 1, y &amp;&amp; (t = op[0] &amp; 2 ? y[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">] : op[0] ? y[</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">] || ((t = y[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">]) &amp;&amp; t.call(y), 0) : y.next) &amp;&amp; !(t = t.call(y, op[1])).done) return t;</span><span class="s3">\n          </span><span class="s1">if (y = 0, t) op = [op[0] &amp; 2, t.value];</span><span class="s3">\n          </span><span class="s1">switch (op[0]) {</span><span class="s3">\n              </span><span class="s1">case 0: case 1: t = op; break;</span><span class="s3">\n              </span><span class="s1">case 4: _.label++; return { value: op[1], done: false };</span><span class="s3">\n              </span><span class="s1">case 5: _.label++; y = op[1]; op = [0]; continue;</span><span class="s3">\n              </span><span class="s1">case 7: op = _.ops.pop(); _.trys.pop(); continue;</span><span class="s3">\n              </span><span class="s1">default:</span><span class="s3">\n                  </span><span class="s1">if (!(t = _.trys, t = t.length &gt; 0 &amp;&amp; t[t.length - 1]) &amp;&amp; (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }</span><span class="s3">\n                  </span><span class="s1">if (op[0] === 3 &amp;&amp; (!t || (op[1] &gt; t[0] &amp;&amp; op[1] &lt; t[3]))) { _.label = op[1]; break; }</span><span class="s3">\n                  </span><span class="s1">if (op[0] === 6 &amp;&amp; _.label &lt; t[1]) { _.label = t[1]; t = op; break; }</span><span class="s3">\n                  </span><span class="s1">if (t &amp;&amp; _.label &lt; t[2]) { _.label = t[2]; _.ops.push(op); break; }</span><span class="s3">\n                  </span><span class="s1">if (t[2]) _.ops.pop();</span><span class="s3">\n                  </span><span class="s1">_.trys.pop(); continue;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">op = body.call(thisArg, _);</span><span class="s3">\n      </span><span class="s1">} catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }</span><span class="s3">\n      </span><span class="s1">if (op[0] &amp; 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export var __createBinding = Object.create ? (function(o, m, k, k2) {</span><span class="s3">\n  </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n  </span><span class="s1">var desc = Object.getOwnPropertyDescriptor(m, k);</span><span class="s3">\n  </span><span class="s1">if (!desc || (</span><span class="s3">\&quot;</span><span class="s1">get</span><span class="s3">\&quot; </span><span class="s1">in desc ? !m.__esModule : desc.writable || desc.configurable)) {</span><span class="s3">\n      </span><span class="s1">desc = { enumerable: true, get: function() { return m[k]; } };</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">Object.defineProperty(o, k2, desc);</span><span class="s3">\n</span><span class="s1">}) : (function(o, m, k, k2) {</span><span class="s3">\n  </span><span class="s1">if (k2 === undefined) k2 = k;</span><span class="s3">\n  </span><span class="s1">o[k2] = m[k];</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export function __exportStar(m, o) {</span><span class="s3">\n  </span><span class="s1">for (var p in m) if (p !== </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __values(o) {</span><span class="s3">\n  </span><span class="s1">var s = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Symbol.iterator, m = s &amp;&amp; o[s], i = 0;</span><span class="s3">\n  </span><span class="s1">if (m) return m.call(o);</span><span class="s3">\n  </span><span class="s1">if (o &amp;&amp; typeof o.length === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) return {</span><span class="s3">\n      </span><span class="s1">next: function () {</span><span class="s3">\n          </span><span class="s1">if (o &amp;&amp; i &gt;= o.length) o = void 0;</span><span class="s3">\n          </span><span class="s1">return { value: o &amp;&amp; o[i++], done: !o };</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">throw new TypeError(s ? </span><span class="s3">\&quot;</span><span class="s1">Object is not iterable.</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">Symbol.iterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __read(o, n) {</span><span class="s3">\n  </span><span class="s1">var m = typeof Symbol === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; o[Symbol.iterator];</span><span class="s3">\n  </span><span class="s1">if (!m) return o;</span><span class="s3">\n  </span><span class="s1">var i = m.call(o), r, ar = [], e;</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">while ((n === void 0 || n-- &gt; 0) &amp;&amp; !(r = i.next()).done) ar.push(r.value);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">catch (error) { e = { error: error }; }</span><span class="s3">\n  </span><span class="s1">finally {</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n          </span><span class="s1">if (r &amp;&amp; !r.done &amp;&amp; (m = i[</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">])) m.call(i);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">finally { if (e) throw e.error; }</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/** @deprecated */</span><span class="s3">\n</span><span class="s1">export function __spread() {</span><span class="s3">\n  </span><span class="s1">for (var ar = [], i = 0; i &lt; arguments.length; i++)</span><span class="s3">\n      </span><span class="s1">ar = ar.concat(__read(arguments[i]));</span><span class="s3">\n  </span><span class="s1">return ar;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/** @deprecated */</span><span class="s3">\n</span><span class="s1">export function __spreadArrays() {</span><span class="s3">\n  </span><span class="s1">for (var s = 0, i = 0, il = arguments.length; i &lt; il; i++) s += arguments[i].length;</span><span class="s3">\n  </span><span class="s1">for (var r = Array(s), k = 0, i = 0; i &lt; il; i++)</span><span class="s3">\n      </span><span class="s1">for (var a = arguments[i], j = 0, jl = a.length; j &lt; jl; j++, k++)</span><span class="s3">\n          </span><span class="s1">r[k] = a[j];</span><span class="s3">\n  </span><span class="s1">return r;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __spreadArray(to, from, pack) {</span><span class="s3">\n  </span><span class="s1">if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i &lt; l; i++) {</span><span class="s3">\n      </span><span class="s1">if (ar || !(i in from)) {</span><span class="s3">\n          </span><span class="s1">if (!ar) ar = Array.prototype.slice.call(from, 0, i);</span><span class="s3">\n          </span><span class="s1">ar[i] = from[i];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return to.concat(ar || Array.prototype.slice.call(from));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __await(v) {</span><span class="s3">\n  </span><span class="s1">return this instanceof __await ? (this.v = v, this) : new __await(v);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __asyncGenerator(thisArg, _arguments, generator) {</span><span class="s3">\n  </span><span class="s1">if (!Symbol.asyncIterator) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Symbol.asyncIterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">var g = generator.apply(thisArg, _arguments || []), i, q = [];</span><span class="s3">\n  </span><span class="s1">return i = {}, verb(</span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot;</span><span class="s1">), verb(</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">), verb(</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">), i[Symbol.asyncIterator] = function () { return this; }, i;</span><span class="s3">\n  </span><span class="s1">function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) &gt; 1 || resume(n, v); }); }; }</span><span class="s3">\n  </span><span class="s1">function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }</span><span class="s3">\n  </span><span class="s1">function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }</span><span class="s3">\n  </span><span class="s1">function fulfill(value) { resume(</span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot;</span><span class="s1">, value); }</span><span class="s3">\n  </span><span class="s1">function reject(value) { resume(</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">, value); }</span><span class="s3">\n  </span><span class="s1">function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __asyncDelegator(o) {</span><span class="s3">\n  </span><span class="s1">var i, p;</span><span class="s3">\n  </span><span class="s1">return i = {}, verb(</span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot;</span><span class="s1">), verb(</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">, function (e) { throw e; }), verb(</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">), i[Symbol.iterator] = function () { return this; }, i;</span><span class="s3">\n  </span><span class="s1">function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __asyncValues(o) {</span><span class="s3">\n  </span><span class="s1">if (!Symbol.asyncIterator) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Symbol.asyncIterator is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">var m = o[Symbol.asyncIterator], i;</span><span class="s3">\n  </span><span class="s1">return m ? m.call(o) : (o = typeof __values === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? __values(o) : o[Symbol.iterator](), i = {}, verb(</span><span class="s3">\&quot;</span><span class="s1">next</span><span class="s3">\&quot;</span><span class="s1">), verb(</span><span class="s3">\&quot;</span><span class="s1">throw</span><span class="s3">\&quot;</span><span class="s1">), verb(</span><span class="s3">\&quot;</span><span class="s1">return</span><span class="s3">\&quot;</span><span class="s1">), i[Symbol.asyncIterator] = function () { return this; }, i);</span><span class="s3">\n  </span><span class="s1">function verb(n) { i[n] = o[n] &amp;&amp; function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }</span><span class="s3">\n  </span><span class="s1">function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __makeTemplateObject(cooked, raw) {</span><span class="s3">\n  </span><span class="s1">if (Object.defineProperty) { Object.defineProperty(cooked, </span><span class="s3">\&quot;</span><span class="s1">raw</span><span class="s3">\&quot;</span><span class="s1">, { value: raw }); } else { cooked.raw = raw; }</span><span class="s3">\n  </span><span class="s1">return cooked;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var __setModuleDefault = Object.create ? (function(o, v) {</span><span class="s3">\n  </span><span class="s1">Object.defineProperty(o, </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">, { enumerable: true, value: v });</span><span class="s3">\n</span><span class="s1">}) : function(o, v) {</span><span class="s3">\n  </span><span class="s1">o[</span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">] = v;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export function __importStar(mod) {</span><span class="s3">\n  </span><span class="s1">if (mod &amp;&amp; mod.__esModule) return mod;</span><span class="s3">\n  </span><span class="s1">var result = {};</span><span class="s3">\n  </span><span class="s1">if (mod != null) for (var k in mod) if (k !== </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);</span><span class="s3">\n  </span><span class="s1">__setModuleDefault(result, mod);</span><span class="s3">\n  </span><span class="s1">return result;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __importDefault(mod) {</span><span class="s3">\n  </span><span class="s1">return (mod &amp;&amp; mod.__esModule) ? mod : { default: mod };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __classPrivateFieldGet(receiver, state, kind, f) {</span><span class="s3">\n  </span><span class="s1">if (kind === </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; !f) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Private accessor was defined without a getter</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (typeof state === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? receiver !== state || !f : !state.has(receiver)) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Cannot read private member from an object whose class did not declare it</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return kind === </span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot; </span><span class="s1">? f : kind === </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot; </span><span class="s1">? f.call(receiver) : f ? f.value : state.get(receiver);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __classPrivateFieldSet(receiver, state, value, kind, f) {</span><span class="s3">\n  </span><span class="s1">if (kind === </span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Private method is not writable</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (kind === </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; !f) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Private accessor was defined without a setter</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">if (typeof state === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? receiver !== state || !f : !state.has(receiver)) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Cannot write private member to an object whose class did not declare it</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return (kind === </span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot; </span><span class="s1">? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __classPrivateFieldIn(state, receiver) {</span><span class="s3">\n  </span><span class="s1">if (receiver === null || (typeof receiver !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof receiver !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">)) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Cannot use 'in' operator on non-object</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return typeof state === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? receiver === state : state.has(receiver);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function __addDisposableResource(env, value, async) {</span><span class="s3">\n  </span><span class="s1">if (value !== null &amp;&amp; value !== void 0) {</span><span class="s3">\n    </span><span class="s1">if (typeof value !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof value !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Object expected.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">var dispose;</span><span class="s3">\n    </span><span class="s1">if (async) {</span><span class="s3">\n        </span><span class="s1">if (!Symbol.asyncDispose) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Symbol.asyncDispose is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">dispose = value[Symbol.asyncDispose];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (dispose === void 0) {</span><span class="s3">\n        </span><span class="s1">if (!Symbol.dispose) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Symbol.dispose is not defined.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">dispose = value[Symbol.dispose];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (typeof dispose !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">Object not disposable.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">env.stack.push({ value: value, dispose: dispose, async: async });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">else if (async) {</span><span class="s3">\n    </span><span class="s1">env.stack.push({ async: true });</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">var _SuppressedError = typeof SuppressedError === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? SuppressedError : function (error, suppressed, message) {</span><span class="s3">\n  </span><span class="s1">var e = new Error(message);</span><span class="s3">\n  </span><span class="s1">return e.name = </span><span class="s3">\&quot;</span><span class="s1">SuppressedError</span><span class="s3">\&quot;</span><span class="s1">, e.error = error, e.suppressed = suppressed, e;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export function __disposeResources(env) {</span><span class="s3">\n  </span><span class="s1">function fail(e) {</span><span class="s3">\n    </span><span class="s1">env.error = env.hasError ? new _SuppressedError(e, env.error, </span><span class="s3">\&quot;</span><span class="s1">An error was suppressed during disposal.</span><span class="s3">\&quot;</span><span class="s1">) : e;</span><span class="s3">\n    </span><span class="s1">env.hasError = true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">function next() {</span><span class="s3">\n    </span><span class="s1">while (env.stack.length) {</span><span class="s3">\n      </span><span class="s1">var rec = env.stack.pop();</span><span class="s3">\n      </span><span class="s1">try {</span><span class="s3">\n        </span><span class="s1">var result = rec.dispose &amp;&amp; rec.dispose.call(rec.value);</span><span class="s3">\n        </span><span class="s1">if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">catch (e) {</span><span class="s3">\n          </span><span class="s1">fail(e);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (env.hasError) throw env.error;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return next();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default {</span><span class="s3">\n  </span><span class="s1">__extends,</span><span class="s3">\n  </span><span class="s1">__assign,</span><span class="s3">\n  </span><span class="s1">__rest,</span><span class="s3">\n  </span><span class="s1">__decorate,</span><span class="s3">\n  </span><span class="s1">__param,</span><span class="s3">\n  </span><span class="s1">__metadata,</span><span class="s3">\n  </span><span class="s1">__awaiter,</span><span class="s3">\n  </span><span class="s1">__generator,</span><span class="s3">\n  </span><span class="s1">__createBinding,</span><span class="s3">\n  </span><span class="s1">__exportStar,</span><span class="s3">\n  </span><span class="s1">__values,</span><span class="s3">\n  </span><span class="s1">__read,</span><span class="s3">\n  </span><span class="s1">__spread,</span><span class="s3">\n  </span><span class="s1">__spreadArrays,</span><span class="s3">\n  </span><span class="s1">__spreadArray,</span><span class="s3">\n  </span><span class="s1">__await,</span><span class="s3">\n  </span><span class="s1">__asyncGenerator,</span><span class="s3">\n  </span><span class="s1">__asyncDelegator,</span><span class="s3">\n  </span><span class="s1">__asyncValues,</span><span class="s3">\n  </span><span class="s1">__makeTemplateObject,</span><span class="s3">\n  </span><span class="s1">__importStar,</span><span class="s3">\n  </span><span class="s1">__importDefault,</span><span class="s3">\n  </span><span class="s1">__classPrivateFieldGet,</span><span class="s3">\n  </span><span class="s1">__classPrivateFieldSet,</span><span class="s3">\n  </span><span class="s1">__classPrivateFieldIn,</span><span class="s3">\n  </span><span class="s1">__addDisposableResource,</span><span class="s3">\n  </span><span class="s1">__disposeResources,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Some states and properties are applicable to all host language elements regardless of whether a role is applied.</span><span class="s3">\n </span><span class="s1">* The following global states and properties are supported by all roles and by all base markup elements.</span><span class="s3">\n </span><span class="s1">* {@link https://www.w3.org/TR/wai-aria-1.1/#global_states}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* This is intended to be used as a mixin. Be sure you extend FASTElement.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ARIAGlobalStatesAndProperties {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-atomic</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaAtomic</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-busy</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaBusy</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-controls</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaControls</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-current</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaCurrent</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-describedby</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaDescribedby</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-details</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaDetails</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-disabled</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaDisabled</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-errormessage</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaErrormessage</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-flowto</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaFlowto</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-haspopup</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaHaspopup</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-hidden</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaHidden</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-invalid</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaInvalid</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-keyshortcuts</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaKeyshortcuts</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-label</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaLabel</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-labelledby</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaLabelledby</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-live</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaLive</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-owns</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaOwns</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-relevant</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaRelevant</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-roledescription</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ARIAGlobalStatesAndProperties.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaRoledescription</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement, } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ARIAGlobalStatesAndProperties, StartEnd, } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An Anchor Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a | &lt;a&gt; element }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the anchor content</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the anchor content</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for anchor content</span><span class="s3">\n </span><span class="s1">* @csspart control - The anchor element</span><span class="s3">\n </span><span class="s1">* @csspart content - The element wrapping anchor content</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Anchor extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Overrides the focus call for where delegatesFocus is unsupported.</span><span class="s3">\n         </span><span class="s1">* This check works for Chrome, Edge Chromium, FireFox, and Safari</span><span class="s3">\n         </span><span class="s1">* Relevant PR on the Firefox browser: https://phabricator.services.mozilla.com/D123858</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleUnsupportedDelegatesFocus = () =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">// Check to see if delegatesFocus is supported</span><span class="s3">\n            </span><span class="s1">if (window.ShadowRoot &amp;&amp;</span><span class="s3">\n                </span><span class="s1">!window.ShadowRoot.prototype.hasOwnProperty(</span><span class="s3">\&quot;</span><span class="s1">delegatesFocus</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp;</span><span class="s3">\n                </span><span class="s1">((_a = this.$fastController.definition.shadowOptions) === null || _a === void 0 ? void 0 : _a.delegatesFocus)) {</span><span class="s3">\n                </span><span class="s1">this.focus = () =&gt; {</span><span class="s3">\n                    </span><span class="s1">var _a;</span><span class="s3">\n                    </span><span class="s1">(_a = this.control) === null || _a === void 0 ? void 0 : _a.focus();</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.handleUnsupportedDelegatesFocus();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Anchor.prototype, </span><span class="s3">\&quot;</span><span class="s1">download</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Anchor.prototype, </span><span class="s3">\&quot;</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Anchor.prototype, </span><span class="s3">\&quot;</span><span class="s1">hreflang</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Anchor.prototype, </span><span class="s3">\&quot;</span><span class="s1">ping</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Anchor.prototype, </span><span class="s3">\&quot;</span><span class="s1">referrerpolicy</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Anchor.prototype, </span><span class="s3">\&quot;</span><span class="s1">rel</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Anchor.prototype, </span><span class="s3">\&quot;</span><span class="s1">target</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Anchor.prototype, </span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Anchor.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedContent</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Includes ARIA states and properties relating to the ARIA link role</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DelegatesARIALink {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-expanded</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], DelegatesARIALink.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaExpanded</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(DelegatesARIALink, ARIAGlobalStatesAndProperties);</span><span class="s3">\n</span><span class="s1">applyMixins(Anchor, StartEnd, DelegatesARIALink);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Anchor:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const anchorTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;a</span><span class="s3">\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n        </span><span class="s1">download=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.download}</span><span class="s3">\&quot;\n        </span><span class="s1">href=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.href}</span><span class="s3">\&quot;\n        </span><span class="s1">hreflang=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.hreflang}</span><span class="s3">\&quot;\n        </span><span class="s1">ping=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ping}</span><span class="s3">\&quot;\n        </span><span class="s1">referrerpolicy=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.referrerpolicy}</span><span class="s3">\&quot;\n        </span><span class="s1">rel=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.rel}</span><span class="s3">\&quot;\n        </span><span class="s1">target=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.target}</span><span class="s3">\&quot;\n        </span><span class="s1">type=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.type}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-atomic=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaAtomic}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-busy=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaBusy}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaControls}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-current=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaCurrent}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-describedby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDescribedby}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-details=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDetails}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-errormessage=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaErrormessage}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-expanded=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaExpanded}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-flowto=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaFlowto}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-haspopup=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHaspopup}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHidden}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-invalid=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaInvalid}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-keyshortcuts=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaKeyshortcuts}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-label=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabel}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabelledby}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-live=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLive}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-owns=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaOwns}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-relevant=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRelevant}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-roledescription=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRoledescription}</span><span class="s3">\&quot;\n        </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot ${slotted(</span><span class="s3">\&quot;</span><span class="s1">defaultSlottedContent</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n        </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n    </span><span class="s1">&lt;/a&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillActive, accentFillFocus, accentFillHover, accentFillRest, accentForegroundActive, accentForegroundHover, accentForegroundRest, bodyFont, controlCornerRadius, density, designUnit, elementScale, errorFillActive, errorFillFocus, errorFillHover, errorFillRest, errorForegroundActive, focusStrokeOuter, focusStrokeWidth, foregroundOnAccentActive, foregroundOnAccentHover, foregroundOnAccentRest, neutralFillActive, neutralFillHover, neutralFillRest, neutralFillStealthActive, neutralFillStealthHover, neutralFillStrongActive, neutralFillStrongFocus, neutralForegroundRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../size.js';</span><span class="s3">\n</span><span class="s1">// TODO do we really want to use outline for focus =&gt; this call for a minimal style for toolbar probably</span><span class="s3">\n</span><span class="s1">// outline force to use a margin so that the outline is not hidden by other elements.</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const BaseButtonStyles = css `</span><span class="s3">\n  </span><span class="s1">${display('inline-flex')} :host {</span><span class="s3">\n    </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n    </span><span class="s1">outline: none;</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n    </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n    </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n    </span><span class="s1">min-width: calc(${heightNumber} * 1px);</span><span class="s3">\n    </span><span class="s1">background-color: ${neutralFillRest};</span><span class="s3">\n    </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">margin: calc((${focusStrokeWidth} + 2) * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.control {</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">height: inherit;</span><span class="s3">\n    </span><span class="s1">flex-grow: 1;</span><span class="s3">\n    </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n    </span><span class="s1">display: inline-flex;</span><span class="s3">\n    </span><span class="s1">justify-content: center;</span><span class="s3">\n    </span><span class="s1">align-items: center;</span><span class="s3">\n    </span><span class="s1">padding: 0</span><span class="s3">\n      </span><span class="s1">max(</span><span class="s3">\n        </span><span class="s1">1px,</span><span class="s3">\n        </span><span class="s1">calc((10 + (${designUnit} * 2 * (${density} + ${elementScale})))) * 1px</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">white-space: nowrap;</span><span class="s3">\n    </span><span class="s1">outline: none;</span><span class="s3">\n    </span><span class="s1">text-decoration: none;</span><span class="s3">\n    </span><span class="s1">border: calc(${strokeWidth} * 1px) solid transparent;</span><span class="s3">\n    </span><span class="s1">color: inherit;</span><span class="s3">\n    </span><span class="s1">border-radius: inherit;</span><span class="s3">\n    </span><span class="s1">fill: inherit;</span><span class="s3">\n    </span><span class="s1">cursor: inherit;</span><span class="s3">\n    </span><span class="s1">font-family: inherit;</span><span class="s3">\n    </span><span class="s1">font-size: inherit;</span><span class="s3">\n    </span><span class="s1">line-height: inherit;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(:hover) {</span><span class="s3">\n    </span><span class="s1">background-color: ${neutralFillHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(:active) {</span><span class="s3">\n    </span><span class="s1">background-color: ${neutralFillActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([aria-pressed='true']) {</span><span class="s3">\n    </span><span class="s1">box-shadow: inset 0px 0px 2px 2px ${neutralFillStrongActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([minimal]),</span><span class="s3">\n  </span><span class="s1">:host([scale='xsmall']) {</span><span class="s3">\n    </span><span class="s1">--element-scale: -4;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([scale='small']) {</span><span class="s3">\n    </span><span class="s1">--element-scale: -2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([scale='medium']) {</span><span class="s3">\n    </span><span class="s1">--element-scale: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([scale='large']) {</span><span class="s3">\n    </span><span class="s1">--element-scale: 2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([scale='xlarge']) {</span><span class="s3">\n    </span><span class="s1">--element-scale: 4;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">/* prettier-ignore */</span><span class="s3">\n  </span><span class="s1">.control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">outline: calc(${focusStrokeWidth} * 1px) solid ${neutralFillStrongFocus};</span><span class="s3">\n      </span><span class="s1">outline-offset: 2px;</span><span class="s3">\n      </span><span class="s1">-moz-outline-radius: 0px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.control::-moz-focus-inner {</span><span class="s3">\n    </span><span class="s1">border: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.start,</span><span class="s3">\n  </span><span class="s1">.end {</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.control.icon-only {</span><span class="s3">\n    </span><span class="s1">padding: 0;</span><span class="s3">\n    </span><span class="s1">line-height: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">::slotted(svg) {</span><span class="s3">\n    </span><span class="s1">${</span><span class="s3">\n</span><span class="s1">/* Glyph size and margin-left is temporary -</span><span class="s3">\n     </span><span class="s1">replace when adaptive typography is figured out */ ''} width: 16px;</span><span class="s3">\n    </span><span class="s1">height: 16px;</span><span class="s3">\n    </span><span class="s1">pointer-events: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.start {</span><span class="s3">\n    </span><span class="s1">margin-inline-end: 11px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.end {</span><span class="s3">\n    </span><span class="s1">margin-inline-start: 11px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n    </span><span class="s1">:host .control {</span><span class="s3">\n      </span><span class="s1">background-color: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.ButtonText};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n      </span><span class="s1">fill: currentColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:hover) .control {</span><span class="s3">\n      </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">background-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">/* prettier-ignore */</span><span class="s3">\n    </span><span class="s1">.control:${focusVisible} {</span><span class="s3">\n          </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n          </span><span class="s1">background-color: ${SystemColors.Highlight};</span><span class="s3">\n          </span><span class="s1">outline-color: ${SystemColors.ButtonText};</span><span class="s3">\n          </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:hover,</span><span class="s3">\n    </span><span class="s1">:host([appearance='outline']) .control:hover {</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.ButtonText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([href]) .control {</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.LinkText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([href]) .control:hover,</span><span class="s3">\n        </span><span class="s1">:host([href]) .control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">outline-color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">fill: currentColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const AccentButtonStyles = css `</span><span class="s3">\n  </span><span class="s1">:host([appearance='accent']) {</span><span class="s3">\n    </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n    </span><span class="s1">color: ${foregroundOnAccentRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='accent']:hover) {</span><span class="s3">\n    </span><span class="s1">background: ${accentFillHover};</span><span class="s3">\n    </span><span class="s1">color: ${foregroundOnAccentHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='accent'][aria-pressed='true']) {</span><span class="s3">\n    </span><span class="s1">box-shadow: inset 0px 0px 2px 2px ${accentForegroundActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='accent']:active) .control:active {</span><span class="s3">\n    </span><span class="s1">background: ${accentFillActive};</span><span class="s3">\n    </span><span class="s1">color: ${foregroundOnAccentActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} {</span><span class="s3">\n    </span><span class="s1">outline-color: ${accentFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n    </span><span class="s1">:host([appearance='accent']) .control {</span><span class="s3">\n      </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance='accent']) .control:hover,</span><span class="s3">\n    </span><span class="s1">:host([appearance='accent']:active) .control:active {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.Highlight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">outline-color: ${SystemColors.Highlight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance='accent'][href]) .control {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance='accent'][href]) .control:hover {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">box-shadow: none;</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">fill: currentColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">accent</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">outline-color: ${SystemColors.HighlightText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const ErrorButtonStyles = css `</span><span class="s3">\n  </span><span class="s1">:host([appearance='error']) {</span><span class="s3">\n    </span><span class="s1">background: ${errorFillRest};</span><span class="s3">\n    </span><span class="s1">color: ${foregroundOnAccentRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='error']:hover) {</span><span class="s3">\n    </span><span class="s1">background: ${errorFillHover};</span><span class="s3">\n    </span><span class="s1">color: ${foregroundOnAccentHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='error'][aria-pressed='true']) {</span><span class="s3">\n    </span><span class="s1">box-shadow: inset 0px 0px 2px 2px ${errorForegroundActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='error']:active) .control:active {</span><span class="s3">\n    </span><span class="s1">background: ${errorFillActive};</span><span class="s3">\n    </span><span class="s1">color: ${foregroundOnAccentActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} {</span><span class="s3">\n    </span><span class="s1">outline-color: ${errorFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n    </span><span class="s1">:host([appearance='error']) .control {</span><span class="s3">\n      </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance='error']) .control:hover,</span><span class="s3">\n    </span><span class="s1">:host([appearance='error']:active) .control:active {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.Highlight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">outline-color: ${SystemColors.Highlight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance='error'][href]) .control {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance='error'][href]) .control:hover {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">box-shadow: none;</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">fill: currentColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">outline-color: ${SystemColors.HighlightText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const HypertextStyles = css `</span><span class="s3">\n  </span><span class="s1">:host([appearance='hypertext']) {</span><span class="s3">\n    </span><span class="s1">font-size: inherit;</span><span class="s3">\n    </span><span class="s1">line-height: inherit;</span><span class="s3">\n    </span><span class="s1">height: auto;</span><span class="s3">\n    </span><span class="s1">min-width: 0;</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='hypertext']) .control {</span><span class="s3">\n    </span><span class="s1">display: inline;</span><span class="s3">\n    </span><span class="s1">padding: 0;</span><span class="s3">\n    </span><span class="s1">border: none;</span><span class="s3">\n    </span><span class="s1">box-shadow: none;</span><span class="s3">\n    </span><span class="s1">border-radius: 0;</span><span class="s3">\n    </span><span class="s1">line-height: 1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host a.control:not(:link) {</span><span class="s3">\n    </span><span class="s1">background-color: transparent;</span><span class="s3">\n    </span><span class="s1">cursor: default;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">:host([appearance='hypertext']) .control:link,</span><span class="s3">\n  </span><span class="s1">:host([appearance='hypertext']) .control:visited {</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">color: ${accentForegroundRest};</span><span class="s3">\n    </span><span class="s1">border-bottom: calc(${strokeWidth} * 1px) solid ${accentForegroundRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='hypertext']:hover),</span><span class="s3">\n  </span><span class="s1">:host([appearance='hypertext']) .control:hover {</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">border-bottom-color: ${accentForegroundHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='hypertext']:active),</span><span class="s3">\n  </span><span class="s1">:host([appearance='hypertext']) .control:active {</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">border-bottom-color: ${accentForegroundActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">hypertext</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} {</span><span class="s3">\n    </span><span class="s1">outline-color: transparent;</span><span class="s3">\n    </span><span class="s1">border-bottom: calc(${focusStrokeWidth} * 1px) solid ${focusStrokeOuter};</span><span class="s3">\n    </span><span class="s1">margin-bottom: calc(calc(${strokeWidth} - ${focusStrokeWidth}) * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n    </span><span class="s1">:host([appearance='hypertext']:hover) {</span><span class="s3">\n      </span><span class="s1">background-color: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">hypertext</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:hover,</span><span class="s3">\n        </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">hypertext</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:active,</span><span class="s3">\n        </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">hypertext</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">border-bottom-color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">box-shadow: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const LightweightButtonStyles = css `</span><span class="s3">\n  </span><span class="s1">:host([appearance='lightweight']) {</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">color: ${accentForegroundRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='lightweight']) .control {</span><span class="s3">\n    </span><span class="s1">padding: 0;</span><span class="s3">\n    </span><span class="s1">height: initial;</span><span class="s3">\n    </span><span class="s1">border: none;</span><span class="s3">\n    </span><span class="s1">box-shadow: none;</span><span class="s3">\n    </span><span class="s1">border-radius: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='lightweight']:hover) {</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">color: ${accentForegroundHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='lightweight']:active) {</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">color: ${accentForegroundActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='lightweight']) .content {</span><span class="s3">\n    </span><span class="s1">position: relative;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='lightweight']) .content::before {</span><span class="s3">\n    </span><span class="s1">content: '';</span><span class="s3">\n    </span><span class="s1">display: block;</span><span class="s3">\n    </span><span class="s1">height: calc(${strokeWidth} * 1px);</span><span class="s3">\n    </span><span class="s1">position: absolute;</span><span class="s3">\n    </span><span class="s1">top: calc(1em + 4px);</span><span class="s3">\n    </span><span class="s1">width: 100%;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='lightweight']:hover) .content::before {</span><span class="s3">\n    </span><span class="s1">background: ${accentForegroundHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='lightweight']:active) .content::before {</span><span class="s3">\n    </span><span class="s1">background: ${accentForegroundActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">lightweight</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} {</span><span class="s3">\n    </span><span class="s1">outline-color: transparent;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">lightweight</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} .content::before {</span><span class="s3">\n    </span><span class="s1">background: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">height: calc(${focusStrokeWidth} * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">lightweight</span><span class="s3">\&quot;</span><span class="s1">]) .control:hover,</span><span class="s3">\n        </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">lightweight</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.Highlight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">lightweight</span><span class="s3">\&quot;</span><span class="s1">]) .control:hover .content::before,</span><span class="s3">\n        </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">lightweight</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} .content::before {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">lightweight</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:hover,</span><span class="s3">\n        </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">lightweight</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">box-shadow: none;</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.LinkText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">lightweight</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:hover .content::before,</span><span class="s3">\n        </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">lightweight</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:${focusVisible} .content::before {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.LinkText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const OutlineButtonStyles = css `</span><span class="s3">\n  </span><span class="s1">:host([appearance='outline']) {</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">border-color: ${accentFillRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='outline']:hover) {</span><span class="s3">\n    </span><span class="s1">border-color: ${accentFillHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='outline']:active) {</span><span class="s3">\n    </span><span class="s1">border-color: ${accentFillActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='outline']) .control {</span><span class="s3">\n    </span><span class="s1">border-color: inherit;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">outline</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} {</span><span class="s3">\n    </span><span class="s1">outline-color: ${accentFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n    </span><span class="s1">:host([appearance='outline']) .control {</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.ButtonText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">outline</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">background-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">outline-color: ${SystemColors.ButtonText};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">fill: currentColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([appearance='outline'][href]) .control {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">fill: currentColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">outline</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:hover,</span><span class="s3">\n        </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">outline</span><span class="s3">\&quot;</span><span class="s1">][href]) .control:${focusVisible} {</span><span class="s3">\n      </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">outline-color: ${SystemColors.LinkText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const StealthButtonStyles = css `</span><span class="s3">\n  </span><span class="s1">:host([appearance='stealth']),</span><span class="s3">\n  </span><span class="s1">:host([appearance='stealth'][disabled]:active),</span><span class="s3">\n  </span><span class="s1">:host([appearance='stealth'][disabled]:hover) {</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='stealth']:hover) {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillStealthHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='stealth']:active) {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillStealthActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='stealth']) .control:${focusVisible} {</span><span class="s3">\n    </span><span class="s1">outline-color: ${accentFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">/* Make the focus outline displayed within the button if</span><span class="s3">\n     </span><span class="s1">it is in a start or end slot; e.g. in a tree item</span><span class="s3">\n     </span><span class="s1">This will make the focus outline bounded within the container.</span><span class="s3">\n   </span><span class="s1">*/</span><span class="s3">\n  </span><span class="s1">:host([appearance='stealth'][slot=</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible},</span><span class="s3">\n  </span><span class="s1">:host([appearance='stealth'][slot=</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">]) .control:${focusVisible} {</span><span class="s3">\n    </span><span class="s1">outline-offset: -2px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n    </span><span class="s1">:host([appearance='stealth']),</span><span class="s3">\n    </span><span class="s1">:host([appearance='stealth']) .control {</span><span class="s3">\n      </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">border-color: transparent;</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n      </span><span class="s1">fill: currentColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance='stealth']:hover) .control {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">fill: currentColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">stealth</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}) .control {</span><span class="s3">\n      </span><span class="s1">outline-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">fill: currentColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance='stealth'][href]) .control {</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.LinkText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">stealth</span><span class="s3">\&quot;</span><span class="s1">][href]:hover) .control,</span><span class="s3">\n        </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">stealth</span><span class="s3">\&quot;</span><span class="s1">][href]:${focusVisible}) .control {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">fill: currentColor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance=</span><span class="s3">\&quot;</span><span class="s1">stealth</span><span class="s3">\&quot;</span><span class="s1">][href]:${focusVisible}) .control {</span><span class="s3">\n      </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">box-shadow: 0 0 0 1px ${SystemColors.LinkText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { Observable, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A behavior to add or remove a stylesheet from an element based on a property. The behavior ensures that</span><span class="s3">\n </span><span class="s1">* styles are applied while the property matches and that styles are not applied if the property does</span><span class="s3">\n </span><span class="s1">* not match.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class PropertyStyleSheetBehavior {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Constructs a {@link PropertyStyleSheetBehavior} instance.</span><span class="s3">\n     </span><span class="s1">* @param propertyName - The property name to operate from.</span><span class="s3">\n     </span><span class="s1">* @param value - The property value to operate from.</span><span class="s3">\n     </span><span class="s1">* @param styles - The styles to coordinate with the property.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(propertyName, value, styles) {</span><span class="s3">\n        </span><span class="s1">this.propertyName = propertyName;</span><span class="s3">\n        </span><span class="s1">this.value = value;</span><span class="s3">\n        </span><span class="s1">this.styles = styles;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Binds the behavior to the element.</span><span class="s3">\n     </span><span class="s1">* @param elementInstance - The element for which the property is applied.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bind(elementInstance) {</span><span class="s3">\n        </span><span class="s1">Observable.getNotifier(elementInstance).subscribe(this, this.propertyName);</span><span class="s3">\n        </span><span class="s1">this.handleChange(elementInstance, this.propertyName);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unbinds the behavior from the element.</span><span class="s3">\n     </span><span class="s1">* @param source - The element for which the behavior is unbinding.</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unbind(source) {</span><span class="s3">\n        </span><span class="s1">Observable.getNotifier(source).unsubscribe(this, this.propertyName);</span><span class="s3">\n        </span><span class="s1">source.$fastController.removeStyles(this.styles);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Change event for the provided element.</span><span class="s3">\n     </span><span class="s1">* @param source - the element for which to attach or detach styles.</span><span class="s3">\n     </span><span class="s1">* @param key - the key to lookup to know if the element already has the styles</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange(source, key) {</span><span class="s3">\n        </span><span class="s1">if (source[key] === this.value) {</span><span class="s3">\n            </span><span class="s1">source.$fastController.addStyles(this.styles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">source.$fastController.removeStyles(this.styles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { PropertyStyleSheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Behavior that will conditionally apply a stylesheet based on the elements</span><span class="s3">\n </span><span class="s1">* appearance property</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param value - The value of the appearance property</span><span class="s3">\n </span><span class="s1">* @param styles - The styles to be applied when condition matches</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function appearanceBehavior(value, styles) {</span><span class="s3">\n    </span><span class="s1">return new PropertyStyleSheetBehavior('appearance', value, styles);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { AccentButtonStyles, BaseButtonStyles, HypertextStyles, LightweightButtonStyles, OutlineButtonStyles, StealthButtonStyles } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">import { appearanceBehavior } from '../utilities/behaviors.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Anchor</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const anchorStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${BaseButtonStyles}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(appearanceBehavior('accent', AccentButtonStyles), appearanceBehavior('hypertext', HypertextStyles), appearanceBehavior('lightweight', LightweightButtonStyles), appearanceBehavior('outline', OutlineButtonStyles), appearanceBehavior('stealth', StealthButtonStyles));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { Anchor, anchorTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { anchorStyles as styles } from './anchor.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Anchor class</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-anchor</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterAnchor extends Anchor {</span><span class="s3">\n    </span><span class="s1">appearanceChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.classList.remove(oldValue);</span><span class="s3">\n            </span><span class="s1">this.classList.add(newValue);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">if (!this.appearance) {</span><span class="s3">\n            </span><span class="s1">this.appearance = 'neutral';</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Applies 'icon-only' class when there is only an SVG in the default slot</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">defaultSlottedContentChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">const slottedElements = this.defaultSlottedContent.filter(x =&gt; x.nodeType === Node.ELEMENT_NODE);</span><span class="s3">\n        </span><span class="s1">if (slottedElements.length === 1 &amp;&amp;</span><span class="s3">\n            </span><span class="s1">slottedElements[0] instanceof SVGElement) {</span><span class="s3">\n            </span><span class="s1">this.control.classList.add('icon-only');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.control.classList.remove('icon-only');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterAnchor.prototype, </span><span class="s3">\&quot;</span><span class="s1">appearance</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Anchor} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#anchorTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-anchor&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* {@link https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/delegatesFocus | delegatesFocus}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpAnchor = JupyterAnchor.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'anchor',</span><span class="s3">\n    </span><span class="s1">baseClass: Anchor,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterAnchor as Anchor };</span><span class="s3">\n</span><span class="s1">export { styles as anchorStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* This set of exported strings reference https://developer.mozilla.org/en-US/docs/Web/Events</span><span class="s3">\n </span><span class="s1">* and should include all non-deprecated and non-experimental Standard events</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const eventAbort = </span><span class="s3">\&quot;</span><span class="s1">abort</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventAfterPrint = </span><span class="s3">\&quot;</span><span class="s1">afterprint</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventAnimationCancel = </span><span class="s3">\&quot;</span><span class="s1">animationcancel</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventAnimationEnd = </span><span class="s3">\&quot;</span><span class="s1">animationend</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventAnimationIteration = </span><span class="s3">\&quot;</span><span class="s1">animationiteration</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventAnimationStart = </span><span class="s3">\&quot;</span><span class="s1">animationstart</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventAppInstalled = </span><span class="s3">\&quot;</span><span class="s1">appinstalled</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventBeforePrint = </span><span class="s3">\&quot;</span><span class="s1">beforeprint</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventBeforeUnload = </span><span class="s3">\&quot;</span><span class="s1">beforeunload</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventBeginEvent = </span><span class="s3">\&quot;</span><span class="s1">beginEvent</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventBlocked = </span><span class="s3">\&quot;</span><span class="s1">blocked</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventBlur = </span><span class="s3">\&quot;</span><span class="s1">blur</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventCanPlay = </span><span class="s3">\&quot;</span><span class="s1">canplay</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventCanPlayThrough = </span><span class="s3">\&quot;</span><span class="s1">canplaythrough</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventChange = </span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventChargingChange = </span><span class="s3">\&quot;</span><span class="s1">chargingchange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventChargingTimeChange = </span><span class="s3">\&quot;</span><span class="s1">chargingtimechange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventClick = </span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventClose = </span><span class="s3">\&quot;</span><span class="s1">close</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventComplete = </span><span class="s3">\&quot;</span><span class="s1">complete</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventCompositionEnd = </span><span class="s3">\&quot;</span><span class="s1">compositionend</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventCompositionStart = </span><span class="s3">\&quot;</span><span class="s1">compositionstart</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventCompositionUpdate = </span><span class="s3">\&quot;</span><span class="s1">compositionupdate</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventContextMenu = </span><span class="s3">\&quot;</span><span class="s1">contextmenu</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventCopy = </span><span class="s3">\&quot;</span><span class="s1">copy</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventCut = </span><span class="s3">\&quot;</span><span class="s1">cut</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDblClick = </span><span class="s3">\&quot;</span><span class="s1">dblclick</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDeviceChange = </span><span class="s3">\&quot;</span><span class="s1">devicechange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDeviceMotion = </span><span class="s3">\&quot;</span><span class="s1">devicemotion</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDeviceOrientation = </span><span class="s3">\&quot;</span><span class="s1">deviceorientation</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDischargingTimeChange = </span><span class="s3">\&quot;</span><span class="s1">dischargingtimechange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDrag = </span><span class="s3">\&quot;</span><span class="s1">drag</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDragEnd = </span><span class="s3">\&quot;</span><span class="s1">dragend</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDragEnter = </span><span class="s3">\&quot;</span><span class="s1">dragenter</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDragLeave = </span><span class="s3">\&quot;</span><span class="s1">dragleave</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDragOver = </span><span class="s3">\&quot;</span><span class="s1">dragover</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDragStart = </span><span class="s3">\&quot;</span><span class="s1">dragstart</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDrop = </span><span class="s3">\&quot;</span><span class="s1">drop</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventDurationChange = </span><span class="s3">\&quot;</span><span class="s1">durationchange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventEmptied = </span><span class="s3">\&quot;</span><span class="s1">emptied</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventEnded = </span><span class="s3">\&quot;</span><span class="s1">ended</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventEndEvent = </span><span class="s3">\&quot;</span><span class="s1">endevent</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventError = </span><span class="s3">\&quot;</span><span class="s1">error</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventFocus = </span><span class="s3">\&quot;</span><span class="s1">focus</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventFocusIn = </span><span class="s3">\&quot;</span><span class="s1">focusin</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventFocusOut = </span><span class="s3">\&quot;</span><span class="s1">focusout</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventFullScreenChange = </span><span class="s3">\&quot;</span><span class="s1">fullscreenchange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventFullScreenError = </span><span class="s3">\&quot;</span><span class="s1">fullscreenerror</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventGamePadConnected = </span><span class="s3">\&quot;</span><span class="s1">gamepadconnected</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventGamePadDisconnected = </span><span class="s3">\&quot;</span><span class="s1">gamepaddisconnected</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventGotPointerCapture = </span><span class="s3">\&quot;</span><span class="s1">gotpointercapture</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventHashChange = </span><span class="s3">\&quot;</span><span class="s1">hashchange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventLostPointerCapture = </span><span class="s3">\&quot;</span><span class="s1">lostpointercapture</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventInput = </span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventInvalid = </span><span class="s3">\&quot;</span><span class="s1">invalid</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventKeyDown = </span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventKeyUp = </span><span class="s3">\&quot;</span><span class="s1">keyup</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventLevelChange = </span><span class="s3">\&quot;</span><span class="s1">levelchange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventLoad = </span><span class="s3">\&quot;</span><span class="s1">load</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventLoadedData = </span><span class="s3">\&quot;</span><span class="s1">loadeddata</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventLoadedMetaData = </span><span class="s3">\&quot;</span><span class="s1">loadedmetadata</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventLoadEnd = </span><span class="s3">\&quot;</span><span class="s1">loadend</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventLoadStart = </span><span class="s3">\&quot;</span><span class="s1">loadstart</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventMessage = </span><span class="s3">\&quot;</span><span class="s1">message</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventMessageError = </span><span class="s3">\&quot;</span><span class="s1">messageerror</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventMouseDown = </span><span class="s3">\&quot;</span><span class="s1">mousedown</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventMouseEnter = </span><span class="s3">\&quot;</span><span class="s1">mouseenter</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventMouseLeave = </span><span class="s3">\&quot;</span><span class="s1">mouseleave</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventMouseMove = </span><span class="s3">\&quot;</span><span class="s1">mousemove</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventMouseOut = </span><span class="s3">\&quot;</span><span class="s1">mouseout</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventMouseOver = </span><span class="s3">\&quot;</span><span class="s1">mouseover</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventMouseUp = </span><span class="s3">\&quot;</span><span class="s1">mouseup</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventNotificationClick = </span><span class="s3">\&quot;</span><span class="s1">notificationclick</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventOffline = </span><span class="s3">\&quot;</span><span class="s1">offline</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventOnline = </span><span class="s3">\&quot;</span><span class="s1">online</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventOpen = </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventOrientationChange = </span><span class="s3">\&quot;</span><span class="s1">orientationchange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPageHide = </span><span class="s3">\&quot;</span><span class="s1">pagehide</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPageShow = </span><span class="s3">\&quot;</span><span class="s1">pageshow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPaste = </span><span class="s3">\&quot;</span><span class="s1">paste</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPause = </span><span class="s3">\&quot;</span><span class="s1">pause</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPointerCancel = </span><span class="s3">\&quot;</span><span class="s1">pointercancel</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPointerDown = </span><span class="s3">\&quot;</span><span class="s1">pointerdown</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPointerEnter = </span><span class="s3">\&quot;</span><span class="s1">pointerenter</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPointerLeave = </span><span class="s3">\&quot;</span><span class="s1">pointerleave</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPointerLockChange = </span><span class="s3">\&quot;</span><span class="s1">pointerlockchange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPointerLockError = </span><span class="s3">\&quot;</span><span class="s1">pointerlockerror</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPointerMove = </span><span class="s3">\&quot;</span><span class="s1">pointermove</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPointerOut = </span><span class="s3">\&quot;</span><span class="s1">pointerout</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPointerOver = </span><span class="s3">\&quot;</span><span class="s1">pointerover</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPointerUp = </span><span class="s3">\&quot;</span><span class="s1">pointerup</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPlay = </span><span class="s3">\&quot;</span><span class="s1">play</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPlaying = </span><span class="s3">\&quot;</span><span class="s1">playing</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPopState = </span><span class="s3">\&quot;</span><span class="s1">popstate</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventProgress = </span><span class="s3">\&quot;</span><span class="s1">progress</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPush = </span><span class="s3">\&quot;</span><span class="s1">push</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventPushSubscriptionChange = </span><span class="s3">\&quot;</span><span class="s1">pushsubscriptionchange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventRateChange = </span><span class="s3">\&quot;</span><span class="s1">ratechange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventReadyStateChange = </span><span class="s3">\&quot;</span><span class="s1">readystatechange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventRepeatEvent = </span><span class="s3">\&quot;</span><span class="s1">repeatevent</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventReset = </span><span class="s3">\&quot;</span><span class="s1">reset</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventResize = </span><span class="s3">\&quot;</span><span class="s1">resize</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventResourceTimingBufferFull = </span><span class="s3">\&quot;</span><span class="s1">resourcetimingbufferfull</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventScroll = </span><span class="s3">\&quot;</span><span class="s1">scroll</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSeeked = </span><span class="s3">\&quot;</span><span class="s1">seeked</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSeeking = </span><span class="s3">\&quot;</span><span class="s1">seeking</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSelect = </span><span class="s3">\&quot;</span><span class="s1">select</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventShow = </span><span class="s3">\&quot;</span><span class="s1">show</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSlotChange = </span><span class="s3">\&quot;</span><span class="s1">slotchange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventStalled = </span><span class="s3">\&quot;</span><span class="s1">stalled</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventStart = </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventStorage = </span><span class="s3">\&quot;</span><span class="s1">storage</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSubmit = </span><span class="s3">\&quot;</span><span class="s1">submit</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSuccess = </span><span class="s3">\&quot;</span><span class="s1">success</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSuspend = </span><span class="s3">\&quot;</span><span class="s1">suspend</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSVGAbort = </span><span class="s3">\&quot;</span><span class="s1">SVGAbort</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSVGError = </span><span class="s3">\&quot;</span><span class="s1">SVGError</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSVGLoad = </span><span class="s3">\&quot;</span><span class="s1">SVGLoad</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSVGResize = </span><span class="s3">\&quot;</span><span class="s1">SVGResize</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSVGScroll = </span><span class="s3">\&quot;</span><span class="s1">SVGScroll</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSVGUnload = </span><span class="s3">\&quot;</span><span class="s1">SVGUnload</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventSVGZoom = </span><span class="s3">\&quot;</span><span class="s1">SVGZoom</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventTimeOut = </span><span class="s3">\&quot;</span><span class="s1">timeout</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventTimeUpdate = </span><span class="s3">\&quot;</span><span class="s1">timeupdate</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventTouchCancel = </span><span class="s3">\&quot;</span><span class="s1">touchcancel</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventTouchEnd = </span><span class="s3">\&quot;</span><span class="s1">touchend</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventTouchMove = </span><span class="s3">\&quot;</span><span class="s1">touchmove</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventTouchStart = </span><span class="s3">\&quot;</span><span class="s1">touchstart</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventTransitionEnd = </span><span class="s3">\&quot;</span><span class="s1">transitionend</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventUnload = </span><span class="s3">\&quot;</span><span class="s1">unload</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventUpgradeNeeded = </span><span class="s3">\&quot;</span><span class="s1">upgradeneeded</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventUserProximity = </span><span class="s3">\&quot;</span><span class="s1">userproximity</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventVersionChange = </span><span class="s3">\&quot;</span><span class="s1">versionchange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventVisibilityChange = </span><span class="s3">\&quot;</span><span class="s1">visibilitychange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventVolumeChange = </span><span class="s3">\&quot;</span><span class="s1">volumechange</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventWaiting = </span><span class="s3">\&quot;</span><span class="s1">waiting</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export const eventWheel = </span><span class="s3">\&quot;</span><span class="s1">wheel</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { Direction } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* a method to determine the current localization direction of the view</span><span class="s3">\n </span><span class="s1">* @param rootNode - the HTMLElement to begin the query from, usually </span><span class="s3">\&quot;</span><span class="s1">this</span><span class="s3">\&quot; </span><span class="s1">when used in a component controller</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const getDirection = (rootNode) =&gt; {</span><span class="s3">\n    </span><span class="s1">const dirNode = rootNode.closest(</span><span class="s3">\&quot;</span><span class="s1">[dir]</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return dirNode !== null &amp;&amp; dirNode.dir === </span><span class="s3">\&quot;</span><span class="s1">rtl</span><span class="s3">\&quot; </span><span class="s1">? Direction.rtl : Direction.ltr;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { $global } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">*  A service to batch intersection event callbacks so multiple elements can share a single observer</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class IntersectionService {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">this.intersectionDetector = null;</span><span class="s3">\n        </span><span class="s1">this.observedElements = new Map();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Request the position of a target element</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.requestPosition = (target, callback) =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">if (this.intersectionDetector === null) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.observedElements.has(target)) {</span><span class="s3">\n                </span><span class="s1">(_a = this.observedElements.get(target)) === null || _a === void 0 ? void 0 : _a.push(callback);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.observedElements.set(target, [callback]);</span><span class="s3">\n            </span><span class="s1">this.intersectionDetector.observe(target);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Cancel a position request</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.cancelRequestPosition = (target, callback) =&gt; {</span><span class="s3">\n            </span><span class="s1">const callbacks = this.observedElements.get(target);</span><span class="s3">\n            </span><span class="s1">if (callbacks !== undefined) {</span><span class="s3">\n                </span><span class="s1">const callBackIndex = callbacks.indexOf(callback);</span><span class="s3">\n                </span><span class="s1">if (callBackIndex !== -1) {</span><span class="s3">\n                    </span><span class="s1">callbacks.splice(callBackIndex, 1);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* initialize intersection detector</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.initializeIntersectionDetector = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!$global.IntersectionObserver) {</span><span class="s3">\n                </span><span class="s1">//intersection observer not supported</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.intersectionDetector = new IntersectionObserver(this.handleIntersection, {</span><span class="s3">\n                </span><span class="s1">root: null,</span><span class="s3">\n                </span><span class="s1">rootMargin: </span><span class="s3">\&quot;</span><span class="s1">0px</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n                </span><span class="s1">threshold: [0, 1],</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Handle intersections</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleIntersection = (entries) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.intersectionDetector === null) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const pendingCallbacks = [];</span><span class="s3">\n            </span><span class="s1">const pendingCallbackParams = [];</span><span class="s3">\n            </span><span class="s1">// go through the entries to build a list of callbacks and params for each</span><span class="s3">\n            </span><span class="s1">entries.forEach((entry) =&gt; {</span><span class="s3">\n                </span><span class="s1">var _a;</span><span class="s3">\n                </span><span class="s1">// stop watching this element until we get new update requests for it</span><span class="s3">\n                </span><span class="s1">(_a = this.intersectionDetector) === null || _a === void 0 ? void 0 : _a.unobserve(entry.target);</span><span class="s3">\n                </span><span class="s1">const thisElementCallbacks = this.observedElements.get(entry.target);</span><span class="s3">\n                </span><span class="s1">if (thisElementCallbacks !== undefined) {</span><span class="s3">\n                    </span><span class="s1">thisElementCallbacks.forEach((callback) =&gt; {</span><span class="s3">\n                        </span><span class="s1">let targetCallbackIndex = pendingCallbacks.indexOf(callback);</span><span class="s3">\n                        </span><span class="s1">if (targetCallbackIndex === -1) {</span><span class="s3">\n                            </span><span class="s1">targetCallbackIndex = pendingCallbacks.length;</span><span class="s3">\n                            </span><span class="s1">pendingCallbacks.push(callback);</span><span class="s3">\n                            </span><span class="s1">pendingCallbackParams.push([]);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">pendingCallbackParams[targetCallbackIndex].push(entry);</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                    </span><span class="s1">this.observedElements.delete(entry.target);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">// execute callbacks</span><span class="s3">\n            </span><span class="s1">pendingCallbacks.forEach((callback, index) =&gt; {</span><span class="s3">\n                </span><span class="s1">callback(pendingCallbackParams[index]);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.initializeIntersectionDetector();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Direction, eventResize, eventScroll } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { getDirection } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/direction.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { IntersectionService } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/intersection-service.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An anchored region Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the content</span><span class="s3">\n </span><span class="s1">* @fires loaded - Fires a custom 'loaded' event when the region is loaded and visible</span><span class="s3">\n </span><span class="s1">* @fires positionchange - Fires a custom 'positionchange' event when the position has changed</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class AnchoredRegion extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The HTML ID of the anchor element this region is positioned relative to</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: anchor</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.anchor = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The HTML ID of the viewport element this region is positioned relative to</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: anchor</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.viewport = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Sets what logic the component uses to determine horizontal placement.</span><span class="s3">\n         </span><span class="s1">* 'locktodefault' forces the default position</span><span class="s3">\n         </span><span class="s1">* 'dynamic' decides placement based on available space</span><span class="s3">\n         </span><span class="s1">* 'uncontrolled' does not control placement on the horizontal axis</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: horizontal-positioning-mode</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.horizontalPositioningMode = </span><span class="s3">\&quot;</span><span class="s1">uncontrolled</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The default horizontal position of the region relative to the anchor element</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: horizontal-default-position</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">unset</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether the region remains in the viewport (ie. detaches from the anchor) on the horizontal axis</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: horizontal-viewport-lock</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.horizontalViewportLock = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether the region overlaps the anchor on the horizontal axis</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: horizontal-inset</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.horizontalInset = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Defines how the width of the region is calculated</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: horizontal-scaling</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.horizontalScaling = </span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Sets what logic the component uses to determine vertical placement.</span><span class="s3">\n         </span><span class="s1">* 'locktodefault' forces the default position</span><span class="s3">\n         </span><span class="s1">* 'dynamic' decides placement based on available space</span><span class="s3">\n         </span><span class="s1">* 'uncontrolled' does not control placement on the vertical axis</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: vertical-positioning-mode</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.verticalPositioningMode = </span><span class="s3">\&quot;</span><span class="s1">uncontrolled</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The default vertical position of the region relative to the anchor element</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: vertical-default-position</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.verticalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">unset</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether the region remains in the viewport (ie. detaches from the anchor) on the vertical axis</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: vertical-viewport-lock</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.verticalViewportLock = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether the region overlaps the anchor on the vertical axis</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: vertical-inset</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.verticalInset = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Defines how the height of the region is calculated</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: vertical-scaling</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.verticalScaling = </span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether the region is positioned using css </span><span class="s3">\&quot;</span><span class="s1">position: fixed</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n         </span><span class="s1">* Otherwise the region uses </span><span class="s3">\&quot;</span><span class="s1">position: absolute</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n         </span><span class="s1">* Fixed placement allows the region to break out of parent containers,</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: fixed-placement</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.fixedPlacement = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Defines what triggers the anchored region to revaluate positioning</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: auto-update-mode</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.autoUpdateMode = </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The HTML element being used as the anchor</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.anchorElement = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The HTML element being used as the viewport</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.viewportElement = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* indicates that an initial positioning pass on layout has completed</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.initialLayoutComplete = false;</span><span class="s3">\n        </span><span class="s1">this.resizeDetector = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* base offsets between the positioner's base position and the anchor's</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.baseHorizontalOffset = 0;</span><span class="s3">\n        </span><span class="s1">this.baseVerticalOffset = 0;</span><span class="s3">\n        </span><span class="s1">this.pendingPositioningUpdate = false;</span><span class="s3">\n        </span><span class="s1">this.pendingReset = false;</span><span class="s3">\n        </span><span class="s1">this.currentDirection = Direction.ltr;</span><span class="s3">\n        </span><span class="s1">this.regionVisible = false;</span><span class="s3">\n        </span><span class="s1">// indicates that a layout update should occur even if geometry has not changed</span><span class="s3">\n        </span><span class="s1">// used to ensure some attribute changes are applied</span><span class="s3">\n        </span><span class="s1">this.forceUpdate = false;</span><span class="s3">\n        </span><span class="s1">// defines how big a difference in pixels there must be between states to</span><span class="s3">\n        </span><span class="s1">// justify a layout update that affects the dom (prevents repeated sub-pixel corrections)</span><span class="s3">\n        </span><span class="s1">this.updateThreshold = 0.5;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* update position</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.update = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.pendingPositioningUpdate) {</span><span class="s3">\n                </span><span class="s1">this.requestPositionUpdates();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* starts observers</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.startObservers = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.stopObservers();</span><span class="s3">\n            </span><span class="s1">if (this.anchorElement === null) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.requestPositionUpdates();</span><span class="s3">\n            </span><span class="s1">if (this.resizeDetector !== null) {</span><span class="s3">\n                </span><span class="s1">this.resizeDetector.observe(this.anchorElement);</span><span class="s3">\n                </span><span class="s1">this.resizeDetector.observe(this);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* get position updates</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.requestPositionUpdates = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.anchorElement === null || this.pendingPositioningUpdate) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">AnchoredRegion.intersectionService.requestPosition(this, this.handleIntersection);</span><span class="s3">\n            </span><span class="s1">AnchoredRegion.intersectionService.requestPosition(this.anchorElement, this.handleIntersection);</span><span class="s3">\n            </span><span class="s1">if (this.viewportElement !== null) {</span><span class="s3">\n                </span><span class="s1">AnchoredRegion.intersectionService.requestPosition(this.viewportElement, this.handleIntersection);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.pendingPositioningUpdate = true;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* stops observers</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.stopObservers = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.pendingPositioningUpdate) {</span><span class="s3">\n                </span><span class="s1">this.pendingPositioningUpdate = false;</span><span class="s3">\n                </span><span class="s1">AnchoredRegion.intersectionService.cancelRequestPosition(this, this.handleIntersection);</span><span class="s3">\n                </span><span class="s1">if (this.anchorElement !== null) {</span><span class="s3">\n                    </span><span class="s1">AnchoredRegion.intersectionService.cancelRequestPosition(this.anchorElement, this.handleIntersection);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (this.viewportElement !== null) {</span><span class="s3">\n                    </span><span class="s1">AnchoredRegion.intersectionService.cancelRequestPosition(this.viewportElement, this.handleIntersection);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.resizeDetector !== null) {</span><span class="s3">\n                </span><span class="s1">this.resizeDetector.disconnect();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Gets the viewport element by id, or defaults to document root</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.getViewport = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (typeof this.viewport !== </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">|| this.viewport === </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">return document.documentElement;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return document.getElementById(this.viewport);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Gets the anchor element by id</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.getAnchor = () =&gt; {</span><span class="s3">\n            </span><span class="s1">return document.getElementById(this.anchor);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Handle intersections</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleIntersection = (entries) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.pendingPositioningUpdate) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.pendingPositioningUpdate = false;</span><span class="s3">\n            </span><span class="s1">if (!this.applyIntersectionEntries(entries)) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.updateLayout();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  iterate through intersection entries and apply data</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.applyIntersectionEntries = (entries) =&gt; {</span><span class="s3">\n            </span><span class="s1">const regionEntry = entries.find(x =&gt; x.target === this);</span><span class="s3">\n            </span><span class="s1">const anchorEntry = entries.find(x =&gt; x.target === this.anchorElement);</span><span class="s3">\n            </span><span class="s1">const viewportEntry = entries.find(x =&gt; x.target === this.viewportElement);</span><span class="s3">\n            </span><span class="s1">if (regionEntry === undefined ||</span><span class="s3">\n                </span><span class="s1">viewportEntry === undefined ||</span><span class="s3">\n                </span><span class="s1">anchorEntry === undefined) {</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// don't update the dom unless there is a significant difference in rect positions</span><span class="s3">\n            </span><span class="s1">if (!this.regionVisible ||</span><span class="s3">\n                </span><span class="s1">this.forceUpdate ||</span><span class="s3">\n                </span><span class="s1">this.regionRect === undefined ||</span><span class="s3">\n                </span><span class="s1">this.anchorRect === undefined ||</span><span class="s3">\n                </span><span class="s1">this.viewportRect === undefined ||</span><span class="s3">\n                </span><span class="s1">this.isRectDifferent(this.anchorRect, anchorEntry.boundingClientRect) ||</span><span class="s3">\n                </span><span class="s1">this.isRectDifferent(this.viewportRect, viewportEntry.boundingClientRect) ||</span><span class="s3">\n                </span><span class="s1">this.isRectDifferent(this.regionRect, regionEntry.boundingClientRect)) {</span><span class="s3">\n                </span><span class="s1">this.regionRect = regionEntry.boundingClientRect;</span><span class="s3">\n                </span><span class="s1">this.anchorRect = anchorEntry.boundingClientRect;</span><span class="s3">\n                </span><span class="s1">if (this.viewportElement === document.documentElement) {</span><span class="s3">\n                    </span><span class="s1">this.viewportRect = new DOMRectReadOnly(viewportEntry.boundingClientRect.x +</span><span class="s3">\n                        </span><span class="s1">document.documentElement.scrollLeft, viewportEntry.boundingClientRect.y +</span><span class="s3">\n                        </span><span class="s1">document.documentElement.scrollTop, viewportEntry.boundingClientRect.width, viewportEntry.boundingClientRect.height);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">this.viewportRect = viewportEntry.boundingClientRect;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.updateRegionOffset();</span><span class="s3">\n                </span><span class="s1">this.forceUpdate = false;</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Update the offset values</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.updateRegionOffset = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.anchorRect &amp;&amp; this.regionRect) {</span><span class="s3">\n                </span><span class="s1">this.baseHorizontalOffset =</span><span class="s3">\n                    </span><span class="s1">this.baseHorizontalOffset +</span><span class="s3">\n                        </span><span class="s1">(this.anchorRect.left - this.regionRect.left) +</span><span class="s3">\n                        </span><span class="s1">(this.translateX - this.baseHorizontalOffset);</span><span class="s3">\n                </span><span class="s1">this.baseVerticalOffset =</span><span class="s3">\n                    </span><span class="s1">this.baseVerticalOffset +</span><span class="s3">\n                        </span><span class="s1">(this.anchorRect.top - this.regionRect.top) +</span><span class="s3">\n                        </span><span class="s1">(this.translateY - this.baseVerticalOffset);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  compare rects to see if there is enough change to justify a DOM update</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isRectDifferent = (rectA, rectB) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (Math.abs(rectA.top - rectB.top) &gt; this.updateThreshold ||</span><span class="s3">\n                </span><span class="s1">Math.abs(rectA.right - rectB.right) &gt; this.updateThreshold ||</span><span class="s3">\n                </span><span class="s1">Math.abs(rectA.bottom - rectB.bottom) &gt; this.updateThreshold ||</span><span class="s3">\n                </span><span class="s1">Math.abs(rectA.left - rectB.left) &gt; this.updateThreshold) {</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Handle resize events</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleResize = (entries) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.update();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* resets the component</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.reset = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.pendingReset) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.pendingReset = false;</span><span class="s3">\n            </span><span class="s1">if (this.anchorElement === null) {</span><span class="s3">\n                </span><span class="s1">this.anchorElement = this.getAnchor();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.viewportElement === null) {</span><span class="s3">\n                </span><span class="s1">this.viewportElement = this.getViewport();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.currentDirection = getDirection(this);</span><span class="s3">\n            </span><span class="s1">this.startObservers();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Recalculate layout related state values</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.updateLayout = () =&gt; {</span><span class="s3">\n            </span><span class="s1">let desiredVerticalPosition = undefined;</span><span class="s3">\n            </span><span class="s1">let desiredHorizontalPosition = undefined;</span><span class="s3">\n            </span><span class="s1">if (this.horizontalPositioningMode !== </span><span class="s3">\&quot;</span><span class="s1">uncontrolled</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">const horizontalOptions = this.getPositioningOptions(this.horizontalInset);</span><span class="s3">\n                </span><span class="s1">if (this.horizontalDefaultPosition === </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">desiredHorizontalPosition = </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (this.horizontalDefaultPosition !== </span><span class="s3">\&quot;</span><span class="s1">unset</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">let dirCorrectedHorizontalDefaultPosition = this</span><span class="s3">\n                        </span><span class="s1">.horizontalDefaultPosition;</span><span class="s3">\n                    </span><span class="s1">if (dirCorrectedHorizontalDefaultPosition === </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot; </span><span class="s1">||</span><span class="s3">\n                        </span><span class="s1">dirCorrectedHorizontalDefaultPosition === </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                        </span><span class="s1">// if direction changes we reset the layout</span><span class="s3">\n                        </span><span class="s1">const newDirection = getDirection(this);</span><span class="s3">\n                        </span><span class="s1">if (newDirection !== this.currentDirection) {</span><span class="s3">\n                            </span><span class="s1">this.currentDirection = newDirection;</span><span class="s3">\n                            </span><span class="s1">this.initialize();</span><span class="s3">\n                            </span><span class="s1">return;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">if (this.currentDirection === Direction.ltr) {</span><span class="s3">\n                            </span><span class="s1">dirCorrectedHorizontalDefaultPosition =</span><span class="s3">\n                                </span><span class="s1">dirCorrectedHorizontalDefaultPosition === </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;\n                                    </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;\n                                    </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else {</span><span class="s3">\n                            </span><span class="s1">dirCorrectedHorizontalDefaultPosition =</span><span class="s3">\n                                </span><span class="s1">dirCorrectedHorizontalDefaultPosition === </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;\n                                    </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;\n                                    </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">switch (dirCorrectedHorizontalDefaultPosition) {</span><span class="s3">\n                        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                            </span><span class="s1">desiredHorizontalPosition = this.horizontalInset</span><span class="s3">\n                                </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">insetStart</span><span class="s3">\&quot;\n                                </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                            </span><span class="s1">break;</span><span class="s3">\n                        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                            </span><span class="s1">desiredHorizontalPosition = this.horizontalInset</span><span class="s3">\n                                </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">insetEnd</span><span class="s3">\&quot;\n                                </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                            </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">const horizontalThreshold = this.horizontalThreshold !== undefined</span><span class="s3">\n                    </span><span class="s1">? this.horizontalThreshold</span><span class="s3">\n                    </span><span class="s1">: this.regionRect !== undefined</span><span class="s3">\n                        </span><span class="s1">? this.regionRect.width</span><span class="s3">\n                        </span><span class="s1">: 0;</span><span class="s3">\n                </span><span class="s1">const anchorLeft = this.anchorRect !== undefined ? this.anchorRect.left : 0;</span><span class="s3">\n                </span><span class="s1">const anchorRight = this.anchorRect !== undefined ? this.anchorRect.right : 0;</span><span class="s3">\n                </span><span class="s1">const anchorWidth = this.anchorRect !== undefined ? this.anchorRect.width : 0;</span><span class="s3">\n                </span><span class="s1">const viewportLeft = this.viewportRect !== undefined ? this.viewportRect.left : 0;</span><span class="s3">\n                </span><span class="s1">const viewportRight = this.viewportRect !== undefined ? this.viewportRect.right : 0;</span><span class="s3">\n                </span><span class="s1">if (desiredHorizontalPosition === undefined ||</span><span class="s3">\n                    </span><span class="s1">(!(this.horizontalPositioningMode === </span><span class="s3">\&quot;</span><span class="s1">locktodefault</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.getAvailableSpace(desiredHorizontalPosition, anchorLeft, anchorRight, anchorWidth, viewportLeft, viewportRight) &lt; horizontalThreshold)) {</span><span class="s3">\n                    </span><span class="s1">desiredHorizontalPosition =</span><span class="s3">\n                        </span><span class="s1">this.getAvailableSpace(horizontalOptions[0], anchorLeft, anchorRight, anchorWidth, viewportLeft, viewportRight) &gt;</span><span class="s3">\n                            </span><span class="s1">this.getAvailableSpace(horizontalOptions[1], anchorLeft, anchorRight, anchorWidth, viewportLeft, viewportRight)</span><span class="s3">\n                            </span><span class="s1">? horizontalOptions[0]</span><span class="s3">\n                            </span><span class="s1">: horizontalOptions[1];</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.verticalPositioningMode !== </span><span class="s3">\&quot;</span><span class="s1">uncontrolled</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">const verticalOptions = this.getPositioningOptions(this.verticalInset);</span><span class="s3">\n                </span><span class="s1">if (this.verticalDefaultPosition === </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">desiredVerticalPosition = </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (this.verticalDefaultPosition !== </span><span class="s3">\&quot;</span><span class="s1">unset</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">switch (this.verticalDefaultPosition) {</span><span class="s3">\n                        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                            </span><span class="s1">desiredVerticalPosition = this.verticalInset</span><span class="s3">\n                                </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">insetStart</span><span class="s3">\&quot;\n                                </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                            </span><span class="s1">break;</span><span class="s3">\n                        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                            </span><span class="s1">desiredVerticalPosition = this.verticalInset ? </span><span class="s3">\&quot;</span><span class="s1">insetEnd</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                            </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">const verticalThreshold = this.verticalThreshold !== undefined</span><span class="s3">\n                    </span><span class="s1">? this.verticalThreshold</span><span class="s3">\n                    </span><span class="s1">: this.regionRect !== undefined</span><span class="s3">\n                        </span><span class="s1">? this.regionRect.height</span><span class="s3">\n                        </span><span class="s1">: 0;</span><span class="s3">\n                </span><span class="s1">const anchorTop = this.anchorRect !== undefined ? this.anchorRect.top : 0;</span><span class="s3">\n                </span><span class="s1">const anchorBottom = this.anchorRect !== undefined ? this.anchorRect.bottom : 0;</span><span class="s3">\n                </span><span class="s1">const anchorHeight = this.anchorRect !== undefined ? this.anchorRect.height : 0;</span><span class="s3">\n                </span><span class="s1">const viewportTop = this.viewportRect !== undefined ? this.viewportRect.top : 0;</span><span class="s3">\n                </span><span class="s1">const viewportBottom = this.viewportRect !== undefined ? this.viewportRect.bottom : 0;</span><span class="s3">\n                </span><span class="s1">if (desiredVerticalPosition === undefined ||</span><span class="s3">\n                    </span><span class="s1">(!(this.verticalPositioningMode === </span><span class="s3">\&quot;</span><span class="s1">locktodefault</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.getAvailableSpace(desiredVerticalPosition, anchorTop, anchorBottom, anchorHeight, viewportTop, viewportBottom) &lt; verticalThreshold)) {</span><span class="s3">\n                    </span><span class="s1">desiredVerticalPosition =</span><span class="s3">\n                        </span><span class="s1">this.getAvailableSpace(verticalOptions[0], anchorTop, anchorBottom, anchorHeight, viewportTop, viewportBottom) &gt;</span><span class="s3">\n                            </span><span class="s1">this.getAvailableSpace(verticalOptions[1], anchorTop, anchorBottom, anchorHeight, viewportTop, viewportBottom)</span><span class="s3">\n                            </span><span class="s1">? verticalOptions[0]</span><span class="s3">\n                            </span><span class="s1">: verticalOptions[1];</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const nextPositionerDimension = this.getNextRegionDimension(desiredHorizontalPosition, desiredVerticalPosition);</span><span class="s3">\n            </span><span class="s1">const positionChanged = this.horizontalPosition !== desiredHorizontalPosition ||</span><span class="s3">\n                </span><span class="s1">this.verticalPosition !== desiredVerticalPosition;</span><span class="s3">\n            </span><span class="s1">this.setHorizontalPosition(desiredHorizontalPosition, nextPositionerDimension);</span><span class="s3">\n            </span><span class="s1">this.setVerticalPosition(desiredVerticalPosition, nextPositionerDimension);</span><span class="s3">\n            </span><span class="s1">this.updateRegionStyle();</span><span class="s3">\n            </span><span class="s1">if (!this.initialLayoutComplete) {</span><span class="s3">\n                </span><span class="s1">this.initialLayoutComplete = true;</span><span class="s3">\n                </span><span class="s1">this.requestPositionUpdates();</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (!this.regionVisible) {</span><span class="s3">\n                </span><span class="s1">this.regionVisible = true;</span><span class="s3">\n                </span><span class="s1">this.style.removeProperty(</span><span class="s3">\&quot;</span><span class="s1">pointer-events</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.style.removeProperty(</span><span class="s3">\&quot;</span><span class="s1">opacity</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">loaded</span><span class="s3">\&quot;</span><span class="s1">, true);</span><span class="s3">\n                </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">loaded</span><span class="s3">\&quot;</span><span class="s1">, this, { bubbles: false });</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.updatePositionClasses();</span><span class="s3">\n            </span><span class="s1">if (positionChanged) {</span><span class="s3">\n                </span><span class="s1">// emit change event</span><span class="s3">\n                </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">positionchange</span><span class="s3">\&quot;</span><span class="s1">, this, { bubbles: false });</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Updates the style string applied to the region element as well as the css classes attached</span><span class="s3">\n         </span><span class="s1">*  to the root element</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.updateRegionStyle = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.style.width = this.regionWidth;</span><span class="s3">\n            </span><span class="s1">this.style.height = this.regionHeight;</span><span class="s3">\n            </span><span class="s1">this.style.transform = `translate(${this.translateX}px, ${this.translateY}px)`;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Updates the css classes that reflect the current position of the element</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.updatePositionClasses = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">, this.verticalPosition === </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">, this.verticalPosition === </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">inset-top</span><span class="s3">\&quot;</span><span class="s1">, this.verticalPosition === </span><span class="s3">\&quot;</span><span class="s1">insetStart</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">inset-bottom</span><span class="s3">\&quot;</span><span class="s1">, this.verticalPosition === </span><span class="s3">\&quot;</span><span class="s1">insetEnd</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">vertical-center</span><span class="s3">\&quot;</span><span class="s1">, this.verticalPosition === </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">, this.horizontalPosition === </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">, this.horizontalPosition === </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">inset-left</span><span class="s3">\&quot;</span><span class="s1">, this.horizontalPosition === </span><span class="s3">\&quot;</span><span class="s1">insetStart</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">inset-right</span><span class="s3">\&quot;</span><span class="s1">, this.horizontalPosition === </span><span class="s3">\&quot;</span><span class="s1">insetEnd</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">horizontal-center</span><span class="s3">\&quot;</span><span class="s1">, this.horizontalPosition === </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Get horizontal positioning state based on desired position</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.setHorizontalPosition = (desiredHorizontalPosition, nextPositionerDimension) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (desiredHorizontalPosition === undefined ||</span><span class="s3">\n                </span><span class="s1">this.regionRect === undefined ||</span><span class="s3">\n                </span><span class="s1">this.anchorRect === undefined ||</span><span class="s3">\n                </span><span class="s1">this.viewportRect === undefined) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">let nextRegionWidth = 0;</span><span class="s3">\n            </span><span class="s1">switch (this.horizontalScaling) {</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">nextRegionWidth = this.horizontalViewportLock</span><span class="s3">\n                        </span><span class="s1">? this.viewportRect.width</span><span class="s3">\n                        </span><span class="s1">: nextPositionerDimension.width;</span><span class="s3">\n                    </span><span class="s1">this.regionWidth = `${nextRegionWidth}px`;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">nextRegionWidth = this.regionRect.width;</span><span class="s3">\n                    </span><span class="s1">this.regionWidth = </span><span class="s3">\&quot;</span><span class="s1">unset</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">let sizeDelta = 0;</span><span class="s3">\n            </span><span class="s1">switch (desiredHorizontalPosition) {</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">this.translateX = this.baseHorizontalOffset - nextRegionWidth;</span><span class="s3">\n                    </span><span class="s1">if (this.horizontalViewportLock &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.anchorRect.left &gt; this.viewportRect.right) {</span><span class="s3">\n                        </span><span class="s1">this.translateX =</span><span class="s3">\n                            </span><span class="s1">this.translateX -</span><span class="s3">\n                                </span><span class="s1">(this.anchorRect.left - this.viewportRect.right);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">insetStart</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">this.translateX =</span><span class="s3">\n                        </span><span class="s1">this.baseHorizontalOffset - nextRegionWidth + this.anchorRect.width;</span><span class="s3">\n                    </span><span class="s1">if (this.horizontalViewportLock &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.anchorRect.right &gt; this.viewportRect.right) {</span><span class="s3">\n                        </span><span class="s1">this.translateX =</span><span class="s3">\n                            </span><span class="s1">this.translateX -</span><span class="s3">\n                                </span><span class="s1">(this.anchorRect.right - this.viewportRect.right);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">insetEnd</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">this.translateX = this.baseHorizontalOffset;</span><span class="s3">\n                    </span><span class="s1">if (this.horizontalViewportLock &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.anchorRect.left &lt; this.viewportRect.left) {</span><span class="s3">\n                        </span><span class="s1">this.translateX =</span><span class="s3">\n                            </span><span class="s1">this.translateX - (this.anchorRect.left - this.viewportRect.left);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">this.translateX = this.baseHorizontalOffset + this.anchorRect.width;</span><span class="s3">\n                    </span><span class="s1">if (this.horizontalViewportLock &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.anchorRect.right &lt; this.viewportRect.left) {</span><span class="s3">\n                        </span><span class="s1">this.translateX =</span><span class="s3">\n                            </span><span class="s1">this.translateX -</span><span class="s3">\n                                </span><span class="s1">(this.anchorRect.right - this.viewportRect.left);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">sizeDelta = (this.anchorRect.width - nextRegionWidth) / 2;</span><span class="s3">\n                    </span><span class="s1">this.translateX = this.baseHorizontalOffset + sizeDelta;</span><span class="s3">\n                    </span><span class="s1">if (this.horizontalViewportLock) {</span><span class="s3">\n                        </span><span class="s1">const regionLeft = this.anchorRect.left + sizeDelta;</span><span class="s3">\n                        </span><span class="s1">const regionRight = this.anchorRect.right - sizeDelta;</span><span class="s3">\n                        </span><span class="s1">if (regionLeft &lt; this.viewportRect.left &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">!(regionRight &gt; this.viewportRect.right)) {</span><span class="s3">\n                            </span><span class="s1">this.translateX =</span><span class="s3">\n                                </span><span class="s1">this.translateX - (regionLeft - this.viewportRect.left);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else if (regionRight &gt; this.viewportRect.right &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">!(regionLeft &lt; this.viewportRect.left)) {</span><span class="s3">\n                            </span><span class="s1">this.translateX =</span><span class="s3">\n                                </span><span class="s1">this.translateX - (regionRight - this.viewportRect.right);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.horizontalPosition = desiredHorizontalPosition;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Set vertical positioning state based on desired position</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.setVerticalPosition = (desiredVerticalPosition, nextPositionerDimension) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (desiredVerticalPosition === undefined ||</span><span class="s3">\n                </span><span class="s1">this.regionRect === undefined ||</span><span class="s3">\n                </span><span class="s1">this.anchorRect === undefined ||</span><span class="s3">\n                </span><span class="s1">this.viewportRect === undefined) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">let nextRegionHeight = 0;</span><span class="s3">\n            </span><span class="s1">switch (this.verticalScaling) {</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">nextRegionHeight = this.verticalViewportLock</span><span class="s3">\n                        </span><span class="s1">? this.viewportRect.height</span><span class="s3">\n                        </span><span class="s1">: nextPositionerDimension.height;</span><span class="s3">\n                    </span><span class="s1">this.regionHeight = `${nextRegionHeight}px`;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">nextRegionHeight = this.regionRect.height;</span><span class="s3">\n                    </span><span class="s1">this.regionHeight = </span><span class="s3">\&quot;</span><span class="s1">unset</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">let sizeDelta = 0;</span><span class="s3">\n            </span><span class="s1">switch (desiredVerticalPosition) {</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">this.translateY = this.baseVerticalOffset - nextRegionHeight;</span><span class="s3">\n                    </span><span class="s1">if (this.verticalViewportLock &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.anchorRect.top &gt; this.viewportRect.bottom) {</span><span class="s3">\n                        </span><span class="s1">this.translateY =</span><span class="s3">\n                            </span><span class="s1">this.translateY -</span><span class="s3">\n                                </span><span class="s1">(this.anchorRect.top - this.viewportRect.bottom);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">insetStart</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">this.translateY =</span><span class="s3">\n                        </span><span class="s1">this.baseVerticalOffset - nextRegionHeight + this.anchorRect.height;</span><span class="s3">\n                    </span><span class="s1">if (this.verticalViewportLock &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.anchorRect.bottom &gt; this.viewportRect.bottom) {</span><span class="s3">\n                        </span><span class="s1">this.translateY =</span><span class="s3">\n                            </span><span class="s1">this.translateY -</span><span class="s3">\n                                </span><span class="s1">(this.anchorRect.bottom - this.viewportRect.bottom);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">insetEnd</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">this.translateY = this.baseVerticalOffset;</span><span class="s3">\n                    </span><span class="s1">if (this.verticalViewportLock &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.anchorRect.top &lt; this.viewportRect.top) {</span><span class="s3">\n                        </span><span class="s1">this.translateY =</span><span class="s3">\n                            </span><span class="s1">this.translateY - (this.anchorRect.top - this.viewportRect.top);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">this.translateY = this.baseVerticalOffset + this.anchorRect.height;</span><span class="s3">\n                    </span><span class="s1">if (this.verticalViewportLock &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.anchorRect.bottom &lt; this.viewportRect.top) {</span><span class="s3">\n                        </span><span class="s1">this.translateY =</span><span class="s3">\n                            </span><span class="s1">this.translateY -</span><span class="s3">\n                                </span><span class="s1">(this.anchorRect.bottom - this.viewportRect.top);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">sizeDelta = (this.anchorRect.height - nextRegionHeight) / 2;</span><span class="s3">\n                    </span><span class="s1">this.translateY = this.baseVerticalOffset + sizeDelta;</span><span class="s3">\n                    </span><span class="s1">if (this.verticalViewportLock) {</span><span class="s3">\n                        </span><span class="s1">const regionTop = this.anchorRect.top + sizeDelta;</span><span class="s3">\n                        </span><span class="s1">const regionBottom = this.anchorRect.bottom - sizeDelta;</span><span class="s3">\n                        </span><span class="s1">if (regionTop &lt; this.viewportRect.top &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">!(regionBottom &gt; this.viewportRect.bottom)) {</span><span class="s3">\n                            </span><span class="s1">this.translateY =</span><span class="s3">\n                                </span><span class="s1">this.translateY - (regionTop - this.viewportRect.top);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else if (regionBottom &gt; this.viewportRect.bottom &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">!(regionTop &lt; this.viewportRect.top)) {</span><span class="s3">\n                            </span><span class="s1">this.translateY =</span><span class="s3">\n                                </span><span class="s1">this.translateY - (regionBottom - this.viewportRect.bottom);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.verticalPosition = desiredVerticalPosition;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Get available positions based on positioning mode</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.getPositioningOptions = (inset) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (inset) {</span><span class="s3">\n                </span><span class="s1">return [</span><span class="s3">\&quot;</span><span class="s1">insetStart</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">insetEnd</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return [</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Get the space available for a particular relative position</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.getAvailableSpace = (positionOption, anchorStart, anchorEnd, anchorSpan, viewportStart, viewportEnd) =&gt; {</span><span class="s3">\n            </span><span class="s1">const spaceStart = anchorStart - viewportStart;</span><span class="s3">\n            </span><span class="s1">const spaceEnd = viewportEnd - (anchorStart + anchorSpan);</span><span class="s3">\n            </span><span class="s1">switch (positionOption) {</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">return spaceStart;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">insetStart</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">return spaceStart + anchorSpan;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">insetEnd</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">return spaceEnd + anchorSpan;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">return spaceEnd;</span><span class="s3">\n                </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                    </span><span class="s1">return Math.min(spaceStart, spaceEnd) * 2 + anchorSpan;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Get region dimensions</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.getNextRegionDimension = (desiredHorizontalPosition, desiredVerticalPosition) =&gt; {</span><span class="s3">\n            </span><span class="s1">const newRegionDimension = {</span><span class="s3">\n                </span><span class="s1">height: this.regionRect !== undefined ? this.regionRect.height : 0,</span><span class="s3">\n                </span><span class="s1">width: this.regionRect !== undefined ? this.regionRect.width : 0,</span><span class="s3">\n            </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">if (desiredHorizontalPosition !== undefined &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.horizontalScaling === </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">newRegionDimension.width = this.getAvailableSpace(desiredHorizontalPosition, this.anchorRect !== undefined ? this.anchorRect.left : 0, this.anchorRect !== undefined ? this.anchorRect.right : 0, this.anchorRect !== undefined ? this.anchorRect.width : 0, this.viewportRect !== undefined ? this.viewportRect.left : 0, this.viewportRect !== undefined ? this.viewportRect.right : 0);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (this.horizontalScaling === </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">newRegionDimension.width =</span><span class="s3">\n                    </span><span class="s1">this.anchorRect !== undefined ? this.anchorRect.width : 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (desiredVerticalPosition !== undefined &amp;&amp; this.verticalScaling === </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">newRegionDimension.height = this.getAvailableSpace(desiredVerticalPosition, this.anchorRect !== undefined ? this.anchorRect.top : 0, this.anchorRect !== undefined ? this.anchorRect.bottom : 0, this.anchorRect !== undefined ? this.anchorRect.height : 0, this.viewportRect !== undefined ? this.viewportRect.top : 0, this.viewportRect !== undefined ? this.viewportRect.bottom : 0);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (this.verticalScaling === </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">newRegionDimension.height =</span><span class="s3">\n                    </span><span class="s1">this.anchorRect !== undefined ? this.anchorRect.height : 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return newRegionDimension;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* starts event listeners that can trigger auto updating</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.startAutoUpdateEventListeners = () =&gt; {</span><span class="s3">\n            </span><span class="s1">window.addEventListener(eventResize, this.update, { passive: true });</span><span class="s3">\n            </span><span class="s1">window.addEventListener(eventScroll, this.update, {</span><span class="s3">\n                </span><span class="s1">passive: true,</span><span class="s3">\n                </span><span class="s1">capture: true,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">if (this.resizeDetector !== null &amp;&amp; this.viewportElement !== null) {</span><span class="s3">\n                </span><span class="s1">this.resizeDetector.observe(this.viewportElement);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* stops event listeners that can trigger auto updating</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.stopAutoUpdateEventListeners = () =&gt; {</span><span class="s3">\n            </span><span class="s1">window.removeEventListener(eventResize, this.update);</span><span class="s3">\n            </span><span class="s1">window.removeEventListener(eventScroll, this.update);</span><span class="s3">\n            </span><span class="s1">if (this.resizeDetector !== null &amp;&amp; this.viewportElement !== null) {</span><span class="s3">\n                </span><span class="s1">this.resizeDetector.unobserve(this.viewportElement);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">anchorChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.initialLayoutComplete) {</span><span class="s3">\n            </span><span class="s1">this.anchorElement = this.getAnchor();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">viewportChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.initialLayoutComplete) {</span><span class="s3">\n            </span><span class="s1">this.viewportElement = this.getViewport();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">horizontalPositioningModeChanged() {</span><span class="s3">\n        </span><span class="s1">this.requestReset();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">horizontalDefaultPositionChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateForAttributeChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">horizontalViewportLockChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateForAttributeChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">horizontalInsetChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateForAttributeChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">horizontalThresholdChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateForAttributeChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">horizontalScalingChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateForAttributeChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">verticalPositioningModeChanged() {</span><span class="s3">\n        </span><span class="s1">this.requestReset();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">verticalDefaultPositionChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateForAttributeChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">verticalViewportLockChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateForAttributeChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">verticalInsetChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateForAttributeChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">verticalThresholdChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateForAttributeChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">verticalScalingChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateForAttributeChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">fixedPlacementChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.initialLayoutComplete) {</span><span class="s3">\n            </span><span class="s1">this.initialize();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">autoUpdateModeChanged(prevMode, newMode) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.initialLayoutComplete) {</span><span class="s3">\n            </span><span class="s1">if (prevMode === </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">this.stopAutoUpdateEventListeners();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (newMode === </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">this.startAutoUpdateEventListeners();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">anchorElementChanged() {</span><span class="s3">\n        </span><span class="s1">this.requestReset();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">viewportElementChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.initialLayoutComplete) {</span><span class="s3">\n            </span><span class="s1">this.initialize();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">if (this.autoUpdateMode === </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.startAutoUpdateEventListeners();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.initialize();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">if (this.autoUpdateMode === </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.stopAutoUpdateEventListeners();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.stopObservers();</span><span class="s3">\n        </span><span class="s1">this.disconnectResizeDetector();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">adoptedCallback() {</span><span class="s3">\n        </span><span class="s1">this.initialize();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* destroys the instance's resize observer</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectResizeDetector() {</span><span class="s3">\n        </span><span class="s1">if (this.resizeDetector !== null) {</span><span class="s3">\n            </span><span class="s1">this.resizeDetector.disconnect();</span><span class="s3">\n            </span><span class="s1">this.resizeDetector = null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* initializes the instance's resize observer</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">initializeResizeDetector() {</span><span class="s3">\n        </span><span class="s1">this.disconnectResizeDetector();</span><span class="s3">\n        </span><span class="s1">this.resizeDetector = new window.ResizeObserver(this.handleResize);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* react to attribute changes that don't require a reset</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateForAttributeChange() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.initialLayoutComplete) {</span><span class="s3">\n            </span><span class="s1">this.forceUpdate = true;</span><span class="s3">\n            </span><span class="s1">this.update();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* fully initializes the component</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">initialize() {</span><span class="s3">\n        </span><span class="s1">this.initializeResizeDetector();</span><span class="s3">\n        </span><span class="s1">if (this.anchorElement === null) {</span><span class="s3">\n            </span><span class="s1">this.anchorElement = this.getAnchor();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.requestReset();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Request a reset if there are currently no open requests</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">requestReset() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.pendingReset === false) {</span><span class="s3">\n            </span><span class="s1">this.setInitialState();</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; this.reset());</span><span class="s3">\n            </span><span class="s1">this.pendingReset = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* sets the starting configuration for component internal values</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setInitialState() {</span><span class="s3">\n        </span><span class="s1">this.initialLayoutComplete = false;</span><span class="s3">\n        </span><span class="s1">this.regionVisible = false;</span><span class="s3">\n        </span><span class="s1">this.translateX = 0;</span><span class="s3">\n        </span><span class="s1">this.translateY = 0;</span><span class="s3">\n        </span><span class="s1">this.baseHorizontalOffset = 0;</span><span class="s3">\n        </span><span class="s1">this.baseVerticalOffset = 0;</span><span class="s3">\n        </span><span class="s1">this.viewportRect = undefined;</span><span class="s3">\n        </span><span class="s1">this.regionRect = undefined;</span><span class="s3">\n        </span><span class="s1">this.anchorRect = undefined;</span><span class="s3">\n        </span><span class="s1">this.verticalPosition = undefined;</span><span class="s3">\n        </span><span class="s1">this.horizontalPosition = undefined;</span><span class="s3">\n        </span><span class="s1">this.style.opacity = </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.style.pointerEvents = </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.forceUpdate = false;</span><span class="s3">\n        </span><span class="s1">this.style.position = this.fixedPlacement ? </span><span class="s3">\&quot;</span><span class="s1">fixed</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">absolute</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.updatePositionClasses();</span><span class="s3">\n        </span><span class="s1">this.updateRegionStyle();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">AnchoredRegion.intersectionService = new IntersectionService();</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">viewport</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">horizontal-positioning-mode</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalPositioningMode</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">horizontal-default-position</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalDefaultPosition</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">horizontal-viewport-lock</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalViewportLock</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">horizontal-inset</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalInset</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">horizontal-threshold</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalThreshold</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">horizontal-scaling</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalScaling</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">vertical-positioning-mode</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalPositioningMode</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">vertical-default-position</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalDefaultPosition</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">vertical-viewport-lock</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalViewportLock</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">vertical-inset</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalInset</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">vertical-threshold</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalThreshold</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">vertical-scaling</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalScaling</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">fixed-placement</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">fixedPlacement</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">auto-update-mode</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">autoUpdateMode</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">anchorElement</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">viewportElement</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], AnchoredRegion.prototype, </span><span class="s3">\&quot;</span><span class="s1">initialLayoutComplete</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Determines whether or not an object is a function.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const isFunction = (object) =&gt; typeof object === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { isFunction } from </span><span class="s3">\&quot;</span><span class="s1">../interfaces.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const noTemplate = () =&gt; null;</span><span class="s3">\n</span><span class="s1">function normalizeBinding(value) {</span><span class="s3">\n    </span><span class="s1">return value === undefined ? noTemplate : isFunction(value) ? value : () =&gt; value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A directive that enables basic conditional rendering in a template.</span><span class="s3">\n </span><span class="s1">* @param binding - The condition to test for rendering.</span><span class="s3">\n </span><span class="s1">* @param templateOrTemplateBinding - The template or a binding that gets</span><span class="s3">\n </span><span class="s1">* the template to render when the condition is true.</span><span class="s3">\n </span><span class="s1">* @param elseTemplateOrTemplateBinding - Optional template or binding that that</span><span class="s3">\n </span><span class="s1">* gets the template to render when the conditional is false.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function when(binding, templateOrTemplateBinding, elseTemplateOrTemplateBinding) {</span><span class="s3">\n    </span><span class="s1">const dataBinding = isFunction(binding) ? binding : () =&gt; binding;</span><span class="s3">\n    </span><span class="s1">const templateBinding = normalizeBinding(templateOrTemplateBinding);</span><span class="s3">\n    </span><span class="s1">const elseBinding = normalizeBinding(elseTemplateOrTemplateBinding);</span><span class="s3">\n    </span><span class="s1">return (source, context) =&gt; dataBinding(source, context)</span><span class="s3">\n        </span><span class="s1">? templateBinding(source, context)</span><span class="s3">\n        </span><span class="s1">: elseBinding(source, context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(AnchoredRegion:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const anchoredRegionTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.initialLayoutComplete ? </span><span class="s3">\&quot;</span><span class="s1">loaded</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; x.initialLayoutComplete, html `</span><span class="s3">\n                </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for AnchoredRegion</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const anchoredRegionStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">:host {</span><span class="s3">\n    </span><span class="s1">contain: layout;</span><span class="s3">\n    </span><span class="s1">display: block;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { AnchoredRegion, anchoredRegionTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { anchoredRegionStyles as styles } from './anchored-region.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Anchored region class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-anchored-region</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterAnchoredRegion extends AnchoredRegion {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#AnchoredRegion} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#anchoredRegionTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @beta</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-anchored-region&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpAnchoredRegion = JupyterAnchoredRegion.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'anchored-region',</span><span class="s3">\n    </span><span class="s1">baseClass: AnchoredRegion,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterAnchoredRegion as AnchoredRegion };</span><span class="s3">\n</span><span class="s1">export { styles as anchoredRegionStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement, } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An Avatar Custom HTML Element</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot media - Used for media such as an image</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for avatar text, commonly a name or initials</span><span class="s3">\n </span><span class="s1">* @slot badge - Used to provide a badge, such as a status badge</span><span class="s3">\n </span><span class="s1">* @csspart backplate - The wrapping container for the avatar</span><span class="s3">\n </span><span class="s1">* @csspart link - The avatar link</span><span class="s3">\n </span><span class="s1">* @csspart media - The media slot</span><span class="s3">\n </span><span class="s1">* @csspart content - The default slot</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Avatar extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">if (!this.shape) {</span><span class="s3">\n            </span><span class="s1">this.shape = </span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Avatar.prototype, </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Avatar.prototype, </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Avatar.prototype, </span><span class="s3">\&quot;</span><span class="s1">link</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Avatar.prototype, </span><span class="s3">\&quot;</span><span class="s1">shape</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for {@link @microsoft/fast-foundation#Avatar} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const avatarTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;div</span><span class="s3">\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">backplate ${x =&gt; x.shape}</span><span class="s3">\&quot;\n        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">backplate</span><span class="s3">\&quot;\n        </span><span class="s1">style=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.fill ? `background-color: var(--avatar-fill-${x.fill});` : void 0}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;a</span><span class="s3">\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">link</span><span class="s3">\&quot;\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">link</span><span class="s3">\&quot;\n            </span><span class="s1">href=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.link ? x.link : void 0)}</span><span class="s3">\&quot;\n            </span><span class="s1">style=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.color ? `color: var(--avatar-color-${x.color});` : void 0)}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">media</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">media</span><span class="s3">\&quot;</span><span class="s1">&gt;${definition.media || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot class=</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/a&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">badge</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">badge</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Badge Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the badge</span><span class="s3">\n </span><span class="s1">* @csspart control - The element representing the badge, which wraps the default slot</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Badge extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.generateBadgeStyle = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.fill &amp;&amp; !this.color) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const fill = `background-color: var(--badge-fill-${this.fill});`;</span><span class="s3">\n            </span><span class="s1">const color = `color: var(--badge-color-${this.color});`;</span><span class="s3">\n            </span><span class="s1">if (this.fill &amp;&amp; !this.color) {</span><span class="s3">\n                </span><span class="s1">return fill;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (this.color &amp;&amp; !this.fill) {</span><span class="s3">\n                </span><span class="s1">return color;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">return `${color} ${fill}`;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Badge.prototype, </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Badge.prototype, </span><span class="s3">\&quot;</span><span class="s1">color</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Badge.prototype, </span><span class="s3">\&quot;</span><span class="s1">circular</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { direction as directionDesignToken } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Behavior to conditionally apply LTR and RTL stylesheets. To determine which to apply,</span><span class="s3">\n </span><span class="s1">* the behavior will use the nearest DesignSystemProvider's 'direction' design system value.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @example</span><span class="s3">\n </span><span class="s1">* ```ts</span><span class="s3">\n </span><span class="s1">* import { css } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n </span><span class="s1">* import { DirectionalStyleSheetBehavior } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-foundation</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* css`</span><span class="s3">\n </span><span class="s1">*  // ...</span><span class="s3">\n </span><span class="s1">* `.withBehaviors(new DirectionalStyleSheetBehavior(</span><span class="s3">\n </span><span class="s1">*   css`:host { content: </span><span class="s3">\&quot;</span><span class="s1">ltr</span><span class="s3">\&quot;</span><span class="s1">}`),</span><span class="s3">\n </span><span class="s1">*   css`:host { content: </span><span class="s3">\&quot;</span><span class="s1">rtl</span><span class="s3">\&quot;</span><span class="s1">}`),</span><span class="s3">\n </span><span class="s1">* )</span><span class="s3">\n </span><span class="s1">* ```</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DirectionalStyleSheetBehavior {</span><span class="s3">\n    </span><span class="s1">constructor(ltr, rtl) {</span><span class="s3">\n        </span><span class="s1">this.cache = new WeakMap();</span><span class="s3">\n        </span><span class="s1">this.ltr = ltr;</span><span class="s3">\n        </span><span class="s1">this.rtl = rtl;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bind(source) {</span><span class="s3">\n        </span><span class="s1">this.attach(source);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unbind(source) {</span><span class="s3">\n        </span><span class="s1">const cache = this.cache.get(source);</span><span class="s3">\n        </span><span class="s1">if (cache) {</span><span class="s3">\n            </span><span class="s1">directionDesignToken.unsubscribe(cache);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">attach(source) {</span><span class="s3">\n        </span><span class="s1">const subscriber = this.cache.get(source) ||</span><span class="s3">\n            </span><span class="s1">new DirectionalStyleSheetBehaviorSubscription(this.ltr, this.rtl, source);</span><span class="s3">\n        </span><span class="s1">const value = directionDesignToken.getValueFor(source);</span><span class="s3">\n        </span><span class="s1">directionDesignToken.subscribe(subscriber);</span><span class="s3">\n        </span><span class="s1">subscriber.attach(value);</span><span class="s3">\n        </span><span class="s1">this.cache.set(source, subscriber);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Subscription for {@link DirectionalStyleSheetBehavior}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class DirectionalStyleSheetBehaviorSubscription {</span><span class="s3">\n    </span><span class="s1">constructor(ltr, rtl, source) {</span><span class="s3">\n        </span><span class="s1">this.ltr = ltr;</span><span class="s3">\n        </span><span class="s1">this.rtl = rtl;</span><span class="s3">\n        </span><span class="s1">this.source = source;</span><span class="s3">\n        </span><span class="s1">this.attached = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleChange({ target, token }) {</span><span class="s3">\n        </span><span class="s1">this.attach(token.getValueFor(target));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">attach(direction) {</span><span class="s3">\n        </span><span class="s1">if (this.attached !== this[direction]) {</span><span class="s3">\n            </span><span class="s1">if (this.attached !== null) {</span><span class="s3">\n                </span><span class="s1">this.source.$fastController.removeStyles(this.attached);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.attached = this[direction];</span><span class="s3">\n            </span><span class="s1">if (this.attached !== null) {</span><span class="s3">\n                </span><span class="s1">this.source.$fastController.addStyles(this.attached);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { Badge, display } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { accentFillRest, baseHeightMultiplier, controlCornerRadius, density, designUnit, neutralForegroundRest, typeRampBaseFontSize } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { DirectionalStyleSheetBehavior } from '../styles/direction.js';</span><span class="s3">\n</span><span class="s1">const rtl = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">::slotted(${context.tagFor(Badge)}) {</span><span class="s3">\n    </span><span class="s1">left: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">const ltr = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">::slotted(${context.tagFor(Badge)}) {</span><span class="s3">\n    </span><span class="s1">right: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Avatar</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const avatarStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('flex')} :host {</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">height: var(--avatar-size, var(--avatar-size-default));</span><span class="s3">\n      </span><span class="s1">width: var(--avatar-size, var(--avatar-size-default));</span><span class="s3">\n      </span><span class="s1">--avatar-size-default: calc(</span><span class="s3">\n        </span><span class="s1">(</span><span class="s3">\n            </span><span class="s1">(${baseHeightMultiplier} + ${density}) * ${designUnit} +</span><span class="s3">\n              </span><span class="s1">((${designUnit} * 8) - 40)</span><span class="s3">\n          </span><span class="s1">) * 1px</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">--avatar-text-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">--avatar-text-ratio: ${designUnit};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.link {</span><span class="s3">\n      </span><span class="s1">text-decoration: none;</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">flex-direction: row;</span><span class="s3">\n      </span><span class="s1">justify-content: center;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">min-width: 100%;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.square {</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">min-width: 100%;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.circle {</span><span class="s3">\n      </span><span class="s1">border-radius: 100%;</span><span class="s3">\n      </span><span class="s1">min-width: 100%;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.backplate {</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">background-color: ${accentFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.media,</span><span class="s3">\n    </span><span class="s1">::slotted(img) {</span><span class="s3">\n      </span><span class="s1">max-width: 100%;</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.content {</span><span class="s3">\n      </span><span class="s1">font-size: calc(</span><span class="s3">\n        </span><span class="s1">(</span><span class="s3">\n            </span><span class="s1">var(--avatar-text-size) +</span><span class="s3">\n              </span><span class="s1">var(--avatar-size, var(--avatar-size-default))</span><span class="s3">\n          </span><span class="s1">) / var(--avatar-text-ratio)</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">line-height: var(--avatar-size, var(--avatar-size-default));</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n      </span><span class="s1">min-height: var(--avatar-size, var(--avatar-size-default));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(${context.tagFor(Badge)}) {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(new DirectionalStyleSheetBehavior(ltr(context, definition), rtl(context, definition)));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, html, when } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { Avatar, avatarTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { avatarStyles as styles } from './avatar.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Jupyter Avatar Class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-avatar</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterAvatar extends Avatar {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: 'src' })</span><span class="s3">\n</span><span class="s1">], JupyterAvatar.prototype, </span><span class="s3">\&quot;</span><span class="s1">imgSrc</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterAvatar.prototype, </span><span class="s3">\&quot;</span><span class="s1">alt</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The Jupyter Avatar Template for Images</span><span class="s3">\n </span><span class="s1">*  @public</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const imgTemplate = html `</span><span class="s3">\n  </span><span class="s1">${when(x =&gt; x.imgSrc, html `</span><span class="s3">\n      </span><span class="s1">&lt;img</span><span class="s3">\n        </span><span class="s1">src=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.imgSrc}</span><span class="s3">\&quot;\n        </span><span class="s1">alt=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.alt}</span><span class="s3">\&quot;\n        </span><span class="s1">slot=</span><span class="s3">\&quot;</span><span class="s1">media</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">media</span><span class="s3">\&quot;\n        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">media</span><span class="s3">\&quot;\n      </span><span class="s1">/&gt;</span><span class="s3">\n    </span><span class="s1">`)}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Avatar} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">*  {@link @microsoft/fast-foundation#avatarTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-avatar&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpAvatar = JupyterAvatar.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'avatar',</span><span class="s3">\n    </span><span class="s1">baseClass: Avatar,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">media: imgTemplate,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterAvatar as Avatar };</span><span class="s3">\n</span><span class="s1">export { styles as avatarStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#Badge} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const badgeTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.circular ? </span><span class="s3">\&quot;</span><span class="s1">circular</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot; </span><span class="s1">style=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.generateBadgeStyle()}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { bodyFont, controlCornerRadius, designUnit, neutralFillRest, neutralForegroundRest, strokeWidth, typeRampMinus1FontSize, typeRampMinus1LineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Badge</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const badgeStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${display('inline-block')} :host {</span><span class="s3">\n    </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n    </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampMinus1FontSize};</span><span class="s3">\n    </span><span class="s1">line-height: ${typeRampMinus1LineHeight};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.control {</span><span class="s3">\n    </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">padding: calc(((${designUnit} * 0.5) - ${strokeWidth}) * 1px)</span><span class="s3">\n      </span><span class="s1">calc((${designUnit} - ${strokeWidth}) * 1px);</span><span class="s3">\n    </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">font-weight: 600;</span><span class="s3">\n    </span><span class="s1">border: calc(${strokeWidth} * 1px) solid transparent;</span><span class="s3">\n    </span><span class="s1">background-color: ${neutralFillRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.control[style] {</span><span class="s3">\n    </span><span class="s1">font-weight: 400;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([circular]) .control {</span><span class="s3">\n    </span><span class="s1">border-radius: 100px;</span><span class="s3">\n    </span><span class="s1">padding: 0 calc(${designUnit} * 1px);</span><span class="s3">\n    </span><span class="s1">height: calc((${heightNumber} - (${designUnit} * 3)) * 1px);</span><span class="s3">\n    </span><span class="s1">min-width: calc((${heightNumber} - (${designUnit} * 3)) * 1px);</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">align-items: center;</span><span class="s3">\n    </span><span class="s1">justify-content: center;</span><span class="s3">\n    </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Badge, badgeTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { badgeStyles as styles } from './badge.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Badge class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-badge</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterBadge extends Badge {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Badge} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#badgeTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-badge&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpBadge = JupyterBadge.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'badge',</span><span class="s3">\n    </span><span class="s1">baseClass: Badge,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterBadge as Badge };</span><span class="s3">\n</span><span class="s1">export { styles as badgeStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Anchor, DelegatesARIALink } from </span><span class="s3">\&quot;</span><span class="s1">../anchor/anchor.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { StartEnd } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Breadcrumb Item Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class BreadcrumbItem extends Anchor {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.separator = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], BreadcrumbItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(BreadcrumbItem, StartEnd, DelegatesARIALink);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { BreadcrumbItem } from </span><span class="s3">\&quot;</span><span class="s1">../breadcrumb-item/breadcrumb-item.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Breadcrumb Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the breadcrumb items</span><span class="s3">\n </span><span class="s1">* @csspart list - The element wrapping the slotted items</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Breadcrumb extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">slottedBreadcrumbItemsChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">if (this.slottedBreadcrumbItems === undefined ||</span><span class="s3">\n                </span><span class="s1">this.slottedBreadcrumbItems.length === 0) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const lastNode = this.slottedBreadcrumbItems[this.slottedBreadcrumbItems.length - 1];</span><span class="s3">\n            </span><span class="s1">this.slottedBreadcrumbItems.forEach((item) =&gt; {</span><span class="s3">\n                </span><span class="s1">const itemIsLastNode = item === lastNode;</span><span class="s3">\n                </span><span class="s1">this.setItemSeparator(item, itemIsLastNode);</span><span class="s3">\n                </span><span class="s1">this.setAriaCurrent(item, itemIsLastNode);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setItemSeparator(item, isLastNode) {</span><span class="s3">\n        </span><span class="s1">if (item instanceof BreadcrumbItem) {</span><span class="s3">\n            </span><span class="s1">item.separator = !isLastNode;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Finds href on childnodes in the light DOM or shadow DOM.</span><span class="s3">\n     </span><span class="s1">* We look in the shadow DOM because we insert an anchor when breadcrumb-item has an href.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">findChildWithHref(node) {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">if (node.childElementCount &gt; 0) {</span><span class="s3">\n            </span><span class="s1">return node.querySelector(</span><span class="s3">\&quot;</span><span class="s1">a[href]</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if ((_a = node.shadowRoot) === null || _a === void 0 ? void 0 : _a.childElementCount) {</span><span class="s3">\n            </span><span class="s1">return (_b = node.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector(</span><span class="s3">\&quot;</span><span class="s1">a[href]</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">*  Sets ARIA Current for the current node</span><span class="s3">\n     </span><span class="s1">* If child node with an anchor tag and with href is found then set aria-current to correct value for the child node,</span><span class="s3">\n     </span><span class="s1">* otherwise apply aria-current to the host element, with an href</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setAriaCurrent(item, isLastNode) {</span><span class="s3">\n        </span><span class="s1">const childNodeWithHref = this.findChildWithHref(item);</span><span class="s3">\n        </span><span class="s1">if (childNodeWithHref === null &amp;&amp;</span><span class="s3">\n            </span><span class="s1">item.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">href</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp;</span><span class="s3">\n            </span><span class="s1">item instanceof BreadcrumbItem) {</span><span class="s3">\n            </span><span class="s1">isLastNode</span><span class="s3">\n                </span><span class="s1">? item.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-current</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">page</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n                </span><span class="s1">: item.removeAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-current</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (childNodeWithHref !== null) {</span><span class="s3">\n            </span><span class="s1">isLastNode</span><span class="s3">\n                </span><span class="s1">? childNodeWithHref.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-current</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">page</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n                </span><span class="s1">: childNodeWithHref.removeAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-current</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Breadcrumb.prototype, </span><span class="s3">\&quot;</span><span class="s1">slottedBreadcrumbItems</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { elements, html, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#Breadcrumb} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const breadcrumbTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template role=</span><span class="s3">\&quot;</span><span class="s1">navigation</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div role=</span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot</span><span class="s3">\n                </span><span class="s1">${slotted({ property: </span><span class="s3">\&quot;</span><span class="s1">slottedBreadcrumbItems</span><span class="s3">\&quot;</span><span class="s1">, filter: elements() })}</span><span class="s3">\n            </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { bodyFont, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Breadcrumb</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const breadcrumbStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${display('inline-block')} :host {</span><span class="s3">\n    </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n    </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n    </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.list {</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">flex-wrap: wrap;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Breadcrumb, breadcrumbTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { breadcrumbStyles as styles } from './breadcrumb.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Breadcrumb class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-breadcrumb</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterBreadcrumb extends Breadcrumb {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Breadcrumb} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#breadcrumbTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-breadcrumb&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpBreadcrumb = JupyterBreadcrumb.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'breadcrumb',</span><span class="s3">\n    </span><span class="s1">baseClass: Breadcrumb,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterBreadcrumb as Breadcrumb };</span><span class="s3">\n</span><span class="s1">export { styles as breadcrumbStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { anchorTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../anchor/anchor.template.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(BreadcrumbItem:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const breadcrumbItemTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;div role=</span><span class="s3">\&quot;</span><span class="s1">listitem</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">listitem</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">listitem</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; x.href &amp;&amp; x.href.length &gt; 0, html `</span><span class="s3">\n                </span><span class="s1">${anchorTemplate(context, definition)}</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; !x.href, html `</span><span class="s3">\n                </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n                </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; x.separator, html `</span><span class="s3">\n                </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot; </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">&gt;${definition.separator || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n    </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentForegroundActive, accentForegroundFocus, accentForegroundHover, accentForegroundRest, bodyFont, focusStrokeWidth, neutralForegroundRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Breadcrumb item</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const breadcrumbItemStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('inline-flex')} :host {</span><span class="s3">\n        </span><span class="s1">background: transparent;</span><span class="s3">\n        </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n        </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n        </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n        </span><span class="s1">fill: currentColor;</span><span class="s3">\n        </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n        </span><span class="s1">min-width: calc(${heightNumber} * 1px);</span><span class="s3">\n        </span><span class="s1">outline: none;</span><span class="s3">\n        </span><span class="s1">color: ${neutralForegroundRest}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.listitem {</span><span class="s3">\n        </span><span class="s1">display: flex;</span><span class="s3">\n        </span><span class="s1">align-items: center;</span><span class="s3">\n        </span><span class="s1">width: max-content;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.separator {</span><span class="s3">\n        </span><span class="s1">margin: 0 6px;</span><span class="s3">\n        </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control {</span><span class="s3">\n        </span><span class="s1">align-items: center;</span><span class="s3">\n        </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n        </span><span class="s1">color: ${accentForegroundRest};</span><span class="s3">\n        </span><span class="s1">cursor: pointer;</span><span class="s3">\n        </span><span class="s1">display: flex;</span><span class="s3">\n        </span><span class="s1">fill: inherit;</span><span class="s3">\n        </span><span class="s1">outline: none;</span><span class="s3">\n        </span><span class="s1">text-decoration: none;</span><span class="s3">\n        </span><span class="s1">white-space: nowrap;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:hover {</span><span class="s3">\n        </span><span class="s1">color: ${accentForegroundHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:active {</span><span class="s3">\n        </span><span class="s1">color: ${accentForegroundActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control .content {</span><span class="s3">\n        </span><span class="s1">position: relative;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control .content::before {</span><span class="s3">\n        </span><span class="s1">content: </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">display: block;</span><span class="s3">\n        </span><span class="s1">height: calc(${strokeWidth} * 1px);</span><span class="s3">\n        </span><span class="s1">left: 0;</span><span class="s3">\n        </span><span class="s1">position: absolute;</span><span class="s3">\n        </span><span class="s1">right: 0;</span><span class="s3">\n        </span><span class="s1">top: calc(1em + 4px);</span><span class="s3">\n        </span><span class="s1">width: 100%;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:hover .content::before {</span><span class="s3">\n        </span><span class="s1">background: ${accentForegroundHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:active .content::before {</span><span class="s3">\n        </span><span class="s1">background: ${accentForegroundActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:${focusVisible} .content::before {</span><span class="s3">\n        </span><span class="s1">background: ${accentForegroundFocus};</span><span class="s3">\n        </span><span class="s1">height: calc(${focusStrokeWidth} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:not([href]) {</span><span class="s3">\n        </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n        </span><span class="s1">cursor: default;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:not([href]) .content::before {</span><span class="s3">\n        </span><span class="s1">background: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.start,</span><span class="s3">\n    </span><span class="s1">.end {</span><span class="s3">\n        </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(svg) {</span><span class="s3">\n        </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n        </span><span class="s1">width: 16px;</span><span class="s3">\n        </span><span class="s1">height: 16px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.start {</span><span class="s3">\n        </span><span class="s1">margin-inline-end: 6px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.end {</span><span class="s3">\n        </span><span class="s1">margin-inline-start: 6px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">.control:hover .content::before,</span><span class="s3">\n                </span><span class="s1">.control:${focusVisible} .content::before {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.LinkText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">.start,</span><span class="s3">\n      </span><span class="s1">.end {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.ButtonText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { BreadcrumbItem, breadcrumbItemTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { breadcrumbItemStyles as styles } from './breadcrumb-item.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Breadcrumb item class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-breadcrumb-item</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterBreadcrumbItem extends BreadcrumbItem {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#BreadcrumbItem} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#breadcrumbItemTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-breadcrumb-item&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpBreadcrumbItem = JupyterBreadcrumbItem.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'breadcrumb-item',</span><span class="s3">\n    </span><span class="s1">baseClass: BreadcrumbItem,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">separator: '/',</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterBreadcrumbItem as BreadcrumbItem };</span><span class="s3">\n</span><span class="s1">export { styles as breadcrumbItemStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { attr, booleanConverter, DOM, emptyArray, observable, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keyEnter } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const proxySlotName = </span><span class="s3">\&quot;</span><span class="s1">form-associated-proxy</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const ElementInternalsKey = </span><span class="s3">\&quot;</span><span class="s1">ElementInternals</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const supportsElementInternals = ElementInternalsKey in window &amp;&amp;</span><span class="s3">\n    \&quot;</span><span class="s1">setFormValue</span><span class="s3">\&quot; </span><span class="s1">in window[ElementInternalsKey].prototype;</span><span class="s3">\n</span><span class="s1">const InternalsMap = new WeakMap();</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Base function for providing Custom Element Form Association.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function FormAssociated(BaseCtor) {</span><span class="s3">\n    </span><span class="s1">const C = class extends BaseCtor {</span><span class="s3">\n        </span><span class="s1">constructor(...args) {</span><span class="s3">\n            </span><span class="s1">super(...args);</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* Track whether the value has been changed from the initial value</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">this.dirtyValue = false;</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* Sets the element's disabled state. A disabled element will not be included during form submission.</span><span class="s3">\n             </span><span class="s1">*</span><span class="s3">\n             </span><span class="s1">* @remarks</span><span class="s3">\n             </span><span class="s1">* HTML Attribute: disabled</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">this.disabled = false;</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* These are events that are still fired by the proxy</span><span class="s3">\n             </span><span class="s1">* element based on user / programmatic interaction.</span><span class="s3">\n             </span><span class="s1">*</span><span class="s3">\n             </span><span class="s1">* The proxy implementation should be transparent to</span><span class="s3">\n             </span><span class="s1">* the app author, so block these events from emitting.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">this.proxyEventsToBlock = [</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n            </span><span class="s1">this.proxyInitialized = false;</span><span class="s3">\n            </span><span class="s1">this.required = false;</span><span class="s3">\n            </span><span class="s1">this.initialValue = this.initialValue || </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">if (!this.elementInternals) {</span><span class="s3">\n                </span><span class="s1">// When elementInternals is not supported, formResetCallback is</span><span class="s3">\n                </span><span class="s1">// bound to an event listener, so ensure the handler's `this`</span><span class="s3">\n                </span><span class="s1">// context is correct.</span><span class="s3">\n                </span><span class="s1">this.formResetCallback = this.formResetCallback.bind(this);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Must evaluate to true to enable elementInternals.</span><span class="s3">\n         </span><span class="s1">* Feature detects API support and resolve respectively</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">static get formAssociated() {</span><span class="s3">\n            </span><span class="s1">return supportsElementInternals;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Returns the validity state of the element</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">get validity() {</span><span class="s3">\n            </span><span class="s1">return this.elementInternals</span><span class="s3">\n                </span><span class="s1">? this.elementInternals.validity</span><span class="s3">\n                </span><span class="s1">: this.proxy.validity;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Retrieve a reference to the associated form.</span><span class="s3">\n         </span><span class="s1">* Returns null if not associated to any form.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">get form() {</span><span class="s3">\n            </span><span class="s1">return this.elementInternals ? this.elementInternals.form : this.proxy.form;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Retrieve the localized validation message,</span><span class="s3">\n         </span><span class="s1">* or custom validation message if set.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">get validationMessage() {</span><span class="s3">\n            </span><span class="s1">return this.elementInternals</span><span class="s3">\n                </span><span class="s1">? this.elementInternals.validationMessage</span><span class="s3">\n                </span><span class="s1">: this.proxy.validationMessage;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether the element will be validated when the</span><span class="s3">\n         </span><span class="s1">* form is submitted</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">get willValidate() {</span><span class="s3">\n            </span><span class="s1">return this.elementInternals</span><span class="s3">\n                </span><span class="s1">? this.elementInternals.willValidate</span><span class="s3">\n                </span><span class="s1">: this.proxy.willValidate;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* A reference to all associated label elements</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">get labels() {</span><span class="s3">\n            </span><span class="s1">if (this.elementInternals) {</span><span class="s3">\n                </span><span class="s1">return Object.freeze(Array.from(this.elementInternals.labels));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (this.proxy instanceof HTMLElement &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.proxy.ownerDocument &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.id) {</span><span class="s3">\n                </span><span class="s1">// Labels associated by wrapping the element: &lt;label&gt;&lt;custom-element&gt;&lt;/custom-element&gt;&lt;/label&gt;</span><span class="s3">\n                </span><span class="s1">const parentLabels = this.proxy.labels;</span><span class="s3">\n                </span><span class="s1">// Labels associated using the `for` attribute</span><span class="s3">\n                </span><span class="s1">const forLabels = Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`));</span><span class="s3">\n                </span><span class="s1">const labels = parentLabels</span><span class="s3">\n                    </span><span class="s1">? forLabels.concat(Array.from(parentLabels))</span><span class="s3">\n                    </span><span class="s1">: forLabels;</span><span class="s3">\n                </span><span class="s1">return Object.freeze(labels);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">return emptyArray;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Invoked when the `value` property changes</span><span class="s3">\n         </span><span class="s1">* @param previous - the previous value</span><span class="s3">\n         </span><span class="s1">* @param next - the new value</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* If elements extending `FormAssociated` implement a `valueChanged` method</span><span class="s3">\n         </span><span class="s1">* They must be sure to invoke `super.valueChanged(previous, next)` to ensure</span><span class="s3">\n         </span><span class="s1">* proper functioning of `FormAssociated`</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">valueChanged(previous, next) {</span><span class="s3">\n            </span><span class="s1">this.dirtyValue = true;</span><span class="s3">\n            </span><span class="s1">if (this.proxy instanceof HTMLElement) {</span><span class="s3">\n                </span><span class="s1">this.proxy.value = this.value;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.currentValue = this.value;</span><span class="s3">\n            </span><span class="s1">this.setFormValue(this.value);</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">currentValueChanged() {</span><span class="s3">\n            </span><span class="s1">this.value = this.currentValue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Invoked when the `initialValue` property changes</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @param previous - the previous value</span><span class="s3">\n         </span><span class="s1">* @param next - the new value</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* If elements extending `FormAssociated` implement a `initialValueChanged` method</span><span class="s3">\n         </span><span class="s1">* They must be sure to invoke `super.initialValueChanged(previous, next)` to ensure</span><span class="s3">\n         </span><span class="s1">* proper functioning of `FormAssociated`</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">initialValueChanged(previous, next) {</span><span class="s3">\n            </span><span class="s1">// If the value is clean and the component is connected to the DOM</span><span class="s3">\n            </span><span class="s1">// then set value equal to the attribute value.</span><span class="s3">\n            </span><span class="s1">if (!this.dirtyValue) {</span><span class="s3">\n                </span><span class="s1">this.value = this.initialValue;</span><span class="s3">\n                </span><span class="s1">this.dirtyValue = false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Invoked when the `disabled` property changes</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @param previous - the previous value</span><span class="s3">\n         </span><span class="s1">* @param next - the new value</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* If elements extending `FormAssociated` implement a `disabledChanged` method</span><span class="s3">\n         </span><span class="s1">* They must be sure to invoke `super.disabledChanged(previous, next)` to ensure</span><span class="s3">\n         </span><span class="s1">* proper functioning of `FormAssociated`</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">disabledChanged(previous, next) {</span><span class="s3">\n            </span><span class="s1">if (this.proxy instanceof HTMLElement) {</span><span class="s3">\n                </span><span class="s1">this.proxy.disabled = this.disabled;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, this.disabled));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Invoked when the `name` property changes</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @param previous - the previous value</span><span class="s3">\n         </span><span class="s1">* @param next - the new value</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* If elements extending `FormAssociated` implement a `nameChanged` method</span><span class="s3">\n         </span><span class="s1">* They must be sure to invoke `super.nameChanged(previous, next)` to ensure</span><span class="s3">\n         </span><span class="s1">* proper functioning of `FormAssociated`</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">nameChanged(previous, next) {</span><span class="s3">\n            </span><span class="s1">if (this.proxy instanceof HTMLElement) {</span><span class="s3">\n                </span><span class="s1">this.proxy.name = this.name;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Invoked when the `required` property changes</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @param previous - the previous value</span><span class="s3">\n         </span><span class="s1">* @param next - the new value</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* If elements extending `FormAssociated` implement a `requiredChanged` method</span><span class="s3">\n         </span><span class="s1">* They must be sure to invoke `super.requiredChanged(previous, next)` to ensure</span><span class="s3">\n         </span><span class="s1">* proper functioning of `FormAssociated`</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">requiredChanged(prev, next) {</span><span class="s3">\n            </span><span class="s1">if (this.proxy instanceof HTMLElement) {</span><span class="s3">\n                </span><span class="s1">this.proxy.required = this.required;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">required</span><span class="s3">\&quot;</span><span class="s1">, this.required));</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The element internals object. Will only exist</span><span class="s3">\n         </span><span class="s1">* in browsers supporting the attachInternals API</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">get elementInternals() {</span><span class="s3">\n            </span><span class="s1">if (!supportsElementInternals) {</span><span class="s3">\n                </span><span class="s1">return null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">let internals = InternalsMap.get(this);</span><span class="s3">\n            </span><span class="s1">if (!internals) {</span><span class="s3">\n                </span><span class="s1">internals = this.attachInternals();</span><span class="s3">\n                </span><span class="s1">InternalsMap.set(this, internals);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return internals;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">connectedCallback() {</span><span class="s3">\n            </span><span class="s1">super.connectedCallback();</span><span class="s3">\n            </span><span class="s1">this.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">keypress</span><span class="s3">\&quot;</span><span class="s1">, this._keypressHandler);</span><span class="s3">\n            </span><span class="s1">if (!this.value) {</span><span class="s3">\n                </span><span class="s1">this.value = this.initialValue;</span><span class="s3">\n                </span><span class="s1">this.dirtyValue = false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (!this.elementInternals) {</span><span class="s3">\n                </span><span class="s1">this.attachProxy();</span><span class="s3">\n                </span><span class="s1">if (this.form) {</span><span class="s3">\n                    </span><span class="s1">this.form.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">reset</span><span class="s3">\&quot;</span><span class="s1">, this.formResetCallback);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n            </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n            </span><span class="s1">this.proxyEventsToBlock.forEach(name =&gt; this.proxy.removeEventListener(name, this.stopPropagation));</span><span class="s3">\n            </span><span class="s1">if (!this.elementInternals &amp;&amp; this.form) {</span><span class="s3">\n                </span><span class="s1">this.form.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">reset</span><span class="s3">\&quot;</span><span class="s1">, this.formResetCallback);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Return the current validity of the element.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">checkValidity() {</span><span class="s3">\n            </span><span class="s1">return this.elementInternals</span><span class="s3">\n                </span><span class="s1">? this.elementInternals.checkValidity()</span><span class="s3">\n                </span><span class="s1">: this.proxy.checkValidity();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Return the current validity of the element.</span><span class="s3">\n         </span><span class="s1">* If false, fires an invalid event at the element.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">reportValidity() {</span><span class="s3">\n            </span><span class="s1">return this.elementInternals</span><span class="s3">\n                </span><span class="s1">? this.elementInternals.reportValidity()</span><span class="s3">\n                </span><span class="s1">: this.proxy.reportValidity();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Set the validity of the control. In cases when the elementInternals object is not</span><span class="s3">\n         </span><span class="s1">* available (and the proxy element is used to report validity), this function will</span><span class="s3">\n         </span><span class="s1">* do nothing unless a message is provided, at which point the setCustomValidity method</span><span class="s3">\n         </span><span class="s1">* of the proxy element will be invoked with the provided message.</span><span class="s3">\n         </span><span class="s1">* @param flags - Validity flags</span><span class="s3">\n         </span><span class="s1">* @param message - Optional message to supply</span><span class="s3">\n         </span><span class="s1">* @param anchor - Optional element used by UA to display an interactive validation UI</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">setValidity(flags, message, anchor) {</span><span class="s3">\n            </span><span class="s1">if (this.elementInternals) {</span><span class="s3">\n                </span><span class="s1">this.elementInternals.setValidity(flags, message, anchor);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (typeof message === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">this.proxy.setCustomValidity(message);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Invoked when a connected component's form or fieldset has its disabled</span><span class="s3">\n         </span><span class="s1">* state changed.</span><span class="s3">\n         </span><span class="s1">* @param disabled - the disabled value of the form / fieldset</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">formDisabledCallback(disabled) {</span><span class="s3">\n            </span><span class="s1">this.disabled = disabled;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">formResetCallback() {</span><span class="s3">\n            </span><span class="s1">this.value = this.initialValue;</span><span class="s3">\n            </span><span class="s1">this.dirtyValue = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Attach the proxy element to the DOM</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">attachProxy() {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">if (!this.proxyInitialized) {</span><span class="s3">\n                </span><span class="s1">this.proxyInitialized = true;</span><span class="s3">\n                </span><span class="s1">this.proxy.style.display = </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.proxyEventsToBlock.forEach(name =&gt; this.proxy.addEventListener(name, this.stopPropagation));</span><span class="s3">\n                </span><span class="s1">// These are typically mapped to the proxy during</span><span class="s3">\n                </span><span class="s1">// property change callbacks, but during initialization</span><span class="s3">\n                </span><span class="s1">// on the initial call of the callback, the proxy is</span><span class="s3">\n                </span><span class="s1">// still undefined. We should find a better way to address this.</span><span class="s3">\n                </span><span class="s1">this.proxy.disabled = this.disabled;</span><span class="s3">\n                </span><span class="s1">this.proxy.required = this.required;</span><span class="s3">\n                </span><span class="s1">if (typeof this.name === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">this.proxy.name = this.name;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (typeof this.value === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">this.proxy.value = this.value;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">slot</span><span class="s3">\&quot;</span><span class="s1">, proxySlotName);</span><span class="s3">\n                </span><span class="s1">this.proxySlot = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">slot</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.proxySlot.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">, proxySlotName);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">(_a = this.shadowRoot) === null || _a === void 0 ? void 0 : _a.appendChild(this.proxySlot);</span><span class="s3">\n            </span><span class="s1">this.appendChild(this.proxy);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Detach the proxy element from the DOM</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">detachProxy() {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">this.removeChild(this.proxy);</span><span class="s3">\n            </span><span class="s1">(_a = this.shadowRoot) === null || _a === void 0 ? void 0 : _a.removeChild(this.proxySlot);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/** {@inheritDoc (FormAssociated:interface).validate} */</span><span class="s3">\n        </span><span class="s1">validate(anchor) {</span><span class="s3">\n            </span><span class="s1">if (this.proxy instanceof HTMLElement) {</span><span class="s3">\n                </span><span class="s1">this.setValidity(this.proxy.validity, this.proxy.validationMessage, anchor);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Associates the provided value (and optional state) with the parent form.</span><span class="s3">\n         </span><span class="s1">* @param value - The value to set</span><span class="s3">\n         </span><span class="s1">* @param state - The state object provided to during session restores and when autofilling.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">setFormValue(value, state) {</span><span class="s3">\n            </span><span class="s1">if (this.elementInternals) {</span><span class="s3">\n                </span><span class="s1">this.elementInternals.setFormValue(value, state || value);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">_keypressHandler(e) {</span><span class="s3">\n            </span><span class="s1">switch (e.key) {</span><span class="s3">\n                </span><span class="s1">case keyEnter:</span><span class="s3">\n                    </span><span class="s1">if (this.form instanceof HTMLFormElement) {</span><span class="s3">\n                        </span><span class="s1">// Implicit submission</span><span class="s3">\n                        </span><span class="s1">const defaultButton = this.form.querySelector(</span><span class="s3">\&quot;</span><span class="s1">[type=submit]</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">defaultButton === null || defaultButton === void 0 ? void 0 : defaultButton.click();</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Used to stop propagation of proxy element events</span><span class="s3">\n         </span><span class="s1">* @param e - Event object</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">stopPropagation(e) {</span><span class="s3">\n            </span><span class="s1">e.stopPropagation();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})(C.prototype, </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">fromView</span><span class="s3">\&quot;</span><span class="s1">, attribute: </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot; </span><span class="s1">})(C.prototype, </span><span class="s3">\&quot;</span><span class="s1">initialValue</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">current-value</span><span class="s3">\&quot; </span><span class="s1">})(C.prototype, </span><span class="s3">\&quot;</span><span class="s1">currentValue</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">attr(C.prototype, </span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})(C.prototype, </span><span class="s3">\&quot;</span><span class="s1">required</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">observable(C.prototype, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return C;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function CheckableFormAssociated(BaseCtor) {</span><span class="s3">\n    </span><span class="s1">class C extends FormAssociated(BaseCtor) {</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">class D extends C {</span><span class="s3">\n        </span><span class="s1">constructor(...args) {</span><span class="s3">\n            </span><span class="s1">super(args);</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* Tracks whether the </span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot; </span><span class="s1">property has been changed.</span><span class="s3">\n             </span><span class="s1">* This is necessary to provide consistent behavior with</span><span class="s3">\n             </span><span class="s1">* normal input checkboxes</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">this.dirtyChecked = false;</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* Provides the default checkedness of the input element</span><span class="s3">\n             </span><span class="s1">* Passed down to proxy</span><span class="s3">\n             </span><span class="s1">*</span><span class="s3">\n             </span><span class="s1">* @public</span><span class="s3">\n             </span><span class="s1">* @remarks</span><span class="s3">\n             </span><span class="s1">* HTML Attribute: checked</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">this.checkedAttribute = false;</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* The checked state of the control.</span><span class="s3">\n             </span><span class="s1">*</span><span class="s3">\n             </span><span class="s1">* @public</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">this.checked = false;</span><span class="s3">\n            </span><span class="s1">// Re-initialize dirtyChecked because initialization of other values</span><span class="s3">\n            </span><span class="s1">// causes it to become true</span><span class="s3">\n            </span><span class="s1">this.dirtyChecked = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">checkedAttributeChanged() {</span><span class="s3">\n            </span><span class="s1">this.defaultChecked = this.checkedAttribute;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">defaultCheckedChanged() {</span><span class="s3">\n            </span><span class="s1">if (!this.dirtyChecked) {</span><span class="s3">\n                </span><span class="s1">// Setting this.checked will cause us to enter a dirty state,</span><span class="s3">\n                </span><span class="s1">// but if we are clean when defaultChecked is changed, we want to stay</span><span class="s3">\n                </span><span class="s1">// in a clean state, so reset this.dirtyChecked</span><span class="s3">\n                </span><span class="s1">this.checked = this.defaultChecked;</span><span class="s3">\n                </span><span class="s1">this.dirtyChecked = false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">checkedChanged(prev, next) {</span><span class="s3">\n            </span><span class="s1">if (!this.dirtyChecked) {</span><span class="s3">\n                </span><span class="s1">this.dirtyChecked = true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.currentChecked = this.checked;</span><span class="s3">\n            </span><span class="s1">this.updateForm();</span><span class="s3">\n            </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n                </span><span class="s1">this.proxy.checked = this.checked;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (prev !== undefined) {</span><span class="s3">\n                </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">currentCheckedChanged(prev, next) {</span><span class="s3">\n            </span><span class="s1">this.checked = this.currentChecked;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">updateForm() {</span><span class="s3">\n            </span><span class="s1">const value = this.checked ? this.value : null;</span><span class="s3">\n            </span><span class="s1">this.setFormValue(value, value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">connectedCallback() {</span><span class="s3">\n            </span><span class="s1">super.connectedCallback();</span><span class="s3">\n            </span><span class="s1">this.updateForm();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">formResetCallback() {</span><span class="s3">\n            </span><span class="s1">super.formResetCallback();</span><span class="s3">\n            </span><span class="s1">this.checked = !!this.checkedAttribute;</span><span class="s3">\n            </span><span class="s1">this.dirtyChecked = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})(D.prototype, </span><span class="s3">\&quot;</span><span class="s1">checkedAttribute</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">current-checked</span><span class="s3">\&quot;</span><span class="s1">, converter: booleanConverter })(D.prototype, </span><span class="s3">\&quot;</span><span class="s1">currentChecked</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">observable(D.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultChecked</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">observable(D.prototype, </span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">return D;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _Button extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(Button:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedButton extends FormAssociated(_Button) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ARIAGlobalStatesAndProperties, StartEnd, } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedButton } from </span><span class="s3">\&quot;</span><span class="s1">./button.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Button Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button | &lt;button&gt; element }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the button content</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the button content</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for button content</span><span class="s3">\n </span><span class="s1">* @csspart control - The button element</span><span class="s3">\n </span><span class="s1">* @csspart content - The element wrapping button content</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Button extends FormAssociatedButton {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Prevent events to propagate if disabled and has no slotted content wrapped in HTML elements</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleClick = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">if (this.disabled &amp;&amp; ((_a = this.defaultSlottedContent) === null || _a === void 0 ? void 0 : _a.length) &lt;= 1) {</span><span class="s3">\n                </span><span class="s1">e.stopPropagation();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Submits the parent form</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleSubmission = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.form) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const attached = this.proxy.isConnected;</span><span class="s3">\n            </span><span class="s1">if (!attached) {</span><span class="s3">\n                </span><span class="s1">this.attachProxy();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Browser support for requestSubmit is not comprehensive</span><span class="s3">\n            </span><span class="s1">// so click the proxy if it isn't supported</span><span class="s3">\n            </span><span class="s1">typeof this.form.requestSubmit === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n                </span><span class="s1">? this.form.requestSubmit(this.proxy)</span><span class="s3">\n                </span><span class="s1">: this.proxy.click();</span><span class="s3">\n            </span><span class="s1">if (!attached) {</span><span class="s3">\n                </span><span class="s1">this.detachProxy();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Resets the parent form</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleFormReset = () =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">(_a = this.form) === null || _a === void 0 ? void 0 : _a.reset();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Overrides the focus call for where delegatesFocus is unsupported.</span><span class="s3">\n         </span><span class="s1">* This check works for Chrome, Edge Chromium, FireFox, and Safari</span><span class="s3">\n         </span><span class="s1">* Relevant PR on the Firefox browser: https://phabricator.services.mozilla.com/D123858</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleUnsupportedDelegatesFocus = () =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">// Check to see if delegatesFocus is supported</span><span class="s3">\n            </span><span class="s1">if (window.ShadowRoot &amp;&amp;</span><span class="s3">\n                </span><span class="s1">!window.ShadowRoot.prototype.hasOwnProperty(</span><span class="s3">\&quot;</span><span class="s1">delegatesFocus</span><span class="s3">\&quot;</span><span class="s1">) &amp;&amp;</span><span class="s3">\n                </span><span class="s1">((_a = this.$fastController.definition.shadowOptions) === null || _a === void 0 ? void 0 : _a.delegatesFocus)) {</span><span class="s3">\n                </span><span class="s1">this.focus = () =&gt; {</span><span class="s3">\n                    </span><span class="s1">this.control.focus();</span><span class="s3">\n                </span><span class="s1">};</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">formactionChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.formAction = this.formaction;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">formenctypeChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.formEnctype = this.formenctype;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">formmethodChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.formMethod = this.formmethod;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">formnovalidateChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.formNoValidate = this.formnovalidate;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">formtargetChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.formTarget = this.formtarget;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">typeChanged(previous, next) {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.type = this.type;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">next === </span><span class="s3">\&quot;</span><span class="s1">submit</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; this.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">, this.handleSubmission);</span><span class="s3">\n        </span><span class="s1">previous === </span><span class="s3">\&quot;</span><span class="s1">submit</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; this.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">, this.handleSubmission);</span><span class="s3">\n        </span><span class="s1">next === </span><span class="s3">\&quot;</span><span class="s1">reset</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; this.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">, this.handleFormReset);</span><span class="s3">\n        </span><span class="s1">previous === </span><span class="s3">\&quot;</span><span class="s1">reset</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; this.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">, this.handleFormReset);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** {@inheritDoc (FormAssociated:interface).validate} */</span><span class="s3">\n    </span><span class="s1">validate() {</span><span class="s3">\n        </span><span class="s1">super.validate(this.control);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">, this.type);</span><span class="s3">\n        </span><span class="s1">this.handleUnsupportedDelegatesFocus();</span><span class="s3">\n        </span><span class="s1">const elements = Array.from((_a = this.control) === null || _a === void 0 ? void 0 : _a.children);</span><span class="s3">\n        </span><span class="s1">if (elements) {</span><span class="s3">\n            </span><span class="s1">elements.forEach((span) =&gt; {</span><span class="s3">\n                </span><span class="s1">span.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">, this.handleClick);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">const elements = Array.from((_a = this.control) === null || _a === void 0 ? void 0 : _a.children);</span><span class="s3">\n        </span><span class="s1">if (elements) {</span><span class="s3">\n            </span><span class="s1">elements.forEach((span) =&gt; {</span><span class="s3">\n                </span><span class="s1">span.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">, this.handleClick);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Button.prototype, </span><span class="s3">\&quot;</span><span class="s1">autofocus</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">form</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Button.prototype, </span><span class="s3">\&quot;</span><span class="s1">formId</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Button.prototype, </span><span class="s3">\&quot;</span><span class="s1">formaction</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Button.prototype, </span><span class="s3">\&quot;</span><span class="s1">formenctype</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Button.prototype, </span><span class="s3">\&quot;</span><span class="s1">formmethod</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Button.prototype, </span><span class="s3">\&quot;</span><span class="s1">formnovalidate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Button.prototype, </span><span class="s3">\&quot;</span><span class="s1">formtarget</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Button.prototype, </span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Button.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedContent</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Includes ARIA states and properties relating to the ARIA button role</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DelegatesARIAButton {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-expanded</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], DelegatesARIAButton.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaExpanded</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-pressed</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], DelegatesARIAButton.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaPressed</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(DelegatesARIAButton, ARIAGlobalStatesAndProperties);</span><span class="s3">\n</span><span class="s1">applyMixins(Button, StartEnd, DelegatesARIAButton);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Button:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const buttonTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;button</span><span class="s3">\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n        </span><span class="s1">?autofocus=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.autofocus}</span><span class="s3">\&quot;\n        </span><span class="s1">?disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n        </span><span class="s1">form=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.formId}</span><span class="s3">\&quot;\n        </span><span class="s1">formaction=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.formaction}</span><span class="s3">\&quot;\n        </span><span class="s1">formenctype=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.formenctype}</span><span class="s3">\&quot;\n        </span><span class="s1">formmethod=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.formmethod}</span><span class="s3">\&quot;\n        </span><span class="s1">formnovalidate=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.formnovalidate}</span><span class="s3">\&quot;\n        </span><span class="s1">formtarget=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.formtarget}</span><span class="s3">\&quot;\n        </span><span class="s1">name=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.name}</span><span class="s3">\&quot;\n        </span><span class="s1">type=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.type}</span><span class="s3">\&quot;\n        </span><span class="s1">value=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.value}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-atomic=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaAtomic}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-busy=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaBusy}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaControls}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-current=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaCurrent}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-describedby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDescribedby}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-details=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDetails}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-errormessage=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaErrormessage}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-expanded=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaExpanded}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-flowto=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaFlowto}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-haspopup=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHaspopup}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHidden}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-invalid=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaInvalid}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-keyshortcuts=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaKeyshortcuts}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-label=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabel}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabelledby}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-live=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLive}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-owns=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaOwns}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-pressed=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaPressed}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-relevant=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRelevant}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-roledescription=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRoledescription}</span><span class="s3">\&quot;\n        </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot ${slotted(</span><span class="s3">\&quot;</span><span class="s1">defaultSlottedContent</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n        </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n    </span><span class="s1">&lt;/button&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* The CSS value for disabled cursors.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const disabledCursor = </span><span class="s3">\&quot;</span><span class="s1">not-allowed</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillRest, accentForegroundRest, disabledOpacity, errorFillRest, neutralFillRest } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { AccentButtonStyles, BaseButtonStyles, ErrorButtonStyles, LightweightButtonStyles, OutlineButtonStyles, StealthButtonStyles } from '../styles/patterns/button.js';</span><span class="s3">\n</span><span class="s1">import { appearanceBehavior } from '../utilities/behaviors.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Button</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const buttonStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">:host([disabled]),</span><span class="s3">\n    </span><span class="s1">:host([disabled]:hover),</span><span class="s3">\n    </span><span class="s1">:host([disabled]:active) {</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n      </span><span class="s1">background-color: ${neutralFillRest};</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${BaseButtonStyles}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host([disabled]),</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .control,</span><span class="s3">\n      </span><span class="s1">:host([disabled]:hover),</span><span class="s3">\n      </span><span class="s1">:host([disabled]:active) {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background-color: ${SystemColors.ButtonFace};</span><span class="s3">\n        </span><span class="s1">outline-color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`), appearanceBehavior('accent', css `</span><span class="s3">\n        </span><span class="s1">:host([appearance='accent'][disabled]),</span><span class="s3">\n        </span><span class="s1">:host([appearance='accent'][disabled]:hover),</span><span class="s3">\n        </span><span class="s1">:host([appearance='accent'][disabled]:active) {</span><span class="s3">\n          </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">${AccentButtonStyles}</span><span class="s3">\n      </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n          </span><span class="s1">:host([appearance='accent'][disabled]) .control,</span><span class="s3">\n          </span><span class="s1">:host([appearance='accent'][disabled]) .control:hover {</span><span class="s3">\n            </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n            </span><span class="s1">border-color: ${SystemColors.GrayText};</span><span class="s3">\n            </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">`))), appearanceBehavior('error', css `</span><span class="s3">\n        </span><span class="s1">:host([appearance='error'][disabled]),</span><span class="s3">\n        </span><span class="s1">:host([appearance='error'][disabled]:hover),</span><span class="s3">\n        </span><span class="s1">:host([appearance='error'][disabled]:active) {</span><span class="s3">\n          </span><span class="s1">background: ${errorFillRest};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">${ErrorButtonStyles}</span><span class="s3">\n      </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n          </span><span class="s1">:host([appearance='error'][disabled]) .control,</span><span class="s3">\n          </span><span class="s1">:host([appearance='error'][disabled]) .control:hover {</span><span class="s3">\n            </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n            </span><span class="s1">border-color: ${SystemColors.GrayText};</span><span class="s3">\n            </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">`))), appearanceBehavior('lightweight', css `</span><span class="s3">\n        </span><span class="s1">:host([appearance='lightweight'][disabled]:hover),</span><span class="s3">\n        </span><span class="s1">:host([appearance='lightweight'][disabled]:active) {</span><span class="s3">\n          </span><span class="s1">background-color: transparent;</span><span class="s3">\n          </span><span class="s1">color: ${accentForegroundRest};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">:host([appearance='lightweight'][disabled]) .content::before,</span><span class="s3">\n        </span><span class="s1">:host([appearance='lightweight'][disabled]:hover) .content::before,</span><span class="s3">\n        </span><span class="s1">:host([appearance='lightweight'][disabled]:active) .content::before {</span><span class="s3">\n          </span><span class="s1">background: transparent;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">${LightweightButtonStyles}</span><span class="s3">\n      </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n          </span><span class="s1">:host([appearance='lightweight'].disabled) .control {</span><span class="s3">\n            </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n            </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">:host([appearance='lightweight'].disabled)</span><span class="s3">\n            </span><span class="s1">.control:hover</span><span class="s3">\n            </span><span class="s1">.content::before {</span><span class="s3">\n            </span><span class="s1">background: none;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">`))), appearanceBehavior('outline', css `</span><span class="s3">\n        </span><span class="s1">:host([appearance='outline'][disabled]),</span><span class="s3">\n        </span><span class="s1">:host([appearance='outline'][disabled]:hover),</span><span class="s3">\n        </span><span class="s1">:host([appearance='outline'][disabled]:active) {</span><span class="s3">\n          </span><span class="s1">background: transparent;</span><span class="s3">\n          </span><span class="s1">border-color: ${accentFillRest};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">${OutlineButtonStyles}</span><span class="s3">\n      </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n          </span><span class="s1">:host([appearance='outline'][disabled]) .control {</span><span class="s3">\n            </span><span class="s1">border-color: ${SystemColors.GrayText};</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">`))), appearanceBehavior('stealth', css `</span><span class="s3">\n        </span><span class="s1">${StealthButtonStyles}</span><span class="s3">\n      </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n          </span><span class="s1">:host([appearance='stealth'][disabled]) {</span><span class="s3">\n            </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n\n          </span><span class="s1">:host([appearance='stealth'][disabled]) .control {</span><span class="s3">\n            </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n            </span><span class="s1">border-color: transparent;</span><span class="s3">\n            </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">`))));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { Button, buttonTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { buttonStyles as styles } from './button.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Button class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-button</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterButton extends Button {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The appearance the button should have.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: appearance</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.appearance = 'neutral';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Applies 'icon-only' class when there is only an SVG in the default slot</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">defaultSlottedContentChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">const slottedElements = this.defaultSlottedContent.filter(x =&gt; x.nodeType === Node.ELEMENT_NODE);</span><span class="s3">\n        </span><span class="s1">if (slottedElements.length === 1 &amp;&amp;</span><span class="s3">\n            </span><span class="s1">(slottedElements[0] instanceof SVGElement ||</span><span class="s3">\n                </span><span class="s1">slottedElements[0].classList.contains('fa') ||</span><span class="s3">\n                </span><span class="s1">slottedElements[0].classList.contains('fas'))) {</span><span class="s3">\n            </span><span class="s1">this.control.classList.add('icon-only');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.control.classList.remove('icon-only');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterButton.prototype, </span><span class="s3">\&quot;</span><span class="s1">appearance</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: 'minimal', mode: 'boolean' })</span><span class="s3">\n</span><span class="s1">], JupyterButton.prototype, </span><span class="s3">\&quot;</span><span class="s1">minimal</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterButton.prototype, </span><span class="s3">\&quot;</span><span class="s1">scale</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Button} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#buttonTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-button&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* {@link https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/delegatesFocus | delegatesFocus}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpButton = JupyterButton.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'button',</span><span class="s3">\n    </span><span class="s1">baseClass: Button,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterButton as Button };</span><span class="s3">\n</span><span class="s1">export { styles as buttonStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An Card Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the card content</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Card extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#Card} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const cardTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Define shadow algorithms.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* TODO: The --background-luminance will need to be derived from JavaScript. For now</span><span class="s3">\n </span><span class="s1">* this is hard-coded to a 1, the relative luminance of pure white.</span><span class="s3">\n </span><span class="s1">* https://github.com/microsoft/fast/issues/2778</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const ambientShadow = '0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(.11 * (2 - var(--background-luminance, 1))))';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const directionalShadow = '0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(.13 * (2 - var(--background-luminance, 1))))';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Applies the box-shadow CSS rule set to the elevation formula.</span><span class="s3">\n </span><span class="s1">* Control this formula with the --elevation CSS Custom Property</span><span class="s3">\n </span><span class="s1">* by setting --elevation to a number.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const elevation = `box-shadow: ${ambientShadow}, ${directionalShadow};`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { controlCornerRadius, fillColor } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { elevation } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Card</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const cardStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('block')} :host {</span><span class="s3">\n      </span><span class="s1">--elevation: 4;</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n      </span><span class="s1">contain: content;</span><span class="s3">\n      </span><span class="s1">height: var(--card-height, 100%);</span><span class="s3">\n      </span><span class="s1">width: var(--card-width, 100%);</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">background: ${fillColor};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">${elevation}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Canvas};</span><span class="s3">\n        </span><span class="s1">box-shadow: 0 0 0 1px ${SystemColors.CanvasText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { composedParent, Card, cardTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { fillColor, neutralFillLayerRecipe } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { cardStyles as styles } from './card.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Card class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-card</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterCard extends Card {</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">const parent = composedParent(this);</span><span class="s3">\n        </span><span class="s1">if (parent) {</span><span class="s3">\n            </span><span class="s1">fillColor.setValueFor(this, (target) =&gt; neutralFillLayerRecipe</span><span class="s3">\n                </span><span class="s1">.getValueFor(target)</span><span class="s3">\n                </span><span class="s1">.evaluate(target, fillColor.getValueFor(parent)));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Card} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#cardTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-card&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpCard = JupyterCard.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'card',</span><span class="s3">\n    </span><span class="s1">baseClass: Card,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterCard as Card };</span><span class="s3">\n</span><span class="s1">export { styles as cardStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { CheckableFormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _Checkbox extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(Checkbox:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedCheckbox extends CheckableFormAssociated(_Checkbox) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keySpace } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedCheckbox } from </span><span class="s3">\&quot;</span><span class="s1">./checkbox.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Checkbox Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#checkbox | ARIA checkbox }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot checked-indicator - The checked indicator</span><span class="s3">\n </span><span class="s1">* @slot indeterminate-indicator - The indeterminate indicator</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the label</span><span class="s3">\n </span><span class="s1">* @csspart control - The element representing the visual checkbox control</span><span class="s3">\n </span><span class="s1">* @csspart label - The label</span><span class="s3">\n </span><span class="s1">* @fires change - Emits a custom change event when the checked state changes</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Checkbox extends FormAssociatedCheckbox {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The element's value to be included in form submission when checked.</span><span class="s3">\n         </span><span class="s1">* Default to </span><span class="s3">\&quot;</span><span class="s1">on</span><span class="s3">\&quot; </span><span class="s1">to reach parity with input[type=</span><span class="s3">\&quot;</span><span class="s1">checkbox</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.initialValue = </span><span class="s3">\&quot;</span><span class="s1">on</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The indeterminate state of the control</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.indeterminate = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.keypressHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.readOnly) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">switch (e.key) {</span><span class="s3">\n                </span><span class="s1">case keySpace:</span><span class="s3">\n                    </span><span class="s1">if (this.indeterminate) {</span><span class="s3">\n                        </span><span class="s1">this.indeterminate = false;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">this.checked = !this.checked;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.clickHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.disabled &amp;&amp; !this.readOnly) {</span><span class="s3">\n                </span><span class="s1">if (this.indeterminate) {</span><span class="s3">\n                    </span><span class="s1">this.indeterminate = false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.checked = !this.checked;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">checkbox</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">readOnlyChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.readOnly = this.readOnly;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Checkbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">readOnly</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Checkbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Checkbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">indeterminate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillActive, accentFillFocus, accentFillHover, accentFillRest, bodyFont, controlCornerRadius, designUnit, disabledOpacity, errorFillActive, errorFillFocus, errorFillHover, errorFillRest, focusStrokeWidth, foregroundOnAccentActive, foregroundOnAccentHover, foregroundOnAccentRest, neutralFillInputActive, neutralFillInputHover, neutralFillInputRest, neutralForegroundRest, neutralStrokeActive, neutralStrokeHover, neutralStrokeRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Checkbox</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const checkboxStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('inline-flex')} :host {</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">margin: calc(${designUnit} * 1px) 0;</span><span class="s3">\n      </span><span class="s1">/* Chromium likes to select label text or the default slot when the checkbox is</span><span class="s3">\n            </span><span class="s1">clicked. Maybe there is a better solution here? */</span><span class="s3">\n      </span><span class="s1">user-select: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control {</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">width: calc((${heightNumber} / 2 + ${designUnit}) * 1px);</span><span class="s3">\n      </span><span class="s1">height: calc((${heightNumber} / 2 + ${designUnit}) * 1px);</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${neutralStrokeRest};</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputRest};</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']) .control {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.label {</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">/* Need to discuss with Brian how HorizontalSpacingNumber can work.</span><span class="s3">\n            </span><span class="s1">https://github.com/microsoft/fast/issues/2766 */</span><span class="s3">\n      </span><span class="s1">padding-inline-start: calc(${designUnit} * 2px + 2px);</span><span class="s3">\n      </span><span class="s1">margin-inline-end: calc(${designUnit} * 2px + 2px);</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.label__hidden {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n      </span><span class="s1">visibility: hidden;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.checked-indicator {</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n      </span><span class="s1">fill: ${foregroundOnAccentRest};</span><span class="s3">\n      </span><span class="s1">opacity: 0;</span><span class="s3">\n      </span><span class="s1">pointer-events: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.indeterminate-indicator {</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">background: ${foregroundOnAccentRest};</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">top: 50%;</span><span class="s3">\n      </span><span class="s1">left: 50%;</span><span class="s3">\n      </span><span class="s1">width: 50%;</span><span class="s3">\n      </span><span class="s1">height: 50%;</span><span class="s3">\n      </span><span class="s1">transform: translate(-50%, -50%);</span><span class="s3">\n      </span><span class="s1">opacity: 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled])) .control:hover {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputHover};</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralStrokeHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled])) .control:active {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputActive};</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralStrokeActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']:not([disabled])) .control:hover {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']:not([disabled])) .control:active {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:${focusVisible}) .control {</span><span class="s3">\n      </span><span class="s1">outline: calc(${focusStrokeWidth} * 1px) solid ${accentFillFocus};</span><span class="s3">\n      </span><span class="s1">outline-offset: 2px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']:${focusVisible}) .control {</span><span class="s3">\n      </span><span class="s1">outline-color: ${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) .control {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${accentFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled])) .control:hover {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillHover};</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${accentFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked='true']) .control {</span><span class="s3">\n      </span><span class="s1">background-color: ${errorFillRest};</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.control:hover {</span><span class="s3">\n      </span><span class="s1">background-color: ${errorFillHover};</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.control:hover</span><span class="s3">\n      </span><span class="s1">.checked-indicator {</span><span class="s3">\n      </span><span class="s1">fill: ${foregroundOnAccentHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.control:hover</span><span class="s3">\n      </span><span class="s1">.indeterminate-indicator {</span><span class="s3">\n      </span><span class="s1">background: ${foregroundOnAccentHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled])) .control:active {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillActive};</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${accentFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.control:active {</span><span class="s3">\n      </span><span class="s1">background-color: ${errorFillActive};</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.control:active</span><span class="s3">\n      </span><span class="s1">.checked-indicator {</span><span class="s3">\n      </span><span class="s1">fill: ${foregroundOnAccentActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.control:active</span><span class="s3">\n      </span><span class="s1">.indeterminate-indicator {</span><span class="s3">\n      </span><span class="s1">background: ${foregroundOnAccentActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}:not([disabled])) .control {</span><span class="s3">\n      </span><span class="s1">outline: calc(${focusStrokeWidth} * 1px) solid ${accentFillFocus};</span><span class="s3">\n      </span><span class="s1">outline-offset: 2px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}:not([disabled])) .control {</span><span class="s3">\n      </span><span class="s1">outline-color: ${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) .label,</span><span class="s3">\n    </span><span class="s1">:host([readonly]) .label,</span><span class="s3">\n    </span><span class="s1">:host([readonly]) .control,</span><span class="s3">\n    </span><span class="s1">:host([disabled]) .control {</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not(.indeterminate)) .checked-indicator,</span><span class="s3">\n    </span><span class="s1">:host(.indeterminate) .indeterminate-indicator {</span><span class="s3">\n      </span><span class="s1">opacity: 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) {</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">.control {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.FieldText};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-invalid='true']) .control {</span><span class="s3">\n        </span><span class="s1">border-style: dashed;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">.checked-indicator {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">.indeterminate-indicator {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(:not([disabled])) .control:hover,</span><span class="s3">\n      </span><span class="s1">.control:active {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(:${focusVisible}) .control {</span><span class="s3">\n        </span><span class="s1">outline: calc(${focusStrokeWidth} * 1px) solid ${SystemColors.FieldText};</span><span class="s3">\n        </span><span class="s1">outline-offset: 2px;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}:not([disabled])) .control {</span><span class="s3">\n        </span><span class="s1">outline: calc(${focusStrokeWidth} * 1px) solid ${SystemColors.FieldText};</span><span class="s3">\n        </span><span class="s1">outline-offset: 2px;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']) .control {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']:not([disabled])) .control:hover,</span><span class="s3">\n      </span><span class="s1">.control:active {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']) .checked-indicator {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n        </span><span class="s1">.control:hover</span><span class="s3">\n        </span><span class="s1">.checked-indicator {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']) .indeterminate-indicator {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']) .control:hover .indeterminate-indicator {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .control {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .indeterminate-indicator,</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true'][disabled])</span><span class="s3">\n        </span><span class="s1">.control:hover</span><span class="s3">\n        </span><span class="s1">.indeterminate-indicator {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .checked-indicator,</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true'][disabled]) .control:hover .checked-indicator {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Checkbox } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { checkboxStyles as styles } from './checkbox.styles.js';</span><span class="s3">\n</span><span class="s1">import { html, slotted } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Checkbox:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const checkboxTemplate = (context, definition) =&gt; html `</span><span class="s3">\n  </span><span class="s1">&lt;template</span><span class="s3">\n    </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">checkbox</span><span class="s3">\&quot;\n    </span><span class="s1">aria-checked=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.checked}</span><span class="s3">\&quot;\n    </span><span class="s1">aria-required=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.required}</span><span class="s3">\&quot;\n    </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n    </span><span class="s1">aria-readonly=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.readOnly}</span><span class="s3">\&quot;\n    </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.disabled ? null : 0)}</span><span class="s3">\&quot;\n    </span><span class="s1">@keypress=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.keypressHandler(c.event)}</span><span class="s3">\&quot;\n    </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.clickHandler(c.event)}</span><span class="s3">\&quot;\n  </span><span class="s1">&gt;</span><span class="s3">\n    </span><span class="s1">&lt;div part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n      </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">checked-indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${definition.checkedIndicator || ''}</span><span class="s3">\n      </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n      </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">indeterminate-indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${definition.indeterminateIndicator || ''}</span><span class="s3">\n      </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;label</span><span class="s3">\n      </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n      </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.defaultSlottedNodes &amp;&amp; x.defaultSlottedNodes.length</span><span class="s3">\n    </span><span class="s1">? 'label'</span><span class="s3">\n    </span><span class="s1">: 'label label__hidden'}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n      </span><span class="s1">&lt;slot ${slotted('defaultSlottedNodes')}&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/label&gt;</span><span class="s3">\n  </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Checkbox class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-checkbox</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterCheckbox extends Checkbox {</span><span class="s3">\n    </span><span class="s1">indeterminateChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (this.indeterminate) {</span><span class="s3">\n            </span><span class="s1">this.classList.add('indeterminate');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.classList.remove('indeterminate');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Checkbox} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#checkboxTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-checkbox&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpCheckbox = JupyterCheckbox.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'checkbox',</span><span class="s3">\n    </span><span class="s1">baseClass: Checkbox,</span><span class="s3">\n    </span><span class="s1">template: checkboxTemplate,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">checkedIndicator: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;svg</span><span class="s3">\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">checked-indicator</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">checked-indicator</span><span class="s3">\&quot;\n            </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 20 20</span><span class="s3">\&quot;\n            </span><span class="s1">xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;path</span><span class="s3">\n                </span><span class="s1">fill-rule=</span><span class="s3">\&quot;</span><span class="s1">evenodd</span><span class="s3">\&quot;\n                </span><span class="s1">clip-rule=</span><span class="s3">\&quot;</span><span class="s1">evenodd</span><span class="s3">\&quot;\n                </span><span class="s1">d=</span><span class="s3">\&quot;</span><span class="s1">M8.143 12.6697L15.235 4.5L16.8 5.90363L8.23812 15.7667L3.80005 11.2556L5.27591 9.7555L8.143 12.6697Z</span><span class="s3">\&quot;\n            </span><span class="s1">/&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n    </span><span class="s1">`,</span><span class="s3">\n    </span><span class="s1">indeterminateIndicator: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;div part=</span><span class="s3">\&quot;</span><span class="s1">indeterminate-indicator</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">indeterminate-indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterCheckbox as Checkbox };</span><span class="s3">\n</span><span class="s1">export { styles as checkboxStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;let uniqueIdCounter = 0;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Generates a unique ID based on incrementing a counter.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function uniqueId(prefix = </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n    </span><span class="s1">return `${prefix}${uniqueIdCounter++}`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Builds a string from a format specifier and replacement parameters.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function format(formatSpecifier, ...parameters) {</span><span class="s3">\n    </span><span class="s1">return formatSpecifier.replace(/{(</span><span class="s3">\\</span><span class="s1">d+)}/g, function (match, index) {</span><span class="s3">\n        </span><span class="s1">if (index &gt;= parameters.length) {</span><span class="s3">\n            </span><span class="s1">return match;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const value = parameters[index];</span><span class="s3">\n        </span><span class="s1">if (typeof value !== </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; !value) {</span><span class="s3">\n            </span><span class="s1">return </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return value;</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Check to see if one string starts with another</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function startsWith(stringToSearch, searchFor, position = 0) {</span><span class="s3">\n    </span><span class="s1">if (!stringToSearch || !searchFor) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return stringToSearch.substr(position, searchFor.length) === searchFor;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Determines if the specified string is undefined, null, empty, or whitespace.</span><span class="s3">\n </span><span class="s1">* True if the value is undefined, null, empty, or whitespace, otherwise false.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isNullOrWhiteSpace(value) {</span><span class="s3">\n    </span><span class="s1">return !value || !value.trim();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a string to Pascal Case</span><span class="s3">\n </span><span class="s1">* where the first letter of each compound word is capitalized.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function pascalCase(value) {</span><span class="s3">\n    </span><span class="s1">let newValue = `${value}`</span><span class="s3">\n        </span><span class="s1">.replace(new RegExp(/[-_]+/, </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">), </span><span class="s3">\&quot; \&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.replace(new RegExp(/[^</span><span class="s3">\\</span><span class="s1">w</span><span class="s3">\\</span><span class="s1">s]/, </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">), </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.replace(/^</span><span class="s3">\\</span><span class="s1">s+|</span><span class="s3">\\</span><span class="s1">s+$|</span><span class="s3">\\</span><span class="s1">s+(?=</span><span class="s3">\\</span><span class="s1">s)/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n        </span><span class="s1">.replace(new RegExp(/</span><span class="s3">\\</span><span class="s1">s+(.)(</span><span class="s3">\\</span><span class="s1">w*)/, </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">), ($1, $2, $3) =&gt; `${$2.toUpperCase() + $3.toLowerCase()}`)</span><span class="s3">\n        </span><span class="s1">.replace(new RegExp(/</span><span class="s3">\\</span><span class="s1">w/), s =&gt; s.toUpperCase());</span><span class="s3">\n    </span><span class="s1">let firstLowerIdx = 0;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; newValue.length; i++) {</span><span class="s3">\n        </span><span class="s1">const currChar = newValue.charAt(i);</span><span class="s3">\n        </span><span class="s1">if (currChar == currChar.toLowerCase()) {</span><span class="s3">\n            </span><span class="s1">firstLowerIdx = i;</span><span class="s3">\n            </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (firstLowerIdx &gt; 1) {</span><span class="s3">\n        </span><span class="s1">newValue =</span><span class="s3">\n            </span><span class="s1">`${newValue.charAt(0).toUpperCase()}${newValue</span><span class="s3">\n                </span><span class="s1">.slice(1, firstLowerIdx - 1)</span><span class="s3">\n                </span><span class="s1">.toLowerCase()}` + newValue.slice(firstLowerIdx - 1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return newValue;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* converts a string from camelCase or pascalCase to spinal-case</span><span class="s3">\n </span><span class="s1">* which is an lowercase dash separated naming style.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* An example of spinal case: foo-bar-bat</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function spinalCase(value) {</span><span class="s3">\n    </span><span class="s1">const valueWithLowerCaseFirstLetter = `${value</span><span class="s3">\n        </span><span class="s1">.charAt(0)</span><span class="s3">\n        </span><span class="s1">.toLowerCase()}${value.slice(1)}`;</span><span class="s3">\n    </span><span class="s1">return valueWithLowerCaseFirstLetter.replace(/([A-Z]|[0-9])/g, function (match, group1) {</span><span class="s3">\n        </span><span class="s1">return `-${group1.toLowerCase()}`;</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Returns the index of the last element in the array where predicate is true, and -1 otherwise.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param array - the array to test</span><span class="s3">\n </span><span class="s1">* @param predicate - find calls predicate once for each element of the array, in descending order, until it finds one where predicate returns true. If such an element is found, findLastIndex immediately returns that element index. Otherwise, findIndex returns -1.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function findLastIndex(array, predicate) {</span><span class="s3">\n    </span><span class="s1">let k = array.length;</span><span class="s3">\n    </span><span class="s1">while (k--) {</span><span class="s3">\n        </span><span class="s1">if (predicate(array[k], k, array)) {</span><span class="s3">\n            </span><span class="s1">return k;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable, Observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { isHTMLElement } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ARIAGlobalStatesAndProperties } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/aria-global.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { StartEnd } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Determines if the element is a {@link (ListboxOption:class)}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param element - the element to test.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isListboxOption(el) {</span><span class="s3">\n    </span><span class="s1">return (isHTMLElement(el) &amp;&amp;</span><span class="s3">\n        </span><span class="s1">(el.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">option</span><span class="s3">\&quot; </span><span class="s1">||</span><span class="s3">\n            </span><span class="s1">el instanceof HTMLOptionElement));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An Option Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements {@link https://www.w3.org/TR/wai-aria-1.1/#option | ARIA option }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the listbox option content</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the listbox option content</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for listbox option content</span><span class="s3">\n </span><span class="s1">* @csspart content - Wraps the listbox option content</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ListboxOption extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor(text, value, defaultSelected, selected) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The defaultSelected state of the option.</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.defaultSelected = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Tracks whether the </span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot; </span><span class="s1">property has been changed.</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.dirtySelected = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The checked state of the control.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.selected = this.defaultSelected;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Track whether the value has been changed from the initial value</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.dirtyValue = false;</span><span class="s3">\n        </span><span class="s1">if (text) {</span><span class="s3">\n            </span><span class="s1">this.textContent = text;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (value) {</span><span class="s3">\n            </span><span class="s1">this.initialValue = value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (defaultSelected) {</span><span class="s3">\n            </span><span class="s1">this.defaultSelected = defaultSelected;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (selected) {</span><span class="s3">\n            </span><span class="s1">this.selected = selected;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.proxy = new Option(`${this.textContent}`, this.initialValue, this.defaultSelected, this.selected);</span><span class="s3">\n        </span><span class="s1">this.proxy.disabled = this.disabled;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the ariaChecked property when the checked property changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous checked value</span><span class="s3">\n     </span><span class="s1">* @param next - the current checked value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">checkedChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (typeof next === </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.ariaChecked = next ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.ariaChecked = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the proxy's text content when the default slot changes.</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous content value</span><span class="s3">\n     </span><span class="s1">* @param next - the current content value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">contentChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLOptionElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.textContent = this.textContent;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">contentchange</span><span class="s3">\&quot;</span><span class="s1">, null, { bubbles: true });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">defaultSelectedChanged() {</span><span class="s3">\n        </span><span class="s1">if (!this.dirtySelected) {</span><span class="s3">\n            </span><span class="s1">this.selected = this.defaultSelected;</span><span class="s3">\n            </span><span class="s1">if (this.proxy instanceof HTMLOptionElement) {</span><span class="s3">\n                </span><span class="s1">this.proxy.selected = this.defaultSelected;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">disabledChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">this.ariaDisabled = this.disabled ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLOptionElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.disabled = this.disabled;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">selectedAttributeChanged() {</span><span class="s3">\n        </span><span class="s1">this.defaultSelected = this.selectedAttribute;</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLOptionElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.defaultSelected = this.defaultSelected;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">selectedChanged() {</span><span class="s3">\n        </span><span class="s1">this.ariaSelected = this.selected ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">if (!this.dirtySelected) {</span><span class="s3">\n            </span><span class="s1">this.dirtySelected = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLOptionElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.selected = this.selected;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">initialValueChanged(previous, next) {</span><span class="s3">\n        </span><span class="s1">// If the value is clean and the component is connected to the DOM</span><span class="s3">\n        </span><span class="s1">// then set value equal to the attribute value.</span><span class="s3">\n        </span><span class="s1">if (!this.dirtyValue) {</span><span class="s3">\n            </span><span class="s1">this.value = this.initialValue;</span><span class="s3">\n            </span><span class="s1">this.dirtyValue = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get label() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">return (_a = this.value) !== null &amp;&amp; _a !== void 0 ? _a : this.text;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get text() {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">return (_b = (_a = this.textContent) === null || _a === void 0 ? void 0 : _a.replace(/</span><span class="s3">\\</span><span class="s1">s+/g, </span><span class="s3">\&quot; \&quot;</span><span class="s1">).trim()) !== null &amp;&amp; _b !== void 0 ? _b : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set value(next) {</span><span class="s3">\n        </span><span class="s1">const newValue = `${next !== null &amp;&amp; next !== void 0 ? next : </span><span class="s3">\&quot;\&quot;</span><span class="s1">}`;</span><span class="s3">\n        </span><span class="s1">this._value = newValue;</span><span class="s3">\n        </span><span class="s1">this.dirtyValue = true;</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLOptionElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.value = newValue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">Observable.notify(this, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get value() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">Observable.track(this, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return (_a = this._value) !== null &amp;&amp; _a !== void 0 ? _a : this.text;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get form() {</span><span class="s3">\n        </span><span class="s1">return this.proxy ? this.proxy.form : null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], ListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], ListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], ListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSelected</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">selectedAttribute</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], ListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">fromView</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">initialValue</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* States and properties relating to the ARIA `option` role.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DelegatesARIAListboxOption {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIAListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaChecked</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIAListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaPosInSet</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIAListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaSelected</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIAListboxOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaSetSize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(DelegatesARIAListboxOption, ARIAGlobalStatesAndProperties);</span><span class="s3">\n</span><span class="s1">applyMixins(ListboxOption, StartEnd, DelegatesARIAListboxOption);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable, Observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { findLastIndex, keyArrowDown, keyArrowUp, keyEnd, keyEnter, keyEscape, keyHome, keySpace, keyTab, uniqueId, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { isListboxOption } from </span><span class="s3">\&quot;</span><span class="s1">../listbox-option/listbox-option.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ARIAGlobalStatesAndProperties } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/aria-global.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Listbox Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#listbox | ARIA listbox }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the listbox options</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Listbox extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The internal unfiltered list of selectable options.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this._options = [];</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The index of the selected option.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.selectedIndex = -1;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* A collection of the selected options.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.selectedOptions = [];</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* A standard `click` event creates a `focus` event before firing, so a</span><span class="s3">\n         </span><span class="s1">* `mousedown` event is used to skip that initial focus.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.shouldSkipFocus = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The current typeahead buffer string.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.typeaheadBuffer = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Flag for the typeahead timeout expiration.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.typeaheadExpired = true;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The timeout ID for the typeahead handler.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.typeaheadTimeout = -1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The first selected option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get firstSelectedOption() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">return (_a = this.selectedOptions[0]) !== null &amp;&amp; _a !== void 0 ? _a : null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns true if there is one or more selectable option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get hasSelectableOptions() {</span><span class="s3">\n        </span><span class="s1">return this.options.length &gt; 0 &amp;&amp; !this.options.every(o =&gt; o.disabled);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The number of options.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get length() {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">return (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.length) !== null &amp;&amp; _b !== void 0 ? _b : 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The list of options.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get options() {</span><span class="s3">\n        </span><span class="s1">Observable.track(this, </span><span class="s3">\&quot;</span><span class="s1">options</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return this._options;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set options(value) {</span><span class="s3">\n        </span><span class="s1">this._options = value;</span><span class="s3">\n        </span><span class="s1">Observable.notify(this, </span><span class="s3">\&quot;</span><span class="s1">options</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Flag for the typeahead timeout expiration.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @deprecated use `Listbox.typeaheadExpired`</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get typeAheadExpired() {</span><span class="s3">\n        </span><span class="s1">return this.typeaheadExpired;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set typeAheadExpired(value) {</span><span class="s3">\n        </span><span class="s1">this.typeaheadExpired = value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle click events for listbox options.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">clickHandler(e) {</span><span class="s3">\n        </span><span class="s1">const captured = e.target.closest(`option,[role=option]`);</span><span class="s3">\n        </span><span class="s1">if (captured &amp;&amp; !captured.disabled) {</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = this.options.indexOf(captured);</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Ensures that the provided option is focused and scrolled into view.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param optionToFocus - The option to focus</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focusAndScrollOptionIntoView(optionToFocus = this.firstSelectedOption) {</span><span class="s3">\n        </span><span class="s1">// To ensure that the browser handles both `focus()` and `scrollIntoView()`, the</span><span class="s3">\n        </span><span class="s1">// timing here needs to guarantee that they happen on different frames. Since this</span><span class="s3">\n        </span><span class="s1">// function is typically called from the `openChanged` observer, `DOM.queueUpdate`</span><span class="s3">\n        </span><span class="s1">// causes the calls to be grouped into the same frame. To prevent this,</span><span class="s3">\n        </span><span class="s1">// `requestAnimationFrame` is used instead of `DOM.queueUpdate`.</span><span class="s3">\n        </span><span class="s1">if (this.contains(document.activeElement) &amp;&amp; optionToFocus !== null) {</span><span class="s3">\n            </span><span class="s1">optionToFocus.focus();</span><span class="s3">\n            </span><span class="s1">requestAnimationFrame(() =&gt; {</span><span class="s3">\n                </span><span class="s1">optionToFocus.scrollIntoView({ block: </span><span class="s3">\&quot;</span><span class="s1">nearest</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles `focusin` actions for the component. When the component receives focus,</span><span class="s3">\n     </span><span class="s1">* the list of selected options is refreshed and the first selected option is scrolled</span><span class="s3">\n     </span><span class="s1">* into view.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focusinHandler(e) {</span><span class="s3">\n        </span><span class="s1">if (!this.shouldSkipFocus &amp;&amp; e.target === e.currentTarget) {</span><span class="s3">\n            </span><span class="s1">this.setSelectedOptions();</span><span class="s3">\n            </span><span class="s1">this.focusAndScrollOptionIntoView();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.shouldSkipFocus = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the options which match the current typeahead buffer.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getTypeaheadMatches() {</span><span class="s3">\n        </span><span class="s1">const pattern = this.typeaheadBuffer.replace(/[.*+</span><span class="s3">\\</span><span class="s1">-?^${}()|[</span><span class="s3">\\</span><span class="s1">]</span><span class="s3">\\\\</span><span class="s1">]/g, </span><span class="s3">\&quot;\\\\</span><span class="s1">$&amp;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">const re = new RegExp(`^${pattern}`, </span><span class="s3">\&quot;</span><span class="s1">gi</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return this.options.filter((o) =&gt; o.text.trim().match(re));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines the index of the next option which is selectable, if any.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous selected index</span><span class="s3">\n     </span><span class="s1">* @param next - the next index to select</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getSelectableIndex(prev = this.selectedIndex, next) {</span><span class="s3">\n        </span><span class="s1">const direction = prev &gt; next ? -1 : prev &lt; next ? 1 : 0;</span><span class="s3">\n        </span><span class="s1">const potentialDirection = prev + direction;</span><span class="s3">\n        </span><span class="s1">let nextSelectableOption = null;</span><span class="s3">\n        </span><span class="s1">switch (direction) {</span><span class="s3">\n            </span><span class="s1">case -1: {</span><span class="s3">\n                </span><span class="s1">nextSelectableOption = this.options.reduceRight((nextSelectableOption, thisOption, index) =&gt; !nextSelectableOption &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">!thisOption.disabled &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">index &lt; potentialDirection</span><span class="s3">\n                    </span><span class="s1">? thisOption</span><span class="s3">\n                    </span><span class="s1">: nextSelectableOption, nextSelectableOption);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case 1: {</span><span class="s3">\n                </span><span class="s1">nextSelectableOption = this.options.reduce((nextSelectableOption, thisOption, index) =&gt; !nextSelectableOption &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">!thisOption.disabled &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">index &gt; potentialDirection</span><span class="s3">\n                    </span><span class="s1">? thisOption</span><span class="s3">\n                    </span><span class="s1">: nextSelectableOption, nextSelectableOption);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this.options.indexOf(nextSelectableOption);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles external changes to child options.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param source - the source object</span><span class="s3">\n     </span><span class="s1">* @param propertyName - the property</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange(source, propertyName) {</span><span class="s3">\n        </span><span class="s1">switch (propertyName) {</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n                </span><span class="s1">if (Listbox.slottedOptionFilter(source)) {</span><span class="s3">\n                    </span><span class="s1">this.selectedIndex = this.options.indexOf(source);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.setSelectedOptions();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Moves focus to an option whose label matches characters typed by the user.</span><span class="s3">\n     </span><span class="s1">* Consecutive keystrokes are batched into a buffer of search text used</span><span class="s3">\n     </span><span class="s1">* to match against the set of options.  If `TYPE_AHEAD_TIMEOUT_MS` passes</span><span class="s3">\n     </span><span class="s1">* between consecutive keystrokes, the search restarts.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param key - the key to be evaluated</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleTypeAhead(key) {</span><span class="s3">\n        </span><span class="s1">if (this.typeaheadTimeout) {</span><span class="s3">\n            </span><span class="s1">window.clearTimeout(this.typeaheadTimeout);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.typeaheadTimeout = window.setTimeout(() =&gt; (this.typeaheadExpired = true), Listbox.TYPE_AHEAD_TIMEOUT_MS);</span><span class="s3">\n        </span><span class="s1">if (key.length &gt; 1) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.typeaheadBuffer = `${this.typeaheadExpired ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: this.typeaheadBuffer}${key}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles `keydown` actions for listbox navigation and typeahead.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">keydownHandler(e) {</span><span class="s3">\n        </span><span class="s1">if (this.disabled) {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.shouldSkipFocus = false;</span><span class="s3">\n        </span><span class="s1">const key = e.key;</span><span class="s3">\n        </span><span class="s1">switch (key) {</span><span class="s3">\n            </span><span class="s1">// Select the first available option</span><span class="s3">\n            </span><span class="s1">case keyHome: {</span><span class="s3">\n                </span><span class="s1">if (!e.shiftKey) {</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                    </span><span class="s1">this.selectFirstOption();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Select the next selectable option</span><span class="s3">\n            </span><span class="s1">case keyArrowDown: {</span><span class="s3">\n                </span><span class="s1">if (!e.shiftKey) {</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                    </span><span class="s1">this.selectNextOption();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Select the previous selectable option</span><span class="s3">\n            </span><span class="s1">case keyArrowUp: {</span><span class="s3">\n                </span><span class="s1">if (!e.shiftKey) {</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                    </span><span class="s1">this.selectPreviousOption();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Select the last available option</span><span class="s3">\n            </span><span class="s1">case keyEnd: {</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">this.selectLastOption();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyTab: {</span><span class="s3">\n                </span><span class="s1">this.focusAndScrollOptionIntoView();</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyEnter:</span><span class="s3">\n            </span><span class="s1">case keyEscape: {</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keySpace: {</span><span class="s3">\n                </span><span class="s1">if (this.typeaheadExpired) {</span><span class="s3">\n                    </span><span class="s1">return true;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Send key to Typeahead handler</span><span class="s3">\n            </span><span class="s1">default: {</span><span class="s3">\n                </span><span class="s1">if (key.length === 1) {</span><span class="s3">\n                    </span><span class="s1">this.handleTypeAhead(`${key}`);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Prevents `focusin` events from firing before `click` events when the</span><span class="s3">\n     </span><span class="s1">* element is unfocused.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">mousedownHandler(e) {</span><span class="s3">\n        </span><span class="s1">this.shouldSkipFocus = !this.contains(document.activeElement);</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Switches between single-selection and multi-selection mode.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous value of the `multiple` attribute</span><span class="s3">\n     </span><span class="s1">* @param next - the next value of the `multiple` attribute</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">multipleChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">this.ariaMultiSelectable = next ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the list of selected options when the `selectedIndex` changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous selected index value</span><span class="s3">\n     </span><span class="s1">* @param next - the current selected index value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectedIndexChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">if (!this.hasSelectableOptions) {</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = -1;</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (((_a = this.options[this.selectedIndex]) === null || _a === void 0 ? void 0 : _a.disabled) &amp;&amp; typeof prev === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">const selectableIndex = this.getSelectableIndex(prev, next);</span><span class="s3">\n            </span><span class="s1">const newNext = selectableIndex &gt; -1 ? selectableIndex : prev;</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = newNext;</span><span class="s3">\n            </span><span class="s1">if (next === newNext) {</span><span class="s3">\n                </span><span class="s1">this.selectedIndexChanged(next, newNext);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.setSelectedOptions();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the selectedness of each option when the list of selected options changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous list of selected options</span><span class="s3">\n     </span><span class="s1">* @param next - the current list of selected options</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectedOptionsChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">const filteredNext = next.filter(Listbox.slottedOptionFilter);</span><span class="s3">\n        </span><span class="s1">(_a = this.options) === null || _a === void 0 ? void 0 : _a.forEach(o =&gt; {</span><span class="s3">\n            </span><span class="s1">const notifier = Observable.getNotifier(o);</span><span class="s3">\n            </span><span class="s1">notifier.unsubscribe(this, </span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">o.selected = filteredNext.includes(o);</span><span class="s3">\n            </span><span class="s1">notifier.subscribe(this, </span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Moves focus to the first selectable option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectFirstOption() {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">if (!this.disabled) {</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.findIndex(o =&gt; !o.disabled)) !== null &amp;&amp; _b !== void 0 ? _b : -1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Moves focus to the last selectable option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectLastOption() {</span><span class="s3">\n        </span><span class="s1">if (!this.disabled) {</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = findLastIndex(this.options, o =&gt; !o.disabled);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Moves focus to the next selectable option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectNextOption() {</span><span class="s3">\n        </span><span class="s1">if (!this.disabled &amp;&amp; this.selectedIndex &lt; this.options.length - 1) {</span><span class="s3">\n            </span><span class="s1">this.selectedIndex += 1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Moves focus to the previous selectable option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectPreviousOption() {</span><span class="s3">\n        </span><span class="s1">if (!this.disabled &amp;&amp; this.selectedIndex &gt; 0) {</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = this.selectedIndex - 1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the selected index to match the first selected option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setDefaultSelectedOption() {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">this.selectedIndex = (_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.findIndex(el =&gt; el.defaultSelected)) !== null &amp;&amp; _b !== void 0 ? _b : -1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets an option as selected and gives it focus.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setSelectedOptions() {</span><span class="s3">\n        </span><span class="s1">var _a, _b, _c;</span><span class="s3">\n        </span><span class="s1">if ((_a = this.options) === null || _a === void 0 ? void 0 : _a.length) {</span><span class="s3">\n            </span><span class="s1">this.selectedOptions = [this.options[this.selectedIndex]];</span><span class="s3">\n            </span><span class="s1">this.ariaActiveDescendant = (_c = (_b = this.firstSelectedOption) === null || _b === void 0 ? void 0 : _b.id) !== null &amp;&amp; _c !== void 0 ? _c : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">this.focusAndScrollOptionIntoView();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the list of options and resets the selected option when the slotted option content changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous list of slotted options</span><span class="s3">\n     </span><span class="s1">* @param next - the current list of slotted options</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">slottedOptionsChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">this.options = next.reduce((options, item) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (isListboxOption(item)) {</span><span class="s3">\n                </span><span class="s1">options.push(item);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return options;</span><span class="s3">\n        </span><span class="s1">}, []);</span><span class="s3">\n        </span><span class="s1">const setSize = `${this.options.length}`;</span><span class="s3">\n        </span><span class="s1">this.options.forEach((option, index) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!option.id) {</span><span class="s3">\n                </span><span class="s1">option.id = uniqueId(</span><span class="s3">\&quot;</span><span class="s1">option-</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">option.ariaPosInSet = `${index + 1}`;</span><span class="s3">\n            </span><span class="s1">option.ariaSetSize = setSize;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.setSelectedOptions();</span><span class="s3">\n            </span><span class="s1">this.setDefaultSelectedOption();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the filtered list of options when the typeahead buffer changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous typeahead buffer value</span><span class="s3">\n     </span><span class="s1">* @param next - the current typeahead buffer value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">typeaheadBufferChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">const typeaheadMatches = this.getTypeaheadMatches();</span><span class="s3">\n            </span><span class="s1">if (typeaheadMatches.length) {</span><span class="s3">\n                </span><span class="s1">const selectedIndex = this.options.indexOf(typeaheadMatches[0]);</span><span class="s3">\n                </span><span class="s1">if (selectedIndex &gt; -1) {</span><span class="s3">\n                    </span><span class="s1">this.selectedIndex = selectedIndex;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.typeaheadExpired = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A static filter to include only selectable options.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param n - element to filter</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">Listbox.slottedOptionFilter = (n) =&gt; isListboxOption(n) &amp;&amp; !n.hidden;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Typeahead timeout in milliseconds.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">Listbox.TYPE_AHEAD_TIMEOUT_MS = 1000;</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Listbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Listbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">selectedIndex</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Listbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">selectedOptions</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Listbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">slottedOptions</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Listbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeaheadBuffer</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Includes ARIA states and properties relating to the ARIA listbox role</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DelegatesARIAListbox {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIAListbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaActiveDescendant</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIAListbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaDisabled</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIAListbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaExpanded</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIAListbox.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaMultiSelectable</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(DelegatesARIAListbox, ARIAGlobalStatesAndProperties);</span><span class="s3">\n</span><span class="s1">applyMixins(Listbox, DelegatesARIAListbox);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Positioning directions for the listbox when a select is open.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const SelectPosition = {</span><span class="s3">\n    </span><span class="s1">above: </span><span class="s3">\&quot;</span><span class="s1">above</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">below: </span><span class="s3">\&quot;</span><span class="s1">below</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Listbox } from </span><span class="s3">\&quot;</span><span class="s1">../listbox/listbox.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _Combobox extends Listbox {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link (Combobox:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedCombobox extends FormAssociated(_Combobox) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Autocomplete values for combobox.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const ComboboxAutocomplete = {</span><span class="s3">\n    </span><span class="s1">inline: </span><span class="s3">\&quot;</span><span class="s1">inline</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">list: </span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">both: </span><span class="s3">\&quot;</span><span class="s1">both</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">none: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, Observable, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { limit, uniqueId } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DelegatesARIAListbox } from </span><span class="s3">\&quot;</span><span class="s1">../listbox/listbox.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { StartEnd } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { SelectPosition } from </span><span class="s3">\&quot;</span><span class="s1">../select/select.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedCombobox } from </span><span class="s3">\&quot;</span><span class="s1">./combobox.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ComboboxAutocomplete } from </span><span class="s3">\&quot;</span><span class="s1">./combobox.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Combobox Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://w3c.github.io/aria-practices/#combobox | ARIA combobox }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the input</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the input</span><span class="s3">\n </span><span class="s1">* @slot control - Used to replace the input element representing the combobox</span><span class="s3">\n </span><span class="s1">* @slot indicator - The visual indicator representing the expanded state</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the options</span><span class="s3">\n </span><span class="s1">* @csspart control - The wrapper element containing the input area, including start and end</span><span class="s3">\n </span><span class="s1">* @csspart selected-value - The input element representing the selected value</span><span class="s3">\n </span><span class="s1">* @csspart indicator - The element wrapping the indicator slot</span><span class="s3">\n </span><span class="s1">* @csspart listbox - The wrapper for the listbox slotted options</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the value updates</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Combobox extends FormAssociatedCombobox {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The internal value property.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this._value = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The collection of currently filtered options.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.filteredOptions = [];</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The current filter value.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.filter = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The initial state of the position attribute.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.forcedPosition = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The unique id for the internal listbox element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.listboxId = uniqueId(</span><span class="s3">\&quot;</span><span class="s1">listbox-</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The max height for the listbox when opened.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.maxHeight = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The open attribute.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: open</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.open = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Reset the element to its first selectable option when its parent form is reset.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">formResetCallback() {</span><span class="s3">\n        </span><span class="s1">super.formResetCallback();</span><span class="s3">\n        </span><span class="s1">this.setDefaultSelectedOption();</span><span class="s3">\n        </span><span class="s1">this.updateValue();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** {@inheritDoc (FormAssociated:interface).validate} */</span><span class="s3">\n    </span><span class="s1">validate() {</span><span class="s3">\n        </span><span class="s1">super.validate(this.control);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get isAutocompleteInline() {</span><span class="s3">\n        </span><span class="s1">return (this.autocomplete === ComboboxAutocomplete.inline || this.isAutocompleteBoth);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get isAutocompleteList() {</span><span class="s3">\n        </span><span class="s1">return this.autocomplete === ComboboxAutocomplete.list || this.isAutocompleteBoth;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get isAutocompleteBoth() {</span><span class="s3">\n        </span><span class="s1">return this.autocomplete === ComboboxAutocomplete.both;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets focus and synchronize ARIA attributes when the open property changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous open value</span><span class="s3">\n     </span><span class="s1">* @param next - the current open value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">openChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.open) {</span><span class="s3">\n            </span><span class="s1">this.ariaControls = this.listboxId;</span><span class="s3">\n            </span><span class="s1">this.ariaExpanded = </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">this.setPositioning();</span><span class="s3">\n            </span><span class="s1">this.focusAndScrollOptionIntoView();</span><span class="s3">\n            </span><span class="s1">// focus is directed to the element when `open` is changed programmatically</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; this.focus());</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.ariaControls = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.ariaExpanded = </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The list of options.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Overrides `Listbox.options`.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get options() {</span><span class="s3">\n        </span><span class="s1">Observable.track(this, </span><span class="s3">\&quot;</span><span class="s1">options</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return this.filteredOptions.length ? this.filteredOptions : this._options;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set options(value) {</span><span class="s3">\n        </span><span class="s1">this._options = value;</span><span class="s3">\n        </span><span class="s1">Observable.notify(this, </span><span class="s3">\&quot;</span><span class="s1">options</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the placeholder on the proxy element.</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">placeholderChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.placeholder = this.placeholder;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">positionChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">this.positionAttribute = next;</span><span class="s3">\n        </span><span class="s1">this.setPositioning();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The value property.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get value() {</span><span class="s3">\n        </span><span class="s1">Observable.track(this, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return this._value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set value(next) {</span><span class="s3">\n        </span><span class="s1">var _a, _b, _c;</span><span class="s3">\n        </span><span class="s1">const prev = `${this._value}`;</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp; this.options) {</span><span class="s3">\n            </span><span class="s1">const selectedIndex = this.options.findIndex(el =&gt; el.text.toLowerCase() === next.toLowerCase());</span><span class="s3">\n            </span><span class="s1">const prevSelectedValue = (_a = this.options[this.selectedIndex]) === null || _a === void 0 ? void 0 : _a.text;</span><span class="s3">\n            </span><span class="s1">const nextSelectedValue = (_b = this.options[selectedIndex]) === null || _b === void 0 ? void 0 : _b.text;</span><span class="s3">\n            </span><span class="s1">this.selectedIndex =</span><span class="s3">\n                </span><span class="s1">prevSelectedValue !== nextSelectedValue</span><span class="s3">\n                    </span><span class="s1">? selectedIndex</span><span class="s3">\n                    </span><span class="s1">: this.selectedIndex;</span><span class="s3">\n            </span><span class="s1">next = ((_c = this.firstSelectedOption) === null || _c === void 0 ? void 0 : _c.text) || next;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (prev !== next) {</span><span class="s3">\n            </span><span class="s1">this._value = next;</span><span class="s3">\n            </span><span class="s1">super.valueChanged(prev, next);</span><span class="s3">\n            </span><span class="s1">Observable.notify(this, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle opening and closing the listbox when the combobox is clicked.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param e - the mouse event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">clickHandler(e) {</span><span class="s3">\n        </span><span class="s1">if (this.disabled) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.open) {</span><span class="s3">\n            </span><span class="s1">const captured = e.target.closest(`option,[role=option]`);</span><span class="s3">\n            </span><span class="s1">if (!captured || captured.disabled) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.selectedOptions = [captured];</span><span class="s3">\n            </span><span class="s1">this.control.value = captured.text;</span><span class="s3">\n            </span><span class="s1">this.clearSelectionRange();</span><span class="s3">\n            </span><span class="s1">this.updateValue(true);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.open = !this.open;</span><span class="s3">\n        </span><span class="s1">if (this.open) {</span><span class="s3">\n            </span><span class="s1">this.control.focus();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.forcedPosition = !!this.positionAttribute;</span><span class="s3">\n        </span><span class="s1">if (this.value) {</span><span class="s3">\n            </span><span class="s1">this.initialValue = this.value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Synchronize the `aria-disabled` property when the `disabled` property changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - The previous disabled value</span><span class="s3">\n     </span><span class="s1">* @param next - The next disabled value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disabledChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (super.disabledChanged) {</span><span class="s3">\n            </span><span class="s1">super.disabledChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.ariaDisabled = this.disabled ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Filter available options by text value.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">filterOptions() {</span><span class="s3">\n        </span><span class="s1">if (!this.autocomplete || this.autocomplete === ComboboxAutocomplete.none) {</span><span class="s3">\n            </span><span class="s1">this.filter = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const filter = this.filter.toLowerCase();</span><span class="s3">\n        </span><span class="s1">this.filteredOptions = this._options.filter(o =&gt; o.text.toLowerCase().startsWith(this.filter.toLowerCase()));</span><span class="s3">\n        </span><span class="s1">if (this.isAutocompleteList) {</span><span class="s3">\n            </span><span class="s1">if (!this.filteredOptions.length &amp;&amp; !filter) {</span><span class="s3">\n                </span><span class="s1">this.filteredOptions = this._options;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this._options.forEach(o =&gt; {</span><span class="s3">\n                </span><span class="s1">o.hidden = !this.filteredOptions.includes(o);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Focus the control and scroll the first selected option into view.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Overrides: `Listbox.focusAndScrollOptionIntoView`</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focusAndScrollOptionIntoView() {</span><span class="s3">\n        </span><span class="s1">if (this.contains(document.activeElement)) {</span><span class="s3">\n            </span><span class="s1">this.control.focus();</span><span class="s3">\n            </span><span class="s1">if (this.firstSelectedOption) {</span><span class="s3">\n                </span><span class="s1">requestAnimationFrame(() =&gt; {</span><span class="s3">\n                    </span><span class="s1">var _a;</span><span class="s3">\n                    </span><span class="s1">(_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ block: </span><span class="s3">\&quot;</span><span class="s1">nearest</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle focus state when the element or its children lose focus.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param e - The focus event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focusoutHandler(e) {</span><span class="s3">\n        </span><span class="s1">this.syncValue();</span><span class="s3">\n        </span><span class="s1">if (!this.open) {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const focusTarget = e.relatedTarget;</span><span class="s3">\n        </span><span class="s1">if (this.isSameNode(focusTarget)) {</span><span class="s3">\n            </span><span class="s1">this.focus();</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!this.options || !this.options.includes(focusTarget)) {</span><span class="s3">\n            </span><span class="s1">this.open = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle content changes on the control input.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param e - the input event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">inputHandler(e) {</span><span class="s3">\n        </span><span class="s1">this.filter = this.control.value;</span><span class="s3">\n        </span><span class="s1">this.filterOptions();</span><span class="s3">\n        </span><span class="s1">if (!this.isAutocompleteInline) {</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = this.options</span><span class="s3">\n                </span><span class="s1">.map(option =&gt; option.text)</span><span class="s3">\n                </span><span class="s1">.indexOf(this.control.value);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (e.inputType.includes(</span><span class="s3">\&quot;</span><span class="s1">deleteContent</span><span class="s3">\&quot;</span><span class="s1">) || !this.filter.length) {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.isAutocompleteList &amp;&amp; !this.open) {</span><span class="s3">\n            </span><span class="s1">this.open = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.isAutocompleteInline) {</span><span class="s3">\n            </span><span class="s1">if (this.filteredOptions.length) {</span><span class="s3">\n                </span><span class="s1">this.selectedOptions = [this.filteredOptions[0]];</span><span class="s3">\n                </span><span class="s1">this.selectedIndex = this.options.indexOf(this.firstSelectedOption);</span><span class="s3">\n                </span><span class="s1">this.setInlineSelection();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">this.selectedIndex = -1;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle keydown actions for listbox navigation.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param e - the keyboard event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">keydownHandler(e) {</span><span class="s3">\n        </span><span class="s1">const key = e.key;</span><span class="s3">\n        </span><span class="s1">if (e.ctrlKey || e.shiftKey) {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">switch (key) {</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">Enter</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n                </span><span class="s1">this.syncValue();</span><span class="s3">\n                </span><span class="s1">if (this.isAutocompleteInline) {</span><span class="s3">\n                    </span><span class="s1">this.filter = this.value;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.open = false;</span><span class="s3">\n                </span><span class="s1">this.clearSelectionRange();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">Escape</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n                </span><span class="s1">if (!this.isAutocompleteInline) {</span><span class="s3">\n                    </span><span class="s1">this.selectedIndex = -1;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (this.open) {</span><span class="s3">\n                    </span><span class="s1">this.open = false;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.value = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.control.value = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.filter = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.filterOptions();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">Tab</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n                </span><span class="s1">this.setInputToSelection();</span><span class="s3">\n                </span><span class="s1">if (!this.open) {</span><span class="s3">\n                    </span><span class="s1">return true;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">this.open = false;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">ArrowUp</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">ArrowDown</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n                </span><span class="s1">this.filterOptions();</span><span class="s3">\n                </span><span class="s1">if (!this.open) {</span><span class="s3">\n                    </span><span class="s1">this.open = true;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (this.filteredOptions.length &gt; 0) {</span><span class="s3">\n                    </span><span class="s1">super.keydownHandler(e);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (this.isAutocompleteInline) {</span><span class="s3">\n                    </span><span class="s1">this.setInlineSelection();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">default: {</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle keyup actions for value input and text field manipulations.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param e - the keyboard event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">keyupHandler(e) {</span><span class="s3">\n        </span><span class="s1">const key = e.key;</span><span class="s3">\n        </span><span class="s1">switch (key) {</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">ArrowLeft</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">ArrowRight</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">Backspace</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">Delete</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">Home</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">End</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n                </span><span class="s1">this.filter = this.control.value;</span><span class="s3">\n                </span><span class="s1">this.selectedIndex = -1;</span><span class="s3">\n                </span><span class="s1">this.filterOptions();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Ensure that the selectedIndex is within the current allowable filtered range.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous selected index value</span><span class="s3">\n     </span><span class="s1">* @param next - the current selected index value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectedIndexChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">next = limit(-1, this.options.length - 1, next);</span><span class="s3">\n            </span><span class="s1">// we only want to call the super method when the selectedIndex is in range</span><span class="s3">\n            </span><span class="s1">if (next !== this.selectedIndex) {</span><span class="s3">\n                </span><span class="s1">this.selectedIndex = next;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">super.selectedIndexChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Move focus to the previous selectable option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Overrides `Listbox.selectPreviousOption`</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectPreviousOption() {</span><span class="s3">\n        </span><span class="s1">if (!this.disabled &amp;&amp; this.selectedIndex &gt;= 0) {</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = this.selectedIndex - 1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Set the default selected options at initialization or reset.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Overrides `Listbox.setDefaultSelectedOption`</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setDefaultSelectedOption() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp; this.options) {</span><span class="s3">\n            </span><span class="s1">const selectedIndex = this.options.findIndex(el =&gt; el.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot;</span><span class="s1">) !== null || el.selected);</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = selectedIndex;</span><span class="s3">\n            </span><span class="s1">if (!this.dirtyValue &amp;&amp; this.firstSelectedOption) {</span><span class="s3">\n                </span><span class="s1">this.value = this.firstSelectedOption.text;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.setSelectedOptions();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Focus and set the content of the control based on the first selected option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setInputToSelection() {</span><span class="s3">\n        </span><span class="s1">if (this.firstSelectedOption) {</span><span class="s3">\n            </span><span class="s1">this.control.value = this.firstSelectedOption.text;</span><span class="s3">\n            </span><span class="s1">this.control.focus();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Focus, set and select the content of the control based on the first selected option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setInlineSelection() {</span><span class="s3">\n        </span><span class="s1">if (this.firstSelectedOption) {</span><span class="s3">\n            </span><span class="s1">this.setInputToSelection();</span><span class="s3">\n            </span><span class="s1">this.control.setSelectionRange(this.filter.length, this.control.value.length, </span><span class="s3">\&quot;</span><span class="s1">backward</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines if a value update should involve emitting a change event, then updates the value.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">syncValue() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">const newValue = this.selectedIndex &gt; -1 ? (_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.text : this.control.value;</span><span class="s3">\n        </span><span class="s1">this.updateValue(this.value !== newValue);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Calculate and apply listbox positioning based on available viewport space.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param force - direction to force the listbox to display</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setPositioning() {</span><span class="s3">\n        </span><span class="s1">const currentBox = this.getBoundingClientRect();</span><span class="s3">\n        </span><span class="s1">const viewportHeight = window.innerHeight;</span><span class="s3">\n        </span><span class="s1">const availableBottom = viewportHeight - currentBox.bottom;</span><span class="s3">\n        </span><span class="s1">this.position = this.forcedPosition</span><span class="s3">\n            </span><span class="s1">? this.positionAttribute</span><span class="s3">\n            </span><span class="s1">: currentBox.top &gt; availableBottom</span><span class="s3">\n                </span><span class="s1">? SelectPosition.above</span><span class="s3">\n                </span><span class="s1">: SelectPosition.below;</span><span class="s3">\n        </span><span class="s1">this.positionAttribute = this.forcedPosition</span><span class="s3">\n            </span><span class="s1">? this.positionAttribute</span><span class="s3">\n            </span><span class="s1">: this.position;</span><span class="s3">\n        </span><span class="s1">this.maxHeight =</span><span class="s3">\n            </span><span class="s1">this.position === SelectPosition.above ? ~~currentBox.top : ~~availableBottom;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Ensure that the entire list of options is used when setting the selected property.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous list of selected options</span><span class="s3">\n     </span><span class="s1">* @param next - the current list of selected options</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Overrides: `Listbox.selectedOptionsChanged`</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectedOptionsChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this._options.forEach(o =&gt; {</span><span class="s3">\n                </span><span class="s1">o.selected = next.includes(o);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Synchronize the form-associated proxy and update the value property of the element.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous collection of slotted option elements</span><span class="s3">\n     </span><span class="s1">* @param next - the next collection of slotted option elements</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">slottedOptionsChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">super.slottedOptionsChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">this.updateValue();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the value and to match the first selected option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param shouldEmit - if true, the change event will be emitted</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateValue(shouldEmit) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.value = ((_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.text) || this.control.value;</span><span class="s3">\n            </span><span class="s1">this.control.value = this.value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (shouldEmit) {</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">clearSelectionRange() {</span><span class="s3">\n        </span><span class="s1">const controlValueLength = this.control.value.length;</span><span class="s3">\n        </span><span class="s1">this.control.setSelectionRange(controlValueLength, controlValueLength);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">autocomplete</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">fromView</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Combobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">autocomplete</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Combobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">maxHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Combobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Combobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">placeholder</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">position</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Combobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">positionAttribute</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Combobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">position</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Includes ARIA states and properties relating to the ARIA combobox role.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DelegatesARIACombobox {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIACombobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaAutoComplete</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIACombobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaControls</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(DelegatesARIACombobox, DelegatesARIAListbox);</span><span class="s3">\n</span><span class="s1">applyMixins(Combobox, StartEnd, DelegatesARIACombobox);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Listbox } from </span><span class="s3">\&quot;</span><span class="s1">../listbox/listbox.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Combobox:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const comboboxTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n        </span><span class="s1">autocomplete=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.autocomplete}</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.open ? </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)} ${x =&gt; x.disabled ? </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">} ${x =&gt; x.position}</span><span class="s3">\&quot;\n        </span><span class="s1">?open=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.open}</span><span class="s3">\&quot;\n        </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (!x.disabled ? </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">: null)}</span><span class="s3">\&quot;\n        </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.clickHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusout=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.focusoutHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.keydownHandler(c.event)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">&lt;input</span><span class="s3">\n                    </span><span class="s1">aria-activedescendant=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.open ? x.ariaActiveDescendant : null}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-autocomplete=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaAutoComplete}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaControls}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-expanded=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaExpanded}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-haspopup=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;\n                    </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">selected-value</span><span class="s3">\&quot;\n                    </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">selected-value</span><span class="s3">\&quot;\n                    </span><span class="s1">placeholder=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.placeholder}</span><span class="s3">\&quot;\n                    </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">combobox</span><span class="s3">\&quot;\n                    </span><span class="s1">type=</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;\n                    </span><span class="s1">?disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n                    </span><span class="s1">:value=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.value}</span><span class="s3">\&quot;\n                    </span><span class="s1">@input=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.inputHandler(c.event)}</span><span class="s3">\&quot;\n                    </span><span class="s1">@keyup=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.keyupHandler(c.event)}</span><span class="s3">\&quot;\n                    </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n                </span><span class="s1">/&gt;</span><span class="s3">\n                </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">indicator</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">indicator</span><span class="s3">\&quot; </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                        </span><span class="s1">${definition.indicator || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div</span><span class="s3">\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;\n            </span><span class="s1">id=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.listboxId}</span><span class="s3">\&quot;\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;\n            </span><span class="s1">?disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n            </span><span class="s1">?hidden=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; !x.open}</span><span class="s3">\&quot;\n            </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot</span><span class="s3">\n                </span><span class="s1">${slotted({</span><span class="s3">\n    </span><span class="s1">filter: Listbox.slottedOptionFilter,</span><span class="s3">\n    </span><span class="s1">flatten: true,</span><span class="s3">\n    </span><span class="s1">property: </span><span class="s3">\&quot;</span><span class="s1">slottedOptions</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">})}</span><span class="s3">\n            </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, nullableNumberConverter, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { inRange, keyArrowDown, keyArrowUp, keyEnd, keyEscape, keyHome, keySpace, keyTab, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Listbox } from </span><span class="s3">\&quot;</span><span class="s1">./listbox.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Listbox Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://w3c.github.io/aria/#listbox | ARIA listbox }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ListboxElement extends Listbox {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The index of the most recently checked option.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* Multiple-selection mode only.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.activeIndex = -1;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The start index when checking a range of options.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.rangeStartIndex = -1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the last checked option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get activeOption() {</span><span class="s3">\n        </span><span class="s1">return this.options[this.activeIndex];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the list of checked options.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get checkedOptions() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">return (_a = this.options) === null || _a === void 0 ? void 0 : _a.filter(o =&gt; o.checked);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the index of the first selected option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get firstSelectedOptionIndex() {</span><span class="s3">\n        </span><span class="s1">return this.options.indexOf(this.firstSelectedOption);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the `ariaActiveDescendant` property when the active index changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous active index</span><span class="s3">\n     </span><span class="s1">* @param next - the next active index</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">activeIndexChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">this.ariaActiveDescendant = (_b = (_a = this.options[next]) === null || _a === void 0 ? void 0 : _a.id) !== null &amp;&amp; _b !== void 0 ? _b : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.focusAndScrollOptionIntoView();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Toggles the checked state for the currently active option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Multiple-selection mode only.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">checkActiveIndex() {</span><span class="s3">\n        </span><span class="s1">if (!this.multiple) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const activeItem = this.activeOption;</span><span class="s3">\n        </span><span class="s1">if (activeItem) {</span><span class="s3">\n            </span><span class="s1">activeItem.checked = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the active index to the first option and marks it as checked.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Multi-selection mode only.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param preserveChecked - mark all options unchecked before changing the active index</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">checkFirstOption(preserveChecked = false) {</span><span class="s3">\n        </span><span class="s1">if (preserveChecked) {</span><span class="s3">\n            </span><span class="s1">if (this.rangeStartIndex === -1) {</span><span class="s3">\n                </span><span class="s1">this.rangeStartIndex = this.activeIndex + 1;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.options.forEach((o, i) =&gt; {</span><span class="s3">\n                </span><span class="s1">o.checked = inRange(i, this.rangeStartIndex);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.uncheckAllOptions();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.activeIndex = 0;</span><span class="s3">\n        </span><span class="s1">this.checkActiveIndex();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Decrements the active index and sets the matching option as checked.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Multi-selection mode only.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param preserveChecked - mark all options unchecked before changing the active index</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">checkLastOption(preserveChecked = false) {</span><span class="s3">\n        </span><span class="s1">if (preserveChecked) {</span><span class="s3">\n            </span><span class="s1">if (this.rangeStartIndex === -1) {</span><span class="s3">\n                </span><span class="s1">this.rangeStartIndex = this.activeIndex;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.options.forEach((o, i) =&gt; {</span><span class="s3">\n                </span><span class="s1">o.checked = inRange(i, this.rangeStartIndex, this.options.length);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.uncheckAllOptions();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.activeIndex = this.options.length - 1;</span><span class="s3">\n        </span><span class="s1">this.checkActiveIndex();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">focusout</span><span class="s3">\&quot;</span><span class="s1">, this.focusoutHandler);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">focusout</span><span class="s3">\&quot;</span><span class="s1">, this.focusoutHandler);</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Increments the active index and marks the matching option as checked.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Multiple-selection mode only.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param preserveChecked - mark all options unchecked before changing the active index</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">checkNextOption(preserveChecked = false) {</span><span class="s3">\n        </span><span class="s1">if (preserveChecked) {</span><span class="s3">\n            </span><span class="s1">if (this.rangeStartIndex === -1) {</span><span class="s3">\n                </span><span class="s1">this.rangeStartIndex = this.activeIndex;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.options.forEach((o, i) =&gt; {</span><span class="s3">\n                </span><span class="s1">o.checked = inRange(i, this.rangeStartIndex, this.activeIndex + 1);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.uncheckAllOptions();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.activeIndex += this.activeIndex &lt; this.options.length - 1 ? 1 : 0;</span><span class="s3">\n        </span><span class="s1">this.checkActiveIndex();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Decrements the active index and marks the matching option as checked.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Multiple-selection mode only.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param preserveChecked - mark all options unchecked before changing the active index</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">checkPreviousOption(preserveChecked = false) {</span><span class="s3">\n        </span><span class="s1">if (preserveChecked) {</span><span class="s3">\n            </span><span class="s1">if (this.rangeStartIndex === -1) {</span><span class="s3">\n                </span><span class="s1">this.rangeStartIndex = this.activeIndex;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.checkedOptions.length === 1) {</span><span class="s3">\n                </span><span class="s1">this.rangeStartIndex += 1;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.options.forEach((o, i) =&gt; {</span><span class="s3">\n                </span><span class="s1">o.checked = inRange(i, this.activeIndex, this.rangeStartIndex);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.uncheckAllOptions();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.activeIndex -= this.activeIndex &gt; 0 ? 1 : 0;</span><span class="s3">\n        </span><span class="s1">this.checkActiveIndex();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles click events for listbox options.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param e - the event object</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">clickHandler(e) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">if (!this.multiple) {</span><span class="s3">\n            </span><span class="s1">return super.clickHandler(e);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const captured = (_a = e.target) === null || _a === void 0 ? void 0 : _a.closest(`[role=option]`);</span><span class="s3">\n        </span><span class="s1">if (!captured || captured.disabled) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.uncheckAllOptions();</span><span class="s3">\n        </span><span class="s1">this.activeIndex = this.options.indexOf(captured);</span><span class="s3">\n        </span><span class="s1">this.checkActiveIndex();</span><span class="s3">\n        </span><span class="s1">this.toggleSelectedForAllCheckedOptions();</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focusAndScrollOptionIntoView() {</span><span class="s3">\n        </span><span class="s1">super.focusAndScrollOptionIntoView(this.activeOption);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* In multiple-selection mode:</span><span class="s3">\n     </span><span class="s1">* If any options are selected, the first selected option is checked when</span><span class="s3">\n     </span><span class="s1">* the listbox receives focus. If no options are selected, the first</span><span class="s3">\n     </span><span class="s1">* selectable option is checked.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focusinHandler(e) {</span><span class="s3">\n        </span><span class="s1">if (!this.multiple) {</span><span class="s3">\n            </span><span class="s1">return super.focusinHandler(e);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!this.shouldSkipFocus &amp;&amp; e.target === e.currentTarget) {</span><span class="s3">\n            </span><span class="s1">this.uncheckAllOptions();</span><span class="s3">\n            </span><span class="s1">if (this.activeIndex === -1) {</span><span class="s3">\n                </span><span class="s1">this.activeIndex =</span><span class="s3">\n                    </span><span class="s1">this.firstSelectedOptionIndex !== -1</span><span class="s3">\n                        </span><span class="s1">? this.firstSelectedOptionIndex</span><span class="s3">\n                        </span><span class="s1">: 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.checkActiveIndex();</span><span class="s3">\n            </span><span class="s1">this.setSelectedOptions();</span><span class="s3">\n            </span><span class="s1">this.focusAndScrollOptionIntoView();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.shouldSkipFocus = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unchecks all options when the listbox loses focus.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focusoutHandler(e) {</span><span class="s3">\n        </span><span class="s1">if (this.multiple) {</span><span class="s3">\n            </span><span class="s1">this.uncheckAllOptions();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles keydown actions for listbox navigation and typeahead</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">keydownHandler(e) {</span><span class="s3">\n        </span><span class="s1">if (!this.multiple) {</span><span class="s3">\n            </span><span class="s1">return super.keydownHandler(e);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.disabled) {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const { key, shiftKey } = e;</span><span class="s3">\n        </span><span class="s1">this.shouldSkipFocus = false;</span><span class="s3">\n        </span><span class="s1">switch (key) {</span><span class="s3">\n            </span><span class="s1">// Select the first available option</span><span class="s3">\n            </span><span class="s1">case keyHome: {</span><span class="s3">\n                </span><span class="s1">this.checkFirstOption(shiftKey);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Select the next selectable option</span><span class="s3">\n            </span><span class="s1">case keyArrowDown: {</span><span class="s3">\n                </span><span class="s1">this.checkNextOption(shiftKey);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Select the previous selectable option</span><span class="s3">\n            </span><span class="s1">case keyArrowUp: {</span><span class="s3">\n                </span><span class="s1">this.checkPreviousOption(shiftKey);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Select the last available option</span><span class="s3">\n            </span><span class="s1">case keyEnd: {</span><span class="s3">\n                </span><span class="s1">this.checkLastOption(shiftKey);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyTab: {</span><span class="s3">\n                </span><span class="s1">this.focusAndScrollOptionIntoView();</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyEscape: {</span><span class="s3">\n                </span><span class="s1">this.uncheckAllOptions();</span><span class="s3">\n                </span><span class="s1">this.checkActiveIndex();</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keySpace: {</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">if (this.typeAheadExpired) {</span><span class="s3">\n                    </span><span class="s1">this.toggleSelectedForAllCheckedOptions();</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// Send key to Typeahead handler</span><span class="s3">\n            </span><span class="s1">default: {</span><span class="s3">\n                </span><span class="s1">if (key.length === 1) {</span><span class="s3">\n                    </span><span class="s1">this.handleTypeAhead(`${key}`);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Prevents `focusin` events from firing before `click` events when the</span><span class="s3">\n     </span><span class="s1">* element is unfocused.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">mousedownHandler(e) {</span><span class="s3">\n        </span><span class="s1">if (e.offsetX &gt;= 0 &amp;&amp; e.offsetX &lt;= this.scrollWidth) {</span><span class="s3">\n            </span><span class="s1">return super.mousedownHandler(e);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Switches between single-selection and multi-selection mode.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">multipleChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">this.ariaMultiSelectable = next ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: null;</span><span class="s3">\n        </span><span class="s1">(_a = this.options) === null || _a === void 0 ? void 0 : _a.forEach(o =&gt; {</span><span class="s3">\n            </span><span class="s1">o.checked = next ? false : undefined;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">this.setSelectedOptions();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets an option as selected and gives it focus.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setSelectedOptions() {</span><span class="s3">\n        </span><span class="s1">if (!this.multiple) {</span><span class="s3">\n            </span><span class="s1">super.setSelectedOptions();</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp; this.options) {</span><span class="s3">\n            </span><span class="s1">this.selectedOptions = this.options.filter(o =&gt; o.selected);</span><span class="s3">\n            </span><span class="s1">this.focusAndScrollOptionIntoView();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Ensures the size is a positive integer when the property is updated.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous size value</span><span class="s3">\n     </span><span class="s1">* @param next - the current size value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">sizeChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">const size = Math.max(0, parseInt((_a = next === null || next === void 0 ? void 0 : next.toFixed()) !== null &amp;&amp; _a !== void 0 ? _a : </span><span class="s3">\&quot;\&quot;</span><span class="s1">, 10));</span><span class="s3">\n        </span><span class="s1">if (size !== next) {</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n                </span><span class="s1">this.size = size;</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Toggles the selected state of the provided options. If any provided items</span><span class="s3">\n     </span><span class="s1">* are in an unselected state, all items are set to selected. If every</span><span class="s3">\n     </span><span class="s1">* provided item is selected, they are all unselected.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toggleSelectedForAllCheckedOptions() {</span><span class="s3">\n        </span><span class="s1">const enabledCheckedOptions = this.checkedOptions.filter(o =&gt; !o.disabled);</span><span class="s3">\n        </span><span class="s1">const force = !enabledCheckedOptions.every(o =&gt; o.selected);</span><span class="s3">\n        </span><span class="s1">enabledCheckedOptions.forEach(o =&gt; (o.selected = force));</span><span class="s3">\n        </span><span class="s1">this.selectedIndex = this.options.indexOf(enabledCheckedOptions[enabledCheckedOptions.length - 1]);</span><span class="s3">\n        </span><span class="s1">this.setSelectedOptions();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">typeaheadBufferChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (!this.multiple) {</span><span class="s3">\n            </span><span class="s1">super.typeaheadBufferChanged(prev, next);</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">const typeaheadMatches = this.getTypeaheadMatches();</span><span class="s3">\n            </span><span class="s1">const activeIndex = this.options.indexOf(typeaheadMatches[0]);</span><span class="s3">\n            </span><span class="s1">if (activeIndex &gt; -1) {</span><span class="s3">\n                </span><span class="s1">this.activeIndex = activeIndex;</span><span class="s3">\n                </span><span class="s1">this.uncheckAllOptions();</span><span class="s3">\n                </span><span class="s1">this.checkActiveIndex();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.typeAheadExpired = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unchecks all options.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Multiple-selection mode only.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param preserveChecked - reset the rangeStartIndex</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">uncheckAllOptions(preserveChecked = false) {</span><span class="s3">\n        </span><span class="s1">this.options.forEach(o =&gt; (o.checked = this.multiple ? false : undefined));</span><span class="s3">\n        </span><span class="s1">if (!preserveChecked) {</span><span class="s3">\n            </span><span class="s1">this.rangeStartIndex = -1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], ListboxElement.prototype, </span><span class="s3">\&quot;</span><span class="s1">activeIndex</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], ListboxElement.prototype, </span><span class="s3">\&quot;</span><span class="s1">multiple</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], ListboxElement.prototype, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { ListboxElement } from </span><span class="s3">\&quot;</span><span class="s1">../listbox/listbox.element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _Select extends ListboxElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(Select:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedSelect extends FormAssociated(_Select) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">select</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, Observable, observable, volatile } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keyArrowDown, keyArrowUp, keyEnd, keyEnter, keyEscape, keyHome, keySpace, keyTab, uniqueId, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DelegatesARIAListbox, Listbox } from </span><span class="s3">\&quot;</span><span class="s1">../listbox/listbox.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { StartEnd } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedSelect } from </span><span class="s3">\&quot;</span><span class="s1">./select.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { SelectPosition } from </span><span class="s3">\&quot;</span><span class="s1">./select.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Select Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#select | ARIA select }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the button content</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the button content</span><span class="s3">\n </span><span class="s1">* @slot button-container - The element representing the select button</span><span class="s3">\n </span><span class="s1">* @slot selected-value - The selected value</span><span class="s3">\n </span><span class="s1">* @slot indicator - The visual indicator for the expand/collapse state of the button</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for slotted options</span><span class="s3">\n </span><span class="s1">* @csspart control - The element representing the select invoking element</span><span class="s3">\n </span><span class="s1">* @csspart selected-value - The element wrapping the selected value</span><span class="s3">\n </span><span class="s1">* @csspart indicator - The element wrapping the visual indicator</span><span class="s3">\n </span><span class="s1">* @csspart listbox - The listbox element</span><span class="s3">\n </span><span class="s1">* @fires input - Fires a custom 'input' event when the value updates</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the value updates</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Select extends FormAssociatedSelect {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The open attribute.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: open</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.open = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Indicates the initial state of the position attribute.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.forcedPosition = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The unique id for the internal listbox element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.listboxId = uniqueId(</span><span class="s3">\&quot;</span><span class="s1">listbox-</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The max height for the listbox when opened.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.maxHeight = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets focus and synchronizes ARIA attributes when the open property changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous open value</span><span class="s3">\n     </span><span class="s1">* @param next - the current open value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">openChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (!this.collapsible) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.open) {</span><span class="s3">\n            </span><span class="s1">this.ariaControls = this.listboxId;</span><span class="s3">\n            </span><span class="s1">this.ariaExpanded = </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">this.setPositioning();</span><span class="s3">\n            </span><span class="s1">this.focusAndScrollOptionIntoView();</span><span class="s3">\n            </span><span class="s1">this.indexWhenOpened = this.selectedIndex;</span><span class="s3">\n            </span><span class="s1">// focus is directed to the element when `open` is changed programmatically</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; this.focus());</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.ariaControls = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.ariaExpanded = </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The component is collapsible when in single-selection mode with no size attribute.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get collapsible() {</span><span class="s3">\n        </span><span class="s1">return !(this.multiple || typeof this.size === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The value property.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get value() {</span><span class="s3">\n        </span><span class="s1">Observable.track(this, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return this._value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set value(next) {</span><span class="s3">\n        </span><span class="s1">var _a, _b, _c, _d, _e, _f, _g;</span><span class="s3">\n        </span><span class="s1">const prev = `${this._value}`;</span><span class="s3">\n        </span><span class="s1">if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.length) {</span><span class="s3">\n            </span><span class="s1">const selectedIndex = this._options.findIndex(el =&gt; el.value === next);</span><span class="s3">\n            </span><span class="s1">const prevSelectedValue = (_c = (_b = this._options[this.selectedIndex]) === null || _b === void 0 ? void 0 : _b.value) !== null &amp;&amp; _c !== void 0 ? _c : null;</span><span class="s3">\n            </span><span class="s1">const nextSelectedValue = (_e = (_d = this._options[selectedIndex]) === null || _d === void 0 ? void 0 : _d.value) !== null &amp;&amp; _e !== void 0 ? _e : null;</span><span class="s3">\n            </span><span class="s1">if (selectedIndex === -1 || prevSelectedValue !== nextSelectedValue) {</span><span class="s3">\n                </span><span class="s1">next = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.selectedIndex = selectedIndex;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">next = (_g = (_f = this.firstSelectedOption) === null || _f === void 0 ? void 0 : _f.value) !== null &amp;&amp; _g !== void 0 ? _g : next;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (prev !== next) {</span><span class="s3">\n            </span><span class="s1">this._value = next;</span><span class="s3">\n            </span><span class="s1">super.valueChanged(prev, next);</span><span class="s3">\n            </span><span class="s1">Observable.notify(this, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.updateDisplayValue();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the value and display value to match the first selected option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param shouldEmit - if true, the input and change events will be emitted</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateValue(shouldEmit) {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.value = (_b = (_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.value) !== null &amp;&amp; _b !== void 0 ? _b : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (shouldEmit) {</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, this, {</span><span class="s3">\n                </span><span class="s1">bubbles: true,</span><span class="s3">\n                </span><span class="s1">composed: undefined,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the proxy value when the selected index changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous selected index</span><span class="s3">\n     </span><span class="s1">* @param next - the next selected index</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectedIndexChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">super.selectedIndexChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">this.updateValue();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">positionChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">this.positionAttribute = next;</span><span class="s3">\n        </span><span class="s1">this.setPositioning();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Calculate and apply listbox positioning based on available viewport space.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setPositioning() {</span><span class="s3">\n        </span><span class="s1">const currentBox = this.getBoundingClientRect();</span><span class="s3">\n        </span><span class="s1">const viewportHeight = window.innerHeight;</span><span class="s3">\n        </span><span class="s1">const availableBottom = viewportHeight - currentBox.bottom;</span><span class="s3">\n        </span><span class="s1">this.position = this.forcedPosition</span><span class="s3">\n            </span><span class="s1">? this.positionAttribute</span><span class="s3">\n            </span><span class="s1">: currentBox.top &gt; availableBottom</span><span class="s3">\n                </span><span class="s1">? SelectPosition.above</span><span class="s3">\n                </span><span class="s1">: SelectPosition.below;</span><span class="s3">\n        </span><span class="s1">this.positionAttribute = this.forcedPosition</span><span class="s3">\n            </span><span class="s1">? this.positionAttribute</span><span class="s3">\n            </span><span class="s1">: this.position;</span><span class="s3">\n        </span><span class="s1">this.maxHeight =</span><span class="s3">\n            </span><span class="s1">this.position === SelectPosition.above ? ~~currentBox.top : ~~availableBottom;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The value displayed on the button.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get displayValue() {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">Observable.track(this, </span><span class="s3">\&quot;</span><span class="s1">displayValue</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return (_b = (_a = this.firstSelectedOption) === null || _a === void 0 ? void 0 : _a.text) !== null &amp;&amp; _b !== void 0 ? _b : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Synchronize the `aria-disabled` property when the `disabled` property changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - The previous disabled value</span><span class="s3">\n     </span><span class="s1">* @param next - The next disabled value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disabledChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (super.disabledChanged) {</span><span class="s3">\n            </span><span class="s1">super.disabledChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.ariaDisabled = this.disabled ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Reset the element to its first selectable option when its parent form is reset.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">formResetCallback() {</span><span class="s3">\n        </span><span class="s1">this.setProxyOptions();</span><span class="s3">\n        </span><span class="s1">// Call the base class's implementation setDefaultSelectedOption instead of the select's</span><span class="s3">\n        </span><span class="s1">// override, in order to reset the selectedIndex without using the value property.</span><span class="s3">\n        </span><span class="s1">super.setDefaultSelectedOption();</span><span class="s3">\n        </span><span class="s1">if (this.selectedIndex === -1) {</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle opening and closing the listbox when the select is clicked.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param e - the mouse event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">clickHandler(e) {</span><span class="s3">\n        </span><span class="s1">// do nothing if the select is disabled</span><span class="s3">\n        </span><span class="s1">if (this.disabled) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.open) {</span><span class="s3">\n            </span><span class="s1">const captured = e.target.closest(`option,[role=option]`);</span><span class="s3">\n            </span><span class="s1">if (captured &amp;&amp; captured.disabled) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">super.clickHandler(e);</span><span class="s3">\n        </span><span class="s1">this.open = this.collapsible &amp;&amp; !this.open;</span><span class="s3">\n        </span><span class="s1">if (!this.open &amp;&amp; this.indexWhenOpened !== this.selectedIndex) {</span><span class="s3">\n            </span><span class="s1">this.updateValue(true);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles focus state when the element or its children lose focus.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param e - The focus event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focusoutHandler(e) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">super.focusoutHandler(e);</span><span class="s3">\n        </span><span class="s1">if (!this.open) {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const focusTarget = e.relatedTarget;</span><span class="s3">\n        </span><span class="s1">if (this.isSameNode(focusTarget)) {</span><span class="s3">\n            </span><span class="s1">this.focus();</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!((_a = this.options) === null || _a === void 0 ? void 0 : _a.includes(focusTarget))) {</span><span class="s3">\n            </span><span class="s1">this.open = false;</span><span class="s3">\n            </span><span class="s1">if (this.indexWhenOpened !== this.selectedIndex) {</span><span class="s3">\n                </span><span class="s1">this.updateValue(true);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the value when an option's value changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param source - the source object</span><span class="s3">\n     </span><span class="s1">* @param propertyName - the property to evaluate</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange(source, propertyName) {</span><span class="s3">\n        </span><span class="s1">super.handleChange(source, propertyName);</span><span class="s3">\n        </span><span class="s1">if (propertyName === </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.updateValue();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Synchronize the form-associated proxy and updates the value property of the element.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous collection of slotted option elements</span><span class="s3">\n     </span><span class="s1">* @param next - the next collection of slotted option elements</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">slottedOptionsChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">this.options.forEach(o =&gt; {</span><span class="s3">\n            </span><span class="s1">const notifier = Observable.getNotifier(o);</span><span class="s3">\n            </span><span class="s1">notifier.unsubscribe(this, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">super.slottedOptionsChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">this.options.forEach(o =&gt; {</span><span class="s3">\n            </span><span class="s1">const notifier = Observable.getNotifier(o);</span><span class="s3">\n            </span><span class="s1">notifier.subscribe(this, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">this.setProxyOptions();</span><span class="s3">\n        </span><span class="s1">this.updateValue();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Prevents focus when size is set and a scrollbar is clicked.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param e - the mouse event object</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">mousedownHandler(e) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">if (e.offsetX &gt;= 0 &amp;&amp; e.offsetX &lt;= ((_a = this.listbox) === null || _a === void 0 ? void 0 : _a.scrollWidth)) {</span><span class="s3">\n            </span><span class="s1">return super.mousedownHandler(e);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this.collapsible;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the multiple property on the proxy element.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous multiple value</span><span class="s3">\n     </span><span class="s1">* @param next - the current multiple value</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">multipleChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">super.multipleChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">if (this.proxy) {</span><span class="s3">\n            </span><span class="s1">this.proxy.multiple = next;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the selectedness of each option when the list of selected options changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous list of selected options</span><span class="s3">\n     </span><span class="s1">* @param next - the current list of selected options</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">selectedOptionsChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">super.selectedOptionsChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">(_a = this.options) === null || _a === void 0 ? void 0 : _a.forEach((o, i) =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">const proxyOption = (_a = this.proxy) === null || _a === void 0 ? void 0 : _a.options.item(i);</span><span class="s3">\n            </span><span class="s1">if (proxyOption) {</span><span class="s3">\n                </span><span class="s1">proxyOption.selected = o.selected;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the selected index to match the first option with the selected attribute, or</span><span class="s3">\n     </span><span class="s1">* the first selectable option.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setDefaultSelectedOption() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">const options = (_a = this.options) !== null &amp;&amp; _a !== void 0 ? _a : Array.from(this.children).filter(Listbox.slottedOptionFilter);</span><span class="s3">\n        </span><span class="s1">const selectedIndex = options === null || options === void 0 ? void 0 : options.findIndex(el =&gt; el.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot;</span><span class="s1">) || el.selected || el.value === this.value);</span><span class="s3">\n        </span><span class="s1">if (selectedIndex !== -1) {</span><span class="s3">\n            </span><span class="s1">this.selectedIndex = selectedIndex;</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.selectedIndex = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Resets and fills the proxy to match the component's options.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setProxyOptions() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLSelectElement &amp;&amp; this.options) {</span><span class="s3">\n            </span><span class="s1">this.proxy.options.length = 0;</span><span class="s3">\n            </span><span class="s1">this.options.forEach(option =&gt; {</span><span class="s3">\n                </span><span class="s1">const proxyOption = option.proxy ||</span><span class="s3">\n                    </span><span class="s1">(option instanceof HTMLOptionElement ? option.cloneNode() : null);</span><span class="s3">\n                </span><span class="s1">if (proxyOption) {</span><span class="s3">\n                    </span><span class="s1">this.proxy.options.add(proxyOption);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle keyboard interaction for the select.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param e - the keyboard event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">keydownHandler(e) {</span><span class="s3">\n        </span><span class="s1">super.keydownHandler(e);</span><span class="s3">\n        </span><span class="s1">const key = e.key || e.key.charCodeAt(0);</span><span class="s3">\n        </span><span class="s1">switch (key) {</span><span class="s3">\n            </span><span class="s1">case keySpace: {</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">if (this.collapsible &amp;&amp; this.typeAheadExpired) {</span><span class="s3">\n                    </span><span class="s1">this.open = !this.open;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyHome:</span><span class="s3">\n            </span><span class="s1">case keyEnd: {</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyEnter: {</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">this.open = !this.open;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyEscape: {</span><span class="s3">\n                </span><span class="s1">if (this.collapsible &amp;&amp; this.open) {</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                    </span><span class="s1">this.open = false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyTab: {</span><span class="s3">\n                </span><span class="s1">if (this.collapsible &amp;&amp; this.open) {</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                    </span><span class="s1">this.open = false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!this.open &amp;&amp; this.indexWhenOpened !== this.selectedIndex) {</span><span class="s3">\n            </span><span class="s1">this.updateValue(true);</span><span class="s3">\n            </span><span class="s1">this.indexWhenOpened = this.selectedIndex;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return !(key === keyArrowDown || key === keyArrowUp);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.forcedPosition = !!this.positionAttribute;</span><span class="s3">\n        </span><span class="s1">this.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">contentchange</span><span class="s3">\&quot;</span><span class="s1">, this.updateDisplayValue);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">contentchange</span><span class="s3">\&quot;</span><span class="s1">, this.updateDisplayValue);</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the proxy's size property when the size attribute changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous size</span><span class="s3">\n     </span><span class="s1">* @param next - the current size</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">sizeChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">super.sizeChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">if (this.proxy) {</span><span class="s3">\n            </span><span class="s1">this.proxy.size = next;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateDisplayValue() {</span><span class="s3">\n        </span><span class="s1">if (this.collapsible) {</span><span class="s3">\n            </span><span class="s1">Observable.notify(this, </span><span class="s3">\&quot;</span><span class="s1">displayValue</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Select.prototype, </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">volatile</span><span class="s3">\n</span><span class="s1">], Select.prototype, </span><span class="s3">\&quot;</span><span class="s1">collapsible</span><span class="s3">\&quot;</span><span class="s1">, null);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Select.prototype, </span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">position</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Select.prototype, </span><span class="s3">\&quot;</span><span class="s1">positionAttribute</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Select.prototype, </span><span class="s3">\&quot;</span><span class="s1">position</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Select.prototype, </span><span class="s3">\&quot;</span><span class="s1">maxHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Includes ARIA states and properties relating to the ARIA select role.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DelegatesARIASelect {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DelegatesARIASelect.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaControls</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(DelegatesARIASelect, DelegatesARIAListbox);</span><span class="s3">\n</span><span class="s1">applyMixins(Select, StartEnd, DelegatesARIASelect);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior, ListboxElement, ListboxOption } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { controlCornerRadius, designUnit, disabledOpacity, fillColor, focusStrokeOuter, focusStrokeWidth, neutralStrokeRest, strokeWidth } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/size.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Listbox</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const listboxStyles = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">const ListboxOptionTag = context.tagFor(ListboxOption);</span><span class="s3">\n    </span><span class="s1">const hostContext = context.name === context.tagFor(ListboxElement) ? '' : '.listbox';</span><span class="s3">\n    </span><span class="s1">// The expression interpolations present in this block cause Prettier to generate</span><span class="s3">\n    </span><span class="s1">// various formatting bugs.</span><span class="s3">\n    </span><span class="s1">// prettier-ignore</span><span class="s3">\n    </span><span class="s1">return css `</span><span class="s3">\n        </span><span class="s1">${!hostContext ? display('inline-flex') : ''}</span><span class="s3">\n\n        </span><span class="s1">:host ${hostContext} {</span><span class="s3">\n            </span><span class="s1">background: ${fillColor};</span><span class="s3">\n            </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${neutralStrokeRest};</span><span class="s3">\n            </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n            </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n            </span><span class="s1">flex-direction: column;</span><span class="s3">\n            </span><span class="s1">padding: calc(${designUnit} * 1px) 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">${!hostContext ? css `</span><span class="s3">\n</span><span class="s1">:host(:${focusVisible}:not([disabled])) {</span><span class="s3">\n                </span><span class="s1">outline: none;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">:host(:focus-within:not([disabled])) {</span><span class="s3">\n                </span><span class="s1">border-color: ${focusStrokeOuter};</span><span class="s3">\n                </span><span class="s1">box-shadow: 0 0 0</span><span class="s3">\n                    </span><span class="s1">calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n                    </span><span class="s1">${focusStrokeOuter} inset;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n\n            </span><span class="s1">:host([disabled]) ::slotted(*) {</span><span class="s3">\n                </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n                </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n                </span><span class="s1">pointer-events: none;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">` : ''}</span><span class="s3">\n\n        </span><span class="s1">${hostContext || ':host([size])'} {</span><span class="s3">\n            </span><span class="s1">max-height: calc(</span><span class="s3">\n                </span><span class="s1">(var(--size) * ${heightNumber} + (${designUnit} * ${strokeWidth} * 2)) * 1px</span><span class="s3">\n            </span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">overflow-y: auto;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">:host([size=</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">]) ${hostContext} {</span><span class="s3">\n            </span><span class="s1">max-height: none;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n                </span><span class="s1">:host(:not([multiple]):${focusVisible}) ::slotted(${ListboxOptionTag}[aria-selected=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]),</span><span class="s3">\n                </span><span class="s1">:host([multiple]:${focusVisible}) ::slotted(${ListboxOptionTag}[aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]) {</span><span class="s3">\n                    </span><span class="s1">border-color: ${SystemColors.ButtonText};</span><span class="s3">\n                    </span><span class="s1">box-shadow: 0 0 0 calc(${focusStrokeWidth} * 1px) inset ${SystemColors.HighlightText};</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n\n                </span><span class="s1">:host(:not([multiple]):${focusVisible}) ::slotted(${ListboxOptionTag}[aria-selected=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]) {</span><span class="s3">\n                    </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n                    </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n                    </span><span class="s1">fill: currentcolor;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n\n                </span><span class="s1">::slotted(${ListboxOptionTag}[aria-selected=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:not([aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">])) {</span><span class="s3">\n                    </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n                    </span><span class="s1">border-color: ${SystemColors.HighlightText};</span><span class="s3">\n                    </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior, ListboxOption, Select } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillActive, accentFillFocus, bodyFont, controlCornerRadius, designUnit, disabledOpacity, errorFillFocus, errorFillHover, errorFillRest, focusStrokeWidth, foregroundOnAccentFocus, neutralFillInputActive, neutralFillInputHover, neutralFillInputRest, neutralFillStealthRest, neutralFillStrongHover, neutralFillStrongRest, neutralForegroundRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { listboxStyles } from '../listbox/listbox.styles.js';</span><span class="s3">\n</span><span class="s1">import { elevation } from '../styles/elevation.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/size.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Select.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const selectStyles = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">const selectContext = context.name === context.tagFor(Select);</span><span class="s3">\n    </span><span class="s1">// The expression interpolations present in this block cause Prettier to generate</span><span class="s3">\n    </span><span class="s1">// various formatting bugs.</span><span class="s3">\n    </span><span class="s1">// prettier-ignore</span><span class="s3">\n    </span><span class="s1">return css `</span><span class="s3">\n  </span><span class="s1">${display('inline-flex')}</span><span class="s3">\n  \n  </span><span class="s1">:host {</span><span class="s3">\n    </span><span class="s1">--elevation: 14;</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillInputRest};</span><span class="s3">\n    </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${neutralFillStrongRest};</span><span class="s3">\n    </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n    </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n    </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n    </span><span class="s1">position: relative;</span><span class="s3">\n    </span><span class="s1">user-select: none;</span><span class="s3">\n    </span><span class="s1">min-width: 250px;</span><span class="s3">\n    </span><span class="s1">outline: none;</span><span class="s3">\n    </span><span class="s1">vertical-align: top;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([aria-invalid='true']) {</span><span class="s3">\n    </span><span class="s1">border-color: ${errorFillRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host(:not([autowidth])) {</span><span class="s3">\n    </span><span class="s1">min-width: 250px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">${selectContext ? css `</span><span class="s3">\n  </span><span class="s1">:host(:not([aria-haspopup])) {</span><span class="s3">\n    </span><span class="s1">--elevation: 0;</span><span class="s3">\n    </span><span class="s1">border: 0;</span><span class="s3">\n    </span><span class="s1">height: auto;</span><span class="s3">\n    </span><span class="s1">min-width: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">` : ''}</span><span class="s3">\n  \n  </span><span class="s1">${listboxStyles(context, definition)}</span><span class="s3">\n  \n  </span><span class="s1">:host .listbox {</span><span class="s3">\n    </span><span class="s1">${elevation}</span><span class="s3">\n    </span><span class="s1">border: none;</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">left: 0;</span><span class="s3">\n    </span><span class="s1">position: absolute;</span><span class="s3">\n    </span><span class="s1">width: 100%;</span><span class="s3">\n    </span><span class="s1">z-index: 1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">.control + .listbox {</span><span class="s3">\n    </span><span class="s1">--stroke-size: calc(${designUnit} * ${strokeWidth} * 2);</span><span class="s3">\n    </span><span class="s1">max-height: calc(</span><span class="s3">\n      </span><span class="s1">(var(--listbox-max-height) * ${heightNumber} + var(--stroke-size)) * 1px</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">${selectContext ? css `</span><span class="s3">\n  </span><span class="s1">:host(:not([aria-haspopup])) .listbox {</span><span class="s3">\n    </span><span class="s1">left: auto;</span><span class="s3">\n    </span><span class="s1">position: static;</span><span class="s3">\n    </span><span class="s1">z-index: auto;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">` : ''}</span><span class="s3">\n  \n  </span><span class="s1">:host(:not([autowidth])) .listbox {</span><span class="s3">\n    </span><span class="s1">width: 100%;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host([autowidth]) ::slotted([role='option']),</span><span class="s3">\n  </span><span class="s1">:host([autowidth]) ::slotted(option) {</span><span class="s3">\n    </span><span class="s1">padding: 0 calc(1em + ${designUnit} * 1.25px + 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">.listbox[hidden] {</span><span class="s3">\n    </span><span class="s1">display: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">.control {</span><span class="s3">\n    </span><span class="s1">align-items: center;</span><span class="s3">\n    </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n    </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n    </span><span class="s1">font-family: inherit;</span><span class="s3">\n    </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n    </span><span class="s1">min-height: 100%;</span><span class="s3">\n    </span><span class="s1">padding: 0 calc(${designUnit} * 2.25px);</span><span class="s3">\n    </span><span class="s1">width: 100%;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([minimal]),</span><span class="s3">\n  </span><span class="s1">:host([scale='xsmall']) {</span><span class="s3">\n    </span><span class="s1">--element-scale: -4;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([scale='small']) {</span><span class="s3">\n    </span><span class="s1">--element-scale: -2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([scale='medium']) {</span><span class="s3">\n    </span><span class="s1">--element-scale: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([scale='large']) {</span><span class="s3">\n    </span><span class="s1">--element-scale: 2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([scale='xlarge']) {</span><span class="s3">\n    </span><span class="s1">--element-scale: 4;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host(:not([disabled]):hover) {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillInputHover};</span><span class="s3">\n    </span><span class="s1">border-color: ${neutralFillStrongHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host([aria-invalid='true']:not([disabled]):hover) {</span><span class="s3">\n    </span><span class="s1">border-color: ${errorFillHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host(:${focusVisible}) {</span><span class="s3">\n    </span><span class="s1">border-color: ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n    </span><span class="s1">${accentFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host([aria-invalid='true']:${focusVisible}) {</span><span class="s3">\n    </span><span class="s1">border-color: ${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n    </span><span class="s1">${errorFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host(:not([size]):not([multiple]):not([open]):${focusVisible}),</span><span class="s3">\n  </span><span class="s1">:host([multiple]:${focusVisible}),</span><span class="s3">\n  </span><span class="s1">:host([size]:${focusVisible}) {</span><span class="s3">\n    </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n    </span><span class="s1">${accentFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host([aria-invalid='true']:not([size]):not([multiple]):not([open]):${focusVisible}),</span><span class="s3">\n  </span><span class="s1">:host([aria-invalid='true'][multiple]:${focusVisible}),</span><span class="s3">\n  </span><span class="s1">:host([aria-invalid='true'][size]:${focusVisible}) {</span><span class="s3">\n    </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n    </span><span class="s1">${errorFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host(:not([multiple]):not([size]):${focusVisible}) ::slotted(${context.tagFor(ListboxOption)}[aria-selected=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:not([disabled])) {</span><span class="s3">\n    </span><span class="s1">box-shadow: 0 0 0 calc(${focusStrokeWidth} * 1px) inset ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">border-color: ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">background: ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">color: ${foregroundOnAccentFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n    \n  </span><span class="s1">:host([disabled]) {</span><span class="s3">\n    </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host([disabled]) .control {</span><span class="s3">\n    </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">user-select: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host([disabled]:hover) {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillStealthRest};</span><span class="s3">\n    </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">fill: currentcolor;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host(:not([disabled])) .control:active {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillInputActive};</span><span class="s3">\n    </span><span class="s1">border-color: ${accentFillActive};</span><span class="s3">\n    </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host([open][position=</span><span class="s3">\&quot;</span><span class="s1">above</span><span class="s3">\&quot;</span><span class="s1">]) .listbox {</span><span class="s3">\n    </span><span class="s1">border-bottom-left-radius: 0;</span><span class="s3">\n    </span><span class="s1">border-bottom-right-radius: 0;</span><span class="s3">\n    </span><span class="s1">border-bottom: 0;</span><span class="s3">\n    </span><span class="s1">bottom: calc(${heightNumber} * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host([open][position=</span><span class="s3">\&quot;</span><span class="s1">below</span><span class="s3">\&quot;</span><span class="s1">]) .listbox {</span><span class="s3">\n    </span><span class="s1">border-top-left-radius: 0;</span><span class="s3">\n    </span><span class="s1">border-top-right-radius: 0;</span><span class="s3">\n    </span><span class="s1">border-top: 0;</span><span class="s3">\n    </span><span class="s1">top: calc(${heightNumber} * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">.selected-value {</span><span class="s3">\n    </span><span class="s1">flex: 1 1 auto;</span><span class="s3">\n    </span><span class="s1">font-family: inherit;</span><span class="s3">\n    </span><span class="s1">overflow: hidden;</span><span class="s3">\n    </span><span class="s1">text-align: start;</span><span class="s3">\n    </span><span class="s1">text-overflow: ellipsis;</span><span class="s3">\n    </span><span class="s1">white-space: nowrap;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">.indicator {</span><span class="s3">\n    </span><span class="s1">flex: 0 0 auto;</span><span class="s3">\n    </span><span class="s1">margin-inline-start: 1em;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">slot[name=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;</span><span class="s1">] {</span><span class="s3">\n    </span><span class="s1">display: none;</span><span class="s3">\n    </span><span class="s1">width: 100%;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">:host([open]) slot[name=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;</span><span class="s1">] {</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">position: absolute;</span><span class="s3">\n    </span><span class="s1">${elevation}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">.end {</span><span class="s3">\n    </span><span class="s1">margin-inline-start: auto;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">.start,</span><span class="s3">\n  </span><span class="s1">.end,</span><span class="s3">\n  </span><span class="s1">.indicator,</span><span class="s3">\n  </span><span class="s1">.select-indicator,</span><span class="s3">\n  </span><span class="s1">::slotted(svg) {</span><span class="s3">\n    </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n    </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">height: 1em;</span><span class="s3">\n    </span><span class="s1">min-height: calc(${designUnit} * 4px);</span><span class="s3">\n    </span><span class="s1">min-width: calc(${designUnit} * 4px);</span><span class="s3">\n    </span><span class="s1">width: 1em;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  \n  </span><span class="s1">::slotted([role=</span><span class="s3">\&quot;</span><span class="s1">option</span><span class="s3">\&quot;</span><span class="s1">]),</span><span class="s3">\n  </span><span class="s1">::slotted(option) {</span><span class="s3">\n    </span><span class="s1">flex: 0 0 auto;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host(:not([disabled]):hover),</span><span class="s3">\n      </span><span class="s1">:host(:not([disabled]):active) {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([aria-invalid='true']) {</span><span class="s3">\n        </span><span class="s1">border-style: dashed;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      \n      </span><span class="s1">:host(:not([disabled]):${focusVisible}) {</span><span class="s3">\n        </span><span class="s1">background-color: ${SystemColors.ButtonFace};</span><span class="s3">\n        </span><span class="s1">box-shadow: 0 0 0 calc(${focusStrokeWidth} * 1px) ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      \n      </span><span class="s1">:host(:not([disabled]):${focusVisible}) .listbox {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      \n      </span><span class="s1">:host([disabled]) {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">background-color: ${SystemColors.ButtonFace};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      \n      </span><span class="s1">:host([disabled]:hover) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      \n      </span><span class="s1">:host([disabled]) .control {</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      \n      </span><span class="s1">:host([disabled]) .control .select-indicator {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      \n      </span><span class="s1">:host(:${focusVisible}) ::slotted([aria-selected=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">][role=</span><span class="s3">\&quot;</span><span class="s1">option</span><span class="s3">\&quot;</span><span class="s1">]),</span><span class="s3">\n      </span><span class="s1">:host(:${focusVisible}) ::slotted(option[aria-selected=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]),</span><span class="s3">\n      </span><span class="s1">:host(:${focusVisible}) ::slotted([aria-selected=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">][role=</span><span class="s3">\&quot;</span><span class="s1">option</span><span class="s3">\&quot;</span><span class="s1">]:not([disabled])) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n        </span><span class="s1">${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      \n      </span><span class="s1">.start,</span><span class="s3">\n      </span><span class="s1">.end,</span><span class="s3">\n      </span><span class="s1">.indicator,</span><span class="s3">\n      </span><span class="s1">.select-indicator,</span><span class="s3">\n      </span><span class="s1">::slotted(svg) {</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, focusVisible } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { accentFillFocus, errorFillFocus, focusStrokeWidth, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { selectStyles } from '../select/select.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Combobox</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const comboboxStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${selectStyles(context, definition)}</span><span class="s3">\n\n  </span><span class="s1">:host(:empty) .listbox {</span><span class="s3">\n    </span><span class="s1">display: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([disabled]) *,</span><span class="s3">\n  </span><span class="s1">:host([disabled]) {</span><span class="s3">\n    </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">user-select: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(:focus-within:not([disabled])) {</span><span class="s3">\n    </span><span class="s1">border-color: ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n      </span><span class="s1">${accentFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([aria-invalid='true']:focus-within:not([disabled])) {</span><span class="s3">\n    </span><span class="s1">border-color: ${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n      </span><span class="s1">${errorFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.selected-value {</span><span class="s3">\n    </span><span class="s1">-webkit-appearance: none;</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">border: none;</span><span class="s3">\n    </span><span class="s1">color: inherit;</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n    </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n    </span><span class="s1">height: calc(100% - (${strokeWidth} * 1px));</span><span class="s3">\n    </span><span class="s1">margin: auto 0;</span><span class="s3">\n    </span><span class="s1">width: 100%;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.selected-value:hover,</span><span class="s3">\n    </span><span class="s1">.selected-value:${focusVisible},</span><span class="s3">\n    </span><span class="s1">.selected-value:disabled,</span><span class="s3">\n    </span><span class="s1">.selected-value:active {</span><span class="s3">\n    </span><span class="s1">outline: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { Combobox, comboboxTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { heightNumberAsToken } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { comboboxStyles as styles } from './combobox.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Combobox class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-combobox</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @fires input - Fires a custom 'input' event when the value has changed</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterCombobox extends Combobox {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The connected callback for this FASTElement.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.setAutoWidth();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Synchronize the form-associated proxy and updates the value property of the element.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous collection of slotted option elements</span><span class="s3">\n     </span><span class="s1">* @param next - the next collection of slotted option elements</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">slottedOptionsChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">super.slottedOptionsChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">this.setAutoWidth();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* (Un-)set the width when the autoWidth property changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous autoWidth value</span><span class="s3">\n     </span><span class="s1">* @param next - the current autoWidth value</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">autoWidthChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (next) {</span><span class="s3">\n            </span><span class="s1">this.setAutoWidth();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.style.removeProperty('width');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Compute the listbox width to set the one of the input.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setAutoWidth() {</span><span class="s3">\n        </span><span class="s1">if (!this.autoWidth || !this.isConnected) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let listWidth = this.listbox.getBoundingClientRect().width;</span><span class="s3">\n        </span><span class="s1">// If the list has not been displayed yet trick to get its size</span><span class="s3">\n        </span><span class="s1">if (listWidth === 0 &amp;&amp; this.listbox.hidden) {</span><span class="s3">\n            </span><span class="s1">Object.assign(this.listbox.style, { visibility: 'hidden' });</span><span class="s3">\n            </span><span class="s1">this.listbox.removeAttribute('hidden');</span><span class="s3">\n            </span><span class="s1">listWidth = this.listbox.getBoundingClientRect().width;</span><span class="s3">\n            </span><span class="s1">this.listbox.setAttribute('hidden', '');</span><span class="s3">\n            </span><span class="s1">this.listbox.style.removeProperty('visibility');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (listWidth &gt; 0) {</span><span class="s3">\n            </span><span class="s1">Object.assign(this.style, { width: `${listWidth}px` });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">maxHeightChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">this.updateComputedStylesheet();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates an internal stylesheet with calculated CSS custom properties.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateComputedStylesheet() {</span><span class="s3">\n        </span><span class="s1">if (this.computedStylesheet) {</span><span class="s3">\n            </span><span class="s1">this.$fastController.removeStyles(this.computedStylesheet);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const popupMaxHeight = Math.floor(this.maxHeight / heightNumberAsToken.getValueFor(this)).toString();</span><span class="s3">\n        </span><span class="s1">this.computedStylesheet = css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">--listbox-max-height: ${popupMaxHeight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n        </span><span class="s1">this.$fastController.addStyles(this.computedStylesheet);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: 'autowidth', mode: 'boolean' })</span><span class="s3">\n</span><span class="s1">], JupyterCombobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">autoWidth</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: 'minimal', mode: 'boolean' })</span><span class="s3">\n</span><span class="s1">], JupyterCombobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">minimal</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterCombobox.prototype, </span><span class="s3">\&quot;</span><span class="s1">scale</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Combobox} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#comboboxTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-combobox&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpCombobox = JupyterCombobox.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'combobox',</span><span class="s3">\n    </span><span class="s1">baseClass: Combobox,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">indicator: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;svg</span><span class="s3">\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">select-indicator</span><span class="s3">\&quot;\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">select-indicator</span><span class="s3">\&quot;\n            </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 12 7</span><span class="s3">\&quot;\n            </span><span class="s1">xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;path</span><span class="s3">\n                </span><span class="s1">d=</span><span class="s3">\&quot;</span><span class="s1">M11.85.65c.2.2.2.5 0 .7L6.4 6.84a.55.55 0 01-.78 0L.14 1.35a.5.5 0 11.71-.7L6 5.8 11.15.65c.2-.2.5-.2.7 0z</span><span class="s3">\&quot;\n            </span><span class="s1">/&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterCombobox as Combobox };</span><span class="s3">\n</span><span class="s1">export { styles as comboboxStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Enumerates the data grid auto generated header options</span><span class="s3">\n </span><span class="s1">* default option generates a non-sticky header row</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const GenerateHeaderOptions = {</span><span class="s3">\n    </span><span class="s1">none: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">default: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">sticky: </span><span class="s3">\&quot;</span><span class="s1">sticky</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Enumerates possible data grid cell types.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const DataGridCellTypes = {</span><span class="s3">\n    </span><span class="s1">default: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">columnHeader: </span><span class="s3">\&quot;</span><span class="s1">columnheader</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">rowHeader: </span><span class="s3">\&quot;</span><span class="s1">rowheader</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Enumerates possible data grid row types</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const DataGridRowTypes = {</span><span class="s3">\n    </span><span class="s1">default: </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">header: </span><span class="s3">\&quot;</span><span class="s1">header</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">stickyHeader: </span><span class="s3">\&quot;</span><span class="s1">sticky-header</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, html, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { eventFocusIn, eventFocusOut, eventKeyDown, keyEnter, keyEscape, keyFunction2, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DataGridCellTypes } from </span><span class="s3">\&quot;</span><span class="s1">./data-grid.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export { DataGridCellTypes };</span><span class="s3">\n</span><span class="s1">const defaultCellContentsTemplate = html `</span><span class="s3">\n    </span><span class="s1">&lt;template&gt;</span><span class="s3">\n        </span><span class="s1">${x =&gt; x.rowData === null ||</span><span class="s3">\n    </span><span class="s1">x.columnDefinition === null ||</span><span class="s3">\n    </span><span class="s1">x.columnDefinition.columnDataKey === null</span><span class="s3">\n    </span><span class="s1">? null</span><span class="s3">\n    </span><span class="s1">: x.rowData[x.columnDefinition.columnDataKey]}</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">const defaultHeaderCellContentsTemplate = html `</span><span class="s3">\n    </span><span class="s1">&lt;template&gt;</span><span class="s3">\n        </span><span class="s1">${x =&gt; x.columnDefinition === null</span><span class="s3">\n    </span><span class="s1">? null</span><span class="s3">\n    </span><span class="s1">: x.columnDefinition.title === undefined</span><span class="s3">\n        </span><span class="s1">? x.columnDefinition.columnDataKey</span><span class="s3">\n        </span><span class="s1">: x.columnDefinition.title}</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Data Grid Cell Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @fires cell-focused - Fires a custom 'cell-focused' event when focus is on the cell or its contents</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for cell contents.  The </span><span class="s3">\&quot;</span><span class="s1">cell contents template</span><span class="s3">\&quot; </span><span class="s1">renders here.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DataGridCell extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The type of cell</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: cell-type</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.cellType = DataGridCellTypes.default;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The base data for the parent row</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.rowData = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The base data for the column</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.columnDefinition = null;</span><span class="s3">\n        </span><span class="s1">this.isActiveCell = false;</span><span class="s3">\n        </span><span class="s1">this.customCellView = null;</span><span class="s3">\n        </span><span class="s1">this.updateCellStyle = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.style.gridColumn = this.gridColumn;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">cellTypeChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateCellView();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">gridColumnChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateCellStyle();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">columnDefinitionChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateCellView();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.addEventListener(eventFocusIn, this.handleFocusin);</span><span class="s3">\n        </span><span class="s1">this.addEventListener(eventFocusOut, this.handleFocusout);</span><span class="s3">\n        </span><span class="s1">this.addEventListener(eventKeyDown, this.handleKeydown);</span><span class="s3">\n        </span><span class="s1">this.style.gridColumn = `${((_a = this.columnDefinition) === null || _a === void 0 ? void 0 : _a.gridColumn) === undefined</span><span class="s3">\n            </span><span class="s1">? 0</span><span class="s3">\n            </span><span class="s1">: this.columnDefinition.gridColumn}`;</span><span class="s3">\n        </span><span class="s1">this.updateCellView();</span><span class="s3">\n        </span><span class="s1">this.updateCellStyle();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(eventFocusIn, this.handleFocusin);</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(eventFocusOut, this.handleFocusout);</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(eventKeyDown, this.handleKeydown);</span><span class="s3">\n        </span><span class="s1">this.disconnectCellView();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleFocusin(e) {</span><span class="s3">\n        </span><span class="s1">if (this.isActiveCell) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.isActiveCell = true;</span><span class="s3">\n        </span><span class="s1">switch (this.cellType) {</span><span class="s3">\n            </span><span class="s1">case DataGridCellTypes.columnHeader:</span><span class="s3">\n                </span><span class="s1">if (this.columnDefinition !== null &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">this.columnDefinition.headerCellInternalFocusQueue !== true &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">typeof this.columnDefinition.headerCellFocusTargetCallback ===</span><span class="s3">\n                        \&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">// move focus to the focus target</span><span class="s3">\n                    </span><span class="s1">const focusTarget = this.columnDefinition.headerCellFocusTargetCallback(this);</span><span class="s3">\n                    </span><span class="s1">if (focusTarget !== null) {</span><span class="s3">\n                        </span><span class="s1">focusTarget.focus();</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">if (this.columnDefinition !== null &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">this.columnDefinition.cellInternalFocusQueue !== true &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">typeof this.columnDefinition.cellFocusTargetCallback === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">// move focus to the focus target</span><span class="s3">\n                    </span><span class="s1">const focusTarget = this.columnDefinition.cellFocusTargetCallback(this);</span><span class="s3">\n                    </span><span class="s1">if (focusTarget !== null) {</span><span class="s3">\n                        </span><span class="s1">focusTarget.focus();</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">cell-focused</span><span class="s3">\&quot;</span><span class="s1">, this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleFocusout(e) {</span><span class="s3">\n        </span><span class="s1">if (this !== document.activeElement &amp;&amp; !this.contains(document.activeElement)) {</span><span class="s3">\n            </span><span class="s1">this.isActiveCell = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleKeydown(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented ||</span><span class="s3">\n            </span><span class="s1">this.columnDefinition === null ||</span><span class="s3">\n            </span><span class="s1">(this.cellType === DataGridCellTypes.default &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.columnDefinition.cellInternalFocusQueue !== true) ||</span><span class="s3">\n            </span><span class="s1">(this.cellType === DataGridCellTypes.columnHeader &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.columnDefinition.headerCellInternalFocusQueue !== true)) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">switch (e.key) {</span><span class="s3">\n            </span><span class="s1">case keyEnter:</span><span class="s3">\n            </span><span class="s1">case keyFunction2:</span><span class="s3">\n                </span><span class="s1">if (this.contains(document.activeElement) &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">document.activeElement !== this) {</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">switch (this.cellType) {</span><span class="s3">\n                    </span><span class="s1">case DataGridCellTypes.columnHeader:</span><span class="s3">\n                        </span><span class="s1">if (this.columnDefinition.headerCellFocusTargetCallback !==</span><span class="s3">\n                            </span><span class="s1">undefined) {</span><span class="s3">\n                            </span><span class="s1">const focusTarget = this.columnDefinition.headerCellFocusTargetCallback(this);</span><span class="s3">\n                            </span><span class="s1">if (focusTarget !== null) {</span><span class="s3">\n                                </span><span class="s1">focusTarget.focus();</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">e.preventDefault();</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">default:</span><span class="s3">\n                        </span><span class="s1">if (this.columnDefinition.cellFocusTargetCallback !== undefined) {</span><span class="s3">\n                            </span><span class="s1">const focusTarget = this.columnDefinition.cellFocusTargetCallback(this);</span><span class="s3">\n                            </span><span class="s1">if (focusTarget !== null) {</span><span class="s3">\n                                </span><span class="s1">focusTarget.focus();</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">e.preventDefault();</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case keyEscape:</span><span class="s3">\n                </span><span class="s1">if (this.contains(document.activeElement) &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">document.activeElement !== this) {</span><span class="s3">\n                    </span><span class="s1">this.focus();</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateCellView() {</span><span class="s3">\n        </span><span class="s1">this.disconnectCellView();</span><span class="s3">\n        </span><span class="s1">if (this.columnDefinition === null) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">switch (this.cellType) {</span><span class="s3">\n            </span><span class="s1">case DataGridCellTypes.columnHeader:</span><span class="s3">\n                </span><span class="s1">if (this.columnDefinition.headerCellTemplate !== undefined) {</span><span class="s3">\n                    </span><span class="s1">this.customCellView = this.columnDefinition.headerCellTemplate.render(this, this);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">this.customCellView = defaultHeaderCellContentsTemplate.render(this, this);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case undefined:</span><span class="s3">\n            </span><span class="s1">case DataGridCellTypes.rowHeader:</span><span class="s3">\n            </span><span class="s1">case DataGridCellTypes.default:</span><span class="s3">\n                </span><span class="s1">if (this.columnDefinition.cellTemplate !== undefined) {</span><span class="s3">\n                    </span><span class="s1">this.customCellView = this.columnDefinition.cellTemplate.render(this, this);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">this.customCellView = defaultCellContentsTemplate.render(this, this);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">disconnectCellView() {</span><span class="s3">\n        </span><span class="s1">if (this.customCellView !== null) {</span><span class="s3">\n            </span><span class="s1">this.customCellView.dispose();</span><span class="s3">\n            </span><span class="s1">this.customCellView = null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">cell-type</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], DataGridCell.prototype, </span><span class="s3">\&quot;</span><span class="s1">cellType</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">grid-column</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], DataGridCell.prototype, </span><span class="s3">\&quot;</span><span class="s1">gridColumn</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridCell.prototype, </span><span class="s3">\&quot;</span><span class="s1">rowData</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridCell.prototype, </span><span class="s3">\&quot;</span><span class="s1">columnDefinition</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Generates a template for the {@link @microsoft/fast-foundation#DataGridCell} component using</span><span class="s3">\n </span><span class="s1">* the provided prefix.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dataGridCellTemplate = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n        </span><span class="s1">&lt;template</span><span class="s3">\n            </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; !x.cellType || x.cellType === </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">gridcell</span><span class="s3">\&quot; </span><span class="s1">: x.cellType}</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;\n            </span><span class="s1">${x =&gt; x.cellType === </span><span class="s3">\&quot;</span><span class="s1">columnheader</span><span class="s3">\&quot;\n        </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">column-header</span><span class="s3">\&quot;\n        </span><span class="s1">: x.cellType === </span><span class="s3">\&quot;</span><span class="s1">rowheader</span><span class="s3">\&quot;\n            </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">row-header</span><span class="s3">\&quot;\n            </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n            \&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { emptyArray } from </span><span class="s3">\&quot;</span><span class="s1">../platform.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/** @internal */</span><span class="s3">\n</span><span class="s1">export function newSplice(index, removed, addedCount) {</span><span class="s3">\n    </span><span class="s1">return {</span><span class="s3">\n        </span><span class="s1">index: index,</span><span class="s3">\n        </span><span class="s1">removed: removed,</span><span class="s3">\n        </span><span class="s1">addedCount: addedCount,</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const EDIT_LEAVE = 0;</span><span class="s3">\n</span><span class="s1">const EDIT_UPDATE = 1;</span><span class="s3">\n</span><span class="s1">const EDIT_ADD = 2;</span><span class="s3">\n</span><span class="s1">const EDIT_DELETE = 3;</span><span class="s3">\n</span><span class="s1">// Note: This function is *based* on the computation of the Levenshtein</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">edit</span><span class="s3">\&quot; </span><span class="s1">distance. The one change is that </span><span class="s3">\&quot;</span><span class="s1">updates</span><span class="s3">\&quot; </span><span class="s1">are treated as two</span><span class="s3">\n</span><span class="s1">// edits - not one. With Array splices, an update is really a delete</span><span class="s3">\n</span><span class="s1">// followed by an add. By retaining this, we optimize for </span><span class="s3">\&quot;</span><span class="s1">keeping</span><span class="s3">\&quot; </span><span class="s1">the</span><span class="s3">\n</span><span class="s1">// maximum array items in the original array. For example:</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">//   'xxxx123' -&gt; '123yyyy'</span><span class="s3">\n</span><span class="s1">//</span><span class="s3">\n</span><span class="s1">// With 1-edit updates, the shortest path would be just to update all seven</span><span class="s3">\n</span><span class="s1">// characters. With 2-edit updates, we delete 4, leave 3, and add 4. This</span><span class="s3">\n</span><span class="s1">// leaves the substring '123' intact.</span><span class="s3">\n</span><span class="s1">function calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd) {</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">Deletion</span><span class="s3">\&quot; </span><span class="s1">columns</span><span class="s3">\n    </span><span class="s1">const rowCount = oldEnd - oldStart + 1;</span><span class="s3">\n    </span><span class="s1">const columnCount = currentEnd - currentStart + 1;</span><span class="s3">\n    </span><span class="s1">const distances = new Array(rowCount);</span><span class="s3">\n    </span><span class="s1">let north;</span><span class="s3">\n    </span><span class="s1">let west;</span><span class="s3">\n    </span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">Addition</span><span class="s3">\&quot; </span><span class="s1">rows. Initialize null column.</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; rowCount; ++i) {</span><span class="s3">\n        </span><span class="s1">distances[i] = new Array(columnCount);</span><span class="s3">\n        </span><span class="s1">distances[i][0] = i;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Initialize null row</span><span class="s3">\n    </span><span class="s1">for (let j = 0; j &lt; columnCount; ++j) {</span><span class="s3">\n        </span><span class="s1">distances[0][j] = j;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">for (let i = 1; i &lt; rowCount; ++i) {</span><span class="s3">\n        </span><span class="s1">for (let j = 1; j &lt; columnCount; ++j) {</span><span class="s3">\n            </span><span class="s1">if (current[currentStart + j - 1] === old[oldStart + i - 1]) {</span><span class="s3">\n                </span><span class="s1">distances[i][j] = distances[i - 1][j - 1];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">north = distances[i - 1][j] + 1;</span><span class="s3">\n                </span><span class="s1">west = distances[i][j - 1] + 1;</span><span class="s3">\n                </span><span class="s1">distances[i][j] = north &lt; west ? north : west;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return distances;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">// This starts at the final weight, and walks </span><span class="s3">\&quot;</span><span class="s1">backward</span><span class="s3">\&quot; </span><span class="s1">by finding</span><span class="s3">\n</span><span class="s1">// the minimum previous weight recursively until the origin of the weight</span><span class="s3">\n</span><span class="s1">// matrix.</span><span class="s3">\n</span><span class="s1">function spliceOperationsFromEditDistances(distances) {</span><span class="s3">\n    </span><span class="s1">let i = distances.length - 1;</span><span class="s3">\n    </span><span class="s1">let j = distances[0].length - 1;</span><span class="s3">\n    </span><span class="s1">let current = distances[i][j];</span><span class="s3">\n    </span><span class="s1">const edits = [];</span><span class="s3">\n    </span><span class="s1">while (i &gt; 0 || j &gt; 0) {</span><span class="s3">\n        </span><span class="s1">if (i === 0) {</span><span class="s3">\n            </span><span class="s1">edits.push(EDIT_ADD);</span><span class="s3">\n            </span><span class="s1">j--;</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (j === 0) {</span><span class="s3">\n            </span><span class="s1">edits.push(EDIT_DELETE);</span><span class="s3">\n            </span><span class="s1">i--;</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const northWest = distances[i - 1][j - 1];</span><span class="s3">\n        </span><span class="s1">const west = distances[i - 1][j];</span><span class="s3">\n        </span><span class="s1">const north = distances[i][j - 1];</span><span class="s3">\n        </span><span class="s1">let min;</span><span class="s3">\n        </span><span class="s1">if (west &lt; north) {</span><span class="s3">\n            </span><span class="s1">min = west &lt; northWest ? west : northWest;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">min = north &lt; northWest ? north : northWest;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (min === northWest) {</span><span class="s3">\n            </span><span class="s1">if (northWest === current) {</span><span class="s3">\n                </span><span class="s1">edits.push(EDIT_LEAVE);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">edits.push(EDIT_UPDATE);</span><span class="s3">\n                </span><span class="s1">current = northWest;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">i--;</span><span class="s3">\n            </span><span class="s1">j--;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (min === west) {</span><span class="s3">\n            </span><span class="s1">edits.push(EDIT_DELETE);</span><span class="s3">\n            </span><span class="s1">i--;</span><span class="s3">\n            </span><span class="s1">current = west;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">edits.push(EDIT_ADD);</span><span class="s3">\n            </span><span class="s1">j--;</span><span class="s3">\n            </span><span class="s1">current = north;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">edits.reverse();</span><span class="s3">\n    </span><span class="s1">return edits;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function sharedPrefix(current, old, searchLength) {</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; searchLength; ++i) {</span><span class="s3">\n        </span><span class="s1">if (current[i] !== old[i]) {</span><span class="s3">\n            </span><span class="s1">return i;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return searchLength;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function sharedSuffix(current, old, searchLength) {</span><span class="s3">\n    </span><span class="s1">let index1 = current.length;</span><span class="s3">\n    </span><span class="s1">let index2 = old.length;</span><span class="s3">\n    </span><span class="s1">let count = 0;</span><span class="s3">\n    </span><span class="s1">while (count &lt; searchLength &amp;&amp; current[--index1] === old[--index2]) {</span><span class="s3">\n        </span><span class="s1">count++;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return count;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function intersect(start1, end1, start2, end2) {</span><span class="s3">\n    </span><span class="s1">// Disjoint</span><span class="s3">\n    </span><span class="s1">if (end1 &lt; start2 || end2 &lt; start1) {</span><span class="s3">\n        </span><span class="s1">return -1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Adjacent</span><span class="s3">\n    </span><span class="s1">if (end1 === start2 || end2 === start1) {</span><span class="s3">\n        </span><span class="s1">return 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Non-zero intersect, span1 first</span><span class="s3">\n    </span><span class="s1">if (start1 &lt; start2) {</span><span class="s3">\n        </span><span class="s1">if (end1 &lt; end2) {</span><span class="s3">\n            </span><span class="s1">return end1 - start2; // Overlap</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return end2 - start2; // Contained</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">// Non-zero intersect, span2 first</span><span class="s3">\n    </span><span class="s1">if (end2 &lt; end1) {</span><span class="s3">\n        </span><span class="s1">return end2 - start1; // Overlap</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return end1 - start1; // Contained</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Splice Projection functions:</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* A splice map is a representation of how a previous array of items</span><span class="s3">\n </span><span class="s1">* was transformed into a new array of items. Conceptually it is a list of</span><span class="s3">\n </span><span class="s1">* tuples of</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*   &lt;index, removed, addedCount&gt;</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* which are kept in ascending index order of. The tuple represents that at</span><span class="s3">\n </span><span class="s1">* the |index|, |removed| sequence of items were removed, and counting forward</span><span class="s3">\n </span><span class="s1">* from |index|, |addedCount| items were added.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Lacking individual splice mutation information, the minimal set of</span><span class="s3">\n </span><span class="s1">* splices can be synthesized given the previous state and final state of an</span><span class="s3">\n </span><span class="s1">* array. The basic approach is to calculate the edit distance matrix and</span><span class="s3">\n </span><span class="s1">* choose the shortest path through it.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Complexity: O(l * p)</span><span class="s3">\n </span><span class="s1">*   l: The length of the current array</span><span class="s3">\n </span><span class="s1">*   p: The length of the old array</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function calcSplices(current, currentStart, currentEnd, old, oldStart, oldEnd) {</span><span class="s3">\n    </span><span class="s1">let prefixCount = 0;</span><span class="s3">\n    </span><span class="s1">let suffixCount = 0;</span><span class="s3">\n    </span><span class="s1">const minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);</span><span class="s3">\n    </span><span class="s1">if (currentStart === 0 &amp;&amp; oldStart === 0) {</span><span class="s3">\n        </span><span class="s1">prefixCount = sharedPrefix(current, old, minLength);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (currentEnd === current.length &amp;&amp; oldEnd === old.length) {</span><span class="s3">\n        </span><span class="s1">suffixCount = sharedSuffix(current, old, minLength - prefixCount);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">currentStart += prefixCount;</span><span class="s3">\n    </span><span class="s1">oldStart += prefixCount;</span><span class="s3">\n    </span><span class="s1">currentEnd -= suffixCount;</span><span class="s3">\n    </span><span class="s1">oldEnd -= suffixCount;</span><span class="s3">\n    </span><span class="s1">if (currentEnd - currentStart === 0 &amp;&amp; oldEnd - oldStart === 0) {</span><span class="s3">\n        </span><span class="s1">return emptyArray;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (currentStart === currentEnd) {</span><span class="s3">\n        </span><span class="s1">const splice = newSplice(currentStart, [], 0);</span><span class="s3">\n        </span><span class="s1">while (oldStart &lt; oldEnd) {</span><span class="s3">\n            </span><span class="s1">splice.removed.push(old[oldStart++]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return [splice];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (oldStart === oldEnd) {</span><span class="s3">\n        </span><span class="s1">return [newSplice(currentStart, [], currentEnd - currentStart)];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">const ops = spliceOperationsFromEditDistances(calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd));</span><span class="s3">\n    </span><span class="s1">const splices = [];</span><span class="s3">\n    </span><span class="s1">let splice = void 0;</span><span class="s3">\n    </span><span class="s1">let index = currentStart;</span><span class="s3">\n    </span><span class="s1">let oldIndex = oldStart;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; ops.length; ++i) {</span><span class="s3">\n        </span><span class="s1">switch (ops[i]) {</span><span class="s3">\n            </span><span class="s1">case EDIT_LEAVE:</span><span class="s3">\n                </span><span class="s1">if (splice !== void 0) {</span><span class="s3">\n                    </span><span class="s1">splices.push(splice);</span><span class="s3">\n                    </span><span class="s1">splice = void 0;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">index++;</span><span class="s3">\n                </span><span class="s1">oldIndex++;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case EDIT_UPDATE:</span><span class="s3">\n                </span><span class="s1">if (splice === void 0) {</span><span class="s3">\n                    </span><span class="s1">splice = newSplice(index, [], 0);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">splice.addedCount++;</span><span class="s3">\n                </span><span class="s1">index++;</span><span class="s3">\n                </span><span class="s1">splice.removed.push(old[oldIndex]);</span><span class="s3">\n                </span><span class="s1">oldIndex++;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case EDIT_ADD:</span><span class="s3">\n                </span><span class="s1">if (splice === void 0) {</span><span class="s3">\n                    </span><span class="s1">splice = newSplice(index, [], 0);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">splice.addedCount++;</span><span class="s3">\n                </span><span class="s1">index++;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case EDIT_DELETE:</span><span class="s3">\n                </span><span class="s1">if (splice === void 0) {</span><span class="s3">\n                    </span><span class="s1">splice = newSplice(index, [], 0);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">splice.removed.push(old[oldIndex]);</span><span class="s3">\n                </span><span class="s1">oldIndex++;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">// no default</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (splice !== void 0) {</span><span class="s3">\n        </span><span class="s1">splices.push(splice);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return splices;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">const $push = Array.prototype.push;</span><span class="s3">\n</span><span class="s1">function mergeSplice(splices, index, removed, addedCount) {</span><span class="s3">\n    </span><span class="s1">const splice = newSplice(index, removed, addedCount);</span><span class="s3">\n    </span><span class="s1">let inserted = false;</span><span class="s3">\n    </span><span class="s1">let insertionOffset = 0;</span><span class="s3">\n    </span><span class="s1">for (let i = 0; i &lt; splices.length; i++) {</span><span class="s3">\n        </span><span class="s1">const current = splices[i];</span><span class="s3">\n        </span><span class="s1">current.index += insertionOffset;</span><span class="s3">\n        </span><span class="s1">if (inserted) {</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const intersectCount = intersect(splice.index, splice.index + splice.removed.length, current.index, current.index + current.addedCount);</span><span class="s3">\n        </span><span class="s1">if (intersectCount &gt;= 0) {</span><span class="s3">\n            </span><span class="s1">// Merge the two splices</span><span class="s3">\n            </span><span class="s1">splices.splice(i, 1);</span><span class="s3">\n            </span><span class="s1">i--;</span><span class="s3">\n            </span><span class="s1">insertionOffset -= current.addedCount - current.removed.length;</span><span class="s3">\n            </span><span class="s1">splice.addedCount += current.addedCount - intersectCount;</span><span class="s3">\n            </span><span class="s1">const deleteCount = splice.removed.length + current.removed.length - intersectCount;</span><span class="s3">\n            </span><span class="s1">if (!splice.addedCount &amp;&amp; !deleteCount) {</span><span class="s3">\n                </span><span class="s1">// merged splice is a noop. discard.</span><span class="s3">\n                </span><span class="s1">inserted = true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">let currentRemoved = current.removed;</span><span class="s3">\n                </span><span class="s1">if (splice.index &lt; current.index) {</span><span class="s3">\n                    </span><span class="s1">// some prefix of splice.removed is prepended to current.removed.</span><span class="s3">\n                    </span><span class="s1">const prepend = splice.removed.slice(0, current.index - splice.index);</span><span class="s3">\n                    </span><span class="s1">$push.apply(prepend, currentRemoved);</span><span class="s3">\n                    </span><span class="s1">currentRemoved = prepend;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (splice.index + splice.removed.length &gt;</span><span class="s3">\n                    </span><span class="s1">current.index + current.addedCount) {</span><span class="s3">\n                    </span><span class="s1">// some suffix of splice.removed is appended to current.removed.</span><span class="s3">\n                    </span><span class="s1">const append = splice.removed.slice(current.index + current.addedCount - splice.index);</span><span class="s3">\n                    </span><span class="s1">$push.apply(currentRemoved, append);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">splice.removed = currentRemoved;</span><span class="s3">\n                </span><span class="s1">if (current.index &lt; splice.index) {</span><span class="s3">\n                    </span><span class="s1">splice.index = current.index;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (splice.index &lt; current.index) {</span><span class="s3">\n            </span><span class="s1">// Insert splice here.</span><span class="s3">\n            </span><span class="s1">inserted = true;</span><span class="s3">\n            </span><span class="s1">splices.splice(i, 0, splice);</span><span class="s3">\n            </span><span class="s1">i++;</span><span class="s3">\n            </span><span class="s1">const offset = splice.addedCount - splice.removed.length;</span><span class="s3">\n            </span><span class="s1">current.index += offset;</span><span class="s3">\n            </span><span class="s1">insertionOffset += offset;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (!inserted) {</span><span class="s3">\n        </span><span class="s1">splices.push(splice);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function createInitialSplices(changeRecords) {</span><span class="s3">\n    </span><span class="s1">const splices = [];</span><span class="s3">\n    </span><span class="s1">for (let i = 0, ii = changeRecords.length; i &lt; ii; i++) {</span><span class="s3">\n        </span><span class="s1">const record = changeRecords[i];</span><span class="s3">\n        </span><span class="s1">mergeSplice(splices, record.index, record.removed, record.addedCount);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return splices;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/** @internal */</span><span class="s3">\n</span><span class="s1">export function projectArraySplices(array, changeRecords) {</span><span class="s3">\n    </span><span class="s1">let splices = [];</span><span class="s3">\n    </span><span class="s1">const initialSplices = createInitialSplices(changeRecords);</span><span class="s3">\n    </span><span class="s1">for (let i = 0, ii = initialSplices.length; i &lt; ii; ++i) {</span><span class="s3">\n        </span><span class="s1">const splice = initialSplices[i];</span><span class="s3">\n        </span><span class="s1">if (splice.addedCount === 1 &amp;&amp; splice.removed.length === 1) {</span><span class="s3">\n            </span><span class="s1">if (splice.removed[0] !== array[splice.index]) {</span><span class="s3">\n                </span><span class="s1">splices.push(splice);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">continue;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">splices = splices.concat(calcSplices(array, splice.index, splice.index + splice.addedCount, splice.removed, 0, splice.removed.length));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return splices;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { DOM } from </span><span class="s3">\&quot;</span><span class="s1">../dom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { calcSplices, newSplice, projectArraySplices } from </span><span class="s3">\&quot;</span><span class="s1">./array-change-records.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { SubscriberSet } from </span><span class="s3">\&quot;</span><span class="s1">./notifier.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Observable } from </span><span class="s3">\&quot;</span><span class="s1">./observable.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">let arrayObservationEnabled = false;</span><span class="s3">\n</span><span class="s1">function adjustIndex(changeRecord, array) {</span><span class="s3">\n    </span><span class="s1">let index = changeRecord.index;</span><span class="s3">\n    </span><span class="s1">const arrayLength = array.length;</span><span class="s3">\n    </span><span class="s1">if (index &gt; arrayLength) {</span><span class="s3">\n        </span><span class="s1">index = arrayLength - changeRecord.addedCount;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else if (index &lt; 0) {</span><span class="s3">\n        </span><span class="s1">index =</span><span class="s3">\n            </span><span class="s1">arrayLength + changeRecord.removed.length + index - changeRecord.addedCount;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (index &lt; 0) {</span><span class="s3">\n        </span><span class="s1">index = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">changeRecord.index = index;</span><span class="s3">\n    </span><span class="s1">return changeRecord;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">class ArrayObserver extends SubscriberSet {</span><span class="s3">\n    </span><span class="s1">constructor(source) {</span><span class="s3">\n        </span><span class="s1">super(source);</span><span class="s3">\n        </span><span class="s1">this.oldCollection = void 0;</span><span class="s3">\n        </span><span class="s1">this.splices = void 0;</span><span class="s3">\n        </span><span class="s1">this.needsQueue = true;</span><span class="s3">\n        </span><span class="s1">this.call = this.flush;</span><span class="s3">\n        </span><span class="s1">Reflect.defineProperty(source, </span><span class="s3">\&quot;</span><span class="s1">$fastController</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n            </span><span class="s1">value: this,</span><span class="s3">\n            </span><span class="s1">enumerable: false,</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">subscribe(subscriber) {</span><span class="s3">\n        </span><span class="s1">this.flush();</span><span class="s3">\n        </span><span class="s1">super.subscribe(subscriber);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">addSplice(splice) {</span><span class="s3">\n        </span><span class="s1">if (this.splices === void 0) {</span><span class="s3">\n            </span><span class="s1">this.splices = [splice];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.splices.push(splice);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.needsQueue) {</span><span class="s3">\n            </span><span class="s1">this.needsQueue = false;</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">reset(oldCollection) {</span><span class="s3">\n        </span><span class="s1">this.oldCollection = oldCollection;</span><span class="s3">\n        </span><span class="s1">if (this.needsQueue) {</span><span class="s3">\n            </span><span class="s1">this.needsQueue = false;</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">flush() {</span><span class="s3">\n        </span><span class="s1">const splices = this.splices;</span><span class="s3">\n        </span><span class="s1">const oldCollection = this.oldCollection;</span><span class="s3">\n        </span><span class="s1">if (splices === void 0 &amp;&amp; oldCollection === void 0) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.needsQueue = true;</span><span class="s3">\n        </span><span class="s1">this.splices = void 0;</span><span class="s3">\n        </span><span class="s1">this.oldCollection = void 0;</span><span class="s3">\n        </span><span class="s1">const finalSplices = oldCollection === void 0</span><span class="s3">\n            </span><span class="s1">? projectArraySplices(this.source, splices)</span><span class="s3">\n            </span><span class="s1">: calcSplices(this.source, 0, this.source.length, oldCollection, 0, oldCollection.length);</span><span class="s3">\n        </span><span class="s1">this.notify(finalSplices);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/* eslint-disable prefer-rest-params */</span><span class="s3">\n</span><span class="s1">/* eslint-disable @typescript-eslint/explicit-function-return-type */</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Enables the array observation mechanism.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Array observation is enabled automatically when using the</span><span class="s3">\n </span><span class="s1">* {@link RepeatDirective}, so calling this API manually is</span><span class="s3">\n </span><span class="s1">* not typically necessary.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function enableArrayObservation() {</span><span class="s3">\n    </span><span class="s1">if (arrayObservationEnabled) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">arrayObservationEnabled = true;</span><span class="s3">\n    </span><span class="s1">Observable.setArrayObserverFactory((collection) =&gt; {</span><span class="s3">\n        </span><span class="s1">return new ArrayObserver(collection);</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">const proto = Array.prototype;</span><span class="s3">\n    </span><span class="s1">// Don't patch Array if it has already been patched</span><span class="s3">\n    </span><span class="s1">// by another copy of fast-element.</span><span class="s3">\n    </span><span class="s1">if (proto.$fastPatch) {</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">Reflect.defineProperty(proto, </span><span class="s3">\&quot;</span><span class="s1">$fastPatch</span><span class="s3">\&quot;</span><span class="s1">, {</span><span class="s3">\n        </span><span class="s1">value: 1,</span><span class="s3">\n        </span><span class="s1">enumerable: false,</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">const pop = proto.pop;</span><span class="s3">\n    </span><span class="s1">const push = proto.push;</span><span class="s3">\n    </span><span class="s1">const reverse = proto.reverse;</span><span class="s3">\n    </span><span class="s1">const shift = proto.shift;</span><span class="s3">\n    </span><span class="s1">const sort = proto.sort;</span><span class="s3">\n    </span><span class="s1">const splice = proto.splice;</span><span class="s3">\n    </span><span class="s1">const unshift = proto.unshift;</span><span class="s3">\n    </span><span class="s1">proto.pop = function () {</span><span class="s3">\n        </span><span class="s1">const notEmpty = this.length &gt; 0;</span><span class="s3">\n        </span><span class="s1">const methodCallResult = pop.apply(this, arguments);</span><span class="s3">\n        </span><span class="s1">const o = this.$fastController;</span><span class="s3">\n        </span><span class="s1">if (o !== void 0 &amp;&amp; notEmpty) {</span><span class="s3">\n            </span><span class="s1">o.addSplice(newSplice(this.length, [methodCallResult], 0));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return methodCallResult;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">proto.push = function () {</span><span class="s3">\n        </span><span class="s1">const methodCallResult = push.apply(this, arguments);</span><span class="s3">\n        </span><span class="s1">const o = this.$fastController;</span><span class="s3">\n        </span><span class="s1">if (o !== void 0) {</span><span class="s3">\n            </span><span class="s1">o.addSplice(adjustIndex(newSplice(this.length - arguments.length, [], arguments.length), this));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return methodCallResult;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">proto.reverse = function () {</span><span class="s3">\n        </span><span class="s1">let oldArray;</span><span class="s3">\n        </span><span class="s1">const o = this.$fastController;</span><span class="s3">\n        </span><span class="s1">if (o !== void 0) {</span><span class="s3">\n            </span><span class="s1">o.flush();</span><span class="s3">\n            </span><span class="s1">oldArray = this.slice();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const methodCallResult = reverse.apply(this, arguments);</span><span class="s3">\n        </span><span class="s1">if (o !== void 0) {</span><span class="s3">\n            </span><span class="s1">o.reset(oldArray);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return methodCallResult;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">proto.shift = function () {</span><span class="s3">\n        </span><span class="s1">const notEmpty = this.length &gt; 0;</span><span class="s3">\n        </span><span class="s1">const methodCallResult = shift.apply(this, arguments);</span><span class="s3">\n        </span><span class="s1">const o = this.$fastController;</span><span class="s3">\n        </span><span class="s1">if (o !== void 0 &amp;&amp; notEmpty) {</span><span class="s3">\n            </span><span class="s1">o.addSplice(newSplice(0, [methodCallResult], 0));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return methodCallResult;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">proto.sort = function () {</span><span class="s3">\n        </span><span class="s1">let oldArray;</span><span class="s3">\n        </span><span class="s1">const o = this.$fastController;</span><span class="s3">\n        </span><span class="s1">if (o !== void 0) {</span><span class="s3">\n            </span><span class="s1">o.flush();</span><span class="s3">\n            </span><span class="s1">oldArray = this.slice();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const methodCallResult = sort.apply(this, arguments);</span><span class="s3">\n        </span><span class="s1">if (o !== void 0) {</span><span class="s3">\n            </span><span class="s1">o.reset(oldArray);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return methodCallResult;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">proto.splice = function () {</span><span class="s3">\n        </span><span class="s1">const methodCallResult = splice.apply(this, arguments);</span><span class="s3">\n        </span><span class="s1">const o = this.$fastController;</span><span class="s3">\n        </span><span class="s1">if (o !== void 0) {</span><span class="s3">\n            </span><span class="s1">o.addSplice(adjustIndex(newSplice(+arguments[0], methodCallResult, arguments.length &gt; 2 ? arguments.length - 2 : 0), this));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return methodCallResult;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">proto.unshift = function () {</span><span class="s3">\n        </span><span class="s1">const methodCallResult = unshift.apply(this, arguments);</span><span class="s3">\n        </span><span class="s1">const o = this.$fastController;</span><span class="s3">\n        </span><span class="s1">if (o !== void 0) {</span><span class="s3">\n            </span><span class="s1">o.addSplice(adjustIndex(newSplice(0, [], arguments.length), this));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return methodCallResult;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/* eslint-enable prefer-rest-params */</span><span class="s3">\n</span><span class="s1">/* eslint-enable @typescript-eslint/explicit-function-return-type */</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { DOM } from </span><span class="s3">\&quot;</span><span class="s1">../dom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Observable, } from </span><span class="s3">\&quot;</span><span class="s1">../observation/observable.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { enableArrayObservation } from </span><span class="s3">\&quot;</span><span class="s1">../observation/array-observer.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { emptyArray } from </span><span class="s3">\&quot;</span><span class="s1">../platform.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { HTMLDirective } from </span><span class="s3">\&quot;</span><span class="s1">./html-directive.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { HTMLView } from </span><span class="s3">\&quot;</span><span class="s1">./view.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const defaultRepeatOptions = Object.freeze({</span><span class="s3">\n    </span><span class="s1">positioning: false,</span><span class="s3">\n    </span><span class="s1">recycle: true,</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">function bindWithoutPositioning(view, items, index, context) {</span><span class="s3">\n    </span><span class="s1">view.bind(items[index], context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function bindWithPositioning(view, items, index, context) {</span><span class="s3">\n    </span><span class="s1">const childContext = Object.create(context);</span><span class="s3">\n    </span><span class="s1">childContext.index = index;</span><span class="s3">\n    </span><span class="s1">childContext.length = items.length;</span><span class="s3">\n    </span><span class="s1">view.bind(items[index], childContext);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A behavior that renders a template for each item in an array.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class RepeatBehavior {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of RepeatBehavior.</span><span class="s3">\n     </span><span class="s1">* @param location - The location in the DOM to render the repeat.</span><span class="s3">\n     </span><span class="s1">* @param itemsBinding - The array to render.</span><span class="s3">\n     </span><span class="s1">* @param isItemsBindingVolatile - Indicates whether the items binding has volatile dependencies.</span><span class="s3">\n     </span><span class="s1">* @param templateBinding - The template to render for each item.</span><span class="s3">\n     </span><span class="s1">* @param isTemplateBindingVolatile - Indicates whether the template binding has volatile dependencies.</span><span class="s3">\n     </span><span class="s1">* @param options - Options used to turn on special repeat features.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(location, itemsBinding, isItemsBindingVolatile, templateBinding, isTemplateBindingVolatile, options) {</span><span class="s3">\n        </span><span class="s1">this.location = location;</span><span class="s3">\n        </span><span class="s1">this.itemsBinding = itemsBinding;</span><span class="s3">\n        </span><span class="s1">this.templateBinding = templateBinding;</span><span class="s3">\n        </span><span class="s1">this.options = options;</span><span class="s3">\n        </span><span class="s1">this.source = null;</span><span class="s3">\n        </span><span class="s1">this.views = [];</span><span class="s3">\n        </span><span class="s1">this.items = null;</span><span class="s3">\n        </span><span class="s1">this.itemsObserver = null;</span><span class="s3">\n        </span><span class="s1">this.originalContext = void 0;</span><span class="s3">\n        </span><span class="s1">this.childContext = void 0;</span><span class="s3">\n        </span><span class="s1">this.bindView = bindWithoutPositioning;</span><span class="s3">\n        </span><span class="s1">this.itemsBindingObserver = Observable.binding(itemsBinding, this, isItemsBindingVolatile);</span><span class="s3">\n        </span><span class="s1">this.templateBindingObserver = Observable.binding(templateBinding, this, isTemplateBindingVolatile);</span><span class="s3">\n        </span><span class="s1">if (options.positioning) {</span><span class="s3">\n            </span><span class="s1">this.bindView = bindWithPositioning;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Bind this behavior to the source.</span><span class="s3">\n     </span><span class="s1">* @param source - The source to bind to.</span><span class="s3">\n     </span><span class="s1">* @param context - The execution context that the binding is operating within.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bind(source, context) {</span><span class="s3">\n        </span><span class="s1">this.source = source;</span><span class="s3">\n        </span><span class="s1">this.originalContext = context;</span><span class="s3">\n        </span><span class="s1">this.childContext = Object.create(context);</span><span class="s3">\n        </span><span class="s1">this.childContext.parent = source;</span><span class="s3">\n        </span><span class="s1">this.childContext.parentContext = this.originalContext;</span><span class="s3">\n        </span><span class="s1">this.items = this.itemsBindingObserver.observe(source, this.originalContext);</span><span class="s3">\n        </span><span class="s1">this.template = this.templateBindingObserver.observe(source, this.originalContext);</span><span class="s3">\n        </span><span class="s1">this.observeItems(true);</span><span class="s3">\n        </span><span class="s1">this.refreshAllViews();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Unbinds this behavior from the source.</span><span class="s3">\n     </span><span class="s1">* @param source - The source to unbind from.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">unbind() {</span><span class="s3">\n        </span><span class="s1">this.source = null;</span><span class="s3">\n        </span><span class="s1">this.items = null;</span><span class="s3">\n        </span><span class="s1">if (this.itemsObserver !== null) {</span><span class="s3">\n            </span><span class="s1">this.itemsObserver.unsubscribe(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.unbindAllViews();</span><span class="s3">\n        </span><span class="s1">this.itemsBindingObserver.disconnect();</span><span class="s3">\n        </span><span class="s1">this.templateBindingObserver.disconnect();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** @internal */</span><span class="s3">\n    </span><span class="s1">handleChange(source, args) {</span><span class="s3">\n        </span><span class="s1">if (source === this.itemsBinding) {</span><span class="s3">\n            </span><span class="s1">this.items = this.itemsBindingObserver.observe(this.source, this.originalContext);</span><span class="s3">\n            </span><span class="s1">this.observeItems();</span><span class="s3">\n            </span><span class="s1">this.refreshAllViews();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else if (source === this.templateBinding) {</span><span class="s3">\n            </span><span class="s1">this.template = this.templateBindingObserver.observe(this.source, this.originalContext);</span><span class="s3">\n            </span><span class="s1">this.refreshAllViews(true);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.updateViews(args);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">observeItems(force = false) {</span><span class="s3">\n        </span><span class="s1">if (!this.items) {</span><span class="s3">\n            </span><span class="s1">this.items = emptyArray;</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const oldObserver = this.itemsObserver;</span><span class="s3">\n        </span><span class="s1">const newObserver = (this.itemsObserver = Observable.getNotifier(this.items));</span><span class="s3">\n        </span><span class="s1">const hasNewObserver = oldObserver !== newObserver;</span><span class="s3">\n        </span><span class="s1">if (hasNewObserver &amp;&amp; oldObserver !== null) {</span><span class="s3">\n            </span><span class="s1">oldObserver.unsubscribe(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (hasNewObserver || force) {</span><span class="s3">\n            </span><span class="s1">newObserver.subscribe(this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateViews(splices) {</span><span class="s3">\n        </span><span class="s1">const childContext = this.childContext;</span><span class="s3">\n        </span><span class="s1">const views = this.views;</span><span class="s3">\n        </span><span class="s1">const bindView = this.bindView;</span><span class="s3">\n        </span><span class="s1">const items = this.items;</span><span class="s3">\n        </span><span class="s1">const template = this.template;</span><span class="s3">\n        </span><span class="s1">const recycle = this.options.recycle;</span><span class="s3">\n        </span><span class="s1">const leftoverViews = [];</span><span class="s3">\n        </span><span class="s1">let leftoverIndex = 0;</span><span class="s3">\n        </span><span class="s1">let availableViews = 0;</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = splices.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">const splice = splices[i];</span><span class="s3">\n            </span><span class="s1">const removed = splice.removed;</span><span class="s3">\n            </span><span class="s1">let removeIndex = 0;</span><span class="s3">\n            </span><span class="s1">let addIndex = splice.index;</span><span class="s3">\n            </span><span class="s1">const end = addIndex + splice.addedCount;</span><span class="s3">\n            </span><span class="s1">const removedViews = views.splice(splice.index, removed.length);</span><span class="s3">\n            </span><span class="s1">const totalAvailableViews = (availableViews =</span><span class="s3">\n                </span><span class="s1">leftoverViews.length + removedViews.length);</span><span class="s3">\n            </span><span class="s1">for (; addIndex &lt; end; ++addIndex) {</span><span class="s3">\n                </span><span class="s1">const neighbor = views[addIndex];</span><span class="s3">\n                </span><span class="s1">const location = neighbor ? neighbor.firstChild : this.location;</span><span class="s3">\n                </span><span class="s1">let view;</span><span class="s3">\n                </span><span class="s1">if (recycle &amp;&amp; availableViews &gt; 0) {</span><span class="s3">\n                    </span><span class="s1">if (removeIndex &lt;= totalAvailableViews &amp;&amp; removedViews.length &gt; 0) {</span><span class="s3">\n                        </span><span class="s1">view = removedViews[removeIndex];</span><span class="s3">\n                        </span><span class="s1">removeIndex++;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">view = leftoverViews[leftoverIndex];</span><span class="s3">\n                        </span><span class="s1">leftoverIndex++;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">availableViews--;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">view = template.create();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">views.splice(addIndex, 0, view);</span><span class="s3">\n                </span><span class="s1">bindView(view, items, addIndex, childContext);</span><span class="s3">\n                </span><span class="s1">view.insertBefore(location);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (removedViews[removeIndex]) {</span><span class="s3">\n                </span><span class="s1">leftoverViews.push(...removedViews.slice(removeIndex));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">for (let i = leftoverIndex, ii = leftoverViews.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">leftoverViews[i].dispose();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.options.positioning) {</span><span class="s3">\n            </span><span class="s1">for (let i = 0, ii = views.length; i &lt; ii; ++i) {</span><span class="s3">\n                </span><span class="s1">const currentContext = views[i].context;</span><span class="s3">\n                </span><span class="s1">currentContext.length = ii;</span><span class="s3">\n                </span><span class="s1">currentContext.index = i;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">refreshAllViews(templateChanged = false) {</span><span class="s3">\n        </span><span class="s1">const items = this.items;</span><span class="s3">\n        </span><span class="s1">const childContext = this.childContext;</span><span class="s3">\n        </span><span class="s1">const template = this.template;</span><span class="s3">\n        </span><span class="s1">const location = this.location;</span><span class="s3">\n        </span><span class="s1">const bindView = this.bindView;</span><span class="s3">\n        </span><span class="s1">let itemsLength = items.length;</span><span class="s3">\n        </span><span class="s1">let views = this.views;</span><span class="s3">\n        </span><span class="s1">let viewsLength = views.length;</span><span class="s3">\n        </span><span class="s1">if (itemsLength === 0 || templateChanged || !this.options.recycle) {</span><span class="s3">\n            </span><span class="s1">// all views need to be removed</span><span class="s3">\n            </span><span class="s1">HTMLView.disposeContiguousBatch(views);</span><span class="s3">\n            </span><span class="s1">viewsLength = 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (viewsLength === 0) {</span><span class="s3">\n            </span><span class="s1">// all views need to be created</span><span class="s3">\n            </span><span class="s1">this.views = views = new Array(itemsLength);</span><span class="s3">\n            </span><span class="s1">for (let i = 0; i &lt; itemsLength; ++i) {</span><span class="s3">\n                </span><span class="s1">const view = template.create();</span><span class="s3">\n                </span><span class="s1">bindView(view, items, i, childContext);</span><span class="s3">\n                </span><span class="s1">views[i] = view;</span><span class="s3">\n                </span><span class="s1">view.insertBefore(location);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">// attempt to reuse existing views with new data</span><span class="s3">\n            </span><span class="s1">let i = 0;</span><span class="s3">\n            </span><span class="s1">for (; i &lt; itemsLength; ++i) {</span><span class="s3">\n                </span><span class="s1">if (i &lt; viewsLength) {</span><span class="s3">\n                    </span><span class="s1">const view = views[i];</span><span class="s3">\n                    </span><span class="s1">bindView(view, items, i, childContext);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">const view = template.create();</span><span class="s3">\n                    </span><span class="s1">bindView(view, items, i, childContext);</span><span class="s3">\n                    </span><span class="s1">views.push(view);</span><span class="s3">\n                    </span><span class="s1">view.insertBefore(location);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const removed = views.splice(i, viewsLength - i);</span><span class="s3">\n            </span><span class="s1">for (i = 0, itemsLength = removed.length; i &lt; itemsLength; ++i) {</span><span class="s3">\n                </span><span class="s1">removed[i].dispose();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">unbindAllViews() {</span><span class="s3">\n        </span><span class="s1">const views = this.views;</span><span class="s3">\n        </span><span class="s1">for (let i = 0, ii = views.length; i &lt; ii; ++i) {</span><span class="s3">\n            </span><span class="s1">views[i].unbind();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A directive that configures list rendering.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class RepeatDirective extends HTMLDirective {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of RepeatDirective.</span><span class="s3">\n     </span><span class="s1">* @param itemsBinding - The binding that provides the array to render.</span><span class="s3">\n     </span><span class="s1">* @param templateBinding - The template binding used to obtain a template to render for each item in the array.</span><span class="s3">\n     </span><span class="s1">* @param options - Options used to turn on special repeat features.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(itemsBinding, templateBinding, options) {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">this.itemsBinding = itemsBinding;</span><span class="s3">\n        </span><span class="s1">this.templateBinding = templateBinding;</span><span class="s3">\n        </span><span class="s1">this.options = options;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Creates a placeholder string based on the directive's index within the template.</span><span class="s3">\n         </span><span class="s1">* @param index - The index of the directive within the template.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.createPlaceholder = DOM.createBlockPlaceholder;</span><span class="s3">\n        </span><span class="s1">enableArrayObservation();</span><span class="s3">\n        </span><span class="s1">this.isItemsBindingVolatile = Observable.isVolatileBinding(itemsBinding);</span><span class="s3">\n        </span><span class="s1">this.isTemplateBindingVolatile = Observable.isVolatileBinding(templateBinding);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates a behavior for the provided target node.</span><span class="s3">\n     </span><span class="s1">* @param target - The node instance to create the behavior for.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">createBehavior(target) {</span><span class="s3">\n        </span><span class="s1">return new RepeatBehavior(target, this.itemsBinding, this.isItemsBindingVolatile, this.templateBinding, this.isTemplateBindingVolatile, this.options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A directive that enables list rendering.</span><span class="s3">\n </span><span class="s1">* @param itemsBinding - The array to render.</span><span class="s3">\n </span><span class="s1">* @param templateOrTemplateBinding - The template or a template binding used obtain a template</span><span class="s3">\n </span><span class="s1">* to render for each item in the array.</span><span class="s3">\n </span><span class="s1">* @param options - Options used to turn on special repeat features.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function repeat(itemsBinding, templateOrTemplateBinding, options = defaultRepeatOptions) {</span><span class="s3">\n    </span><span class="s1">const templateBinding = typeof templateOrTemplateBinding === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;\n        </span><span class="s1">? templateOrTemplateBinding</span><span class="s3">\n        </span><span class="s1">: () =&gt; templateOrTemplateBinding;</span><span class="s3">\n    </span><span class="s1">return new RepeatDirective(itemsBinding, templateBinding, Object.assign(Object.assign({}, defaultRepeatOptions), options));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable, RepeatDirective, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { eventFocusOut, eventKeyDown, keyArrowLeft, keyArrowRight, keyEnd, keyHome, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DataGridRowTypes } from </span><span class="s3">\&quot;</span><span class="s1">./data-grid.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Data Grid Row Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @fires row-focused - Fires a custom 'row-focused' event when focus is on an element (usually a cell or its contents) in the row</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for custom cell elements</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DataGridRow extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The type of row</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: row-type</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.rowType = DataGridRowTypes.default;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The base data for this row</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.rowData = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The column definitions of the row</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.columnDefinitions = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether focus is on/in a cell within this row.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isActiveRow = false;</span><span class="s3">\n        </span><span class="s1">this.cellsRepeatBehavior = null;</span><span class="s3">\n        </span><span class="s1">this.cellsPlaceholder = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.focusColumnIndex = 0;</span><span class="s3">\n        </span><span class="s1">this.refocusOnLoad = false;</span><span class="s3">\n        </span><span class="s1">this.updateRowStyle = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.style.gridTemplateColumns = this.gridTemplateColumns;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">gridTemplateColumnsChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateRowStyle();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">rowTypeChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateItemTemplate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">rowDataChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.rowData !== null &amp;&amp; this.isActiveRow) {</span><span class="s3">\n            </span><span class="s1">this.refocusOnLoad = true;</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">cellItemTemplateChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateItemTemplate();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">headerCellItemTemplateChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateItemTemplate();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">// note that row elements can be reused with a different data object</span><span class="s3">\n        </span><span class="s1">// as the parent grid's repeat behavior reacts to changes in the data set.</span><span class="s3">\n        </span><span class="s1">if (this.cellsRepeatBehavior === null) {</span><span class="s3">\n            </span><span class="s1">this.cellsPlaceholder = document.createComment(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.appendChild(this.cellsPlaceholder);</span><span class="s3">\n            </span><span class="s1">this.updateItemTemplate();</span><span class="s3">\n            </span><span class="s1">this.cellsRepeatBehavior = new RepeatDirective(x =&gt; x.columnDefinitions, x =&gt; x.activeCellItemTemplate, { positioning: true }).createBehavior(this.cellsPlaceholder);</span><span class="s3">\n            </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n            </span><span class="s1">this.$fastController.addBehaviors([this.cellsRepeatBehavior]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">cell-focused</span><span class="s3">\&quot;</span><span class="s1">, this.handleCellFocus);</span><span class="s3">\n        </span><span class="s1">this.addEventListener(eventFocusOut, this.handleFocusout);</span><span class="s3">\n        </span><span class="s1">this.addEventListener(eventKeyDown, this.handleKeydown);</span><span class="s3">\n        </span><span class="s1">this.updateRowStyle();</span><span class="s3">\n        </span><span class="s1">if (this.refocusOnLoad) {</span><span class="s3">\n            </span><span class="s1">// if focus was on the row when data changed try to refocus on same cell</span><span class="s3">\n            </span><span class="s1">this.refocusOnLoad = false;</span><span class="s3">\n            </span><span class="s1">if (this.cellElements.length &gt; this.focusColumnIndex) {</span><span class="s3">\n                </span><span class="s1">this.cellElements[this.focusColumnIndex].focus();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">cell-focused</span><span class="s3">\&quot;</span><span class="s1">, this.handleCellFocus);</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(eventFocusOut, this.handleFocusout);</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(eventKeyDown, this.handleKeydown);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleFocusout(e) {</span><span class="s3">\n        </span><span class="s1">if (!this.contains(e.target)) {</span><span class="s3">\n            </span><span class="s1">this.isActiveRow = false;</span><span class="s3">\n            </span><span class="s1">this.focusColumnIndex = 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleCellFocus(e) {</span><span class="s3">\n        </span><span class="s1">this.isActiveRow = true;</span><span class="s3">\n        </span><span class="s1">this.focusColumnIndex = this.cellElements.indexOf(e.target);</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">row-focused</span><span class="s3">\&quot;</span><span class="s1">, this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleKeydown(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let newFocusColumnIndex = 0;</span><span class="s3">\n        </span><span class="s1">switch (e.key) {</span><span class="s3">\n            </span><span class="s1">case keyArrowLeft:</span><span class="s3">\n                </span><span class="s1">// focus left one cell</span><span class="s3">\n                </span><span class="s1">newFocusColumnIndex = Math.max(0, this.focusColumnIndex - 1);</span><span class="s3">\n                </span><span class="s1">this.cellElements[newFocusColumnIndex].focus();</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case keyArrowRight:</span><span class="s3">\n                </span><span class="s1">// focus right one cell</span><span class="s3">\n                </span><span class="s1">newFocusColumnIndex = Math.min(this.cellElements.length - 1, this.focusColumnIndex + 1);</span><span class="s3">\n                </span><span class="s1">this.cellElements[newFocusColumnIndex].focus();</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case keyHome:</span><span class="s3">\n                </span><span class="s1">if (!e.ctrlKey) {</span><span class="s3">\n                    </span><span class="s1">this.cellElements[0].focus();</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case keyEnd:</span><span class="s3">\n                </span><span class="s1">if (!e.ctrlKey) {</span><span class="s3">\n                    </span><span class="s1">// focus last cell of the row</span><span class="s3">\n                    </span><span class="s1">this.cellElements[this.cellElements.length - 1].focus();</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateItemTemplate() {</span><span class="s3">\n        </span><span class="s1">this.activeCellItemTemplate =</span><span class="s3">\n            </span><span class="s1">this.rowType === DataGridRowTypes.default &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.cellItemTemplate !== undefined</span><span class="s3">\n                </span><span class="s1">? this.cellItemTemplate</span><span class="s3">\n                </span><span class="s1">: this.rowType === DataGridRowTypes.default &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">this.cellItemTemplate === undefined</span><span class="s3">\n                    </span><span class="s1">? this.defaultCellItemTemplate</span><span class="s3">\n                    </span><span class="s1">: this.headerCellItemTemplate !== undefined</span><span class="s3">\n                        </span><span class="s1">? this.headerCellItemTemplate</span><span class="s3">\n                        </span><span class="s1">: this.defaultHeaderCellItemTemplate;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">grid-template-columns</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">gridTemplateColumns</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">row-type</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">rowType</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">rowData</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">columnDefinitions</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">cellItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">headerCellItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">rowIndex</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">isActiveRow</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">activeCellItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultCellItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultHeaderCellItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGridRow.prototype, </span><span class="s3">\&quot;</span><span class="s1">cellElements</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { AttachedBehaviorHTMLDirective } from </span><span class="s3">\&quot;</span><span class="s1">./html-directive.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { NodeObservationBehavior } from </span><span class="s3">\&quot;</span><span class="s1">./node-observation.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The runtime behavior for child node observation.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class ChildrenBehavior extends NodeObservationBehavior {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Creates an instance of ChildrenBehavior.</span><span class="s3">\n     </span><span class="s1">* @param target - The element target to observe children on.</span><span class="s3">\n     </span><span class="s1">* @param options - The options to use when observing the element children.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">constructor(target, options) {</span><span class="s3">\n        </span><span class="s1">super(target, options);</span><span class="s3">\n        </span><span class="s1">this.observer = null;</span><span class="s3">\n        </span><span class="s1">options.childList = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Begins observation of the nodes.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">observe() {</span><span class="s3">\n        </span><span class="s1">if (this.observer === null) {</span><span class="s3">\n            </span><span class="s1">this.observer = new MutationObserver(this.handleEvent.bind(this));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.observer.observe(this.target, this.options);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Disconnects observation of the nodes.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnect() {</span><span class="s3">\n        </span><span class="s1">this.observer.disconnect();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Retrieves the nodes that should be assigned to the target.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getNodes() {</span><span class="s3">\n        </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">subtree</span><span class="s3">\&quot; </span><span class="s1">in this.options) {</span><span class="s3">\n            </span><span class="s1">return Array.from(this.target.querySelectorAll(this.options.selector));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return Array.from(this.target.childNodes);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A directive that observes the `childNodes` of an element and updates a property</span><span class="s3">\n </span><span class="s1">* whenever they change.</span><span class="s3">\n </span><span class="s1">* @param propertyOrOptions - The options used to configure child node observation.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function children(propertyOrOptions) {</span><span class="s3">\n    </span><span class="s1">if (typeof propertyOrOptions === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">propertyOrOptions = {</span><span class="s3">\n            </span><span class="s1">property: propertyOrOptions,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return new AttachedBehaviorHTMLDirective(</span><span class="s3">\&quot;</span><span class="s1">fast-children</span><span class="s3">\&quot;</span><span class="s1">, ChildrenBehavior, propertyOrOptions);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { children, elements, html, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DataGridCell } from </span><span class="s3">\&quot;</span><span class="s1">./data-grid-cell.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function createCellItemTemplate(context) {</span><span class="s3">\n    </span><span class="s1">const cellTag = context.tagFor(DataGridCell);</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n    </span><span class="s1">&lt;${cellTag}</span><span class="s3">\n        </span><span class="s1">cell-type=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.isRowHeader ? </span><span class="s3">\&quot;</span><span class="s1">rowheader</span><span class="s3">\&quot; </span><span class="s1">: undefined)}</span><span class="s3">\&quot;\n        </span><span class="s1">grid-column=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; c.index + 1}</span><span class="s3">\&quot;\n        </span><span class="s1">:rowData=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; c.parent.rowData}</span><span class="s3">\&quot;\n        </span><span class="s1">:columnDefinition=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;&lt;/${cellTag}&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function createHeaderCellItemTemplate(context) {</span><span class="s3">\n    </span><span class="s1">const cellTag = context.tagFor(DataGridCell);</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n    </span><span class="s1">&lt;${cellTag}</span><span class="s3">\n        </span><span class="s1">cell-type=</span><span class="s3">\&quot;</span><span class="s1">columnheader</span><span class="s3">\&quot;\n        </span><span class="s1">grid-column=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; c.index + 1}</span><span class="s3">\&quot;\n        </span><span class="s1">:columnDefinition=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;&lt;/${cellTag}&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Generates a template for the {@link @microsoft/fast-foundation#DataGridRow} component using</span><span class="s3">\n </span><span class="s1">* the provided prefix.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dataGridRowTemplate = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">const cellItemTemplate = createCellItemTemplate(context);</span><span class="s3">\n    </span><span class="s1">const headerCellItemTemplate = createHeaderCellItemTemplate(context);</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n        </span><span class="s1">&lt;template</span><span class="s3">\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">row</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.rowType !== </span><span class="s3">\&quot;</span><span class="s1">default</span><span class="s3">\&quot; </span><span class="s1">? x.rowType : </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;\n            </span><span class="s1">:defaultCellItemTemplate=</span><span class="s3">\&quot;</span><span class="s1">${cellItemTemplate}</span><span class="s3">\&quot;\n            </span><span class="s1">:defaultHeaderCellItemTemplate=</span><span class="s3">\&quot;</span><span class="s1">${headerCellItemTemplate}</span><span class="s3">\&quot;\n            </span><span class="s1">${children({</span><span class="s3">\n        </span><span class="s1">property: </span><span class="s3">\&quot;</span><span class="s1">cellElements</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">filter: elements('[role=</span><span class="s3">\&quot;</span><span class="s1">cell</span><span class="s3">\&quot;</span><span class="s1">],[role=</span><span class="s3">\&quot;</span><span class="s1">gridcell</span><span class="s3">\&quot;</span><span class="s1">],[role=</span><span class="s3">\&quot;</span><span class="s1">columnheader</span><span class="s3">\&quot;</span><span class="s1">],[role=</span><span class="s3">\&quot;</span><span class="s1">rowheader</span><span class="s3">\&quot;</span><span class="s1">]'),</span><span class="s3">\n    </span><span class="s1">})}</span><span class="s3">\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot ${slotted(</span><span class="s3">\&quot;</span><span class="s1">slottedCellElements</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, observable, RepeatDirective, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { eventFocus, eventFocusOut, eventKeyDown, keyArrowDown, keyArrowUp, keyEnd, keyHome, keyPageDown, keyPageUp, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DataGridRowTypes, GenerateHeaderOptions } from </span><span class="s3">\&quot;</span><span class="s1">./data-grid.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export { DataGridRowTypes, GenerateHeaderOptions };</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Data Grid Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for custom row elements</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DataGrid extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* When true the component will not add itself to the tab queue.</span><span class="s3">\n         </span><span class="s1">* Default is false.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: no-tabbing</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.noTabbing = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Whether the grid should automatically generate a header row and its type</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: generate-header</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.generateHeader = GenerateHeaderOptions.default;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The data being displayed in the grid</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.rowsData = [];</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The column definitions of the grid</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.columnDefinitions = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The index of the row that will receive focus the next time the</span><span class="s3">\n         </span><span class="s1">* grid is focused. This value changes as focus moves to different</span><span class="s3">\n         </span><span class="s1">* rows within the grid.  Changing this value when focus is already</span><span class="s3">\n         </span><span class="s1">* within the grid moves focus to the specified row.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.focusRowIndex = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The index of the column that will receive focus the next time the</span><span class="s3">\n         </span><span class="s1">* grid is focused. This value changes as focus moves to different rows</span><span class="s3">\n         </span><span class="s1">* within the grid.  Changing this value when focus is already within</span><span class="s3">\n         </span><span class="s1">* the grid moves focus to the specified column.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.focusColumnIndex = 0;</span><span class="s3">\n        </span><span class="s1">this.rowsPlaceholder = null;</span><span class="s3">\n        </span><span class="s1">this.generatedHeader = null;</span><span class="s3">\n        </span><span class="s1">this.isUpdatingFocus = false;</span><span class="s3">\n        </span><span class="s1">this.pendingFocusUpdate = false;</span><span class="s3">\n        </span><span class="s1">this.rowindexUpdateQueued = false;</span><span class="s3">\n        </span><span class="s1">this.columnDefinitionsStale = true;</span><span class="s3">\n        </span><span class="s1">this.generatedGridTemplateColumns = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.focusOnCell = (rowIndex, columnIndex, scrollIntoView) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.rowElements.length === 0) {</span><span class="s3">\n                </span><span class="s1">this.focusRowIndex = 0;</span><span class="s3">\n                </span><span class="s1">this.focusColumnIndex = 0;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const focusRowIndex = Math.max(0, Math.min(this.rowElements.length - 1, rowIndex));</span><span class="s3">\n            </span><span class="s1">const focusRow = this.rowElements[focusRowIndex];</span><span class="s3">\n            </span><span class="s1">const cells = focusRow.querySelectorAll('[role=</span><span class="s3">\&quot;</span><span class="s1">cell</span><span class="s3">\&quot;</span><span class="s1">], [role=</span><span class="s3">\&quot;</span><span class="s1">gridcell</span><span class="s3">\&quot;</span><span class="s1">], [role=</span><span class="s3">\&quot;</span><span class="s1">columnheader</span><span class="s3">\&quot;</span><span class="s1">], [role=</span><span class="s3">\&quot;</span><span class="s1">rowheader</span><span class="s3">\&quot;</span><span class="s1">]');</span><span class="s3">\n            </span><span class="s1">const focusColumnIndex = Math.max(0, Math.min(cells.length - 1, columnIndex));</span><span class="s3">\n            </span><span class="s1">const focusTarget = cells[focusColumnIndex];</span><span class="s3">\n            </span><span class="s1">if (scrollIntoView &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.scrollHeight !== this.clientHeight &amp;&amp;</span><span class="s3">\n                </span><span class="s1">((focusRowIndex &lt; this.focusRowIndex &amp;&amp; this.scrollTop &gt; 0) ||</span><span class="s3">\n                    </span><span class="s1">(focusRowIndex &gt; this.focusRowIndex &amp;&amp;</span><span class="s3">\n                        </span><span class="s1">this.scrollTop &lt; this.scrollHeight - this.clientHeight))) {</span><span class="s3">\n                </span><span class="s1">focusTarget.scrollIntoView({ block: </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">, inline: </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">focusTarget.focus();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.onChildListChange = (mutations, </span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-unused-vars */</span><span class="s3">\n        </span><span class="s1">observer) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (mutations &amp;&amp; mutations.length) {</span><span class="s3">\n                </span><span class="s1">mutations.forEach((mutation) =&gt; {</span><span class="s3">\n                    </span><span class="s1">mutation.addedNodes.forEach((newNode) =&gt; {</span><span class="s3">\n                        </span><span class="s1">if (newNode.nodeType === 1 &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">newNode.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">row</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                            </span><span class="s1">newNode.columnDefinitions = this.columnDefinitions;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">this.queueRowIndexUpdate();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.queueRowIndexUpdate = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.rowindexUpdateQueued) {</span><span class="s3">\n                </span><span class="s1">this.rowindexUpdateQueued = true;</span><span class="s3">\n                </span><span class="s1">DOM.queueUpdate(this.updateRowIndexes);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.updateRowIndexes = () =&gt; {</span><span class="s3">\n            </span><span class="s1">let newGridTemplateColumns = this.gridTemplateColumns;</span><span class="s3">\n            </span><span class="s1">if (newGridTemplateColumns === undefined) {</span><span class="s3">\n                </span><span class="s1">// try to generate columns based on manual rows</span><span class="s3">\n                </span><span class="s1">if (this.generatedGridTemplateColumns === </span><span class="s3">\&quot;\&quot; </span><span class="s1">&amp;&amp; this.rowElements.length &gt; 0) {</span><span class="s3">\n                    </span><span class="s1">const firstRow = this.rowElements[0];</span><span class="s3">\n                    </span><span class="s1">this.generatedGridTemplateColumns = new Array(firstRow.cellElements.length)</span><span class="s3">\n                        </span><span class="s1">.fill(</span><span class="s3">\&quot;</span><span class="s1">1fr</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n                        </span><span class="s1">.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">newGridTemplateColumns = this.generatedGridTemplateColumns;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.rowElements.forEach((element, index) =&gt; {</span><span class="s3">\n                </span><span class="s1">const thisRow = element;</span><span class="s3">\n                </span><span class="s1">thisRow.rowIndex = index;</span><span class="s3">\n                </span><span class="s1">thisRow.gridTemplateColumns = newGridTemplateColumns;</span><span class="s3">\n                </span><span class="s1">if (this.columnDefinitionsStale) {</span><span class="s3">\n                    </span><span class="s1">thisRow.columnDefinitions = this.columnDefinitions;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">this.rowindexUpdateQueued = false;</span><span class="s3">\n            </span><span class="s1">this.columnDefinitionsStale = false;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">*  generates a gridTemplateColumns based on columndata array</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static generateTemplateColumns(columnDefinitions) {</span><span class="s3">\n        </span><span class="s1">let templateColumns = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">columnDefinitions.forEach((column) =&gt; {</span><span class="s3">\n            </span><span class="s1">templateColumns = `${templateColumns}${templateColumns === </span><span class="s3">\&quot;\&quot; </span><span class="s1">? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: </span><span class="s3">\&quot; \&quot;</span><span class="s1">}${</span><span class="s3">\&quot;</span><span class="s1">1fr</span><span class="s3">\&quot;</span><span class="s1">}`;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">return templateColumns;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">noTabbingChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">if (this.noTabbing) {</span><span class="s3">\n                </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabIndex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabIndex</span><span class="s3">\&quot;</span><span class="s1">, this.contains(document.activeElement) ||</span><span class="s3">\n                    </span><span class="s1">this === document.activeElement</span><span class="s3">\n                    </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;\n                    </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">generateHeaderChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.toggleGeneratedHeader();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">gridTemplateColumnsChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateRowIndexes();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">rowsDataChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.columnDefinitions === null &amp;&amp; this.rowsData.length &gt; 0) {</span><span class="s3">\n            </span><span class="s1">this.columnDefinitions = DataGrid.generateColumns(this.rowsData[0]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.toggleGeneratedHeader();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">columnDefinitionsChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.columnDefinitions === null) {</span><span class="s3">\n            </span><span class="s1">this.generatedGridTemplateColumns = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.generatedGridTemplateColumns = DataGrid.generateTemplateColumns(this.columnDefinitions);</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.columnDefinitionsStale = true;</span><span class="s3">\n            </span><span class="s1">this.queueRowIndexUpdate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">headerCellItemTemplateChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">if (this.generatedHeader !== null) {</span><span class="s3">\n                </span><span class="s1">this.generatedHeader.headerCellItemTemplate = this.headerCellItemTemplate;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">focusRowIndexChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.queueFocusUpdate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">focusColumnIndexChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.queueFocusUpdate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">if (this.rowItemTemplate === undefined) {</span><span class="s3">\n            </span><span class="s1">this.rowItemTemplate = this.defaultRowItemTemplate;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.rowsPlaceholder = document.createComment(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.appendChild(this.rowsPlaceholder);</span><span class="s3">\n        </span><span class="s1">this.toggleGeneratedHeader();</span><span class="s3">\n        </span><span class="s1">this.rowsRepeatBehavior = new RepeatDirective(x =&gt; x.rowsData, x =&gt; x.rowItemTemplate, { positioning: true }).createBehavior(this.rowsPlaceholder);</span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n        </span><span class="s1">this.$fastController.addBehaviors([this.rowsRepeatBehavior]);</span><span class="s3">\n        </span><span class="s1">this.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">row-focused</span><span class="s3">\&quot;</span><span class="s1">, this.handleRowFocus);</span><span class="s3">\n        </span><span class="s1">this.addEventListener(eventFocus, this.handleFocus);</span><span class="s3">\n        </span><span class="s1">this.addEventListener(eventKeyDown, this.handleKeydown);</span><span class="s3">\n        </span><span class="s1">this.addEventListener(eventFocusOut, this.handleFocusOut);</span><span class="s3">\n        </span><span class="s1">this.observer = new MutationObserver(this.onChildListChange);</span><span class="s3">\n        </span><span class="s1">// only observe if nodes are added or removed</span><span class="s3">\n        </span><span class="s1">this.observer.observe(this, { childList: true });</span><span class="s3">\n        </span><span class="s1">if (this.noTabbing) {</span><span class="s3">\n            </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(this.queueRowIndexUpdate);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">row-focused</span><span class="s3">\&quot;</span><span class="s1">, this.handleRowFocus);</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(eventFocus, this.handleFocus);</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(eventKeyDown, this.handleKeydown);</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(eventFocusOut, this.handleFocusOut);</span><span class="s3">\n        </span><span class="s1">// disconnect observer</span><span class="s3">\n        </span><span class="s1">this.observer.disconnect();</span><span class="s3">\n        </span><span class="s1">this.rowsPlaceholder = null;</span><span class="s3">\n        </span><span class="s1">this.generatedHeader = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleRowFocus(e) {</span><span class="s3">\n        </span><span class="s1">this.isUpdatingFocus = true;</span><span class="s3">\n        </span><span class="s1">const focusRow = e.target;</span><span class="s3">\n        </span><span class="s1">this.focusRowIndex = this.rowElements.indexOf(focusRow);</span><span class="s3">\n        </span><span class="s1">this.focusColumnIndex = focusRow.focusColumnIndex;</span><span class="s3">\n        </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabIndex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.isUpdatingFocus = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleFocus(e) {</span><span class="s3">\n        </span><span class="s1">this.focusOnCell(this.focusRowIndex, this.focusColumnIndex, true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleFocusOut(e) {</span><span class="s3">\n        </span><span class="s1">if (e.relatedTarget === null || !this.contains(e.relatedTarget)) {</span><span class="s3">\n            </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabIndex</span><span class="s3">\&quot;</span><span class="s1">, this.noTabbing ? </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleKeydown(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let newFocusRowIndex;</span><span class="s3">\n        </span><span class="s1">const maxIndex = this.rowElements.length - 1;</span><span class="s3">\n        </span><span class="s1">const currentGridBottom = this.offsetHeight + this.scrollTop;</span><span class="s3">\n        </span><span class="s1">const lastRow = this.rowElements[maxIndex];</span><span class="s3">\n        </span><span class="s1">switch (e.key) {</span><span class="s3">\n            </span><span class="s1">case keyArrowUp:</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">// focus up one row</span><span class="s3">\n                </span><span class="s1">this.focusOnCell(this.focusRowIndex - 1, this.focusColumnIndex, true);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case keyArrowDown:</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">// focus down one row</span><span class="s3">\n                </span><span class="s1">this.focusOnCell(this.focusRowIndex + 1, this.focusColumnIndex, true);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case keyPageUp:</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">if (this.rowElements.length === 0) {</span><span class="s3">\n                    </span><span class="s1">this.focusOnCell(0, 0, false);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (this.focusRowIndex === 0) {</span><span class="s3">\n                    </span><span class="s1">this.focusOnCell(0, this.focusColumnIndex, false);</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">newFocusRowIndex = this.focusRowIndex - 1;</span><span class="s3">\n                </span><span class="s1">for (newFocusRowIndex; newFocusRowIndex &gt;= 0; newFocusRowIndex--) {</span><span class="s3">\n                    </span><span class="s1">const thisRow = this.rowElements[newFocusRowIndex];</span><span class="s3">\n                    </span><span class="s1">if (thisRow.offsetTop &lt; this.scrollTop) {</span><span class="s3">\n                        </span><span class="s1">this.scrollTop =</span><span class="s3">\n                            </span><span class="s1">thisRow.offsetTop + thisRow.clientHeight - this.clientHeight;</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.focusOnCell(newFocusRowIndex, this.focusColumnIndex, false);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case keyPageDown:</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">if (this.rowElements.length === 0) {</span><span class="s3">\n                    </span><span class="s1">this.focusOnCell(0, 0, false);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">// focus down one </span><span class="s3">\&quot;</span><span class="s1">page</span><span class="s3">\&quot;\n                </span><span class="s1">if (this.focusRowIndex &gt;= maxIndex ||</span><span class="s3">\n                    </span><span class="s1">lastRow.offsetTop + lastRow.offsetHeight &lt;= currentGridBottom) {</span><span class="s3">\n                    </span><span class="s1">this.focusOnCell(maxIndex, this.focusColumnIndex, false);</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">newFocusRowIndex = this.focusRowIndex + 1;</span><span class="s3">\n                </span><span class="s1">for (newFocusRowIndex; newFocusRowIndex &lt;= maxIndex; newFocusRowIndex++) {</span><span class="s3">\n                    </span><span class="s1">const thisRow = this.rowElements[newFocusRowIndex];</span><span class="s3">\n                    </span><span class="s1">if (thisRow.offsetTop + thisRow.offsetHeight &gt; currentGridBottom) {</span><span class="s3">\n                        </span><span class="s1">let stickyHeaderOffset = 0;</span><span class="s3">\n                        </span><span class="s1">if (this.generateHeader === GenerateHeaderOptions.sticky &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">this.generatedHeader !== null) {</span><span class="s3">\n                            </span><span class="s1">stickyHeaderOffset = this.generatedHeader.clientHeight;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">this.scrollTop = thisRow.offsetTop - stickyHeaderOffset;</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.focusOnCell(newFocusRowIndex, this.focusColumnIndex, false);</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case keyHome:</span><span class="s3">\n                </span><span class="s1">if (e.ctrlKey) {</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                    </span><span class="s1">// focus first cell of first row</span><span class="s3">\n                    </span><span class="s1">this.focusOnCell(0, 0, true);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case keyEnd:</span><span class="s3">\n                </span><span class="s1">if (e.ctrlKey &amp;&amp; this.columnDefinitions !== null) {</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                    </span><span class="s1">// focus last cell of last row</span><span class="s3">\n                    </span><span class="s1">this.focusOnCell(this.rowElements.length - 1, this.columnDefinitions.length - 1, true);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">queueFocusUpdate() {</span><span class="s3">\n        </span><span class="s1">if (this.isUpdatingFocus &amp;&amp;</span><span class="s3">\n            </span><span class="s1">(this.contains(document.activeElement) || this === document.activeElement)) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.pendingFocusUpdate === false) {</span><span class="s3">\n            </span><span class="s1">this.pendingFocusUpdate = true;</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; this.updateFocus());</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateFocus() {</span><span class="s3">\n        </span><span class="s1">this.pendingFocusUpdate = false;</span><span class="s3">\n        </span><span class="s1">this.focusOnCell(this.focusRowIndex, this.focusColumnIndex, true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">toggleGeneratedHeader() {</span><span class="s3">\n        </span><span class="s1">if (this.generatedHeader !== null) {</span><span class="s3">\n            </span><span class="s1">this.removeChild(this.generatedHeader);</span><span class="s3">\n            </span><span class="s1">this.generatedHeader = null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.generateHeader !== GenerateHeaderOptions.none &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.rowsData.length &gt; 0) {</span><span class="s3">\n            </span><span class="s1">const generatedHeaderElement = document.createElement(this.rowElementTag);</span><span class="s3">\n            </span><span class="s1">this.generatedHeader = generatedHeaderElement;</span><span class="s3">\n            </span><span class="s1">this.generatedHeader.columnDefinitions = this.columnDefinitions;</span><span class="s3">\n            </span><span class="s1">this.generatedHeader.gridTemplateColumns = this.gridTemplateColumns;</span><span class="s3">\n            </span><span class="s1">this.generatedHeader.rowType =</span><span class="s3">\n                </span><span class="s1">this.generateHeader === GenerateHeaderOptions.sticky</span><span class="s3">\n                    </span><span class="s1">? DataGridRowTypes.stickyHeader</span><span class="s3">\n                    </span><span class="s1">: DataGridRowTypes.header;</span><span class="s3">\n            </span><span class="s1">if (this.firstChild !== null || this.rowsPlaceholder !== null) {</span><span class="s3">\n                </span><span class="s1">this.insertBefore(generatedHeaderElement, this.firstChild !== null ? this.firstChild : this.rowsPlaceholder);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">*  generates a basic column definition by examining sample row data</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">DataGrid.generateColumns = (row) =&gt; {</span><span class="s3">\n    </span><span class="s1">return Object.getOwnPropertyNames(row).map((property, index) =&gt; {</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n            </span><span class="s1">columnDataKey: property,</span><span class="s3">\n            </span><span class="s1">gridColumn: `${index}`,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">no-tabbing</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">noTabbing</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">generate-header</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">generateHeader</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">grid-template-columns</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">gridTemplateColumns</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">rowsData</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">columnDefinitions</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">rowItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">cellItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">headerCellItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">focusRowIndex</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">focusColumnIndex</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultRowItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">rowElementTag</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DataGrid.prototype, </span><span class="s3">\&quot;</span><span class="s1">rowElements</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { children, elements, html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DataGridRow } from </span><span class="s3">\&quot;</span><span class="s1">./data-grid-row.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function createRowItemTemplate(context) {</span><span class="s3">\n    </span><span class="s1">const rowTag = context.tagFor(DataGridRow);</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n    </span><span class="s1">&lt;${rowTag}</span><span class="s3">\n        </span><span class="s1">:rowData=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x}</span><span class="s3">\&quot;\n        </span><span class="s1">:cellItemTemplate=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; c.parent.cellItemTemplate}</span><span class="s3">\&quot;\n        </span><span class="s1">:headerCellItemTemplate=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; c.parent.headerCellItemTemplate}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;&lt;/${rowTag}&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Generates a template for the {@link @microsoft/fast-foundation#DataGrid} component using</span><span class="s3">\n </span><span class="s1">* the provided prefix.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dataGridTemplate = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">const rowItemTemplate = createRowItemTemplate(context);</span><span class="s3">\n    </span><span class="s1">const rowTag = context.tagFor(DataGridRow);</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n        </span><span class="s1">&lt;template</span><span class="s3">\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">grid</span><span class="s3">\&quot;\n            </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;\n            </span><span class="s1">:rowElementTag=</span><span class="s3">\&quot;</span><span class="s1">${() =&gt; rowTag}</span><span class="s3">\&quot;\n            </span><span class="s1">:defaultRowItemTemplate=</span><span class="s3">\&quot;</span><span class="s1">${rowItemTemplate}</span><span class="s3">\&quot;\n            </span><span class="s1">${children({</span><span class="s3">\n        </span><span class="s1">property: </span><span class="s3">\&quot;</span><span class="s1">rowElements</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">filter: elements(</span><span class="s3">\&quot;</span><span class="s1">[role=row]</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n    </span><span class="s1">})}</span><span class="s3">\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Data Grid</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dataGridStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">:host {</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">position: relative;</span><span class="s3">\n    </span><span class="s1">flex-direction: column;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { neutralFillRest, neutralStrokeDividerRest, strokeWidth } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Data Grid row</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dataGridRowStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">:host {</span><span class="s3">\n    </span><span class="s1">display: grid;</span><span class="s3">\n    </span><span class="s1">padding: 1px 0;</span><span class="s3">\n    </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n    </span><span class="s1">width: 100%;</span><span class="s3">\n    </span><span class="s1">border-bottom: calc(${strokeWidth} * 1px) solid ${neutralStrokeDividerRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(.header) {</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(.sticky-header) {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillRest};</span><span class="s3">\n    </span><span class="s1">position: sticky;</span><span class="s3">\n    </span><span class="s1">top: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { accentFillFocus, bodyFont, controlCornerRadius, designUnit, focusStrokeWidth, neutralForegroundRest, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Data Grid cell</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dataGridCellStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">:host {</span><span class="s3">\n      </span><span class="s1">padding: calc(${designUnit} * 1px) calc(${designUnit} * 3px);</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">font-weight: 400;</span><span class="s3">\n      </span><span class="s1">border: transparent calc(${focusStrokeWidth} * 1px) solid;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n      </span><span class="s1">white-space: nowrap;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.column-header) {</span><span class="s3">\n      </span><span class="s1">font-weight: 600;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:${focusVisible}) {</span><span class="s3">\n      </span><span class="s1">outline: calc(${focusStrokeWidth} * 1px) solid ${accentFillFocus};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">border-color: transparent;</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(:${focusVisible}) {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.FieldText};</span><span class="s3">\n        </span><span class="s1">box-shadow: 0 0 0 2px inset ${SystemColors.Field};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { DataGrid, DataGridCell, dataGridCellTemplate, DataGridRow, dataGridRowTemplate, dataGridTemplate } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { dataGridStyles } from './data-grid.styles.js';</span><span class="s3">\n</span><span class="s1">import { dataGridRowStyles } from './data-grid-row.styles.js';</span><span class="s3">\n</span><span class="s1">import { dataGridCellStyles } from './data-grid-cell.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* DataGridCell class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-data-grid-cell</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterDataGridCell extends DataGridCell {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#DataGridCell} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-data-grid-cell&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpDataGridCell = JupyterDataGridCell.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'data-grid-cell',</span><span class="s3">\n    </span><span class="s1">baseClass: DataGridCell,</span><span class="s3">\n    </span><span class="s1">template: dataGridCellTemplate,</span><span class="s3">\n    </span><span class="s1">styles: dataGridCellStyles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* DataGridRow class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-data-grid-row</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterDataGridRow extends DataGridRow {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#DataGridRow} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-data-grid-row&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpDataGridRow = JupyterDataGridRow.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'data-grid-row',</span><span class="s3">\n    </span><span class="s1">baseClass: DataGridRow,</span><span class="s3">\n    </span><span class="s1">template: dataGridRowTemplate,</span><span class="s3">\n    </span><span class="s1">styles: dataGridRowStyles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* DataGrid class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-data-grid</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterDataGrid extends DataGrid {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#DataGrid} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-data-grid&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpDataGrid = JupyterDataGrid.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'data-grid',</span><span class="s3">\n    </span><span class="s1">baseClass: DataGrid,</span><span class="s3">\n    </span><span class="s1">template: dataGridTemplate,</span><span class="s3">\n    </span><span class="s1">styles: dataGridStyles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterDataGrid as DataGrid, JupyterDataGridRow as DataGridRow, JupyterDataGridCell as DataGridCell, dataGridCellStyles, dataGridStyles, dataGridRowStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _TextField extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(TextField:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedTextField extends FormAssociated(_TextField) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Text field sub-types</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const TextFieldType = {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* An email TextField</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">email: </span><span class="s3">\&quot;</span><span class="s1">email</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A password TextField</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">password: </span><span class="s3">\&quot;</span><span class="s1">password</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A telephone TextField</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">tel: </span><span class="s3">\&quot;</span><span class="s1">tel</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A text TextField</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">text: </span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A URL TextField</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">url: </span><span class="s3">\&quot;</span><span class="s1">url</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, nullableNumberConverter, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ARIAGlobalStatesAndProperties, StartEnd, } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedTextField } from </span><span class="s3">\&quot;</span><span class="s1">./text-field.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { TextFieldType } from </span><span class="s3">\&quot;</span><span class="s1">./text-field.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export { TextFieldType };</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Text Field Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text | &lt;input type=</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot; </span><span class="s1">/&gt; element }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the number field input</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the number field input</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the label</span><span class="s3">\n </span><span class="s1">* @csspart label - The label</span><span class="s3">\n </span><span class="s1">* @csspart root - The element wrapping the control, including start and end slots</span><span class="s3">\n </span><span class="s1">* @csspart control - The text field element</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the value has changed</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class TextField extends FormAssociatedTextField {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Allows setting a type or mode of text.</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: type</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.type = TextFieldType.text;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">readOnlyChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.readOnly = this.readOnly;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">autofocusChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.autofocus = this.autofocus;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">placeholderChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.placeholder = this.placeholder;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">typeChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.type = this.type;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">listChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;</span><span class="s1">, this.list);</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">maxlengthChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.maxLength = this.maxlength;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">minlengthChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.minLength = this.minlength;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">patternChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.pattern = this.pattern;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">sizeChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.size = this.size;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">spellcheckChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.spellcheck = this.spellcheck;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">, this.type);</span><span class="s3">\n        </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">if (this.autofocus) {</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n                </span><span class="s1">this.focus();</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Selects all the text in the text field</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">select() {</span><span class="s3">\n        </span><span class="s1">this.control.select();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The select event does not permeate the shadow DOM boundary.</span><span class="s3">\n         </span><span class="s1">* This fn effectively proxies the select event,</span><span class="s3">\n         </span><span class="s1">* emitting a `select` event whenever the internal</span><span class="s3">\n         </span><span class="s1">* control emits a `select` event</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">select</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles the internal control's `input` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleTextInput() {</span><span class="s3">\n        </span><span class="s1">this.value = this.control.value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Change event handler for inner control.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* </span><span class="s3">\&quot;</span><span class="s1">Change</span><span class="s3">\&quot; </span><span class="s1">events are not `composable` so they will not</span><span class="s3">\n     </span><span class="s1">* permeate the shadow DOM boundary. This fn effectively proxies</span><span class="s3">\n     </span><span class="s1">* the change event, emitting a `change` event whenever the internal</span><span class="s3">\n     </span><span class="s1">* control emits a `change` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange() {</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** {@inheritDoc (FormAssociated:interface).validate} */</span><span class="s3">\n    </span><span class="s1">validate() {</span><span class="s3">\n        </span><span class="s1">super.validate(this.control);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">readOnly</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">autofocus</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">placeholder</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">maxlength</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">minlength</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">pattern</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">spellcheck</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], TextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Includes ARIA states and properties relating to the ARIA textbox role</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DelegatesARIATextbox {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">applyMixins(DelegatesARIATextbox, ARIAGlobalStatesAndProperties);</span><span class="s3">\n</span><span class="s1">applyMixins(TextField, StartEnd, DelegatesARIATextbox);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { FormAssociated, FoundationElement } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">class _DateField extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @jupyter/web-components#(DateField:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedDateField extends FormAssociated(_DateField) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement('input');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A {@link ValueConverter} that converts to and from `Date` values.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* This converter allows for nullable Date, returning `null` if the</span><span class="s3">\n </span><span class="s1">* input was `null`, `undefined`, or a non-parsable date.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const nullableDateConverter = {</span><span class="s3">\n    </span><span class="s1">toView(value) {</span><span class="s3">\n        </span><span class="s1">if (value === null || value === undefined) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const date = new Date(value);</span><span class="s3">\n        </span><span class="s1">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date#return_value</span><span class="s3">\n        </span><span class="s1">return date.toString() === 'Invalid Date'</span><span class="s3">\n            </span><span class="s1">? null</span><span class="s3">\n            </span><span class="s1">: `${date.getFullYear().toString().padStart(4, '0')}-${(date.getMonth() + 1)</span><span class="s3">\n                </span><span class="s1">.toString()</span><span class="s3">\n                </span><span class="s1">.padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}`;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">fromView(value) {</span><span class="s3">\n        </span><span class="s1">if (value === null || value === undefined) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const date = new Date(value);</span><span class="s3">\n        </span><span class="s1">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/Date#return_value</span><span class="s3">\n        </span><span class="s1">return date.toString() === 'Invalid Date' ? null : date;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, nullableNumberConverter, observable } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { keyArrowDown, keyArrowUp } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { StartEnd, applyMixins, DelegatesARIATextbox } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { FormAssociatedDateField } from './date-field.form-associated.js';</span><span class="s3">\n</span><span class="s1">import { nullableDateConverter } from '../converters.js';</span><span class="s3">\n</span><span class="s1">const INVALID_DATE = 'Invalid Date';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Dext Field Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/date | &lt;input type=</span><span class="s3">\&quot;</span><span class="s1">date</span><span class="s3">\&quot; </span><span class="s1">/&gt; element }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-date-field</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @fires input - Fires a custom 'input' event when the value has changed</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the value has changed</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DateField extends FormAssociatedDateField {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Amount to increment or decrement the value by</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTMLAttribute: step</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.step = 1;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Flag to indicate that the value change is from the user input</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isUserInput = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">readOnlyChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.readOnly = this.readOnly;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">autofocusChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.autofocus = this.autofocus;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">listChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.setAttribute('list', this.list);</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Ensures that the max is greater than the min and that the value</span><span class="s3">\n     </span><span class="s1">*  is less than the max</span><span class="s3">\n     </span><span class="s1">* @param previous - the previous max value</span><span class="s3">\n     </span><span class="s1">* @param next - updated max value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">maxChanged(previous, next) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">this.max = next &lt; ((_a = this.min) !== null &amp;&amp; _a !== void 0 ? _a : next) ? this.min : next;</span><span class="s3">\n        </span><span class="s1">this.value = this.getValidValue(this.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Ensures that the min is less than the max and that the value</span><span class="s3">\n     </span><span class="s1">*  is greater than the min</span><span class="s3">\n     </span><span class="s1">* @param previous - previous min value</span><span class="s3">\n     </span><span class="s1">* @param next - updated min value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">minChanged(previous, next) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">this.min = next &gt; ((_a = this.max) !== null &amp;&amp; _a !== void 0 ? _a : next) ? this.max : next;</span><span class="s3">\n        </span><span class="s1">this.value = this.getValidValue(this.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The value property, typed as a number.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get valueAsNumber() {</span><span class="s3">\n        </span><span class="s1">return new Date(super.value).valueOf();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set valueAsNumber(next) {</span><span class="s3">\n        </span><span class="s1">this.value = new Date(next).toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The value property, typed as a date.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get valueAsDate() {</span><span class="s3">\n        </span><span class="s1">return new Date(super.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set valueAsDate(next) {</span><span class="s3">\n        </span><span class="s1">this.value = next.toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validates that the value is a number between the min and max</span><span class="s3">\n     </span><span class="s1">* @param previous - previous stored value</span><span class="s3">\n     </span><span class="s1">* @param next - value being updated</span><span class="s3">\n     </span><span class="s1">* @param updateControl - should the text field be updated with value, defaults to true</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">valueChanged(previous, next) {</span><span class="s3">\n        </span><span class="s1">this.value = this.getValidValue(next);</span><span class="s3">\n        </span><span class="s1">if (next !== this.value) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.control &amp;&amp; !this.isUserInput) {</span><span class="s3">\n            </span><span class="s1">this.control.value = this.value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">super.valueChanged(previous, this.value);</span><span class="s3">\n        </span><span class="s1">if (previous !== undefined &amp;&amp; !this.isUserInput) {</span><span class="s3">\n            </span><span class="s1">this.$emit('change');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.isUserInput = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the internal value to a valid number between the min and max properties</span><span class="s3">\n     </span><span class="s1">* @param value - user input</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getValidValue(value) {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">let validValue = new Date(value);</span><span class="s3">\n        </span><span class="s1">if (validValue.toString() === INVALID_DATE) {</span><span class="s3">\n            </span><span class="s1">validValue = '';</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">validValue =</span><span class="s3">\n                </span><span class="s1">validValue &gt; ((_a = this.max) !== null &amp;&amp; _a !== void 0 ? _a : validValue) ? this.max : validValue;</span><span class="s3">\n            </span><span class="s1">validValue =</span><span class="s3">\n                </span><span class="s1">validValue &lt; ((_b = this.min) !== null &amp;&amp; _b !== void 0 ? _b : validValue) ? this.min : validValue;</span><span class="s3">\n            </span><span class="s1">validValue = `${validValue.getFullYear().toString().padStart(4, '0')}-${(validValue.getMonth() + 1)</span><span class="s3">\n                </span><span class="s1">.toString()</span><span class="s3">\n                </span><span class="s1">.padStart(2, '0')}-${validValue.getDate().toString().padStart(2, '0')}`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return validValue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Increments the value using the step value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">stepUp() {</span><span class="s3">\n        </span><span class="s1">// Step is given in days: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/date#step</span><span class="s3">\n        </span><span class="s1">const step = 86400000 * this.step;</span><span class="s3">\n        </span><span class="s1">const value = new Date(this.value);</span><span class="s3">\n        </span><span class="s1">this.value = new Date(value.toString() !== INVALID_DATE ? value.valueOf() + step : 0).toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Decrements the value using the step value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">stepDown() {</span><span class="s3">\n        </span><span class="s1">// Step is given in days: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/date#step</span><span class="s3">\n        </span><span class="s1">const step = 86400000 * this.step;</span><span class="s3">\n        </span><span class="s1">const value = new Date(this.value);</span><span class="s3">\n        </span><span class="s1">this.value = new Date(value.toString() !== INVALID_DATE</span><span class="s3">\n            </span><span class="s1">? Math.max(value.valueOf() - step, 0)</span><span class="s3">\n            </span><span class="s1">: 0).toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">this.control.value = this.value;</span><span class="s3">\n        </span><span class="s1">if (this.autofocus) {</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n                </span><span class="s1">this.focus();</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!this.appearance) {</span><span class="s3">\n            </span><span class="s1">this.appearance = 'outline';</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles the internal control's `input` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleTextInput() {</span><span class="s3">\n        </span><span class="s1">this.isUserInput = true;</span><span class="s3">\n        </span><span class="s1">this.value = this.control.value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Change event handler for inner control.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* </span><span class="s3">\&quot;</span><span class="s1">Change</span><span class="s3">\&quot; </span><span class="s1">events are not `composable` so they will not</span><span class="s3">\n     </span><span class="s1">* permeate the shadow DOM boundary. This fn effectively proxies</span><span class="s3">\n     </span><span class="s1">* the change event, emitting a `change` event whenever the internal</span><span class="s3">\n     </span><span class="s1">* control emits a `change` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange() {</span><span class="s3">\n        </span><span class="s1">this.$emit('change');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles the internal control's `keydown` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleKeyDown(e) {</span><span class="s3">\n        </span><span class="s1">const key = e.key;</span><span class="s3">\n        </span><span class="s1">switch (key) {</span><span class="s3">\n            </span><span class="s1">case keyArrowUp:</span><span class="s3">\n                </span><span class="s1">this.stepUp();</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">case keyArrowDown:</span><span class="s3">\n                </span><span class="s1">this.stepDown();</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles populating the input field with a validated value when</span><span class="s3">\n     </span><span class="s1">*  leaving the input field.</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleBlur() {</span><span class="s3">\n        </span><span class="s1">this.control.value = this.value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], DateField.prototype, </span><span class="s3">\&quot;</span><span class="s1">appearance</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: 'readonly', mode: 'boolean' })</span><span class="s3">\n</span><span class="s1">], DateField.prototype, </span><span class="s3">\&quot;</span><span class="s1">readOnly</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: 'boolean' })</span><span class="s3">\n</span><span class="s1">], DateField.prototype, </span><span class="s3">\&quot;</span><span class="s1">autofocus</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], DateField.prototype, </span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], DateField.prototype, </span><span class="s3">\&quot;</span><span class="s1">step</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableDateConverter })</span><span class="s3">\n</span><span class="s1">], DateField.prototype, </span><span class="s3">\&quot;</span><span class="s1">max</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableDateConverter })</span><span class="s3">\n</span><span class="s1">], DateField.prototype, </span><span class="s3">\&quot;</span><span class="s1">min</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], DateField.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(DateField, StartEnd, DelegatesARIATextbox);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillFocus, bodyFont, controlCornerRadius, designUnit, disabledOpacity, errorFillActive, errorFillFocus, errorFillHover, errorFillRest, focusStrokeWidth, neutralFillHover, neutralFillInputHover, neutralFillInputRest, neutralFillRest, neutralFillStrongActive, neutralFillStrongHover, neutralFillStrongRest, neutralForegroundRest, neutralStrokeRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../size.js';</span><span class="s3">\n</span><span class="s1">export const BaseFieldStyles = css `</span><span class="s3">\n  </span><span class="s1">${display('inline-block')} :host {</span><span class="s3">\n    </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n    </span><span class="s1">outline: none;</span><span class="s3">\n    </span><span class="s1">user-select: none;</span><span class="s3">\n    </span><span class="s1">/* Ensure to display focus highlight */</span><span class="s3">\n    </span><span class="s1">margin: calc((${focusStrokeWidth} - ${strokeWidth}) * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.root {</span><span class="s3">\n    </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n    </span><span class="s1">position: relative;</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">flex-direction: row;</span><span class="s3">\n    </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillInputRest};</span><span class="s3">\n    </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${neutralFillStrongRest};</span><span class="s3">\n    </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([aria-invalid='true']) .root {</span><span class="s3">\n    </span><span class="s1">border-color: ${errorFillRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.control {</span><span class="s3">\n    </span><span class="s1">-webkit-appearance: none;</span><span class="s3">\n    </span><span class="s1">font: inherit;</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">border: 0;</span><span class="s3">\n    </span><span class="s1">color: inherit;</span><span class="s3">\n    </span><span class="s1">height: calc(100% - 4px);</span><span class="s3">\n    </span><span class="s1">width: 100%;</span><span class="s3">\n    </span><span class="s1">margin-top: auto;</span><span class="s3">\n    </span><span class="s1">margin-bottom: auto;</span><span class="s3">\n    </span><span class="s1">border: none;</span><span class="s3">\n    </span><span class="s1">padding: 0 calc(${designUnit} * 2px + 1px);</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n    </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.control:placeholder-shown {</span><span class="s3">\n    </span><span class="s1">text-overflow: ellipsis;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.control:hover,</span><span class="s3">\n  </span><span class="s1">.control:${focusVisible},</span><span class="s3">\n  </span><span class="s1">.control:disabled,</span><span class="s3">\n  </span><span class="s1">.control:active {</span><span class="s3">\n    </span><span class="s1">outline: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.label {</span><span class="s3">\n    </span><span class="s1">display: block;</span><span class="s3">\n    </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n    </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n    </span><span class="s1">margin-bottom: 4px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.label__hidden {</span><span class="s3">\n    </span><span class="s1">display: none;</span><span class="s3">\n    </span><span class="s1">visibility: hidden;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.start,</span><span class="s3">\n  </span><span class="s1">.end {</span><span class="s3">\n    </span><span class="s1">margin: auto;</span><span class="s3">\n    </span><span class="s1">fill: currentcolor;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">::slotted(svg) {</span><span class="s3">\n    </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n    </span><span class="s1">width: 16px;</span><span class="s3">\n    </span><span class="s1">height: 16px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.start {</span><span class="s3">\n    </span><span class="s1">margin-inline-start: 11px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.end {</span><span class="s3">\n    </span><span class="s1">margin-inline-end: 11px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(:hover:not([disabled])) .root {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillInputHover};</span><span class="s3">\n    </span><span class="s1">border-color: ${neutralFillStrongHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([aria-invalid='true']:hover:not([disabled])) .root {</span><span class="s3">\n    </span><span class="s1">border-color: ${errorFillHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(:active:not([disabled])) .root {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillInputHover};</span><span class="s3">\n    </span><span class="s1">border-color: ${neutralFillStrongActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([aria-invalid='true']:active:not([disabled])) .root {</span><span class="s3">\n    </span><span class="s1">border-color: ${errorFillActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(:focus-within:not([disabled])) .root {</span><span class="s3">\n    </span><span class="s1">border-color: ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n      </span><span class="s1">${accentFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([aria-invalid='true']:focus-within:not([disabled])) .root {</span><span class="s3">\n    </span><span class="s1">border-color: ${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n      </span><span class="s1">${errorFillFocus};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='filled']) .root {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='filled']:hover:not([disabled])) .root {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([disabled]) .label,</span><span class="s3">\n  </span><span class="s1">:host([readonly]) .label,</span><span class="s3">\n  </span><span class="s1">:host([readonly]) .control,</span><span class="s3">\n  </span><span class="s1">:host([disabled]) .control {</span><span class="s3">\n    </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([disabled]) {</span><span class="s3">\n    </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([disabled]) .control {</span><span class="s3">\n    </span><span class="s1">border-color: ${neutralStrokeRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n    </span><span class="s1">.root,</span><span class="s3">\n    </span><span class="s1">:host([appearance='filled']) .root {</span><span class="s3">\n      </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.FieldText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([aria-invalid='true']) .root {</span><span class="s3">\n      </span><span class="s1">border-style: dashed;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host(:hover:not([disabled])) .root,</span><span class="s3">\n    </span><span class="s1">:host([appearance='filled']:hover:not([disabled])) .root,</span><span class="s3">\n    </span><span class="s1">:host([appearance='filled']:hover) .root {</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">.start,</span><span class="s3">\n    </span><span class="s1">.end {</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([disabled]) {</span><span class="s3">\n      </span><span class="s1">opacity: 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([disabled]) .root,</span><span class="s3">\n    </span><span class="s1">:host([appearance='filled']:hover[disabled]) .root {</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host(:focus-within:enabled) .root {</span><span class="s3">\n      </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n        </span><span class="s1">${SystemColors.Highlight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">input::placeholder {</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { BaseFieldStyles } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Date Field</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dateFieldStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${BaseFieldStyles}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* a method to filter out any whitespace _only_ nodes, to be used inside a template</span><span class="s3">\n </span><span class="s1">* @param value - The Node that is being inspected</span><span class="s3">\n </span><span class="s1">* @param index - The index of the node within the array</span><span class="s3">\n </span><span class="s1">* @param array - The Node array that is being filtered</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function whitespaceFilter(value, index, array) {</span><span class="s3">\n    </span><span class="s1">return value.nodeType !== Node.TEXT_NODE</span><span class="s3">\n        </span><span class="s1">? true</span><span class="s3">\n        </span><span class="s1">: typeof value.nodeValue === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; !!value.nodeValue.trim().length;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { html, ref, slotted } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate, whitespaceFilter } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @jupyter/web-components#(DateField:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dateFieldTemplate = (context, definition) =&gt; html `</span><span class="s3">\n  </span><span class="s1">&lt;template class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.readOnly ? 'readonly' : '')}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n    </span><span class="s1">&lt;label</span><span class="s3">\n      </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n      </span><span class="s1">for=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n      </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.defaultSlottedNodes &amp;&amp; x.defaultSlottedNodes.length</span><span class="s3">\n    </span><span class="s1">? 'label'</span><span class="s3">\n    </span><span class="s1">: 'label label__hidden'}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n      </span><span class="s1">&lt;slot</span><span class="s3">\n        </span><span class="s1">${slotted({</span><span class="s3">\n    </span><span class="s1">property: 'defaultSlottedNodes',</span><span class="s3">\n    </span><span class="s1">filter: whitespaceFilter</span><span class="s3">\n</span><span class="s1">})}</span><span class="s3">\n      </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/label&gt;</span><span class="s3">\n    </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n      </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n      </span><span class="s1">&lt;input</span><span class="s3">\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n        </span><span class="s1">id=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n        </span><span class="s1">@input=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleTextInput()}</span><span class="s3">\&quot;\n        </span><span class="s1">@change=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleChange()}</span><span class="s3">\&quot;\n        </span><span class="s1">?autofocus=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.autofocus}</span><span class="s3">\&quot;\n        </span><span class="s1">?disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n        </span><span class="s1">list=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.list}</span><span class="s3">\&quot;\n        </span><span class="s1">?readonly=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.readOnly}</span><span class="s3">\&quot;\n        </span><span class="s1">?required=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.required}</span><span class="s3">\&quot;\n        </span><span class="s1">:value=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.value}</span><span class="s3">\&quot;\n        </span><span class="s1">type=</span><span class="s3">\&quot;</span><span class="s1">date</span><span class="s3">\&quot;\n        </span><span class="s1">aria-atomic=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaAtomic}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-busy=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaBusy}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaControls}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-current=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaCurrent}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-describedby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDescribedby}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-details=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDetails}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-errormessage=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaErrormessage}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-flowto=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaFlowto}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-haspopup=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHaspopup}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHidden}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-invalid=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaInvalid}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-keyshortcuts=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaKeyshortcuts}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-label=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabel}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabelledby}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-live=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLive}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-owns=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaOwns}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-relevant=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRelevant}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-roledescription=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRoledescription}</span><span class="s3">\&quot;\n        </span><span class="s1">${ref('control')}</span><span class="s3">\n      </span><span class="s1">/&gt;</span><span class="s3">\n      </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n    </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n  </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { DateField } from './date-field.js';</span><span class="s3">\n</span><span class="s1">import { dateFieldStyles as styles } from './date-field.styles.js';</span><span class="s3">\n</span><span class="s1">import { dateFieldTemplate as template } from './date-field.template.js';</span><span class="s3">\n</span><span class="s1">export * from './date-field.js';</span><span class="s3">\n</span><span class="s1">export * from './date-field.template.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @jupyter/web-components#DateField} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @jupyter/web-components#dateFieldTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-date-field&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* {@link https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/delegatesFocus | delegatesFocus}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpDateField = DateField.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'date-field',</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { styles as dateFieldStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { parseColorHexRGB } from '@microsoft/fast-colors';</span><span class="s3">\n</span><span class="s1">import { attr, css, html, nullableNumberConverter, Observable } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, forcedColorsStylesheetBehavior, FoundationElement } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { SwatchRGB } from '../color/swatch.js';</span><span class="s3">\n</span><span class="s1">import { accentColor, accentFillActiveDelta, accentFillFocusDelta, accentFillHoverDelta, accentFillRestDelta, accentForegroundActiveDelta, accentForegroundFocusDelta, accentForegroundHoverDelta, accentForegroundRestDelta, baseHeightMultiplier, baseHorizontalSpacingMultiplier, baseLayerLuminance, controlCornerRadius, density, designUnit, direction, disabledOpacity, errorColor, fillColor, focusStrokeWidth, neutralColor, neutralFillActiveDelta, neutralFillFocusDelta, neutralFillHoverDelta, neutralFillInputActiveDelta, neutralFillInputFocusDelta, neutralFillInputHoverDelta, neutralFillInputRestDelta, neutralFillLayerRestDelta, neutralFillRestDelta, neutralFillStealthActiveDelta, neutralFillStealthFocusDelta, neutralFillStealthHoverDelta, neutralFillStealthRestDelta, neutralFillStrongActiveDelta, neutralFillStrongFocusDelta, neutralFillStrongHoverDelta, neutralForegroundRest, neutralStrokeActiveDelta, neutralStrokeDividerRestDelta, neutralStrokeFocusDelta, neutralStrokeHoverDelta, neutralStrokeRestDelta, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight, typeRampMinus1FontSize, typeRampMinus1LineHeight, typeRampMinus2FontSize, typeRampMinus2LineHeight, typeRampPlus1FontSize, typeRampPlus1LineHeight, typeRampPlus2FontSize, typeRampPlus2LineHeight, typeRampPlus3FontSize, typeRampPlus3LineHeight, typeRampPlus4FontSize, typeRampPlus4LineHeight, typeRampPlus5FontSize, typeRampPlus5LineHeight, typeRampPlus6FontSize, typeRampPlus6LineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A {@link ValueConverter} that converts to and from `Swatch` values.</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* This converter allows for colors represented as string hex values, returning `null` if the</span><span class="s3">\n </span><span class="s1">* input was `null` or `undefined`.</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const swatchConverter = {</span><span class="s3">\n    </span><span class="s1">toView(value) {</span><span class="s3">\n        </span><span class="s1">if (value === null || value === undefined) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return value === null || value === void 0 ? void 0 : value.toColorString();</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">fromView(value) {</span><span class="s3">\n        </span><span class="s1">if (value === null || value === undefined) {</span><span class="s3">\n            </span><span class="s1">return null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const color = parseColorHexRGB(value);</span><span class="s3">\n        </span><span class="s1">return color ? SwatchRGB.create(color.r, color.g, color.b) : null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">const backgroundStyles = css `</span><span class="s3">\n  </span><span class="s1">:host {</span><span class="s3">\n    </span><span class="s1">background-color: ${fillColor};</span><span class="s3">\n    </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n    </span><span class="s1">:host {</span><span class="s3">\n      </span><span class="s1">background-color: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">box-shadow: 0 0 0 1px ${SystemColors.CanvasText};</span><span class="s3">\n      </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">function designToken(token) {</span><span class="s3">\n    </span><span class="s1">return (source, key) =&gt; {</span><span class="s3">\n        </span><span class="s1">// @ts-expect-error source as no string index</span><span class="s3">\n        </span><span class="s1">source[key + 'Changed'] = function (prev, next) {</span><span class="s3">\n            </span><span class="s1">if (next !== undefined &amp;&amp; next !== null) {</span><span class="s3">\n                </span><span class="s1">token.setValueFor(this, next);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">token.deleteValueFor(this);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The Jupyter DesignSystemProvider Element.</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DesignSystemProvider extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Used to instruct the jpDesignSystemProvider</span><span class="s3">\n         </span><span class="s1">* that it should not set the CSS</span><span class="s3">\n         </span><span class="s1">* background-color and color properties</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML boolean attribute: no-paint</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.noPaint = false;</span><span class="s3">\n        </span><span class="s1">// If fillColor or baseLayerLuminance change, we need to</span><span class="s3">\n        </span><span class="s1">// re-evaluate whether we should have paint styles applied</span><span class="s3">\n        </span><span class="s1">const subscriber = {</span><span class="s3">\n            </span><span class="s1">handleChange: this.noPaintChanged.bind(this)</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">Observable.getNotifier(this).subscribe(subscriber, 'fillColor');</span><span class="s3">\n        </span><span class="s1">Observable.getNotifier(this).subscribe(subscriber, 'baseLayerLuminance');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">noPaintChanged() {</span><span class="s3">\n        </span><span class="s1">if (!this.noPaint &amp;&amp;</span><span class="s3">\n            </span><span class="s1">(this.fillColor !== void 0 || this.baseLayerLuminance)) {</span><span class="s3">\n            </span><span class="s1">this.$fastController.addStyles(backgroundStyles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.$fastController.removeStyles(backgroundStyles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: 'no-paint', mode: 'boolean' })</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">noPaint</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'fill-color',</span><span class="s3">\n        </span><span class="s1">converter: swatchConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(fillColor)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">fillColor</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'accent-color',</span><span class="s3">\n        </span><span class="s1">converter: swatchConverter,</span><span class="s3">\n        </span><span class="s1">mode: 'fromView'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(accentColor)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">accentColor</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-color',</span><span class="s3">\n        </span><span class="s1">converter: swatchConverter,</span><span class="s3">\n        </span><span class="s1">mode: 'fromView'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralColor)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralColor</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'error-color',</span><span class="s3">\n        </span><span class="s1">converter: swatchConverter,</span><span class="s3">\n        </span><span class="s1">mode: 'fromView'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(errorColor)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">errorColor</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(density)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">density</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'design-unit',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(designUnit)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">designUnit</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'direction'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(direction)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">direction</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'base-height-multiplier',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(baseHeightMultiplier)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">baseHeightMultiplier</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'base-horizontal-spacing-multiplier',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(baseHorizontalSpacingMultiplier)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">baseHorizontalSpacingMultiplier</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'control-corner-radius',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(controlCornerRadius)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">controlCornerRadius</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'stroke-width',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(strokeWidth)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">strokeWidth</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'focus-stroke-width',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(focusStrokeWidth)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">focusStrokeWidth</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'disabled-opacity',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(disabledOpacity)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">disabledOpacity</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-minus-2-font-size'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampMinus2FontSize)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampMinus2FontSize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-minus-2-line-height'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampMinus2LineHeight)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampMinus2LineHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-minus-1-font-size'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampMinus1FontSize)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampMinus1FontSize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-minus-1-line-height'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampMinus1LineHeight)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampMinus1LineHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-base-font-size'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampBaseFontSize)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampBaseFontSize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-base-line-height'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampBaseLineHeight)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampBaseLineHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-1-font-size'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus1FontSize)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus1FontSize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-1-line-height'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus1LineHeight)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus1LineHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-2-font-size'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus2FontSize)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus2FontSize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-2-line-height'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus2LineHeight)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus2LineHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-3-font-size'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus3FontSize)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus3FontSize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-3-line-height'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus3LineHeight)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus3LineHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-4-font-size'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus4FontSize)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus4FontSize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-4-line-height'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus4LineHeight)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus4LineHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-5-font-size'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus5FontSize)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus5FontSize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-5-line-height'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus5LineHeight)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus5LineHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-6-font-size'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus6FontSize)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus6FontSize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'type-ramp-plus-6-line-height'</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(typeRampPlus6LineHeight)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">typeRampPlus6LineHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'accent-fill-rest-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(accentFillRestDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">accentFillRestDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'accent-fill-hover-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(accentFillHoverDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">accentFillHoverDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'accent-fill-active-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(accentFillActiveDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">accentFillActiveDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'accent-fill-focus-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(accentFillFocusDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">accentFillFocusDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'accent-foreground-rest-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(accentForegroundRestDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">accentForegroundRestDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'accent-foreground-hover-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(accentForegroundHoverDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">accentForegroundHoverDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'accent-foreground-active-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(accentForegroundActiveDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">accentForegroundActiveDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'accent-foreground-focus-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(accentForegroundFocusDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">accentForegroundFocusDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-rest-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillRestDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillRestDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-hover-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillHoverDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillHoverDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-active-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillActiveDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillActiveDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-focus-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillFocusDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillFocusDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-input-rest-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillInputRestDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillInputRestDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-input-hover-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillInputHoverDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillInputHoverDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-input-active-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillInputActiveDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillInputActiveDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-input-focus-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillInputFocusDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillInputFocusDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-stealth-rest-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillStealthRestDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillStealthRestDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-stealth-hover-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillStealthHoverDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillStealthHoverDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-stealth-active-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillStealthActiveDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillStealthActiveDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-stealth-focus-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillStealthFocusDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillStealthFocusDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-strong-hover-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillStrongHoverDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillStrongHoverDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-strong-active-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillStrongActiveDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillStrongActiveDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-strong-focus-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillStrongFocusDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillStrongFocusDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'base-layer-luminance',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(baseLayerLuminance)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">baseLayerLuminance</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-fill-layer-rest-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralFillLayerRestDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralFillLayerRestDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-stroke-divider-rest-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralStrokeDividerRestDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralStrokeDividerRestDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-stroke-rest-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralStrokeRestDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralStrokeRestDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-stroke-hover-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralStrokeHoverDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralStrokeHoverDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-stroke-active-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralStrokeActiveDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralStrokeActiveDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({</span><span class="s3">\n        </span><span class="s1">attribute: 'neutral-stroke-focus-delta',</span><span class="s3">\n        </span><span class="s1">converter: nullableNumberConverter</span><span class="s3">\n    </span><span class="s1">}),</span><span class="s3">\n    </span><span class="s1">designToken(neutralStrokeFocusDelta)</span><span class="s3">\n</span><span class="s1">], DesignSystemProvider.prototype, </span><span class="s3">\&quot;</span><span class="s1">neutralStrokeFocusDelta</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Template for DesignSystemProvider.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const designSystemProviderTemplate = (context, definition) =&gt; html ` &lt;slot&gt;&lt;/slot&gt; `;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for DesignSystemProvider.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const designSystemProviderStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${display('block')}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link DesignSystemProvider} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-design-system-provider&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpDesignSystemProvider = DesignSystemProvider.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'design-system-provider',</span><span class="s3">\n    </span><span class="s1">template: designSystemProviderTemplate,</span><span class="s3">\n    </span><span class="s1">styles: designSystemProviderStyles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/*!</span><span class="s3">\n</span><span class="s1">* tabbable 5.3.3</span><span class="s3">\n</span><span class="s1">* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE</span><span class="s3">\n</span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">var candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]:not(slot)', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=</span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">])', 'details&gt;summary:first-of-type', 'details'];</span><span class="s3">\n</span><span class="s1">var candidateSelector = /* #__PURE__ */candidateSelectors.join(',');</span><span class="s3">\n</span><span class="s1">var NoElement = typeof Element === 'undefined';</span><span class="s3">\n</span><span class="s1">var matches = NoElement ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;</span><span class="s3">\n</span><span class="s1">var getRootNode = !NoElement &amp;&amp; Element.prototype.getRootNode ? function (element) {</span><span class="s3">\n  </span><span class="s1">return element.getRootNode();</span><span class="s3">\n</span><span class="s1">} : function (element) {</span><span class="s3">\n  </span><span class="s1">return element.ownerDocument;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {Element} el container to check in</span><span class="s3">\n </span><span class="s1">* @param {boolean} includeContainer add container to check</span><span class="s3">\n </span><span class="s1">* @param {(node: Element) =&gt; boolean} filter filter candidates</span><span class="s3">\n </span><span class="s1">* @returns {Element[]}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">var getCandidates = function getCandidates(el, includeContainer, filter) {</span><span class="s3">\n  </span><span class="s1">var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));</span><span class="s3">\n\n  </span><span class="s1">if (includeContainer &amp;&amp; matches.call(el, candidateSelector)) {</span><span class="s3">\n    </span><span class="s1">candidates.unshift(el);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">candidates = candidates.filter(filter);</span><span class="s3">\n  </span><span class="s1">return candidates;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @callback GetShadowRoot</span><span class="s3">\n </span><span class="s1">* @param {Element} element to check for shadow root</span><span class="s3">\n </span><span class="s1">* @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @callback ShadowRootFilter</span><span class="s3">\n </span><span class="s1">* @param {Element} shadowHostNode the element which contains shadow content</span><span class="s3">\n </span><span class="s1">* @returns {boolean} true if a shadow root could potentially contain valid candidates.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} CandidatesScope</span><span class="s3">\n </span><span class="s1">* @property {Element} scope contains inner candidates</span><span class="s3">\n </span><span class="s1">* @property {Element[]} candidates</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @typedef {Object} IterativeOptions</span><span class="s3">\n </span><span class="s1">* @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;</span><span class="s3">\n </span><span class="s1">*  if a function, implies shadow support is enabled and either returns the shadow root of an element</span><span class="s3">\n </span><span class="s1">*  or a boolean stating if it has an undisclosed shadow root</span><span class="s3">\n </span><span class="s1">* @property {(node: Element) =&gt; boolean} filter filter candidates</span><span class="s3">\n </span><span class="s1">* @property {boolean} flatten if true then result will flatten any CandidatesScope into the returned list</span><span class="s3">\n </span><span class="s1">* @property {ShadowRootFilter} shadowRootFilter filter shadow roots;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {Element[]} elements list of element containers to match candidates from</span><span class="s3">\n </span><span class="s1">* @param {boolean} includeContainer add container list to check</span><span class="s3">\n </span><span class="s1">* @param {IterativeOptions} options</span><span class="s3">\n </span><span class="s1">* @returns {Array.&lt;Element|CandidatesScope&gt;}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var getCandidatesIteratively = function getCandidatesIteratively(elements, includeContainer, options) {</span><span class="s3">\n  </span><span class="s1">var candidates = [];</span><span class="s3">\n  </span><span class="s1">var elementsToCheck = Array.from(elements);</span><span class="s3">\n\n  </span><span class="s1">while (elementsToCheck.length) {</span><span class="s3">\n    </span><span class="s1">var element = elementsToCheck.shift();</span><span class="s3">\n\n    </span><span class="s1">if (element.tagName === 'SLOT') {</span><span class="s3">\n      </span><span class="s1">// add shadow dom slot scope (slot itself cannot be focusable)</span><span class="s3">\n      </span><span class="s1">var assigned = element.assignedElements();</span><span class="s3">\n      </span><span class="s1">var content = assigned.length ? assigned : element.children;</span><span class="s3">\n      </span><span class="s1">var nestedCandidates = getCandidatesIteratively(content, true, options);</span><span class="s3">\n\n      </span><span class="s1">if (options.flatten) {</span><span class="s3">\n        </span><span class="s1">candidates.push.apply(candidates, nestedCandidates);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">candidates.push({</span><span class="s3">\n          </span><span class="s1">scope: element,</span><span class="s3">\n          </span><span class="s1">candidates: nestedCandidates</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">// check candidate element</span><span class="s3">\n      </span><span class="s1">var validCandidate = matches.call(element, candidateSelector);</span><span class="s3">\n\n      </span><span class="s1">if (validCandidate &amp;&amp; options.filter(element) &amp;&amp; (includeContainer || !elements.includes(element))) {</span><span class="s3">\n        </span><span class="s1">candidates.push(element);</span><span class="s3">\n      </span><span class="s1">} // iterate over shadow content if possible</span><span class="s3">\n\n\n      </span><span class="s1">var shadowRoot = element.shadowRoot || // check for an undisclosed shadow</span><span class="s3">\n      </span><span class="s1">typeof options.getShadowRoot === 'function' &amp;&amp; options.getShadowRoot(element);</span><span class="s3">\n      </span><span class="s1">var validShadowRoot = !options.shadowRootFilter || options.shadowRootFilter(element);</span><span class="s3">\n\n      </span><span class="s1">if (shadowRoot &amp;&amp; validShadowRoot) {</span><span class="s3">\n        </span><span class="s1">// add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed</span><span class="s3">\n        </span><span class="s1">//  shadow exists, so look at light dom children as fallback BUT create a scope for any</span><span class="s3">\n        </span><span class="s1">//  child candidates found because they're likely slotted elements (elements that are</span><span class="s3">\n        </span><span class="s1">//  children of the web component element (which has the shadow), in the light dom, but</span><span class="s3">\n        </span><span class="s1">//  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,</span><span class="s3">\n        </span><span class="s1">//  _after_ we return from this recursive call</span><span class="s3">\n        </span><span class="s1">var _nestedCandidates = getCandidatesIteratively(shadowRoot === true ? element.children : shadowRoot.children, true, options);</span><span class="s3">\n\n        </span><span class="s1">if (options.flatten) {</span><span class="s3">\n          </span><span class="s1">candidates.push.apply(candidates, _nestedCandidates);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">candidates.push({</span><span class="s3">\n            </span><span class="s1">scope: element,</span><span class="s3">\n            </span><span class="s1">candidates: _nestedCandidates</span><span class="s3">\n          </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">// there's not shadow so just dig into the element's (light dom) children</span><span class="s3">\n        </span><span class="s1">//  __without__ giving the element special scope treatment</span><span class="s3">\n        </span><span class="s1">elementsToCheck.unshift.apply(elementsToCheck, element.children);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return candidates;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var getTabindex = function getTabindex(node, isScope) {</span><span class="s3">\n  </span><span class="s1">if (node.tabIndex &lt; 0) {</span><span class="s3">\n    </span><span class="s1">// in Chrome, &lt;details/&gt;, &lt;audio controls/&gt; and &lt;video controls/&gt; elements get a default</span><span class="s3">\n    </span><span class="s1">// `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,</span><span class="s3">\n    </span><span class="s1">// yet they are still part of the regular tab order; in FF, they get a default</span><span class="s3">\n    </span><span class="s1">// `tabIndex` of 0; since Chrome still puts those elements in the regular tab</span><span class="s3">\n    </span><span class="s1">// order, consider their tab index to be 0.</span><span class="s3">\n    </span><span class="s1">// Also browsers do not return `tabIndex` correctly for contentEditable nodes;</span><span class="s3">\n    </span><span class="s1">// so if they don't have a tabindex attribute specifically set, assume it's 0.</span><span class="s3">\n    </span><span class="s1">//</span><span class="s3">\n    </span><span class="s1">// isScope is positive for custom element with shadow root or slot that by default</span><span class="s3">\n    </span><span class="s1">// have tabIndex -1, but need to be sorted by document order in order for their</span><span class="s3">\n    </span><span class="s1">// content to be inserted in the correct position</span><span class="s3">\n    </span><span class="s1">if ((isScope || /^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) || node.isContentEditable) &amp;&amp; isNaN(parseInt(node.getAttribute('tabindex'), 10))) {</span><span class="s3">\n      </span><span class="s1">return 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return node.tabIndex;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var sortOrderedTabbables = function sortOrderedTabbables(a, b) {</span><span class="s3">\n  </span><span class="s1">return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isInput = function isInput(node) {</span><span class="s3">\n  </span><span class="s1">return node.tagName === 'INPUT';</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isHiddenInput = function isHiddenInput(node) {</span><span class="s3">\n  </span><span class="s1">return isInput(node) &amp;&amp; node.type === 'hidden';</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isDetailsWithSummary = function isDetailsWithSummary(node) {</span><span class="s3">\n  </span><span class="s1">var r = node.tagName === 'DETAILS' &amp;&amp; Array.prototype.slice.apply(node.children).some(function (child) {</span><span class="s3">\n    </span><span class="s1">return child.tagName === 'SUMMARY';</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return r;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var getCheckedRadio = function getCheckedRadio(nodes, form) {</span><span class="s3">\n  </span><span class="s1">for (var i = 0; i &lt; nodes.length; i++) {</span><span class="s3">\n    </span><span class="s1">if (nodes[i].checked &amp;&amp; nodes[i].form === form) {</span><span class="s3">\n      </span><span class="s1">return nodes[i];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isTabbableRadio = function isTabbableRadio(node) {</span><span class="s3">\n  </span><span class="s1">if (!node.name) {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var radioScope = node.form || getRootNode(node);</span><span class="s3">\n\n  </span><span class="s1">var queryRadios = function queryRadios(name) {</span><span class="s3">\n    </span><span class="s1">return radioScope.querySelectorAll('input[type=</span><span class="s3">\&quot;</span><span class="s1">radio</span><span class="s3">\&quot;</span><span class="s1">][name=</span><span class="s3">\&quot;</span><span class="s1">' + name + '</span><span class="s3">\&quot;</span><span class="s1">]');</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">var radioSet;</span><span class="s3">\n\n  </span><span class="s1">if (typeof window !== 'undefined' &amp;&amp; typeof window.CSS !== 'undefined' &amp;&amp; typeof window.CSS.escape === 'function') {</span><span class="s3">\n    </span><span class="s1">radioSet = queryRadios(window.CSS.escape(node.name));</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">try {</span><span class="s3">\n      </span><span class="s1">radioSet = queryRadios(node.name);</span><span class="s3">\n    </span><span class="s1">} catch (err) {</span><span class="s3">\n      </span><span class="s1">// eslint-disable-next-line no-console</span><span class="s3">\n      </span><span class="s1">console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);</span><span class="s3">\n      </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var checked = getCheckedRadio(radioSet, node.form);</span><span class="s3">\n  </span><span class="s1">return !checked || checked === node;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isRadio = function isRadio(node) {</span><span class="s3">\n  </span><span class="s1">return isInput(node) &amp;&amp; node.type === 'radio';</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isNonTabbableRadio = function isNonTabbableRadio(node) {</span><span class="s3">\n  </span><span class="s1">return isRadio(node) &amp;&amp; !isTabbableRadio(node);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isZeroArea = function isZeroArea(node) {</span><span class="s3">\n  </span><span class="s1">var _node$getBoundingClie = node.getBoundingClientRect(),</span><span class="s3">\n      </span><span class="s1">width = _node$getBoundingClie.width,</span><span class="s3">\n      </span><span class="s1">height = _node$getBoundingClie.height;</span><span class="s3">\n\n  </span><span class="s1">return width === 0 &amp;&amp; height === 0;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isHidden = function isHidden(node, _ref) {</span><span class="s3">\n  </span><span class="s1">var displayCheck = _ref.displayCheck,</span><span class="s3">\n      </span><span class="s1">getShadowRoot = _ref.getShadowRoot;</span><span class="s3">\n\n  </span><span class="s1">// NOTE: visibility will be `undefined` if node is detached from the document</span><span class="s3">\n  </span><span class="s1">//  (see notes about this further down), which means we will consider it visible</span><span class="s3">\n  </span><span class="s1">//  (this is legacy behavior from a very long way back)</span><span class="s3">\n  </span><span class="s1">// NOTE: we check this regardless of `displayCheck=</span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">` because this is a</span><span class="s3">\n  </span><span class="s1">//  _visibility_ check, not a _display_ check</span><span class="s3">\n  </span><span class="s1">if (getComputedStyle(node).visibility === 'hidden') {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">var isDirectSummary = matches.call(node, 'details&gt;summary:first-of-type');</span><span class="s3">\n  </span><span class="s1">var nodeUnderDetails = isDirectSummary ? node.parentElement : node;</span><span class="s3">\n\n  </span><span class="s1">if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">} // The root node is the shadow root if the node is in a shadow DOM; some document otherwise</span><span class="s3">\n  </span><span class="s1">//  (but NOT _the_ document; see second 'If' comment below for more).</span><span class="s3">\n  </span><span class="s1">// If rootNode is shadow root, it'll have a host, which is the element to which the shadow</span><span class="s3">\n  </span><span class="s1">//  is attached, and the one we need to check if it's in the document or not (because the</span><span class="s3">\n  </span><span class="s1">//  shadow, and all nodes it contains, is never considered in the document since shadows</span><span class="s3">\n  </span><span class="s1">//  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,</span><span class="s3">\n  </span><span class="s1">//  is hidden, or is not in the document itself but is detached, it will affect the shadow's</span><span class="s3">\n  </span><span class="s1">//  visibility, including all the nodes it contains). The host could be any normal node,</span><span class="s3">\n  </span><span class="s1">//  or a custom element (i.e. web component). Either way, that's the one that is considered</span><span class="s3">\n  </span><span class="s1">//  part of the document, not the shadow root, nor any of its children (i.e. the node being</span><span class="s3">\n  </span><span class="s1">//  tested).</span><span class="s3">\n  </span><span class="s1">// If rootNode is not a shadow root, it won't have a host, and so rootNode should be the</span><span class="s3">\n  </span><span class="s1">//  document (per the docs) and while it's a Document-type object, that document does not</span><span class="s3">\n  </span><span class="s1">//  appear to be the same as the node's `ownerDocument` for some reason, so it's safer</span><span class="s3">\n  </span><span class="s1">//  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,</span><span class="s3">\n  </span><span class="s1">//  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when</span><span class="s3">\n  </span><span class="s1">//  node is actually detached.</span><span class="s3">\n\n\n  </span><span class="s1">var nodeRootHost = getRootNode(node).host;</span><span class="s3">\n  </span><span class="s1">var nodeIsAttached = (nodeRootHost === null || nodeRootHost === void 0 ? void 0 : nodeRootHost.ownerDocument.contains(nodeRootHost)) || node.ownerDocument.contains(node);</span><span class="s3">\n\n  </span><span class="s1">if (!displayCheck || displayCheck === 'full') {</span><span class="s3">\n    </span><span class="s1">if (typeof getShadowRoot === 'function') {</span><span class="s3">\n      </span><span class="s1">// figure out if we should consider the node to be in an undisclosed shadow and use the</span><span class="s3">\n      </span><span class="s1">//  'non-zero-area' fallback</span><span class="s3">\n      </span><span class="s1">var originalNode = node;</span><span class="s3">\n\n      </span><span class="s1">while (node) {</span><span class="s3">\n        </span><span class="s1">var parentElement = node.parentElement;</span><span class="s3">\n        </span><span class="s1">var rootNode = getRootNode(node);</span><span class="s3">\n\n        </span><span class="s1">if (parentElement &amp;&amp; !parentElement.shadowRoot &amp;&amp; getShadowRoot(parentElement) === true // check if there's an undisclosed shadow</span><span class="s3">\n        </span><span class="s1">) {</span><span class="s3">\n          </span><span class="s1">// node has an undisclosed shadow which means we can only treat it as a black box, so we</span><span class="s3">\n          </span><span class="s1">//  fall back to a non-zero-area test</span><span class="s3">\n          </span><span class="s1">return isZeroArea(node);</span><span class="s3">\n        </span><span class="s1">} else if (node.assignedSlot) {</span><span class="s3">\n          </span><span class="s1">// iterate up slot</span><span class="s3">\n          </span><span class="s1">node = node.assignedSlot;</span><span class="s3">\n        </span><span class="s1">} else if (!parentElement &amp;&amp; rootNode !== node.ownerDocument) {</span><span class="s3">\n          </span><span class="s1">// cross shadow boundary</span><span class="s3">\n          </span><span class="s1">node = rootNode.host;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">// iterate up normal dom</span><span class="s3">\n          </span><span class="s1">node = parentElement;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">node = originalNode;</span><span class="s3">\n    </span><span class="s1">} // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support</span><span class="s3">\n    </span><span class="s1">//  (i.e. it does not also presume that all nodes might have undisclosed shadows); or</span><span class="s3">\n    </span><span class="s1">//  it might be a falsy value, which means shadow DOM support is disabled</span><span class="s3">\n    </span><span class="s1">// Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)</span><span class="s3">\n    </span><span class="s1">//  now we can just test to see if it would normally be visible or not, provided it's</span><span class="s3">\n    </span><span class="s1">//  attached to the main document.</span><span class="s3">\n    </span><span class="s1">// NOTE: We must consider case where node is inside a shadow DOM and given directly to</span><span class="s3">\n    </span><span class="s1">//  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.</span><span class="s3">\n\n\n    </span><span class="s1">if (nodeIsAttached) {</span><span class="s3">\n      </span><span class="s1">// this works wherever the node is: if there's at least one client rect, it's</span><span class="s3">\n      </span><span class="s1">//  somehow displayed; it also covers the CSS 'display: contents' case where the</span><span class="s3">\n      </span><span class="s1">//  node itself is hidden in place of its contents; and there's no need to search</span><span class="s3">\n      </span><span class="s1">//  up the hierarchy either</span><span class="s3">\n      </span><span class="s1">return !node.getClientRects().length;</span><span class="s3">\n    </span><span class="s1">} // Else, the node isn't attached to the document, which means the `getClientRects()`</span><span class="s3">\n    </span><span class="s1">//  API will __always__ return zero rects (this can happen, for example, if React</span><span class="s3">\n    </span><span class="s1">//  is used to render nodes onto a detached tree, as confirmed in this thread:</span><span class="s3">\n    </span><span class="s1">//  https://github.com/facebook/react/issues/9117#issuecomment-284228870)</span><span class="s3">\n    </span><span class="s1">//</span><span class="s3">\n    </span><span class="s1">// It also means that even window.getComputedStyle(node).display will return `undefined`</span><span class="s3">\n    </span><span class="s1">//  because styles are only computed for nodes that are in the document.</span><span class="s3">\n    </span><span class="s1">//</span><span class="s3">\n    </span><span class="s1">// NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable</span><span class="s3">\n    </span><span class="s1">//  somehow. Though it was never stated officially, anyone who has ever used tabbable</span><span class="s3">\n    </span><span class="s1">//  APIs on nodes in detached containers has actually implicitly used tabbable in what</span><span class="s3">\n    </span><span class="s1">//  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=</span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">` mode -- essentially</span><span class="s3">\n    </span><span class="s1">//  considering __everything__ to be visible because of the innability to determine styles.</span><span class="s3">\n\n  </span><span class="s1">} else if (displayCheck === 'non-zero-area') {</span><span class="s3">\n    </span><span class="s1">// NOTE: Even though this tests that the node's client rect is non-zero to determine</span><span class="s3">\n    </span><span class="s1">//  whether it's displayed, and that a detached node will __always__ have a zero-area</span><span class="s3">\n    </span><span class="s1">//  client rect, we don't special-case for whether the node is attached or not. In</span><span class="s3">\n    </span><span class="s1">//  this mode, we do want to consider nodes that have a zero area to be hidden at all</span><span class="s3">\n    </span><span class="s1">//  times, and that includes attached or not.</span><span class="s3">\n    </span><span class="s1">return isZeroArea(node);</span><span class="s3">\n  </span><span class="s1">} // visible, as far as we can tell, or per current `displayCheck` mode</span><span class="s3">\n\n\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">}; // form fields (nested) inside a disabled fieldset are not focusable/tabbable</span><span class="s3">\n</span><span class="s1">//  unless they are in the _first_ &lt;legend&gt; element of the top-most disabled</span><span class="s3">\n</span><span class="s1">//  fieldset</span><span class="s3">\n\n\n</span><span class="s1">var isDisabledFromFieldset = function isDisabledFromFieldset(node) {</span><span class="s3">\n  </span><span class="s1">if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {</span><span class="s3">\n    </span><span class="s1">var parentNode = node.parentElement; // check if `node` is contained in a disabled &lt;fieldset&gt;</span><span class="s3">\n\n    </span><span class="s1">while (parentNode) {</span><span class="s3">\n      </span><span class="s1">if (parentNode.tagName === 'FIELDSET' &amp;&amp; parentNode.disabled) {</span><span class="s3">\n        </span><span class="s1">// look for the first &lt;legend&gt; among the children of the disabled &lt;fieldset&gt;</span><span class="s3">\n        </span><span class="s1">for (var i = 0; i &lt; parentNode.children.length; i++) {</span><span class="s3">\n          </span><span class="s1">var child = parentNode.children.item(i); // when the first &lt;legend&gt; (in document order) is found</span><span class="s3">\n\n          </span><span class="s1">if (child.tagName === 'LEGEND') {</span><span class="s3">\n            </span><span class="s1">// if its parent &lt;fieldset&gt; is not nested in another disabled &lt;fieldset&gt;,</span><span class="s3">\n            </span><span class="s1">// return whether `node` is a descendant of its first &lt;legend&gt;</span><span class="s3">\n            </span><span class="s1">return matches.call(parentNode, 'fieldset[disabled] *') ? true : !child.contains(node);</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">} // the disabled &lt;fieldset&gt; containing `node` has no &lt;legend&gt;</span><span class="s3">\n\n\n        </span><span class="s1">return true;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">parentNode = parentNode.parentElement;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} // else, node's tabbable/focusable state should not be affected by a fieldset's</span><span class="s3">\n  </span><span class="s1">//  enabled/disabled state</span><span class="s3">\n\n\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {</span><span class="s3">\n  </span><span class="s1">if (node.disabled || isHiddenInput(node) || isHidden(node, options) || // For a details element with a summary, the summary element gets the focus</span><span class="s3">\n  </span><span class="s1">isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {</span><span class="s3">\n  </span><span class="s1">if (isNonTabbableRadio(node) || getTabindex(node) &lt; 0 || !isNodeMatchingSelectorFocusable(options, node)) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return true;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isValidShadowRootTabbable = function isValidShadowRootTabbable(shadowHostNode) {</span><span class="s3">\n  </span><span class="s1">var tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);</span><span class="s3">\n\n  </span><span class="s1">if (isNaN(tabIndex) || tabIndex &gt;= 0) {</span><span class="s3">\n    </span><span class="s1">return true;</span><span class="s3">\n  </span><span class="s1">} // If a custom element has an explicit negative tabindex,</span><span class="s3">\n  </span><span class="s1">// browsers will not allow tab targeting said element's children.</span><span class="s3">\n\n\n  </span><span class="s1">return false;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @param {Array.&lt;Element|CandidatesScope&gt;} candidates</span><span class="s3">\n </span><span class="s1">* @returns Element[]</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n\n\n</span><span class="s1">var sortByOrder = function sortByOrder(candidates) {</span><span class="s3">\n  </span><span class="s1">var regularTabbables = [];</span><span class="s3">\n  </span><span class="s1">var orderedTabbables = [];</span><span class="s3">\n  </span><span class="s1">candidates.forEach(function (item, i) {</span><span class="s3">\n    </span><span class="s1">var isScope = !!item.scope;</span><span class="s3">\n    </span><span class="s1">var element = isScope ? item.scope : item;</span><span class="s3">\n    </span><span class="s1">var candidateTabindex = getTabindex(element, isScope);</span><span class="s3">\n    </span><span class="s1">var elements = isScope ? sortByOrder(item.candidates) : element;</span><span class="s3">\n\n    </span><span class="s1">if (candidateTabindex === 0) {</span><span class="s3">\n      </span><span class="s1">isScope ? regularTabbables.push.apply(regularTabbables, elements) : regularTabbables.push(element);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">orderedTabbables.push({</span><span class="s3">\n        </span><span class="s1">documentOrder: i,</span><span class="s3">\n        </span><span class="s1">tabIndex: candidateTabindex,</span><span class="s3">\n        </span><span class="s1">item: item,</span><span class="s3">\n        </span><span class="s1">isScope: isScope,</span><span class="s3">\n        </span><span class="s1">content: elements</span><span class="s3">\n      </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">return orderedTabbables.sort(sortOrderedTabbables).reduce(function (acc, sortable) {</span><span class="s3">\n    </span><span class="s1">sortable.isScope ? acc.push.apply(acc, sortable.content) : acc.push(sortable.content);</span><span class="s3">\n    </span><span class="s1">return acc;</span><span class="s3">\n  </span><span class="s1">}, []).concat(regularTabbables);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var tabbable = function tabbable(el, options) {</span><span class="s3">\n  </span><span class="s1">options = options || {};</span><span class="s3">\n  </span><span class="s1">var candidates;</span><span class="s3">\n\n  </span><span class="s1">if (options.getShadowRoot) {</span><span class="s3">\n    </span><span class="s1">candidates = getCandidatesIteratively([el], options.includeContainer, {</span><span class="s3">\n      </span><span class="s1">filter: isNodeMatchingSelectorTabbable.bind(null, options),</span><span class="s3">\n      </span><span class="s1">flatten: false,</span><span class="s3">\n      </span><span class="s1">getShadowRoot: options.getShadowRoot,</span><span class="s3">\n      </span><span class="s1">shadowRootFilter: isValidShadowRootTabbable</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return sortByOrder(candidates);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var focusable = function focusable(el, options) {</span><span class="s3">\n  </span><span class="s1">options = options || {};</span><span class="s3">\n  </span><span class="s1">var candidates;</span><span class="s3">\n\n  </span><span class="s1">if (options.getShadowRoot) {</span><span class="s3">\n    </span><span class="s1">candidates = getCandidatesIteratively([el], options.includeContainer, {</span><span class="s3">\n      </span><span class="s1">filter: isNodeMatchingSelectorFocusable.bind(null, options),</span><span class="s3">\n      </span><span class="s1">flatten: true,</span><span class="s3">\n      </span><span class="s1">getShadowRoot: options.getShadowRoot</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return candidates;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var isTabbable = function isTabbable(node, options) {</span><span class="s3">\n  </span><span class="s1">options = options || {};</span><span class="s3">\n\n  </span><span class="s1">if (!node) {</span><span class="s3">\n    </span><span class="s1">throw new Error('No node provided');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (matches.call(node, candidateSelector) === false) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return isNodeMatchingSelectorTabbable(options, node);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">var focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');</span><span class="s3">\n\n</span><span class="s1">var isFocusable = function isFocusable(node, options) {</span><span class="s3">\n  </span><span class="s1">options = options || {};</span><span class="s3">\n\n  </span><span class="s1">if (!node) {</span><span class="s3">\n    </span><span class="s1">throw new Error('No node provided');</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (matches.call(node, focusableCandidateSelector) === false) {</span><span class="s3">\n    </span><span class="s1">return false;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return isNodeMatchingSelectorFocusable(options, node);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export { focusable, isFocusable, isTabbable, tabbable };</span><span class="s3">\n</span><span class="s1">//# sourceMappingURL=index.esm.js.map</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, Observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keyEscape, keyTab } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { isTabbable } from </span><span class="s3">\&quot;</span><span class="s1">tabbable</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Switch Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#dialog | ARIA dialog }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the dialog content</span><span class="s3">\n </span><span class="s1">* @csspart positioning-region - A wrapping element used to center the dialog and position the modal overlay</span><span class="s3">\n </span><span class="s1">* @csspart overlay - The modal dialog overlay</span><span class="s3">\n </span><span class="s1">* @csspart control - The dialog element</span><span class="s3">\n </span><span class="s1">* @fires cancel - Fires a custom 'cancel' event when the modal overlay is clicked</span><span class="s3">\n </span><span class="s1">* @fires close - Fires a custom 'close' event when the dialog is hidden</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Dialog extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Indicates the element is modal. When modal, user mouse interaction will be limited to the contents of the element by a modal</span><span class="s3">\n         </span><span class="s1">* overlay.  Clicks on the overlay will cause the dialog to emit a </span><span class="s3">\&quot;</span><span class="s1">dismiss</span><span class="s3">\&quot; </span><span class="s1">event.</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @defaultValue - true</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: modal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.modal = true;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The hidden state of the element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @defaultValue - false</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: hidden</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.hidden = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Indicates that the dialog should trap focus.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @defaultValue - true</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: trap-focus</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.trapFocus = true;</span><span class="s3">\n        </span><span class="s1">this.trapFocusChanged = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n                </span><span class="s1">this.updateTrapFocus();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isTrappingFocus = false;</span><span class="s3">\n        </span><span class="s1">this.handleDocumentKeydown = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!e.defaultPrevented &amp;&amp; !this.hidden) {</span><span class="s3">\n                </span><span class="s1">switch (e.key) {</span><span class="s3">\n                    </span><span class="s1">case keyEscape:</span><span class="s3">\n                        </span><span class="s1">this.dismiss();</span><span class="s3">\n                        </span><span class="s1">e.preventDefault();</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">case keyTab:</span><span class="s3">\n                        </span><span class="s1">this.handleTabKeyDown(e);</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.handleDocumentFocus = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!e.defaultPrevented &amp;&amp; this.shouldForceFocus(e.target)) {</span><span class="s3">\n                </span><span class="s1">this.focusFirstElement();</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.handleTabKeyDown = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.trapFocus || this.hidden) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const bounds = this.getTabQueueBounds();</span><span class="s3">\n            </span><span class="s1">if (bounds.length === 0) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (bounds.length === 1) {</span><span class="s3">\n                </span><span class="s1">// keep focus on single element</span><span class="s3">\n                </span><span class="s1">bounds[0].focus();</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (e.shiftKey &amp;&amp; e.target === bounds[0]) {</span><span class="s3">\n                </span><span class="s1">bounds[bounds.length - 1].focus();</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (!e.shiftKey &amp;&amp; e.target === bounds[bounds.length - 1]) {</span><span class="s3">\n                </span><span class="s1">bounds[0].focus();</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.getTabQueueBounds = () =&gt; {</span><span class="s3">\n            </span><span class="s1">const bounds = [];</span><span class="s3">\n            </span><span class="s1">return Dialog.reduceTabbableItems(bounds, this);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* focus on first element of tab queue</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.focusFirstElement = () =&gt; {</span><span class="s3">\n            </span><span class="s1">const bounds = this.getTabQueueBounds();</span><span class="s3">\n            </span><span class="s1">if (bounds.length &gt; 0) {</span><span class="s3">\n                </span><span class="s1">bounds[0].focus();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">if (this.dialog instanceof HTMLElement) {</span><span class="s3">\n                    </span><span class="s1">this.dialog.focus();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* we should only focus if focus has not already been brought to the dialog</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.shouldForceFocus = (currentFocusElement) =&gt; {</span><span class="s3">\n            </span><span class="s1">return this.isTrappingFocus &amp;&amp; !this.contains(currentFocusElement);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* we should we be active trapping focus</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.shouldTrapFocus = () =&gt; {</span><span class="s3">\n            </span><span class="s1">return this.trapFocus &amp;&amp; !this.hidden;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.updateTrapFocus = (shouldTrapFocusOverride) =&gt; {</span><span class="s3">\n            </span><span class="s1">const shouldTrapFocus = shouldTrapFocusOverride === undefined</span><span class="s3">\n                </span><span class="s1">? this.shouldTrapFocus()</span><span class="s3">\n                </span><span class="s1">: shouldTrapFocusOverride;</span><span class="s3">\n            </span><span class="s1">if (shouldTrapFocus &amp;&amp; !this.isTrappingFocus) {</span><span class="s3">\n                </span><span class="s1">this.isTrappingFocus = true;</span><span class="s3">\n                </span><span class="s1">// Add an event listener for focusin events if we are trapping focus</span><span class="s3">\n                </span><span class="s1">document.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">focusin</span><span class="s3">\&quot;</span><span class="s1">, this.handleDocumentFocus);</span><span class="s3">\n                </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n                    </span><span class="s1">if (this.shouldForceFocus(document.activeElement)) {</span><span class="s3">\n                        </span><span class="s1">this.focusFirstElement();</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (!shouldTrapFocus &amp;&amp; this.isTrappingFocus) {</span><span class="s3">\n                </span><span class="s1">this.isTrappingFocus = false;</span><span class="s3">\n                </span><span class="s1">// remove event listener if we are not trapping focus</span><span class="s3">\n                </span><span class="s1">document.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">focusin</span><span class="s3">\&quot;</span><span class="s1">, this.handleDocumentFocus);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">dismiss() {</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">dismiss</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">// implement `&lt;dialog&gt;` interface</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">cancel</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The method to show the dialog.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">show() {</span><span class="s3">\n        </span><span class="s1">this.hidden = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The method to hide the dialog.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">hide() {</span><span class="s3">\n        </span><span class="s1">this.hidden = true;</span><span class="s3">\n        </span><span class="s1">// implement `&lt;dialog&gt;` interface</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">close</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">document.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">, this.handleDocumentKeydown);</span><span class="s3">\n        </span><span class="s1">this.notifier = Observable.getNotifier(this);</span><span class="s3">\n        </span><span class="s1">this.notifier.subscribe(this, </span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.updateTrapFocus();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">// remove keydown event listener</span><span class="s3">\n        </span><span class="s1">document.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">, this.handleDocumentKeydown);</span><span class="s3">\n        </span><span class="s1">// if we are trapping focus remove the focusin listener</span><span class="s3">\n        </span><span class="s1">this.updateTrapFocus(false);</span><span class="s3">\n        </span><span class="s1">this.notifier.unsubscribe(this, </span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange(source, propertyName) {</span><span class="s3">\n        </span><span class="s1">switch (propertyName) {</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                </span><span class="s1">this.updateTrapFocus();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Reduce a collection to only its focusable elements.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param elements - Collection of elements to reduce</span><span class="s3">\n     </span><span class="s1">* @param element - The current element</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static reduceTabbableItems(elements, element) {</span><span class="s3">\n        </span><span class="s1">if (element.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">return elements;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (isTabbable(element) ||</span><span class="s3">\n            </span><span class="s1">(Dialog.isFocusableFastElement(element) &amp;&amp; Dialog.hasTabbableShadow(element))) {</span><span class="s3">\n            </span><span class="s1">elements.push(element);</span><span class="s3">\n            </span><span class="s1">return elements;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (element.childElementCount) {</span><span class="s3">\n            </span><span class="s1">return elements.concat(Array.from(element.children).reduce(Dialog.reduceTabbableItems, []));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return elements;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Test if element is focusable fast element</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param element - The element to check</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static isFocusableFastElement(element) {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">return !!((_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Test if the element has a focusable shadow</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param element - The element to check</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static hasTabbableShadow(element) {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">return Array.from((_b = (_a = element.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelectorAll(</span><span class="s3">\&quot;</span><span class="s1">*</span><span class="s3">\&quot;</span><span class="s1">)) !== null &amp;&amp; _b !== void 0 ? _b : []).some(x =&gt; {</span><span class="s3">\n            </span><span class="s1">return isTabbable(x);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Dialog.prototype, </span><span class="s3">\&quot;</span><span class="s1">modal</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Dialog.prototype, </span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">trap-focus</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Dialog.prototype, </span><span class="s3">\&quot;</span><span class="s1">trapFocus</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-describedby</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Dialog.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaDescribedby</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-labelledby</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Dialog.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaLabelledby</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">aria-label</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Dialog.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaLabel</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#Dialog} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dialogTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">positioning-region</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">positioning-region</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; x.modal, html `</span><span class="s3">\n                </span><span class="s1">&lt;div</span><span class="s3">\n                    </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">overlay</span><span class="s3">\&quot;\n                    </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">overlay</span><span class="s3">\&quot;\n                    </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">presentation</span><span class="s3">\&quot;\n                    </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.dismiss()}</span><span class="s3">\&quot;\n                </span><span class="s1">&gt;&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n        </span><span class="s1">&lt;div</span><span class="s3">\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">dialog</span><span class="s3">\&quot;\n            </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n            </span><span class="s1">aria-modal=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.modal}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-describedby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDescribedby}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabelledby}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-label=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabel}</span><span class="s3">\&quot;\n            </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">dialog</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { controlCornerRadius, fillColor, strokeWidth } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { elevation } from '../styles/elevation.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Dialog</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dialogStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">:host([hidden]) {</span><span class="s3">\n    </span><span class="s1">display: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host {</span><span class="s3">\n    </span><span class="s1">--elevation: 14;</span><span class="s3">\n    </span><span class="s1">--dialog-height: 480px;</span><span class="s3">\n    </span><span class="s1">--dialog-width: 640px;</span><span class="s3">\n    </span><span class="s1">display: block;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.overlay {</span><span class="s3">\n    </span><span class="s1">position: fixed;</span><span class="s3">\n    </span><span class="s1">top: 0;</span><span class="s3">\n    </span><span class="s1">left: 0;</span><span class="s3">\n    </span><span class="s1">right: 0;</span><span class="s3">\n    </span><span class="s1">bottom: 0;</span><span class="s3">\n    </span><span class="s1">background: rgba(0, 0, 0, 0.3);</span><span class="s3">\n    </span><span class="s1">touch-action: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.positioning-region {</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">justify-content: center;</span><span class="s3">\n    </span><span class="s1">position: fixed;</span><span class="s3">\n    </span><span class="s1">top: 0;</span><span class="s3">\n    </span><span class="s1">bottom: 0;</span><span class="s3">\n    </span><span class="s1">left: 0;</span><span class="s3">\n    </span><span class="s1">right: 0;</span><span class="s3">\n    </span><span class="s1">overflow: auto;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.control {</span><span class="s3">\n    </span><span class="s1">${elevation}</span><span class="s3">\n    </span><span class="s1">margin-top: auto;</span><span class="s3">\n    </span><span class="s1">margin-bottom: auto;</span><span class="s3">\n    </span><span class="s1">width: var(--dialog-width);</span><span class="s3">\n    </span><span class="s1">height: var(--dialog-height);</span><span class="s3">\n    </span><span class="s1">background-color: ${fillColor};</span><span class="s3">\n    </span><span class="s1">z-index: 1;</span><span class="s3">\n    </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">border: calc(${strokeWidth} * 1px) solid transparent;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Dialog, dialogTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { dialogStyles as styles } from './dialog.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Dialog class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-dialog</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterDialog extends Dialog {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Dialog} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#dialogTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* HTML Element: `&lt;jp-dialog&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpDialog = JupyterDialog.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'dialog',</span><span class="s3">\n    </span><span class="s1">baseClass: Dialog,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterDialog as Dialog, styles as dialogStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Disclosure Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Based largely on the {@link https://w3c.github.io/aria-practices/#disclosure | disclosure element }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the summary content</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the summary content</span><span class="s3">\n </span><span class="s1">* @slot title - The summary content</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the disclosure content</span><span class="s3">\n </span><span class="s1">* @fires toggle - fires a toggle event when the summary is toggled</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Disclosure extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.setup();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">this.details.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">toggle</span><span class="s3">\&quot;</span><span class="s1">, this.onToggle);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Show extra content.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">show() {</span><span class="s3">\n        </span><span class="s1">this.details.open = true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Hide extra content.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">hide() {</span><span class="s3">\n        </span><span class="s1">this.details.open = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Toggle the current(expanded/collapsed) state.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toggle() {</span><span class="s3">\n        </span><span class="s1">this.details.open = !this.details.open;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Register listener and set default disclosure mode</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setup() {</span><span class="s3">\n        </span><span class="s1">this.onToggle = this.onToggle.bind(this);</span><span class="s3">\n        </span><span class="s1">this.details.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">toggle</span><span class="s3">\&quot;</span><span class="s1">, this.onToggle);</span><span class="s3">\n        </span><span class="s1">if (this.expanded) {</span><span class="s3">\n            </span><span class="s1">this.show();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Update the aria attr and fire `toggle` event</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">onToggle() {</span><span class="s3">\n        </span><span class="s1">this.expanded = this.details.open;</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">toggle</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Disclosure.prototype, </span><span class="s3">\&quot;</span><span class="s1">expanded</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Disclosure.prototype, </span><span class="s3">\&quot;</span><span class="s1">title</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#Disclosure} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const disclosureTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;details class=</span><span class="s3">\&quot;</span><span class="s1">disclosure</span><span class="s3">\&quot; </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">details</span><span class="s3">\&quot;</span><span class="s1">)}&gt;</span><span class="s3">\n        </span><span class="s1">&lt;summary</span><span class="s3">\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">invoker</span><span class="s3">\&quot;\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">button</span><span class="s3">\&quot;\n            </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">disclosure-content</span><span class="s3">\&quot;\n            </span><span class="s1">aria-expanded=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.expanded}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">title</span><span class="s3">\&quot;</span><span class="s1">&gt;${x =&gt; x.title}&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/summary&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div id=</span><span class="s3">\&quot;</span><span class="s1">disclosure-content</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/details&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { accentFillActive, accentFillHover, accentFillRest, accentForegroundActive, accentForegroundHover, accentForegroundRest, bodyFont, controlCornerRadius, foregroundOnAccentActive, foregroundOnAccentHover, foregroundOnAccentRest, strokeWidth, typeRampBaseFontSize } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Disclosure</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const disclosureStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">.disclosure {</span><span class="s3">\n    </span><span class="s1">transition: height 0.35s;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.disclosure .invoker::-webkit-details-marker {</span><span class="s3">\n    </span><span class="s1">display: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.disclosure .invoker {</span><span class="s3">\n    </span><span class="s1">list-style-type: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='accent']) .invoker {</span><span class="s3">\n    </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n    </span><span class="s1">color: ${foregroundOnAccentRest};</span><span class="s3">\n    </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n    </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">outline: none;</span><span class="s3">\n    </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">margin: 16px 0;</span><span class="s3">\n    </span><span class="s1">padding: 12px;</span><span class="s3">\n    </span><span class="s1">max-width: max-content;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='accent']) .invoker:active {</span><span class="s3">\n    </span><span class="s1">background: ${accentFillActive};</span><span class="s3">\n    </span><span class="s1">color: ${foregroundOnAccentActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='accent']) .invoker:hover {</span><span class="s3">\n    </span><span class="s1">background: ${accentFillHover};</span><span class="s3">\n    </span><span class="s1">color: ${foregroundOnAccentHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='lightweight']) .invoker {</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">color: ${accentForegroundRest};</span><span class="s3">\n    </span><span class="s1">border-bottom: calc(${strokeWidth} * 1px) solid ${accentForegroundRest};</span><span class="s3">\n    </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">width: max-content;</span><span class="s3">\n    </span><span class="s1">margin: 16px 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='lightweight']) .invoker:active {</span><span class="s3">\n    </span><span class="s1">border-bottom-color: ${accentForegroundActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='lightweight']) .invoker:hover {</span><span class="s3">\n    </span><span class="s1">border-bottom-color: ${accentForegroundHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.disclosure[open] .invoker ~ * {</span><span class="s3">\n    </span><span class="s1">animation: fadeIn 0.5s ease-in-out;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">@keyframes fadeIn {</span><span class="s3">\n    </span><span class="s1">0% {</span><span class="s3">\n      </span><span class="s1">opacity: 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">100% {</span><span class="s3">\n      </span><span class="s1">opacity: 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { Disclosure, disclosureTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { disclosureStyles as styles } from './disclosure.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Disclosure class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-disclosure</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterDisclosure extends Disclosure {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Disclosure default height</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.height = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Disclosure height after it's expanded</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.totalHeight = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">if (!this.appearance) {</span><span class="s3">\n            </span><span class="s1">this.appearance = 'accent';</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">appearanceChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">if (oldValue !== newValue) {</span><span class="s3">\n            </span><span class="s1">this.classList.add(newValue);</span><span class="s3">\n            </span><span class="s1">this.classList.remove(oldValue);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Set disclosure height while transitioning</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">onToggle() {</span><span class="s3">\n        </span><span class="s1">super.onToggle();</span><span class="s3">\n        </span><span class="s1">this.details.style.setProperty('height', `${this.disclosureHeight}px`);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Calculate disclosure height before and after expanded</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setup() {</span><span class="s3">\n        </span><span class="s1">super.setup();</span><span class="s3">\n        </span><span class="s1">const getCurrentHeight = () =&gt; this.details.getBoundingClientRect().height;</span><span class="s3">\n        </span><span class="s1">this.show();</span><span class="s3">\n        </span><span class="s1">this.totalHeight = getCurrentHeight();</span><span class="s3">\n        </span><span class="s1">this.hide();</span><span class="s3">\n        </span><span class="s1">this.height = getCurrentHeight();</span><span class="s3">\n        </span><span class="s1">if (this.expanded) {</span><span class="s3">\n            </span><span class="s1">this.show();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get disclosureHeight() {</span><span class="s3">\n        </span><span class="s1">return this.expanded ? this.totalHeight : this.height;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterDisclosure.prototype, </span><span class="s3">\&quot;</span><span class="s1">appearance</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Disclosure} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#disclosureTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-Disclosure&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpDisclosure = JupyterDisclosure.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'disclosure',</span><span class="s3">\n    </span><span class="s1">baseClass: Disclosure,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterDisclosure as Disclosure, styles as disclosureStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Standard orientation values</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const Orientation = {</span><span class="s3">\n    </span><span class="s1">horizontal: </span><span class="s3">\&quot;</span><span class="s1">horizontal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">vertical: </span><span class="s3">\&quot;</span><span class="s1">vertical</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Divider roles</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const DividerRole = {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The divider semantically separates content</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">separator: </span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The divider has no semantic value and is for visual presentation only.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">presentation: </span><span class="s3">\&quot;</span><span class="s1">presentation</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Orientation } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DividerRole } from </span><span class="s3">\&quot;</span><span class="s1">./divider.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export { DividerRole };</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Divider Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#separator | ARIA separator } or {@link https://www.w3.org/TR/wai-aria-1.1/#presentation | ARIA presentation}.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Divider extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The role of the element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: role</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.role = DividerRole.separator;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The orientation of the divider.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: orientation</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.orientation = Orientation.horizontal;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Divider.prototype, </span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Divider.prototype, </span><span class="s3">\&quot;</span><span class="s1">orientation</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#Divider} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dividerTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template role=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.role}</span><span class="s3">\&quot; </span><span class="s1">aria-orientation=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.orientation}</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { designUnit, neutralStrokeDividerRest, strokeWidth } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Divider</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const dividerStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${display('block')} :host {</span><span class="s3">\n    </span><span class="s1">box-sizing: content-box;</span><span class="s3">\n    </span><span class="s1">height: 0;</span><span class="s3">\n    </span><span class="s1">margin: calc(${designUnit} * 1px) 0;</span><span class="s3">\n    </span><span class="s1">border-top: calc(${strokeWidth} * 1px) solid ${neutralStrokeDividerRest};</span><span class="s3">\n    </span><span class="s1">border-left: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([orientation='vertical']) {</span><span class="s3">\n    </span><span class="s1">height: 100%;</span><span class="s3">\n    </span><span class="s1">margin: 0 calc(${designUnit} * 1px);</span><span class="s3">\n    </span><span class="s1">border-top: none;</span><span class="s3">\n    </span><span class="s1">border-left: calc(${strokeWidth} * 1px) solid ${neutralStrokeDividerRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Divider, dividerTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { dividerStyles as styles } from './divider.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Divider class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-divider</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterDivider extends Divider {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Divider} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#dividerTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-divider&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpDivider = JupyterDivider.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'divider',</span><span class="s3">\n    </span><span class="s1">baseClass: Divider,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterDivider as Divider, styles as dividerStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ListboxElement } from </span><span class="s3">\&quot;</span><span class="s1">./listbox.element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Listbox:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const listboxTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">aria-activedescendant=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaActiveDescendant}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-multiselectable=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaMultiSelectable}</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;\n        </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (!x.disabled ? </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">: null)}</span><span class="s3">\&quot;\n        </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.clickHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusin=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.focusinHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.keydownHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@mousedown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.mousedownHandler(c.event)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot</span><span class="s3">\n            </span><span class="s1">${slotted({</span><span class="s3">\n    </span><span class="s1">filter: ListboxElement.slottedOptionFilter,</span><span class="s3">\n    </span><span class="s1">flatten: true,</span><span class="s3">\n    </span><span class="s1">property: </span><span class="s3">\&quot;</span><span class="s1">slottedOptions</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">})}</span><span class="s3">\n        </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { ListboxElement, listboxTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { listboxStyles as styles } from './listbox.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Listbox class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-listbox</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the value has changed</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterListbox extends ListboxElement {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the component dimensions when the size property is changed.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous size value</span><span class="s3">\n     </span><span class="s1">* @param next - the current size value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">sizeChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">super.sizeChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">this.updateComputedStylesheet();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates an internal stylesheet with calculated CSS custom properties.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateComputedStylesheet() {</span><span class="s3">\n        </span><span class="s1">if (this.computedStylesheet) {</span><span class="s3">\n            </span><span class="s1">this.$fastController.removeStyles(this.computedStylesheet);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const listboxSize = `${this.size}`;</span><span class="s3">\n        </span><span class="s1">this.computedStylesheet = css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">--size: ${listboxSize};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n        </span><span class="s1">this.$fastController.addStyles(this.computedStylesheet);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#ListboxElement} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#listboxTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-listbox&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpListbox = JupyterListbox.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'listbox',</span><span class="s3">\n    </span><span class="s1">baseClass: ListboxElement,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterListbox as Listbox, styles as listboxStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Menu items roles.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const MenuItemRole = {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The menu item has a </span><span class="s3">\&quot;</span><span class="s1">menuitem</span><span class="s3">\&quot; </span><span class="s1">role</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">menuitem: </span><span class="s3">\&quot;</span><span class="s1">menuitem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The menu item has a </span><span class="s3">\&quot;</span><span class="s1">menuitemcheckbox</span><span class="s3">\&quot; </span><span class="s1">role</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">menuitemcheckbox: </span><span class="s3">\&quot;</span><span class="s1">menuitemcheckbox</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The menu item has a </span><span class="s3">\&quot;</span><span class="s1">menuitemradio</span><span class="s3">\&quot; </span><span class="s1">role</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">menuitemradio: </span><span class="s3">\&quot;</span><span class="s1">menuitemradio</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const roleForMenuItem = {</span><span class="s3">\n    </span><span class="s1">[MenuItemRole.menuitem]: </span><span class="s3">\&quot;</span><span class="s1">menuitem</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">[MenuItemRole.menuitemcheckbox]: </span><span class="s3">\&quot;</span><span class="s1">menuitemcheckbox</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">[MenuItemRole.menuitemradio]: </span><span class="s3">\&quot;</span><span class="s1">menuitemradio</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Direction, keyArrowLeft, keyArrowRight, keyEnter, keySpace, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement, } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { StartEnd } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { getDirection } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/direction.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { MenuItemRole, roleForMenuItem } from </span><span class="s3">\&quot;</span><span class="s1">./menu-item.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export { MenuItemRole, roleForMenuItem };</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Switch Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements {@link https://www.w3.org/TR/wai-aria-1.1/#menuitem | ARIA menuitem }, {@link https://www.w3.org/TR/wai-aria-1.1/#menuitemcheckbox | ARIA menuitemcheckbox}, or {@link https://www.w3.org/TR/wai-aria-1.1/#menuitemradio | ARIA menuitemradio }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot checked-indicator - The checked indicator</span><span class="s3">\n </span><span class="s1">* @slot radio-indicator - The radio indicator</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the menu item content</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the menu item content</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for menu item content</span><span class="s3">\n </span><span class="s1">* @slot expand-collapse-indicator - The expand/collapse indicator</span><span class="s3">\n </span><span class="s1">* @slot submenu - Used to nest menu's within menu items</span><span class="s3">\n </span><span class="s1">* @csspart input-container - The element representing the visual checked or radio indicator</span><span class="s3">\n </span><span class="s1">* @csspart checkbox - The element wrapping the `menuitemcheckbox` indicator</span><span class="s3">\n </span><span class="s1">* @csspart radio - The element wrapping the `menuitemradio` indicator</span><span class="s3">\n </span><span class="s1">* @csspart content - The element wrapping the menu item content</span><span class="s3">\n </span><span class="s1">* @csspart expand-collapse-glyph-container - The element wrapping the expand collapse element</span><span class="s3">\n </span><span class="s1">* @csspart expand-collapse - The expand/collapse element</span><span class="s3">\n </span><span class="s1">* @csspart submenu-region - The container for the submenu, used for positioning</span><span class="s3">\n </span><span class="s1">* @fires expanded-change - Fires a custom 'expanded-change' event when the expanded state changes</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when a non-submenu item with a role of `menuitemcheckbox`, `menuitemradio`, or `menuitem` is invoked</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class MenuItem extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The role of the element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: role</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.role = MenuItemRole.menuitem;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.hasSubmenu = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Track current direction to pass to the anchored region</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.currentDirection = Direction.ltr;</span><span class="s3">\n        </span><span class="s1">this.focusSubmenuOnLoad = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleMenuItemKeyDown = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">switch (e.key) {</span><span class="s3">\n                </span><span class="s1">case keyEnter:</span><span class="s3">\n                </span><span class="s1">case keySpace:</span><span class="s3">\n                    </span><span class="s1">this.invoke();</span><span class="s3">\n                    </span><span class="s1">return false;</span><span class="s3">\n                </span><span class="s1">case keyArrowRight:</span><span class="s3">\n                    </span><span class="s1">//open/focus on submenu</span><span class="s3">\n                    </span><span class="s1">this.expandAndFocus();</span><span class="s3">\n                    </span><span class="s1">return false;</span><span class="s3">\n                </span><span class="s1">case keyArrowLeft:</span><span class="s3">\n                    </span><span class="s1">//close submenu</span><span class="s3">\n                    </span><span class="s1">if (this.expanded) {</span><span class="s3">\n                        </span><span class="s1">this.expanded = false;</span><span class="s3">\n                        </span><span class="s1">this.focus();</span><span class="s3">\n                        </span><span class="s1">return false;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleMenuItemClick = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (e.defaultPrevented || this.disabled) {</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.invoke();</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.submenuLoaded = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.focusSubmenuOnLoad) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.focusSubmenuOnLoad = false;</span><span class="s3">\n            </span><span class="s1">if (this.hasSubmenu) {</span><span class="s3">\n                </span><span class="s1">this.submenu.focus();</span><span class="s3">\n                </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleMouseOver = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.disabled || !this.hasSubmenu || this.expanded) {</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.expanded = true;</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleMouseOut = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.expanded || this.contains(document.activeElement)) {</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.expanded = false;</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.expandAndFocus = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.hasSubmenu) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.focusSubmenuOnLoad = true;</span><span class="s3">\n            </span><span class="s1">this.expanded = true;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.invoke = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.disabled) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">switch (this.role) {</span><span class="s3">\n                </span><span class="s1">case MenuItemRole.menuitemcheckbox:</span><span class="s3">\n                    </span><span class="s1">this.checked = !this.checked;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case MenuItemRole.menuitem:</span><span class="s3">\n                    </span><span class="s1">// update submenu</span><span class="s3">\n                    </span><span class="s1">this.updateSubmenu();</span><span class="s3">\n                    </span><span class="s1">if (this.hasSubmenu) {</span><span class="s3">\n                        </span><span class="s1">this.expandAndFocus();</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case MenuItemRole.menuitemradio:</span><span class="s3">\n                    </span><span class="s1">if (!this.checked) {</span><span class="s3">\n                        </span><span class="s1">this.checked = true;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Gets the submenu element if any</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.updateSubmenu = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.submenu = this.domChildren().find((element) =&gt; {</span><span class="s3">\n                </span><span class="s1">return element.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">menu</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">this.hasSubmenu = this.submenu === undefined ? false : true;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">expandedChanged(oldValue) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">if (this.submenu === undefined) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.expanded === false) {</span><span class="s3">\n                </span><span class="s1">this.submenu.collapseExpandedItem();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">this.currentDirection = getDirection(this);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">expanded-change</span><span class="s3">\&quot;</span><span class="s1">, this, { bubbles: false });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">checkedChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n            </span><span class="s1">this.updateSubmenu();</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">if (!this.startColumnCount) {</span><span class="s3">\n            </span><span class="s1">this.startColumnCount = 1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.observer = new MutationObserver(this.updateSubmenu);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">this.submenu = undefined;</span><span class="s3">\n        </span><span class="s1">if (this.observer !== undefined) {</span><span class="s3">\n            </span><span class="s1">this.observer.disconnect();</span><span class="s3">\n            </span><span class="s1">this.observer = undefined;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* get an array of valid DOM children</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">domChildren() {</span><span class="s3">\n        </span><span class="s1">return Array.from(this.children).filter(child =&gt; !child.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], MenuItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], MenuItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">expanded</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], MenuItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">startColumnCount</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], MenuItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], MenuItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], MenuItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">submenuRegion</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], MenuItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">hasSubmenu</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], MenuItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">currentDirection</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], MenuItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">submenu</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(MenuItem, StartEnd);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DOM, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { isHTMLElement, keyArrowDown, keyArrowUp, keyEnd, keyHome, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { MenuItem, MenuItemRole, roleForMenuItem, } from </span><span class="s3">\&quot;</span><span class="s1">../menu-item/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Menu Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#menu | ARIA menu }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the menu items</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Menu extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.expandedItem = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The index of the focusable element in the items array</span><span class="s3">\n         </span><span class="s1">* defaults to -1</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.focusIndex = -1;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isNestedMenu = () =&gt; {</span><span class="s3">\n            </span><span class="s1">return (this.parentElement !== null &amp;&amp;</span><span class="s3">\n                </span><span class="s1">isHTMLElement(this.parentElement) &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.parentElement.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">menuitem</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* if focus is moving out of the menu, reset to a stable initial state</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleFocusOut = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.contains(e.relatedTarget) &amp;&amp; this.menuItems !== undefined) {</span><span class="s3">\n                </span><span class="s1">this.collapseExpandedItem();</span><span class="s3">\n                </span><span class="s1">// find our first focusable element</span><span class="s3">\n                </span><span class="s1">const focusIndex = this.menuItems.findIndex(this.isFocusableElement);</span><span class="s3">\n                </span><span class="s1">// set the current focus index's tabindex to -1</span><span class="s3">\n                </span><span class="s1">this.menuItems[this.focusIndex].setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">// set the first focusable element tabindex to 0</span><span class="s3">\n                </span><span class="s1">this.menuItems[focusIndex].setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">// set the focus index</span><span class="s3">\n                </span><span class="s1">this.focusIndex = focusIndex;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.handleItemFocus = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">const targetItem = e.target;</span><span class="s3">\n            </span><span class="s1">if (this.menuItems !== undefined &amp;&amp;</span><span class="s3">\n                </span><span class="s1">targetItem !== this.menuItems[this.focusIndex]) {</span><span class="s3">\n                </span><span class="s1">this.menuItems[this.focusIndex].setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.focusIndex = this.menuItems.indexOf(targetItem);</span><span class="s3">\n                </span><span class="s1">targetItem.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.handleExpandedChanged = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (e.defaultPrevented ||</span><span class="s3">\n                </span><span class="s1">e.target === null ||</span><span class="s3">\n                </span><span class="s1">this.menuItems === undefined ||</span><span class="s3">\n                </span><span class="s1">this.menuItems.indexOf(e.target) &lt; 0) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">e.preventDefault();</span><span class="s3">\n            </span><span class="s1">const changedItem = e.target;</span><span class="s3">\n            </span><span class="s1">// closing an expanded item without opening another</span><span class="s3">\n            </span><span class="s1">if (this.expandedItem !== null &amp;&amp;</span><span class="s3">\n                </span><span class="s1">changedItem === this.expandedItem &amp;&amp;</span><span class="s3">\n                </span><span class="s1">changedItem.expanded === false) {</span><span class="s3">\n                </span><span class="s1">this.expandedItem = null;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (changedItem.expanded) {</span><span class="s3">\n                </span><span class="s1">if (this.expandedItem !== null &amp;&amp; this.expandedItem !== changedItem) {</span><span class="s3">\n                    </span><span class="s1">this.expandedItem.expanded = false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.menuItems[this.focusIndex].setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.expandedItem = changedItem;</span><span class="s3">\n                </span><span class="s1">this.focusIndex = this.menuItems.indexOf(changedItem);</span><span class="s3">\n                </span><span class="s1">changedItem.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.removeItemListeners = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.menuItems !== undefined) {</span><span class="s3">\n                </span><span class="s1">this.menuItems.forEach((item) =&gt; {</span><span class="s3">\n                    </span><span class="s1">item.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">expanded-change</span><span class="s3">\&quot;</span><span class="s1">, this.handleExpandedChanged);</span><span class="s3">\n                    </span><span class="s1">item.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">focus</span><span class="s3">\&quot;</span><span class="s1">, this.handleItemFocus);</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.setItems = () =&gt; {</span><span class="s3">\n            </span><span class="s1">const newItems = this.domChildren();</span><span class="s3">\n            </span><span class="s1">this.removeItemListeners();</span><span class="s3">\n            </span><span class="s1">this.menuItems = newItems;</span><span class="s3">\n            </span><span class="s1">const menuItems = this.menuItems.filter(this.isMenuItemElement);</span><span class="s3">\n            </span><span class="s1">// if our focus index is not -1 we have items</span><span class="s3">\n            </span><span class="s1">if (menuItems.length) {</span><span class="s3">\n                </span><span class="s1">this.focusIndex = 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">function elementIndent(el) {</span><span class="s3">\n                </span><span class="s1">const role = el.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">const startSlot = el.querySelector(</span><span class="s3">\&quot;</span><span class="s1">[slot=start]</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">if (role !== MenuItemRole.menuitem &amp;&amp; startSlot === null) {</span><span class="s3">\n                    </span><span class="s1">return 1;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (role === MenuItemRole.menuitem &amp;&amp; startSlot !== null) {</span><span class="s3">\n                    </span><span class="s1">return 1;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (role !== MenuItemRole.menuitem &amp;&amp; startSlot !== null) {</span><span class="s3">\n                    </span><span class="s1">return 2;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">return 0;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const indent = menuItems.reduce((accum, current) =&gt; {</span><span class="s3">\n                </span><span class="s1">const elementValue = elementIndent(current);</span><span class="s3">\n                </span><span class="s1">return accum &gt; elementValue ? accum : elementValue;</span><span class="s3">\n            </span><span class="s1">}, 0);</span><span class="s3">\n            </span><span class="s1">menuItems.forEach((item, index) =&gt; {</span><span class="s3">\n                </span><span class="s1">item.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, index === 0 ? </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">item.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">expanded-change</span><span class="s3">\&quot;</span><span class="s1">, this.handleExpandedChanged);</span><span class="s3">\n                </span><span class="s1">item.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">focus</span><span class="s3">\&quot;</span><span class="s1">, this.handleItemFocus);</span><span class="s3">\n                </span><span class="s1">if (item instanceof MenuItem || </span><span class="s3">\&quot;</span><span class="s1">startColumnCount</span><span class="s3">\&quot; </span><span class="s1">in item) {</span><span class="s3">\n                    </span><span class="s1">item.startColumnCount = indent;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* handle change from child element</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.changeHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.menuItems === undefined) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const changedMenuItem = e.target;</span><span class="s3">\n            </span><span class="s1">const changeItemIndex = this.menuItems.indexOf(changedMenuItem);</span><span class="s3">\n            </span><span class="s1">if (changeItemIndex === -1) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (changedMenuItem.role === </span><span class="s3">\&quot;</span><span class="s1">menuitemradio</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n                </span><span class="s1">changedMenuItem.checked === true) {</span><span class="s3">\n                </span><span class="s1">for (let i = changeItemIndex - 1; i &gt;= 0; --i) {</span><span class="s3">\n                    </span><span class="s1">const item = this.menuItems[i];</span><span class="s3">\n                    </span><span class="s1">const role = item.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">if (role === MenuItemRole.menuitemradio) {</span><span class="s3">\n                        </span><span class="s1">item.checked = false;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (role === </span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">const maxIndex = this.menuItems.length - 1;</span><span class="s3">\n                </span><span class="s1">for (let i = changeItemIndex + 1; i &lt;= maxIndex; ++i) {</span><span class="s3">\n                    </span><span class="s1">const item = this.menuItems[i];</span><span class="s3">\n                    </span><span class="s1">const role = item.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">if (role === MenuItemRole.menuitemradio) {</span><span class="s3">\n                        </span><span class="s1">item.checked = false;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">if (role === </span><span class="s3">\&quot;</span><span class="s1">separator</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* check if the item is a menu item</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isMenuItemElement = (el) =&gt; {</span><span class="s3">\n            </span><span class="s1">return (isHTMLElement(el) &amp;&amp;</span><span class="s3">\n                </span><span class="s1">Menu.focusableElementRoles.hasOwnProperty(el.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">)));</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* check if the item is focusable</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isFocusableElement = (el) =&gt; {</span><span class="s3">\n            </span><span class="s1">return this.isMenuItemElement(el);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">itemsChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">// only update children after the component is connected and</span><span class="s3">\n        </span><span class="s1">// the setItems has run on connectedCallback</span><span class="s3">\n        </span><span class="s1">// (menuItems is undefined until then)</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp; this.menuItems !== undefined) {</span><span class="s3">\n            </span><span class="s1">this.setItems();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n            </span><span class="s1">// wait until children have had a chance to</span><span class="s3">\n            </span><span class="s1">// connect before setting/checking their props/attributes</span><span class="s3">\n            </span><span class="s1">this.setItems();</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">this.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, this.changeHandler);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">this.removeItemListeners();</span><span class="s3">\n        </span><span class="s1">this.menuItems = undefined;</span><span class="s3">\n        </span><span class="s1">this.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, this.changeHandler);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Focuses the first item in the menu.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focus() {</span><span class="s3">\n        </span><span class="s1">this.setFocus(0, 1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Collapses any expanded menu items.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">collapseExpandedItem() {</span><span class="s3">\n        </span><span class="s1">if (this.expandedItem !== null) {</span><span class="s3">\n            </span><span class="s1">this.expandedItem.expanded = false;</span><span class="s3">\n            </span><span class="s1">this.expandedItem = null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleMenuKeyDown(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented || this.menuItems === undefined) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">switch (e.key) {</span><span class="s3">\n            </span><span class="s1">case keyArrowDown:</span><span class="s3">\n                </span><span class="s1">// go forward one index</span><span class="s3">\n                </span><span class="s1">this.setFocus(this.focusIndex + 1, 1);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">case keyArrowUp:</span><span class="s3">\n                </span><span class="s1">// go back one index</span><span class="s3">\n                </span><span class="s1">this.setFocus(this.focusIndex - 1, -1);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">case keyEnd:</span><span class="s3">\n                </span><span class="s1">// set focus on last item</span><span class="s3">\n                </span><span class="s1">this.setFocus(this.menuItems.length - 1, -1);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">case keyHome:</span><span class="s3">\n                </span><span class="s1">// set focus on first item</span><span class="s3">\n                </span><span class="s1">this.setFocus(0, 1);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">// if we are not handling the event, do not prevent default</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* get an array of valid DOM children</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">domChildren() {</span><span class="s3">\n        </span><span class="s1">return Array.from(this.children).filter(child =&gt; !child.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setFocus(focusIndex, adjustment) {</span><span class="s3">\n        </span><span class="s1">if (this.menuItems === undefined) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">while (focusIndex &gt;= 0 &amp;&amp; focusIndex &lt; this.menuItems.length) {</span><span class="s3">\n            </span><span class="s1">const child = this.menuItems[focusIndex];</span><span class="s3">\n            </span><span class="s1">if (this.isFocusableElement(child)) {</span><span class="s3">\n                </span><span class="s1">// change the previous index to -1</span><span class="s3">\n                </span><span class="s1">if (this.focusIndex &gt; -1 &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">this.menuItems.length &gt;= this.focusIndex - 1) {</span><span class="s3">\n                    </span><span class="s1">this.menuItems[this.focusIndex].setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">// update the focus index</span><span class="s3">\n                </span><span class="s1">this.focusIndex = focusIndex;</span><span class="s3">\n                </span><span class="s1">// update the tabindex of next focusable element</span><span class="s3">\n                </span><span class="s1">child.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">// focus the element</span><span class="s3">\n                </span><span class="s1">child.focus();</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">focusIndex += adjustment;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">Menu.focusableElementRoles = roleForMenuItem;</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Menu.prototype, </span><span class="s3">\&quot;</span><span class="s1">items</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#Menu} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const menuTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">slot=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.slot ? x.slot : x.isNestedMenu() ? </span><span class="s3">\&quot;</span><span class="s1">submenu</span><span class="s3">\&quot; </span><span class="s1">: void 0)}</span><span class="s3">\&quot;\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">menu</span><span class="s3">\&quot;\n        </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleMenuKeyDown(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusout=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleFocusOut(c.event)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot ${slotted(</span><span class="s3">\&quot;</span><span class="s1">items</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { controlCornerRadius, designUnit, fillColor, neutralStrokeDividerRest, strokeWidth } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { elevation } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Menu</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const menuStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('block')} :host {</span><span class="s3">\n      </span><span class="s1">--elevation: 11;</span><span class="s3">\n      </span><span class="s1">background: ${fillColor};</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid transparent;</span><span class="s3">\n      </span><span class="s1">${elevation}</span><span class="s3">\n      </span><span class="s1">margin: 0;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">padding: calc(${designUnit} * 1px) 0;</span><span class="s3">\n      </span><span class="s1">max-width: 368px;</span><span class="s3">\n      </span><span class="s1">min-width: 64px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([slot='submenu']) {</span><span class="s3">\n      </span><span class="s1">width: max-content;</span><span class="s3">\n      </span><span class="s1">margin: 0 calc(${designUnit} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(hr) {</span><span class="s3">\n      </span><span class="s1">box-sizing: content-box;</span><span class="s3">\n      </span><span class="s1">height: 0;</span><span class="s3">\n      </span><span class="s1">margin: 0;</span><span class="s3">\n      </span><span class="s1">border: none;</span><span class="s3">\n      </span><span class="s1">border-top: calc(${strokeWidth} * 1px) solid ${neutralStrokeDividerRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Canvas};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.CanvasText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Menu, menuTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { fillColor, neutralLayerFloating } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { menuStyles as styles } from './menu.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Menu class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-menu</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterMenu extends Menu {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">fillColor.setValueFor(this, neutralLayerFloating);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Menu} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#menuTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-menu&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpMenu = JupyterMenu.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'menu',</span><span class="s3">\n    </span><span class="s1">baseClass: Menu,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterMenu as Menu, styles as menuStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { AnchoredRegion } from </span><span class="s3">\&quot;</span><span class="s1">../anchored-region/anchored-region.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { MenuItemRole } from </span><span class="s3">\&quot;</span><span class="s1">./menu-item.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Generates a template for the {@link @microsoft/fast-foundation#(MenuItem:class)} component using</span><span class="s3">\n </span><span class="s1">* the provided prefix.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const menuItemTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.role}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-haspopup=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.hasSubmenu ? </span><span class="s3">\&quot;</span><span class="s1">menu</span><span class="s3">\&quot; </span><span class="s1">: void 0)}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-checked=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.role !== MenuItemRole.menuitem ? x.checked : void 0)}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-expanded=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.expanded}</span><span class="s3">\&quot;\n        </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleMenuItemKeyDown(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleMenuItemClick(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@mouseover=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleMouseOver(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@mouseout=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleMouseOut(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.disabled ? </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)} ${x =&gt; x.expanded ? </span><span class="s3">\&quot;</span><span class="s1">expanded</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">} ${x =&gt; `indent-${x.startColumnCount}`}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">${when(x =&gt; x.role === MenuItemRole.menuitemcheckbox, html `</span><span class="s3">\n                    </span><span class="s1">&lt;div part=</span><span class="s3">\&quot;</span><span class="s1">input-container</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">input-container</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;span part=</span><span class="s3">\&quot;</span><span class="s1">checkbox</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">checkbox</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">checkbox-indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                                </span><span class="s1">${definition.checkboxIndicator || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                </span><span class="s1">`)}</span><span class="s3">\n            </span><span class="s1">${when(x =&gt; x.role === MenuItemRole.menuitemradio, html `</span><span class="s3">\n                    </span><span class="s1">&lt;div part=</span><span class="s3">\&quot;</span><span class="s1">input-container</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">input-container</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;span part=</span><span class="s3">\&quot;</span><span class="s1">radio</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">radio</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">radio-indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                                </span><span class="s1">${definition.radioIndicator || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                </span><span class="s1">`)}</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n        </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n        </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; x.hasSubmenu, html `</span><span class="s3">\n                </span><span class="s1">&lt;div</span><span class="s3">\n                    </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse-glyph-container</span><span class="s3">\&quot;\n                    </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse-glyph-container</span><span class="s3">\&quot;\n                </span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;span part=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse-indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                            </span><span class="s1">${definition.expandCollapseGlyph || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; x.expanded, html `</span><span class="s3">\n                </span><span class="s1">&lt;${context.tagFor(AnchoredRegion)}</span><span class="s3">\n                    </span><span class="s1">:anchorElement=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x}</span><span class="s3">\&quot;\n                    </span><span class="s1">vertical-positioning-mode=</span><span class="s3">\&quot;</span><span class="s1">dynamic</span><span class="s3">\&quot;\n                    </span><span class="s1">vertical-default-position=</span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;\n                    </span><span class="s1">vertical-inset=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;\n                    </span><span class="s1">horizontal-positioning-mode=</span><span class="s3">\&quot;</span><span class="s1">dynamic</span><span class="s3">\&quot;\n                    </span><span class="s1">horizontal-default-position=</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;\n                    </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">submenu-region</span><span class="s3">\&quot;\n                    </span><span class="s1">dir=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.currentDirection}</span><span class="s3">\&quot;\n                    </span><span class="s1">@loaded=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.submenuLoaded()}</span><span class="s3">\&quot;\n                    </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">submenuRegion</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n                    </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">submenu-region</span><span class="s3">\&quot;\n                </span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">submenu</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/${context.tagFor(AnchoredRegion)}&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillFocus, accentFillRest, bodyFont, controlCornerRadius, density, designUnit, disabledOpacity, focusStrokeWidth, foregroundOnAccentRest, neutralFillRest, neutralFillStealthActive, neutralFillStealthFocus, neutralFillStealthHover, neutralFillStealthRest, neutralForegroundHint, neutralForegroundRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight, typeRampPlus1FontSize } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { DirectionalStyleSheetBehavior, heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Menu item</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const menuItemStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('grid')} :host {</span><span class="s3">\n      </span><span class="s1">contain: layout;</span><span class="s3">\n      </span><span class="s1">overflow: visible;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n      </span><span class="s1">grid-template-columns: minmax(42px, auto) 1fr minmax(42px, auto);</span><span class="s3">\n      </span><span class="s1">grid-template-rows: auto;</span><span class="s3">\n      </span><span class="s1">justify-items: center;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">padding: 0;</span><span class="s3">\n      </span><span class="s1">margin: 0 calc(${designUnit} * 1px);</span><span class="s3">\n      </span><span class="s1">white-space: nowrap;</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthRest};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">border: calc(${focusStrokeWidth} * 1px) solid transparent;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:hover) {</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">z-index: 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.indent-0) {</span><span class="s3">\n      </span><span class="s1">grid-template-columns: auto 1fr minmax(42px, auto);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host(.indent-0) .content {</span><span class="s3">\n      </span><span class="s1">grid-column: 1;</span><span class="s3">\n      </span><span class="s1">grid-row: 1;</span><span class="s3">\n      </span><span class="s1">margin-inline-start: 10px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host(.indent-0) .expand-collapse-glyph-container {</span><span class="s3">\n      </span><span class="s1">grid-column: 5;</span><span class="s3">\n      </span><span class="s1">grid-row: 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host(.indent-2) {</span><span class="s3">\n      </span><span class="s1">grid-template-columns:</span><span class="s3">\n        </span><span class="s1">minmax(42px, auto) minmax(42px, auto) 1fr minmax(42px, auto)</span><span class="s3">\n        </span><span class="s1">minmax(42px, auto);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host(.indent-2) .content {</span><span class="s3">\n      </span><span class="s1">grid-column: 3;</span><span class="s3">\n      </span><span class="s1">grid-row: 1;</span><span class="s3">\n      </span><span class="s1">margin-inline-start: 10px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host(.indent-2) .expand-collapse-glyph-container {</span><span class="s3">\n      </span><span class="s1">grid-column: 5;</span><span class="s3">\n      </span><span class="s1">grid-row: 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host(.indent-2) .start {</span><span class="s3">\n      </span><span class="s1">grid-column: 2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host(.indent-2) .end {</span><span class="s3">\n      </span><span class="s1">grid-column: 4;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:${focusVisible}) {</span><span class="s3">\n      </span><span class="s1">border-color: ${accentFillFocus};</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthFocus};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:hover) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthHover};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:active) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']),</span><span class="s3">\n    </span><span class="s1">:host(.expanded) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillRest};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) {</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]:hover) {</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]:hover) .start,</span><span class="s3">\n    </span><span class="s1">:host([disabled]:hover) .end,</span><span class="s3">\n    </span><span class="s1">:host([disabled]:hover)::slotted(svg) {</span><span class="s3">\n      </span><span class="s1">fill: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.expand-collapse-glyph {</span><span class="s3">\n      </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n      </span><span class="s1">width: calc((16 + ${density}) * 1px);</span><span class="s3">\n      </span><span class="s1">height: calc((16 + ${density}) * 1px);</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.content {</span><span class="s3">\n      </span><span class="s1">grid-column-start: 2;</span><span class="s3">\n      </span><span class="s1">justify-self: start;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n      </span><span class="s1">text-overflow: ellipsis;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.start,</span><span class="s3">\n    </span><span class="s1">.end {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">justify-content: center;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(svg) {</span><span class="s3">\n      </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n      </span><span class="s1">width: 16px;</span><span class="s3">\n      </span><span class="s1">height: 16px;</span><span class="s3">\n\n      </span><span class="s1">/* Something like that would do if the typography is adaptive</span><span class="s3">\n      </span><span class="s1">font-size: inherit;</span><span class="s3">\n      </span><span class="s1">width: ${typeRampPlus1FontSize};</span><span class="s3">\n      </span><span class="s1">height: ${typeRampPlus1FontSize};</span><span class="s3">\n      </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:hover) .start,</span><span class="s3">\n    </span><span class="s1">:host(:hover) .end,</span><span class="s3">\n    </span><span class="s1">:host(:hover)::slotted(svg),</span><span class="s3">\n    </span><span class="s1">:host(:active) .start,</span><span class="s3">\n    </span><span class="s1">:host(:active) .end,</span><span class="s3">\n    </span><span class="s1">:host(:active)::slotted(svg) {</span><span class="s3">\n      </span><span class="s1">fill: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.indent-0[aria-haspopup='menu']) {</span><span class="s3">\n      </span><span class="s1">display: grid;</span><span class="s3">\n      </span><span class="s1">grid-template-columns: minmax(42px, auto) auto 1fr minmax(42px, auto) minmax(</span><span class="s3">\n          </span><span class="s1">42px,</span><span class="s3">\n          </span><span class="s1">auto</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">min-height: 32px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.indent-1[aria-haspopup='menu']),</span><span class="s3">\n    </span><span class="s1">:host(.indent-1[role='menuitemcheckbox']),</span><span class="s3">\n    </span><span class="s1">:host(.indent-1[role='menuitemradio']) {</span><span class="s3">\n      </span><span class="s1">display: grid;</span><span class="s3">\n      </span><span class="s1">grid-template-columns: minmax(42px, auto) auto 1fr minmax(42px, auto) minmax(</span><span class="s3">\n          </span><span class="s1">42px,</span><span class="s3">\n          </span><span class="s1">auto</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">min-height: 32px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.indent-2:not([aria-haspopup='menu'])) .end {</span><span class="s3">\n      </span><span class="s1">grid-column: 5;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host .input-container,</span><span class="s3">\n    </span><span class="s1">:host .expand-collapse-glyph-container {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-haspopup='menu']) .expand-collapse-glyph-container,</span><span class="s3">\n    </span><span class="s1">:host([role='menuitemcheckbox']) .input-container,</span><span class="s3">\n    </span><span class="s1">:host([role='menuitemradio']) .input-container {</span><span class="s3">\n      </span><span class="s1">display: grid;</span><span class="s3">\n      </span><span class="s1">margin-inline-end: 10px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-haspopup='menu']) .content,</span><span class="s3">\n    </span><span class="s1">:host([role='menuitemcheckbox']) .content,</span><span class="s3">\n    </span><span class="s1">:host([role='menuitemradio']) .content {</span><span class="s3">\n      </span><span class="s1">grid-column-start: 3;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-haspopup='menu'].indent-0) .content {</span><span class="s3">\n      </span><span class="s1">grid-column-start: 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-haspopup='menu']) .end,</span><span class="s3">\n    </span><span class="s1">:host([role='menuitemcheckbox']) .end,</span><span class="s3">\n    </span><span class="s1">:host([role='menuitemradio']) .end {</span><span class="s3">\n      </span><span class="s1">grid-column-start: 4;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host .expand-collapse,</span><span class="s3">\n    </span><span class="s1">:host .checkbox,</span><span class="s3">\n    </span><span class="s1">:host .radio {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">justify-content: center;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">width: 20px;</span><span class="s3">\n      </span><span class="s1">height: 20px;</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">margin-inline-start: 10px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host .checkbox,</span><span class="s3">\n    </span><span class="s1">:host .radio {</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) .checkbox,</span><span class="s3">\n    </span><span class="s1">:host([aria-checked='true']) .radio {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n      </span><span class="s1">border-color: ${accentFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host .checkbox {</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host .radio {</span><span class="s3">\n      </span><span class="s1">border-radius: 999px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host .checkbox-indicator,</span><span class="s3">\n    </span><span class="s1">:host .radio-indicator,</span><span class="s3">\n    </span><span class="s1">:host .expand-collapse-indicator,</span><span class="s3">\n    </span><span class="s1">::slotted([slot='checkbox-indicator']),</span><span class="s3">\n    </span><span class="s1">::slotted([slot='radio-indicator']),</span><span class="s3">\n    </span><span class="s1">::slotted([slot='expand-collapse-indicator']) {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted([slot='end']:not(svg)) {</span><span class="s3">\n      </span><span class="s1">margin-inline-end: 10px;</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundHint};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) .checkbox-indicator,</span><span class="s3">\n    </span><span class="s1">:host([aria-checked='true']) ::slotted([slot='checkbox-indicator']) {</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n      </span><span class="s1">fill: ${foregroundOnAccentRest};</span><span class="s3">\n      </span><span class="s1">pointer-events: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) .radio-indicator {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">top: 4px;</span><span class="s3">\n      </span><span class="s1">left: 4px;</span><span class="s3">\n      </span><span class="s1">right: 4px;</span><span class="s3">\n      </span><span class="s1">bottom: 4px;</span><span class="s3">\n      </span><span class="s1">border-radius: 999px;</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n      </span><span class="s1">background: ${foregroundOnAccentRest};</span><span class="s3">\n      </span><span class="s1">pointer-events: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) ::slotted([slot='radio-indicator']) {</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n      </span><span class="s1">pointer-events: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">border-color: transparent;</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(:hover) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(:hover) .start,</span><span class="s3">\n      </span><span class="s1">:host(:hover) .end,</span><span class="s3">\n      </span><span class="s1">:host(:hover)::slotted(svg),</span><span class="s3">\n      </span><span class="s1">:host(:active) .start,</span><span class="s3">\n      </span><span class="s1">:host(:active) .end,</span><span class="s3">\n      </span><span class="s1">:host(:active)::slotted(svg) {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(.expanded) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(:${focusVisible}) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">box-shadow: 0 0 0 calc(${focusStrokeWidth} * 1px) inset</span><span class="s3">\n          </span><span class="s1">${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([disabled]),</span><span class="s3">\n      </span><span class="s1">:host([disabled]:hover),</span><span class="s3">\n      </span><span class="s1">:host([disabled]:hover) .start,</span><span class="s3">\n      </span><span class="s1">:host([disabled]:hover) .end,</span><span class="s3">\n      </span><span class="s1">:host([disabled]:hover)::slotted(svg) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Canvas};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host .expanded-toggle,</span><span class="s3">\n      </span><span class="s1">:host .checkbox,</span><span class="s3">\n      </span><span class="s1">:host .radio {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([checked='true']) .checkbox,</span><span class="s3">\n      </span><span class="s1">:host([checked='true']) .radio {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(:hover) .expanded-toggle,</span><span class="s3">\n            </span><span class="s1">:host(:hover) .checkbox,</span><span class="s3">\n            </span><span class="s1">:host(:hover) .radio,</span><span class="s3">\n            </span><span class="s1">:host(:${focusVisible}) .expanded-toggle,</span><span class="s3">\n            </span><span class="s1">:host(:${focusVisible}) .checkbox,</span><span class="s3">\n            </span><span class="s1">:host(:${focusVisible}) .radio,</span><span class="s3">\n            </span><span class="s1">:host([checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:hover) .checkbox,</span><span class="s3">\n            </span><span class="s1">:host([checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:hover) .radio,</span><span class="s3">\n            </span><span class="s1">:host([checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}) .checkbox,</span><span class="s3">\n            </span><span class="s1">:host([checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}) .radio {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([aria-checked='true']) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([aria-checked='true']) .checkbox-indicator,</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']) ::slotted([slot='checkbox-indicator']),</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']) ::slotted([slot='radio-indicator']) {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([aria-checked='true']) .radio-indicator {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">::slotted([slot='end']:not(svg)) {</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(:hover) ::slotted([slot=</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">]:not(svg)),</span><span class="s3">\n            </span><span class="s1">:host(:${focusVisible}) ::slotted([slot=</span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">]:not(svg)) {</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`), new DirectionalStyleSheetBehavior(css `</span><span class="s3">\n        </span><span class="s1">.expand-collapse-glyph {</span><span class="s3">\n          </span><span class="s1">transform: rotate(0deg);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">`, css `</span><span class="s3">\n        </span><span class="s1">.expand-collapse-glyph {</span><span class="s3">\n          </span><span class="s1">transform: rotate(180deg);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { MenuItem, menuItemTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { menuItemStyles as styles } from './menu-item.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Menu item class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-menu-item</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterMenuItem extends MenuItem {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#MenuItem} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#menuItemTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-menu-item&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpMenuItem = JupyterMenuItem.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'menu-item',</span><span class="s3">\n    </span><span class="s1">baseClass: MenuItem,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">checkboxIndicator: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;svg</span><span class="s3">\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">checkbox-indicator</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">checkbox-indicator</span><span class="s3">\&quot;\n            </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 20 20</span><span class="s3">\&quot;\n            </span><span class="s1">xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;path</span><span class="s3">\n                </span><span class="s1">fill-rule=</span><span class="s3">\&quot;</span><span class="s1">evenodd</span><span class="s3">\&quot;\n                </span><span class="s1">clip-rule=</span><span class="s3">\&quot;</span><span class="s1">evenodd</span><span class="s3">\&quot;\n                </span><span class="s1">d=</span><span class="s3">\&quot;</span><span class="s1">M8.143 12.6697L15.235 4.5L16.8 5.90363L8.23812 15.7667L3.80005 11.2556L5.27591 9.7555L8.143 12.6697Z</span><span class="s3">\&quot;\n            </span><span class="s1">/&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n    </span><span class="s1">`,</span><span class="s3">\n    </span><span class="s1">expandCollapseGlyph: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;svg</span><span class="s3">\n            </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 16 16</span><span class="s3">\&quot;\n            </span><span class="s1">xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse-glyph</span><span class="s3">\&quot;\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse-glyph</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;path</span><span class="s3">\n                </span><span class="s1">d=</span><span class="s3">\&quot;</span><span class="s1">M5.00001 12.3263C5.00124 12.5147 5.05566 12.699 5.15699 12.8578C5.25831 13.0167 5.40243 13.1437 5.57273 13.2242C5.74304 13.3047 5.9326 13.3354 6.11959 13.3128C6.30659 13.2902 6.4834 13.2152 6.62967 13.0965L10.8988 8.83532C11.0739 8.69473 11.2153 8.51658 11.3124 8.31402C11.4096 8.11146 11.46 7.88966 11.46 7.66499C11.46 7.44033 11.4096 7.21853 11.3124 7.01597C11.2153 6.81341 11.0739 6.63526 10.8988 6.49467L6.62967 2.22347C6.48274 2.10422 6.30501 2.02912 6.11712 2.00691C5.92923 1.9847 5.73889 2.01628 5.56823 2.09799C5.39757 2.17969 5.25358 2.30817 5.153 2.46849C5.05241 2.62882 4.99936 2.8144 5.00001 3.00369V12.3263Z</span><span class="s3">\&quot;\n            </span><span class="s1">/&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n    </span><span class="s1">`,</span><span class="s3">\n    </span><span class="s1">radioIndicator: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;span part=</span><span class="s3">\&quot;</span><span class="s1">radio-indicator</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">radio-indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/span&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterMenuItem as MenuItem, styles as menuItemStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _NumberField extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(NumberField:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedNumberField extends FormAssociated(_NumberField) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, nullableNumberConverter, observable, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keyArrowDown, keyArrowUp } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { StartEnd } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DelegatesARIATextbox } from </span><span class="s3">\&quot;</span><span class="s1">../text-field/text-field.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedNumberField } from </span><span class="s3">\&quot;</span><span class="s1">./number-field.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Number Field Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number | &lt;input type=</span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">/&gt; element }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the number field input</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the number field input</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the label</span><span class="s3">\n </span><span class="s1">* @slot step-up-glyph - The glyph for the step up control</span><span class="s3">\n </span><span class="s1">* @slot step-down-glyph - The glyph for the step down control</span><span class="s3">\n </span><span class="s1">* @csspart label - The label</span><span class="s3">\n </span><span class="s1">* @csspart root - The element wrapping the control, including start and end slots</span><span class="s3">\n </span><span class="s1">* @csspart control - The element representing the input</span><span class="s3">\n </span><span class="s1">* @csspart controls - The step up and step down controls</span><span class="s3">\n </span><span class="s1">* @csspart step-up - The step up control</span><span class="s3">\n </span><span class="s1">* @csspart step-down - The step down control</span><span class="s3">\n </span><span class="s1">* @fires input - Fires a custom 'input' event when the value has changed</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the value has changed</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class NumberField extends FormAssociatedNumberField {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* When true, spin buttons will not be rendered</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: autofocus</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.hideStep = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Amount to increment or decrement the value by</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTMLAttribute: step</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.step = 1;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Flag to indicate that the value change is from the user input</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isUserInput = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Ensures that the max is greater than the min and that the value</span><span class="s3">\n     </span><span class="s1">*  is less than the max</span><span class="s3">\n     </span><span class="s1">* @param previous - the previous max value</span><span class="s3">\n     </span><span class="s1">* @param next - updated max value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">maxChanged(previous, next) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">this.max = Math.max(next, (_a = this.min) !== null &amp;&amp; _a !== void 0 ? _a : next);</span><span class="s3">\n        </span><span class="s1">const min = Math.min(this.min, this.max);</span><span class="s3">\n        </span><span class="s1">if (this.min !== undefined &amp;&amp; this.min !== min) {</span><span class="s3">\n            </span><span class="s1">this.min = min;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.value = this.getValidValue(this.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Ensures that the min is less than the max and that the value</span><span class="s3">\n     </span><span class="s1">*  is greater than the min</span><span class="s3">\n     </span><span class="s1">* @param previous - previous min value</span><span class="s3">\n     </span><span class="s1">* @param next - updated min value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">minChanged(previous, next) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">this.min = Math.min(next, (_a = this.max) !== null &amp;&amp; _a !== void 0 ? _a : next);</span><span class="s3">\n        </span><span class="s1">const max = Math.max(this.min, this.max);</span><span class="s3">\n        </span><span class="s1">if (this.max !== undefined &amp;&amp; this.max !== max) {</span><span class="s3">\n            </span><span class="s1">this.max = max;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.value = this.getValidValue(this.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The value property, typed as a number.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get valueAsNumber() {</span><span class="s3">\n        </span><span class="s1">return parseFloat(super.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set valueAsNumber(next) {</span><span class="s3">\n        </span><span class="s1">this.value = next.toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Validates that the value is a number between the min and max</span><span class="s3">\n     </span><span class="s1">* @param previous - previous stored value</span><span class="s3">\n     </span><span class="s1">* @param next - value being updated</span><span class="s3">\n     </span><span class="s1">* @param updateControl - should the text field be updated with value, defaults to true</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">valueChanged(previous, next) {</span><span class="s3">\n        </span><span class="s1">this.value = this.getValidValue(next);</span><span class="s3">\n        </span><span class="s1">if (next !== this.value) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.control &amp;&amp; !this.isUserInput) {</span><span class="s3">\n            </span><span class="s1">this.control.value = this.value;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">super.valueChanged(previous, this.value);</span><span class="s3">\n        </span><span class="s1">if (previous !== undefined &amp;&amp; !this.isUserInput) {</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.isUserInput = false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** {@inheritDoc (FormAssociated:interface).validate} */</span><span class="s3">\n    </span><span class="s1">validate() {</span><span class="s3">\n        </span><span class="s1">super.validate(this.control);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the internal value to a valid number between the min and max properties</span><span class="s3">\n     </span><span class="s1">* @param value - user input</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getValidValue(value) {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">let validValue = parseFloat(parseFloat(value).toPrecision(12));</span><span class="s3">\n        </span><span class="s1">if (isNaN(validValue)) {</span><span class="s3">\n            </span><span class="s1">validValue = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">validValue = Math.min(validValue, (_a = this.max) !== null &amp;&amp; _a !== void 0 ? _a : validValue);</span><span class="s3">\n            </span><span class="s1">validValue = Math.max(validValue, (_b = this.min) !== null &amp;&amp; _b !== void 0 ? _b : validValue).toString();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return validValue;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Increments the value using the step value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">stepUp() {</span><span class="s3">\n        </span><span class="s1">const value = parseFloat(this.value);</span><span class="s3">\n        </span><span class="s1">const stepUpValue = !isNaN(value)</span><span class="s3">\n            </span><span class="s1">? value + this.step</span><span class="s3">\n            </span><span class="s1">: this.min &gt; 0</span><span class="s3">\n                </span><span class="s1">? this.min</span><span class="s3">\n                </span><span class="s1">: this.max &lt; 0</span><span class="s3">\n                    </span><span class="s1">? this.max</span><span class="s3">\n                    </span><span class="s1">: !this.min</span><span class="s3">\n                        </span><span class="s1">? this.step</span><span class="s3">\n                        </span><span class="s1">: 0;</span><span class="s3">\n        </span><span class="s1">this.value = stepUpValue.toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Decrements the value using the step value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">stepDown() {</span><span class="s3">\n        </span><span class="s1">const value = parseFloat(this.value);</span><span class="s3">\n        </span><span class="s1">const stepDownValue = !isNaN(value)</span><span class="s3">\n            </span><span class="s1">? value - this.step</span><span class="s3">\n            </span><span class="s1">: this.min &gt; 0</span><span class="s3">\n                </span><span class="s1">? this.min</span><span class="s3">\n                </span><span class="s1">: this.max &lt; 0</span><span class="s3">\n                    </span><span class="s1">? this.max</span><span class="s3">\n                    </span><span class="s1">: !this.min</span><span class="s3">\n                        </span><span class="s1">? 0 - this.step</span><span class="s3">\n                        </span><span class="s1">: 0;</span><span class="s3">\n        </span><span class="s1">this.value = stepDownValue.toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets up the initial state of the number field</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">this.control.value = this.value;</span><span class="s3">\n        </span><span class="s1">if (this.autofocus) {</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n                </span><span class="s1">this.focus();</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Selects all the text in the number field</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">select() {</span><span class="s3">\n        </span><span class="s1">this.control.select();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The select event does not permeate the shadow DOM boundary.</span><span class="s3">\n         </span><span class="s1">* This fn effectively proxies the select event,</span><span class="s3">\n         </span><span class="s1">* emitting a `select` event whenever the internal</span><span class="s3">\n         </span><span class="s1">* control emits a `select` event</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">select</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles the internal control's `input` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleTextInput() {</span><span class="s3">\n        </span><span class="s1">this.control.value = this.control.value.replace(/[^0-9</span><span class="s3">\\</span><span class="s1">-+e.]/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.isUserInput = true;</span><span class="s3">\n        </span><span class="s1">this.value = this.control.value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Change event handler for inner control.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* </span><span class="s3">\&quot;</span><span class="s1">Change</span><span class="s3">\&quot; </span><span class="s1">events are not `composable` so they will not</span><span class="s3">\n     </span><span class="s1">* permeate the shadow DOM boundary. This fn effectively proxies</span><span class="s3">\n     </span><span class="s1">* the change event, emitting a `change` event whenever the internal</span><span class="s3">\n     </span><span class="s1">* control emits a `change` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange() {</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles the internal control's `keydown` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleKeyDown(e) {</span><span class="s3">\n        </span><span class="s1">const key = e.key;</span><span class="s3">\n        </span><span class="s1">switch (key) {</span><span class="s3">\n            </span><span class="s1">case keyArrowUp:</span><span class="s3">\n                </span><span class="s1">this.stepUp();</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">case keyArrowDown:</span><span class="s3">\n                </span><span class="s1">this.stepDown();</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles populating the input field with a validated value when</span><span class="s3">\n     </span><span class="s1">*  leaving the input field.</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleBlur() {</span><span class="s3">\n        </span><span class="s1">this.control.value = this.value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">readOnly</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">autofocus</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">hide-step</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">hideStep</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">placeholder</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">maxlength</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">minlength</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">step</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">max</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">min</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], NumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(NumberField, StartEnd, DelegatesARIATextbox);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, slotted, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(NumberField:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const numberFieldTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.readOnly ? </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;label</span><span class="s3">\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n            </span><span class="s1">for=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.defaultSlottedNodes &amp;&amp; x.defaultSlottedNodes.length</span><span class="s3">\n    </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n    </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">label label__hidden</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot ${slotted(</span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/label&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n            </span><span class="s1">&lt;input</span><span class="s3">\n                </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                </span><span class="s1">id=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                </span><span class="s1">@input=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleTextInput()}</span><span class="s3">\&quot;\n                </span><span class="s1">@change=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleChange()}</span><span class="s3">\&quot;\n                </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleKeyDown(c.event)}</span><span class="s3">\&quot;\n                </span><span class="s1">@blur=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleBlur()}</span><span class="s3">\&quot;\n                </span><span class="s1">?autofocus=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.autofocus}</span><span class="s3">\&quot;\n                </span><span class="s1">?disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n                </span><span class="s1">list=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.list}</span><span class="s3">\&quot;\n                </span><span class="s1">maxlength=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.maxlength}</span><span class="s3">\&quot;\n                </span><span class="s1">minlength=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.minlength}</span><span class="s3">\&quot;\n                </span><span class="s1">placeholder=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.placeholder}</span><span class="s3">\&quot;\n                </span><span class="s1">?readonly=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.readOnly}</span><span class="s3">\&quot;\n                </span><span class="s1">?required=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.required}</span><span class="s3">\&quot;\n                </span><span class="s1">size=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.size}</span><span class="s3">\&quot;\n                </span><span class="s1">type=</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;\n                </span><span class="s1">inputmode=</span><span class="s3">\&quot;</span><span class="s1">numeric</span><span class="s3">\&quot;\n                </span><span class="s1">min=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.min}</span><span class="s3">\&quot;\n                </span><span class="s1">max=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.max}</span><span class="s3">\&quot;\n                </span><span class="s1">step=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.step}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-atomic=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaAtomic}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-busy=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaBusy}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaControls}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-current=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaCurrent}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-describedby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDescribedby}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-details=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDetails}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-errormessage=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaErrormessage}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-flowto=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaFlowto}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-haspopup=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHaspopup}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHidden}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-invalid=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaInvalid}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-keyshortcuts=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaKeyshortcuts}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-label=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabel}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabelledby}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-live=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLive}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-owns=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaOwns}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-relevant=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRelevant}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-roledescription=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRoledescription}</span><span class="s3">\&quot;\n                </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n            </span><span class="s1">/&gt;</span><span class="s3">\n            </span><span class="s1">${when(x =&gt; !x.hideStep &amp;&amp; !x.readOnly &amp;&amp; !x.disabled, html `</span><span class="s3">\n                    </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">controls</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">controls</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">step-up</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">step-up</span><span class="s3">\&quot; </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.stepUp()}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">step-up-glyph</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                                </span><span class="s1">${definition.stepUpGlyph || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;div</span><span class="s3">\n                            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">step-down</span><span class="s3">\&quot;\n                            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">step-down</span><span class="s3">\&quot;\n                            </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.stepDown()}</span><span class="s3">\&quot;\n                        </span><span class="s1">&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">step-down-glyph</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                                </span><span class="s1">${definition.stepDownGlyph || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                </span><span class="s1">`)}</span><span class="s3">\n            </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { density, designUnit, elementScale, neutralFillActive, neutralFillHover, neutralForegroundRest } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { BaseFieldStyles } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Number Field</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const numberFieldStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${BaseFieldStyles}</span><span class="s3">\n\n  </span><span class="s1">.controls {</span><span class="s3">\n    </span><span class="s1">opacity: 0;</span><span class="s3">\n    </span><span class="s1">margin: auto 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.step-up-glyph,</span><span class="s3">\n  </span><span class="s1">.step-down-glyph {</span><span class="s3">\n    </span><span class="s1">display: block;</span><span class="s3">\n    </span><span class="s1">padding: calc(</span><span class="s3">\n        </span><span class="s1">(${designUnit} + 0.5 * ${density} + 0.5 * ${elementScale}) * 1px</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">calc((2 + 2 * ${designUnit} + ${density} + ${elementScale}) * 1px);</span><span class="s3">\n    </span><span class="s1">cursor: pointer;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.step-up-glyph:before,</span><span class="s3">\n  </span><span class="s1">.step-down-glyph:before {</span><span class="s3">\n    </span><span class="s1">content: '';</span><span class="s3">\n    </span><span class="s1">display: block;</span><span class="s3">\n    </span><span class="s1">border: solid transparent</span><span class="s3">\n      </span><span class="s1">calc((2 + ${designUnit} + 0.5 * ${density} + 0.5 * ${elementScale}) * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.step-up-glyph:hover:before,</span><span class="s3">\n  </span><span class="s1">.step-down-glyph:hover:before {</span><span class="s3">\n    </span><span class="s1">background-color: ${neutralFillHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.step-up-glyph:active:before,</span><span class="s3">\n  </span><span class="s1">.step-down-glyph:active:before {</span><span class="s3">\n    </span><span class="s1">background-color: ${neutralFillActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.step-up-glyph:before {</span><span class="s3">\n    </span><span class="s1">border-bottom-color: ${neutralForegroundRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.step-down-glyph:before {</span><span class="s3">\n    </span><span class="s1">border-top-color: ${neutralForegroundRest};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(:hover:not([disabled])) .controls,</span><span class="s3">\n  </span><span class="s1">:host(:focus-within:not([disabled])) .controls {</span><span class="s3">\n    </span><span class="s1">opacity: 1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { NumberField, numberFieldTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { numberFieldStyles as styles } from './number-field.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Number field class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-number-field</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterNumberField extends NumberField {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The appearance of the element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: appearance</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.appearance = 'outline';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterNumberField.prototype, </span><span class="s3">\&quot;</span><span class="s1">appearance</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#NumberField} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#numberFieldTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-number-field&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* {@link https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/delegatesFocus | delegatesFocus}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpNumberField = JupyterNumberField.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'number-field',</span><span class="s3">\n    </span><span class="s1">baseClass: NumberField,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">stepDownGlyph: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">step-down-glyph</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">step-down-glyph</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/span&gt;</span><span class="s3">\n    </span><span class="s1">`,</span><span class="s3">\n    </span><span class="s1">stepUpGlyph: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">step-up-glyph</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">step-up-glyph</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/span&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterNumberField as NumberField, styles as numberFieldStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(ListboxOption:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const listboxOptionTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">aria-checked=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaChecked}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-posinset=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaPosInSet}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-selected=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaSelected}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-setsize=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaSetSize}</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; [x.checked &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot;</span><span class="s1">, x.selected &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot;</span><span class="s1">, x.disabled &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n    </span><span class="s1">.filter(Boolean)</span><span class="s3">\n    </span><span class="s1">.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">)}</span><span class="s3">\&quot;\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">option</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot ${slotted(</span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n        </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillActive, accentFillHover, accentFillRest, bodyFont, controlCornerRadius, designUnit, disabledOpacity, focusStrokeInner, focusStrokeOuter, focusStrokeWidth, foregroundOnAccentActive, foregroundOnAccentHover, foregroundOnAccentRest, neutralFillStealthActive, neutralFillStealthHover, neutralFillStealthRest, neutralForegroundRest, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/size.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for the {@link @microsoft/fast-components#fastOption | Listbox Option} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @param context - the element definition context</span><span class="s3">\n </span><span class="s1">* @param definition - the foundation element definition</span><span class="s3">\n </span><span class="s1">* @returns The element styles for the listbox option component</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const optionStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('inline-flex')} :host {</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">border: calc(${focusStrokeWidth} * 1px) solid transparent;</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthRest};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">flex: 0 0 auto;</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">margin: 0 calc((${designUnit} - ${focusStrokeWidth}) * 1px);</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n      </span><span class="s1">padding: 0 1ch;</span><span class="s3">\n      </span><span class="s1">user-select: none;</span><span class="s3">\n      </span><span class="s1">white-space: nowrap;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled]):not([aria-selected='true']):hover) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled]):not([aria-selected='true']):active) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-selected='true']) {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n      </span><span class="s1">color: ${foregroundOnAccentRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled])[aria-selected='true']:hover) {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillHover};</span><span class="s3">\n      </span><span class="s1">color: ${foregroundOnAccentHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled])[aria-selected='true']:active) {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillActive};</span><span class="s3">\n      </span><span class="s1">color: ${foregroundOnAccentActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) {</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.content {</span><span class="s3">\n      </span><span class="s1">grid-column-start: 2;</span><span class="s3">\n      </span><span class="s1">justify-self: start;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n      </span><span class="s1">text-overflow: ellipsis;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.start,</span><span class="s3">\n    </span><span class="s1">.end,</span><span class="s3">\n    </span><span class="s1">::slotted(svg) {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(svg) {</span><span class="s3">\n      </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n      </span><span class="s1">height: calc(${designUnit} * 4px);</span><span class="s3">\n      </span><span class="s1">width: calc(${designUnit} * 4px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted([slot='end']) {</span><span class="s3">\n      </span><span class="s1">margin-inline-start: 1ch;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted([slot='start']) {</span><span class="s3">\n      </span><span class="s1">margin-inline-end: 1ch;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true'][aria-selected='false']) {</span><span class="s3">\n      </span><span class="s1">border-color: ${focusStrokeOuter};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true'][aria-selected='true']) {</span><span class="s3">\n      </span><span class="s1">border-color: ${focusStrokeOuter};</span><span class="s3">\n      </span><span class="s1">box-shadow: 0 0 0 calc(${focusStrokeWidth} * 2 * 1px) inset</span><span class="s3">\n        </span><span class="s1">${focusStrokeInner};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">border-color: transparent;</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(:not([aria-selected='true']):hover),</span><span class="s3">\n      </span><span class="s1">:host([aria-selected='true']) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([disabled]),</span><span class="s3">\n      </span><span class="s1">:host([disabled][aria-selected='false']:hover) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Canvas};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([aria-checked='true'][aria-selected='false']) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.ButtonText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([aria-checked='true'][aria-selected='true']),</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true'][aria-selected='true']:hover) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.ButtonText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { ListboxOption, listboxOptionTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { optionStyles as styles } from './option.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Listbox option class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-option</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterOption extends ListboxOption {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#ListboxOption} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#listboxOptionTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-option&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpOption = JupyterOption.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'option',</span><span class="s3">\n    </span><span class="s1">baseClass: ListboxOption,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterOption as Option, styles as optionStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, nullableNumberConverter, observable, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement, } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An Progress HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#progressbar | ARIA progressbar }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot indeterminate - The slot for a custom indeterminate indicator</span><span class="s3">\n </span><span class="s1">* @csspart progress - Represents the progress element</span><span class="s3">\n </span><span class="s1">* @csspart determinate - The determinate indicator</span><span class="s3">\n </span><span class="s1">* @csspart indeterminate - The indeterminate indicator</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class BaseProgress extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Indicates progress in %</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.percentComplete = 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">valueChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updatePercentComplete();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">minChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updatePercentComplete();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">maxChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updatePercentComplete();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.updatePercentComplete();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updatePercentComplete() {</span><span class="s3">\n        </span><span class="s1">const min = typeof this.min === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">? this.min : 0;</span><span class="s3">\n        </span><span class="s1">const max = typeof this.max === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">? this.max : 100;</span><span class="s3">\n        </span><span class="s1">const value = typeof this.value === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">? this.value : 0;</span><span class="s3">\n        </span><span class="s1">const range = max - min;</span><span class="s3">\n        </span><span class="s1">this.percentComplete =</span><span class="s3">\n            </span><span class="s1">range === 0 ? 0 : Math.fround(((value - min) / range) * 100);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], BaseProgress.prototype, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], BaseProgress.prototype, </span><span class="s3">\&quot;</span><span class="s1">min</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], BaseProgress.prototype, </span><span class="s3">\&quot;</span><span class="s1">max</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], BaseProgress.prototype, </span><span class="s3">\&quot;</span><span class="s1">paused</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], BaseProgress.prototype, </span><span class="s3">\&quot;</span><span class="s1">percentComplete</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#BaseProgress} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const progressTemplate = (context, defintion) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">progressbar</span><span class="s3">\&quot;\n        </span><span class="s1">aria-valuenow=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.value}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-valuemin=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.min}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-valuemax=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.max}</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.paused ? </span><span class="s3">\&quot;</span><span class="s1">paused</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; typeof x.value === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">, html `</span><span class="s3">\n                </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">progress</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">progress</span><span class="s3">\&quot; </span><span class="s1">slot=</span><span class="s3">\&quot;</span><span class="s1">determinate</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;div</span><span class="s3">\n                        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">determinate</span><span class="s3">\&quot;\n                        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">determinate</span><span class="s3">\&quot;\n                        </span><span class="s1">style=</span><span class="s3">\&quot;</span><span class="s1">width: ${x =&gt; x.percentComplete}%</span><span class="s3">\&quot;\n                    </span><span class="s1">&gt;&lt;/div&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">`, html `</span><span class="s3">\n                </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">progress</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">progress</span><span class="s3">\&quot; </span><span class="s1">slot=</span><span class="s3">\&quot;</span><span class="s1">indeterminate</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot class=</span><span class="s3">\&quot;</span><span class="s1">indeterminate</span><span class="s3">\&quot; </span><span class="s1">name=</span><span class="s3">\&quot;</span><span class="s1">indeterminate</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                        </span><span class="s1">${defintion.indeterminateIndicator1 || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">${defintion.indeterminateIndicator2 || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentForegroundRest, designUnit, neutralFillRest, neutralForegroundHint } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Progress</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const progressStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('flex')} :host {</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">height: calc(${designUnit} * 1px);</span><span class="s3">\n      </span><span class="s1">margin: calc(${designUnit} * 1px) 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.progress {</span><span class="s3">\n      </span><span class="s1">background-color: ${neutralFillRest};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${designUnit} * 1px);</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.determinate {</span><span class="s3">\n      </span><span class="s1">background-color: ${accentForegroundRest};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${designUnit} * 1px);</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">transition: all 0.2s ease-in-out;</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.indeterminate {</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${designUnit} * 1px);</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.indeterminate-indicator-1 {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">opacity: 0;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">background-color: ${accentForegroundRest};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${designUnit} * 1px);</span><span class="s3">\n      </span><span class="s1">animation-timing-function: cubic-bezier(0.4, 0, 0.6, 1);</span><span class="s3">\n      </span><span class="s1">width: 40%;</span><span class="s3">\n      </span><span class="s1">animation: indeterminate-1 2s infinite;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.indeterminate-indicator-2 {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">opacity: 0;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">background-color: ${accentForegroundRest};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${designUnit} * 1px);</span><span class="s3">\n      </span><span class="s1">animation-timing-function: cubic-bezier(0.4, 0, 0.6, 1);</span><span class="s3">\n      </span><span class="s1">width: 60%;</span><span class="s3">\n      </span><span class="s1">animation: indeterminate-2 2s infinite;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([paused]) .indeterminate-indicator-1,</span><span class="s3">\n    </span><span class="s1">:host([paused]) .indeterminate-indicator-2 {</span><span class="s3">\n      </span><span class="s1">animation-play-state: paused;</span><span class="s3">\n      </span><span class="s1">background-color: ${neutralFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([paused]) .determinate {</span><span class="s3">\n      </span><span class="s1">background-color: ${neutralForegroundHint};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">@keyframes indeterminate-1 {</span><span class="s3">\n      </span><span class="s1">0% {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n        </span><span class="s1">transform: translateX(-100%);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">70% {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n        </span><span class="s1">transform: translateX(300%);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">70.01% {</span><span class="s3">\n        </span><span class="s1">opacity: 0;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">100% {</span><span class="s3">\n        </span><span class="s1">opacity: 0;</span><span class="s3">\n        </span><span class="s1">transform: translateX(300%);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">@keyframes indeterminate-2 {</span><span class="s3">\n      </span><span class="s1">0% {</span><span class="s3">\n        </span><span class="s1">opacity: 0;</span><span class="s3">\n        </span><span class="s1">transform: translateX(-150%);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">29.99% {</span><span class="s3">\n        </span><span class="s1">opacity: 0;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">30% {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n        </span><span class="s1">transform: translateX(-150%);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">100% {</span><span class="s3">\n        </span><span class="s1">transform: translateX(166.66%);</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">.progress {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background-color: ${SystemColors.Field};</span><span class="s3">\n        </span><span class="s1">box-shadow: 0 0 0 1px inset ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">.determinate,</span><span class="s3">\n      </span><span class="s1">.indeterminate-indicator-1,</span><span class="s3">\n      </span><span class="s1">.indeterminate-indicator-2 {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background-color: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([paused]) .determinate,</span><span class="s3">\n      </span><span class="s1">:host([paused]) .indeterminate-indicator-1,</span><span class="s3">\n      </span><span class="s1">:host([paused]) .indeterminate-indicator-2 {</span><span class="s3">\n        </span><span class="s1">background-color: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { BaseProgress, progressTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { progressStyles as styles } from './progress.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Progress bar class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-progress</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterProgress extends BaseProgress {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#BaseProgress} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#progressTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-progress&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpProgress = JupyterProgress.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'progress',</span><span class="s3">\n    </span><span class="s1">baseClass: BaseProgress,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">indeterminateIndicator1: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">indeterminate-indicator-1</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">indeterminate-indicator-1</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/span&gt;</span><span class="s3">\n    </span><span class="s1">`,</span><span class="s3">\n    </span><span class="s1">indeterminateIndicator2: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">indeterminate-indicator-2</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">indeterminate-indicator-2</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/span&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterProgress as Progress, styles as progressStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const progressSegments = 44;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#BaseProgress} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const progressRingTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">progressbar</span><span class="s3">\&quot;\n        </span><span class="s1">aria-valuenow=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.value}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-valuemin=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.min}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-valuemax=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.max}</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.paused ? </span><span class="s3">\&quot;</span><span class="s1">paused</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; typeof x.value === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot;</span><span class="s1">, html `</span><span class="s3">\n                </span><span class="s1">&lt;svg</span><span class="s3">\n                    </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">progress</span><span class="s3">\&quot;\n                    </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">progress</span><span class="s3">\&quot;\n                    </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 16 16</span><span class="s3">\&quot;\n                    </span><span class="s1">slot=</span><span class="s3">\&quot;</span><span class="s1">determinate</span><span class="s3">\&quot;\n                </span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;circle</span><span class="s3">\n                        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">background</span><span class="s3">\&quot;\n                        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">background</span><span class="s3">\&quot;\n                        </span><span class="s1">cx=</span><span class="s3">\&quot;</span><span class="s1">8px</span><span class="s3">\&quot;\n                        </span><span class="s1">cy=</span><span class="s3">\&quot;</span><span class="s1">8px</span><span class="s3">\&quot;\n                        </span><span class="s1">r=</span><span class="s3">\&quot;</span><span class="s1">7px</span><span class="s3">\&quot;\n                    </span><span class="s1">&gt;&lt;/circle&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;circle</span><span class="s3">\n                        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">determinate</span><span class="s3">\&quot;\n                        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">determinate</span><span class="s3">\&quot;\n                        </span><span class="s1">style=</span><span class="s3">\&quot;</span><span class="s1">stroke-dasharray: ${x =&gt; (progressSegments * x.percentComplete) /</span><span class="s3">\n    </span><span class="s1">100}px ${progressSegments}px</span><span class="s3">\&quot;\n                        </span><span class="s1">cx=</span><span class="s3">\&quot;</span><span class="s1">8px</span><span class="s3">\&quot;\n                        </span><span class="s1">cy=</span><span class="s3">\&quot;</span><span class="s1">8px</span><span class="s3">\&quot;\n                        </span><span class="s1">r=</span><span class="s3">\&quot;</span><span class="s1">7px</span><span class="s3">\&quot;\n                    </span><span class="s1">&gt;&lt;/circle&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n            </span><span class="s1">`, html `</span><span class="s3">\n                </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">indeterminate</span><span class="s3">\&quot; </span><span class="s1">slot=</span><span class="s3">\&quot;</span><span class="s1">indeterminate</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">${definition.indeterminateIndicator || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentForegroundRest, neutralFillRest, neutralForegroundHint } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/size.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Progress Ring</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const progressRingStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('flex')} :host {</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n      </span><span class="s1">width: calc(${heightNumber} * 1px);</span><span class="s3">\n      </span><span class="s1">margin: calc(${heightNumber} * 1px) 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.progress {</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.background {</span><span class="s3">\n      </span><span class="s1">stroke: ${neutralFillRest};</span><span class="s3">\n      </span><span class="s1">fill: none;</span><span class="s3">\n      </span><span class="s1">stroke-width: 2px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.determinate {</span><span class="s3">\n      </span><span class="s1">stroke: ${accentForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: none;</span><span class="s3">\n      </span><span class="s1">stroke-width: 2px;</span><span class="s3">\n      </span><span class="s1">stroke-linecap: round;</span><span class="s3">\n      </span><span class="s1">transform-origin: 50% 50%;</span><span class="s3">\n      </span><span class="s1">transform: rotate(-90deg);</span><span class="s3">\n      </span><span class="s1">transition: all 0.2s ease-in-out;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.indeterminate-indicator-1 {</span><span class="s3">\n      </span><span class="s1">stroke: ${accentForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: none;</span><span class="s3">\n      </span><span class="s1">stroke-width: 2px;</span><span class="s3">\n      </span><span class="s1">stroke-linecap: round;</span><span class="s3">\n      </span><span class="s1">transform-origin: 50% 50%;</span><span class="s3">\n      </span><span class="s1">transform: rotate(-90deg);</span><span class="s3">\n      </span><span class="s1">transition: all 0.2s ease-in-out;</span><span class="s3">\n      </span><span class="s1">animation: spin-infinite 2s linear infinite;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([paused]) .indeterminate-indicator-1 {</span><span class="s3">\n      </span><span class="s1">animation-play-state: paused;</span><span class="s3">\n      </span><span class="s1">stroke: ${neutralFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([paused]) .determinate {</span><span class="s3">\n      </span><span class="s1">stroke: ${neutralForegroundHint};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">@keyframes spin-infinite {</span><span class="s3">\n      </span><span class="s1">0% {</span><span class="s3">\n        </span><span class="s1">stroke-dasharray: 0.01px 43.97px;</span><span class="s3">\n        </span><span class="s1">transform: rotate(0deg);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">50% {</span><span class="s3">\n        </span><span class="s1">stroke-dasharray: 21.99px 21.99px;</span><span class="s3">\n        </span><span class="s1">transform: rotate(450deg);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">100% {</span><span class="s3">\n        </span><span class="s1">stroke-dasharray: 0.01px 43.97px;</span><span class="s3">\n        </span><span class="s1">transform: rotate(1080deg);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">.indeterminate-indicator-1,</span><span class="s3">\n      </span><span class="s1">.determinate {</span><span class="s3">\n        </span><span class="s1">stroke: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">.background {</span><span class="s3">\n        </span><span class="s1">stroke: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([paused]) .indeterminate-indicator-1 {</span><span class="s3">\n        </span><span class="s1">stroke: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([paused]) .determinate {</span><span class="s3">\n        </span><span class="s1">stroke: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { BaseProgress, progressRingTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { progressRingStyles as styles } from './progress-ring.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Progress ring class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-progress-ring</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterProgressRing extends BaseProgress {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#BaseProgress} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#progressRingTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-progress-ring&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpProgressRing = JupyterProgressRing.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'progress-ring',</span><span class="s3">\n    </span><span class="s1">baseClass: BaseProgress,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">indeterminateIndicator: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;svg class=</span><span class="s3">\&quot;</span><span class="s1">progress</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">progress</span><span class="s3">\&quot; </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 16 16</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;circle</span><span class="s3">\n                </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">background</span><span class="s3">\&quot;\n                </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">background</span><span class="s3">\&quot;\n                </span><span class="s1">cx=</span><span class="s3">\&quot;</span><span class="s1">8px</span><span class="s3">\&quot;\n                </span><span class="s1">cy=</span><span class="s3">\&quot;</span><span class="s1">8px</span><span class="s3">\&quot;\n                </span><span class="s1">r=</span><span class="s3">\&quot;</span><span class="s1">7px</span><span class="s3">\&quot;\n            </span><span class="s1">&gt;&lt;/circle&gt;</span><span class="s3">\n            </span><span class="s1">&lt;circle</span><span class="s3">\n                </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">indeterminate-indicator-1</span><span class="s3">\&quot;\n                </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">indeterminate-indicator-1</span><span class="s3">\&quot;\n                </span><span class="s1">cx=</span><span class="s3">\&quot;</span><span class="s1">8px</span><span class="s3">\&quot;\n                </span><span class="s1">cy=</span><span class="s3">\&quot;</span><span class="s1">8px</span><span class="s3">\&quot;\n                </span><span class="s1">r=</span><span class="s3">\&quot;</span><span class="s1">7px</span><span class="s3">\&quot;\n            </span><span class="s1">&gt;&lt;/circle&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterProgressRing as ProgressRing, styles as progressRingStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { CheckableFormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _Radio extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(Radio:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedRadio extends CheckableFormAssociated(_Radio) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keySpace } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedRadio } from </span><span class="s3">\&quot;</span><span class="s1">./radio.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Radio Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#radio | ARIA radio }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot checked-indicator - The checked indicator</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the label</span><span class="s3">\n </span><span class="s1">* @csspart control - The element representing the visual radio control</span><span class="s3">\n </span><span class="s1">* @csspart label - The label</span><span class="s3">\n </span><span class="s1">* @fires change - Emits a custom change event when the checked state changes</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Radio extends FormAssociatedRadio {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The element's value to be included in form submission when checked.</span><span class="s3">\n         </span><span class="s1">* Default to </span><span class="s3">\&quot;</span><span class="s1">on</span><span class="s3">\&quot; </span><span class="s1">to reach parity with input[type=</span><span class="s3">\&quot;</span><span class="s1">radio</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.initialValue = </span><span class="s3">\&quot;</span><span class="s1">on</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.keypressHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">switch (e.key) {</span><span class="s3">\n                </span><span class="s1">case keySpace:</span><span class="s3">\n                    </span><span class="s1">if (!this.checked &amp;&amp; !this.readOnly) {</span><span class="s3">\n                        </span><span class="s1">this.checked = true;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">radio</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">readOnlyChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.readOnly = this.readOnly;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">defaultCheckedChanged() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp; !this.dirtyChecked) {</span><span class="s3">\n            </span><span class="s1">// Setting this.checked will cause us to enter a dirty state,</span><span class="s3">\n            </span><span class="s1">// but if we are clean when defaultChecked is changed, we want to stay</span><span class="s3">\n            </span><span class="s1">// in a clean state, so reset this.dirtyChecked</span><span class="s3">\n            </span><span class="s1">if (!this.isInsideRadioGroup()) {</span><span class="s3">\n                </span><span class="s1">this.checked = (_a = this.defaultChecked) !== null &amp;&amp; _a !== void 0 ? _a : false;</span><span class="s3">\n                </span><span class="s1">this.dirtyChecked = false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">if (((_a = this.parentElement) === null || _a === void 0 ? void 0 : _a.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">)) !== </span><span class="s3">\&quot;</span><span class="s1">radiogroup</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">) === null) {</span><span class="s3">\n            </span><span class="s1">if (!this.disabled) {</span><span class="s3">\n                </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.checkedAttribute) {</span><span class="s3">\n            </span><span class="s1">if (!this.dirtyChecked) {</span><span class="s3">\n                </span><span class="s1">// Setting this.checked will cause us to enter a dirty state,</span><span class="s3">\n                </span><span class="s1">// but if we are clean when defaultChecked is changed, we want to stay</span><span class="s3">\n                </span><span class="s1">// in a clean state, so reset this.dirtyChecked</span><span class="s3">\n                </span><span class="s1">if (!this.isInsideRadioGroup()) {</span><span class="s3">\n                    </span><span class="s1">this.checked = (_b = this.defaultChecked) !== null &amp;&amp; _b !== void 0 ? _b : false;</span><span class="s3">\n                    </span><span class="s1">this.dirtyChecked = false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">isInsideRadioGroup() {</span><span class="s3">\n        </span><span class="s1">const parent = this.closest(</span><span class="s3">\&quot;</span><span class="s1">[role=radiogroup]</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">return parent !== null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">clickHandler(e) {</span><span class="s3">\n        </span><span class="s1">if (!this.disabled &amp;&amp; !this.readOnly &amp;&amp; !this.checked) {</span><span class="s3">\n            </span><span class="s1">this.checked = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Radio.prototype, </span><span class="s3">\&quot;</span><span class="s1">readOnly</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Radio.prototype, </span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Radio.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillActive, accentFillFocus, accentFillHover, accentFillRest, bodyFont, designUnit, disabledOpacity, errorFillActive, errorFillFocus, errorFillHover, errorFillRest, focusStrokeWidth, foregroundOnAccentActive, foregroundOnAccentHover, foregroundOnAccentRest, neutralFillInputActive, neutralFillInputHover, neutralFillInputRest, neutralForegroundRest, neutralStrokeActive, neutralStrokeHover, neutralStrokeRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Radio</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const radioStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('inline-flex')} :host {</span><span class="s3">\n      </span><span class="s1">--input-size: calc((${heightNumber} / 2) + ${designUnit});</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">margin: calc(${designUnit} * 1px) 0;</span><span class="s3">\n      </span><span class="s1">/* Chromium likes to select label text or the default slot when</span><span class="s3">\n                </span><span class="s1">the radio is clicked. Maybe there is a better solution here? */</span><span class="s3">\n      </span><span class="s1">user-select: none;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">flex-direction: row;</span><span class="s3">\n      </span><span class="s1">transition: all 0.2s ease-in-out;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control {</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">width: calc((${heightNumber} / 2 + ${designUnit}) * 1px);</span><span class="s3">\n      </span><span class="s1">height: calc((${heightNumber} / 2 + ${designUnit}) * 1px);</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">border-radius: 999px;</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${neutralStrokeRest};</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputRest};</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']) .control {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.label {</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">padding-inline-start: calc(${designUnit} * 2px + 2px);</span><span class="s3">\n      </span><span class="s1">margin-inline-end: calc(${designUnit} * 2px + 2px);</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.label__hidden {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n      </span><span class="s1">visibility: hidden;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control,</span><span class="s3">\n    </span><span class="s1">.checked-indicator {</span><span class="s3">\n      </span><span class="s1">flex-shrink: 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.checked-indicator {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">top: 5px;</span><span class="s3">\n      </span><span class="s1">left: 5px;</span><span class="s3">\n      </span><span class="s1">right: 5px;</span><span class="s3">\n      </span><span class="s1">bottom: 5px;</span><span class="s3">\n      </span><span class="s1">border-radius: 999px;</span><span class="s3">\n      </span><span class="s1">display: inline-block;</span><span class="s3">\n      </span><span class="s1">background: ${foregroundOnAccentRest};</span><span class="s3">\n      </span><span class="s1">fill: ${foregroundOnAccentRest};</span><span class="s3">\n      </span><span class="s1">opacity: 0;</span><span class="s3">\n      </span><span class="s1">pointer-events: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled])) .control:hover {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputHover};</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralStrokeHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']:not([disabled])) .control:hover {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled])) .control:active {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputActive};</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralStrokeActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']:not([disabled])) .control:active {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:${focusVisible}) .control {</span><span class="s3">\n      </span><span class="s1">outline: solid calc(${focusStrokeWidth} * 1px) ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']:${focusVisible}) .control {</span><span class="s3">\n      </span><span class="s1">outline-color: ${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) .control {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${accentFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked='true']) .control {</span><span class="s3">\n      </span><span class="s1">background-color: ${errorFillRest};</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled])) .control:hover {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillHover};</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${accentFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.control:hover {</span><span class="s3">\n      </span><span class="s1">background-color: ${errorFillHover};</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.control:hover</span><span class="s3">\n      </span><span class="s1">.checked-indicator {</span><span class="s3">\n      </span><span class="s1">background: ${foregroundOnAccentHover};</span><span class="s3">\n      </span><span class="s1">fill: ${foregroundOnAccentHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled])) .control:active {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillActive};</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${accentFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.control:active {</span><span class="s3">\n      </span><span class="s1">background-color: ${errorFillActive};</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.control:active</span><span class="s3">\n      </span><span class="s1">.checked-indicator {</span><span class="s3">\n      </span><span class="s1">background: ${foregroundOnAccentActive};</span><span class="s3">\n      </span><span class="s1">fill: ${foregroundOnAccentActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}:not([disabled])) .control {</span><span class="s3">\n      </span><span class="s1">outline-offset: 2px;</span><span class="s3">\n      </span><span class="s1">outline: solid calc(${focusStrokeWidth} * 1px) ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}:not([disabled])) .control {</span><span class="s3">\n      </span><span class="s1">outline-color: ${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) .label,</span><span class="s3">\n    </span><span class="s1">:host([readonly]) .label,</span><span class="s3">\n    </span><span class="s1">:host([readonly]) .control,</span><span class="s3">\n    </span><span class="s1">:host([disabled]) .control {</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) .checked-indicator {</span><span class="s3">\n      </span><span class="s1">opacity: 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) {</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">.control,</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']:not([disabled])) .control {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.FieldText};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-invalid='true']) {</span><span class="s3">\n        </span><span class="s1">border-style: dashed;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(:not([disabled])) .control:hover {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']:not([disabled])) .control:hover,</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']:not([disabled])) .control:active {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']) .checked-indicator {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n        </span><span class="s1">.control:hover</span><span class="s3">\n        </span><span class="s1">.checked-indicator,</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n        </span><span class="s1">.control:active</span><span class="s3">\n        </span><span class="s1">.checked-indicator {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(:${focusVisible}) .control {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">outline-offset: 2px;</span><span class="s3">\n        </span><span class="s1">outline: solid calc(${focusStrokeWidth} * 1px) ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}:not([disabled])) .control {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">outline: solid calc(${focusStrokeWidth} * 1px) ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .label {</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .control,</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true'][disabled]) .control:hover,</span><span class="s3">\n      </span><span class="s1">.control:active {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .checked-indicator,</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true'][disabled]) .control:hover .checked-indicator {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Radio } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { radioStyles as styles } from './radio.styles.js';</span><span class="s3">\n</span><span class="s1">import { html, slotted } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">export const radioTemplate = (context, definition) =&gt; html `</span><span class="s3">\n  </span><span class="s1">&lt;template</span><span class="s3">\n    </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">radio</span><span class="s3">\&quot;\n    </span><span class="s1">aria-checked=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.checked}</span><span class="s3">\&quot;\n    </span><span class="s1">aria-required=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.required}</span><span class="s3">\&quot;\n    </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n    </span><span class="s1">aria-readonly=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.readOnly}</span><span class="s3">\&quot;\n    </span><span class="s1">@keypress=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.keypressHandler(c.event)}</span><span class="s3">\&quot;\n    </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.clickHandler(c.event)}</span><span class="s3">\&quot;\n  </span><span class="s1">&gt;</span><span class="s3">\n    </span><span class="s1">&lt;div part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n      </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">checked-indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${definition.checkedIndicator || ''}</span><span class="s3">\n      </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;label</span><span class="s3">\n      </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n      </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.defaultSlottedNodes &amp;&amp; x.defaultSlottedNodes.length</span><span class="s3">\n    </span><span class="s1">? 'label'</span><span class="s3">\n    </span><span class="s1">: 'label label__hidden'}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n      </span><span class="s1">&lt;slot ${slotted('defaultSlottedNodes')}&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/label&gt;</span><span class="s3">\n  </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Radio class</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-radio</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterRadio extends Radio {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Radio} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#radioTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-radio&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpRadio = JupyterRadio.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'radio',</span><span class="s3">\n    </span><span class="s1">baseClass: Radio,</span><span class="s3">\n    </span><span class="s1">template: radioTemplate,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">checkedIndicator: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;div part=</span><span class="s3">\&quot;</span><span class="s1">checked-indicator</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">checked-indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterRadio as Radio, styles as radioStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ArrowKeys, Direction, keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnter, Orientation, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { getDirection } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/direction.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An Radio Group Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#radiogroup | ARIA radiogroup }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot label - The slot for the label</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for radio buttons</span><span class="s3">\n </span><span class="s1">* @csspart positioning-region - The positioning region for laying out the radios</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the value changes</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class RadioGroup extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The orientation of the group</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: orientation</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.orientation = Orientation.horizontal;</span><span class="s3">\n        </span><span class="s1">this.radioChangeHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">const changedRadio = e.target;</span><span class="s3">\n            </span><span class="s1">if (changedRadio.checked) {</span><span class="s3">\n                </span><span class="s1">this.slottedRadioButtons.forEach((radio) =&gt; {</span><span class="s3">\n                    </span><span class="s1">if (radio !== changedRadio) {</span><span class="s3">\n                        </span><span class="s1">radio.checked = false;</span><span class="s3">\n                        </span><span class="s1">if (!this.isInsideFoundationToolbar) {</span><span class="s3">\n                            </span><span class="s1">radio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">this.selectedRadio = changedRadio;</span><span class="s3">\n                </span><span class="s1">this.value = changedRadio.value;</span><span class="s3">\n                </span><span class="s1">changedRadio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.focusedRadio = changedRadio;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">e.stopPropagation();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.moveToRadioByIndex = (group, index) =&gt; {</span><span class="s3">\n            </span><span class="s1">const radio = group[index];</span><span class="s3">\n            </span><span class="s1">if (!this.isInsideToolbar) {</span><span class="s3">\n                </span><span class="s1">radio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">if (radio.readOnly) {</span><span class="s3">\n                    </span><span class="s1">this.slottedRadioButtons.forEach((nextRadio) =&gt; {</span><span class="s3">\n                        </span><span class="s1">if (nextRadio !== radio) {</span><span class="s3">\n                            </span><span class="s1">nextRadio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">radio.checked = true;</span><span class="s3">\n                    </span><span class="s1">this.selectedRadio = radio;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.focusedRadio = radio;</span><span class="s3">\n            </span><span class="s1">radio.focus();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.moveRightOffGroup = () =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">(_a = this.nextElementSibling) === null || _a === void 0 ? void 0 : _a.focus();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.moveLeftOffGroup = () =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">(_a = this.previousElementSibling) === null || _a === void 0 ? void 0 : _a.focus();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.focusOutHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">const group = this.slottedRadioButtons;</span><span class="s3">\n            </span><span class="s1">const radio = e.target;</span><span class="s3">\n            </span><span class="s1">const index = radio !== null ? group.indexOf(radio) : 0;</span><span class="s3">\n            </span><span class="s1">const focusedIndex = this.focusedRadio</span><span class="s3">\n                </span><span class="s1">? group.indexOf(this.focusedRadio)</span><span class="s3">\n                </span><span class="s1">: -1;</span><span class="s3">\n            </span><span class="s1">if ((focusedIndex === 0 &amp;&amp; index === focusedIndex) ||</span><span class="s3">\n                </span><span class="s1">(focusedIndex === group.length - 1 &amp;&amp; focusedIndex === index)) {</span><span class="s3">\n                </span><span class="s1">if (!this.selectedRadio) {</span><span class="s3">\n                    </span><span class="s1">this.focusedRadio = group[0];</span><span class="s3">\n                    </span><span class="s1">this.focusedRadio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">group.forEach((nextRadio) =&gt; {</span><span class="s3">\n                        </span><span class="s1">if (nextRadio !== this.focusedRadio) {</span><span class="s3">\n                            </span><span class="s1">nextRadio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">this.focusedRadio = this.selectedRadio;</span><span class="s3">\n                    </span><span class="s1">if (!this.isInsideFoundationToolbar) {</span><span class="s3">\n                        </span><span class="s1">this.selectedRadio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">group.forEach((nextRadio) =&gt; {</span><span class="s3">\n                            </span><span class="s1">if (nextRadio !== this.selectedRadio) {</span><span class="s3">\n                                </span><span class="s1">nextRadio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                            </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">});</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.clickHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">const radio = e.target;</span><span class="s3">\n            </span><span class="s1">if (radio) {</span><span class="s3">\n                </span><span class="s1">const group = this.slottedRadioButtons;</span><span class="s3">\n                </span><span class="s1">if (radio.checked || group.indexOf(radio) === 0) {</span><span class="s3">\n                    </span><span class="s1">radio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">this.selectedRadio = radio;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">radio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">this.selectedRadio = null;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.focusedRadio = radio;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">e.preventDefault();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.shouldMoveOffGroupToTheRight = (index, group, key) =&gt; {</span><span class="s3">\n            </span><span class="s1">return index === group.length &amp;&amp; this.isInsideToolbar &amp;&amp; key === keyArrowRight;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.shouldMoveOffGroupToTheLeft = (group, key) =&gt; {</span><span class="s3">\n            </span><span class="s1">const index = this.focusedRadio ? group.indexOf(this.focusedRadio) - 1 : 0;</span><span class="s3">\n            </span><span class="s1">return index &lt; 0 &amp;&amp; this.isInsideToolbar &amp;&amp; key === keyArrowLeft;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.checkFocusedRadio = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.focusedRadio !== null &amp;&amp;</span><span class="s3">\n                </span><span class="s1">!this.focusedRadio.readOnly &amp;&amp;</span><span class="s3">\n                </span><span class="s1">!this.focusedRadio.checked) {</span><span class="s3">\n                </span><span class="s1">this.focusedRadio.checked = true;</span><span class="s3">\n                </span><span class="s1">this.focusedRadio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.focusedRadio.focus();</span><span class="s3">\n                </span><span class="s1">this.selectedRadio = this.focusedRadio;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.moveRight = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">const group = this.slottedRadioButtons;</span><span class="s3">\n            </span><span class="s1">let index = 0;</span><span class="s3">\n            </span><span class="s1">index = this.focusedRadio ? group.indexOf(this.focusedRadio) + 1 : 1;</span><span class="s3">\n            </span><span class="s1">if (this.shouldMoveOffGroupToTheRight(index, group, e.key)) {</span><span class="s3">\n                </span><span class="s1">this.moveRightOffGroup();</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (index === group.length) {</span><span class="s3">\n                </span><span class="s1">index = 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">/* looping to get to next radio that is not disabled */</span><span class="s3">\n            </span><span class="s1">/* matching native radio/radiogroup which does not select an item if there is only 1 in the group */</span><span class="s3">\n            </span><span class="s1">while (index &lt; group.length &amp;&amp; group.length &gt; 1) {</span><span class="s3">\n                </span><span class="s1">if (!group[index].disabled) {</span><span class="s3">\n                    </span><span class="s1">this.moveToRadioByIndex(group, index);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (this.focusedRadio &amp;&amp; index === group.indexOf(this.focusedRadio)) {</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (index + 1 &gt;= group.length) {</span><span class="s3">\n                    </span><span class="s1">if (this.isInsideToolbar) {</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">index = 0;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">index += 1;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.moveLeft = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">const group = this.slottedRadioButtons;</span><span class="s3">\n            </span><span class="s1">let index = 0;</span><span class="s3">\n            </span><span class="s1">index = this.focusedRadio ? group.indexOf(this.focusedRadio) - 1 : 0;</span><span class="s3">\n            </span><span class="s1">index = index &lt; 0 ? group.length - 1 : index;</span><span class="s3">\n            </span><span class="s1">if (this.shouldMoveOffGroupToTheLeft(group, e.key)) {</span><span class="s3">\n                </span><span class="s1">this.moveLeftOffGroup();</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">/* looping to get to next radio that is not disabled */</span><span class="s3">\n            </span><span class="s1">while (index &gt;= 0 &amp;&amp; group.length &gt; 1) {</span><span class="s3">\n                </span><span class="s1">if (!group[index].disabled) {</span><span class="s3">\n                    </span><span class="s1">this.moveToRadioByIndex(group, index);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (this.focusedRadio &amp;&amp; index === group.indexOf(this.focusedRadio)) {</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (index - 1 &lt; 0) {</span><span class="s3">\n                    </span><span class="s1">index = group.length - 1;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">index -= 1;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* keyboard handling per https://w3c.github.io/aria-practices/#for-radio-groups-not-contained-in-a-toolbar</span><span class="s3">\n         </span><span class="s1">* navigation is different when there is an ancestor with role='toolbar'</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.keydownHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">const key = e.key;</span><span class="s3">\n            </span><span class="s1">if (key in ArrowKeys &amp;&amp; this.isInsideFoundationToolbar) {</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">switch (key) {</span><span class="s3">\n                </span><span class="s1">case keyEnter: {</span><span class="s3">\n                    </span><span class="s1">this.checkFocusedRadio();</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">case keyArrowRight:</span><span class="s3">\n                </span><span class="s1">case keyArrowDown: {</span><span class="s3">\n                    </span><span class="s1">if (this.direction === Direction.ltr) {</span><span class="s3">\n                        </span><span class="s1">this.moveRight(e);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">this.moveLeft(e);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">case keyArrowLeft:</span><span class="s3">\n                </span><span class="s1">case keyArrowUp: {</span><span class="s3">\n                    </span><span class="s1">if (this.direction === Direction.ltr) {</span><span class="s3">\n                        </span><span class="s1">this.moveLeft(e);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">else {</span><span class="s3">\n                        </span><span class="s1">this.moveRight(e);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">default: {</span><span class="s3">\n                    </span><span class="s1">return true;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">readOnlyChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.slottedRadioButtons !== undefined) {</span><span class="s3">\n            </span><span class="s1">this.slottedRadioButtons.forEach((radio) =&gt; {</span><span class="s3">\n                </span><span class="s1">if (this.readOnly) {</span><span class="s3">\n                    </span><span class="s1">radio.readOnly = true;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">radio.readOnly = false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">disabledChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.slottedRadioButtons !== undefined) {</span><span class="s3">\n            </span><span class="s1">this.slottedRadioButtons.forEach((radio) =&gt; {</span><span class="s3">\n                </span><span class="s1">if (this.disabled) {</span><span class="s3">\n                    </span><span class="s1">radio.disabled = true;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">radio.disabled = false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">nameChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.slottedRadioButtons) {</span><span class="s3">\n            </span><span class="s1">this.slottedRadioButtons.forEach((radio) =&gt; {</span><span class="s3">\n                </span><span class="s1">radio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">, this.name);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">valueChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.slottedRadioButtons) {</span><span class="s3">\n            </span><span class="s1">this.slottedRadioButtons.forEach((radio) =&gt; {</span><span class="s3">\n                </span><span class="s1">if (radio.value === this.value) {</span><span class="s3">\n                    </span><span class="s1">radio.checked = true;</span><span class="s3">\n                    </span><span class="s1">this.selectedRadio = radio;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">slottedRadioButtonsChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">if (this.slottedRadioButtons &amp;&amp; this.slottedRadioButtons.length &gt; 0) {</span><span class="s3">\n            </span><span class="s1">this.setupRadioButtons();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get parentToolbar() {</span><span class="s3">\n        </span><span class="s1">return this.closest('[role=</span><span class="s3">\&quot;</span><span class="s1">toolbar</span><span class="s3">\&quot;</span><span class="s1">]');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get isInsideToolbar() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">return ((_a = this.parentToolbar) !== null &amp;&amp; _a !== void 0 ? _a : false);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get isInsideFoundationToolbar() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">return !!((_a = this.parentToolbar) === null || _a === void 0 ? void 0 : _a[</span><span class="s3">\&quot;</span><span class="s1">$fastController</span><span class="s3">\&quot;</span><span class="s1">]);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.direction = getDirection(this);</span><span class="s3">\n        </span><span class="s1">this.setupRadioButtons();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">this.slottedRadioButtons.forEach((radio) =&gt; {</span><span class="s3">\n            </span><span class="s1">radio.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, this.radioChangeHandler);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setupRadioButtons() {</span><span class="s3">\n        </span><span class="s1">const checkedRadios = this.slottedRadioButtons.filter((radio) =&gt; {</span><span class="s3">\n            </span><span class="s1">return radio.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">const numberOfCheckedRadios = checkedRadios ? checkedRadios.length : 0;</span><span class="s3">\n        </span><span class="s1">if (numberOfCheckedRadios &gt; 1) {</span><span class="s3">\n            </span><span class="s1">const lastCheckedRadio = checkedRadios[numberOfCheckedRadios - 1];</span><span class="s3">\n            </span><span class="s1">lastCheckedRadio.checked = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let foundMatchingVal = false;</span><span class="s3">\n        </span><span class="s1">this.slottedRadioButtons.forEach((radio) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.name !== undefined) {</span><span class="s3">\n                </span><span class="s1">radio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">, this.name);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.disabled) {</span><span class="s3">\n                </span><span class="s1">radio.disabled = true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.readOnly) {</span><span class="s3">\n                </span><span class="s1">radio.readOnly = true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.value &amp;&amp; this.value === radio.value) {</span><span class="s3">\n                </span><span class="s1">this.selectedRadio = radio;</span><span class="s3">\n                </span><span class="s1">this.focusedRadio = radio;</span><span class="s3">\n                </span><span class="s1">radio.checked = true;</span><span class="s3">\n                </span><span class="s1">radio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">foundMatchingVal = true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">if (!this.isInsideFoundationToolbar) {</span><span class="s3">\n                    </span><span class="s1">radio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">radio.checked = false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">radio.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, this.radioChangeHandler);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">if (this.value === undefined &amp;&amp; this.slottedRadioButtons.length &gt; 0) {</span><span class="s3">\n            </span><span class="s1">const checkedRadios = this.slottedRadioButtons.filter((radio) =&gt; {</span><span class="s3">\n                </span><span class="s1">return radio.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">const numberOfCheckedRadios = checkedRadios !== null ? checkedRadios.length : 0;</span><span class="s3">\n            </span><span class="s1">if (numberOfCheckedRadios &gt; 0 &amp;&amp; !foundMatchingVal) {</span><span class="s3">\n                </span><span class="s1">const lastCheckedRadio = checkedRadios[numberOfCheckedRadios - 1];</span><span class="s3">\n                </span><span class="s1">lastCheckedRadio.checked = true;</span><span class="s3">\n                </span><span class="s1">this.focusedRadio = lastCheckedRadio;</span><span class="s3">\n                </span><span class="s1">lastCheckedRadio.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">this.slottedRadioButtons[0].setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.focusedRadio = this.slottedRadioButtons[0];</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], RadioGroup.prototype, </span><span class="s3">\&quot;</span><span class="s1">readOnly</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], RadioGroup.prototype, </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], RadioGroup.prototype, </span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], RadioGroup.prototype, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], RadioGroup.prototype, </span><span class="s3">\&quot;</span><span class="s1">orientation</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], RadioGroup.prototype, </span><span class="s3">\&quot;</span><span class="s1">childItems</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], RadioGroup.prototype, </span><span class="s3">\&quot;</span><span class="s1">slottedRadioButtons</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { elements, html, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Orientation } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#RadioGroup} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const radioGroupTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">radiogroup</span><span class="s3">\&quot;\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-readonly=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.readOnly}</span><span class="s3">\&quot;\n        </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.clickHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.keydownHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusout=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.focusOutHandler(c.event)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div</span><span class="s3">\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">positioning-region ${x =&gt; x.orientation === Orientation.horizontal ? </span><span class="s3">\&quot;</span><span class="s1">horizontal</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">vertical</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">positioning-region</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot</span><span class="s3">\n                </span><span class="s1">${slotted({</span><span class="s3">\n    </span><span class="s1">property: </span><span class="s3">\&quot;</span><span class="s1">slottedRadioButtons</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">filter: elements(</span><span class="s3">\&quot;</span><span class="s1">[role=radio]</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n</span><span class="s1">})}</span><span class="s3">\n            </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { designUnit } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Radio Group</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const radioGroupStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${display('flex')} :host {</span><span class="s3">\n    </span><span class="s1">align-items: flex-start;</span><span class="s3">\n    </span><span class="s1">margin: calc(${designUnit} * 1px) 0;</span><span class="s3">\n    </span><span class="s1">flex-direction: column;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">.positioning-region {</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">flex-wrap: wrap;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">:host([orientation='vertical']) .positioning-region {</span><span class="s3">\n    </span><span class="s1">flex-direction: column;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">:host([orientation='horizontal']) .positioning-region {</span><span class="s3">\n    </span><span class="s1">flex-direction: row;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { RadioGroup, radioGroupTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { radioGroupStyles as styles } from './radio-group.styles.js';</span><span class="s3">\n</span><span class="s1">import { Observable } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* RadioGroup class</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-radio-group</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterRadioGroup extends RadioGroup {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">// FIXME work around for private slottedRadioButtonsChanged</span><span class="s3">\n        </span><span class="s1">const notifier = Observable.getNotifier(this);</span><span class="s3">\n        </span><span class="s1">const handler = {</span><span class="s3">\n            </span><span class="s1">handleChange(source, propertyName) {</span><span class="s3">\n                </span><span class="s1">if (propertyName === 'slottedRadioButtons') {</span><span class="s3">\n                    </span><span class="s1">source.ariaInvalidChanged();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">notifier.subscribe(handler, 'slottedRadioButtons');</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">ariaInvalidChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.slottedRadioButtons) {</span><span class="s3">\n            </span><span class="s1">this.slottedRadioButtons.forEach(radio =&gt; {</span><span class="s3">\n                </span><span class="s1">var _a;</span><span class="s3">\n                </span><span class="s1">radio.setAttribute('aria-invalid', (_a = this.getAttribute('aria-invalid')) !== null &amp;&amp; _a !== void 0 ? _a : 'false');</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#RadioGroup} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#radioGroupTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-radio-group&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpRadioGroup = JupyterRadioGroup.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'radio-group',</span><span class="s3">\n    </span><span class="s1">baseClass: RadioGroup,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterRadioGroup as RadioGroup, styles as radioGroupStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _Search extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(Search:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedSearch extends FormAssociated(_Search) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, nullableNumberConverter, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ARIAGlobalStatesAndProperties, StartEnd, } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedSearch } from </span><span class="s3">\&quot;</span><span class="s1">./search.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Search Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/search | &lt;input type=</span><span class="s3">\&quot;</span><span class="s1">search</span><span class="s3">\&quot; </span><span class="s1">/&gt; element }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the search input</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the search clear button</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the label</span><span class="s3">\n </span><span class="s1">* @slot close-button - The clear button</span><span class="s3">\n </span><span class="s1">* @slot close-glyph - The clear glyph</span><span class="s3">\n </span><span class="s1">* @csspart label - The label</span><span class="s3">\n </span><span class="s1">* @csspart root - The element wrapping the control, including start and end slots</span><span class="s3">\n </span><span class="s1">* @csspart control - The element representing the input</span><span class="s3">\n </span><span class="s1">* @csspart clear-button - The button to clear the input</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Search extends FormAssociatedSearch {</span><span class="s3">\n    </span><span class="s1">readOnlyChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.readOnly = this.readOnly;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">autofocusChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.autofocus = this.autofocus;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">placeholderChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.placeholder = this.placeholder;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">listChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;</span><span class="s1">, this.list);</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">maxlengthChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.maxLength = this.maxlength;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">minlengthChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.minLength = this.minlength;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">patternChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.pattern = this.pattern;</span><span class="s3">\n            </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">sizeChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.size = this.size;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">spellcheckChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.spellcheck = this.spellcheck;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.validate();</span><span class="s3">\n        </span><span class="s1">if (this.autofocus) {</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n                </span><span class="s1">this.focus();</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** {@inheritDoc (FormAssociated:interface).validate} */</span><span class="s3">\n    </span><span class="s1">validate() {</span><span class="s3">\n        </span><span class="s1">super.validate(this.control);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles the internal control's `input` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleTextInput() {</span><span class="s3">\n        </span><span class="s1">this.value = this.control.value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles the control's clear value event</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleClearInput() {</span><span class="s3">\n        </span><span class="s1">this.value = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.control.focus();</span><span class="s3">\n        </span><span class="s1">this.handleChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Change event handler for inner control.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* </span><span class="s3">\&quot;</span><span class="s1">Change</span><span class="s3">\&quot; </span><span class="s1">events are not `composable` so they will not</span><span class="s3">\n     </span><span class="s1">* permeate the shadow DOM boundary. This fn effectively proxies</span><span class="s3">\n     </span><span class="s1">* the change event, emitting a `change` event whenever the internal</span><span class="s3">\n     </span><span class="s1">* control emits a `change` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange() {</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Search.prototype, </span><span class="s3">\&quot;</span><span class="s1">readOnly</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Search.prototype, </span><span class="s3">\&quot;</span><span class="s1">autofocus</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Search.prototype, </span><span class="s3">\&quot;</span><span class="s1">placeholder</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Search.prototype, </span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], Search.prototype, </span><span class="s3">\&quot;</span><span class="s1">maxlength</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], Search.prototype, </span><span class="s3">\&quot;</span><span class="s1">minlength</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Search.prototype, </span><span class="s3">\&quot;</span><span class="s1">pattern</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], Search.prototype, </span><span class="s3">\&quot;</span><span class="s1">size</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Search.prototype, </span><span class="s3">\&quot;</span><span class="s1">spellcheck</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Search.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Includes ARIA states and properties relating to the ARIA textbox role</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DelegatesARIASearch {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">applyMixins(DelegatesARIASearch, ARIAGlobalStatesAndProperties);</span><span class="s3">\n</span><span class="s1">applyMixins(Search, StartEnd, DelegatesARIASearch);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { whitespaceFilter } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/whitespace-filter.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Search:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const searchTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">class=</span><span class="s3">\&quot;\n            </span><span class="s1">${x =&gt; (x.readOnly ? </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\n        \&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;label</span><span class="s3">\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n            </span><span class="s1">for=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.defaultSlottedNodes &amp;&amp; x.defaultSlottedNodes.length</span><span class="s3">\n    </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n    </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">label label__hidden</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot</span><span class="s3">\n                </span><span class="s1">${slotted({ property: </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">, filter: whitespaceFilter })}</span><span class="s3">\n            </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/label&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot; </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">)}&gt;</span><span class="s3">\n            </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n            </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">input-wrapper</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">input-wrapper</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">&lt;input</span><span class="s3">\n                    </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                    </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                    </span><span class="s1">id=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                    </span><span class="s1">@input=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleTextInput()}</span><span class="s3">\&quot;\n                    </span><span class="s1">@change=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleChange()}</span><span class="s3">\&quot;\n                    </span><span class="s1">?autofocus=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.autofocus}</span><span class="s3">\&quot;\n                    </span><span class="s1">?disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n                    </span><span class="s1">list=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.list}</span><span class="s3">\&quot;\n                    </span><span class="s1">maxlength=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.maxlength}</span><span class="s3">\&quot;\n                    </span><span class="s1">minlength=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.minlength}</span><span class="s3">\&quot;\n                    </span><span class="s1">pattern=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.pattern}</span><span class="s3">\&quot;\n                    </span><span class="s1">placeholder=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.placeholder}</span><span class="s3">\&quot;\n                    </span><span class="s1">?readonly=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.readOnly}</span><span class="s3">\&quot;\n                    </span><span class="s1">?required=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.required}</span><span class="s3">\&quot;\n                    </span><span class="s1">size=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.size}</span><span class="s3">\&quot;\n                    </span><span class="s1">?spellcheck=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.spellcheck}</span><span class="s3">\&quot;\n                    </span><span class="s1">:value=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.value}</span><span class="s3">\&quot;\n                    </span><span class="s1">type=</span><span class="s3">\&quot;</span><span class="s1">search</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-atomic=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaAtomic}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-busy=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaBusy}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaControls}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-current=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaCurrent}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-describedby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDescribedby}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-details=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDetails}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-errormessage=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaErrormessage}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-flowto=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaFlowto}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-haspopup=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHaspopup}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHidden}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-invalid=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaInvalid}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-keyshortcuts=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaKeyshortcuts}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-label=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabel}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabelledby}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-live=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLive}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-owns=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaOwns}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-relevant=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRelevant}</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-roledescription=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRoledescription}</span><span class="s3">\&quot;\n                    </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n                </span><span class="s1">/&gt;</span><span class="s3">\n                </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">close-button</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;button</span><span class="s3">\n                        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">clear-button ${x =&gt; x.value ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">clear-button__hidden</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;\n                        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">clear-button</span><span class="s3">\&quot;\n                        </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;\n                        </span><span class="s1">@click=${x =&gt; x.handleClearInput()}</span><span class="s3">\n                    </span><span class="s1">&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">close-glyph</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;svg</span><span class="s3">\n                                </span><span class="s1">width=</span><span class="s3">\&quot;</span><span class="s1">9</span><span class="s3">\&quot;\n                                </span><span class="s1">height=</span><span class="s3">\&quot;</span><span class="s1">9</span><span class="s3">\&quot;\n                                </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 9 9</span><span class="s3">\&quot;\n                                </span><span class="s1">xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;\n                            </span><span class="s1">&gt;</span><span class="s3">\n                                </span><span class="s1">&lt;path</span><span class="s3">\n                                    </span><span class="s1">d=</span><span class="s3">\&quot;</span><span class="s1">M0.146447 0.146447C0.338683 -0.0478972 0.645911 -0.0270359 0.853553 0.146447L4.5 3.793L8.14645 0.146447C8.34171 -0.0488155 8.65829 -0.0488155 8.85355 0.146447C9.04882 0.341709 9.04882 0.658291 8.85355 0.853553L5.207 4.5L8.85355 8.14645C9.05934 8.35223 9.03129 8.67582 8.85355 8.85355C8.67582 9.03129 8.35409 9.02703 8.14645 8.85355L4.5 5.207L0.853553 8.85355C0.658291 9.04882 0.341709 9.04882 0.146447 8.85355C-0.0488155 8.65829 -0.0488155 8.34171 0.146447 8.14645L3.793 4.5L0.146447 0.853553C-0.0268697 0.680237 -0.0457894 0.34079 0.146447 0.146447Z</span><span class="s3">\&quot;\n                                </span><span class="s1">/&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;/button&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { DesignToken, focusVisible } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { bodyFont, controlCornerRadius, density, designUnit, neutralFillRecipe, neutralFillStealthActive, neutralFillStealthHover, neutralFillStealthRecipe, neutralForegroundRest, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { BaseFieldStyles, heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">const clearButtonHover = DesignToken.create('clear-button-hover').withDefault((target) =&gt; {</span><span class="s3">\n    </span><span class="s1">const buttonRecipe = neutralFillStealthRecipe.getValueFor(target);</span><span class="s3">\n    </span><span class="s1">const inputRecipe = neutralFillRecipe.getValueFor(target);</span><span class="s3">\n    </span><span class="s1">return buttonRecipe.evaluate(target, inputRecipe.evaluate(target).hover)</span><span class="s3">\n        </span><span class="s1">.hover;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">const clearButtonActive = DesignToken.create('clear-button-active').withDefault((target) =&gt; {</span><span class="s3">\n    </span><span class="s1">const buttonRecipe = neutralFillStealthRecipe.getValueFor(target);</span><span class="s3">\n    </span><span class="s1">const inputRecipe = neutralFillRecipe.getValueFor(target);</span><span class="s3">\n    </span><span class="s1">return buttonRecipe.evaluate(target, inputRecipe.evaluate(target).hover)</span><span class="s3">\n        </span><span class="s1">.active;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export const searchStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${BaseFieldStyles}</span><span class="s3">\n\n  </span><span class="s1">.control::-webkit-search-cancel-button {</span><span class="s3">\n    </span><span class="s1">-webkit-appearance: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.control:hover,</span><span class="s3">\n    </span><span class="s1">.control:${focusVisible},</span><span class="s3">\n    </span><span class="s1">.control:disabled,</span><span class="s3">\n    </span><span class="s1">.control:active {</span><span class="s3">\n    </span><span class="s1">outline: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.clear-button {</span><span class="s3">\n    </span><span class="s1">height: calc(100% - 2px);</span><span class="s3">\n    </span><span class="s1">opacity: 0;</span><span class="s3">\n    </span><span class="s1">margin: 1px;</span><span class="s3">\n    </span><span class="s1">background: transparent;</span><span class="s3">\n    </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">border: none;</span><span class="s3">\n    </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">min-width: calc(${heightNumber} * 1px);</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n    </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n    </span><span class="s1">outline: none;</span><span class="s3">\n    </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n    </span><span class="s1">padding: 0 calc((10 + (${designUnit} * 2 * ${density})) * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.clear-button:hover {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillStealthHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.clear-button:active {</span><span class="s3">\n    </span><span class="s1">background: ${neutralFillStealthActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='filled']) .clear-button:hover {</span><span class="s3">\n    </span><span class="s1">background: ${clearButtonHover};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host([appearance='filled']) .clear-button:active {</span><span class="s3">\n    </span><span class="s1">background: ${clearButtonActive};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.input-wrapper {</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">position: relative;</span><span class="s3">\n    </span><span class="s1">width: 100%;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.start,</span><span class="s3">\n  </span><span class="s1">.end {</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">margin: 1px;</span><span class="s3">\n    </span><span class="s1">fill: currentcolor;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">::slotted([slot='end']) {</span><span class="s3">\n    </span><span class="s1">height: 100%;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.end {</span><span class="s3">\n    </span><span class="s1">margin-inline-end: 1px;</span><span class="s3">\n    </span><span class="s1">height: calc(100% - 2px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">::slotted(svg) {</span><span class="s3">\n    </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n    </span><span class="s1">width: 16px;</span><span class="s3">\n    </span><span class="s1">height: 16px;</span><span class="s3">\n    </span><span class="s1">margin-inline-end: 11px;</span><span class="s3">\n    </span><span class="s1">margin-inline-start: 11px;</span><span class="s3">\n    </span><span class="s1">margin-top: auto;</span><span class="s3">\n    </span><span class="s1">margin-bottom: auto;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.clear-button__hidden {</span><span class="s3">\n    </span><span class="s1">opacity: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(:hover:not([disabled], [readOnly])) .clear-button,</span><span class="s3">\n  </span><span class="s1">:host(:active:not([disabled], [readOnly])) .clear-button,</span><span class="s3">\n  </span><span class="s1">:host(:focus-within:not([disabled], [readOnly])) .clear-button {</span><span class="s3">\n    </span><span class="s1">opacity: 1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host(:hover:not([disabled], [readOnly])) .clear-button__hidden,</span><span class="s3">\n  </span><span class="s1">:host(:active:not([disabled], [readOnly])) .clear-button__hidden,</span><span class="s3">\n  </span><span class="s1">:host(:focus-within:not([disabled], [readOnly])) .clear-button__hidden {</span><span class="s3">\n    </span><span class="s1">opacity: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { Search, searchTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { searchStyles as styles } from './search.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Search field class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-search</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @fires input - Fires a custom 'input' event when the value has changed</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the value has changed</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterSearch extends Search {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The appearance of the element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: appearance</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.appearance = 'outline';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterSearch.prototype, </span><span class="s3">\&quot;</span><span class="s1">appearance</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Search} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#searchTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-search&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* {@link https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/delegatesFocus | delegatesFocus}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpSearch = JupyterSearch.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'search',</span><span class="s3">\n    </span><span class="s1">baseClass: Search,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterSearch as Search, styles as searchStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, slotted, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Listbox } from </span><span class="s3">\&quot;</span><span class="s1">../listbox/listbox.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Select:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const selectTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; [</span><span class="s3">\n    </span><span class="s1">x.collapsible &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">collapsible</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">x.collapsible &amp;&amp; x.open &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">open</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">x.disabled &amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">x.collapsible &amp;&amp; x.position,</span><span class="s3">\n</span><span class="s1">]</span><span class="s3">\n    </span><span class="s1">.filter(Boolean)</span><span class="s3">\n    </span><span class="s1">.join(</span><span class="s3">\&quot; \&quot;</span><span class="s1">)}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-activedescendant=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaActiveDescendant}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaControls}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-expanded=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaExpanded}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-haspopup=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.collapsible ? </span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot; </span><span class="s1">: null)}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-multiselectable=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaMultiSelectable}</span><span class="s3">\&quot;\n        </span><span class="s1">?open=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.open}</span><span class="s3">\&quot;\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">combobox</span><span class="s3">\&quot;\n        </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (!x.disabled ? </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">: null)}</span><span class="s3">\&quot;\n        </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.clickHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusin=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.focusinHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusout=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.focusoutHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.keydownHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@mousedown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.mousedownHandler(c.event)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; x.collapsible, html `</span><span class="s3">\n                </span><span class="s1">&lt;div</span><span class="s3">\n                    </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                    </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                    </span><span class="s1">?disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n                    </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n                </span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n                    </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">button-container</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">selected-value</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">selected-value</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">selected-value</span><span class="s3">\&quot;</span><span class="s1">&gt;${x =&gt; x.displayValue}&lt;/slot&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;div aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">indicator</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                                </span><span class="s1">${definition.indicator || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                    </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n        </span><span class="s1">&lt;div</span><span class="s3">\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;\n            </span><span class="s1">id=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.listboxId}</span><span class="s3">\&quot;\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;\n            </span><span class="s1">?disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n            </span><span class="s1">?hidden=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.collapsible ? !x.open : false)}</span><span class="s3">\&quot;\n            </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">listbox</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot</span><span class="s3">\n                </span><span class="s1">${slotted({</span><span class="s3">\n    </span><span class="s1">filter: Listbox.slottedOptionFilter,</span><span class="s3">\n    </span><span class="s1">flatten: true,</span><span class="s3">\n    </span><span class="s1">property: </span><span class="s3">\&quot;</span><span class="s1">slottedOptions</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">})}</span><span class="s3">\n            </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, css, observable } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { Select, selectTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { fillColor, heightNumberAsToken, neutralLayerFloating } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { selectStyles as styles } from './select.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Select class</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-select</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterSelect extends Select {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The cached scroll width of the listbox when visible.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.listboxScrollWidth = '';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* (Un-)set the width when the autoWidth property changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous autoWidth value</span><span class="s3">\n     </span><span class="s1">* @param next - the current autoWidth value</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">autoWidthChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (next) {</span><span class="s3">\n            </span><span class="s1">this.setAutoWidth();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.style.removeProperty('width');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Compute the listbox width to set the one of the input.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setAutoWidth() {</span><span class="s3">\n        </span><span class="s1">if (!this.autoWidth || !this.isConnected) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let listWidth = this.listbox.getBoundingClientRect().width;</span><span class="s3">\n        </span><span class="s1">// If the list has not been displayed yet trick to get its size</span><span class="s3">\n        </span><span class="s1">if (listWidth === 0 &amp;&amp; this.listbox.hidden) {</span><span class="s3">\n            </span><span class="s1">Object.assign(this.listbox.style, { visibility: 'hidden' });</span><span class="s3">\n            </span><span class="s1">this.listbox.removeAttribute('hidden');</span><span class="s3">\n            </span><span class="s1">listWidth = this.listbox.getBoundingClientRect().width;</span><span class="s3">\n            </span><span class="s1">this.listbox.setAttribute('hidden', '');</span><span class="s3">\n            </span><span class="s1">this.listbox.style.removeProperty('visibility');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (listWidth &gt; 0) {</span><span class="s3">\n            </span><span class="s1">Object.assign(this.style, { width: `${listWidth}px` });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.setAutoWidth();</span><span class="s3">\n        </span><span class="s1">if (this.listbox) {</span><span class="s3">\n            </span><span class="s1">fillColor.setValueFor(this.listbox, neutralLayerFloating);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Synchronize the form-associated proxy and updates the value property of the element.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous collection of slotted option elements</span><span class="s3">\n     </span><span class="s1">* @param next - the next collection of slotted option elements</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">slottedOptionsChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">super.slottedOptionsChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">this.setAutoWidth();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the calculated max height for the listbox.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Used to generate the `--listbox-max-height` CSS custom property.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get listboxMaxHeight() {</span><span class="s3">\n        </span><span class="s1">return Math.floor(this.maxHeight / heightNumberAsToken.getValueFor(this)).toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">listboxScrollWidthChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateComputedStylesheet();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the size value, if any. Otherwise, returns 4 if in</span><span class="s3">\n     </span><span class="s1">* multi-selection mode, or 0 if in single-selection mode.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* Used to generate the `--size` CSS custom property.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get selectSize() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">return `${(_a = this.size) !== null &amp;&amp; _a !== void 0 ? _a : (this.multiple ? 4 : 0)}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the computed stylesheet when the multiple property changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous multiple value</span><span class="s3">\n     </span><span class="s1">* @param next - the current multiple value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">multipleChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">super.multipleChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">this.updateComputedStylesheet();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the selectMaxSize design token when the maxHeight property changes.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous maxHeight value</span><span class="s3">\n     </span><span class="s1">* @param next - the current maxHeight value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">maxHeightChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (this.collapsible) {</span><span class="s3">\n            </span><span class="s1">this.updateComputedStylesheet();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setPositioning() {</span><span class="s3">\n        </span><span class="s1">super.setPositioning();</span><span class="s3">\n        </span><span class="s1">this.updateComputedStylesheet();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the component dimensions when the size property is changed.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param prev - the previous size value</span><span class="s3">\n     </span><span class="s1">* @param next - the current size value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @override</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">sizeChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">super.sizeChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">this.updateComputedStylesheet();</span><span class="s3">\n        </span><span class="s1">if (this.collapsible) {</span><span class="s3">\n            </span><span class="s1">requestAnimationFrame(() =&gt; {</span><span class="s3">\n                </span><span class="s1">this.listbox.style.setProperty('display', 'flex');</span><span class="s3">\n                </span><span class="s1">this.listbox.style.setProperty('overflow', 'visible');</span><span class="s3">\n                </span><span class="s1">this.listbox.style.setProperty('visibility', 'hidden');</span><span class="s3">\n                </span><span class="s1">this.listbox.style.setProperty('width', 'auto');</span><span class="s3">\n                </span><span class="s1">this.listbox.hidden = false;</span><span class="s3">\n                </span><span class="s1">this.listboxScrollWidth = `${this.listbox.scrollWidth}`;</span><span class="s3">\n                </span><span class="s1">this.listbox.hidden = true;</span><span class="s3">\n                </span><span class="s1">this.listbox.style.removeProperty('display');</span><span class="s3">\n                </span><span class="s1">this.listbox.style.removeProperty('overflow');</span><span class="s3">\n                </span><span class="s1">this.listbox.style.removeProperty('visibility');</span><span class="s3">\n                </span><span class="s1">this.listbox.style.removeProperty('width');</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.listboxScrollWidth = '';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates an internal stylesheet with calculated CSS custom properties.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateComputedStylesheet() {</span><span class="s3">\n        </span><span class="s1">if (this.computedStylesheet) {</span><span class="s3">\n            </span><span class="s1">this.$fastController.removeStyles(this.computedStylesheet);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.computedStylesheet = css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">--listbox-max-height: ${this.listboxMaxHeight};</span><span class="s3">\n        </span><span class="s1">--listbox-scroll-width: ${this.listboxScrollWidth};</span><span class="s3">\n        </span><span class="s1">--size: ${this.selectSize};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n        </span><span class="s1">this.$fastController.addStyles(this.computedStylesheet);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: 'autowidth', mode: 'boolean' })</span><span class="s3">\n</span><span class="s1">], JupyterSelect.prototype, </span><span class="s3">\&quot;</span><span class="s1">autoWidth</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: 'minimal', mode: 'boolean' })</span><span class="s3">\n</span><span class="s1">], JupyterSelect.prototype, </span><span class="s3">\&quot;</span><span class="s1">minimal</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterSelect.prototype, </span><span class="s3">\&quot;</span><span class="s1">scale</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], JupyterSelect.prototype, </span><span class="s3">\&quot;</span><span class="s1">listboxScrollWidth</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Select} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#selectTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-select&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpSelect = JupyterSelect.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'select',</span><span class="s3">\n    </span><span class="s1">baseClass: Select,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">indicator: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;svg</span><span class="s3">\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">select-indicator</span><span class="s3">\&quot;\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">select-indicator</span><span class="s3">\&quot;\n            </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 12 7</span><span class="s3">\&quot;\n            </span><span class="s1">xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;path</span><span class="s3">\n                </span><span class="s1">d=</span><span class="s3">\&quot;</span><span class="s1">M11.85.65c.2.2.2.5 0 .7L6.4 6.84a.55.55 0 01-.78 0L.14 1.35a.5.5 0 11.71-.7L6 5.8 11.15.65c.2-.2.5-.2.7 0z</span><span class="s3">\&quot;\n            </span><span class="s1">/&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterSelect as Select, styles as selectStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Skeleton Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Skeleton extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Indicates what the shape of the Skeleton should be.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: shape</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.shape = </span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Skeleton.prototype, </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Skeleton.prototype, </span><span class="s3">\&quot;</span><span class="s1">shape</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Skeleton.prototype, </span><span class="s3">\&quot;</span><span class="s1">pattern</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Skeleton.prototype, </span><span class="s3">\&quot;</span><span class="s1">shimmer</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the fast-skeleton component</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const skeletonTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.shape === </span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">circle</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">rect</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;\n        </span><span class="s1">pattern=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.pattern}</span><span class="s3">\&quot;\n        </span><span class="s1">?shimmer=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.shimmer}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; x.shimmer === true, html `</span><span class="s3">\n                </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">shimmer</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/span&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n        </span><span class="s1">&lt;object type=</span><span class="s3">\&quot;</span><span class="s1">image/svg+xml</span><span class="s3">\&quot; </span><span class="s1">data=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.pattern}</span><span class="s3">\&quot; </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">presentation</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;img class=</span><span class="s3">\&quot;</span><span class="s1">pattern</span><span class="s3">\&quot; </span><span class="s1">src=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.pattern}</span><span class="s3">\&quot; </span><span class="s1">/&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/object&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { display } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { controlCornerRadius, neutralFillRest } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Skeleton</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const skeletonStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('block')} :host {</span><span class="s3">\n      </span><span class="s1">--skeleton-fill-default: #e1dfdd;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">background-color: var(--skeleton-fill, var(--skeleton-fill-default));</span><span class="s3">\n      </span><span class="s1">--skeleton-animation-gradient-default: linear-gradient(</span><span class="s3">\n        </span><span class="s1">270deg,</span><span class="s3">\n        </span><span class="s1">var(--skeleton-fill, var(--skeleton-fill-default)) 0%,</span><span class="s3">\n        </span><span class="s1">#f3f2f1 51.13%,</span><span class="s3">\n        </span><span class="s1">var(--skeleton-fill, var(--skeleton-fill-default)) 100%</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">--skeleton-animation-timing-default: ease-in-out;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([shape='rect']) {</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([shape='circle']) {</span><span class="s3">\n      </span><span class="s1">border-radius: 100%;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">object {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">height: auto;</span><span class="s3">\n      </span><span class="s1">z-index: 2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">object img {</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">height: auto;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${display('block')} span.shimmer {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">background-image: var(</span><span class="s3">\n        </span><span class="s1">--skeleton-animation-gradient,</span><span class="s3">\n        </span><span class="s1">var(--skeleton-animation-gradient-default)</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">background-size: 0px 0px / 90% 100%;</span><span class="s3">\n      </span><span class="s1">background-repeat: no-repeat;</span><span class="s3">\n      </span><span class="s1">background-color: var(--skeleton-animation-fill, ${neutralFillRest});</span><span class="s3">\n      </span><span class="s1">animation: shimmer 2s infinite;</span><span class="s3">\n      </span><span class="s1">animation-timing-function: var(</span><span class="s3">\n        </span><span class="s1">--skeleton-animation-timing,</span><span class="s3">\n        </span><span class="s1">var(--skeleton-timing-default)</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">animation-direction: normal;</span><span class="s3">\n      </span><span class="s1">z-index: 1;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(svg) {</span><span class="s3">\n      </span><span class="s1">z-index: 2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(.pattern) {</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">@keyframes shimmer {</span><span class="s3">\n      </span><span class="s1">0% {</span><span class="s3">\n        </span><span class="s1">transform: translateX(-100%);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">100% {</span><span class="s3">\n        </span><span class="s1">transform: translateX(100%);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background-color: ${SystemColors.ButtonFace};</span><span class="s3">\n        </span><span class="s1">box-shadow: 0 0 0 1px ${SystemColors.ButtonText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">${display('block')} span.shimmer {</span><span class="s3">\n        </span><span class="s1">display: none;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Skeleton, skeletonTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { skeletonStyles as styles } from './skeleton.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Skeleton class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-skeleton</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterSkeleton extends Skeleton {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Skeleton} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#skeletonTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-skeleton&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpSkeleton = JupyterSkeleton.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'skeleton',</span><span class="s3">\n    </span><span class="s1">baseClass: Skeleton,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterSkeleton as Skeleton, styles as skeletonStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { Direction, limit } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Converts a pixel coordinate on the track to a percent of the track's range</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function convertPixelToPercent(pixelPos, minPosition, maxPosition, direction) {</span><span class="s3">\n    </span><span class="s1">let pct = limit(0, 1, (pixelPos - minPosition) / (maxPosition - minPosition));</span><span class="s3">\n    </span><span class="s1">if (direction === Direction.rtl) {</span><span class="s3">\n        </span><span class="s1">pct = 1 - pct;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return pct;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _Slider extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(Slider:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedSlider extends FormAssociated(_Slider) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, nullableNumberConverter, observable, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Direction, keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnd, keyHome, Orientation, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { getDirection } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/direction.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { convertPixelToPercent } from </span><span class="s3">\&quot;</span><span class="s1">./slider-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedSlider } from </span><span class="s3">\&quot;</span><span class="s1">./slider.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The selection modes of a {@link @microsoft/fast-foundation#(Slider:class)}.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const SliderMode = {</span><span class="s3">\n    </span><span class="s1">singleValue: </span><span class="s3">\&quot;</span><span class="s1">single-value</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Slider Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#slider | ARIA slider }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot track - The track of the slider</span><span class="s3">\n </span><span class="s1">* @slot track-start - The track-start visual indicator</span><span class="s3">\n </span><span class="s1">* @slot thumb - The slider thumb</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for labels</span><span class="s3">\n </span><span class="s1">* @csspart positioning-region - The region used to position the elements of the slider</span><span class="s3">\n </span><span class="s1">* @csspart track-container - The region containing the track elements</span><span class="s3">\n </span><span class="s1">* @csspart track-start - The element wrapping the track start slot</span><span class="s3">\n </span><span class="s1">* @csspart thumb-container - The thumb container element which is programatically positioned</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when the slider value changes</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Slider extends FormAssociatedSlider {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.direction = Direction.ltr;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isDragging = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.trackWidth = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.trackMinWidth = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.trackHeight = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.trackLeft = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.trackMinHeight = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Custom function that generates a string for the component's </span><span class="s3">\&quot;</span><span class="s1">aria-valuetext</span><span class="s3">\&quot; </span><span class="s1">attribute based on the current value.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.valueTextFormatter = () =&gt; null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The minimum allowed value.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @defaultValue - 0</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: min</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.min = 0; // Map to proxy element.</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The maximum allowed value.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @defaultValue - 10</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: max</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.max = 10; // Map to proxy element.</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Value to increment or decrement via arrow keys, mouse click or drag.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: step</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.step = 1; // Map to proxy element.</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The orientation of the slider.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: orientation</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.orientation = Orientation.horizontal;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The selection mode.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: mode</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.mode = SliderMode.singleValue;</span><span class="s3">\n        </span><span class="s1">this.keypressHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.readOnly) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (e.key === keyHome) {</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">this.value = `${this.min}`;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (e.key === keyEnd) {</span><span class="s3">\n                </span><span class="s1">e.preventDefault();</span><span class="s3">\n                </span><span class="s1">this.value = `${this.max}`;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (!e.shiftKey) {</span><span class="s3">\n                </span><span class="s1">switch (e.key) {</span><span class="s3">\n                    </span><span class="s1">case keyArrowRight:</span><span class="s3">\n                    </span><span class="s1">case keyArrowUp:</span><span class="s3">\n                        </span><span class="s1">e.preventDefault();</span><span class="s3">\n                        </span><span class="s1">this.increment();</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">case keyArrowLeft:</span><span class="s3">\n                    </span><span class="s1">case keyArrowDown:</span><span class="s3">\n                        </span><span class="s1">e.preventDefault();</span><span class="s3">\n                        </span><span class="s1">this.decrement();</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.setupTrackConstraints = () =&gt; {</span><span class="s3">\n            </span><span class="s1">const clientRect = this.track.getBoundingClientRect();</span><span class="s3">\n            </span><span class="s1">this.trackWidth = this.track.clientWidth;</span><span class="s3">\n            </span><span class="s1">this.trackMinWidth = this.track.clientLeft;</span><span class="s3">\n            </span><span class="s1">this.trackHeight = clientRect.bottom;</span><span class="s3">\n            </span><span class="s1">this.trackMinHeight = clientRect.top;</span><span class="s3">\n            </span><span class="s1">this.trackLeft = this.getBoundingClientRect().left;</span><span class="s3">\n            </span><span class="s1">if (this.trackWidth === 0) {</span><span class="s3">\n                </span><span class="s1">this.trackWidth = 1;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.setupListeners = (remove = false) =&gt; {</span><span class="s3">\n            </span><span class="s1">const eventAction = `${remove ? </span><span class="s3">\&quot;</span><span class="s1">remove</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">add</span><span class="s3">\&quot;</span><span class="s1">}EventListener`;</span><span class="s3">\n            </span><span class="s1">this[eventAction](</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">, this.keypressHandler);</span><span class="s3">\n            </span><span class="s1">this[eventAction](</span><span class="s3">\&quot;</span><span class="s1">mousedown</span><span class="s3">\&quot;</span><span class="s1">, this.handleMouseDown);</span><span class="s3">\n            </span><span class="s1">this.thumb[eventAction](</span><span class="s3">\&quot;</span><span class="s1">mousedown</span><span class="s3">\&quot;</span><span class="s1">, this.handleThumbMouseDown, {</span><span class="s3">\n                </span><span class="s1">passive: true,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">this.thumb[eventAction](</span><span class="s3">\&quot;</span><span class="s1">touchstart</span><span class="s3">\&quot;</span><span class="s1">, this.handleThumbMouseDown, {</span><span class="s3">\n                </span><span class="s1">passive: true,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">// removes handlers attached by mousedown handlers</span><span class="s3">\n            </span><span class="s1">if (remove) {</span><span class="s3">\n                </span><span class="s1">this.handleMouseDown(null);</span><span class="s3">\n                </span><span class="s1">this.handleThumbMouseDown(null);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.initialValue = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Handle mouse moves during a thumb drag operation</span><span class="s3">\n         </span><span class="s1">*  If the event handler is null it removes the events</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleThumbMouseDown = (event) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (event) {</span><span class="s3">\n                </span><span class="s1">if (this.readOnly || this.disabled || event.defaultPrevented) {</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">event.target.focus();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const eventAction = `${event !== null ? </span><span class="s3">\&quot;</span><span class="s1">add</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">remove</span><span class="s3">\&quot;</span><span class="s1">}EventListener`;</span><span class="s3">\n            </span><span class="s1">window[eventAction](</span><span class="s3">\&quot;</span><span class="s1">mouseup</span><span class="s3">\&quot;</span><span class="s1">, this.handleWindowMouseUp);</span><span class="s3">\n            </span><span class="s1">window[eventAction](</span><span class="s3">\&quot;</span><span class="s1">mousemove</span><span class="s3">\&quot;</span><span class="s1">, this.handleMouseMove, { passive: true });</span><span class="s3">\n            </span><span class="s1">window[eventAction](</span><span class="s3">\&quot;</span><span class="s1">touchmove</span><span class="s3">\&quot;</span><span class="s1">, this.handleMouseMove, { passive: true });</span><span class="s3">\n            </span><span class="s1">window[eventAction](</span><span class="s3">\&quot;</span><span class="s1">touchend</span><span class="s3">\&quot;</span><span class="s1">, this.handleWindowMouseUp);</span><span class="s3">\n            </span><span class="s1">this.isDragging = event !== null;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Handle mouse moves during a thumb drag operation</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleMouseMove = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.readOnly || this.disabled || e.defaultPrevented) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// update the value based on current position</span><span class="s3">\n            </span><span class="s1">const sourceEvent = window.TouchEvent &amp;&amp; e instanceof TouchEvent</span><span class="s3">\n                </span><span class="s1">? e.touches[0]</span><span class="s3">\n                </span><span class="s1">: e;</span><span class="s3">\n            </span><span class="s1">const eventValue = this.orientation === Orientation.horizontal</span><span class="s3">\n                </span><span class="s1">? sourceEvent.pageX - document.documentElement.scrollLeft - this.trackLeft</span><span class="s3">\n                </span><span class="s1">: sourceEvent.pageY - document.documentElement.scrollTop;</span><span class="s3">\n            </span><span class="s1">this.value = `${this.calculateNewValue(eventValue)}`;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.calculateNewValue = (rawValue) =&gt; {</span><span class="s3">\n            </span><span class="s1">// update the value based on current position</span><span class="s3">\n            </span><span class="s1">const newPosition = convertPixelToPercent(rawValue, this.orientation === Orientation.horizontal</span><span class="s3">\n                </span><span class="s1">? this.trackMinWidth</span><span class="s3">\n                </span><span class="s1">: this.trackMinHeight, this.orientation === Orientation.horizontal</span><span class="s3">\n                </span><span class="s1">? this.trackWidth</span><span class="s3">\n                </span><span class="s1">: this.trackHeight, this.direction);</span><span class="s3">\n            </span><span class="s1">const newValue = (this.max - this.min) * newPosition + this.min;</span><span class="s3">\n            </span><span class="s1">return this.convertToConstrainedValue(newValue);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Handle a window mouse up during a drag operation</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleWindowMouseUp = (event) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.stopDragging();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.stopDragging = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.isDragging = false;</span><span class="s3">\n            </span><span class="s1">this.handleMouseDown(null);</span><span class="s3">\n            </span><span class="s1">this.handleThumbMouseDown(null);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @param e - MouseEvent or null. If there is no event handler it will remove the events</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleMouseDown = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">const eventAction = `${e !== null ? </span><span class="s3">\&quot;</span><span class="s1">add</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">remove</span><span class="s3">\&quot;</span><span class="s1">}EventListener`;</span><span class="s3">\n            </span><span class="s1">if (e === null || (!this.disabled &amp;&amp; !this.readOnly)) {</span><span class="s3">\n                </span><span class="s1">window[eventAction](</span><span class="s3">\&quot;</span><span class="s1">mouseup</span><span class="s3">\&quot;</span><span class="s1">, this.handleWindowMouseUp);</span><span class="s3">\n                </span><span class="s1">window.document[eventAction](</span><span class="s3">\&quot;</span><span class="s1">mouseleave</span><span class="s3">\&quot;</span><span class="s1">, this.handleWindowMouseUp);</span><span class="s3">\n                </span><span class="s1">window[eventAction](</span><span class="s3">\&quot;</span><span class="s1">mousemove</span><span class="s3">\&quot;</span><span class="s1">, this.handleMouseMove);</span><span class="s3">\n                </span><span class="s1">if (e) {</span><span class="s3">\n                    </span><span class="s1">e.preventDefault();</span><span class="s3">\n                    </span><span class="s1">this.setupTrackConstraints();</span><span class="s3">\n                    </span><span class="s1">e.target.focus();</span><span class="s3">\n                    </span><span class="s1">const controlValue = this.orientation === Orientation.horizontal</span><span class="s3">\n                        </span><span class="s1">? e.pageX - document.documentElement.scrollLeft - this.trackLeft</span><span class="s3">\n                        </span><span class="s1">: e.pageY - document.documentElement.scrollTop;</span><span class="s3">\n                    </span><span class="s1">this.value = `${this.calculateNewValue(controlValue)}`;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.convertToConstrainedValue = (value) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (isNaN(value)) {</span><span class="s3">\n                </span><span class="s1">value = this.min;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">/**</span><span class="s3">\n             </span><span class="s1">* The following logic intends to overcome the issue with math in JavaScript with regards to floating point numbers.</span><span class="s3">\n             </span><span class="s1">* This is needed as the `step` may be an integer but could also be a float. To accomplish this the step  is assumed to be a float</span><span class="s3">\n             </span><span class="s1">* and is converted to an integer by determining the number of decimal places it represent, multiplying it until it is an</span><span class="s3">\n             </span><span class="s1">* integer and then dividing it to get back to the correct number.</span><span class="s3">\n             </span><span class="s1">*/</span><span class="s3">\n            </span><span class="s1">let constrainedValue = value - this.min;</span><span class="s3">\n            </span><span class="s1">const roundedConstrainedValue = Math.round(constrainedValue / this.step);</span><span class="s3">\n            </span><span class="s1">const remainderValue = constrainedValue -</span><span class="s3">\n                </span><span class="s1">(roundedConstrainedValue * (this.stepMultiplier * this.step)) /</span><span class="s3">\n                    </span><span class="s1">this.stepMultiplier;</span><span class="s3">\n            </span><span class="s1">constrainedValue =</span><span class="s3">\n                </span><span class="s1">remainderValue &gt;= Number(this.step) / 2</span><span class="s3">\n                    </span><span class="s1">? constrainedValue - remainderValue + Number(this.step)</span><span class="s3">\n                    </span><span class="s1">: constrainedValue - remainderValue;</span><span class="s3">\n            </span><span class="s1">return constrainedValue + this.min;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">readOnlyChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.readOnly = this.readOnly;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The value property, typed as a number.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get valueAsNumber() {</span><span class="s3">\n        </span><span class="s1">return parseFloat(super.value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set valueAsNumber(next) {</span><span class="s3">\n        </span><span class="s1">this.value = next.toString();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">valueChanged(previous, next) {</span><span class="s3">\n        </span><span class="s1">super.valueChanged(previous, next);</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.setThumbPositionForOrientation(this.direction);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">minChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.min = `${this.min}`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.validate();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">maxChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.max = `${this.max}`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.validate();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">stepChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.step = `${this.step}`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.updateStepMultiplier();</span><span class="s3">\n        </span><span class="s1">this.validate();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">orientationChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.setThumbPositionForOrientation(this.direction);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">range</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.direction = getDirection(this);</span><span class="s3">\n        </span><span class="s1">this.updateStepMultiplier();</span><span class="s3">\n        </span><span class="s1">this.setupTrackConstraints();</span><span class="s3">\n        </span><span class="s1">this.setupListeners();</span><span class="s3">\n        </span><span class="s1">this.setupDefaultValue();</span><span class="s3">\n        </span><span class="s1">this.setThumbPositionForOrientation(this.direction);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">this.setupListeners(true);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Increment the value by the step</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">increment() {</span><span class="s3">\n        </span><span class="s1">const newVal = this.direction !== Direction.rtl &amp;&amp; this.orientation !== Orientation.vertical</span><span class="s3">\n            </span><span class="s1">? Number(this.value) + Number(this.step)</span><span class="s3">\n            </span><span class="s1">: Number(this.value) - Number(this.step);</span><span class="s3">\n        </span><span class="s1">const incrementedVal = this.convertToConstrainedValue(newVal);</span><span class="s3">\n        </span><span class="s1">const incrementedValString = incrementedVal &lt; Number(this.max) ? `${incrementedVal}` : `${this.max}`;</span><span class="s3">\n        </span><span class="s1">this.value = incrementedValString;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Decrement the value by the step</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">decrement() {</span><span class="s3">\n        </span><span class="s1">const newVal = this.direction !== Direction.rtl &amp;&amp; this.orientation !== Orientation.vertical</span><span class="s3">\n            </span><span class="s1">? Number(this.value) - Number(this.step)</span><span class="s3">\n            </span><span class="s1">: Number(this.value) + Number(this.step);</span><span class="s3">\n        </span><span class="s1">const decrementedVal = this.convertToConstrainedValue(newVal);</span><span class="s3">\n        </span><span class="s1">const decrementedValString = decrementedVal &gt; Number(this.min) ? `${decrementedVal}` : `${this.min}`;</span><span class="s3">\n        </span><span class="s1">this.value = decrementedValString;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Places the thumb based on the current value</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">* @param direction - writing mode</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setThumbPositionForOrientation(direction) {</span><span class="s3">\n        </span><span class="s1">const newPct = convertPixelToPercent(Number(this.value), Number(this.min), Number(this.max), direction);</span><span class="s3">\n        </span><span class="s1">const percentage = (1 - newPct) * 100;</span><span class="s3">\n        </span><span class="s1">if (this.orientation === Orientation.horizontal) {</span><span class="s3">\n            </span><span class="s1">this.position = this.isDragging</span><span class="s3">\n                </span><span class="s1">? `right: ${percentage}%; transition: none;`</span><span class="s3">\n                </span><span class="s1">: `right: ${percentage}%; transition: all 0.2s ease;`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.position = this.isDragging</span><span class="s3">\n                </span><span class="s1">? `bottom: ${percentage}%; transition: none;`</span><span class="s3">\n                </span><span class="s1">: `bottom: ${percentage}%; transition: all 0.2s ease;`;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Update the step multiplier used to ensure rounding errors from steps that</span><span class="s3">\n     </span><span class="s1">* are not whole numbers</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateStepMultiplier() {</span><span class="s3">\n        </span><span class="s1">const stepString = this.step + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">const decimalPlacesOfStep = !!(this.step % 1)</span><span class="s3">\n            </span><span class="s1">? stepString.length - stepString.indexOf(</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">) - 1</span><span class="s3">\n            </span><span class="s1">: 0;</span><span class="s3">\n        </span><span class="s1">this.stepMultiplier = Math.pow(10, decimalPlacesOfStep);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">get midpoint() {</span><span class="s3">\n        </span><span class="s1">return `${this.convertToConstrainedValue((this.max + this.min) / 2)}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setupDefaultValue() {</span><span class="s3">\n        </span><span class="s1">if (typeof this.value === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">if (this.value.length === 0) {</span><span class="s3">\n                </span><span class="s1">this.initialValue = this.midpoint;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">const value = parseFloat(this.value);</span><span class="s3">\n                </span><span class="s1">if (!Number.isNaN(value) &amp;&amp; (value &lt; this.min || value &gt; this.max)) {</span><span class="s3">\n                    </span><span class="s1">this.value = this.midpoint;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">readOnly</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">direction</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">isDragging</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">position</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">trackWidth</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">trackMinWidth</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">trackHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">trackLeft</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">trackMinHeight</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">valueTextFormatter</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">min</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">max</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">step</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">orientation</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Slider.prototype, </span><span class="s3">\&quot;</span><span class="s1">mode</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Orientation } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Slider:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const sliderTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">slider</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.readOnly ? </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\n        </span><span class="s1">${x =&gt; x.orientation || Orientation.horizontal}</span><span class="s3">\&quot;\n        </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.disabled ? null : 0)}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-valuetext=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.valueTextFormatter(x.value)}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-valuenow=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.value}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-valuemin=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.min}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-valuemax=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.max}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.disabled ? true : void 0)}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-readonly=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.readOnly ? true : void 0)}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-orientation=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.orientation}</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.orientation}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div part=</span><span class="s3">\&quot;</span><span class="s1">positioning-region</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">positioning-region</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;div ${ref(</span><span class="s3">\&quot;</span><span class="s1">track</span><span class="s3">\&quot;</span><span class="s1">)} part=</span><span class="s3">\&quot;</span><span class="s1">track-container</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">track</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">track</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;div part=</span><span class="s3">\&quot;</span><span class="s1">track-start</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">track-start</span><span class="s3">\&quot; </span><span class="s1">style=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.position}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">track-start</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">&lt;div</span><span class="s3">\n                </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">thumb</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n                </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">thumb-container</span><span class="s3">\&quot;\n                </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">thumb-container</span><span class="s3">\&quot;\n                </span><span class="s1">style=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.position}</span><span class="s3">\&quot;\n            </span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">thumb</span><span class="s3">\&quot;</span><span class="s1">&gt;${definition.thumb || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillFocus, accentForegroundRest, controlCornerRadius, designUnit, disabledOpacity, errorFillFocus, errorFillRest, fillColor, focusStrokeWidth, neutralForegroundRest, neutralStrokeHover, neutralStrokeRest } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { DirectionalStyleSheetBehavior, heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">const ltr = css `</span><span class="s3">\n  </span><span class="s1">.track-start {</span><span class="s3">\n    </span><span class="s1">left: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">const rtl = css `</span><span class="s3">\n  </span><span class="s1">.track-start {</span><span class="s3">\n    </span><span class="s1">right: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Slider</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const sliderStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">:host([hidden]) {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${display('inline-grid')} :host {</span><span class="s3">\n      </span><span class="s1">--thumb-size: calc(${heightNumber} * 0.5 - ${designUnit});</span><span class="s3">\n      </span><span class="s1">--thumb-translate: calc(</span><span class="s3">\n        </span><span class="s1">var(--thumb-size) * -0.5 + var(--track-width) / 2</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">--track-overhang: calc((${designUnit} / 2) * -1);</span><span class="s3">\n      </span><span class="s1">--track-width: ${designUnit};</span><span class="s3">\n      </span><span class="s1">--jp-slider-height: calc(var(--thumb-size) * 10);</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">margin: calc(${designUnit} * 1px) 0;</span><span class="s3">\n      </span><span class="s1">user-select: none;</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([orientation='horizontal']) .positioning-region {</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">margin: 0 8px;</span><span class="s3">\n      </span><span class="s1">display: grid;</span><span class="s3">\n      </span><span class="s1">grid-template-rows: calc(var(--thumb-size) * 1px) 1fr;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([orientation='vertical']) .positioning-region {</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">margin: 0 8px;</span><span class="s3">\n      </span><span class="s1">display: grid;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">grid-template-columns: calc(var(--thumb-size) * 1px) 1fr;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:${focusVisible}) .thumb-cursor {</span><span class="s3">\n      </span><span class="s1">box-shadow:</span><span class="s3">\n        </span><span class="s1">0 0 0 2px ${fillColor},</span><span class="s3">\n        </span><span class="s1">0 0 0 calc((2 + ${focusStrokeWidth}) * 1px) ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']:${focusVisible}) .thumb-cursor {</span><span class="s3">\n      </span><span class="s1">box-shadow:</span><span class="s3">\n        </span><span class="s1">0 0 0 2px ${fillColor},</span><span class="s3">\n        </span><span class="s1">0 0 0 calc((2 + ${focusStrokeWidth}) * 1px) ${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.thumb-container {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">height: calc(var(--thumb-size) * 1px);</span><span class="s3">\n      </span><span class="s1">width: calc(var(--thumb-size) * 1px);</span><span class="s3">\n      </span><span class="s1">transition: all 0.2s ease;</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">.thumb-cursor {</span><span class="s3">\n      </span><span class="s1">border: none;</span><span class="s3">\n      </span><span class="s1">width: calc(var(--thumb-size) * 1px);</span><span class="s3">\n      </span><span class="s1">height: calc(var(--thumb-size) * 1px);</span><span class="s3">\n      </span><span class="s1">background: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">.thumb-cursor:hover {</span><span class="s3">\n      </span><span class="s1">background: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralStrokeHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">.thumb-cursor:active {</span><span class="s3">\n      </span><span class="s1">background: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">.track-start {</span><span class="s3">\n      </span><span class="s1">background: ${accentForegroundRest};</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">left: 0;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([aria-invalid='true']) .track-start {</span><span class="s3">\n      </span><span class="s1">background-color: ${errorFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([orientation='horizontal']) .thumb-container {</span><span class="s3">\n      </span><span class="s1">transform: translateX(calc(var(--thumb-size) * 0.5px))</span><span class="s3">\n        </span><span class="s1">translateY(calc(var(--thumb-translate) * 1px));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([orientation='vertical']) .thumb-container {</span><span class="s3">\n      </span><span class="s1">transform: translateX(calc(var(--thumb-translate) * 1px))</span><span class="s3">\n        </span><span class="s1">translateY(calc(var(--thumb-size) * 0.5px));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([orientation='horizontal']) {</span><span class="s3">\n      </span><span class="s1">min-width: calc(var(--thumb-size) * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([orientation='horizontal']) .track {</span><span class="s3">\n      </span><span class="s1">right: calc(var(--track-overhang) * 1px);</span><span class="s3">\n      </span><span class="s1">left: calc(var(--track-overhang) * 1px);</span><span class="s3">\n      </span><span class="s1">align-self: start;</span><span class="s3">\n      </span><span class="s1">height: calc(var(--track-width) * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([orientation='vertical']) .track {</span><span class="s3">\n      </span><span class="s1">top: calc(var(--track-overhang) * 1px);</span><span class="s3">\n      </span><span class="s1">bottom: calc(var(--track-overhang) * 1px);</span><span class="s3">\n      </span><span class="s1">width: calc(var(--track-width) * 1px);</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">.track {</span><span class="s3">\n      </span><span class="s1">background: ${neutralStrokeRest};</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([orientation='vertical']) {</span><span class="s3">\n      </span><span class="s1">height: calc(var(--fast-slider-height) * 1px);</span><span class="s3">\n      </span><span class="s1">min-height: calc(var(--thumb-size) * 1px);</span><span class="s3">\n      </span><span class="s1">min-width: calc(${designUnit} * 20px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([orientation='vertical']) .track-start {</span><span class="s3">\n      </span><span class="s1">height: auto;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">top: 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([disabled]),</span><span class="s3">\n    </span><span class="s1">:host([readonly]) {</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([disabled]) {</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(new DirectionalStyleSheetBehavior(ltr, rtl), forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">.thumb-cursor {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.FieldText};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">.thumb-cursor:hover,</span><span class="s3">\n      </span><span class="s1">.thumb-cursor:active {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">.track {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(:${focusVisible}) .thumb-cursor {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .track,</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .thumb-cursor {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(:${focusVisible}) .thumb-cursor {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">box-shadow:</span><span class="s3">\n          </span><span class="s1">0 0 0 2px ${SystemColors.Field},</span><span class="s3">\n          </span><span class="s1">0 0 0 4px ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Slider, sliderTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { sliderStyles as styles } from './slider.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Slider class</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-slider</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterSlider extends Slider {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Slider} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#sliderTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-slider&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpSlider = JupyterSlider.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'slider',</span><span class="s3">\n    </span><span class="s1">baseClass: Slider,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">thumb: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">thumb-cursor</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterSlider as Slider, styles as sliderStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, Observable, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Direction, Orientation } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { convertPixelToPercent } from </span><span class="s3">\&quot;</span><span class="s1">../slider/slider-utilities.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const defaultConfig = {</span><span class="s3">\n    </span><span class="s1">min: 0,</span><span class="s3">\n    </span><span class="s1">max: 0,</span><span class="s3">\n    </span><span class="s1">direction: Direction.ltr,</span><span class="s3">\n    </span><span class="s1">orientation: Orientation.horizontal,</span><span class="s3">\n    </span><span class="s1">disabled: false,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A label element intended to be used with the {@link @microsoft/fast-foundation#(Slider:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the label content</span><span class="s3">\n </span><span class="s1">* @csspart root - The element wrapping the label mark and text</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class SliderLabel extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Hides the tick mark.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: hide-mark</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.hideMark = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.sliderDirection = Direction.ltr;</span><span class="s3">\n        </span><span class="s1">this.getSliderConfiguration = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.isSliderConfig(this.parentNode)) {</span><span class="s3">\n                </span><span class="s1">this.sliderDirection = defaultConfig.direction || Direction.ltr;</span><span class="s3">\n                </span><span class="s1">this.sliderOrientation = defaultConfig.orientation || Orientation.horizontal;</span><span class="s3">\n                </span><span class="s1">this.sliderMaxPosition = defaultConfig.max;</span><span class="s3">\n                </span><span class="s1">this.sliderMinPosition = defaultConfig.min;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">const parentSlider = this</span><span class="s3">\n                    </span><span class="s1">.parentNode;</span><span class="s3">\n                </span><span class="s1">const { min, max, direction, orientation, disabled } = parentSlider;</span><span class="s3">\n                </span><span class="s1">if (disabled !== undefined) {</span><span class="s3">\n                    </span><span class="s1">this.disabled = disabled;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.sliderDirection = direction || Direction.ltr;</span><span class="s3">\n                </span><span class="s1">this.sliderOrientation = orientation || Orientation.horizontal;</span><span class="s3">\n                </span><span class="s1">this.sliderMaxPosition = max;</span><span class="s3">\n                </span><span class="s1">this.sliderMinPosition = min;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.positionAsStyle = () =&gt; {</span><span class="s3">\n            </span><span class="s1">const direction = this.sliderDirection</span><span class="s3">\n                </span><span class="s1">? this.sliderDirection</span><span class="s3">\n                </span><span class="s1">: Direction.ltr;</span><span class="s3">\n            </span><span class="s1">const pct = convertPixelToPercent(Number(this.position), Number(this.sliderMinPosition), Number(this.sliderMaxPosition));</span><span class="s3">\n            </span><span class="s1">let rightNum = Math.round((1 - pct) * 100);</span><span class="s3">\n            </span><span class="s1">let leftNum = Math.round(pct * 100);</span><span class="s3">\n            </span><span class="s1">if (Number.isNaN(leftNum) &amp;&amp; Number.isNaN(rightNum)) {</span><span class="s3">\n                </span><span class="s1">rightNum = 50;</span><span class="s3">\n                </span><span class="s1">leftNum = 50;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.sliderOrientation === Orientation.horizontal) {</span><span class="s3">\n                </span><span class="s1">return direction === Direction.rtl</span><span class="s3">\n                    </span><span class="s1">? `right: ${leftNum}%; left: ${rightNum}%;`</span><span class="s3">\n                    </span><span class="s1">: `left: ${leftNum}%; right: ${rightNum}%;`;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">return `top: ${leftNum}%; bottom: ${rightNum}%;`;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">positionChanged() {</span><span class="s3">\n        </span><span class="s1">this.positionStyle = this.positionAsStyle();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">sliderOrientationChanged() {</span><span class="s3">\n        </span><span class="s1">void 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.getSliderConfiguration();</span><span class="s3">\n        </span><span class="s1">this.positionStyle = this.positionAsStyle();</span><span class="s3">\n        </span><span class="s1">this.notifier = Observable.getNotifier(this.parentNode);</span><span class="s3">\n        </span><span class="s1">this.notifier.subscribe(this, </span><span class="s3">\&quot;</span><span class="s1">orientation</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.notifier.subscribe(this, </span><span class="s3">\&quot;</span><span class="s1">direction</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.notifier.subscribe(this, </span><span class="s3">\&quot;</span><span class="s1">max</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.notifier.subscribe(this, </span><span class="s3">\&quot;</span><span class="s1">min</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">this.notifier.unsubscribe(this, </span><span class="s3">\&quot;</span><span class="s1">orientation</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.notifier.unsubscribe(this, </span><span class="s3">\&quot;</span><span class="s1">direction</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.notifier.unsubscribe(this, </span><span class="s3">\&quot;</span><span class="s1">max</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.notifier.unsubscribe(this, </span><span class="s3">\&quot;</span><span class="s1">min</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange(source, propertyName) {</span><span class="s3">\n        </span><span class="s1">switch (propertyName) {</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">direction</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                </span><span class="s1">this.sliderDirection = source.direction;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">orientation</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                </span><span class="s1">this.sliderOrientation = source.orientation;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">max</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                </span><span class="s1">this.sliderMaxPosition = source.max;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">min</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n                </span><span class="s1">this.sliderMinPosition = source.min;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.positionStyle = this.positionAsStyle();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">isSliderConfig(node) {</span><span class="s3">\n        </span><span class="s1">return node.max !== undefined &amp;&amp; node.min !== undefined;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], SliderLabel.prototype, </span><span class="s3">\&quot;</span><span class="s1">positionStyle</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], SliderLabel.prototype, </span><span class="s3">\&quot;</span><span class="s1">position</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">hide-mark</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], SliderLabel.prototype, </span><span class="s3">\&quot;</span><span class="s1">hideMark</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], SliderLabel.prototype, </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], SliderLabel.prototype, </span><span class="s3">\&quot;</span><span class="s1">sliderOrientation</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], SliderLabel.prototype, </span><span class="s3">\&quot;</span><span class="s1">sliderMinPosition</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], SliderLabel.prototype, </span><span class="s3">\&quot;</span><span class="s1">sliderMaxPosition</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], SliderLabel.prototype, </span><span class="s3">\&quot;</span><span class="s1">sliderDirection</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Orientation } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(SliderLabel:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const sliderLabelTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.sliderOrientation || Orientation.horizontal}</span><span class="s3">\n            </span><span class="s1">${x =&gt; (x.disabled ? </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div ${ref(</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">)} part=</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot; </span><span class="s1">style=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.positionStyle}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">container</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">${when(x =&gt; !x.hideMark, html `</span><span class="s3">\n                        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">mark</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/div&gt;</span><span class="s3">\n                    </span><span class="s1">`)}</span><span class="s3">\n                </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { bodyFont, designUnit, disabledOpacity, neutralForegroundRest, neutralStrokeRest } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Horizontal Slider label</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const horizontalSliderLabelStyles = css `</span><span class="s3">\n  </span><span class="s1">:host {</span><span class="s3">\n    </span><span class="s1">align-self: start;</span><span class="s3">\n    </span><span class="s1">grid-row: 2;</span><span class="s3">\n    </span><span class="s1">margin-top: -2px;</span><span class="s3">\n    </span><span class="s1">height: calc((${heightNumber} / 2 + ${designUnit}) * 1px);</span><span class="s3">\n    </span><span class="s1">width: auto;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">.container {</span><span class="s3">\n    </span><span class="s1">grid-template-rows: auto auto;</span><span class="s3">\n    </span><span class="s1">grid-template-columns: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">.label {</span><span class="s3">\n    </span><span class="s1">margin: 2px 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Vertical slider label</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const verticalSliderLabelStyles = css `</span><span class="s3">\n  </span><span class="s1">:host {</span><span class="s3">\n    </span><span class="s1">justify-self: start;</span><span class="s3">\n    </span><span class="s1">grid-column: 2;</span><span class="s3">\n    </span><span class="s1">margin-left: 2px;</span><span class="s3">\n    </span><span class="s1">height: auto;</span><span class="s3">\n    </span><span class="s1">width: calc((${heightNumber} / 2 + ${designUnit}) * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">.container {</span><span class="s3">\n    </span><span class="s1">grid-template-columns: auto auto;</span><span class="s3">\n    </span><span class="s1">grid-template-rows: 0;</span><span class="s3">\n    </span><span class="s1">min-width: calc(var(--thumb-size) * 1px);</span><span class="s3">\n    </span><span class="s1">height: calc(var(--thumb-size) * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">.mark {</span><span class="s3">\n    </span><span class="s1">transform: rotate(90deg);</span><span class="s3">\n    </span><span class="s1">align-self: center;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">.label {</span><span class="s3">\n    </span><span class="s1">margin-left: calc((${designUnit} / 2) * 3px);</span><span class="s3">\n    </span><span class="s1">align-self: center;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Slider Label</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const sliderLabelStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('block')} :host {</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">.root {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">display: grid;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">.container {</span><span class="s3">\n      </span><span class="s1">display: grid;</span><span class="s3">\n      </span><span class="s1">justify-self: center;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">.label {</span><span class="s3">\n      </span><span class="s1">justify-self: center;</span><span class="s3">\n      </span><span class="s1">align-self: center;</span><span class="s3">\n      </span><span class="s1">white-space: nowrap;</span><span class="s3">\n      </span><span class="s1">max-width: 30px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">.mark {</span><span class="s3">\n      </span><span class="s1">width: calc((${designUnit} / 4) * 1px);</span><span class="s3">\n      </span><span class="s1">height: calc(${heightNumber} * 0.25 * 1px);</span><span class="s3">\n      </span><span class="s1">background: ${neutralStrokeRest};</span><span class="s3">\n      </span><span class="s1">justify-self: center;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host(.disabled) {</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">.mark {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(.disabled) {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(.disabled) .label {</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(.disabled) .mark {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { SliderLabel, sliderLabelTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { Orientation } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { horizontalSliderLabelStyles, sliderLabelStyles as styles, verticalSliderLabelStyles } from './slider-label.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Slider label class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-slider-label</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterSliderLabel extends SliderLabel {</span><span class="s3">\n    </span><span class="s1">sliderOrientationChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.sliderOrientation === Orientation.horizontal) {</span><span class="s3">\n            </span><span class="s1">this.$fastController.addStyles(horizontalSliderLabelStyles);</span><span class="s3">\n            </span><span class="s1">this.$fastController.removeStyles(verticalSliderLabelStyles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.$fastController.addStyles(verticalSliderLabelStyles);</span><span class="s3">\n            </span><span class="s1">this.$fastController.removeStyles(horizontalSliderLabelStyles);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#SliderLabel} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#sliderLabelTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-slider-label&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpSliderLabel = JupyterSliderLabel.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'slider-label',</span><span class="s3">\n    </span><span class="s1">baseClass: SliderLabel,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterSliderLabel as SliderLabel, horizontalSliderLabelStyles, styles as sliderLabelStyles, verticalSliderLabelStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { CheckableFormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _Switch extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(Switch:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedSwitch extends CheckableFormAssociated(_Switch) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keyEnter, keySpace } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedSwitch } from </span><span class="s3">\&quot;</span><span class="s1">./switch.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Switch Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#switch | ARIA switch }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The deafult slot for the label</span><span class="s3">\n </span><span class="s1">* @slot checked-message - The message when in a checked state</span><span class="s3">\n </span><span class="s1">* @slot unchecked-message - The message when in an unchecked state</span><span class="s3">\n </span><span class="s1">* @csspart label - The label</span><span class="s3">\n </span><span class="s1">* @csspart switch - The element representing the switch, which wraps the indicator</span><span class="s3">\n </span><span class="s1">* @csspart status-message - The wrapper for the status messages</span><span class="s3">\n </span><span class="s1">* @csspart checked-message - The checked message</span><span class="s3">\n </span><span class="s1">* @csspart unchecked-message - The unchecked message</span><span class="s3">\n </span><span class="s1">* @fires change - Emits a custom change event when the checked state changes</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Switch extends FormAssociatedSwitch {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The element's value to be included in form submission when checked.</span><span class="s3">\n         </span><span class="s1">* Default to </span><span class="s3">\&quot;</span><span class="s1">on</span><span class="s3">\&quot; </span><span class="s1">to reach parity with input[type=</span><span class="s3">\&quot;</span><span class="s1">checkbox</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.initialValue = </span><span class="s3">\&quot;</span><span class="s1">on</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.keypressHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.readOnly) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">switch (e.key) {</span><span class="s3">\n                </span><span class="s1">case keyEnter:</span><span class="s3">\n                </span><span class="s1">case keySpace:</span><span class="s3">\n                    </span><span class="s1">this.checked = !this.checked;</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.clickHandler = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.disabled &amp;&amp; !this.readOnly) {</span><span class="s3">\n                </span><span class="s1">this.checked = !this.checked;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">type</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">checkbox</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">readOnlyChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.readOnly = this.readOnly;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.readOnly</span><span class="s3">\n            </span><span class="s1">? this.classList.add(</span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">: this.classList.remove(</span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">checkedChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">super.checkedChanged(prev, next);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @deprecated - this behavior already exists in the template and should not exist in the class.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.checked ? this.classList.add(</span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot;</span><span class="s1">) : this.classList.remove(</span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Switch.prototype, </span><span class="s3">\&quot;</span><span class="s1">readOnly</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Switch.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Switch:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const switchTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">switch</span><span class="s3">\&quot;\n        </span><span class="s1">aria-checked=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.checked}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-readonly=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.readOnly}</span><span class="s3">\&quot;\n        </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.disabled ? null : 0)}</span><span class="s3">\&quot;\n        </span><span class="s1">@keypress=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.keypressHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.clickHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.checked ? </span><span class="s3">\&quot;</span><span class="s1">checked</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;label</span><span class="s3">\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.defaultSlottedNodes &amp;&amp; x.defaultSlottedNodes.length</span><span class="s3">\n    </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n    </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">label label__hidden</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot ${slotted(</span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/label&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div part=</span><span class="s3">\&quot;</span><span class="s1">switch</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">switch</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">switch</span><span class="s3">\&quot;</span><span class="s1">&gt;${definition.switch || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n        </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">status-message</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">status-message</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">checked-message</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">checked-message</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">checked-message</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n            </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">unchecked-message</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">unchecked-message</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">unchecked-message</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/span&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillActive, accentFillFocus, accentFillHover, accentFillRest, bodyFont, controlCornerRadius, designUnit, disabledOpacity, errorFillActive, errorFillFocus, errorFillHover, errorFillRest, focusStrokeWidth, foregroundOnAccentActive, foregroundOnAccentHover, foregroundOnAccentRest, neutralFillInputActive, neutralFillInputHover, neutralFillInputRest, neutralForegroundRest, neutralStrokeActive, neutralStrokeHover, neutralStrokeRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { DirectionalStyleSheetBehavior, heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Switch</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const switchStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">:host([hidden]) {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${display('inline-flex')} :host {</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">margin: calc(${designUnit} * 1px) 0;</span><span class="s3">\n      </span><span class="s1">${</span><span class="s3">\n</span><span class="s1">/*</span><span class="s3">\n </span><span class="s1">* Chromium likes to select label text or the default slot when</span><span class="s3">\n </span><span class="s1">* the checkbox is clicked. Maybe there is a better solution here?</span><span class="s3">\n </span><span class="s1">*/ ''} user-select: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) {</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) .label,</span><span class="s3">\n    </span><span class="s1">:host([readonly]) .label,</span><span class="s3">\n    </span><span class="s1">:host([readonly]) .switch,</span><span class="s3">\n    </span><span class="s1">:host([disabled]) .switch {</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.switch {</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">width: calc(${heightNumber} * 1px);</span><span class="s3">\n      </span><span class="s1">height: calc((${heightNumber} / 2 + ${designUnit}) * 1px);</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputRest};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${neutralStrokeRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']) .switch {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.switch:hover {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputHover};</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralStrokeHover};</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) .switch:hover,</span><span class="s3">\n    </span><span class="s1">:host([readonly]) .switch:hover {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputHover};</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralStrokeHover};</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][disabled]) .switch:hover,</span><span class="s3">\n    </span><span class="s1">:host([aria-invalid='true'][readonly]) .switch:hover {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled])) .switch:active {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputActive};</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralStrokeActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']:not([disabled])) .switch:active {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:${focusVisible}) .switch {</span><span class="s3">\n      </span><span class="s1">outline-offset: 2px;</span><span class="s3">\n      </span><span class="s1">outline: solid calc(${focusStrokeWidth} * 1px) ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']:${focusVisible}) .switch {</span><span class="s3">\n      </span><span class="s1">outline-color: ${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.checked-indicator {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">top: 5px;</span><span class="s3">\n      </span><span class="s1">bottom: 5px;</span><span class="s3">\n      </span><span class="s1">background: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">transition: all 0.2s ease-in-out;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.status-message {</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) .status-message,</span><span class="s3">\n    </span><span class="s1">:host([readonly]) .status-message {</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.label {</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">margin-inline-end: calc(${designUnit} * 2px + 2px);</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.label__hidden {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n      </span><span class="s1">visibility: hidden;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted([slot='checked-message']),</span><span class="s3">\n    </span><span class="s1">::slotted([slot='unchecked-message']) {</span><span class="s3">\n      </span><span class="s1">margin-inline-start: calc(${designUnit} * 2px + 2px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) .checked-indicator {</span><span class="s3">\n      </span><span class="s1">background: ${foregroundOnAccentRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) .switch {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n      </span><span class="s1">border-color: ${accentFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled])) .switch:hover {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillHover};</span><span class="s3">\n      </span><span class="s1">border-color: ${accentFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked='true']) .switch {</span><span class="s3">\n      </span><span class="s1">background-color: ${errorFillRest};</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.switch:hover {</span><span class="s3">\n      </span><span class="s1">background-color: ${errorFillHover};</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.switch:hover</span><span class="s3">\n      </span><span class="s1">.checked-indicator {</span><span class="s3">\n      </span><span class="s1">background: ${foregroundOnAccentHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled])) .switch:active {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillActive};</span><span class="s3">\n      </span><span class="s1">border-color: ${accentFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.switch:active {</span><span class="s3">\n      </span><span class="s1">background-color: ${errorFillActive};</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n      </span><span class="s1">.switch:active</span><span class="s3">\n      </span><span class="s1">.checked-indicator {</span><span class="s3">\n      </span><span class="s1">background: ${foregroundOnAccentActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}:not([disabled])) .switch {</span><span class="s3">\n      </span><span class="s1">outline: solid calc(${focusStrokeWidth} * 1px) ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true'][aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}:not([disabled])) .switch {</span><span class="s3">\n      </span><span class="s1">outline-color: ${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.unchecked-message {</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.checked-message {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) .unchecked-message {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-checked='true']) .checked-message {</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">.checked-indicator,</span><span class="s3">\n      </span><span class="s1">:host(:not([disabled])) .switch:active .checked-indicator {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">.switch {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-invalid='true']) .switch {</span><span class="s3">\n        </span><span class="s1">border-style: dashed;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(:not([disabled])) .switch:hover {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']) .switch {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']:not([disabled])) .switch:hover,</span><span class="s3">\n      </span><span class="s1">:host(:not([disabled])) .switch:active {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']) .checked-indicator {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked='true']:not([disabled]))</span><span class="s3">\n        </span><span class="s1">.switch:hover</span><span class="s3">\n        </span><span class="s1">.checked-indicator {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(:${focusVisible}) .switch {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">outline-offset: 2px;</span><span class="s3">\n        </span><span class="s1">outline: solid calc(${focusStrokeWidth} * 1px) ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-checked=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">]:${focusVisible}:not([disabled])) .switch {</span><span class="s3">\n        </span><span class="s1">outline: solid calc(${focusStrokeWidth} * 1px) ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .checked-indicator {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .switch {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`), new DirectionalStyleSheetBehavior(css `</span><span class="s3">\n        </span><span class="s1">.checked-indicator {</span><span class="s3">\n          </span><span class="s1">left: 5px;</span><span class="s3">\n          </span><span class="s1">right: calc(((${heightNumber} / 2) + 1) * 1px);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">:host([aria-checked='true']) .checked-indicator {</span><span class="s3">\n          </span><span class="s1">left: calc(((${heightNumber} / 2) + 1) * 1px);</span><span class="s3">\n          </span><span class="s1">right: 5px;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">`, css `</span><span class="s3">\n        </span><span class="s1">.checked-indicator {</span><span class="s3">\n          </span><span class="s1">right: 5px;</span><span class="s3">\n          </span><span class="s1">left: calc(((${heightNumber} / 2) + 1) * 1px);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">:host([aria-checked='true']) .checked-indicator {</span><span class="s3">\n          </span><span class="s1">right: calc(((${heightNumber} / 2) + 1) * 1px);</span><span class="s3">\n          </span><span class="s1">left: 5px;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Switch, switchTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { switchStyles as styles } from './switch.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Switch class</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-switch</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterSwitch extends Switch {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Switch} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#switchTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-switch&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpSwitch = JupyterSwitch.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'switch',</span><span class="s3">\n    </span><span class="s1">baseClass: Switch,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">switch: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;span class=</span><span class="s3">\&quot;</span><span class="s1">checked-indicator</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">checked-indicator</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/span&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterSwitch as Switch, styles as switchStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A TabPanel Component to be used with {@link @microsoft/fast-foundation#(Tabs:class)}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the tabpanel content</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class TabPanel extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#TabPanel} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const tabPanelTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template slot=</span><span class="s3">\&quot;</span><span class="s1">tabpanel</span><span class="s3">\&quot; </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">tabpanel</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { density, designUnit, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Tab Panel</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const tabPanelStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${display('block')} :host {</span><span class="s3">\n    </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n    </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n    </span><span class="s1">padding: 0 calc((6 + (${designUnit} * 2 * ${density})) * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { TabPanel, tabPanelTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { tabPanelStyles as styles } from './tab-panel.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Tab panel class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-tab-panel</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterTabPanel extends TabPanel {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#TabPanel} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#tabPanelTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-tab-panel&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpTabPanel = JupyterTabPanel.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'tab-panel',</span><span class="s3">\n    </span><span class="s1">baseClass: TabPanel,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterTabPanel as TabPanel, styles as tabPanelStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Tab Component to be used with {@link @microsoft/fast-foundation#(Tabs:class)}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the tab content</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Tab extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Tab.prototype, </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#Tab} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const tabTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template slot=</span><span class="s3">\&quot;</span><span class="s1">tab</span><span class="s3">\&quot; </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">tab</span><span class="s3">\&quot; </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillFocus, bodyFont, controlCornerRadius, designUnit, disabledOpacity, focusStrokeWidth, neutralFillActive, neutralFillHover, neutralFillRest, neutralFillStealthRest, neutralForegroundHint, neutralForegroundRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/size.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Tab</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const tabStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('inline-flex')} :host {</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n      </span><span class="s1">padding: calc(${designUnit} * 5px) calc(${designUnit} * 4px);</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundHint};</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">border-radius: 0 0 calc(${controlCornerRadius} * 1px)</span><span class="s3">\n        </span><span class="s1">calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid transparent;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">justify-content: center;</span><span class="s3">\n      </span><span class="s1">grid-row: 2;</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:hover) {</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:active) {</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) {</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]:hover) {</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundHint};</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-selected='true']) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillRest};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-selected='true']:hover) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillHover};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-selected='true']:active) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillActive};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:${focusVisible}) {</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">border-color: ${accentFillFocus};</span><span class="s3">\n      </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n        </span><span class="s1">${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:focus) {</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.vertical) {</span><span class="s3">\n      </span><span class="s1">justify-content: end;</span><span class="s3">\n      </span><span class="s1">grid-column: 2;</span><span class="s3">\n      </span><span class="s1">border-bottom-left-radius: 0;</span><span class="s3">\n      </span><span class="s1">border-top-right-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.vertical[aria-selected='true']) {</span><span class="s3">\n      </span><span class="s1">z-index: 2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.vertical:hover) {</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.vertical:active) {</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.vertical:hover[aria-selected='true']) {</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">border-color: transparent;</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(:hover),</span><span class="s3">\n      </span><span class="s1">:host(.vertical:hover),</span><span class="s3">\n      </span><span class="s1">:host([aria-selected='true']:hover) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([aria-selected='true']) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.HighlightText};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(:${focusVisible}) {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">box-shadow: none;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]),</span><span class="s3">\n      </span><span class="s1">:host([disabled]:hover) {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.ButtonFace};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Tab, tabTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { tabStyles as styles } from './tab.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Tab class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-tab</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterTab extends Tab {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Tab} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#tabTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-tab&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpTab = JupyterTab.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'tab',</span><span class="s3">\n    </span><span class="s1">baseClass: Tab,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterTab as Tab, styles as tabStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnd, keyHome, limit, uniqueId, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { StartEnd } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement, } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The orientation of the {@link @microsoft/fast-foundation#(Tabs:class)} component</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const TabsOrientation = {</span><span class="s3">\n    </span><span class="s1">vertical: </span><span class="s3">\&quot;</span><span class="s1">vertical</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">horizontal: </span><span class="s3">\&quot;</span><span class="s1">horizontal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Tabs Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#tablist | ARIA tablist }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the tablist element</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the tablist element</span><span class="s3">\n </span><span class="s1">* @slot tab - The slot for tabs</span><span class="s3">\n </span><span class="s1">* @slot tabpanel - The slot for tabpanels</span><span class="s3">\n </span><span class="s1">* @csspart tablist - The element wrapping for the tabs</span><span class="s3">\n </span><span class="s1">* @csspart tab - The tab slot</span><span class="s3">\n </span><span class="s1">* @csspart activeIndicator - The visual indicator</span><span class="s3">\n </span><span class="s1">* @csspart tabpanel - The tabpanel slot</span><span class="s3">\n </span><span class="s1">* @fires change - Fires a custom 'change' event when a tab is clicked or during keyboard navigation</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Tabs extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The orientation</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: orientation</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.orientation = TabsOrientation.horizontal;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether or not to show the active indicator</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: activeindicator</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.activeindicator = true;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.showActiveIndicator = true;</span><span class="s3">\n        </span><span class="s1">this.prevActiveTabIndex = 0;</span><span class="s3">\n        </span><span class="s1">this.activeTabIndex = 0;</span><span class="s3">\n        </span><span class="s1">this.ticking = false;</span><span class="s3">\n        </span><span class="s1">this.change = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">, this.activetab);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.isDisabledElement = (el) =&gt; {</span><span class="s3">\n            </span><span class="s1">return el.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-disabled</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.isHiddenElement = (el) =&gt; {</span><span class="s3">\n            </span><span class="s1">return el.hasAttribute(</span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.isFocusableElement = (el) =&gt; {</span><span class="s3">\n            </span><span class="s1">return !this.isDisabledElement(el) &amp;&amp; !this.isHiddenElement(el);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.setTabs = () =&gt; {</span><span class="s3">\n            </span><span class="s1">const gridHorizontalProperty = </span><span class="s3">\&quot;</span><span class="s1">gridColumn</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">const gridVerticalProperty = </span><span class="s3">\&quot;</span><span class="s1">gridRow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">const gridProperty = this.isHorizontal()</span><span class="s3">\n                </span><span class="s1">? gridHorizontalProperty</span><span class="s3">\n                </span><span class="s1">: gridVerticalProperty;</span><span class="s3">\n            </span><span class="s1">this.activeTabIndex = this.getActiveIndex();</span><span class="s3">\n            </span><span class="s1">this.showActiveIndicator = false;</span><span class="s3">\n            </span><span class="s1">this.tabs.forEach((tab, index) =&gt; {</span><span class="s3">\n                </span><span class="s1">if (tab.slot === </span><span class="s3">\&quot;</span><span class="s1">tab</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                    </span><span class="s1">const isActiveTab = this.activeTabIndex === index &amp;&amp; this.isFocusableElement(tab);</span><span class="s3">\n                    </span><span class="s1">if (this.activeindicator &amp;&amp; this.isFocusableElement(tab)) {</span><span class="s3">\n                        </span><span class="s1">this.showActiveIndicator = true;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">const tabId = this.tabIds[index];</span><span class="s3">\n                    </span><span class="s1">const tabpanelId = this.tabpanelIds[index];</span><span class="s3">\n                    </span><span class="s1">tab.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, tabId);</span><span class="s3">\n                    </span><span class="s1">tab.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-selected</span><span class="s3">\&quot;</span><span class="s1">, isActiveTab ? </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">tab.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-controls</span><span class="s3">\&quot;</span><span class="s1">, tabpanelId);</span><span class="s3">\n                    </span><span class="s1">tab.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">, this.handleTabClick);</span><span class="s3">\n                    </span><span class="s1">tab.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">, this.handleTabKeyDown);</span><span class="s3">\n                    </span><span class="s1">tab.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, isActiveTab ? </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                    </span><span class="s1">if (isActiveTab) {</span><span class="s3">\n                        </span><span class="s1">this.activetab = tab;</span><span class="s3">\n                        </span><span class="s1">this.activeid = tabId;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">// If the original property isn't emptied out,</span><span class="s3">\n                </span><span class="s1">// the next set will morph into a grid-area style setting that is not what we want</span><span class="s3">\n                </span><span class="s1">tab.style[gridHorizontalProperty] = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">tab.style[gridVerticalProperty] = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">tab.style[gridProperty] = `${index + 1}`;</span><span class="s3">\n                </span><span class="s1">!this.isHorizontal()</span><span class="s3">\n                    </span><span class="s1">? tab.classList.add(</span><span class="s3">\&quot;</span><span class="s1">vertical</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n                    </span><span class="s1">: tab.classList.remove(</span><span class="s3">\&quot;</span><span class="s1">vertical</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.setTabPanels = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.tabpanels.forEach((tabpanel, index) =&gt; {</span><span class="s3">\n                </span><span class="s1">const tabId = this.tabIds[index];</span><span class="s3">\n                </span><span class="s1">const tabpanelId = this.tabpanelIds[index];</span><span class="s3">\n                </span><span class="s1">tabpanel.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">, tabpanelId);</span><span class="s3">\n                </span><span class="s1">tabpanel.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-labelledby</span><span class="s3">\&quot;</span><span class="s1">, tabId);</span><span class="s3">\n                </span><span class="s1">this.activeTabIndex !== index</span><span class="s3">\n                    </span><span class="s1">? tabpanel.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n                    </span><span class="s1">: tabpanel.removeAttribute(</span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.handleTabClick = (event) =&gt; {</span><span class="s3">\n            </span><span class="s1">const selectedTab = event.currentTarget;</span><span class="s3">\n            </span><span class="s1">if (selectedTab.nodeType === 1 &amp;&amp; this.isFocusableElement(selectedTab)) {</span><span class="s3">\n                </span><span class="s1">this.prevActiveTabIndex = this.activeTabIndex;</span><span class="s3">\n                </span><span class="s1">this.activeTabIndex = this.tabs.indexOf(selectedTab);</span><span class="s3">\n                </span><span class="s1">this.setComponent();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.handleTabKeyDown = (event) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.isHorizontal()) {</span><span class="s3">\n                </span><span class="s1">switch (event.key) {</span><span class="s3">\n                    </span><span class="s1">case keyArrowLeft:</span><span class="s3">\n                        </span><span class="s1">event.preventDefault();</span><span class="s3">\n                        </span><span class="s1">this.adjustBackward(event);</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">case keyArrowRight:</span><span class="s3">\n                        </span><span class="s1">event.preventDefault();</span><span class="s3">\n                        </span><span class="s1">this.adjustForward(event);</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">switch (event.key) {</span><span class="s3">\n                    </span><span class="s1">case keyArrowUp:</span><span class="s3">\n                        </span><span class="s1">event.preventDefault();</span><span class="s3">\n                        </span><span class="s1">this.adjustBackward(event);</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">case keyArrowDown:</span><span class="s3">\n                        </span><span class="s1">event.preventDefault();</span><span class="s3">\n                        </span><span class="s1">this.adjustForward(event);</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">switch (event.key) {</span><span class="s3">\n                </span><span class="s1">case keyHome:</span><span class="s3">\n                    </span><span class="s1">event.preventDefault();</span><span class="s3">\n                    </span><span class="s1">this.adjust(-this.activeTabIndex);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">case keyEnd:</span><span class="s3">\n                    </span><span class="s1">event.preventDefault();</span><span class="s3">\n                    </span><span class="s1">this.adjust(this.tabs.length - this.activeTabIndex - 1);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.adjustForward = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">const group = this.tabs;</span><span class="s3">\n            </span><span class="s1">let index = 0;</span><span class="s3">\n            </span><span class="s1">index = this.activetab ? group.indexOf(this.activetab) + 1 : 1;</span><span class="s3">\n            </span><span class="s1">if (index === group.length) {</span><span class="s3">\n                </span><span class="s1">index = 0;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">while (index &lt; group.length &amp;&amp; group.length &gt; 1) {</span><span class="s3">\n                </span><span class="s1">if (this.isFocusableElement(group[index])) {</span><span class="s3">\n                    </span><span class="s1">this.moveToTabByIndex(group, index);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (this.activetab &amp;&amp; index === group.indexOf(this.activetab)) {</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (index + 1 &gt;= group.length) {</span><span class="s3">\n                    </span><span class="s1">index = 0;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">index += 1;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.adjustBackward = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">const group = this.tabs;</span><span class="s3">\n            </span><span class="s1">let index = 0;</span><span class="s3">\n            </span><span class="s1">index = this.activetab ? group.indexOf(this.activetab) - 1 : 0;</span><span class="s3">\n            </span><span class="s1">index = index &lt; 0 ? group.length - 1 : index;</span><span class="s3">\n            </span><span class="s1">while (index &gt;= 0 &amp;&amp; group.length &gt; 1) {</span><span class="s3">\n                </span><span class="s1">if (this.isFocusableElement(group[index])) {</span><span class="s3">\n                    </span><span class="s1">this.moveToTabByIndex(group, index);</span><span class="s3">\n                    </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else if (index - 1 &lt; 0) {</span><span class="s3">\n                    </span><span class="s1">index = group.length - 1;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">index -= 1;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.moveToTabByIndex = (group, index) =&gt; {</span><span class="s3">\n            </span><span class="s1">const tab = group[index];</span><span class="s3">\n            </span><span class="s1">this.activetab = tab;</span><span class="s3">\n            </span><span class="s1">this.prevActiveTabIndex = this.activeTabIndex;</span><span class="s3">\n            </span><span class="s1">this.activeTabIndex = index;</span><span class="s3">\n            </span><span class="s1">tab.focus();</span><span class="s3">\n            </span><span class="s1">this.setComponent();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">orientationChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.setTabs();</span><span class="s3">\n            </span><span class="s1">this.setTabPanels();</span><span class="s3">\n            </span><span class="s1">this.handleActiveIndicatorPosition();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">activeidChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.tabs.length &lt;= this.tabpanels.length) {</span><span class="s3">\n            </span><span class="s1">this.prevActiveTabIndex = this.tabs.findIndex((item) =&gt; item.id === oldValue);</span><span class="s3">\n            </span><span class="s1">this.setTabs();</span><span class="s3">\n            </span><span class="s1">this.setTabPanels();</span><span class="s3">\n            </span><span class="s1">this.handleActiveIndicatorPosition();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">tabsChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.tabs.length &lt;= this.tabpanels.length) {</span><span class="s3">\n            </span><span class="s1">this.tabIds = this.getTabIds();</span><span class="s3">\n            </span><span class="s1">this.tabpanelIds = this.getTabPanelIds();</span><span class="s3">\n            </span><span class="s1">this.setTabs();</span><span class="s3">\n            </span><span class="s1">this.setTabPanels();</span><span class="s3">\n            </span><span class="s1">this.handleActiveIndicatorPosition();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">tabpanelsChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.tabpanels.length &lt;= this.tabs.length) {</span><span class="s3">\n            </span><span class="s1">this.tabIds = this.getTabIds();</span><span class="s3">\n            </span><span class="s1">this.tabpanelIds = this.getTabPanelIds();</span><span class="s3">\n            </span><span class="s1">this.setTabs();</span><span class="s3">\n            </span><span class="s1">this.setTabPanels();</span><span class="s3">\n            </span><span class="s1">this.handleActiveIndicatorPosition();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getActiveIndex() {</span><span class="s3">\n        </span><span class="s1">const id = this.activeid;</span><span class="s3">\n        </span><span class="s1">if (id !== undefined) {</span><span class="s3">\n            </span><span class="s1">return this.tabIds.indexOf(this.activeid) === -1</span><span class="s3">\n                </span><span class="s1">? 0</span><span class="s3">\n                </span><span class="s1">: this.tabIds.indexOf(this.activeid);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">return 0;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getTabIds() {</span><span class="s3">\n        </span><span class="s1">return this.tabs.map((tab) =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">return (_a = tab.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">)) !== null &amp;&amp; _a !== void 0 ? _a : `tab-${uniqueId()}`;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getTabPanelIds() {</span><span class="s3">\n        </span><span class="s1">return this.tabpanels.map((tabPanel) =&gt; {</span><span class="s3">\n            </span><span class="s1">var _a;</span><span class="s3">\n            </span><span class="s1">return (_a = tabPanel.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">id</span><span class="s3">\&quot;</span><span class="s1">)) !== null &amp;&amp; _a !== void 0 ? _a : `panel-${uniqueId()}`;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">setComponent() {</span><span class="s3">\n        </span><span class="s1">if (this.activeTabIndex !== this.prevActiveTabIndex) {</span><span class="s3">\n            </span><span class="s1">this.activeid = this.tabIds[this.activeTabIndex];</span><span class="s3">\n            </span><span class="s1">this.focusTab();</span><span class="s3">\n            </span><span class="s1">this.change();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">isHorizontal() {</span><span class="s3">\n        </span><span class="s1">return this.orientation === TabsOrientation.horizontal;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleActiveIndicatorPosition() {</span><span class="s3">\n        </span><span class="s1">// Ignore if we click twice on the same tab</span><span class="s3">\n        </span><span class="s1">if (this.showActiveIndicator &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.activeindicator &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.activeTabIndex !== this.prevActiveTabIndex) {</span><span class="s3">\n            </span><span class="s1">if (this.ticking) {</span><span class="s3">\n                </span><span class="s1">this.ticking = false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">this.ticking = true;</span><span class="s3">\n                </span><span class="s1">this.animateActiveIndicator();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">animateActiveIndicator() {</span><span class="s3">\n        </span><span class="s1">this.ticking = true;</span><span class="s3">\n        </span><span class="s1">const gridProperty = this.isHorizontal() ? </span><span class="s3">\&quot;</span><span class="s1">gridColumn</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">gridRow</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">const translateProperty = this.isHorizontal()</span><span class="s3">\n            </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">translateX</span><span class="s3">\&quot;\n            </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">translateY</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">const offsetProperty = this.isHorizontal() ? </span><span class="s3">\&quot;</span><span class="s1">offsetLeft</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">offsetTop</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">const prev = this.activeIndicatorRef[offsetProperty];</span><span class="s3">\n        </span><span class="s1">this.activeIndicatorRef.style[gridProperty] = `${this.activeTabIndex + 1}`;</span><span class="s3">\n        </span><span class="s1">const next = this.activeIndicatorRef[offsetProperty];</span><span class="s3">\n        </span><span class="s1">this.activeIndicatorRef.style[gridProperty] = `${this.prevActiveTabIndex + 1}`;</span><span class="s3">\n        </span><span class="s1">const dif = next - prev;</span><span class="s3">\n        </span><span class="s1">this.activeIndicatorRef.style.transform = `${translateProperty}(${dif}px)`;</span><span class="s3">\n        </span><span class="s1">this.activeIndicatorRef.classList.add(</span><span class="s3">\&quot;</span><span class="s1">activeIndicatorTransition</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.activeIndicatorRef.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">transitionend</span><span class="s3">\&quot;</span><span class="s1">, () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.ticking = false;</span><span class="s3">\n            </span><span class="s1">this.activeIndicatorRef.style[gridProperty] = `${this.activeTabIndex + 1}`;</span><span class="s3">\n            </span><span class="s1">this.activeIndicatorRef.style.transform = `${translateProperty}(0px)`;</span><span class="s3">\n            </span><span class="s1">this.activeIndicatorRef.classList.remove(</span><span class="s3">\&quot;</span><span class="s1">activeIndicatorTransition</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The adjust method for FASTTabs</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* This method allows the active index to be adjusted by numerical increments</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">adjust(adjustment) {</span><span class="s3">\n        </span><span class="s1">const focusableTabs = this.tabs.filter(t =&gt; this.isFocusableElement(t));</span><span class="s3">\n        </span><span class="s1">const currentActiveTabIndex = focusableTabs.indexOf(this.activetab);</span><span class="s3">\n        </span><span class="s1">const nextTabIndex = limit(0, focusableTabs.length - 1, currentActiveTabIndex + adjustment);</span><span class="s3">\n        </span><span class="s1">// the index of the next focusable tab within the context of all available tabs</span><span class="s3">\n        </span><span class="s1">const nextIndex = this.tabs.indexOf(focusableTabs[nextTabIndex]);</span><span class="s3">\n        </span><span class="s1">if (nextIndex &gt; -1) {</span><span class="s3">\n            </span><span class="s1">this.moveToTabByIndex(this.tabs, nextIndex);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">focusTab() {</span><span class="s3">\n        </span><span class="s1">this.tabs[this.activeTabIndex].focus();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.tabIds = this.getTabIds();</span><span class="s3">\n        </span><span class="s1">this.tabpanelIds = this.getTabPanelIds();</span><span class="s3">\n        </span><span class="s1">this.activeTabIndex = this.getActiveIndex();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Tabs.prototype, </span><span class="s3">\&quot;</span><span class="s1">orientation</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Tabs.prototype, </span><span class="s3">\&quot;</span><span class="s1">activeid</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tabs.prototype, </span><span class="s3">\&quot;</span><span class="s1">tabs</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tabs.prototype, </span><span class="s3">\&quot;</span><span class="s1">tabpanels</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Tabs.prototype, </span><span class="s3">\&quot;</span><span class="s1">activeindicator</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tabs.prototype, </span><span class="s3">\&quot;</span><span class="s1">activeIndicatorRef</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tabs.prototype, </span><span class="s3">\&quot;</span><span class="s1">showActiveIndicator</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(Tabs, StartEnd);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, slotted, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Tabs:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const tabsTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.orientation}</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">tablist</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">tablist</span><span class="s3">\&quot; </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">tablist</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot class=</span><span class="s3">\&quot;</span><span class="s1">tab</span><span class="s3">\&quot; </span><span class="s1">name=</span><span class="s3">\&quot;</span><span class="s1">tab</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">tab</span><span class="s3">\&quot; </span><span class="s1">${slotted(</span><span class="s3">\&quot;</span><span class="s1">tabs</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n\n            </span><span class="s1">${when(x =&gt; x.showActiveIndicator, html `</span><span class="s3">\n                    </span><span class="s1">&lt;div</span><span class="s3">\n                        </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">activeIndicatorRef</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n                        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">activeIndicator</span><span class="s3">\&quot;\n                        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">activeIndicator</span><span class="s3">\&quot;\n                    </span><span class="s1">&gt;&lt;/div&gt;</span><span class="s3">\n                </span><span class="s1">`)}</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n        </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">tabpanel</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">tabpanel</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">tabpanel</span><span class="s3">\&quot; </span><span class="s1">${slotted(</span><span class="s3">\&quot;</span><span class="s1">tabpanels</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillRest, bodyFont, controlCornerRadius, designUnit, neutralForegroundRest, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Tabs</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const tabsStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('grid')} :host {</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">grid-template-columns: auto 1fr auto;</span><span class="s3">\n      </span><span class="s1">grid-template-rows: auto 1fr;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.tablist {</span><span class="s3">\n      </span><span class="s1">display: grid;</span><span class="s3">\n      </span><span class="s1">grid-template-rows: auto auto;</span><span class="s3">\n      </span><span class="s1">grid-template-columns: auto;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">width: max-content;</span><span class="s3">\n      </span><span class="s1">align-self: end;</span><span class="s3">\n      </span><span class="s1">padding: calc(${designUnit} * 4px) calc(${designUnit} * 4px) 0;</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.start,</span><span class="s3">\n    </span><span class="s1">.end {</span><span class="s3">\n      </span><span class="s1">align-self: center;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.activeIndicator {</span><span class="s3">\n      </span><span class="s1">grid-row: 1;</span><span class="s3">\n      </span><span class="s1">grid-column: 1;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">height: 4px;</span><span class="s3">\n      </span><span class="s1">justify-self: center;</span><span class="s3">\n      </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n      </span><span class="s1">margin-top: 0;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px)</span><span class="s3">\n        </span><span class="s1">calc(${controlCornerRadius} * 1px) 0 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.activeIndicatorTransition {</span><span class="s3">\n      </span><span class="s1">transition: transform 0.01s ease-in-out;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.tabpanel {</span><span class="s3">\n      </span><span class="s1">grid-row: 2;</span><span class="s3">\n      </span><span class="s1">grid-column-start: 1;</span><span class="s3">\n      </span><span class="s1">grid-column-end: 4;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([orientation='vertical']) {</span><span class="s3">\n      </span><span class="s1">grid-template-rows: auto 1fr auto;</span><span class="s3">\n      </span><span class="s1">grid-template-columns: auto 1fr;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([orientation='vertical']) .tablist {</span><span class="s3">\n      </span><span class="s1">grid-row-start: 2;</span><span class="s3">\n      </span><span class="s1">grid-row-end: 2;</span><span class="s3">\n      </span><span class="s1">display: grid;</span><span class="s3">\n      </span><span class="s1">grid-template-rows: auto;</span><span class="s3">\n      </span><span class="s1">grid-template-columns: auto 1fr;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">width: max-content;</span><span class="s3">\n      </span><span class="s1">justify-self: end;</span><span class="s3">\n      </span><span class="s1">align-self: flex-start;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">padding: 0 calc(${designUnit} * 4px)</span><span class="s3">\n        </span><span class="s1">calc((${heightNumber} - ${designUnit}) * 1px) 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([orientation='vertical']) .tabpanel {</span><span class="s3">\n      </span><span class="s1">grid-column: 2;</span><span class="s3">\n      </span><span class="s1">grid-row-start: 1;</span><span class="s3">\n      </span><span class="s1">grid-row-end: 4;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([orientation='vertical']) .end {</span><span class="s3">\n      </span><span class="s1">grid-row: 3;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([orientation='vertical']) .activeIndicator {</span><span class="s3">\n      </span><span class="s1">grid-column: 1;</span><span class="s3">\n      </span><span class="s1">grid-row: 1;</span><span class="s3">\n      </span><span class="s1">width: 4px;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n      </span><span class="s1">margin-inline-end: 0px;</span><span class="s3">\n      </span><span class="s1">align-self: center;</span><span class="s3">\n      </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px) 0 0</span><span class="s3">\n        </span><span class="s1">calc(${controlCornerRadius} * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([orientation='vertical']) .activeIndicatorTransition {</span><span class="s3">\n      </span><span class="s1">transition: transform 0.01s ease-in-out;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">.activeIndicator,</span><span class="s3">\n      </span><span class="s1">:host([orientation='vertical']) .activeIndicator {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { Tabs, tabsTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { tabsStyles as styles } from './tabs.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Tabs class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-tabs</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterTabs extends Tabs {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Tabs} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#tabsTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-tabs&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpTabs = JupyterTabs.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'tabs',</span><span class="s3">\n    </span><span class="s1">baseClass: Tabs,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export * from '../tab/index.js';</span><span class="s3">\n</span><span class="s1">export * from '../tab-panel/index.js';</span><span class="s3">\n</span><span class="s1">export { JupyterTabs as Tabs, styles as tabsStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _TextArea extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(TextArea:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedTextArea extends FormAssociated(_TextArea) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">textarea</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Resize mode for a TextArea</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const TextAreaResize = {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* No resize.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">none: </span><span class="s3">\&quot;</span><span class="s1">none</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Resize vertically and horizontally.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">both: </span><span class="s3">\&quot;</span><span class="s1">both</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Resize horizontally.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">horizontal: </span><span class="s3">\&quot;</span><span class="s1">horizontal</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Resize vertically.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">vertical: </span><span class="s3">\&quot;</span><span class="s1">vertical</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, nullableNumberConverter, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DelegatesARIATextbox } from </span><span class="s3">\&quot;</span><span class="s1">../text-field/text-field.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedTextArea } from </span><span class="s3">\&quot;</span><span class="s1">./text-area.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { TextAreaResize } from </span><span class="s3">\&quot;</span><span class="s1">./text-area.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export { TextAreaResize };</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Text Area Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Based largely on the {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea | &lt;textarea&gt; element }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the label</span><span class="s3">\n </span><span class="s1">* @csspart label - The label</span><span class="s3">\n </span><span class="s1">* @csspart root - The element wrapping the control</span><span class="s3">\n </span><span class="s1">* @csspart control - The textarea element</span><span class="s3">\n </span><span class="s1">* @fires change - Emits a custom 'change' event when the textarea emits a change event</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class TextArea extends FormAssociatedTextArea {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The resize mode of the element.</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: resize</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.resize = TextAreaResize.none;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Sizes the element horizontally by a number of character columns.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: cols</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.cols = 20;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleTextInput = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.value = this.control.value;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">readOnlyChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLTextAreaElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.readOnly = this.readOnly;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">autofocusChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLTextAreaElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.autofocus = this.autofocus;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">listChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLTextAreaElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;</span><span class="s1">, this.list);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">maxlengthChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLTextAreaElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.maxLength = this.maxlength;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">minlengthChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLTextAreaElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.minLength = this.minlength;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">spellcheckChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.proxy instanceof HTMLTextAreaElement) {</span><span class="s3">\n            </span><span class="s1">this.proxy.spellcheck = this.spellcheck;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Selects all the text in the text area</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">select() {</span><span class="s3">\n        </span><span class="s1">this.control.select();</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The select event does not permeate the shadow DOM boundary.</span><span class="s3">\n         </span><span class="s1">* This fn effectively proxies the select event,</span><span class="s3">\n         </span><span class="s1">* emitting a `select` event whenever the internal</span><span class="s3">\n         </span><span class="s1">* control emits a `select` event</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">select</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Change event handler for inner control.</span><span class="s3">\n     </span><span class="s1">* @remarks</span><span class="s3">\n     </span><span class="s1">* </span><span class="s3">\&quot;</span><span class="s1">Change</span><span class="s3">\&quot; </span><span class="s1">events are not `composable` so they will not</span><span class="s3">\n     </span><span class="s1">* permeate the shadow DOM boundary. This fn effectively proxies</span><span class="s3">\n     </span><span class="s1">* the change event, emitting a `change` event whenever the internal</span><span class="s3">\n     </span><span class="s1">* control emits a `change` event</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleChange() {</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">change</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/** {@inheritDoc (FormAssociated:interface).validate} */</span><span class="s3">\n    </span><span class="s1">validate() {</span><span class="s3">\n        </span><span class="s1">super.validate(this.control);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">readOnly</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">resize</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">autofocus</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">form</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">formId</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">maxlength</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter })</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">minlength</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">name</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">placeholder</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter, mode: </span><span class="s3">\&quot;</span><span class="s1">fromView</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">cols</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ converter: nullableNumberConverter, mode: </span><span class="s3">\&quot;</span><span class="s1">fromView</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">rows</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">spellcheck</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], TextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(TextArea, DelegatesARIATextbox);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { TextAreaResize } from </span><span class="s3">\&quot;</span><span class="s1">./text-area.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(TextArea:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const textAreaTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">class=</span><span class="s3">\&quot;\n            </span><span class="s1">${x =&gt; (x.readOnly ? </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\n            </span><span class="s1">${x =&gt; (x.resize !== TextAreaResize.none ? `resize-${x.resize}` : </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;label</span><span class="s3">\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n            </span><span class="s1">for=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.defaultSlottedNodes &amp;&amp; x.defaultSlottedNodes.length</span><span class="s3">\n    </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n    </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">label label__hidden</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot ${slotted(</span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/label&gt;</span><span class="s3">\n        </span><span class="s1">&lt;textarea</span><span class="s3">\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n            </span><span class="s1">id=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n            </span><span class="s1">?autofocus=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.autofocus}</span><span class="s3">\&quot;\n            </span><span class="s1">cols=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.cols}</span><span class="s3">\&quot;\n            </span><span class="s1">?disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n            </span><span class="s1">form=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.form}</span><span class="s3">\&quot;\n            </span><span class="s1">list=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.list}</span><span class="s3">\&quot;\n            </span><span class="s1">maxlength=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.maxlength}</span><span class="s3">\&quot;\n            </span><span class="s1">minlength=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.minlength}</span><span class="s3">\&quot;\n            </span><span class="s1">name=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.name}</span><span class="s3">\&quot;\n            </span><span class="s1">placeholder=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.placeholder}</span><span class="s3">\&quot;\n            </span><span class="s1">?readonly=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.readOnly}</span><span class="s3">\&quot;\n            </span><span class="s1">?required=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.required}</span><span class="s3">\&quot;\n            </span><span class="s1">rows=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.rows}</span><span class="s3">\&quot;\n            </span><span class="s1">?spellcheck=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.spellcheck}</span><span class="s3">\&quot;\n            </span><span class="s1">:value=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.value}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-atomic=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaAtomic}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-busy=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaBusy}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaControls}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-current=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaCurrent}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-describedby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDescribedby}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-details=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDetails}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-errormessage=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaErrormessage}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-flowto=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaFlowto}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-haspopup=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHaspopup}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHidden}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-invalid=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaInvalid}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-keyshortcuts=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaKeyshortcuts}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-label=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabel}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabelledby}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-live=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLive}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-owns=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaOwns}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-relevant=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRelevant}</span><span class="s3">\&quot;\n            </span><span class="s1">aria-roledescription=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRoledescription}</span><span class="s3">\&quot;\n            </span><span class="s1">@input=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleTextInput()}</span><span class="s3">\&quot;\n            </span><span class="s1">@change=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleChange()}</span><span class="s3">\&quot;\n            </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n        </span><span class="s1">&gt;&lt;/textarea&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { accentFillFocus, bodyFont, controlCornerRadius, designUnit, disabledOpacity, errorFillActive, errorFillFocus, errorFillHover, errorFillRest, focusStrokeWidth, neutralFillHover, neutralFillInputActive, neutralFillInputHover, neutralFillInputRest, neutralFillRest, neutralFillStrongActive, neutralFillStrongHover, neutralFillStrongRest, neutralForegroundRest, neutralStrokeRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Text Area</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const textAreaStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('inline-block')} :host {</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">user-select: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control {</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputRest};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${neutralFillStrongRest};</span><span class="s3">\n      </span><span class="s1">height: calc(${heightNumber} * 2px);</span><span class="s3">\n      </span><span class="s1">font: inherit;</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">padding: calc(${designUnit} * 2px + 1px);</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">resize: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']) .control {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:hover:enabled {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputHover};</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralFillStrongHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']) .control:hover:enabled {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:active:enabled {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillInputActive};</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralFillStrongActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']) .control:active:enabled {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.control:hover,</span><span class="s3">\n    </span><span class="s1">.control:${focusVisible},</span><span class="s3">\n    </span><span class="s1">.control:disabled,</span><span class="s3">\n    </span><span class="s1">.control:active {</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:focus-within) .control {</span><span class="s3">\n      </span><span class="s1">border-color: ${accentFillFocus};</span><span class="s3">\n      </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n        </span><span class="s1">${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-invalid='true']:focus-within) .control {</span><span class="s3">\n      </span><span class="s1">border-color: ${errorFillFocus};</span><span class="s3">\n      </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n        </span><span class="s1">${errorFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance='filled']) .control {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([appearance='filled']:hover:not([disabled])) .control {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([resize='both']) .control {</span><span class="s3">\n      </span><span class="s1">resize: both;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([resize='horizontal']) .control {</span><span class="s3">\n      </span><span class="s1">resize: horizontal;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([resize='vertical']) .control {</span><span class="s3">\n      </span><span class="s1">resize: vertical;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.label {</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">margin-bottom: 4px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.label__hidden {</span><span class="s3">\n      </span><span class="s1">display: none;</span><span class="s3">\n      </span><span class="s1">visibility: hidden;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) .label,</span><span class="s3">\n    </span><span class="s1">:host([readonly]) .label,</span><span class="s3">\n    </span><span class="s1">:host([readonly]) .control,</span><span class="s3">\n    </span><span class="s1">:host([disabled]) .control {</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([disabled]) {</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">:host([disabled]) .control {</span><span class="s3">\n      </span><span class="s1">border-color: ${neutralStrokeRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([cols]) {</span><span class="s3">\n      </span><span class="s1">width: initial;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([rows]) .control {</span><span class="s3">\n      </span><span class="s1">height: initial;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host([disabled]) {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([aria-invalid='true']) .control {</span><span class="s3">\n        </span><span class="s1">border-style: dashed;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { TextArea, textAreaTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { textAreaStyles as styles } from './text-area.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Textarea class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-text-area</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @fires select - Emits a custom 'select' event when the textarea emits a select event</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterTextArea extends TextArea {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The appearance of the element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: appearance</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.appearance = 'outline';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterTextArea.prototype, </span><span class="s3">\&quot;</span><span class="s1">appearance</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#TextArea} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#textAreaTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-text-area&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* {@link https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/delegatesFocus | delegatesFocus}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpTextArea = JupyterTextArea.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'text-area',</span><span class="s3">\n    </span><span class="s1">baseClass: TextArea,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterTextArea as TextArea, styles as textAreaStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { whitespaceFilter } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/whitespace-filter.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(TextField:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const textFieldTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">class=</span><span class="s3">\&quot;\n            </span><span class="s1">${x =&gt; (x.readOnly ? </span><span class="s3">\&quot;</span><span class="s1">readonly</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\n        \&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;label</span><span class="s3">\n            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n            </span><span class="s1">for=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.defaultSlottedNodes &amp;&amp; x.defaultSlottedNodes.length</span><span class="s3">\n    </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;\n    </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">label label__hidden</span><span class="s3">\&quot;</span><span class="s1">}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot</span><span class="s3">\n                </span><span class="s1">${slotted({ property: </span><span class="s3">\&quot;</span><span class="s1">defaultSlottedNodes</span><span class="s3">\&quot;</span><span class="s1">, filter: whitespaceFilter })}</span><span class="s3">\n            </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/label&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">root</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n            </span><span class="s1">&lt;input</span><span class="s3">\n                </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                </span><span class="s1">id=</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;\n                </span><span class="s1">@input=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleTextInput()}</span><span class="s3">\&quot;\n                </span><span class="s1">@change=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.handleChange()}</span><span class="s3">\&quot;\n                </span><span class="s1">?autofocus=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.autofocus}</span><span class="s3">\&quot;\n                </span><span class="s1">?disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n                </span><span class="s1">list=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.list}</span><span class="s3">\&quot;\n                </span><span class="s1">maxlength=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.maxlength}</span><span class="s3">\&quot;\n                </span><span class="s1">minlength=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.minlength}</span><span class="s3">\&quot;\n                </span><span class="s1">pattern=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.pattern}</span><span class="s3">\&quot;\n                </span><span class="s1">placeholder=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.placeholder}</span><span class="s3">\&quot;\n                </span><span class="s1">?readonly=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.readOnly}</span><span class="s3">\&quot;\n                </span><span class="s1">?required=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.required}</span><span class="s3">\&quot;\n                </span><span class="s1">size=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.size}</span><span class="s3">\&quot;\n                </span><span class="s1">?spellcheck=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.spellcheck}</span><span class="s3">\&quot;\n                </span><span class="s1">:value=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.value}</span><span class="s3">\&quot;\n                </span><span class="s1">type=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.type}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-atomic=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaAtomic}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-busy=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaBusy}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-controls=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaControls}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-current=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaCurrent}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-describedby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDescribedby}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-details=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDetails}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaDisabled}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-errormessage=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaErrormessage}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-flowto=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaFlowto}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-haspopup=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHaspopup}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaHidden}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-invalid=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaInvalid}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-keyshortcuts=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaKeyshortcuts}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-label=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabel}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabelledby}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-live=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLive}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-owns=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaOwns}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-relevant=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRelevant}</span><span class="s3">\&quot;\n                </span><span class="s1">aria-roledescription=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaRoledescription}</span><span class="s3">\&quot;\n                </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">control</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n            </span><span class="s1">/&gt;</span><span class="s3">\n            </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { BaseFieldStyles } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Text Field</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const textFieldStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${BaseFieldStyles}</span><span class="s3">\n\n  </span><span class="s1">.start,</span><span class="s3">\n    </span><span class="s1">.end {</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { TextField, textFieldTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { textFieldStyles as styles } from './text-field.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Text field class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-text-field</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @fires select - Emits a custom 'select' event when the textarea emits a select event</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterTextField extends TextField {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The appearance of the element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: appearance</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.appearance = 'outline';</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], JupyterTextField.prototype, </span><span class="s3">\&quot;</span><span class="s1">appearance</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#TextField} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#textFieldTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-text-field&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* {@link https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot/delegatesFocus | delegatesFocus}</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpTextField = JupyterTextField.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'text-field',</span><span class="s3">\n    </span><span class="s1">baseClass: TextField,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterTextField as TextField, styles as textFieldStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { children, elements, html, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(Toolbar:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const toolbarTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">aria-label=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabel}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.ariaLabelledby}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-orientation=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.orientation}</span><span class="s3">\&quot;\n        </span><span class="s1">orientation=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.orientation}</span><span class="s3">\&quot;\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">toolbar</span><span class="s3">\&quot;\n        </span><span class="s1">@mousedown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.mouseDownHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusin=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.focusinHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.keydownHandler(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">${children({</span><span class="s3">\n    </span><span class="s1">property: </span><span class="s3">\&quot;</span><span class="s1">childItems</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">attributeFilter: [</span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">hidden</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n    </span><span class="s1">filter: elements(),</span><span class="s3">\n    </span><span class="s1">subtree: true,</span><span class="s3">\n</span><span class="s1">})}</span><span class="s3">\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">positioning-region</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">positioning-region</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n            </span><span class="s1">&lt;slot</span><span class="s3">\n                </span><span class="s1">${slotted({</span><span class="s3">\n    </span><span class="s1">filter: elements(),</span><span class="s3">\n    </span><span class="s1">property: </span><span class="s3">\&quot;</span><span class="s1">slottedItems</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">})}</span><span class="s3">\n            </span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display, focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillFocus, controlCornerRadius, fillColor, focusStrokeWidth, strokeWidth } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for the Toolbar</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const toolbarStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">${display('inline-flex')} :host {</span><span class="s3">\n      </span><span class="s1">--toolbar-item-gap: calc(</span><span class="s3">\n        </span><span class="s1">(var(--design-unit) + calc(var(--density) + 2)) * 1px</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">background-color: ${fillColor};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">padding: var(--toolbar-item-gap);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(${focusVisible}) {</span><span class="s3">\n      </span><span class="s1">outline: calc(${strokeWidth} * 1px) solid ${accentFillFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.positioning-region {</span><span class="s3">\n      </span><span class="s1">align-items: flex-start;</span><span class="s3">\n      </span><span class="s1">display: inline-flex;</span><span class="s3">\n      </span><span class="s1">flex-flow: row wrap;</span><span class="s3">\n      </span><span class="s1">justify-content: flex-start;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">height: 100%;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([orientation='vertical']) .positioning-region {</span><span class="s3">\n      </span><span class="s1">flex-direction: column;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(:not([slot])) {</span><span class="s3">\n      </span><span class="s1">flex: 0 0 auto;</span><span class="s3">\n      </span><span class="s1">margin: 0 var(--toolbar-item-gap);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([orientation='vertical']) ::slotted(:not([slot])) {</span><span class="s3">\n      </span><span class="s1">margin: var(--toolbar-item-gap) 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.start,</span><span class="s3">\n    </span><span class="s1">.end {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">margin: auto;</span><span class="s3">\n      </span><span class="s1">margin-inline: 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(svg) {</span><span class="s3">\n      </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n      </span><span class="s1">width: 16px;</span><span class="s3">\n      </span><span class="s1">height: 16px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host(:${focusVisible}) {</span><span class="s3">\n        </span><span class="s1">box-shadow: 0 0 0 calc(${focusStrokeWidth} * 1px)</span><span class="s3">\n          </span><span class="s1">${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Observable, attr, observable } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { ARIAGlobalStatesAndProperties, FoundationElement, StartEnd, applyMixins, composedParent, getDirection, toolbarTemplate as template } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { ArrowKeys, Direction, Orientation, limit } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { isFocusable } from 'tabbable';</span><span class="s3">\n</span><span class="s1">import { fillColor, neutralFillLayerRecipe } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { toolbarStyles as styles } from './toolbar.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A map for directionality derived from keyboard input strings,</span><span class="s3">\n </span><span class="s1">* visual orientation, and text direction.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const ToolbarArrowKeyMap = Object.freeze({</span><span class="s3">\n    </span><span class="s1">[ArrowKeys.ArrowUp]: {</span><span class="s3">\n        </span><span class="s1">[Orientation.vertical]: -1</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">[ArrowKeys.ArrowDown]: {</span><span class="s3">\n        </span><span class="s1">[Orientation.vertical]: 1</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">[ArrowKeys.ArrowLeft]: {</span><span class="s3">\n        </span><span class="s1">[Orientation.horizontal]: {</span><span class="s3">\n            </span><span class="s1">[Direction.ltr]: -1,</span><span class="s3">\n            </span><span class="s1">[Direction.rtl]: 1</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">[ArrowKeys.ArrowRight]: {</span><span class="s3">\n        </span><span class="s1">[Orientation.horizontal]: {</span><span class="s3">\n            </span><span class="s1">[Direction.ltr]: 1,</span><span class="s3">\n            </span><span class="s1">[Direction.rtl]: -1</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Toolbar Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://w3c.github.io/aria-practices/#Toolbar|ARIA Toolbar}.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the slotted items</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the slotted items</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for slotted items</span><span class="s3">\n </span><span class="s1">* @slot label - The toolbar label</span><span class="s3">\n </span><span class="s1">* @csspart positioning-region - The element containing the items, start and end slots</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FoundationToolbar extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The internal index of the currently focused element.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this._activeIndex = 0;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The text direction of the toolbar.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.direction = Direction.ltr;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The orientation of the toolbar.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: `orientation`</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.orientation = Orientation.horizontal;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The index of the currently focused element, clamped between 0 and the last element.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get activeIndex() {</span><span class="s3">\n        </span><span class="s1">Observable.track(this, 'activeIndex');</span><span class="s3">\n        </span><span class="s1">return this._activeIndex;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">set activeIndex(value) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this._activeIndex = limit(0, this.focusableElements.length - 1, value);</span><span class="s3">\n            </span><span class="s1">Observable.notify(this, 'activeIndex');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">slottedItemsChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.reduceFocusableElements();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Set the activeIndex when a focusable element in the toolbar is clicked.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">mouseDownHandler(e) {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">const activeIndex = (_a = this.focusableElements) === null || _a === void 0 ? void 0 : _a.findIndex(x =&gt; x.contains(e.target));</span><span class="s3">\n        </span><span class="s1">if (activeIndex &gt; -1 &amp;&amp; this.activeIndex !== activeIndex) {</span><span class="s3">\n            </span><span class="s1">this.setFocusedElement(activeIndex);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">childItemsChanged(prev, next) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.reduceFocusableElements();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.direction = getDirection(this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* When the toolbar receives focus, set the currently active element as focused.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focusinHandler(e) {</span><span class="s3">\n        </span><span class="s1">const relatedTarget = e.relatedTarget;</span><span class="s3">\n        </span><span class="s1">if (!relatedTarget || this.contains(relatedTarget)) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.setFocusedElement();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Determines a value that can be used to iterate a list with the arrow keys.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param this - An element with an orientation and direction</span><span class="s3">\n     </span><span class="s1">* @param key - The event key value</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getDirectionalIncrementer(key) {</span><span class="s3">\n        </span><span class="s1">var _a, _b, _c, _d, _e;</span><span class="s3">\n        </span><span class="s1">return (</span><span class="s3">\n        </span><span class="s1">// @ts-expect-error ToolbarArrowKeyMap has not index</span><span class="s3">\n        </span><span class="s1">(_e = (_c = (_b = (_a = ToolbarArrowKeyMap[key]) === null || _a === void 0 ? void 0 : _a[this.orientation]) === null || _b === void 0 ? void 0 : _b[this.direction]) !== null &amp;&amp; _c !== void 0 ? _c : </span><span class="s3">\n        </span><span class="s1">// @ts-expect-error ToolbarArrowKeyMap has not index</span><span class="s3">\n        </span><span class="s1">(_d = ToolbarArrowKeyMap[key]) === null || _d === void 0 ? void 0 : _d[this.orientation]) !== null &amp;&amp; _e !== void 0 ? _e : 0);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle keyboard events for the toolbar.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">keydownHandler(e) {</span><span class="s3">\n        </span><span class="s1">const key = e.key;</span><span class="s3">\n        </span><span class="s1">if (!(key in ArrowKeys) || e.defaultPrevented || e.shiftKey) {</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const incrementer = this.getDirectionalIncrementer(key);</span><span class="s3">\n        </span><span class="s1">if (!incrementer) {</span><span class="s3">\n            </span><span class="s1">return !e.target.closest('[role=radiogroup]');</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const nextIndex = this.activeIndex + incrementer;</span><span class="s3">\n        </span><span class="s1">if (this.focusableElements[nextIndex]) {</span><span class="s3">\n            </span><span class="s1">e.preventDefault();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.setFocusedElement(nextIndex);</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* get all the slotted elements</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">get allSlottedItems() {</span><span class="s3">\n        </span><span class="s1">return [</span><span class="s3">\n            </span><span class="s1">...this.start.assignedElements(),</span><span class="s3">\n            </span><span class="s1">...this.slottedItems,</span><span class="s3">\n            </span><span class="s1">...this.end.assignedElements()</span><span class="s3">\n        </span><span class="s1">];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Prepare the slotted elements which can be focusable.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">reduceFocusableElements() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">const previousFocusedElement = (_a = this.focusableElements) === null || _a === void 0 ? void 0 : _a[this.activeIndex];</span><span class="s3">\n        </span><span class="s1">this.focusableElements = this.allSlottedItems.reduce(FoundationToolbar.reduceFocusableItems, []);</span><span class="s3">\n        </span><span class="s1">// If the previously active item is still focusable, adjust the active index to the</span><span class="s3">\n        </span><span class="s1">// index of that item.</span><span class="s3">\n        </span><span class="s1">const adjustedActiveIndex = this.focusableElements.indexOf(previousFocusedElement);</span><span class="s3">\n        </span><span class="s1">this.activeIndex = Math.max(0, adjustedActiveIndex);</span><span class="s3">\n        </span><span class="s1">this.setFocusableElements();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Set the activeIndex and focus the corresponding control.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param activeIndex - The new index to set</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setFocusedElement(activeIndex = this.activeIndex) {</span><span class="s3">\n        </span><span class="s1">this.activeIndex = activeIndex;</span><span class="s3">\n        </span><span class="s1">this.setFocusableElements();</span><span class="s3">\n        </span><span class="s1">if (this.focusableElements[this.activeIndex] &amp;&amp;</span><span class="s3">\n            </span><span class="s1">// Don't focus the toolbar element if some event handlers moved</span><span class="s3">\n            </span><span class="s1">// the focus on another element in the page.</span><span class="s3">\n            </span><span class="s1">this.contains(document.activeElement)) {</span><span class="s3">\n            </span><span class="s1">this.focusableElements[this.activeIndex].focus();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Reduce a collection to only its focusable elements.</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @param elements - Collection of elements to reduce</span><span class="s3">\n     </span><span class="s1">* @param element - The current element</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static reduceFocusableItems(elements, element) {</span><span class="s3">\n        </span><span class="s1">var _a, _b, _c, _d;</span><span class="s3">\n        </span><span class="s1">const isRoleRadio = element.getAttribute('role') === 'radio';</span><span class="s3">\n        </span><span class="s1">const isFocusableFastElement = (_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus;</span><span class="s3">\n        </span><span class="s1">const hasFocusableShadow = Array.from((_d = (_c = element.shadowRoot) === null || _c === void 0 ? void 0 : _c.querySelectorAll('*')) !== null &amp;&amp; _d !== void 0 ? _d : []).some(x =&gt; isFocusable(x));</span><span class="s3">\n        </span><span class="s1">if (!element.hasAttribute('disabled') &amp;&amp;</span><span class="s3">\n            </span><span class="s1">!element.hasAttribute('hidden') &amp;&amp;</span><span class="s3">\n            </span><span class="s1">(isFocusable(element) ||</span><span class="s3">\n                </span><span class="s1">isRoleRadio ||</span><span class="s3">\n                </span><span class="s1">isFocusableFastElement ||</span><span class="s3">\n                </span><span class="s1">hasFocusableShadow)) {</span><span class="s3">\n            </span><span class="s1">elements.push(element);</span><span class="s3">\n            </span><span class="s1">return elements;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (element.childElementCount) {</span><span class="s3">\n            </span><span class="s1">return elements.concat(Array.from(element.children).reduce(FoundationToolbar.reduceFocusableItems, []));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return elements;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setFocusableElements() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected &amp;&amp; this.focusableElements.length &gt; 0) {</span><span class="s3">\n            </span><span class="s1">this.focusableElements.forEach((element, index) =&gt; {</span><span class="s3">\n                </span><span class="s1">element.tabIndex = this.activeIndex === index ? 0 : -1;</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], FoundationToolbar.prototype, </span><span class="s3">\&quot;</span><span class="s1">direction</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], FoundationToolbar.prototype, </span><span class="s3">\&quot;</span><span class="s1">orientation</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], FoundationToolbar.prototype, </span><span class="s3">\&quot;</span><span class="s1">slottedItems</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], FoundationToolbar.prototype, </span><span class="s3">\&quot;</span><span class="s1">slottedLabel</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], FoundationToolbar.prototype, </span><span class="s3">\&quot;</span><span class="s1">childItems</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Includes ARIA states and properties relating to the ARIA toolbar role</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class DelegatesARIAToolbar {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: 'aria-labelledby' })</span><span class="s3">\n</span><span class="s1">], DelegatesARIAToolbar.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaLabelledby</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: 'aria-label' })</span><span class="s3">\n</span><span class="s1">], DelegatesARIAToolbar.prototype, </span><span class="s3">\&quot;</span><span class="s1">ariaLabel</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(DelegatesARIAToolbar, ARIAGlobalStatesAndProperties);</span><span class="s3">\n</span><span class="s1">applyMixins(FoundationToolbar, StartEnd, DelegatesARIAToolbar);</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-toolbar</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Toolbar extends FoundationToolbar {</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">const parent = composedParent(this);</span><span class="s3">\n        </span><span class="s1">if (parent) {</span><span class="s3">\n            </span><span class="s1">fillColor.setValueFor(this, (target) =&gt; neutralFillLayerRecipe</span><span class="s3">\n                </span><span class="s1">.getValueFor(target)</span><span class="s3">\n                </span><span class="s1">.evaluate(target, fillColor.getValueFor(parent)));</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Toolbar} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#toolbarTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-toolbar&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpToolbar = Toolbar.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'toolbar',</span><span class="s3">\n    </span><span class="s1">baseClass: FoundationToolbar,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {</span><span class="s3">\n        </span><span class="s1">delegatesFocus: true</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { styles as toolbarStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Enumerates possible tooltip positions</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const TooltipPosition = {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned above the element</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">top: </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned to the right of the element</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">right: </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned below the element</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bottom: </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned to the left of the element</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">left: </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned before the element</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">start: </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned after the element</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">end: </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned above the element and to the left</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">topLeft: </span><span class="s3">\&quot;</span><span class="s1">top-left</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned above the element and to the right</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">topRight: </span><span class="s3">\&quot;</span><span class="s1">top-right</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned below the element and to the left</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bottomLeft: </span><span class="s3">\&quot;</span><span class="s1">bottom-left</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned below the element and to the right</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bottomRight: </span><span class="s3">\&quot;</span><span class="s1">bottom-right</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned above the element and to the left</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">topStart: </span><span class="s3">\&quot;</span><span class="s1">top-start</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned above the element and to the right</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">topEnd: </span><span class="s3">\&quot;</span><span class="s1">top-end</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned below the element and to the left</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bottomStart: </span><span class="s3">\&quot;</span><span class="s1">bottom-start</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The tooltip is positioned below the element and to the right</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">bottomEnd: </span><span class="s3">\&quot;</span><span class="s1">bottom-end</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { Direction, keyEscape } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { getDirection } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/direction.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { TooltipPosition } from </span><span class="s3">\&quot;</span><span class="s1">./tooltip.options.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export { TooltipPosition };</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An Tooltip Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for the tooltip content</span><span class="s3">\n </span><span class="s1">* @csspart tooltip - The tooltip element</span><span class="s3">\n </span><span class="s1">* @fires dismiss - Fires a custom 'dismiss' event when the tooltip is visible and escape key is pressed</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Tooltip extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The id of the element the tooltip is anchored to</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @defaultValue - undefined</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: anchor</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.anchor = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The delay in milliseconds before a tooltip is shown after a hover event</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @defaultValue - 300</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: delay</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.delay = 300;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Controls when the tooltip updates its position, default is 'anchor' which only updates when</span><span class="s3">\n         </span><span class="s1">* the anchor is resized.  'auto' will update on scroll/resize events.</span><span class="s3">\n         </span><span class="s1">* Corresponds to anchored-region auto-update-mode.</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: auto-update-mode</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.autoUpdateMode = </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* the html element currently being used as anchor.</span><span class="s3">\n         </span><span class="s1">* Setting this directly overrides the anchor attribute.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.anchorElement = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The current viewport element instance</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.viewportElement = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">* @defaultValue </span><span class="s3">\&quot;</span><span class="s1">dynamic</span><span class="s3">\&quot;\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.verticalPositioningMode = </span><span class="s3">\&quot;</span><span class="s1">dynamic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">* @defaultValue </span><span class="s3">\&quot;</span><span class="s1">dynamic</span><span class="s3">\&quot;\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.horizontalPositioningMode = </span><span class="s3">\&quot;</span><span class="s1">dynamic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.horizontalInset = </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.verticalInset = </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.horizontalScaling = </span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.verticalScaling = </span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.verticalDefaultPosition = undefined;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.horizontalDefaultPosition = undefined;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.tooltipVisible = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Track current direction to pass to the anchored region</span><span class="s3">\n         </span><span class="s1">* updated when tooltip is shown</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.currentDirection = Direction.ltr;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The timer that tracks delay time before the tooltip is shown on hover</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.showDelayTimer = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The timer that tracks delay time before the tooltip is hidden</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.hideDelayTimer = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Indicates whether the anchor is currently being hovered or has focus</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isAnchorHoveredFocused = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Indicates whether the region is currently being hovered</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isRegionHovered = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* invoked when the anchored region's position relative to the anchor changes</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handlePositionChange = (ev) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">, this.region.verticalPosition === </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">, this.region.verticalPosition === </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">inset-top</span><span class="s3">\&quot;</span><span class="s1">, this.region.verticalPosition === </span><span class="s3">\&quot;</span><span class="s1">insetStart</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">inset-bottom</span><span class="s3">\&quot;</span><span class="s1">, this.region.verticalPosition === </span><span class="s3">\&quot;</span><span class="s1">insetEnd</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">center-vertical</span><span class="s3">\&quot;</span><span class="s1">, this.region.verticalPosition === </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">, this.region.horizontalPosition === </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">, this.region.horizontalPosition === </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">inset-left</span><span class="s3">\&quot;</span><span class="s1">, this.region.horizontalPosition === </span><span class="s3">\&quot;</span><span class="s1">insetStart</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">inset-right</span><span class="s3">\&quot;</span><span class="s1">, this.region.horizontalPosition === </span><span class="s3">\&quot;</span><span class="s1">insetEnd</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.classList.toggle(</span><span class="s3">\&quot;</span><span class="s1">center-horizontal</span><span class="s3">\&quot;</span><span class="s1">, this.region.horizontalPosition === </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* mouse enters region</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleRegionMouseOver = (ev) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.isRegionHovered = true;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* mouse leaves region</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleRegionMouseOut = (ev) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.isRegionHovered = false;</span><span class="s3">\n            </span><span class="s1">this.startHideDelayTimer();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* mouse enters anchor</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleAnchorMouseOver = (ev) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.tooltipVisible) {</span><span class="s3">\n                </span><span class="s1">// tooltip is already visible, just set the anchor hover flag</span><span class="s3">\n                </span><span class="s1">this.isAnchorHoveredFocused = true;</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.startShowDelayTimer();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* mouse leaves anchor</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleAnchorMouseOut = (ev) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.isAnchorHoveredFocused = false;</span><span class="s3">\n            </span><span class="s1">this.clearShowDelayTimer();</span><span class="s3">\n            </span><span class="s1">this.startHideDelayTimer();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* anchor gets focus</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleAnchorFocusIn = (ev) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.startShowDelayTimer();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* anchor loses focus</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleAnchorFocusOut = (ev) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.isAnchorHoveredFocused = false;</span><span class="s3">\n            </span><span class="s1">this.clearShowDelayTimer();</span><span class="s3">\n            </span><span class="s1">this.startHideDelayTimer();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* starts the hide timer</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.startHideDelayTimer = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.clearHideDelayTimer();</span><span class="s3">\n            </span><span class="s1">if (!this.tooltipVisible) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// allow 60 ms for account for pointer to move between anchor/tooltip</span><span class="s3">\n            </span><span class="s1">// without hiding tooltip</span><span class="s3">\n            </span><span class="s1">this.hideDelayTimer = window.setTimeout(() =&gt; {</span><span class="s3">\n                </span><span class="s1">this.updateTooltipVisibility();</span><span class="s3">\n            </span><span class="s1">}, 60);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* clears the hide delay</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.clearHideDelayTimer = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.hideDelayTimer !== null) {</span><span class="s3">\n                </span><span class="s1">clearTimeout(this.hideDelayTimer);</span><span class="s3">\n                </span><span class="s1">this.hideDelayTimer = null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* starts the show timer if not currently running</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.startShowDelayTimer = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.isAnchorHoveredFocused) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.delay &gt; 1) {</span><span class="s3">\n                </span><span class="s1">if (this.showDelayTimer === null)</span><span class="s3">\n                    </span><span class="s1">this.showDelayTimer = window.setTimeout(() =&gt; {</span><span class="s3">\n                        </span><span class="s1">this.startHover();</span><span class="s3">\n                    </span><span class="s1">}, this.delay);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.startHover();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* start hover</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.startHover = () =&gt; {</span><span class="s3">\n            </span><span class="s1">this.isAnchorHoveredFocused = true;</span><span class="s3">\n            </span><span class="s1">this.updateTooltipVisibility();</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* clears the show delay</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.clearShowDelayTimer = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.showDelayTimer !== null) {</span><span class="s3">\n                </span><span class="s1">clearTimeout(this.showDelayTimer);</span><span class="s3">\n                </span><span class="s1">this.showDelayTimer = null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Gets the anchor element by id</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.getAnchor = () =&gt; {</span><span class="s3">\n            </span><span class="s1">const rootNode = this.getRootNode();</span><span class="s3">\n            </span><span class="s1">if (rootNode instanceof ShadowRoot) {</span><span class="s3">\n                </span><span class="s1">return rootNode.getElementById(this.anchor);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return document.getElementById(this.anchor);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* handles key down events to check for dismiss</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleDocumentKeydown = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!e.defaultPrevented &amp;&amp; this.tooltipVisible) {</span><span class="s3">\n                </span><span class="s1">switch (e.key) {</span><span class="s3">\n                    </span><span class="s1">case keyEscape:</span><span class="s3">\n                        </span><span class="s1">this.isAnchorHoveredFocused = false;</span><span class="s3">\n                        </span><span class="s1">this.updateTooltipVisibility();</span><span class="s3">\n                        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">dismiss</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                        </span><span class="s1">break;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* determines whether to show or hide the tooltip based on current state</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.updateTooltipVisibility = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.visible === false) {</span><span class="s3">\n                </span><span class="s1">this.hideTooltip();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (this.visible === true) {</span><span class="s3">\n                </span><span class="s1">this.showTooltip();</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">if (this.isAnchorHoveredFocused || this.isRegionHovered) {</span><span class="s3">\n                    </span><span class="s1">this.showTooltip();</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">this.hideTooltip();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* shows the tooltip</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.showTooltip = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.tooltipVisible) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.currentDirection = getDirection(this);</span><span class="s3">\n            </span><span class="s1">this.tooltipVisible = true;</span><span class="s3">\n            </span><span class="s1">document.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">, this.handleDocumentKeydown);</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(this.setRegionProps);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* hides the tooltip</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.hideTooltip = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.tooltipVisible) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.clearHideDelayTimer();</span><span class="s3">\n            </span><span class="s1">if (this.region !== null &amp;&amp; this.region !== undefined) {</span><span class="s3">\n                </span><span class="s1">this.region.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">positionchange</span><span class="s3">\&quot;</span><span class="s1">, this.handlePositionChange);</span><span class="s3">\n                </span><span class="s1">this.region.viewportElement = null;</span><span class="s3">\n                </span><span class="s1">this.region.anchorElement = null;</span><span class="s3">\n                </span><span class="s1">this.region.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">mouseover</span><span class="s3">\&quot;</span><span class="s1">, this.handleRegionMouseOver);</span><span class="s3">\n                </span><span class="s1">this.region.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">mouseout</span><span class="s3">\&quot;</span><span class="s1">, this.handleRegionMouseOut);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">document.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">keydown</span><span class="s3">\&quot;</span><span class="s1">, this.handleDocumentKeydown);</span><span class="s3">\n            </span><span class="s1">this.tooltipVisible = false;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* updates the tooltip anchored region props after it has been</span><span class="s3">\n         </span><span class="s1">* added to the DOM</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.setRegionProps = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.tooltipVisible) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.region.viewportElement = this.viewportElement;</span><span class="s3">\n            </span><span class="s1">this.region.anchorElement = this.anchorElement;</span><span class="s3">\n            </span><span class="s1">this.region.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">positionchange</span><span class="s3">\&quot;</span><span class="s1">, this.handlePositionChange);</span><span class="s3">\n            </span><span class="s1">this.region.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">mouseover</span><span class="s3">\&quot;</span><span class="s1">, this.handleRegionMouseOver, {</span><span class="s3">\n                </span><span class="s1">passive: true,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">this.region.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">mouseout</span><span class="s3">\&quot;</span><span class="s1">, this.handleRegionMouseOut, {</span><span class="s3">\n                </span><span class="s1">passive: true,</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">visibleChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateTooltipVisibility();</span><span class="s3">\n            </span><span class="s1">this.updateLayout();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">anchorChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.anchorElement = this.getAnchor();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">positionChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateLayout();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">anchorElementChanged(oldValue) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">if (oldValue !== null &amp;&amp; oldValue !== undefined) {</span><span class="s3">\n                </span><span class="s1">oldValue.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">mouseover</span><span class="s3">\&quot;</span><span class="s1">, this.handleAnchorMouseOver);</span><span class="s3">\n                </span><span class="s1">oldValue.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">mouseout</span><span class="s3">\&quot;</span><span class="s1">, this.handleAnchorMouseOut);</span><span class="s3">\n                </span><span class="s1">oldValue.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">focusin</span><span class="s3">\&quot;</span><span class="s1">, this.handleAnchorFocusIn);</span><span class="s3">\n                </span><span class="s1">oldValue.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">focusout</span><span class="s3">\&quot;</span><span class="s1">, this.handleAnchorFocusOut);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.anchorElement !== null &amp;&amp; this.anchorElement !== undefined) {</span><span class="s3">\n                </span><span class="s1">this.anchorElement.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">mouseover</span><span class="s3">\&quot;</span><span class="s1">, this.handleAnchorMouseOver, { passive: true });</span><span class="s3">\n                </span><span class="s1">this.anchorElement.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">mouseout</span><span class="s3">\&quot;</span><span class="s1">, this.handleAnchorMouseOut, { passive: true });</span><span class="s3">\n                </span><span class="s1">this.anchorElement.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">focusin</span><span class="s3">\&quot;</span><span class="s1">, this.handleAnchorFocusIn, {</span><span class="s3">\n                    </span><span class="s1">passive: true,</span><span class="s3">\n                </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">this.anchorElement.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">focusout</span><span class="s3">\&quot;</span><span class="s1">, this.handleAnchorFocusOut, { passive: true });</span><span class="s3">\n                </span><span class="s1">const anchorId = this.anchorElement.id;</span><span class="s3">\n                </span><span class="s1">if (this.anchorElement.parentElement !== null) {</span><span class="s3">\n                    </span><span class="s1">this.anchorElement.parentElement</span><span class="s3">\n                        </span><span class="s1">.querySelectorAll(</span><span class="s3">\&quot;</span><span class="s1">:hover</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n                        </span><span class="s1">.forEach(element =&gt; {</span><span class="s3">\n                        </span><span class="s1">if (element.id === anchorId) {</span><span class="s3">\n                            </span><span class="s1">this.startShowDelayTimer();</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.region !== null &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.region !== undefined &amp;&amp;</span><span class="s3">\n                </span><span class="s1">this.tooltipVisible) {</span><span class="s3">\n                </span><span class="s1">this.region.anchorElement = this.anchorElement;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.updateLayout();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">viewportElementChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.region !== null &amp;&amp; this.region !== undefined) {</span><span class="s3">\n            </span><span class="s1">this.region.viewportElement = this.viewportElement;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.updateLayout();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.anchorElement = this.getAnchor();</span><span class="s3">\n        </span><span class="s1">this.updateTooltipVisibility();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">this.hideTooltip();</span><span class="s3">\n        </span><span class="s1">this.clearShowDelayTimer();</span><span class="s3">\n        </span><span class="s1">this.clearHideDelayTimer();</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* updated the properties being passed to the anchored region</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateLayout() {</span><span class="s3">\n        </span><span class="s1">this.verticalPositioningMode = </span><span class="s3">\&quot;</span><span class="s1">locktodefault</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.horizontalPositioningMode = </span><span class="s3">\&quot;</span><span class="s1">locktodefault</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">switch (this.position) {</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.top:</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.bottom:</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = this.position;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.right:</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.left:</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.start:</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.end:</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = this.position;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.topLeft:</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.topRight:</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.bottomLeft:</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">left</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.bottomRight:</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">right</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.topStart:</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.topEnd:</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.bottomStart:</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">start</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">case TooltipPosition.bottomEnd:</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">default:</span><span class="s3">\n                </span><span class="s1">this.verticalPositioningMode = </span><span class="s3">\&quot;</span><span class="s1">dynamic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.horizontalPositioningMode = </span><span class="s3">\&quot;</span><span class="s1">dynamic</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">this.verticalDefaultPosition = void 0;</span><span class="s3">\n                </span><span class="s1">this.horizontalDefaultPosition = </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n                </span><span class="s1">break;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">visible</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">delay</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">position</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">auto-update-mode</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">autoUpdateMode</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">horizontal-viewport-lock</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalViewportLock</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">vertical-viewport-lock</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalViewportLock</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">anchorElement</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">viewportElement</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalPositioningMode</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalPositioningMode</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalInset</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalInset</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalScaling</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalScaling</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">verticalDefaultPosition</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">horizontalDefaultPosition</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">tooltipVisible</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Tooltip.prototype, </span><span class="s3">\&quot;</span><span class="s1">currentDirection</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { AnchoredRegion } from </span><span class="s3">\&quot;</span><span class="s1">../anchored-region/anchored-region.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Creates a template for the {@link @microsoft/fast-foundation#(Tooltip:class)} component using the provided prefix.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const tooltipTemplate = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; x.tooltipVisible, html `</span><span class="s3">\n            </span><span class="s1">&lt;${context.tagFor(AnchoredRegion)}</span><span class="s3">\n                </span><span class="s1">fixed-placement=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;\n                </span><span class="s1">auto-update-mode=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.autoUpdateMode}</span><span class="s3">\&quot;\n                </span><span class="s1">vertical-positioning-mode=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.verticalPositioningMode}</span><span class="s3">\&quot;\n                </span><span class="s1">vertical-default-position=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.verticalDefaultPosition}</span><span class="s3">\&quot;\n                </span><span class="s1">vertical-inset=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.verticalInset}</span><span class="s3">\&quot;\n                </span><span class="s1">vertical-scaling=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.verticalScaling}</span><span class="s3">\&quot;\n                </span><span class="s1">horizontal-positioning-mode=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.horizontalPositioningMode}</span><span class="s3">\&quot;\n                </span><span class="s1">horizontal-default-position=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.horizontalDefaultPosition}</span><span class="s3">\&quot;\n                </span><span class="s1">horizontal-scaling=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.horizontalScaling}</span><span class="s3">\&quot;\n                </span><span class="s1">horizontal-inset=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.horizontalInset}</span><span class="s3">\&quot;\n                </span><span class="s1">vertical-viewport-lock=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.horizontalViewportLock}</span><span class="s3">\&quot;\n                </span><span class="s1">horizontal-viewport-lock=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.verticalViewportLock}</span><span class="s3">\&quot;\n                </span><span class="s1">dir=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.currentDirection}</span><span class="s3">\&quot;\n                </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">region</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n            </span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">tooltip</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">tooltip</span><span class="s3">\&quot; </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">tooltip</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/${context.tagFor(AnchoredRegion)}&gt;</span><span class="s3">\n        </span><span class="s1">`)}</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { AnchoredRegion, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { bodyFont, controlCornerRadius, focusStrokeOuter, neutralFillRest, neutralForegroundRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Tooltip</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const tooltipStyles = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">const anchoredRegionTag = context.tagFor(AnchoredRegion);</span><span class="s3">\n    </span><span class="s1">return css `</span><span class="s3">\n    </span><span class="s1">:host {</span><span class="s3">\n      </span><span class="s1">contain: size;</span><span class="s3">\n      </span><span class="s1">overflow: visible;</span><span class="s3">\n      </span><span class="s1">height: 0;</span><span class="s3">\n      </span><span class="s1">width: 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.tooltip {</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${focusStrokeOuter};</span><span class="s3">\n      </span><span class="s1">box-shadow: 0 0 0 1px ${focusStrokeOuter} inset;</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillRest};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">padding: 4px;</span><span class="s3">\n      </span><span class="s1">height: fit-content;</span><span class="s3">\n      </span><span class="s1">width: fit-content;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">white-space: nowrap;</span><span class="s3">\n      </span><span class="s1">/* TODO: a mechanism to manage z-index across components</span><span class="s3">\n                    </span><span class="s1">https://github.com/microsoft/fast/issues/3813 */</span><span class="s3">\n      </span><span class="s1">z-index: 10000;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${anchoredRegionTag} {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">justify-content: center;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">overflow: visible;</span><span class="s3">\n      </span><span class="s1">flex-direction: row;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${anchoredRegionTag}.right,</span><span class="s3">\n    </span><span class="s1">${anchoredRegionTag}.left {</span><span class="s3">\n      </span><span class="s1">flex-direction: column;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${anchoredRegionTag}.top .tooltip {</span><span class="s3">\n      </span><span class="s1">margin-bottom: 4px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${anchoredRegionTag}.bottom .tooltip {</span><span class="s3">\n      </span><span class="s1">margin-top: 4px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${anchoredRegionTag}.left .tooltip {</span><span class="s3">\n      </span><span class="s1">margin-right: 4px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${anchoredRegionTag}.right .tooltip {</span><span class="s3">\n      </span><span class="s1">margin-left: 4px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${anchoredRegionTag}.top.left .tooltip,</span><span class="s3">\n            </span><span class="s1">${anchoredRegionTag}.top.right .tooltip {</span><span class="s3">\n      </span><span class="s1">margin-bottom: 0px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${anchoredRegionTag}.bottom.left .tooltip,</span><span class="s3">\n            </span><span class="s1">${anchoredRegionTag}.bottom.right .tooltip {</span><span class="s3">\n      </span><span class="s1">margin-top: 0px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${anchoredRegionTag}.top.left .tooltip,</span><span class="s3">\n            </span><span class="s1">${anchoredRegionTag}.bottom.left .tooltip {</span><span class="s3">\n      </span><span class="s1">margin-right: 0px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${anchoredRegionTag}.top.right .tooltip,</span><span class="s3">\n            </span><span class="s1">${anchoredRegionTag}.bottom.right .tooltip {</span><span class="s3">\n      </span><span class="s1">margin-left: 0px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host([disabled]) {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { tooltipTemplate as template, Tooltip } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { tooltipStyles as styles } from './tooltip.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Tooltip class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-tooltip</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterTooltip extends Tooltip {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#Tooltip} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#tooltipTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-tooltip&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpTooltip = JupyterTooltip.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'tooltip',</span><span class="s3">\n    </span><span class="s1">baseClass: Tooltip,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterTooltip as Tooltip, styles as tooltipStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { isHTMLElement } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { StartEnd } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { applyMixins } from </span><span class="s3">\&quot;</span><span class="s1">../utilities/apply-mixins.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement, } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* check if the item is a tree item</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* determines if element is an HTMLElement and if it has the role treeitem</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function isTreeItemElement(el) {</span><span class="s3">\n    </span><span class="s1">return isHTMLElement(el) &amp;&amp; el.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">treeitem</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Tree item Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot start - Content which can be provided before the tree item content</span><span class="s3">\n </span><span class="s1">* @slot end - Content which can be provided after the tree item content</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for tree item text content</span><span class="s3">\n </span><span class="s1">* @slot item - The slot for tree items (fast tree items manage this assignment themselves)</span><span class="s3">\n </span><span class="s1">* @slot expand-collapse-button - The expand/collapse button</span><span class="s3">\n </span><span class="s1">* @csspart positioning-region - The element used to position the tree item content with exception of any child nodes</span><span class="s3">\n </span><span class="s1">* @csspart content-region - The element containing the expand/collapse, start, and end slots</span><span class="s3">\n </span><span class="s1">* @csspart items - The element wrapping any child items</span><span class="s3">\n </span><span class="s1">* @csspart expand-collapse-button - The expand/collapse button</span><span class="s3">\n </span><span class="s1">* @fires expanded-change - Fires a custom 'expanded-change' event when the expanded state changes</span><span class="s3">\n </span><span class="s1">* @fires selected-change - Fires a custom 'selected-change' event when the selected state changes</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class TreeItem extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* When true, the control will be appear expanded by user interaction.</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: expanded</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.expanded = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether the item is focusable</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.focusable = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether the tree is nested</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @public</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isNestedItem = () =&gt; {</span><span class="s3">\n            </span><span class="s1">return isTreeItemElement(this.parentElement);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Handle expand button click</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleExpandCollapseButtonClick = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.disabled &amp;&amp; !e.defaultPrevented) {</span><span class="s3">\n                </span><span class="s1">this.expanded = !this.expanded;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Handle focus events</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleFocus = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Handle blur events</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleBlur = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">expandedChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">expanded-change</span><span class="s3">\&quot;</span><span class="s1">, this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">selectedChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">selected-change</span><span class="s3">\&quot;</span><span class="s1">, this);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">itemsChanged(oldValue, newValue) {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.items.forEach((node) =&gt; {</span><span class="s3">\n                </span><span class="s1">if (isTreeItemElement(node)) {</span><span class="s3">\n                    </span><span class="s1">// TODO: maybe not require it to be a TreeItem?</span><span class="s3">\n                    </span><span class="s1">node.nested = true;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Places document focus on a tree item</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">* @param el - the element to focus</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">static focusItem(el) {</span><span class="s3">\n        </span><span class="s1">el.focusable = true;</span><span class="s3">\n        </span><span class="s1">el.focus();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets number of children</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">childItemLength() {</span><span class="s3">\n        </span><span class="s1">const treeChildren = this.childItems.filter((item) =&gt; {</span><span class="s3">\n            </span><span class="s1">return isTreeItemElement(item);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">return treeChildren ? treeChildren.length : 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TreeItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">expanded</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TreeItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TreeItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], TreeItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">focusable</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], TreeItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">childItems</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], TreeItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">items</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], TreeItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">nested</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], TreeItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">renderCollapsedChildren</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">applyMixins(TreeItem, StartEnd);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { children, elements, html, ref, slotted, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { endSlotTemplate, startSlotTemplate } from </span><span class="s3">\&quot;</span><span class="s1">../patterns/start-end.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#(TreeItem:class)} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const treeItemTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">treeitem</span><span class="s3">\&quot;\n        </span><span class="s1">slot=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.isNestedItem() ? </span><span class="s3">\&quot;</span><span class="s1">item</span><span class="s3">\&quot; </span><span class="s1">: void 0)}</span><span class="s3">\&quot;\n        </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;\n        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; (x.expanded ? </span><span class="s3">\&quot;</span><span class="s1">expanded</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)} ${x =&gt; x.selected ? </span><span class="s3">\&quot;</span><span class="s1">selected</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">} ${x =&gt; (x.nested ? </span><span class="s3">\&quot;</span><span class="s1">nested</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\n            </span><span class="s1">${x =&gt; (x.disabled ? </span><span class="s3">\&quot;</span><span class="s1">disabled</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-expanded=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.childItems &amp;&amp; x.childItemLength() &gt; 0 ? x.expanded : void 0}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-selected=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.selected}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-disabled=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.disabled}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusin=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleFocus(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusout=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleBlur(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">${children({</span><span class="s3">\n    </span><span class="s1">property: </span><span class="s3">\&quot;</span><span class="s1">childItems</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">filter: elements(),</span><span class="s3">\n</span><span class="s1">})}</span><span class="s3">\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">positioning-region</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">positioning-region</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">content-region</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">content-region</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">${when(x =&gt; x.childItems &amp;&amp; x.childItemLength() &gt; 0, html `</span><span class="s3">\n                        </span><span class="s1">&lt;div</span><span class="s3">\n                            </span><span class="s1">aria-hidden=</span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;\n                            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse-button</span><span class="s3">\&quot;\n                            </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse-button</span><span class="s3">\&quot;\n                            </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleExpandCollapseButtonClick(c.event)}</span><span class="s3">\&quot;\n                            </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">expandCollapseButton</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n                        </span><span class="s1">&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse-glyph</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                                </span><span class="s1">${definition.expandCollapseGlyph || </span><span class="s3">\&quot;\&quot;</span><span class="s1">}</span><span class="s3">\n                            </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                    </span><span class="s1">`)}</span><span class="s3">\n                </span><span class="s1">${startSlotTemplate(context, definition)}</span><span class="s3">\n                </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">${endSlotTemplate(context, definition)}</span><span class="s3">\n            </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n        </span><span class="s1">${when(x =&gt; x.childItems &amp;&amp;</span><span class="s3">\n    </span><span class="s1">x.childItemLength() &gt; 0 &amp;&amp;</span><span class="s3">\n    </span><span class="s1">(x.expanded || x.renderCollapsedChildren), html `</span><span class="s3">\n                </span><span class="s1">&lt;div role=</span><span class="s3">\&quot;</span><span class="s1">group</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">items</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">items</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">item</span><span class="s3">\&quot; </span><span class="s1">${slotted(</span><span class="s3">\&quot;</span><span class="s1">items</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css, cssPartial } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { DesignToken, disabledCursor, display, focusVisible, forcedColorsStylesheetBehavior, TreeItem } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillFocus, accentForegroundRest, baseHeightMultiplier, bodyFont, controlCornerRadius, density, designUnit, disabledOpacity, focusStrokeWidth, neutralFillActive, neutralFillHover, neutralFillRecipe, neutralFillRest, neutralFillStealthActive, neutralFillStealthHover, neutralFillStealthRecipe, neutralFillStealthRest, neutralForegroundRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight, typeRampPlus1FontSize } from '../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { DirectionalStyleSheetBehavior, heightNumber } from '../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Tree item expand collapse button size CSS Partial</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const expandCollapseButtonSize = cssPartial `(((${baseHeightMultiplier} + ${density}) * 0.5 + 2) * ${designUnit})`;</span><span class="s3">\n</span><span class="s1">const ltr = css `</span><span class="s3">\n  </span><span class="s1">.expand-collapse-glyph {</span><span class="s3">\n    </span><span class="s1">transform: rotate(0deg);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">:host(.nested) .expand-collapse-button {</span><span class="s3">\n    </span><span class="s1">left: var(</span><span class="s3">\n      </span><span class="s1">--expand-collapse-button-nested-width,</span><span class="s3">\n      </span><span class="s1">calc(</span><span class="s3">\n        </span><span class="s1">(</span><span class="s3">\n            </span><span class="s1">${expandCollapseButtonSize} +</span><span class="s3">\n              </span><span class="s1">((${baseHeightMultiplier} + ${density}) * 1.25)</span><span class="s3">\n          </span><span class="s1">) * -1px</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">:host([selected])::after {</span><span class="s3">\n    </span><span class="s1">left: calc(${focusStrokeWidth} * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">:host([expanded]) &gt; .positioning-region .expand-collapse-glyph {</span><span class="s3">\n    </span><span class="s1">transform: rotate(90deg);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">const rtl = css `</span><span class="s3">\n  </span><span class="s1">.expand-collapse-glyph {</span><span class="s3">\n    </span><span class="s1">transform: rotate(180deg);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">:host(.nested) .expand-collapse-button {</span><span class="s3">\n    </span><span class="s1">right: var(</span><span class="s3">\n      </span><span class="s1">--expand-collapse-button-nested-width,</span><span class="s3">\n      </span><span class="s1">calc(</span><span class="s3">\n        </span><span class="s1">(</span><span class="s3">\n            </span><span class="s1">${expandCollapseButtonSize} +</span><span class="s3">\n              </span><span class="s1">((${baseHeightMultiplier} + ${density}) * 1.25)</span><span class="s3">\n          </span><span class="s1">) * -1px</span><span class="s3">\n      </span><span class="s1">)</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">:host([selected])::after {</span><span class="s3">\n    </span><span class="s1">right: calc(${focusStrokeWidth} * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">:host([expanded]) &gt; .positioning-region .expand-collapse-glyph {</span><span class="s3">\n    </span><span class="s1">transform: rotate(90deg);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">const expandCollapseHoverBehavior = DesignToken.create('tree-item-expand-collapse-hover').withDefault((target) =&gt; {</span><span class="s3">\n    </span><span class="s1">const recipe = neutralFillStealthRecipe.getValueFor(target);</span><span class="s3">\n    </span><span class="s1">return recipe.evaluate(target, recipe.evaluate(target).hover).hover;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">const selectedExpandCollapseHoverBehavior = DesignToken.create('tree-item-expand-collapse-selected-hover').withDefault((target) =&gt; {</span><span class="s3">\n    </span><span class="s1">const baseRecipe = neutralFillRecipe.getValueFor(target);</span><span class="s3">\n    </span><span class="s1">const buttonRecipe = neutralFillStealthRecipe.getValueFor(target);</span><span class="s3">\n    </span><span class="s1">return buttonRecipe.evaluate(target, baseRecipe.evaluate(target).rest).hover;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Tree Item</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const treeItemStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* This animation exists because when tree item children are conditionally loaded</span><span class="s3">\n     </span><span class="s1">* there is a visual bug where the DOM exists but styles have not yet been applied (essentially FOUC).</span><span class="s3">\n     </span><span class="s1">* This subtle animation provides a ever so slight timing adjustment for loading that solves the issue.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">@keyframes treeItemLoading {</span><span class="s3">\n      </span><span class="s1">0% {</span><span class="s3">\n        </span><span class="s1">opacity: 0;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">100% {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">${display('block')} :host {</span><span class="s3">\n      </span><span class="s1">contain: content;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthRest};</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">--tree-item-nested-width: 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:focus) &gt; .positioning-region {</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:focus) .content-region {</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:${focusVisible}) .positioning-region {</span><span class="s3">\n      </span><span class="s1">border-color: ${accentFillFocus};</span><span class="s3">\n      </span><span class="s1">box-shadow: 0 0 0 calc((${focusStrokeWidth} - ${strokeWidth}) * 1px)</span><span class="s3">\n        </span><span class="s1">${accentFillFocus} inset;</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.positioning-region {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthRest};</span><span class="s3">\n      </span><span class="s1">border: transparent calc(${strokeWidth} * 1px) solid;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">height: calc((${heightNumber} + 1) * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.positioning-region::before {</span><span class="s3">\n      </span><span class="s1">content: '';</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n      </span><span class="s1">width: var(--tree-item-nested-width);</span><span class="s3">\n      </span><span class="s1">flex-shrink: 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled])) .positioning-region:hover {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:not([disabled])) .positioning-region:active {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.content-region {</span><span class="s3">\n      </span><span class="s1">display: inline-flex;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">white-space: nowrap;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">min-width: 0;</span><span class="s3">\n      </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n      </span><span class="s1">margin-inline-start: calc(${designUnit} * 2px + 8px);</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">font-weight: 400;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.items {</span><span class="s3">\n      </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n      </span><span class="s1">font-size: calc(1em + (${designUnit} + 16) * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.expand-collapse-button {</span><span class="s3">\n      </span><span class="s1">background: none;</span><span class="s3">\n      </span><span class="s1">border: none;</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n      </span><span class="s1">width: calc(${expandCollapseButtonSize} * 1px);</span><span class="s3">\n      </span><span class="s1">height: calc(${expandCollapseButtonSize} * 1px);</span><span class="s3">\n      </span><span class="s1">padding: 0;</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">justify-content: center;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">margin-left: 6px;</span><span class="s3">\n      </span><span class="s1">margin-right: 6px;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.expand-collapse-glyph {</span><span class="s3">\n      </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n      </span><span class="s1">width: calc((16 + ${density}) * 1px);</span><span class="s3">\n      </span><span class="s1">height: calc((16 + ${density}) * 1px);</span><span class="s3">\n      </span><span class="s1">transition: transform 0.1s linear;</span><span class="s3">\n\n      </span><span class="s1">pointer-events: none;</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.start,</span><span class="s3">\n    </span><span class="s1">.end {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(svg) {</span><span class="s3">\n      </span><span class="s1">/* TODO: adaptive typography https://github.com/microsoft/fast/issues/2432 */</span><span class="s3">\n      </span><span class="s1">width: 16px;</span><span class="s3">\n      </span><span class="s1">height: 16px;</span><span class="s3">\n\n      </span><span class="s1">/* Something like that would do if the typography is adaptive</span><span class="s3">\n      </span><span class="s1">font-size: inherit;</span><span class="s3">\n      </span><span class="s1">width: ${typeRampPlus1FontSize};</span><span class="s3">\n      </span><span class="s1">height: ${typeRampPlus1FontSize};</span><span class="s3">\n      </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.start {</span><span class="s3">\n      </span><span class="s1">/* TODO: horizontalSpacing https://github.com/microsoft/fast/issues/2766 */</span><span class="s3">\n      </span><span class="s1">margin-inline-end: calc(${designUnit} * 2px + 2px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.end {</span><span class="s3">\n      </span><span class="s1">/* TODO: horizontalSpacing https://github.com/microsoft/fast/issues/2766 */</span><span class="s3">\n      </span><span class="s1">margin-inline-start: calc(${designUnit} * 2px + 2px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([expanded]) &gt; .items {</span><span class="s3">\n      </span><span class="s1">animation: treeItemLoading ease-in 10ms;</span><span class="s3">\n      </span><span class="s1">animation-iteration-count: 1;</span><span class="s3">\n      </span><span class="s1">animation-fill-mode: forwards;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([disabled]) .content-region {</span><span class="s3">\n      </span><span class="s1">opacity: ${disabledOpacity};</span><span class="s3">\n      </span><span class="s1">cursor: ${disabledCursor};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.nested) .content-region {</span><span class="s3">\n      </span><span class="s1">position: relative;</span><span class="s3">\n      </span><span class="s1">/* Add left margin to collapse button size */</span><span class="s3">\n      </span><span class="s1">margin-inline-start: calc(</span><span class="s3">\n        </span><span class="s1">(</span><span class="s3">\n            </span><span class="s1">${expandCollapseButtonSize} +</span><span class="s3">\n              </span><span class="s1">((${baseHeightMultiplier} + ${density}) * 1.25)</span><span class="s3">\n          </span><span class="s1">) * 1px</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.nested) .expand-collapse-button {</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(.nested:not([disabled])) .expand-collapse-button:hover {</span><span class="s3">\n      </span><span class="s1">background: ${expandCollapseHoverBehavior};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([selected]) .positioning-region {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([selected]:not([disabled])) .positioning-region:hover {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([selected]:not([disabled])) .positioning-region:active {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([selected]:not([disabled])) .expand-collapse-button:hover {</span><span class="s3">\n      </span><span class="s1">background: ${selectedExpandCollapseHoverBehavior};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([selected])::after {</span><span class="s3">\n      </span><span class="s1">/* The background needs to be calculated based on the selected background state</span><span class="s3">\n         </span><span class="s1">for this control. We currently have no way of changing that, so setting to</span><span class="s3">\n         </span><span class="s1">accent-foreground-rest for the time being */</span><span class="s3">\n      </span><span class="s1">background: ${accentForegroundRest};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">content: '';</span><span class="s3">\n      </span><span class="s1">display: block;</span><span class="s3">\n      </span><span class="s1">position: absolute;</span><span class="s3">\n      </span><span class="s1">top: calc((${heightNumber} / 4) * 1px);</span><span class="s3">\n      </span><span class="s1">width: 3px;</span><span class="s3">\n      </span><span class="s1">height: calc((${heightNumber} / 2) * 1px);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">::slotted(${context.tagFor(TreeItem)}) {</span><span class="s3">\n      </span><span class="s1">--tree-item-nested-width: 1em;</span><span class="s3">\n      </span><span class="s1">--expand-collapse-button-nested-width: calc(</span><span class="s3">\n        </span><span class="s1">(</span><span class="s3">\n            </span><span class="s1">${expandCollapseButtonSize} +</span><span class="s3">\n              </span><span class="s1">((${baseHeightMultiplier} + ${density}) * 1.25)</span><span class="s3">\n          </span><span class="s1">) * -1px</span><span class="s3">\n      </span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(new DirectionalStyleSheetBehavior(ltr, rtl), forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">border-color: transparent;</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host .content-region .expand-collapse-glyph {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host .positioning-region:hover,</span><span class="s3">\n      </span><span class="s1">:host([selected]) .positioning-region {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host .positioning-region:hover .content-region,</span><span class="s3">\n      </span><span class="s1">:host([selected]) .positioning-region .content-region {</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host .positioning-region:hover .content-region .expand-collapse-glyph,</span><span class="s3">\n      </span><span class="s1">:host .positioning-region:hover .content-region .start,</span><span class="s3">\n      </span><span class="s1">:host .positioning-region:hover .content-region .end,</span><span class="s3">\n      </span><span class="s1">:host([selected]) .content-region .expand-collapse-glyph,</span><span class="s3">\n      </span><span class="s1">:host([selected]) .content-region .start,</span><span class="s3">\n      </span><span class="s1">:host([selected]) .content-region .end {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([selected])::after {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(:${focusVisible}) .positioning-region {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.FieldText};</span><span class="s3">\n        </span><span class="s1">box-shadow: 0 0 0 2px inset ${SystemColors.Field};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .content-region,</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .positioning-region:hover .content-region {</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .content-region .expand-collapse-glyph,</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .content-region .start,</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .content-region .end,</span><span class="s3">\n      </span><span class="s1">:host([disabled])</span><span class="s3">\n        </span><span class="s1">.positioning-region:hover</span><span class="s3">\n        </span><span class="s1">.content-region</span><span class="s3">\n        </span><span class="s1">.expand-collapse-glyph,</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .positioning-region:hover .content-region .start,</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .positioning-region:hover .content-region .end {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host([disabled]) .positioning-region:hover {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">.expand-collapse-glyph,</span><span class="s3">\n      </span><span class="s1">.start,</span><span class="s3">\n      </span><span class="s1">.end {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(.nested) .expand-collapse-button:hover {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">:host(.nested) .expand-collapse-button:hover .expand-collapse-glyph {</span><span class="s3">\n        </span><span class="s1">fill: ${SystemColors.FieldText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { treeItemTemplate as template, TreeItem } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { treeItemStyles as styles } from './tree-item.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Tree item class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-tree-item</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterTreeItem extends TreeItem {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#TreeItem} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#treeItemTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-tree-item&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpTreeItem = JupyterTreeItem.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'tree-item',</span><span class="s3">\n    </span><span class="s1">baseClass: TreeItem,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles,</span><span class="s3">\n    </span><span class="s1">expandCollapseGlyph: /* html */ `</span><span class="s3">\n        </span><span class="s1">&lt;svg</span><span class="s3">\n            </span><span class="s1">viewBox=</span><span class="s3">\&quot;</span><span class="s1">0 0 16 16</span><span class="s3">\&quot;\n            </span><span class="s1">xmlns=</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;\n            </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">expand-collapse-glyph</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;path</span><span class="s3">\n                </span><span class="s1">d=</span><span class="s3">\&quot;</span><span class="s1">M5.00001 12.3263C5.00124 12.5147 5.05566 12.699 5.15699 12.8578C5.25831 13.0167 5.40243 13.1437 5.57273 13.2242C5.74304 13.3047 5.9326 13.3354 6.11959 13.3128C6.30659 13.2902 6.4834 13.2152 6.62967 13.0965L10.8988 8.83532C11.0739 8.69473 11.2153 8.51658 11.3124 8.31402C11.4096 8.11146 11.46 7.88966 11.46 7.66499C11.46 7.44033 11.4096 7.21853 11.3124 7.01597C11.2153 6.81341 11.0739 6.63526 10.8988 6.49467L6.62967 2.22347C6.48274 2.10422 6.30501 2.02912 6.11712 2.00691C5.92923 1.9847 5.73889 2.01628 5.56823 2.09799C5.39757 2.17969 5.25358 2.30817 5.153 2.46849C5.05241 2.62882 4.99936 2.8144 5.00001 3.00369V12.3263Z</span><span class="s3">\&quot;\n            </span><span class="s1">/&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/svg&gt;</span><span class="s3">\n    </span><span class="s1">`</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterTreeItem as TreeItem, styles as treeItemStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { getDisplayedNodes, isHTMLElement, keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnd, keyEnter, keyHome, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { isTreeItemElement, TreeItem } from </span><span class="s3">\&quot;</span><span class="s1">../tree-item/tree-item.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Tree view Custom HTML Element.</span><span class="s3">\n </span><span class="s1">* Implements the {@link https://w3c.github.io/aria-practices/#TreeView | ARIA TreeView }.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @slot - The default slot for tree items</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class TreeView extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The tree item that is designated to be in the tab queue.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.currentFocused = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Handle focus events</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleFocus = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (this.slottedTreeItems.length &lt; 1) {</span><span class="s3">\n                </span><span class="s1">// no child items, nothing to do</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (e.target === this) {</span><span class="s3">\n                </span><span class="s1">if (this.currentFocused === null) {</span><span class="s3">\n                    </span><span class="s1">this.currentFocused = this.getValidFocusableItem();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (this.currentFocused !== null) {</span><span class="s3">\n                    </span><span class="s1">TreeItem.focusItem(this.currentFocused);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.contains(e.target)) {</span><span class="s3">\n                </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.currentFocused = e.target;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Handle blur events</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleBlur = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (e.target instanceof HTMLElement &amp;&amp;</span><span class="s3">\n                </span><span class="s1">(e.relatedTarget === null || !this.contains(e.relatedTarget))) {</span><span class="s3">\n                </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* KeyDown handler</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">*  @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleKeyDown = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.slottedTreeItems.length &lt; 1) {</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const treeItems = this.getVisibleNodes();</span><span class="s3">\n            </span><span class="s1">switch (e.key) {</span><span class="s3">\n                </span><span class="s1">case keyHome:</span><span class="s3">\n                    </span><span class="s1">if (treeItems.length) {</span><span class="s3">\n                        </span><span class="s1">TreeItem.focusItem(treeItems[0]);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">case keyEnd:</span><span class="s3">\n                    </span><span class="s1">if (treeItems.length) {</span><span class="s3">\n                        </span><span class="s1">TreeItem.focusItem(treeItems[treeItems.length - 1]);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">case keyArrowLeft:</span><span class="s3">\n                    </span><span class="s1">if (e.target &amp;&amp; this.isFocusableElement(e.target)) {</span><span class="s3">\n                        </span><span class="s1">const item = e.target;</span><span class="s3">\n                        </span><span class="s1">if (item instanceof TreeItem &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">item.childItemLength() &gt; 0 &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">item.expanded) {</span><span class="s3">\n                            </span><span class="s1">item.expanded = false;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else if (item instanceof TreeItem &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">item.parentElement instanceof TreeItem) {</span><span class="s3">\n                            </span><span class="s1">TreeItem.focusItem(item.parentElement);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return false;</span><span class="s3">\n                </span><span class="s1">case keyArrowRight:</span><span class="s3">\n                    </span><span class="s1">if (e.target &amp;&amp; this.isFocusableElement(e.target)) {</span><span class="s3">\n                        </span><span class="s1">const item = e.target;</span><span class="s3">\n                        </span><span class="s1">if (item instanceof TreeItem &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">item.childItemLength() &gt; 0 &amp;&amp;</span><span class="s3">\n                            </span><span class="s1">!item.expanded) {</span><span class="s3">\n                            </span><span class="s1">item.expanded = true;</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                        </span><span class="s1">else if (item instanceof TreeItem &amp;&amp; item.childItemLength() &gt; 0) {</span><span class="s3">\n                            </span><span class="s1">this.focusNextNode(1, e.target);</span><span class="s3">\n                        </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">case keyArrowDown:</span><span class="s3">\n                    </span><span class="s1">if (e.target &amp;&amp; this.isFocusableElement(e.target)) {</span><span class="s3">\n                        </span><span class="s1">this.focusNextNode(1, e.target);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">case keyArrowUp:</span><span class="s3">\n                    </span><span class="s1">if (e.target &amp;&amp; this.isFocusableElement(e.target)) {</span><span class="s3">\n                        </span><span class="s1">this.focusNextNode(-1, e.target);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n                </span><span class="s1">case keyEnter:</span><span class="s3">\n                    </span><span class="s1">// In single-select trees where selection does not follow focus (see note below),</span><span class="s3">\n                    </span><span class="s1">// the default action is typically to select the focused node.</span><span class="s3">\n                    </span><span class="s1">this.handleClick(e);</span><span class="s3">\n                    </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// don't prevent default if we took no action</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Handles the selected-changed events bubbling up</span><span class="s3">\n         </span><span class="s1">* from child tree items</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">*  @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleSelectedChange = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (!(e.target instanceof Element) || !isTreeItemElement(e.target)) {</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const item = e.target;</span><span class="s3">\n            </span><span class="s1">if (item.selected) {</span><span class="s3">\n                </span><span class="s1">if (this.currentSelected &amp;&amp; this.currentSelected !== item) {</span><span class="s3">\n                    </span><span class="s1">this.currentSelected.selected = false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">// new selected item</span><span class="s3">\n                </span><span class="s1">this.currentSelected = item;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else if (!item.selected &amp;&amp; this.currentSelected === item) {</span><span class="s3">\n                </span><span class="s1">// selected item deselected</span><span class="s3">\n                </span><span class="s1">this.currentSelected = null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Updates the tree view when slottedTreeItems changes</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.setItems = () =&gt; {</span><span class="s3">\n            </span><span class="s1">// force single selection</span><span class="s3">\n            </span><span class="s1">// defaults to first one found</span><span class="s3">\n            </span><span class="s1">const selectedItem = this.treeView.querySelector(</span><span class="s3">\&quot;</span><span class="s1">[aria-selected='true']</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n            </span><span class="s1">this.currentSelected = selectedItem;</span><span class="s3">\n            </span><span class="s1">// invalidate the current focused item if it is no longer valid</span><span class="s3">\n            </span><span class="s1">if (this.currentFocused === null || !this.contains(this.currentFocused)) {</span><span class="s3">\n                </span><span class="s1">this.currentFocused = this.getValidFocusableItem();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">// toggle properties on child elements</span><span class="s3">\n            </span><span class="s1">this.nested = this.checkForNestedItems();</span><span class="s3">\n            </span><span class="s1">const treeItems = this.getVisibleNodes();</span><span class="s3">\n            </span><span class="s1">treeItems.forEach(node =&gt; {</span><span class="s3">\n                </span><span class="s1">if (isTreeItemElement(node)) {</span><span class="s3">\n                    </span><span class="s1">node.nested = this.nested;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* check if the item is focusable</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.isFocusableElement = (el) =&gt; {</span><span class="s3">\n            </span><span class="s1">return isTreeItemElement(el);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">this.isSelectedElement = (el) =&gt; {</span><span class="s3">\n            </span><span class="s1">return el.selected;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">slottedTreeItemsChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">// update for slotted children change</span><span class="s3">\n            </span><span class="s1">this.setItems();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">tabindex</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n            </span><span class="s1">this.setItems();</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles click events bubbling up</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">*  @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleClick(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n            </span><span class="s1">// handled, do nothing</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!(e.target instanceof Element) || !isTreeItemElement(e.target)) {</span><span class="s3">\n            </span><span class="s1">// not a tree item, ignore</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const item = e.target;</span><span class="s3">\n        </span><span class="s1">if (!item.disabled) {</span><span class="s3">\n            </span><span class="s1">item.selected = !item.selected;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Move focus to a tree item based on its offset from the provided item</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focusNextNode(delta, item) {</span><span class="s3">\n        </span><span class="s1">const visibleNodes = this.getVisibleNodes();</span><span class="s3">\n        </span><span class="s1">if (!visibleNodes) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const focusItem = visibleNodes[visibleNodes.indexOf(item) + delta];</span><span class="s3">\n        </span><span class="s1">if (isHTMLElement(focusItem)) {</span><span class="s3">\n            </span><span class="s1">TreeItem.focusItem(focusItem);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* checks if there are any nested tree items</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getValidFocusableItem() {</span><span class="s3">\n        </span><span class="s1">const treeItems = this.getVisibleNodes();</span><span class="s3">\n        </span><span class="s1">// default to selected element if there is one</span><span class="s3">\n        </span><span class="s1">let focusIndex = treeItems.findIndex(this.isSelectedElement);</span><span class="s3">\n        </span><span class="s1">if (focusIndex === -1) {</span><span class="s3">\n            </span><span class="s1">// otherwise first focusable tree item</span><span class="s3">\n            </span><span class="s1">focusIndex = treeItems.findIndex(this.isFocusableElement);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (focusIndex !== -1) {</span><span class="s3">\n            </span><span class="s1">return treeItems[focusIndex];</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* checks if there are any nested tree items</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">checkForNestedItems() {</span><span class="s3">\n        </span><span class="s1">return this.slottedTreeItems.some((node) =&gt; {</span><span class="s3">\n            </span><span class="s1">return isTreeItemElement(node) &amp;&amp; node.querySelector(</span><span class="s3">\&quot;</span><span class="s1">[role='treeitem']</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">getVisibleNodes() {</span><span class="s3">\n        </span><span class="s1">return getDisplayedNodes(this, </span><span class="s3">\&quot;</span><span class="s1">[role='treeitem']</span><span class="s3">\&quot;</span><span class="s1">) || [];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">render-collapsed-nodes</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], TreeView.prototype, </span><span class="s3">\&quot;</span><span class="s1">renderCollapsedNodes</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], TreeView.prototype, </span><span class="s3">\&quot;</span><span class="s1">currentSelected</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], TreeView.prototype, </span><span class="s3">\&quot;</span><span class="s1">slottedTreeItems</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the {@link @microsoft/fast-foundation#TreeView} component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const treeViewTemplate = (context, definition) =&gt; html `</span><span class="s3">\n    </span><span class="s1">&lt;template</span><span class="s3">\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">tree</span><span class="s3">\&quot;\n        </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">treeView</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n        </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleKeyDown(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusin=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleFocus(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@focusout=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleBlur(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleClick(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">@selected-change=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleSelectedChange(c.event)}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n        </span><span class="s1">&lt;slot ${slotted(</span><span class="s3">\&quot;</span><span class="s1">slottedTreeItems</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { display } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Tree View</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const treeViewStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">${display('flex')} :host {</span><span class="s3">\n    </span><span class="s1">flex-direction: column;</span><span class="s3">\n    </span><span class="s1">align-items: stretch;</span><span class="s3">\n    </span><span class="s1">min-width: fit-content;</span><span class="s3">\n    </span><span class="s1">font-size: 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">:host:focus-visible {</span><span class="s3">\n    </span><span class="s1">outline: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { isTreeItemElement, treeViewTemplate as template, TreeView } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { treeViewStyles as styles } from './tree-view.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Tree view class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-tree-view</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterTreeView extends TreeView {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handles click events bubbling up</span><span class="s3">\n     </span><span class="s1">*</span><span class="s3">\n     </span><span class="s1">*  @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleClick(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n            </span><span class="s1">// handled, do nothing</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (!(e.target instanceof Element)) {</span><span class="s3">\n            </span><span class="s1">// not a tree item, ignore</span><span class="s3">\n            </span><span class="s1">return true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">let item = e.target;</span><span class="s3">\n        </span><span class="s1">while (item &amp;&amp; !isTreeItemElement(item)) {</span><span class="s3">\n            </span><span class="s1">item = item.parentElement;</span><span class="s3">\n            </span><span class="s1">// Escape if we get out of the tree view component</span><span class="s3">\n            </span><span class="s1">if (item === this) {</span><span class="s3">\n                </span><span class="s1">item = null;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (item &amp;&amp; !item.disabled) {</span><span class="s3">\n            </span><span class="s1">// Force selection - it is not possible to unselect</span><span class="s3">\n            </span><span class="s1">item.selected = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A function that returns a {@link @microsoft/fast-foundation#TreeView} registration for configuring the component with a DesignSystem.</span><span class="s3">\n </span><span class="s1">* Implements {@link @microsoft/fast-foundation#treeViewTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* Generates HTML Element: `&lt;jp-tree-view&gt;`</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpTreeView = JupyterTreeView.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'tree-view',</span><span class="s3">\n    </span><span class="s1">baseClass: TreeView,</span><span class="s3">\n    </span><span class="s1">template,</span><span class="s3">\n    </span><span class="s1">styles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterTreeView as TreeView, styles as treeViewStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;/**</span><span class="s3">\n </span><span class="s1">* Building blocks - partial configs</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A region that matches the size and position of the anchor horizontally</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">const horizontalAnchorOverlay = {</span><span class="s3">\n    </span><span class="s1">horizontalDefaultPosition: </span><span class="s3">\&quot;</span><span class="s1">center</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">horizontalPositioningMode: </span><span class="s3">\&quot;</span><span class="s1">locktodefault</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">horizontalInset: false,</span><span class="s3">\n    </span><span class="s1">horizontalScaling: </span><span class="s3">\&quot;</span><span class="s1">anchor</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Exported configs</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A region that always places itself above the anchor, has</span><span class="s3">\n </span><span class="s1">* a width to match the anchor, and is sized vertically by content</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const FlyoutPosTop = Object.assign(Object.assign({}, horizontalAnchorOverlay), { verticalDefaultPosition: </span><span class="s3">\&quot;</span><span class="s1">top</span><span class="s3">\&quot;</span><span class="s1">, verticalPositioningMode: </span><span class="s3">\&quot;</span><span class="s1">locktodefault</span><span class="s3">\&quot;</span><span class="s1">, verticalInset: false, verticalScaling: </span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A region that always places itself below the anchor, has</span><span class="s3">\n </span><span class="s1">* a width to match the anchor, and is sized vertically by content</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const FlyoutPosBottom = Object.assign(Object.assign({}, horizontalAnchorOverlay), { verticalDefaultPosition: </span><span class="s3">\&quot;</span><span class="s1">bottom</span><span class="s3">\&quot;</span><span class="s1">, verticalPositioningMode: </span><span class="s3">\&quot;</span><span class="s1">locktodefault</span><span class="s3">\&quot;</span><span class="s1">, verticalInset: false, verticalScaling: </span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A region that places itself above or below the anchor</span><span class="s3">\n </span><span class="s1">* based on available space, has a width to match the anchor,</span><span class="s3">\n </span><span class="s1">* and is sized vertically by content</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const FlyoutPosTallest = Object.assign(Object.assign({}, horizontalAnchorOverlay), { verticalPositioningMode: </span><span class="s3">\&quot;</span><span class="s1">dynamic</span><span class="s3">\&quot;</span><span class="s1">, verticalInset: false, verticalScaling: </span><span class="s3">\&quot;</span><span class="s1">content</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A region that always places itself above the anchor, has</span><span class="s3">\n </span><span class="s1">* a width to match the anchor, and is sized vertically by available space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const FlyoutPosTopFill = Object.assign(Object.assign({}, FlyoutPosTop), { verticalScaling: </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A region that always places itself below the anchor, has</span><span class="s3">\n </span><span class="s1">* a width to match the anchor, and is sized vertically by available space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const FlyoutPosBottomFill = Object.assign(Object.assign({}, FlyoutPosBottom), { verticalScaling: </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A region that places itself above or below the anchor</span><span class="s3">\n </span><span class="s1">* based on available space, has a width to match the anchor,</span><span class="s3">\n </span><span class="s1">* and is sized vertically by available space</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const FlyoutPosTallestFill = Object.assign(Object.assign({}, FlyoutPosTallest), { verticalScaling: </span><span class="s3">\&quot;</span><span class="s1">fill</span><span class="s3">\&quot; </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, html, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const defaultContentsTemplate = html `</span><span class="s3">\n    </span><span class="s1">&lt;template&gt;</span><span class="s3">\n        </span><span class="s1">${x =&gt; x.value}</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A picker list item Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class PickerMenuOption extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">contentsTemplateChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateView();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.updateView();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">this.disconnectView();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleClick(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.handleInvoked();</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleInvoked() {</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">pickeroptioninvoked</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateView() {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">this.disconnectView();</span><span class="s3">\n        </span><span class="s1">this.customView =</span><span class="s3">\n            </span><span class="s1">(_b = (_a = this.contentsTemplate) === null || _a === void 0 ? void 0 : _a.render(this, this)) !== null &amp;&amp; _b !== void 0 ? _b : defaultContentsTemplate.render(this, this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">disconnectView() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">(_a = this.customView) === null || _a === void 0 ? void 0 : _a.dispose();</span><span class="s3">\n        </span><span class="s1">this.customView = undefined;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], PickerMenuOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], PickerMenuOption.prototype, </span><span class="s3">\&quot;</span><span class="s1">contentsTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, html, observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keyEnter } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const defaultContentsTemplate = html `</span><span class="s3">\n    </span><span class="s1">&lt;template&gt;</span><span class="s3">\n        </span><span class="s1">${x =&gt; x.value}</span><span class="s3">\n    </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A picker list item Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class PickerListItem extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">contentsTemplateChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateView();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.updateView();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">this.disconnectView();</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleKeyDown(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (e.key === keyEnter) {</span><span class="s3">\n            </span><span class="s1">this.handleInvoke();</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleClick(e) {</span><span class="s3">\n        </span><span class="s1">if (!e.defaultPrevented) {</span><span class="s3">\n            </span><span class="s1">this.handleInvoke();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">handleInvoke() {</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">pickeriteminvoked</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateView() {</span><span class="s3">\n        </span><span class="s1">var _a, _b;</span><span class="s3">\n        </span><span class="s1">this.disconnectView();</span><span class="s3">\n        </span><span class="s1">this.customView =</span><span class="s3">\n            </span><span class="s1">(_b = (_a = this.contentsTemplate) === null || _a === void 0 ? void 0 : _a.render(this, this)) !== null &amp;&amp; _b !== void 0 ? _b : defaultContentsTemplate.render(this, this);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">disconnectView() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">(_a = this.customView) === null || _a === void 0 ? void 0 : _a.dispose();</span><span class="s3">\n        </span><span class="s1">this.customView = undefined;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], PickerListItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">value</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], PickerListItem.prototype, </span><span class="s3">\&quot;</span><span class="s1">contentsTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FormAssociated } from </span><span class="s3">\&quot;</span><span class="s1">../form-associated/form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">class _Picker extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A form-associated base class for the {@link @microsoft/fast-foundation#(Picker:class)} component.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @internal</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class FormAssociatedPicker extends FormAssociated(_Picker) {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">this.proxy = document.createElement(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { attr, DOM, html, observable, ref, RepeatDirective, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyBackspace, keyDelete, keyEnter, keyEscape, uniqueId, } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FlyoutPosBottom, FlyoutPosBottomFill, FlyoutPosTallest, FlyoutPosTallestFill, FlyoutPosTop, FlyoutPosTopFill, } from </span><span class="s3">\&quot;</span><span class="s1">../anchored-region/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { PickerMenuOption } from </span><span class="s3">\&quot;</span><span class="s1">./picker-menu-option.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { PickerListItem } from </span><span class="s3">\&quot;</span><span class="s1">./picker-list-item.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FormAssociatedPicker } from </span><span class="s3">\&quot;</span><span class="s1">./picker.form-associated.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">const pickerInputTemplate = html `</span><span class="s3">\n    </span><span class="s1">&lt;input</span><span class="s3">\n        </span><span class="s1">slot=</span><span class="s3">\&quot;</span><span class="s1">input-region</span><span class="s3">\&quot;\n        </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">combobox</span><span class="s3">\&quot;\n        </span><span class="s1">type=</span><span class="s3">\&quot;</span><span class="s1">text</span><span class="s3">\&quot;\n        </span><span class="s1">autocapitalize=</span><span class="s3">\&quot;</span><span class="s1">off</span><span class="s3">\&quot;\n        </span><span class="s1">autocomplete=</span><span class="s3">\&quot;</span><span class="s1">off</span><span class="s3">\&quot;\n        </span><span class="s1">haspopup=</span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot;\n        </span><span class="s1">aria-label=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.label}</span><span class="s3">\&quot;\n        </span><span class="s1">aria-labelledby=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.labelledBy}</span><span class="s3">\&quot;\n        </span><span class="s1">placeholder=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.placeholder}</span><span class="s3">\&quot;\n        </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">inputElement</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n    </span><span class="s1">&gt;&lt;/input&gt;</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A Picker Custom HTML Element.  This is an early </span><span class="s3">\&quot;</span><span class="s1">alpha</span><span class="s3">\&quot; </span><span class="s1">version of the component.</span><span class="s3">\n </span><span class="s1">* Developers should expect the api to evolve, breaking changes are possible.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class Picker extends FormAssociatedPicker {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Currently selected items. Comma delineated string ie. </span><span class="s3">\&quot;</span><span class="s1">apples,oranges</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: selection</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.selection = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether the component should remove an option from the list when it is in the selection</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: filter-selected</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.filterSelected = true;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether the component should remove options based on the current query</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: filter-query</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.filterQuery = true;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The text to present to assistive technolgies when no suggestions are available.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: no-suggestions-text</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.noSuggestionsText = </span><span class="s3">\&quot;</span><span class="s1">No suggestions available</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  The text to present to assistive technolgies when suggestions are available.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: suggestions-available-text</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.suggestionsAvailableText = </span><span class="s3">\&quot;</span><span class="s1">Suggestions available</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* The text to present to assistive technologies when suggestions are loading.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: loading-text</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.loadingText = </span><span class="s3">\&quot;</span><span class="s1">Loading suggestions</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Controls menu placement</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">* @remarks</span><span class="s3">\n         </span><span class="s1">* HTML Attribute: menu-placement</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.menuPlacement = </span><span class="s3">\&quot;</span><span class="s1">bottom-fill</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Whether to display a loading state if the menu is opened.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.showLoading = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Current list of options in array form</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @alpha</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.optionsList = [];</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Current list of filtered options in array form</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.filteredOptionsList = [];</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Indicates if the flyout menu is open or not</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.flyoutOpen = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Index of currently active menu option</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.menuFocusIndex = -1;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*  Internal flag to indicate no options available display should be shown.</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.showNoOptions = false;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.selectedItems = [];</span><span class="s3">\n        </span><span class="s1">this.inputElementView = null;</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Handle input event from input element</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleTextInput = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">this.query = this.inputElement.value;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Handle click event from input element</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.handleInputClick = (e) =&gt; {</span><span class="s3">\n            </span><span class="s1">e.preventDefault();</span><span class="s3">\n            </span><span class="s1">this.toggleFlyout(true);</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Sets properties on the anchored region once it is instanciated.</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.setRegionProps = () =&gt; {</span><span class="s3">\n            </span><span class="s1">if (!this.flyoutOpen) {</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">if (this.region === null || this.region === undefined) {</span><span class="s3">\n                </span><span class="s1">// TODO: limit this</span><span class="s3">\n                </span><span class="s1">DOM.queueUpdate(this.setRegionProps);</span><span class="s3">\n                </span><span class="s1">return;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.region.anchorElement = this.inputElement;</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* matches menu placement values with the associated menu config</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.configLookup = {</span><span class="s3">\n            </span><span class="s1">top: FlyoutPosTop,</span><span class="s3">\n            </span><span class="s1">bottom: FlyoutPosBottom,</span><span class="s3">\n            </span><span class="s1">tallest: FlyoutPosTallest,</span><span class="s3">\n            \&quot;</span><span class="s1">top-fill</span><span class="s3">\&quot;</span><span class="s1">: FlyoutPosTopFill,</span><span class="s3">\n            \&quot;</span><span class="s1">bottom-fill</span><span class="s3">\&quot;</span><span class="s1">: FlyoutPosBottomFill,</span><span class="s3">\n            \&quot;</span><span class="s1">tallest-fill</span><span class="s3">\&quot;</span><span class="s1">: FlyoutPosTallestFill,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">selectionChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.handleSelectionChange();</span><span class="s3">\n            </span><span class="s1">if (this.proxy instanceof HTMLInputElement) {</span><span class="s3">\n                </span><span class="s1">this.proxy.value = this.selection;</span><span class="s3">\n                </span><span class="s1">this.validate();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">optionsChanged() {</span><span class="s3">\n        </span><span class="s1">this.optionsList = this.options</span><span class="s3">\n            </span><span class="s1">.split(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n            </span><span class="s1">.map(opt =&gt; opt.trim())</span><span class="s3">\n            </span><span class="s1">.filter(opt =&gt; opt !== </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">menuPlacementChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.updateMenuConfig();</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">showLoadingChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n                </span><span class="s1">this.setFocusedOption(0);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">listItemTemplateChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateListItemTemplate();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">defaultListItemTemplateChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateListItemTemplate();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">menuOptionTemplateChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateOptionTemplate();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">defaultMenuOptionTemplateChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateOptionTemplate();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">optionsListChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateFilteredOptions();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">queryChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">if (this.inputElement.value !== this.query) {</span><span class="s3">\n                </span><span class="s1">this.inputElement.value = this.query;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.updateFilteredOptions();</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">querychange</span><span class="s3">\&quot;</span><span class="s1">, { bubbles: false });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">filteredOptionsListChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">this.showNoOptions =</span><span class="s3">\n                </span><span class="s1">this.filteredOptionsList.length === 0 &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">this.menuElement.querySelectorAll('[role=</span><span class="s3">\&quot;</span><span class="s1">listitem</span><span class="s3">\&quot;</span><span class="s1">]').length === 0;</span><span class="s3">\n            </span><span class="s1">this.setFocusedOption(this.showNoOptions ? -1 : 0);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">flyoutOpenChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.flyoutOpen) {</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(this.setRegionProps);</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">menuopening</span><span class="s3">\&quot;</span><span class="s1">, { bubbles: false });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">menuclosing</span><span class="s3">\&quot;</span><span class="s1">, { bubbles: false });</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">showNoOptionsChanged() {</span><span class="s3">\n        </span><span class="s1">if (this.$fastController.isConnected) {</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n                </span><span class="s1">this.setFocusedOption(0);</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @internal</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n        </span><span class="s1">this.listElement = document.createElement(this.selectedListTag);</span><span class="s3">\n        </span><span class="s1">this.appendChild(this.listElement);</span><span class="s3">\n        </span><span class="s1">this.itemsPlaceholderElement = document.createComment(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.listElement.append(this.itemsPlaceholderElement);</span><span class="s3">\n        </span><span class="s1">this.inputElementView = pickerInputTemplate.render(this, this.listElement);</span><span class="s3">\n        </span><span class="s1">const match = this.menuTag.toUpperCase();</span><span class="s3">\n        </span><span class="s1">this.menuElement = Array.from(this.children).find((element) =&gt; {</span><span class="s3">\n            </span><span class="s1">return element.tagName === match;</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">if (this.menuElement === undefined) {</span><span class="s3">\n            </span><span class="s1">this.menuElement = document.createElement(this.menuTag);</span><span class="s3">\n            </span><span class="s1">this.appendChild(this.menuElement);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.menuElement.id === </span><span class="s3">\&quot;\&quot;</span><span class="s1">) {</span><span class="s3">\n            </span><span class="s1">this.menuElement.id = uniqueId(</span><span class="s3">\&quot;</span><span class="s1">listbox-</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.menuId = this.menuElement.id;</span><span class="s3">\n        </span><span class="s1">this.optionsPlaceholder = document.createComment(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.menuElement.append(this.optionsPlaceholder);</span><span class="s3">\n        </span><span class="s1">this.updateMenuConfig();</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; this.initialize());</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">disconnectedCallback() {</span><span class="s3">\n        </span><span class="s1">super.disconnectedCallback();</span><span class="s3">\n        </span><span class="s1">this.toggleFlyout(false);</span><span class="s3">\n        </span><span class="s1">this.inputElement.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">, this.handleTextInput);</span><span class="s3">\n        </span><span class="s1">this.inputElement.removeEventListener(</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">, this.handleInputClick);</span><span class="s3">\n        </span><span class="s1">if (this.inputElementView !== null) {</span><span class="s3">\n            </span><span class="s1">this.inputElementView.dispose();</span><span class="s3">\n            </span><span class="s1">this.inputElementView = null;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Move focus to the input element</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">focus() {</span><span class="s3">\n        </span><span class="s1">this.inputElement.focus();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Initialize the component.  This is delayed a frame to ensure children are connected as well.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">initialize() {</span><span class="s3">\n        </span><span class="s1">this.updateListItemTemplate();</span><span class="s3">\n        </span><span class="s1">this.updateOptionTemplate();</span><span class="s3">\n        </span><span class="s1">this.itemsRepeatBehavior = new RepeatDirective(x =&gt; x.selectedItems, x =&gt; x.activeListItemTemplate, { positioning: true }).createBehavior(this.itemsPlaceholderElement);</span><span class="s3">\n        </span><span class="s1">this.inputElement.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">input</span><span class="s3">\&quot;</span><span class="s1">, this.handleTextInput);</span><span class="s3">\n        </span><span class="s1">this.inputElement.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">click</span><span class="s3">\&quot;</span><span class="s1">, this.handleInputClick);</span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n        </span><span class="s1">this.$fastController.addBehaviors([this.itemsRepeatBehavior]);</span><span class="s3">\n        </span><span class="s1">this.menuElement.suggestionsAvailableText = this.suggestionsAvailableText;</span><span class="s3">\n        </span><span class="s1">this.menuElement.addEventListener(</span><span class="s3">\&quot;</span><span class="s1">optionsupdated</span><span class="s3">\&quot;</span><span class="s1">, this.handleMenuOptionsUpdated);</span><span class="s3">\n        </span><span class="s1">this.optionsRepeatBehavior = new RepeatDirective(x =&gt; x.filteredOptionsList, x =&gt; x.activeMenuOptionTemplate, { positioning: true }).createBehavior(this.optionsPlaceholder);</span><span class="s3">\n        </span><span class="s1">/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n        </span><span class="s1">this.$fastController.addBehaviors([this.optionsRepeatBehavior]);</span><span class="s3">\n        </span><span class="s1">this.handleSelectionChange();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Toggles the menu flyout</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">toggleFlyout(open) {</span><span class="s3">\n        </span><span class="s1">if (this.flyoutOpen === open) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (open &amp;&amp; document.activeElement === this.inputElement) {</span><span class="s3">\n            </span><span class="s1">this.flyoutOpen = open;</span><span class="s3">\n            </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n                </span><span class="s1">if (this.menuElement !== undefined) {</span><span class="s3">\n                    </span><span class="s1">this.setFocusedOption(0);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">this.disableMenu();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">});</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.flyoutOpen = false;</span><span class="s3">\n        </span><span class="s1">this.disableMenu();</span><span class="s3">\n        </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle the menu options updated event from the child menu</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleMenuOptionsUpdated(e) {</span><span class="s3">\n        </span><span class="s1">e.preventDefault();</span><span class="s3">\n        </span><span class="s1">if (this.flyoutOpen) {</span><span class="s3">\n            </span><span class="s1">this.setFocusedOption(0);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle key down events.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleKeyDown(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">switch (e.key) {</span><span class="s3">\n            </span><span class="s1">// TODO: what should </span><span class="s3">\&quot;</span><span class="s1">home</span><span class="s3">\&quot; </span><span class="s1">and </span><span class="s3">\&quot;</span><span class="s1">end</span><span class="s3">\&quot; </span><span class="s1">keys do, exactly?</span><span class="s3">\n            </span><span class="s1">//</span><span class="s3">\n            </span><span class="s1">// case keyHome: {</span><span class="s3">\n            </span><span class="s1">//     if (!this.flyoutOpen) {</span><span class="s3">\n            </span><span class="s1">//         this.toggleFlyout(true);</span><span class="s3">\n            </span><span class="s1">//     } else {</span><span class="s3">\n            </span><span class="s1">//         if (this.menuElement.optionElements.length &gt; 0) {</span><span class="s3">\n            </span><span class="s1">//             this.setFocusedOption(0);</span><span class="s3">\n            </span><span class="s1">//         }</span><span class="s3">\n            </span><span class="s1">//     }</span><span class="s3">\n            </span><span class="s1">//     return false;</span><span class="s3">\n            </span><span class="s1">// }</span><span class="s3">\n            </span><span class="s1">// case keyEnd: {</span><span class="s3">\n            </span><span class="s1">//     if (!this.flyoutOpen) {</span><span class="s3">\n            </span><span class="s1">//         this.toggleFlyout(true);</span><span class="s3">\n            </span><span class="s1">//     } else {</span><span class="s3">\n            </span><span class="s1">//         if (this.menuElement.optionElements.length &gt; 0) {</span><span class="s3">\n            </span><span class="s1">//             this.toggleFlyout(true);</span><span class="s3">\n            </span><span class="s1">//             this.setFocusedOption(this.menuElement.optionElements.length - 1);</span><span class="s3">\n            </span><span class="s1">//         }</span><span class="s3">\n            </span><span class="s1">//     }</span><span class="s3">\n            </span><span class="s1">//     return false;</span><span class="s3">\n            </span><span class="s1">// }</span><span class="s3">\n            </span><span class="s1">case keyArrowDown: {</span><span class="s3">\n                </span><span class="s1">if (!this.flyoutOpen) {</span><span class="s3">\n                    </span><span class="s1">this.toggleFlyout(true);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">const nextFocusOptionIndex = this.flyoutOpen</span><span class="s3">\n                        </span><span class="s1">? Math.min(this.menuFocusIndex + 1, this.menuElement.optionElements.length - 1)</span><span class="s3">\n                        </span><span class="s1">: 0;</span><span class="s3">\n                    </span><span class="s1">this.setFocusedOption(nextFocusOptionIndex);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyArrowUp: {</span><span class="s3">\n                </span><span class="s1">if (!this.flyoutOpen) {</span><span class="s3">\n                    </span><span class="s1">this.toggleFlyout(true);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">const previousFocusOptionIndex = this.flyoutOpen</span><span class="s3">\n                        </span><span class="s1">? Math.max(this.menuFocusIndex - 1, 0)</span><span class="s3">\n                        </span><span class="s1">: 0;</span><span class="s3">\n                    </span><span class="s1">this.setFocusedOption(previousFocusOptionIndex);</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyEscape: {</span><span class="s3">\n                </span><span class="s1">this.toggleFlyout(false);</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyEnter: {</span><span class="s3">\n                </span><span class="s1">if (this.menuFocusIndex !== -1 &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">this.menuElement.optionElements.length &gt; this.menuFocusIndex) {</span><span class="s3">\n                    </span><span class="s1">this.menuElement.optionElements[this.menuFocusIndex].click();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return false;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyArrowRight: {</span><span class="s3">\n                </span><span class="s1">if (document.activeElement !== this.inputElement) {</span><span class="s3">\n                    </span><span class="s1">this.incrementFocusedItem(1);</span><span class="s3">\n                    </span><span class="s1">return false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">// don't block if arrow keys moving caret in input element</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyArrowLeft: {</span><span class="s3">\n                </span><span class="s1">if (this.inputElement.selectionStart === 0) {</span><span class="s3">\n                    </span><span class="s1">this.incrementFocusedItem(-1);</span><span class="s3">\n                    </span><span class="s1">return false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">// don't block if arrow keys moving caret in input element</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">case keyDelete:</span><span class="s3">\n            </span><span class="s1">case keyBackspace: {</span><span class="s3">\n                </span><span class="s1">if (document.activeElement === null) {</span><span class="s3">\n                    </span><span class="s1">return true;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (document.activeElement === this.inputElement) {</span><span class="s3">\n                    </span><span class="s1">if (this.inputElement.selectionStart === 0) {</span><span class="s3">\n                        </span><span class="s1">this.selection = this.selectedItems</span><span class="s3">\n                            </span><span class="s1">.slice(0, this.selectedItems.length - 1)</span><span class="s3">\n                            </span><span class="s1">.toString();</span><span class="s3">\n                        </span><span class="s1">this.toggleFlyout(false);</span><span class="s3">\n                        </span><span class="s1">return false;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">// let text deletion proceed</span><span class="s3">\n                    </span><span class="s1">return true;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">const selectedItems = Array.from(this.listElement.children);</span><span class="s3">\n                </span><span class="s1">const currentFocusedItemIndex = selectedItems.indexOf(document.activeElement);</span><span class="s3">\n                </span><span class="s1">if (currentFocusedItemIndex &gt; -1) {</span><span class="s3">\n                    </span><span class="s1">// delete currently focused item</span><span class="s3">\n                    </span><span class="s1">this.selection = this.selectedItems</span><span class="s3">\n                        </span><span class="s1">.splice(currentFocusedItemIndex, 1)</span><span class="s3">\n                        </span><span class="s1">.toString();</span><span class="s3">\n                    </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n                        </span><span class="s1">selectedItems[Math.min(selectedItems.length, currentFocusedItemIndex)].focus();</span><span class="s3">\n                    </span><span class="s1">});</span><span class="s3">\n                    </span><span class="s1">return false;</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">return true;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.toggleFlyout(true);</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle focus in events.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleFocusIn(e) {</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Handle focus out events.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleFocusOut(e) {</span><span class="s3">\n        </span><span class="s1">if (this.menuElement === undefined ||</span><span class="s3">\n            </span><span class="s1">!this.menuElement.contains(e.relatedTarget)) {</span><span class="s3">\n            </span><span class="s1">this.toggleFlyout(false);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return false;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* The list of selected items has changed</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleSelectionChange() {</span><span class="s3">\n        </span><span class="s1">if (this.selectedItems.toString() === this.selection) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.selectedItems = this.selection === </span><span class="s3">\&quot;\&quot; </span><span class="s1">? [] : this.selection.split(</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.updateFilteredOptions();</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n            </span><span class="s1">this.checkMaxItems();</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">selectionchange</span><span class="s3">\&quot;</span><span class="s1">, { bubbles: false });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Anchored region is loaded, menu and options exist in the DOM.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleRegionLoaded(e) {</span><span class="s3">\n        </span><span class="s1">DOM.queueUpdate(() =&gt; {</span><span class="s3">\n            </span><span class="s1">this.setFocusedOption(0);</span><span class="s3">\n            </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">menuloaded</span><span class="s3">\&quot;</span><span class="s1">, { bubbles: false });</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Checks if the maximum number of items has been chosen and updates the ui.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">checkMaxItems() {</span><span class="s3">\n        </span><span class="s1">if (this.inputElement === undefined) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.maxSelected !== undefined &amp;&amp;</span><span class="s3">\n            </span><span class="s1">this.selectedItems.length &gt;= this.maxSelected) {</span><span class="s3">\n            </span><span class="s1">if (document.activeElement === this.inputElement) {</span><span class="s3">\n                </span><span class="s1">const selectedItemInstances = Array.from(this.listElement.querySelectorAll(</span><span class="s3">\&quot;</span><span class="s1">[role='listitem']</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n                </span><span class="s1">selectedItemInstances[selectedItemInstances.length - 1].focus();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.inputElement.hidden = true;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">this.inputElement.hidden = false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A list item has been invoked.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleItemInvoke(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (e.target instanceof PickerListItem) {</span><span class="s3">\n            </span><span class="s1">const listItems = Array.from(this.listElement.querySelectorAll(</span><span class="s3">\&quot;</span><span class="s1">[role='listitem']</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n            </span><span class="s1">const itemIndex = listItems.indexOf(e.target);</span><span class="s3">\n            </span><span class="s1">if (itemIndex !== -1) {</span><span class="s3">\n                </span><span class="s1">const newSelection = this.selectedItems.slice();</span><span class="s3">\n                </span><span class="s1">newSelection.splice(itemIndex, 1);</span><span class="s3">\n                </span><span class="s1">this.selection = newSelection.toString();</span><span class="s3">\n                </span><span class="s1">DOM.queueUpdate(() =&gt; this.incrementFocusedItem(0));</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* A menu option has been invoked.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">handleOptionInvoke(e) {</span><span class="s3">\n        </span><span class="s1">if (e.defaultPrevented) {</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (e.target instanceof PickerMenuOption) {</span><span class="s3">\n            </span><span class="s1">if (e.target.value !== undefined) {</span><span class="s3">\n                </span><span class="s1">this.selection = `${this.selection}${this.selection === </span><span class="s3">\&quot;\&quot; </span><span class="s1">? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">}${e.target.value}`;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this.inputElement.value = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">this.query = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n            </span><span class="s1">this.inputElement.focus();</span><span class="s3">\n            </span><span class="s1">this.toggleFlyout(false);</span><span class="s3">\n            </span><span class="s1">return false;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">// const value: string = (e.target as PickerMenuOption).value;</span><span class="s3">\n        </span><span class="s1">return true;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Increments the focused list item by the specified amount</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">incrementFocusedItem(increment) {</span><span class="s3">\n        </span><span class="s1">if (this.selectedItems.length === 0) {</span><span class="s3">\n            </span><span class="s1">this.inputElement.focus();</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const selectedItemsAsElements = Array.from(this.listElement.querySelectorAll(</span><span class="s3">\&quot;</span><span class="s1">[role='listitem']</span><span class="s3">\&quot;</span><span class="s1">));</span><span class="s3">\n        </span><span class="s1">if (document.activeElement !== null) {</span><span class="s3">\n            </span><span class="s1">let currentFocusedItemIndex = selectedItemsAsElements.indexOf(document.activeElement);</span><span class="s3">\n            </span><span class="s1">if (currentFocusedItemIndex === -1) {</span><span class="s3">\n                </span><span class="s1">// use the input element</span><span class="s3">\n                </span><span class="s1">currentFocusedItemIndex = selectedItemsAsElements.length;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">const newFocusedItemIndex = Math.min(selectedItemsAsElements.length, Math.max(0, currentFocusedItemIndex + increment));</span><span class="s3">\n            </span><span class="s1">if (newFocusedItemIndex === selectedItemsAsElements.length) {</span><span class="s3">\n                </span><span class="s1">if (this.maxSelected !== undefined &amp;&amp;</span><span class="s3">\n                    </span><span class="s1">this.selectedItems.length &gt;= this.maxSelected) {</span><span class="s3">\n                    </span><span class="s1">selectedItemsAsElements[newFocusedItemIndex - 1].focus();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">else {</span><span class="s3">\n                    </span><span class="s1">this.inputElement.focus();</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">else {</span><span class="s3">\n                </span><span class="s1">selectedItemsAsElements[newFocusedItemIndex].focus();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Disables the menu. Note that the menu can be open, just doens't have any valid options on display.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">disableMenu() {</span><span class="s3">\n        </span><span class="s1">var _a, _b, _c;</span><span class="s3">\n        </span><span class="s1">this.menuFocusIndex = -1;</span><span class="s3">\n        </span><span class="s1">this.menuFocusOptionId = undefined;</span><span class="s3">\n        </span><span class="s1">(_a = this.inputElement) === null || _a === void 0 ? void 0 : _a.removeAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-activedescendant</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">(_b = this.inputElement) === null || _b === void 0 ? void 0 : _b.removeAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-owns</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">(_c = this.inputElement) === null || _c === void 0 ? void 0 : _c.removeAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-expanded</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Sets the currently focused menu option by index</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">setFocusedOption(optionIndex) {</span><span class="s3">\n        </span><span class="s1">if (!this.flyoutOpen ||</span><span class="s3">\n            </span><span class="s1">optionIndex === -1 ||</span><span class="s3">\n            </span><span class="s1">this.showNoOptions ||</span><span class="s3">\n            </span><span class="s1">this.showLoading) {</span><span class="s3">\n            </span><span class="s1">this.disableMenu();</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.menuElement.optionElements.length === 0) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.menuElement.optionElements.forEach((element) =&gt; {</span><span class="s3">\n            </span><span class="s1">element.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-selected</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">false</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n        </span><span class="s1">this.menuFocusIndex = optionIndex;</span><span class="s3">\n        </span><span class="s1">if (this.menuFocusIndex &gt; this.menuElement.optionElements.length - 1) {</span><span class="s3">\n            </span><span class="s1">this.menuFocusIndex = this.menuElement.optionElements.length - 1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.menuFocusOptionId = this.menuElement.optionElements[this.menuFocusIndex].id;</span><span class="s3">\n        </span><span class="s1">this.inputElement.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-owns</span><span class="s3">\&quot;</span><span class="s1">, this.menuId);</span><span class="s3">\n        </span><span class="s1">this.inputElement.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-expanded</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.inputElement.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-activedescendant</span><span class="s3">\&quot;</span><span class="s1">, this.menuFocusOptionId);</span><span class="s3">\n        </span><span class="s1">const focusedOption = this.menuElement.optionElements[this.menuFocusIndex];</span><span class="s3">\n        </span><span class="s1">focusedOption.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">aria-selected</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">true</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">this.menuElement.scrollTo(0, focusedOption.offsetTop);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the template used for the list item repeat behavior</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateListItemTemplate() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">this.activeListItemTemplate =</span><span class="s3">\n            </span><span class="s1">(_a = this.listItemTemplate) !== null &amp;&amp; _a !== void 0 ? _a : this.defaultListItemTemplate;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the template used for the menu option repeat behavior</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateOptionTemplate() {</span><span class="s3">\n        </span><span class="s1">var _a;</span><span class="s3">\n        </span><span class="s1">this.activeMenuOptionTemplate =</span><span class="s3">\n            </span><span class="s1">(_a = this.menuOptionTemplate) !== null &amp;&amp; _a !== void 0 ? _a : this.defaultMenuOptionTemplate;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the filtered options array</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateFilteredOptions() {</span><span class="s3">\n        </span><span class="s1">this.filteredOptionsList = this.optionsList.slice(0);</span><span class="s3">\n        </span><span class="s1">if (this.filterSelected) {</span><span class="s3">\n            </span><span class="s1">this.filteredOptionsList = this.filteredOptionsList.filter(el =&gt; this.selectedItems.indexOf(el) === -1);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">if (this.filterQuery &amp;&amp; this.query !== </span><span class="s3">\&quot;\&quot; </span><span class="s1">&amp;&amp; this.query !== undefined) {</span><span class="s3">\n            </span><span class="s1">this.filteredOptionsList = this.filteredOptionsList.filter(el =&gt; el.indexOf(this.query) !== -1);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Updates the menu configuration</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">updateMenuConfig() {</span><span class="s3">\n        </span><span class="s1">let newConfig = this.configLookup[this.menuPlacement];</span><span class="s3">\n        </span><span class="s1">if (newConfig === null) {</span><span class="s3">\n            </span><span class="s1">newConfig = FlyoutPosBottomFill;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">this.menuConfig = Object.assign(Object.assign({}, newConfig), { autoUpdateMode: </span><span class="s3">\&quot;</span><span class="s1">auto</span><span class="s3">\&quot;</span><span class="s1">, fixedPlacement: true, horizontalViewportLock: false, verticalViewportLock: false });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">selection</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">selection</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">options</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">options</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">filter-selected</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">filterSelected</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">filter-query</span><span class="s3">\&quot;</span><span class="s1">, mode: </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">filterQuery</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">max-selected</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">maxSelected</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">no-suggestions-text</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">noSuggestionsText</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">suggestions-available-text</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">suggestionsAvailableText</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">loading-text</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">loadingText</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">label</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">labelledby</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">labelledBy</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">placeholder</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">placeholder</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">attr({ attribute: </span><span class="s3">\&quot;</span><span class="s1">menu-placement</span><span class="s3">\&quot; </span><span class="s1">})</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">menuPlacement</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">showLoading</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">listItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultListItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">activeListItemTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">menuOptionTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">defaultMenuOptionTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">activeMenuOptionTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">listItemContentsTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">menuOptionContentsTemplate</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">optionsList</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">query</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">filteredOptionsList</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">flyoutOpen</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">menuId</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">selectedListTag</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">menuTag</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">menuFocusIndex</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">menuFocusOptionId</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">showNoOptions</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">menuConfig</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], Picker.prototype, </span><span class="s3">\&quot;</span><span class="s1">selectedItems</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { __decorate } from </span><span class="s3">\&quot;</span><span class="s1">tslib</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { uniqueId } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-web-utilities</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { observable } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A List Picker Menu Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class PickerMenu extends FoundationElement {</span><span class="s3">\n    </span><span class="s1">constructor() {</span><span class="s3">\n        </span><span class="s1">super(...arguments);</span><span class="s3">\n        </span><span class="s1">/**</span><span class="s3">\n         </span><span class="s1">* Children that are list items</span><span class="s3">\n         </span><span class="s1">*</span><span class="s3">\n         </span><span class="s1">* @internal</span><span class="s3">\n         </span><span class="s1">*/</span><span class="s3">\n        </span><span class="s1">this.optionElements = [];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">menuElementsChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateOptions();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">headerElementsChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateOptions();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">footerElementsChanged() {</span><span class="s3">\n        </span><span class="s1">this.updateOptions();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">updateOptions() {</span><span class="s3">\n        </span><span class="s1">this.optionElements.splice(0, this.optionElements.length);</span><span class="s3">\n        </span><span class="s1">this.addSlottedListItems(this.headerElements);</span><span class="s3">\n        </span><span class="s1">this.addSlottedListItems(this.menuElements);</span><span class="s3">\n        </span><span class="s1">this.addSlottedListItems(this.footerElements);</span><span class="s3">\n        </span><span class="s1">this.$emit(</span><span class="s3">\&quot;</span><span class="s1">optionsupdated</span><span class="s3">\&quot;</span><span class="s1">, { bubbles: false });</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">addSlottedListItems(slotChildren) {</span><span class="s3">\n        </span><span class="s1">if (slotChildren === undefined) {</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">slotChildren.forEach((child) =&gt; {</span><span class="s3">\n            </span><span class="s1">if (child.nodeType === 1 &amp;&amp; child.getAttribute(</span><span class="s3">\&quot;</span><span class="s1">role</span><span class="s3">\&quot;</span><span class="s1">) === </span><span class="s3">\&quot;</span><span class="s1">listitem</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n                </span><span class="s1">child.id = child.id || uniqueId(</span><span class="s3">\&quot;</span><span class="s1">option-</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n                </span><span class="s1">this.optionElements.push(child);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], PickerMenu.prototype, </span><span class="s3">\&quot;</span><span class="s1">menuElements</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], PickerMenu.prototype, </span><span class="s3">\&quot;</span><span class="s1">headerElements</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], PickerMenu.prototype, </span><span class="s3">\&quot;</span><span class="s1">footerElements</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">__decorate([</span><span class="s3">\n    </span><span class="s1">observable</span><span class="s3">\n</span><span class="s1">], PickerMenu.prototype, </span><span class="s3">\&quot;</span><span class="s1">suggestionsAvailableText</span><span class="s3">\&quot;</span><span class="s1">, void 0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* A List Picker Menu Custom HTML Element.</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export class PickerList extends FoundationElement {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, ref, when } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { AnchoredRegion } from </span><span class="s3">\&quot;</span><span class="s1">../anchored-region/anchored-region.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { PickerMenu } from </span><span class="s3">\&quot;</span><span class="s1">./picker-menu.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { PickerMenuOption } from </span><span class="s3">\&quot;</span><span class="s1">./picker-menu-option.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { PickerList } from </span><span class="s3">\&quot;</span><span class="s1">./picker-list.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { PickerListItem } from </span><span class="s3">\&quot;</span><span class="s1">./picker-list-item.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">function createDefaultListItemTemplate(context) {</span><span class="s3">\n    </span><span class="s1">const pickerListItemTag = context.tagFor(PickerListItem);</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n    </span><span class="s1">&lt;${pickerListItemTag}</span><span class="s3">\n        </span><span class="s1">value=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x}</span><span class="s3">\&quot;\n        </span><span class="s1">:contentsTemplate=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; c.parent.listItemContentsTemplate}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/${pickerListItemTag}&gt;</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">function createDefaultMenuOptionTemplate(context) {</span><span class="s3">\n    </span><span class="s1">const pickerMenuOptionTag = context.tagFor(PickerMenuOption);</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n    </span><span class="s1">&lt;${pickerMenuOptionTag}</span><span class="s3">\n        </span><span class="s1">value=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x}</span><span class="s3">\&quot;\n        </span><span class="s1">:contentsTemplate=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; c.parent.menuOptionContentsTemplate}</span><span class="s3">\&quot;\n    </span><span class="s1">&gt;</span><span class="s3">\n    </span><span class="s1">&lt;/${pickerMenuOptionTag}&gt;</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the List Picker component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const pickerTemplate = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">const anchoredRegionTag = context.tagFor(AnchoredRegion);</span><span class="s3">\n    </span><span class="s1">const pickerMenuTag = context.tagFor(PickerMenu);</span><span class="s3">\n    </span><span class="s1">const pickerListTag = context.tagFor(PickerList);</span><span class="s3">\n    </span><span class="s1">const progressRingTag = context.tagFor(PickerList);</span><span class="s3">\n    </span><span class="s1">const defaultListItemTemplate = createDefaultListItemTemplate(context);</span><span class="s3">\n    </span><span class="s1">const defaultMenuOptionTemplate = createDefaultMenuOptionTemplate(context);</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n        </span><span class="s1">&lt;template</span><span class="s3">\n            </span><span class="s1">:selectedListTag=</span><span class="s3">\&quot;</span><span class="s1">${() =&gt; pickerListTag}</span><span class="s3">\&quot;\n            </span><span class="s1">:menuTag=</span><span class="s3">\&quot;</span><span class="s1">${() =&gt; pickerMenuTag}</span><span class="s3">\&quot;\n            </span><span class="s1">:defaultListItemTemplate=</span><span class="s3">\&quot;</span><span class="s1">${defaultListItemTemplate}</span><span class="s3">\&quot;\n            </span><span class="s1">:defaultMenuOptionTemplate=</span><span class="s3">\&quot;</span><span class="s1">${defaultMenuOptionTemplate}</span><span class="s3">\&quot;\n            </span><span class="s1">@focusin=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleFocusIn(c.event)}</span><span class="s3">\&quot;\n            </span><span class="s1">@focusout=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleFocusOut(c.event)}</span><span class="s3">\&quot;\n            </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleKeyDown(c.event)}</span><span class="s3">\&quot;\n            </span><span class="s1">@pickeriteminvoked=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleItemInvoke(c.event)}</span><span class="s3">\&quot;\n            </span><span class="s1">@pickeroptioninvoked=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleOptionInvoke(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">list-region</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n\n            </span><span class="s1">${when(x =&gt; x.flyoutOpen, html `</span><span class="s3">\n                </span><span class="s1">&lt;${anchoredRegionTag}</span><span class="s3">\n                    </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">region</span><span class="s3">\&quot;\n                    </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">region</span><span class="s3">\&quot;\n                    </span><span class="s1">auto-update-mode=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.autoUpdateMode}</span><span class="s3">\&quot;\n                    </span><span class="s1">fixed-placement=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.fixedPlacement}</span><span class="s3">\&quot;\n                    </span><span class="s1">vertical-positioning-mode=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.verticalPositioningMode}</span><span class="s3">\&quot;\n                    </span><span class="s1">vertical-default-position=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.verticalDefaultPosition}</span><span class="s3">\&quot;\n                    </span><span class="s1">vertical-scaling=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.verticalScaling}</span><span class="s3">\&quot;\n                    </span><span class="s1">vertical-inset=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.verticalInset}</span><span class="s3">\&quot;\n                    </span><span class="s1">vertical-viewport-lock=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.verticalViewportLock}</span><span class="s3">\&quot;\n                    </span><span class="s1">horizontal-positioning-mode=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.horizontalPositioningMode}</span><span class="s3">\&quot;\n                    </span><span class="s1">horizontal-default-position=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.horizontalDefaultPosition}</span><span class="s3">\&quot;\n                    </span><span class="s1">horizontal-scaling=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.horizontalScaling}</span><span class="s3">\&quot;\n                    </span><span class="s1">horizontal-inset=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.horizontalInset}</span><span class="s3">\&quot;\n                    </span><span class="s1">horizontal-viewport-lock=</span><span class="s3">\&quot;</span><span class="s1">${x =&gt; x.menuConfig.horizontalViewportLock}</span><span class="s3">\&quot;\n                    </span><span class="s1">@loaded=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleRegionLoaded(c.event)}</span><span class="s3">\&quot;\n                    </span><span class="s1">${ref(</span><span class="s3">\&quot;</span><span class="s1">region</span><span class="s3">\&quot;</span><span class="s1">)}</span><span class="s3">\n                </span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">${when(x =&gt; !x.showNoOptions &amp;&amp; !x.showLoading, html `</span><span class="s3">\n                            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">menu-region</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n                        </span><span class="s1">`)}</span><span class="s3">\n                    </span><span class="s1">${when(x =&gt; x.showNoOptions &amp;&amp; !x.showLoading, html `</span><span class="s3">\n                            </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">no-options-display</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">no-options-display</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                                </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">no-options-region</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                                    </span><span class="s1">${x =&gt; x.noSuggestionsText}</span><span class="s3">\n                                </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                        </span><span class="s1">`)}</span><span class="s3">\n                    </span><span class="s1">${when(x =&gt; x.showLoading, html `</span><span class="s3">\n                            </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">loading-display</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">loading-display</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                                </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">loading-region</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                                    </span><span class="s1">&lt;${progressRingTag}</span><span class="s3">\n                                        </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">loading-progress</span><span class="s3">\&quot;\n                                        </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">loading-progress</span><span class="s3">\n                                        </span><span class="s1">slot=</span><span class="s3">\&quot;</span><span class="s1">loading-region</span><span class="s3">\&quot;\n                                    </span><span class="s1">&gt;&lt;/${progressRingTag}&gt;</span><span class="s3">\n                                        </span><span class="s1">${x =&gt; x.loadingText}</span><span class="s3">\n                                </span><span class="s1">&lt;/slot&gt;</span><span class="s3">\n                            </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                        </span><span class="s1">`)}</span><span class="s3">\n                </span><span class="s1">&lt;/${anchoredRegionTag}&gt;</span><span class="s3">\n            </span><span class="s1">`)}</span><span class="s3">\n        </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html, slotted } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The template for the List Picker component.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const pickerMenuTemplate = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n        </span><span class="s1">&lt;template role=</span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot; </span><span class="s1">slot=</span><span class="s3">\&quot;</span><span class="s1">menu-region</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">options-display</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">options-display</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">header-region</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">header-region</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">header-region</span><span class="s3">\&quot; </span><span class="s1">${slotted(</span><span class="s3">\&quot;</span><span class="s1">headerElements</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n\n                </span><span class="s1">&lt;slot ${slotted(</span><span class="s3">\&quot;</span><span class="s1">menuElements</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;div class=</span><span class="s3">\&quot;</span><span class="s1">footer-region</span><span class="s3">\&quot; </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">footer-region</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">footer-region</span><span class="s3">\&quot; </span><span class="s1">${slotted(</span><span class="s3">\&quot;</span><span class="s1">footerElements</span><span class="s3">\&quot;</span><span class="s1">)}&gt;&lt;/slot&gt;</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n                </span><span class="s1">&lt;div</span><span class="s3">\n                    </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">alert</span><span class="s3">\&quot;\n                    </span><span class="s1">aria-live=</span><span class="s3">\&quot;</span><span class="s1">polite</span><span class="s3">\&quot;\n                    </span><span class="s1">part=</span><span class="s3">\&quot;</span><span class="s1">suggestions-available-alert</span><span class="s3">\&quot;\n                    </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">suggestions-available-alert</span><span class="s3">\&quot;\n                </span><span class="s1">&gt;</span><span class="s3">\n                    </span><span class="s1">${x =&gt; x.suggestionsAvailableText}</span><span class="s3">\n                </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n            </span><span class="s1">&lt;/div&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const pickerMenuOptionTemplate = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n        </span><span class="s1">&lt;template</span><span class="s3">\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">listitem</span><span class="s3">\&quot;\n            </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">-1</span><span class="s3">\&quot;\n            </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleClick(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const pickerListTemplate = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n        </span><span class="s1">&lt;template slot=</span><span class="s3">\&quot;</span><span class="s1">list-region</span><span class="s3">\&quot; </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">list</span><span class="s3">\&quot; </span><span class="s1">class=</span><span class="s3">\&quot;</span><span class="s1">picker-list</span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot name=</span><span class="s3">\&quot;</span><span class="s1">input-region</span><span class="s3">\&quot;</span><span class="s1">&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { html } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const pickerListItemTemplate = (context, definition) =&gt; {</span><span class="s3">\n    </span><span class="s1">return html `</span><span class="s3">\n        </span><span class="s1">&lt;template</span><span class="s3">\n            </span><span class="s1">role=</span><span class="s3">\&quot;</span><span class="s1">listitem</span><span class="s3">\&quot;\n            </span><span class="s1">tabindex=</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;\n            </span><span class="s1">@click=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleClick(c.event)}</span><span class="s3">\&quot;\n            </span><span class="s1">@keydown=</span><span class="s3">\&quot;</span><span class="s1">${(x, c) =&gt; x.handleKeyDown(c.event)}</span><span class="s3">\&quot;\n        </span><span class="s1">&gt;</span><span class="s3">\n            </span><span class="s1">&lt;slot&gt;&lt;/slot&gt;</span><span class="s3">\n        </span><span class="s1">&lt;/template&gt;</span><span class="s3">\n    </span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { bodyFont, designUnit, fillColor, typeRampBaseFontSize } from '../../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Picker</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const pickerStyles = (context, definition) =&gt; css `</span><span class="s3">\n  </span><span class="s1">.region {</span><span class="s3">\n    </span><span class="s1">z-index: 1000;</span><span class="s3">\n    </span><span class="s1">overflow: hidden;</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n    </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.loaded {</span><span class="s3">\n    </span><span class="s1">opacity: 1;</span><span class="s3">\n    </span><span class="s1">pointer-events: none;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.loading-display,</span><span class="s3">\n  </span><span class="s1">.no-options-display {</span><span class="s3">\n    </span><span class="s1">background: ${fillColor};</span><span class="s3">\n    </span><span class="s1">width: 100%;</span><span class="s3">\n    </span><span class="s1">min-height: calc(${heightNumber} * 1px);</span><span class="s3">\n    </span><span class="s1">display: flex;</span><span class="s3">\n    </span><span class="s1">flex-direction: column;</span><span class="s3">\n    </span><span class="s1">align-items: center;</span><span class="s3">\n    </span><span class="s1">justify-items: center;</span><span class="s3">\n    </span><span class="s1">padding: calc(${designUnit} * 1px);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.loading-progress {</span><span class="s3">\n    </span><span class="s1">width: 42px;</span><span class="s3">\n    </span><span class="s1">height: 42px;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.bottom {</span><span class="s3">\n    </span><span class="s1">flex-direction: column;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">.top {</span><span class="s3">\n    </span><span class="s1">flex-direction: column-reverse;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">`;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { controlCornerRadius, designUnit, fillColor, strokeWidth } from '../../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { elevation } from '../../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Picker menu</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const pickerMenuStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">:host {</span><span class="s3">\n      </span><span class="s1">background: ${fillColor};</span><span class="s3">\n      </span><span class="s1">--elevation: 11;</span><span class="s3">\n      </span><span class="s1">/* TODO: a mechanism to manage z-index across components</span><span class="s3">\n            </span><span class="s1">https://github.com/microsoft/fast/issues/3813 */</span><span class="s3">\n      </span><span class="s1">z-index: 1000;</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">width: 100%;</span><span class="s3">\n      </span><span class="s1">max-height: 100%;</span><span class="s3">\n      </span><span class="s1">min-height: 58px;</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">flex-direction: column;</span><span class="s3">\n      </span><span class="s1">overflow-y: auto;</span><span class="s3">\n      </span><span class="s1">overflow-x: hidden;</span><span class="s3">\n      </span><span class="s1">pointer-events: auto;</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">padding: calc(${designUnit} * 1px) 0;</span><span class="s3">\n      </span><span class="s1">border: calc(${strokeWidth} * 1px) solid transparent;</span><span class="s3">\n      </span><span class="s1">${elevation}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">.suggestions-available-alert {</span><span class="s3">\n      </span><span class="s1">height: 0;</span><span class="s3">\n      </span><span class="s1">opacity: 0;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Canvas};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.CanvasText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillActive, accentFillHover, accentFillRest, bodyFont, controlCornerRadius, designUnit, focusStrokeOuter, focusStrokeWidth, foregroundOnAccentActive, foregroundOnAccentHover, foregroundOnAccentRest, neutralFillStealthActive, neutralFillStealthFocus, neutralFillStealthHover, neutralFillStealthRest, neutralForegroundRest, typeRampBaseFontSize, typeRampBaseLineHeight } from '../../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Picker menu option</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const pickerMenuOptionStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">:host {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">justify-items: center;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">border: calc(${focusStrokeWidth} * 1px) solid transparent;</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthRest};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">min-height: calc(${heightNumber} * 1px);</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">margin: 0 calc(${designUnit} * 1px);</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n      </span><span class="s1">padding: 0 calc(${designUnit} * 2.25px);</span><span class="s3">\n      </span><span class="s1">user-select: none;</span><span class="s3">\n      </span><span class="s1">white-space: nowrap;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:${focusVisible}[role=</span><span class="s3">\&quot;</span><span class="s1">listitem</span><span class="s3">\&quot;</span><span class="s1">]) {</span><span class="s3">\n      </span><span class="s1">border-color: ${focusStrokeOuter};</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthFocus};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:hover) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:active) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-selected='true']) {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n      </span><span class="s1">color: ${foregroundOnAccentRest};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-selected='true']:hover) {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillHover};</span><span class="s3">\n      </span><span class="s1">color: ${foregroundOnAccentHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-selected='true']:active) {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillActive};</span><span class="s3">\n      </span><span class="s1">color: ${foregroundOnAccentActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">border-color: transparent;</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(:not([aria-selected='true']):hover),</span><span class="s3">\n      </span><span class="s1">:host([aria-selected='true']) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([disabled]),</span><span class="s3">\n      </span><span class="s1">:host([disabled]:not([aria-selected='true']):hover) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Canvas};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillActive, accentFillRest, bodyFont, controlCornerRadius, designUnit, focusStrokeOuter, neutralFillInputHover, neutralFillInputRest, neutralForegroundRest, strokeWidth, typeRampBaseFontSize, typeRampBaseLineHeight } from '../../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Picker list</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const pickerListStyles = (context, definition) =&gt; css `</span><span class="s3">\n        </span><span class="s1">:host {</span><span class="s3">\n            </span><span class="s1">display: flex;</span><span class="s3">\n            </span><span class="s1">flex-direction: row;</span><span class="s3">\n            </span><span class="s1">column-gap: calc(${designUnit} * 1px);</span><span class="s3">\n            </span><span class="s1">row-gap: calc(${designUnit} * 1px);</span><span class="s3">\n            </span><span class="s1">flex-wrap: wrap;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">::slotted([role=</span><span class="s3">\&quot;</span><span class="s1">combobox</span><span class="s3">\&quot;</span><span class="s1">]) {</span><span class="s3">\n            </span><span class="s1">min-width: 260px;</span><span class="s3">\n            </span><span class="s1">width: auto;</span><span class="s3">\n            </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n            </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n            </span><span class="s1">background: ${neutralFillInputRest};</span><span class="s3">\n            </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n            </span><span class="s1">border: calc(${strokeWidth} * 1px) solid ${accentFillRest};</span><span class="s3">\n            </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n            </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n            </span><span class="s1">outline: none;</span><span class="s3">\n            </span><span class="s1">user-select: none;</span><span class="s3">\n            </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n            </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n            </span><span class="s1">padding: 0 calc(${designUnit} * 2px + 1px);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">::slotted([role=</span><span class="s3">\&quot;</span><span class="s1">combobox</span><span class="s3">\&quot;</span><span class="s1">]:active) { {</span><span class="s3">\n            </span><span class="s1">background: ${neutralFillInputHover};</span><span class="s3">\n            </span><span class="s1">border-color: ${accentFillActive};</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n\n        </span><span class="s1">::slotted([role=</span><span class="s3">\&quot;</span><span class="s1">combobox</span><span class="s3">\&quot;</span><span class="s1">]:focus-within) {</span><span class="s3">\n            </span><span class="s1">border-color: ${focusStrokeOuter};</span><span class="s3">\n            </span><span class="s1">box-shadow: 0 0 0 1px ${focusStrokeOuter} inset;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">::slotted([role='combobox']:active) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Field};</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">::slotted([role='combobox']:focus-within) {</span><span class="s3">\n        </span><span class="s1">border-color: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">box-shadow: 0 0 0 1px ${SystemColors.Highlight} inset;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">::slotted(input:placeholder) {</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { css } from '@microsoft/fast-element';</span><span class="s3">\n</span><span class="s1">import { focusVisible, forcedColorsStylesheetBehavior } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { SystemColors } from '@microsoft/fast-web-utilities';</span><span class="s3">\n</span><span class="s1">import { accentFillRest, bodyFont, controlCornerRadius, designUnit, focusStrokeOuter, focusStrokeWidth, foregroundOnAccentActive, neutralFillStealthActive, neutralFillStealthFocus, neutralFillStealthHover, neutralFillStealthRest, neutralForegroundRest, typeRampBaseFontSize, typeRampBaseLineHeight } from '../../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { heightNumber } from '../../styles/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Styles for Picker list item</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const pickerListItemStyles = (context, definition) =&gt; css `</span><span class="s3">\n    </span><span class="s1">:host {</span><span class="s3">\n      </span><span class="s1">display: flex;</span><span class="s3">\n      </span><span class="s1">align-items: center;</span><span class="s3">\n      </span><span class="s1">justify-items: center;</span><span class="s3">\n      </span><span class="s1">font-family: ${bodyFont};</span><span class="s3">\n      </span><span class="s1">border-radius: calc(${controlCornerRadius} * 1px);</span><span class="s3">\n      </span><span class="s1">border: calc(${focusStrokeWidth} * 1px) solid transparent;</span><span class="s3">\n      </span><span class="s1">box-sizing: border-box;</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthRest};</span><span class="s3">\n      </span><span class="s1">color: ${neutralForegroundRest};</span><span class="s3">\n      </span><span class="s1">cursor: pointer;</span><span class="s3">\n      </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">font-size: ${typeRampBaseFontSize};</span><span class="s3">\n      </span><span class="s1">height: calc(${heightNumber} * 1px);</span><span class="s3">\n      </span><span class="s1">line-height: ${typeRampBaseLineHeight};</span><span class="s3">\n      </span><span class="s1">outline: none;</span><span class="s3">\n      </span><span class="s1">overflow: hidden;</span><span class="s3">\n      </span><span class="s1">padding: 0 calc(${designUnit} * 2.25px);</span><span class="s3">\n      </span><span class="s1">user-select: none;</span><span class="s3">\n      </span><span class="s1">white-space: nowrap;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:hover) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthHover};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:active) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host(:${focusVisible}) {</span><span class="s3">\n      </span><span class="s1">background: ${neutralFillStealthFocus};</span><span class="s3">\n      </span><span class="s1">border-color: ${focusStrokeOuter};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">:host([aria-selected='true']) {</span><span class="s3">\n      </span><span class="s1">background: ${accentFillRest};</span><span class="s3">\n      </span><span class="s1">color: ${foregroundOnAccentActive};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">`.withBehaviors(forcedColorsStylesheetBehavior(css `</span><span class="s3">\n      </span><span class="s1">:host {</span><span class="s3">\n        </span><span class="s1">border-color: transparent;</span><span class="s3">\n        </span><span class="s1">forced-color-adjust: none;</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.ButtonText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host(:not([aria-selected='true']):hover),</span><span class="s3">\n      </span><span class="s1">:host([aria-selected='true']) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Highlight};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.HighlightText};</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">:host([disabled]),</span><span class="s3">\n      </span><span class="s1">:host([disabled]:not([aria-selected='true']):hover) {</span><span class="s3">\n        </span><span class="s1">background: ${SystemColors.Canvas};</span><span class="s3">\n        </span><span class="s1">color: ${SystemColors.GrayText};</span><span class="s3">\n        </span><span class="s1">fill: currentcolor;</span><span class="s3">\n        </span><span class="s1">opacity: 1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">`));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Copyright (c) Microsoft Corporation.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { PickerMenu, Picker, PickerList, PickerListItem, pickerListItemTemplate, pickerListTemplate, PickerMenuOption, pickerMenuOptionTemplate, pickerMenuTemplate, pickerTemplate } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">import { fillColor, neutralLayerFloating } from '../../design-tokens.js';</span><span class="s3">\n</span><span class="s1">import { pickerStyles } from './picker.styles.js';</span><span class="s3">\n</span><span class="s1">import { pickerMenuStyles } from './picker-menu.styles.js';</span><span class="s3">\n</span><span class="s1">import { pickerMenuOptionStyles } from './picker-menu-option.styles.js';</span><span class="s3">\n</span><span class="s1">import { pickerListStyles } from './picker-list.styles.js';</span><span class="s3">\n</span><span class="s1">import { pickerListItemStyles } from './picker-list-item.styles.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Picker class</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-draft-picker</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterPicker extends Picker {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* The FAST Picker Custom Element. Implements {@link @microsoft/fast-foundation#Picker},</span><span class="s3">\n </span><span class="s1">* {@link @microsoft/fast-foundation#PickerTemplate}</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* * Generates HTML Element: `&lt;jp-draft-picker&gt;`</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpPicker = JupyterPicker.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'draft-picker',</span><span class="s3">\n    </span><span class="s1">baseClass: Picker,</span><span class="s3">\n    </span><span class="s1">template: pickerTemplate,</span><span class="s3">\n    </span><span class="s1">styles: pickerStyles,</span><span class="s3">\n    </span><span class="s1">shadowOptions: {}</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Picker menu class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-draft-picker-menu</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterPickerMenu extends PickerMenu {</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">connectedCallback() {</span><span class="s3">\n        </span><span class="s1">fillColor.setValueFor(this, neutralLayerFloating);</span><span class="s3">\n        </span><span class="s1">super.connectedCallback();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Component that displays the list of available picker options</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* HTML Element: </span><span class="s3">\\</span><span class="s1">&lt;jp-draft-picker-menu</span><span class="s3">\\</span><span class="s1">&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpPickerMenu = JupyterPickerMenu.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'draft-picker-menu',</span><span class="s3">\n    </span><span class="s1">baseClass: PickerMenu,</span><span class="s3">\n    </span><span class="s1">template: pickerMenuTemplate,</span><span class="s3">\n    </span><span class="s1">styles: pickerMenuStyles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Picker menu options class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-draft-picker-menu-option</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterPickerMenuOption extends PickerMenuOption {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">*  Component that displays available picker menu options</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* HTML Element: </span><span class="s3">\\</span><span class="s1">&lt;jp-draft-picker-menu-option</span><span class="s3">\\</span><span class="s1">&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpPickerMenuOption = JupyterPickerMenuOption.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'draft-picker-menu-option',</span><span class="s3">\n    </span><span class="s1">baseClass: PickerMenuOption,</span><span class="s3">\n    </span><span class="s1">template: pickerMenuOptionTemplate,</span><span class="s3">\n    </span><span class="s1">styles: pickerMenuOptionStyles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Picker list class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-draft-picker-list</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterPickerList extends PickerList {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Component that displays the list of selected picker items along</span><span class="s3">\n </span><span class="s1">* with the input combobox</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* HTML Element: </span><span class="s3">\\</span><span class="s1">&lt;jp-draft-picker-list</span><span class="s3">\\</span><span class="s1">&gt;</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpPickerList = JupyterPickerList.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'draft-picker-list',</span><span class="s3">\n    </span><span class="s1">baseClass: PickerList,</span><span class="s3">\n    </span><span class="s1">template: pickerListTemplate,</span><span class="s3">\n    </span><span class="s1">styles: pickerListStyles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Picker list item class</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @tagname jp-draft-picker-list-item</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">class JupyterPickerListItem extends PickerListItem {</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Component that displays selected items</span><span class="s3">\n </span><span class="s1">*</span><span class="s3">\n </span><span class="s1">* @alpha</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* HTML Element: </span><span class="s3">\\</span><span class="s1">&lt;jp-draft-picker-list-item</span><span class="s3">\\</span><span class="s1">&gt;</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const jpPickerListItem = JupyterPickerListItem.compose({</span><span class="s3">\n    </span><span class="s1">baseName: 'draft-picker-list-item',</span><span class="s3">\n    </span><span class="s1">baseClass: PickerListItem,</span><span class="s3">\n    </span><span class="s1">template: pickerListItemTemplate,</span><span class="s3">\n    </span><span class="s1">styles: pickerListItemStyles</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">export { JupyterPicker as Picker, JupyterPickerMenu as PickerMenu, JupyterPickerMenuOption as PickerMenuOption, JupyterPickerList as PickerList, JupyterPickerListItem as PickerListItem, pickerStyles, pickerListItemStyles, pickerMenuOptionStyles, pickerMenuStyles };</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Export all custom element definitions</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">import { jpAccordion } from './accordion/index.js';</span><span class="s3">\n</span><span class="s1">import { jpAccordionItem } from './accordion-item/index.js';</span><span class="s3">\n</span><span class="s1">import { jpAnchor } from './anchor/index.js';</span><span class="s3">\n</span><span class="s1">import { jpAnchoredRegion } from './anchored-region/index.js';</span><span class="s3">\n</span><span class="s1">import { jpAvatar } from './avatar/index.js';</span><span class="s3">\n</span><span class="s1">import { jpBadge } from './badge/index.js';</span><span class="s3">\n</span><span class="s1">import { jpBreadcrumb } from './breadcrumb/index.js';</span><span class="s3">\n</span><span class="s1">import { jpBreadcrumbItem } from './breadcrumb-item/index.js';</span><span class="s3">\n</span><span class="s1">import { jpButton } from './button/index.js';</span><span class="s3">\n</span><span class="s1">import { jpCard } from './card/index.js';</span><span class="s3">\n</span><span class="s1">import { jpCheckbox } from './checkbox/index.js';</span><span class="s3">\n</span><span class="s1">import { jpCombobox } from './combobox/index.js';</span><span class="s3">\n</span><span class="s1">import { jpDataGrid, jpDataGridCell, jpDataGridRow } from './data-grid/index.js';</span><span class="s3">\n</span><span class="s1">import { jpDateField } from './date-field/index.js';</span><span class="s3">\n</span><span class="s1">import { jpDesignSystemProvider } from './design-system-provider/index.js';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Don't remove. This is needed to prevent api-extractor errors.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">// import type { DesignSystemProvider } from </span><span class="s3">\&quot;</span><span class="s1">./design-system-provider/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { jpDialog } from './dialog/index.js';</span><span class="s3">\n</span><span class="s1">import { jpDisclosure } from './disclosure/index.js';</span><span class="s3">\n</span><span class="s1">import { jpDivider } from './divider/index.js';</span><span class="s3">\n</span><span class="s1">import { jpListbox } from './listbox/index.js';</span><span class="s3">\n</span><span class="s1">import { jpMenu } from './menu/index.js';</span><span class="s3">\n</span><span class="s1">import { jpMenuItem } from './menu-item/index.js';</span><span class="s3">\n</span><span class="s1">import { jpNumberField } from './number-field/index.js';</span><span class="s3">\n</span><span class="s1">import { jpOption } from './option/index.js';</span><span class="s3">\n</span><span class="s1">import { jpProgress } from './progress/index.js';</span><span class="s3">\n</span><span class="s1">import { jpProgressRing } from './progress-ring/index.js';</span><span class="s3">\n</span><span class="s1">import { jpRadio } from './radio/index.js';</span><span class="s3">\n</span><span class="s1">import { jpRadioGroup } from './radio-group/index.js';</span><span class="s3">\n</span><span class="s1">import { jpSearch } from './search/index.js';</span><span class="s3">\n</span><span class="s1">import { jpSelect } from './select/index.js';</span><span class="s3">\n</span><span class="s1">import { jpSkeleton } from './skeleton/index.js';</span><span class="s3">\n</span><span class="s1">import { jpSlider } from './slider/index.js';</span><span class="s3">\n</span><span class="s1">import { jpSliderLabel } from './slider-label/index.js';</span><span class="s3">\n</span><span class="s1">import { jpSwitch } from './switch/index.js';</span><span class="s3">\n</span><span class="s1">import { jpTabPanel } from './tab-panel/index.js';</span><span class="s3">\n</span><span class="s1">import { jpTab } from './tab/index.js';</span><span class="s3">\n</span><span class="s1">import { jpTabs } from './tabs/index.js';</span><span class="s3">\n</span><span class="s1">import { jpTextArea } from './text-area/index.js';</span><span class="s3">\n</span><span class="s1">import { jpTextField } from './text-field/index.js';</span><span class="s3">\n</span><span class="s1">import { jpToolbar } from './toolbar/index.js';</span><span class="s3">\n</span><span class="s1">import { jpTooltip } from './tooltip/index.js';</span><span class="s3">\n</span><span class="s1">import { jpTreeItem } from './tree-item/index.js';</span><span class="s3">\n</span><span class="s1">import { jpTreeView } from './tree-view/index.js';</span><span class="s3">\n</span><span class="s1">import { jpPicker, jpPickerList, jpPickerListItem, jpPickerMenu, jpPickerMenuOption } from './drafts/picker/index.js';</span><span class="s3">\n</span><span class="s1">// When adding new components, make sure to add the component to the `allComponents` object</span><span class="s3">\n</span><span class="s1">// in addition to exporting the component by name. Ideally we would be able to just add</span><span class="s3">\n</span><span class="s1">// `export * as allComponents from </span><span class="s3">\&quot;</span><span class="s1">./custom-elements</span><span class="s3">\&quot; </span><span class="s1">from  src/index.ts but API extractor</span><span class="s3">\n</span><span class="s1">// throws for `export * as` expressions. https://github.com/microsoft/rushstack/pull/1796S</span><span class="s3">\n</span><span class="s1">export { jpAccordion, jpAccordionItem, jpAnchor, jpAnchoredRegion, jpAvatar, jpBadge, jpBreadcrumb, jpBreadcrumbItem, jpButton, jpCard, jpCheckbox, jpCombobox, jpDataGrid, jpDataGridCell, jpDataGridRow, jpDateField, jpDesignSystemProvider, jpDialog, jpDisclosure, jpDivider, jpListbox, jpMenu, jpMenuItem, jpNumberField, jpOption, jpPicker, jpPickerList, jpPickerListItem, jpPickerMenu, jpPickerMenuOption, jpProgress, jpProgressRing, jpRadio, jpRadioGroup, jpSearch, jpSelect, jpSkeleton, jpSlider, jpSliderLabel, jpSwitch, jpTab, jpTabPanel, jpTabs, jpTextArea, jpTextField, jpToolbar, jpTooltip, jpTreeItem, jpTreeView };</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* All Jupyter Web Components</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">* @remarks</span><span class="s3">\n </span><span class="s1">* This object can be passed directly to the Design System's `register` method to</span><span class="s3">\n </span><span class="s1">* statically link and register all available components.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const allComponents = {</span><span class="s3">\n    </span><span class="s1">jpAccordion,</span><span class="s3">\n    </span><span class="s1">jpAccordionItem,</span><span class="s3">\n    </span><span class="s1">jpAnchor,</span><span class="s3">\n    </span><span class="s1">jpAnchoredRegion,</span><span class="s3">\n    </span><span class="s1">jpAvatar,</span><span class="s3">\n    </span><span class="s1">jpBadge,</span><span class="s3">\n    </span><span class="s1">jpBreadcrumb,</span><span class="s3">\n    </span><span class="s1">jpBreadcrumbItem,</span><span class="s3">\n    </span><span class="s1">jpButton,</span><span class="s3">\n    </span><span class="s1">jpCard,</span><span class="s3">\n    </span><span class="s1">jpCheckbox,</span><span class="s3">\n    </span><span class="s1">jpCombobox,</span><span class="s3">\n    </span><span class="s1">jpDataGrid,</span><span class="s3">\n    </span><span class="s1">jpDataGridCell,</span><span class="s3">\n    </span><span class="s1">jpDataGridRow,</span><span class="s3">\n    </span><span class="s1">jpDateField,</span><span class="s3">\n    </span><span class="s1">jpDesignSystemProvider,</span><span class="s3">\n    </span><span class="s1">jpDialog,</span><span class="s3">\n    </span><span class="s1">jpDisclosure,</span><span class="s3">\n    </span><span class="s1">jpDivider,</span><span class="s3">\n    </span><span class="s1">jpListbox,</span><span class="s3">\n    </span><span class="s1">jpMenu,</span><span class="s3">\n    </span><span class="s1">jpMenuItem,</span><span class="s3">\n    </span><span class="s1">jpNumberField,</span><span class="s3">\n    </span><span class="s1">jpOption,</span><span class="s3">\n    </span><span class="s1">jpPicker,</span><span class="s3">\n    </span><span class="s1">jpPickerList,</span><span class="s3">\n    </span><span class="s1">jpPickerListItem,</span><span class="s3">\n    </span><span class="s1">jpPickerMenu,</span><span class="s3">\n    </span><span class="s1">jpPickerMenuOption,</span><span class="s3">\n    </span><span class="s1">jpProgress,</span><span class="s3">\n    </span><span class="s1">jpProgressRing,</span><span class="s3">\n    </span><span class="s1">jpRadio,</span><span class="s3">\n    </span><span class="s1">jpRadioGroup,</span><span class="s3">\n    </span><span class="s1">jpSearch,</span><span class="s3">\n    </span><span class="s1">jpSelect,</span><span class="s3">\n    </span><span class="s1">jpSkeleton,</span><span class="s3">\n    </span><span class="s1">jpSlider,</span><span class="s3">\n    </span><span class="s1">jpSliderLabel,</span><span class="s3">\n    </span><span class="s1">jpSwitch,</span><span class="s3">\n    </span><span class="s1">jpTab,</span><span class="s3">\n    </span><span class="s1">jpTabPanel,</span><span class="s3">\n    </span><span class="s1">jpTabs,</span><span class="s3">\n    </span><span class="s1">jpTextArea,</span><span class="s3">\n    </span><span class="s1">jpTextField,</span><span class="s3">\n    </span><span class="s1">jpToolbar,</span><span class="s3">\n    </span><span class="s1">jpTooltip,</span><span class="s3">\n    </span><span class="s1">jpTreeItem,</span><span class="s3">\n    </span><span class="s1">jpTreeView,</span><span class="s3">\n    </span><span class="s1">register(container, ...rest) {</span><span class="s3">\n        </span><span class="s1">if (!container) {</span><span class="s3">\n            </span><span class="s1">// preserve backward compatibility with code that loops through</span><span class="s3">\n            </span><span class="s1">// the values of this object and calls them as funcs with no args</span><span class="s3">\n            </span><span class="s1">return;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">for (const key in this) {</span><span class="s3">\n            </span><span class="s1">if (key === 'register') {</span><span class="s3">\n                </span><span class="s1">continue;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">this[key]().register(container, ...rest);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import { FASTElementDefinition } from </span><span class="s3">\&quot;</span><span class="s1">@microsoft/fast-element</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { FoundationElement } from </span><span class="s3">\&quot;</span><span class="s1">../foundation-element/foundation-element.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DI, Registration } from </span><span class="s3">\&quot;</span><span class="s1">../di/di.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { DesignToken } from </span><span class="s3">\&quot;</span><span class="s1">../design-token/design-token.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import { ComponentPresentation } from </span><span class="s3">\&quot;</span><span class="s1">./component-presentation.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">/* eslint-disable @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Indicates what to do with an ambiguous (duplicate) element.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const ElementDisambiguation = Object.freeze({</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Skip defining the element but still call the provided callback passed</span><span class="s3">\n     </span><span class="s1">* to DesignSystemRegistrationContext.tryDefineElement</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">definitionCallbackOnly: null,</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Ignore the duplicate element entirely.</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">ignoreDuplicate: Symbol(),</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">const elementTypesByTag = new Map();</span><span class="s3">\n</span><span class="s1">const elementTagsByType = new Map();</span><span class="s3">\n</span><span class="s1">let rootDesignSystem = null;</span><span class="s3">\n</span><span class="s1">const designSystemKey = DI.createInterface(x =&gt; x.cachedCallback(handler =&gt; {</span><span class="s3">\n    </span><span class="s1">if (rootDesignSystem === null) {</span><span class="s3">\n        </span><span class="s1">rootDesignSystem = new DefaultDesignSystem(null, handler);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return rootDesignSystem;</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* An API gateway to design system features.</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export const DesignSystem = Object.freeze({</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Returns the HTML element name that the type is defined as.</span><span class="s3">\n     </span><span class="s1">* @param type - The type to lookup.</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">tagFor(type) {</span><span class="s3">\n        </span><span class="s1">return elementTagsByType.get(type);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Searches the DOM hierarchy for the design system that is responsible</span><span class="s3">\n     </span><span class="s1">* for the provided element.</span><span class="s3">\n     </span><span class="s1">* @param element - The element to locate the design system for.</span><span class="s3">\n     </span><span class="s1">* @returns The located design system.</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">responsibleFor(element) {</span><span class="s3">\n        </span><span class="s1">const owned = element.$$designSystem$$;</span><span class="s3">\n        </span><span class="s1">if (owned) {</span><span class="s3">\n            </span><span class="s1">return owned;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const container = DI.findResponsibleContainer(element);</span><span class="s3">\n        </span><span class="s1">return container.get(designSystemKey);</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">/**</span><span class="s3">\n     </span><span class="s1">* Gets the DesignSystem if one is explicitly defined on the provided element;</span><span class="s3">\n     </span><span class="s1">* otherwise creates a design system defined directly on the element.</span><span class="s3">\n     </span><span class="s1">* @param element - The element to get or create a design system for.</span><span class="s3">\n     </span><span class="s1">* @returns The design system.</span><span class="s3">\n     </span><span class="s1">* @public</span><span class="s3">\n     </span><span class="s1">*/</span><span class="s3">\n    </span><span class="s1">getOrCreate(node) {</span><span class="s3">\n        </span><span class="s1">if (!node) {</span><span class="s3">\n            </span><span class="s1">if (rootDesignSystem === null) {</span><span class="s3">\n                </span><span class="s1">rootDesignSystem = DI.getOrCreateDOMContainer().get(designSystemKey);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n            </span><span class="s1">return rootDesignSystem;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const owned = node.$$designSystem$$;</span><span class="s3">\n        </span><span class="s1">if (owned) {</span><span class="s3">\n            </span><span class="s1">return owned;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">const container = DI.getOrCreateDOMContainer(node);</span><span class="s3">\n        </span><span class="s1">if (container.has(designSystemKey, false)) {</span><span class="s3">\n            </span><span class="s1">return container.get(designSystemKey);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n            </span><span class="s1">const system = new DefaultDesignSystem(node, container);</span><span class="s3">\n            </span><span class="s1">container.register(Registration.instance(designSystemKey, system));</span><span class="s3">\n            </span><span class="s1">return system;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n</span><span class="s1">function extractTryDefineElementParams(params, elementDefinitionType, elementDefinitionCallback) {</span><span class="s3">\n    </span><span class="s1">if (typeof params === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">return {</span><span class="s3">\n            </span><span class="s1">name: params,</span><span class="s3">\n            </span><span class="s1">type: elementDefinitionType,</span><span class="s3">\n            </span><span class="s1">callback: elementDefinitionCallback,</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n        </span><span class="s1">return params;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">class DefaultDesignSystem {</span><span class="s3">\n    </span><span class="s1">constructor(owner, container) {</span><span class="s3">\n        </span><span class="s1">this.owner = owner;</span><span class="s3">\n        </span><span class="s1">this.container = container;</span><span class="s3">\n        </span><span class="s1">this.designTokensInitialized = false;</span><span class="s3">\n        </span><span class="s1">this.prefix = </span><span class="s3">\&quot;</span><span class="s1">fast</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n        </span><span class="s1">this.shadowRootMode = undefined;</span><span class="s3">\n        </span><span class="s1">this.disambiguate = () =&gt; ElementDisambiguation.definitionCallbackOnly;</span><span class="s3">\n        </span><span class="s1">if (owner !== null) {</span><span class="s3">\n            </span><span class="s1">owner.$$designSystem$$ = this;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">withPrefix(prefix) {</span><span class="s3">\n        </span><span class="s1">this.prefix = prefix;</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">withShadowRootMode(mode) {</span><span class="s3">\n        </span><span class="s1">this.shadowRootMode = mode;</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">withElementDisambiguation(callback) {</span><span class="s3">\n        </span><span class="s1">this.disambiguate = callback;</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">withDesignTokenRoot(root) {</span><span class="s3">\n        </span><span class="s1">this.designTokenRoot = root;</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">register(...registrations) {</span><span class="s3">\n        </span><span class="s1">const container = this.container;</span><span class="s3">\n        </span><span class="s1">const elementDefinitionEntries = [];</span><span class="s3">\n        </span><span class="s1">const disambiguate = this.disambiguate;</span><span class="s3">\n        </span><span class="s1">const shadowRootMode = this.shadowRootMode;</span><span class="s3">\n        </span><span class="s1">const context = {</span><span class="s3">\n            </span><span class="s1">elementPrefix: this.prefix,</span><span class="s3">\n            </span><span class="s1">tryDefineElement(params, elementDefinitionType, elementDefinitionCallback) {</span><span class="s3">\n                </span><span class="s1">const extractedParams = extractTryDefineElementParams(params, elementDefinitionType, elementDefinitionCallback);</span><span class="s3">\n                </span><span class="s1">const { name, callback, baseClass } = extractedParams;</span><span class="s3">\n                </span><span class="s1">let { type } = extractedParams;</span><span class="s3">\n                </span><span class="s1">let elementName = name;</span><span class="s3">\n                </span><span class="s1">let typeFoundByName = elementTypesByTag.get(elementName);</span><span class="s3">\n                </span><span class="s1">let needsDefine = true;</span><span class="s3">\n                </span><span class="s1">while (typeFoundByName) {</span><span class="s3">\n                    </span><span class="s1">const result = disambiguate(elementName, type, typeFoundByName);</span><span class="s3">\n                    </span><span class="s1">switch (result) {</span><span class="s3">\n                        </span><span class="s1">case ElementDisambiguation.ignoreDuplicate:</span><span class="s3">\n                            </span><span class="s1">return;</span><span class="s3">\n                        </span><span class="s1">case ElementDisambiguation.definitionCallbackOnly:</span><span class="s3">\n                            </span><span class="s1">needsDefine = false;</span><span class="s3">\n                            </span><span class="s1">typeFoundByName = void 0;</span><span class="s3">\n                            </span><span class="s1">break;</span><span class="s3">\n                        </span><span class="s1">default:</span><span class="s3">\n                            </span><span class="s1">elementName = result;</span><span class="s3">\n                            </span><span class="s1">typeFoundByName = elementTypesByTag.get(elementName);</span><span class="s3">\n                            </span><span class="s1">break;</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">if (needsDefine) {</span><span class="s3">\n                    </span><span class="s1">if (elementTagsByType.has(type) || type === FoundationElement) {</span><span class="s3">\n                        </span><span class="s1">type = class extends type {</span><span class="s3">\n                        </span><span class="s1">};</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                    </span><span class="s1">elementTypesByTag.set(elementName, type);</span><span class="s3">\n                    </span><span class="s1">elementTagsByType.set(type, elementName);</span><span class="s3">\n                    </span><span class="s1">if (baseClass) {</span><span class="s3">\n                        </span><span class="s1">elementTagsByType.set(baseClass, elementName);</span><span class="s3">\n                    </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">}</span><span class="s3">\n                </span><span class="s1">elementDefinitionEntries.push(new ElementDefinitionEntry(container, elementName, type, shadowRootMode, callback, needsDefine));</span><span class="s3">\n            </span><span class="s1">},</span><span class="s3">\n        </span><span class="s1">};</span><span class="s3">\n        </span><span class="s1">if (!this.designTokensInitialized) {</span><span class="s3">\n            </span><span class="s1">this.designTokensInitialized = true;</span><span class="s3">\n            </span><span class="s1">if (this.designTokenRoot !== null) {</span><span class="s3">\n                </span><span class="s1">DesignToken.registerRoot(this.designTokenRoot);</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">container.registerWithContext(context, ...registrations);</span><span class="s3">\n        </span><span class="s1">for (const entry of elementDefinitionEntries) {</span><span class="s3">\n            </span><span class="s1">entry.callback(entry);</span><span class="s3">\n            </span><span class="s1">if (entry.willDefine &amp;&amp; entry.definition !== null) {</span><span class="s3">\n                </span><span class="s1">entry.definition.define();</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">return this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">class ElementDefinitionEntry {</span><span class="s3">\n    </span><span class="s1">constructor(container, name, type, shadowRootMode, callback, willDefine) {</span><span class="s3">\n        </span><span class="s1">this.container = container;</span><span class="s3">\n        </span><span class="s1">this.name = name;</span><span class="s3">\n        </span><span class="s1">this.type = type;</span><span class="s3">\n        </span><span class="s1">this.shadowRootMode = shadowRootMode;</span><span class="s3">\n        </span><span class="s1">this.callback = callback;</span><span class="s3">\n        </span><span class="s1">this.willDefine = willDefine;</span><span class="s3">\n        </span><span class="s1">this.definition = null;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">definePresentation(presentation) {</span><span class="s3">\n        </span><span class="s1">ComponentPresentation.define(this.name, presentation, this.container);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">defineElement(definition) {</span><span class="s3">\n        </span><span class="s1">this.definition = new FASTElementDefinition(this.type, Object.assign(Object.assign({}, definition), { name: this.name }));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">tagFor(type) {</span><span class="s3">\n        </span><span class="s1">return DesignSystem.tagFor(type);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">/* eslint-enable @typescript-eslint/no-non-null-assertion */</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">import { DesignSystem } from '@microsoft/fast-foundation';</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Provides a design system for the specified element either by returning one that was</span><span class="s3">\n </span><span class="s1">* already created for that element or creating one.</span><span class="s3">\n </span><span class="s1">* @param element - The element to root the design system at. By default, this is the body.</span><span class="s3">\n </span><span class="s1">* @returns A Jupyter Design System</span><span class="s3">\n </span><span class="s1">* @public</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export function provideJupyterDesignSystem(element) {</span><span class="s3">\n    </span><span class="s1">return DesignSystem.getOrCreate(element).withPrefix('jp');</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Copyright (c) Jupyter Development Team.</span><span class="s3">\n</span><span class="s1">// Distributed under the terms of the Modified BSD License.</span><span class="s3">\n</span><span class="s1">/**</span><span class="s3">\n </span><span class="s1">* Export all custom element definitions.</span><span class="s3">\n </span><span class="s1">*/</span><span class="s3">\n</span><span class="s1">export { addJupyterLabThemeChangeListener, applyJupyterTheme } from './utilities/theme/applyTheme.js';</span><span class="s3">\n</span><span class="s1">export * from './custom-elements.js';</span><span class="s3">\n</span><span class="s1">export * from './jupyter-design-system.js';</span><span class="s3">\n</span><span class="s1">export * from './accordion/index.js';</span><span class="s3">\n</span><span class="s1">export * from './anchor/index.js';</span><span class="s3">\n</span><span class="s1">export * from './anchored-region/index.js';</span><span class="s3">\n</span><span class="s1">export * from './avatar/index.js';</span><span class="s3">\n</span><span class="s1">export * from './badge/index.js';</span><span class="s3">\n</span><span class="s1">export * from './breadcrumb/index.js';</span><span class="s3">\n</span><span class="s1">export * from './breadcrumb-item/index.js';</span><span class="s3">\n</span><span class="s1">export * from './button/index.js';</span><span class="s3">\n</span><span class="s1">export * from './card/index.js';</span><span class="s3">\n</span><span class="s1">export * from './checkbox/index.js';</span><span class="s3">\n</span><span class="s1">export * from './combobox/index.js';</span><span class="s3">\n</span><span class="s1">export * from './date-field/index.js';</span><span class="s3">\n</span><span class="s1">export * from './data-grid/index.js';</span><span class="s3">\n</span><span class="s1">export * from './design-system-provider/index.js';</span><span class="s3">\n</span><span class="s1">export { PaletteRGB } from './color/palette.js';</span><span class="s3">\n</span><span class="s1">export { SwatchRGB } from './color/swatch.js';</span><span class="s3">\n</span><span class="s1">export { isDark } from './color/utilities/is-dark.js';</span><span class="s3">\n</span><span class="s1">export { StandardLuminance } from './color/utilities/base-layer-luminance.js';</span><span class="s3">\n</span><span class="s1">export * from './design-system-provider/index.js';</span><span class="s3">\n</span><span class="s1">export * from './design-tokens.js';</span><span class="s3">\n</span><span class="s1">export * from './dialog/index.js';</span><span class="s3">\n</span><span class="s1">export * from './disclosure/index.js';</span><span class="s3">\n</span><span class="s1">export * from './divider/index.js';</span><span class="s3">\n</span><span class="s1">export * from './listbox/index.js';</span><span class="s3">\n</span><span class="s1">export * from './menu/index.js';</span><span class="s3">\n</span><span class="s1">export * from './menu-item/index.js';</span><span class="s3">\n</span><span class="s1">export * from './number-field/index.js';</span><span class="s3">\n</span><span class="s1">export * from './option/index.js';</span><span class="s3">\n</span><span class="s1">export * from './progress/index.js';</span><span class="s3">\n</span><span class="s1">export * from './progress-ring/index.js';</span><span class="s3">\n</span><span class="s1">export * from './radio/index.js';</span><span class="s3">\n</span><span class="s1">export * from './radio-group/index.js';</span><span class="s3">\n</span><span class="s1">export * from './search/index.js';</span><span class="s3">\n</span><span class="s1">export * from './select/index.js';</span><span class="s3">\n</span><span class="s1">export * from './skeleton/index.js';</span><span class="s3">\n</span><span class="s1">export * from './slider/index.js';</span><span class="s3">\n</span><span class="s1">export * from './slider-label/index.js';</span><span class="s3">\n</span><span class="s1">export * from './styles/direction.js';</span><span class="s3">\n</span><span class="s1">export * from './switch/index.js';</span><span class="s3">\n</span><span class="s1">export * from './tabs/index.js';</span><span class="s3">\n</span><span class="s1">export * from './text-area/index.js';</span><span class="s3">\n</span><span class="s1">export * from './text-field/index.js';</span><span class="s3">\n</span><span class="s1">export * from './toolbar/index.js';</span><span class="s3">\n</span><span class="s1">export * from './tooltip/index.js';</span><span class="s3">\n</span><span class="s1">export * from './tree-view/index.js';</span><span class="s3">\n</span><span class="s1">export * from './tree-item/index.js';</span><span class="s3">\n</span><span class="s1">// Draft components</span><span class="s3">\n</span><span class="s1">export * from './drafts/picker/index.js';</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>