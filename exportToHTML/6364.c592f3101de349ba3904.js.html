<html>
<head>
<title>6364.c592f3101de349ba3904.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #6aab73;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #2aacb8;}
.s4 { color: #cf8e6d;}
.s5 { color: #42c3d4;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
6364.c592f3101de349ba3904.js</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">&quot;use strict&quot;</span><span class="s1">;(</span><span class="s2">self</span><span class="s1">[</span><span class="s0">&quot;webpackChunk_jupyterlab_application_top&quot;</span><span class="s1">]=</span><span class="s2">self</span><span class="s1">[</span><span class="s0">&quot;webpackChunk_jupyterlab_application_top&quot;</span><span class="s1">]||[]).</span><span class="s2">push</span><span class="s1">([[</span><span class="s3">6364</span><span class="s1">],{</span><span class="s3">65791</span><span class="s1">:(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">r</span><span class="s1">.</span><span class="s2">d</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,{</span><span class="s2">T</span><span class="s1">:()=&gt;</span><span class="s2">w</span><span class="s1">});</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">33659</span><span class="s1">);</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">58807</span><span class="s1">);</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">37947</span><span class="s1">);</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">97133</span><span class="s1">);</span><span class="s4">var </span><span class="s2">o</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">74650</span><span class="s1">);</span><span class="s4">var </span><span class="s2">l</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">69769</span><span class="s1">);</span><span class="s4">var </span><span class="s2">c</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">89523</span><span class="s1">);</span><span class="s4">var </span><span class="s2">h</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">62040</span><span class="s1">);</span><span class="s4">var </span><span class="s2">d</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">55881</span><span class="s1">);</span><span class="s4">var </span><span class="s2">u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">19363</span><span class="s1">);</span><span class="s4">var </span><span class="s2">g</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">10654</span><span class="s1">);</span><span class="s4">var </span><span class="s2">p</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">A</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">A</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">A</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">1</span><span class="s1">,</span><span class="s2">g</span><span class="s1">.</span><span class="s2">A</span><span class="s1">,</span><span class="s4">true</span><span class="s1">))}));</span><span class="s4">const </span><span class="s2">y</span><span class="s1">=</span><span class="s2">p</span><span class="s1">;</span><span class="s4">var </span><span class="s2">f</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">44882</span><span class="s1">);</span><span class="s4">var </span><span class="s2">b</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">65339</span><span class="s1">);</span><span class="s4">var </span><span class="s2">x</span><span class="s1">=</span><span class="s0">&quot;</span><span class="s4">\0</span><span class="s0">&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s2">m</span><span class="s1">=</span><span class="s0">&quot;</span><span class="s4">\0</span><span class="s0">&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s2">k</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">class </span><span class="s2">w</span><span class="s1">{</span><span class="s2">constructor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">={}){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;directed&quot;</span><span class="s1">)?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">directed</span><span class="s1">:</span><span class="s4">true</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isMultigraph</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;multigraph&quot;</span><span class="s1">)?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">multigraph</span><span class="s1">:</span><span class="s4">false</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isCompound</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;compound&quot;</span><span class="s1">)?</span><span class="s2">t</span><span class="s1">.</span><span class="s2">compound</span><span class="s1">:</span><span class="s4">false</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_label</span><span class="s1">=</span><span class="s2">undefined</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_defaultNodeLabelFn</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">undefined</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_defaultEdgeLabelFn</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">undefined</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_nodes</span><span class="s1">={};</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isCompound</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_parent</span><span class="s1">={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_children</span><span class="s1">={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_children</span><span class="s1">[</span><span class="s2">m</span><span class="s1">]={}}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_in</span><span class="s1">={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_preds</span><span class="s1">={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_out</span><span class="s1">={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_sucs</span><span class="s1">={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeObjs</span><span class="s1">={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeLabels</span><span class="s1">={}}</span><span class="s2">isDirected</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">}</span><span class="s2">isMultigraph</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">_isMultigraph</span><span class="s1">}</span><span class="s2">isCompound</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">_isCompound</span><span class="s1">}</span><span class="s2">setGraph</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_label</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}</span><span class="s2">graph</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">_label</span><span class="s1">}</span><span class="s2">setDefaultNodeLabel</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">s</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)){</span><span class="s2">t</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_defaultNodeLabelFn</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}</span><span class="s2">nodeCount</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">_nodeCount</span><span class="s1">}</span><span class="s2">nodes</span><span class="s1">(){</span><span class="s4">return </span><span class="s2">i</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_nodes</span><span class="s1">)}</span><span class="s2">sources</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">return </span><span class="s2">n</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">nodes</span><span class="s1">(),(</span><span class="s4">function</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">o</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">_in</span><span class="s1">[</span><span class="s2">e</span><span class="s1">])}))}</span><span class="s2">sinks</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">return </span><span class="s2">n</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">nodes</span><span class="s1">(),(</span><span class="s4">function</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">o</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">_out</span><span class="s1">[</span><span class="s2">e</span><span class="s1">])}))}</span><span class="s2">setNodes</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s2">arguments</span><span class="s1">;</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s4">this</span><span class="s1">;</span><span class="s2">l</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,(</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">1</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">setNode</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">a</span><span class="s1">.</span><span class="s2">setNode</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}}));</span><span class="s4">return this</span><span class="s1">}</span><span class="s2">setNode</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_nodes</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">1</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_nodes</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]=</span><span class="s2">e</span><span class="s1">}</span><span class="s4">return this</span><span class="s1">}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_nodes</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]=</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">1</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_defaultNodeLabelFn</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isCompound</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_parent</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]=</span><span class="s2">m</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_children</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_children</span><span class="s1">[</span><span class="s2">m</span><span class="s1">][</span><span class="s2">t</span><span class="s1">]=</span><span class="s4">true</span><span class="s1">}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_in</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_preds</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_out</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]={};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_sucs</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]={};++</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_nodeCount</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}</span><span class="s2">node</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">_nodes</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]}</span><span class="s2">hasNode</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_nodes</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)}</span><span class="s2">removeNode</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_nodes</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">removeEdge</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeObjs</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]);</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_nodes</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isCompound</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_removeFromParentsChildList</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_parent</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s2">l</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">children</span><span class="s1">(</span><span class="s2">t</span><span class="s1">),(</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">this</span><span class="s1">.</span><span class="s2">setParent</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}));</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_children</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]}</span><span class="s2">l</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_in</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]),</span><span class="s2">e</span><span class="s1">);</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_in</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_preds</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s2">l</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_out</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]),</span><span class="s2">e</span><span class="s1">);</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_out</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_sucs</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];--</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_nodeCount</span><span class="s1">}</span><span class="s4">return this</span><span class="s1">}</span><span class="s2">setParent</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isCompound</span><span class="s1">){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Cannot set parent in a non-compound graph&quot;</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)){</span><span class="s2">e</span><span class="s1">=</span><span class="s2">m</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">e</span><span class="s1">+=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">;!</span><span class="s2">c</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parent</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">===</span><span class="s2">t</span><span class="s1">){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Setting &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot; as parent of &quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">+</span><span class="s0">&quot; would create a cycle&quot;</span><span class="s1">)}}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">setNode</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">setNode</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_removeFromParentsChildList</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_parent</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]=</span><span class="s2">e</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_children</span><span class="s1">[</span><span class="s2">e</span><span class="s1">][</span><span class="s2">t</span><span class="s1">]=</span><span class="s4">true</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}</span><span class="s2">_removeFromParentsChildList</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_children</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_parent</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]][</span><span class="s2">t</span><span class="s1">]}</span><span class="s2">parent</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isCompound</span><span class="s1">){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_parent</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">!==</span><span class="s2">m</span><span class="s1">){</span><span class="s4">return </span><span class="s2">e</span><span class="s1">}}}</span><span class="s2">children</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)){</span><span class="s2">t</span><span class="s1">=</span><span class="s2">m</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isCompound</span><span class="s1">){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_children</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">i</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">===</span><span class="s2">m</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">nodes</span><span class="s1">()}</span><span class="s4">else if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">hasNode</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[]}}</span><span class="s2">predecessors</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_preds</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">i</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}}</span><span class="s2">successors</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_sucs</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">i</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}}</span><span class="s2">neighbors</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">predecessors</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">y</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">successors</span><span class="s1">(</span><span class="s2">t</span><span class="s1">))}}</span><span class="s2">isLeaf</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">isDirected</span><span class="s1">()){</span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">successors</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">neighbors</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}</span><span class="s4">return </span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s3">0</span><span class="s1">}</span><span class="s2">filterNodes</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">new this</span><span class="s1">.</span><span class="s2">constructor</span><span class="s1">({</span><span class="s2">directed</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">,</span><span class="s2">multigraph</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isMultigraph</span><span class="s1">,</span><span class="s2">compound</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isCompound</span><span class="s1">});</span><span class="s2">e</span><span class="s1">.</span><span class="s2">setGraph</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">graph</span><span class="s1">());</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">;</span><span class="s2">l</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_nodes</span><span class="s1">,(</span><span class="s4">function</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">setNode</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)}}));</span><span class="s2">l</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeObjs</span><span class="s1">,(</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">hasNode</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">v</span><span class="s1">)&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">hasNode</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">w</span><span class="s1">)){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">setEdge</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">edge</span><span class="s1">(</span><span class="s2">t</span><span class="s1">))}}));</span><span class="s4">var </span><span class="s2">a</span><span class="s1">={};</span><span class="s4">function </span><span class="s2">s</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parent</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">===</span><span class="s2">undefined</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">hasNode</span><span class="s1">(</span><span class="s2">i</span><span class="s1">)){</span><span class="s2">a</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]=</span><span class="s2">i</span><span class="s1">;</span><span class="s4">return </span><span class="s2">i</span><span class="s1">}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">i </span><span class="s4">in </span><span class="s2">a</span><span class="s1">){</span><span class="s4">return </span><span class="s2">a</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return </span><span class="s2">s</span><span class="s1">(</span><span class="s2">i</span><span class="s1">)}}</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isCompound</span><span class="s1">){</span><span class="s2">l</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">nodes</span><span class="s1">(),(</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">setParent</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">s</span><span class="s1">(</span><span class="s2">t</span><span class="s1">))}))}</span><span class="s4">return </span><span class="s2">e</span><span class="s1">}</span><span class="s2">setDefaultEdgeLabel</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">s</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)){</span><span class="s2">t</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_defaultEdgeLabelFn</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}</span><span class="s2">edgeCount</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">_edgeCount</span><span class="s1">}</span><span class="s2">edges</span><span class="s1">(){</span><span class="s4">return </span><span class="s2">f</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeObjs</span><span class="s1">)}</span><span class="s2">setPath</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">arguments</span><span class="s1">;</span><span class="s2">b</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,(</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">1</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">setEdge</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">r</span><span class="s1">.</span><span class="s2">setEdge</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}</span><span class="s4">return </span><span class="s2">s</span><span class="s1">}));</span><span class="s4">return this</span><span class="s1">}</span><span class="s2">setEdge</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">;</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s2">arguments</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">i</span><span class="s1">===</span><span class="s0">&quot;object&quot;</span><span class="s1">&amp;&amp;</span><span class="s2">i</span><span class="s1">!==</span><span class="s4">null</span><span class="s1">&amp;&amp;</span><span class="s0">&quot;v&quot;</span><span class="s4">in </span><span class="s2">i</span><span class="s1">){</span><span class="s2">t</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">v</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">w</span><span class="s1">;</span><span class="s2">r</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">name</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s3">2</span><span class="s1">){</span><span class="s2">a</span><span class="s1">=</span><span class="s2">arguments</span><span class="s1">[</span><span class="s3">1</span><span class="s1">];</span><span class="s2">s</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">t</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s2">arguments</span><span class="s1">[</span><span class="s3">1</span><span class="s1">];</span><span class="s2">r</span><span class="s1">=</span><span class="s2">arguments</span><span class="s1">[</span><span class="s3">3</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">2</span><span class="s1">){</span><span class="s2">a</span><span class="s1">=</span><span class="s2">arguments</span><span class="s1">[</span><span class="s3">2</span><span class="s1">];</span><span class="s2">s</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}}</span><span class="s2">t</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">c</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)){</span><span class="s2">r</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s1">}</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=</span><span class="s2">v</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeLabels</span><span class="s1">,</span><span class="s2">n</span><span class="s1">)){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeLabels</span><span class="s1">[</span><span class="s2">n</span><span class="s1">]=</span><span class="s2">a</span><span class="s1">}</span><span class="s4">return this</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">c</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)&amp;&amp;!</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isMultigraph</span><span class="s1">){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Cannot set a named edge when isMultigraph = false&quot;</span><span class="s1">)}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">setNode</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">setNode</span><span class="s1">(</span><span class="s2">e</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeLabels</span><span class="s1">[</span><span class="s2">n</span><span class="s1">]=</span><span class="s2">s</span><span class="s1">?</span><span class="s2">a</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_defaultEdgeLabelFn</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">var </span><span class="s2">o</span><span class="s1">=</span><span class="s2">S</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s2">t</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">v</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">w</span><span class="s1">;</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">freeze</span><span class="s1">(</span><span class="s2">o</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeObjs</span><span class="s1">[</span><span class="s2">n</span><span class="s1">]=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">L</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_preds</span><span class="s1">[</span><span class="s2">e</span><span class="s1">],</span><span class="s2">t</span><span class="s1">);</span><span class="s2">L</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_sucs</span><span class="s1">[</span><span class="s2">t</span><span class="s1">],</span><span class="s2">e</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_in</span><span class="s1">[</span><span class="s2">e</span><span class="s1">][</span><span class="s2">n</span><span class="s1">]=</span><span class="s2">o</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_out</span><span class="s1">[</span><span class="s2">t</span><span class="s1">][</span><span class="s2">n</span><span class="s1">]=</span><span class="s2">o</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeCount</span><span class="s1">++;</span><span class="s4">return this</span><span class="s1">}</span><span class="s2">edge</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s3">1</span><span class="s1">?</span><span class="s2">E</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">,</span><span class="s2">arguments</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]):</span><span class="s2">v</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">_edgeLabels</span><span class="s1">[</span><span class="s2">a</span><span class="s1">]}</span><span class="s2">hasEdge</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s3">1</span><span class="s1">?</span><span class="s2">E</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">,</span><span class="s2">arguments</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]):</span><span class="s2">v</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">return </span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeLabels</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)}</span><span class="s2">removeEdge</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">arguments</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s3">1</span><span class="s1">?</span><span class="s2">E</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">,</span><span class="s2">arguments</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]):</span><span class="s2">v</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_isDirected</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeObjs</span><span class="s1">[</span><span class="s2">a</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">){</span><span class="s2">t</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">v</span><span class="s1">;</span><span class="s2">e</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">w</span><span class="s1">;</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_edgeLabels</span><span class="s1">[</span><span class="s2">a</span><span class="s1">];</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_edgeObjs</span><span class="s1">[</span><span class="s2">a</span><span class="s1">];</span><span class="s2">_</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_preds</span><span class="s1">[</span><span class="s2">e</span><span class="s1">],</span><span class="s2">t</span><span class="s1">);</span><span class="s2">_</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_sucs</span><span class="s1">[</span><span class="s2">t</span><span class="s1">],</span><span class="s2">e</span><span class="s1">);</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_in</span><span class="s1">[</span><span class="s2">e</span><span class="s1">][</span><span class="s2">a</span><span class="s1">];</span><span class="s4">delete this</span><span class="s1">.</span><span class="s2">_out</span><span class="s1">[</span><span class="s2">t</span><span class="s1">][</span><span class="s2">a</span><span class="s1">];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_edgeCount</span><span class="s1">--}</span><span class="s4">return this</span><span class="s1">}</span><span class="s2">inEdges</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_in</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">f</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}</span><span class="s4">return </span><span class="s2">n</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,(</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">.</span><span class="s2">v</span><span class="s1">===</span><span class="s2">e</span><span class="s1">}))}}</span><span class="s2">outEdges</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_out</span><span class="s1">[</span><span class="s2">t</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">f</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}</span><span class="s4">return </span><span class="s2">n</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,(</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">.</span><span class="s2">w</span><span class="s1">===</span><span class="s2">e</span><span class="s1">}))}}</span><span class="s2">nodeEdges</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">inEdges</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">return </span><span class="s2">r</span><span class="s1">.</span><span class="s2">concat</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">outEdges</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">))}}}</span><span class="s2">w</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">_nodeCount</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">w</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">_edgeCount</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">function </span><span class="s2">L</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]){</span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]++}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]=</span><span class="s3">1</span><span class="s1">}}</span><span class="s4">function </span><span class="s2">_</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(! --</span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]){</span><span class="s4">delete </span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]}}</span><span class="s4">function </span><span class="s2">v</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">;</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">&gt;</span><span class="s2">i</span><span class="s1">){</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=</span><span class="s2">s</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s2">i</span><span class="s1">=</span><span class="s2">n</span><span class="s1">}</span><span class="s4">return </span><span class="s2">s</span><span class="s1">+</span><span class="s2">k</span><span class="s1">+</span><span class="s2">i</span><span class="s1">+</span><span class="s2">k</span><span class="s1">+(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)?</span><span class="s2">x</span><span class="s1">:</span><span class="s2">a</span><span class="s1">)}</span><span class="s4">function </span><span class="s2">S</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">;</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">t</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">&gt;</span><span class="s2">i</span><span class="s1">){</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=</span><span class="s2">s</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s2">i</span><span class="s1">=</span><span class="s2">n</span><span class="s1">}</span><span class="s4">var </span><span class="s2">o</span><span class="s1">={</span><span class="s2">v</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">w</span><span class="s1">:</span><span class="s2">i</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">name</span><span class="s1">=</span><span class="s2">a</span><span class="s1">}</span><span class="s4">return </span><span class="s2">o</span><span class="s1">}</span><span class="s4">function </span><span class="s2">E</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">v</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">v</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">w</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">)}},</span><span class="s3">84416</span><span class="s1">:(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">r</span><span class="s1">.</span><span class="s2">d</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,{</span><span class="s2">T</span><span class="s1">:()=&gt;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">T</span><span class="s1">});</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">65791</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s0">&quot;2.1.9-pre&quot;</span><span class="s1">},</span><span class="s3">27574</span><span class="s1">:(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">r</span><span class="s1">.</span><span class="s2">d</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,{</span><span class="s2">A</span><span class="s1">:()=&gt;</span><span class="s2">n</span><span class="s1">});</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">57991</span><span class="s1">);</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">63221</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">A</span><span class="s1">.</span><span class="s2">lang</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">A</span><span class="s1">.</span><span class="s2">parse</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)[</span><span class="s2">e</span><span class="s1">]);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">i</span><span class="s1">},</span><span class="s3">97134</span><span class="s1">:(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">r</span><span class="s1">.</span><span class="s2">d</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,{</span><span class="s2">A</span><span class="s1">:()=&gt;</span><span class="s2">n</span><span class="s1">});</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">59386</span><span class="s1">);</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s3">4</span><span class="s1">;</span><span class="s4">function </span><span class="s2">i</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">A</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">i</span><span class="s1">},</span><span class="s3">46364</span><span class="s1">:(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">r</span><span class="s1">.</span><span class="s2">d</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,{</span><span class="s2">diagram</span><span class="s1">:()=&gt;</span><span class="s2">Me</span><span class="s1">});</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">94746</span><span class="s1">);</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">57590</span><span class="s1">);</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">76261</span><span class="s1">);</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">96049</span><span class="s1">);</span><span class="s4">var </span><span class="s2">o</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">75905</span><span class="s1">);</span><span class="s4">var </span><span class="s2">l</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">97134</span><span class="s1">);</span><span class="s4">var </span><span class="s2">c</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">27574</span><span class="s1">);</span><span class="s4">var </span><span class="s2">h</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">3635</span><span class="s1">);</span><span class="s4">var </span><span class="s2">d</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">24982</span><span class="s1">);</span><span class="s4">var </span><span class="s2">u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s3">84416</span><span class="s1">);</span><span class="s4">var </span><span class="s2">g</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s2">r</span><span class="s1">=</span><span class="s2">r</span><span class="s1">||{},</span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">a</span><span class="s1">--;</span><span class="s2">r</span><span class="s1">[</span><span class="s2">t</span><span class="s1">[</span><span class="s2">a</span><span class="s1">]]=</span><span class="s2">e</span><span class="s1">);</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;o&quot;</span><span class="s1">),</span><span class="s2">e</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">7</span><span class="s1">],</span><span class="s2">r</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">13</span><span class="s1">],</span><span class="s2">a</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">14</span><span class="s1">],</span><span class="s2">s</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">15</span><span class="s1">],</span><span class="s2">i</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">19</span><span class="s1">],</span><span class="s2">n</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">16</span><span class="s1">],</span><span class="s2">l</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">17</span><span class="s1">],</span><span class="s2">c</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">18</span><span class="s1">],</span><span class="s2">h</span><span class="s1">=[</span><span class="s3">8</span><span class="s1">,</span><span class="s3">30</span><span class="s1">],</span><span class="s2">d</span><span class="s1">=[</span><span class="s3">8</span><span class="s1">,</span><span class="s3">21</span><span class="s1">,</span><span class="s3">28</span><span class="s1">,</span><span class="s3">29</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">31</span><span class="s1">,</span><span class="s3">32</span><span class="s1">,</span><span class="s3">40</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">47</span><span class="s1">],</span><span class="s2">u</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">23</span><span class="s1">],</span><span class="s2">g</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">24</span><span class="s1">],</span><span class="s2">p</span><span class="s1">=[</span><span class="s3">8</span><span class="s1">,</span><span class="s3">15</span><span class="s1">,</span><span class="s3">16</span><span class="s1">,</span><span class="s3">21</span><span class="s1">,</span><span class="s3">28</span><span class="s1">,</span><span class="s3">29</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">31</span><span class="s1">,</span><span class="s3">32</span><span class="s1">,</span><span class="s3">40</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">47</span><span class="s1">],</span><span class="s2">y</span><span class="s1">=[</span><span class="s3">8</span><span class="s1">,</span><span class="s3">15</span><span class="s1">,</span><span class="s3">16</span><span class="s1">,</span><span class="s3">21</span><span class="s1">,</span><span class="s3">27</span><span class="s1">,</span><span class="s3">28</span><span class="s1">,</span><span class="s3">29</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">31</span><span class="s1">,</span><span class="s3">32</span><span class="s1">,</span><span class="s3">40</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">47</span><span class="s1">],</span><span class="s2">f</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">49</span><span class="s1">];</span><span class="s4">var </span><span class="s2">b</span><span class="s1">={</span><span class="s2">trace</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(){}),</span><span class="s0">&quot;trace&quot;</span><span class="s1">),</span><span class="s2">yy</span><span class="s1">:{},</span><span class="s2">symbols_</span><span class="s1">:{</span><span class="s2">error</span><span class="s1">:</span><span class="s3">2</span><span class="s1">,</span><span class="s2">spaceLines</span><span class="s1">:</span><span class="s3">3</span><span class="s1">,</span><span class="s2">SPACELINE</span><span class="s1">:</span><span class="s3">4</span><span class="s1">,</span><span class="s2">NL</span><span class="s1">:</span><span class="s3">5</span><span class="s1">,</span><span class="s2">separator</span><span class="s1">:</span><span class="s3">6</span><span class="s1">,</span><span class="s2">SPACE</span><span class="s1">:</span><span class="s3">7</span><span class="s1">,</span><span class="s2">EOF</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s2">start</span><span class="s1">:</span><span class="s3">9</span><span class="s1">,</span><span class="s2">BLOCK_DIAGRAM_KEY</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s2">document</span><span class="s1">:</span><span class="s3">11</span><span class="s1">,</span><span class="s2">stop</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s2">statement</span><span class="s1">:</span><span class="s3">13</span><span class="s1">,</span><span class="s2">link</span><span class="s1">:</span><span class="s3">14</span><span class="s1">,</span><span class="s2">LINK</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s2">START_LINK</span><span class="s1">:</span><span class="s3">16</span><span class="s1">,</span><span class="s2">LINK_LABEL</span><span class="s1">:</span><span class="s3">17</span><span class="s1">,</span><span class="s2">STR</span><span class="s1">:</span><span class="s3">18</span><span class="s1">,</span><span class="s2">nodeStatement</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s2">columnsStatement</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s2">SPACE_BLOCK</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s2">blockStatement</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s2">classDefStatement</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s2">cssClassStatement</span><span class="s1">:</span><span class="s3">24</span><span class="s1">,</span><span class="s2">styleStatement</span><span class="s1">:</span><span class="s3">25</span><span class="s1">,</span><span class="s2">node</span><span class="s1">:</span><span class="s3">26</span><span class="s1">,</span><span class="s2">SIZE</span><span class="s1">:</span><span class="s3">27</span><span class="s1">,</span><span class="s2">COLUMNS</span><span class="s1">:</span><span class="s3">28</span><span class="s1">,</span><span class="s0">&quot;id-block&quot;</span><span class="s1">:</span><span class="s3">29</span><span class="s1">,</span><span class="s2">end</span><span class="s1">:</span><span class="s3">30</span><span class="s1">,</span><span class="s2">block</span><span class="s1">:</span><span class="s3">31</span><span class="s1">,</span><span class="s2">NODE_ID</span><span class="s1">:</span><span class="s3">32</span><span class="s1">,</span><span class="s2">nodeShapeNLabel</span><span class="s1">:</span><span class="s3">33</span><span class="s1">,</span><span class="s2">dirList</span><span class="s1">:</span><span class="s3">34</span><span class="s1">,</span><span class="s2">DIR</span><span class="s1">:</span><span class="s3">35</span><span class="s1">,</span><span class="s2">NODE_DSTART</span><span class="s1">:</span><span class="s3">36</span><span class="s1">,</span><span class="s2">NODE_DEND</span><span class="s1">:</span><span class="s3">37</span><span class="s1">,</span><span class="s2">BLOCK_ARROW_START</span><span class="s1">:</span><span class="s3">38</span><span class="s1">,</span><span class="s2">BLOCK_ARROW_END</span><span class="s1">:</span><span class="s3">39</span><span class="s1">,</span><span class="s2">classDef</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s2">CLASSDEF_ID</span><span class="s1">:</span><span class="s3">41</span><span class="s1">,</span><span class="s2">CLASSDEF_STYLEOPTS</span><span class="s1">:</span><span class="s3">42</span><span class="s1">,</span><span class="s2">DEFAULT</span><span class="s1">:</span><span class="s3">43</span><span class="s1">,</span><span class="s4">class</span><span class="s1">:</span><span class="s3">44</span><span class="s1">,</span><span class="s2">CLASSENTITY_IDS</span><span class="s1">:</span><span class="s3">45</span><span class="s1">,</span><span class="s2">STYLECLASS</span><span class="s1">:</span><span class="s3">46</span><span class="s1">,</span><span class="s2">style</span><span class="s1">:</span><span class="s3">47</span><span class="s1">,</span><span class="s2">STYLE_ENTITY_IDS</span><span class="s1">:</span><span class="s3">48</span><span class="s1">,</span><span class="s2">STYLE_DEFINITION_DATA</span><span class="s1">:</span><span class="s3">49</span><span class="s1">,</span><span class="s2">$accept</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">$end</span><span class="s1">:</span><span class="s3">1</span><span class="s1">},</span><span class="s2">terminals_</span><span class="s1">:{</span><span class="s3">2</span><span class="s1">:</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s3">4</span><span class="s1">:</span><span class="s0">&quot;SPACELINE&quot;</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s0">&quot;NL&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">:</span><span class="s0">&quot;SPACE&quot;</span><span class="s1">,</span><span class="s3">8</span><span class="s1">:</span><span class="s0">&quot;EOF&quot;</span><span class="s1">,</span><span class="s3">10</span><span class="s1">:</span><span class="s0">&quot;BLOCK_DIAGRAM_KEY&quot;</span><span class="s1">,</span><span class="s3">15</span><span class="s1">:</span><span class="s0">&quot;LINK&quot;</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:</span><span class="s0">&quot;START_LINK&quot;</span><span class="s1">,</span><span class="s3">17</span><span class="s1">:</span><span class="s0">&quot;LINK_LABEL&quot;</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s0">&quot;STR&quot;</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s0">&quot;SPACE_BLOCK&quot;</span><span class="s1">,</span><span class="s3">27</span><span class="s1">:</span><span class="s0">&quot;SIZE&quot;</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s0">&quot;COLUMNS&quot;</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s0">&quot;id-block&quot;</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s0">&quot;end&quot;</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s0">&quot;block&quot;</span><span class="s1">,</span><span class="s3">32</span><span class="s1">:</span><span class="s0">&quot;NODE_ID&quot;</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s0">&quot;DIR&quot;</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s0">&quot;NODE_DSTART&quot;</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s0">&quot;BLOCK_ARROW_START&quot;</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s0">&quot;BLOCK_ARROW_END&quot;</span><span class="s1">,</span><span class="s3">40</span><span class="s1">:</span><span class="s0">&quot;classDef&quot;</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s0">&quot;CLASSDEF_ID&quot;</span><span class="s1">,</span><span class="s3">42</span><span class="s1">:</span><span class="s0">&quot;CLASSDEF_STYLEOPTS&quot;</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s0">&quot;DEFAULT&quot;</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s3">45</span><span class="s1">:</span><span class="s0">&quot;CLASSENTITY_IDS&quot;</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s0">&quot;STYLECLASS&quot;</span><span class="s1">,</span><span class="s3">47</span><span class="s1">:</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s3">48</span><span class="s1">:</span><span class="s0">&quot;STYLE_ENTITY_IDS&quot;</span><span class="s1">,</span><span class="s3">49</span><span class="s1">:</span><span class="s0">&quot;STYLE_DEFINITION_DATA&quot;</span><span class="s1">},</span><span class="s2">productions_</span><span class="s1">:[</span><span class="s3">0</span><span class="s1">,[</span><span class="s3">3</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">3</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">3</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">6</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">6</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">6</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">12</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">12</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">12</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">12</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">11</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">11</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">14</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">14</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">13</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">13</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">13</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">13</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">13</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">13</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">13</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">19</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">19</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">19</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">20</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">22</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">22</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">26</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">26</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">34</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">34</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">33</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">33</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">23</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">23</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">24</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">25</span><span class="s1">,</span><span class="s3">3</span><span class="s1">]],</span><span class="s2">performAction</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s1">){</span><span class="s4">var </span><span class="s2">l</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">;</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">i</span><span class="s1">){</span><span class="s4">case </span><span class="s3">4</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: separator (NL) &quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">5</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: separator (Space) &quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">6</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: separator (EOF) &quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">7</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: hierarchy: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]);</span><span class="s2">s</span><span class="s1">.</span><span class="s2">setHierarchy</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">8</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Stop NL &quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">9</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Stop EOF &quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">10</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Stop NL2 &quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">11</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Stop EOF2 &quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">12</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: statement: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">typeof </span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">length</span><span class="s1">===</span><span class="s0">&quot;number&quot;</span><span class="s1">?</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">13</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: statement #2: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]].</span><span class="s2">concat</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">14</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: link: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">],</span><span class="s2">e</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">edgeTypeStr</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">],</span><span class="s2">label</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">15</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: LABEL link: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">3</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">edgeTypeStr</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">],</span><span class="s2">label</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">18</span><span class="s1">:</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">generateId</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">id</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;space&quot;</span><span class="s1">,</span><span class="s2">label</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">children</span><span class="s1">:[]};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">23</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: (nodeStatement link node) &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">],</span><span class="s0">&quot; typestr: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">edgeTypeStr</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">edgeStrToEdgeData</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">edgeTypeStr</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[{</span><span class="s2">id</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">].</span><span class="s2">id</span><span class="s1">,</span><span class="s2">label</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">].</span><span class="s2">label</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">].</span><span class="s2">type</span><span class="s1">,</span><span class="s2">directions</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">].</span><span class="s2">directions</span><span class="s1">},{</span><span class="s2">id</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">].</span><span class="s2">id</span><span class="s1">+</span><span class="s0">&quot;-&quot;</span><span class="s1">+</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">id</span><span class="s1">,</span><span class="s2">start</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">].</span><span class="s2">id</span><span class="s1">,</span><span class="s2">end</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">id</span><span class="s1">,</span><span class="s2">label</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">label</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;edge&quot;</span><span class="s1">,</span><span class="s2">directions</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">directions</span><span class="s1">,</span><span class="s2">arrowTypeEnd</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">arrowTypeStart</span><span class="s1">:</span><span class="s0">&quot;arrow_open&quot;</span><span class="s1">},{</span><span class="s2">id</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">id</span><span class="s1">,</span><span class="s2">label</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">label</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">typeStr2Type</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">typeStr</span><span class="s1">),</span><span class="s2">directions</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">directions</span><span class="s1">}];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">24</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: nodeStatement (abc88 node size) &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">id</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">id</span><span class="s1">,</span><span class="s2">label</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">label</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">typeStr2Type</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">typeStr</span><span class="s1">),</span><span class="s2">directions</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">directions</span><span class="s1">,</span><span class="s2">widthInColumns</span><span class="s1">:</span><span class="s2">parseInt</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">],</span><span class="s3">10</span><span class="s1">)};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">25</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: nodeStatement (node) &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">id</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">id</span><span class="s1">,</span><span class="s2">label</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">label</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">typeStr2Type</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">typeStr</span><span class="s1">),</span><span class="s2">directions</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">directions</span><span class="s1">,</span><span class="s2">widthInColumns</span><span class="s1">:</span><span class="s3">1</span><span class="s1">};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">26</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;APA123&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">?</span><span class="s4">this</span><span class="s1">:</span><span class="s0">&quot;na&quot;</span><span class="s1">);</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;COLUMNS: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;column-setting&quot;</span><span class="s1">,</span><span class="s2">columns</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]===</span><span class="s0">&quot;auto&quot;</span><span class="s1">?-</span><span class="s3">1</span><span class="s1">:</span><span class="s2">parseInt</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">])};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">27</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: id-block statement : &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">generateId</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">...n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;composite&quot;</span><span class="s1">,</span><span class="s2">children</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">28</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: blockStatement : &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">generateId</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">id</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;composite&quot;</span><span class="s1">,</span><span class="s2">label</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">children</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">29</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: node (NODE_ID separator): &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">id</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">30</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: node (NODE_ID nodeShapeNLabel separator): &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">id</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],</span><span class="s2">label</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">label</span><span class="s1">,</span><span class="s2">typeStr</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">typeStr</span><span class="s1">,</span><span class="s2">directions</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">directions</span><span class="s1">};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">31</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: dirList: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">32</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: dirList: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]].</span><span class="s2">concat</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">33</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: nodeShapeNLabel: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">typeStr</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]+</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">],</span><span class="s2">label</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">34</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Rule: BLOCK_ARROW nodeShapeNLabel: &quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">3</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s0">&quot; #3:&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">typeStr</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">3</span><span class="s1">]+</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">],</span><span class="s2">label</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s2">directions</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">35</span><span class="s1">:</span><span class="s4">case </span><span class="s3">36</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;classDef&quot;</span><span class="s1">,</span><span class="s2">id</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">(),</span><span class="s2">css</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">()};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">37</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;applyClass&quot;</span><span class="s1">,</span><span class="s2">id</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">(),</span><span class="s2">styleClass</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">()};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">38</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;applyStyles&quot;</span><span class="s1">,</span><span class="s2">id</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">(),</span><span class="s2">stylesStr</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">l</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">()};</span><span class="s4">break</span><span class="s1">}}),</span><span class="s0">&quot;anonymous&quot;</span><span class="s1">),</span><span class="s2">table</span><span class="s1">:[{</span><span class="s3">9</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s3">10</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">2</span><span class="s1">]},{</span><span class="s3">1</span><span class="s1">:[</span><span class="s3">3</span><span class="s1">]},{</span><span class="s3">11</span><span class="s1">:</span><span class="s3">3</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s3">4</span><span class="s1">,</span><span class="s3">19</span><span class="s1">:</span><span class="s3">5</span><span class="s1">,</span><span class="s3">20</span><span class="s1">:</span><span class="s3">6</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s3">9</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">11</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s3">32</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">40</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">47</span><span class="s1">:</span><span class="s2">c</span><span class="s1">},{</span><span class="s3">8</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">20</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">12</span><span class="s1">],{</span><span class="s3">13</span><span class="s1">:</span><span class="s3">4</span><span class="s1">,</span><span class="s3">19</span><span class="s1">:</span><span class="s3">5</span><span class="s1">,</span><span class="s3">20</span><span class="s1">:</span><span class="s3">6</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s3">9</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">11</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">11</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s3">32</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">40</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">47</span><span class="s1">:</span><span class="s2">c</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">16</span><span class="s1">],{</span><span class="s3">14</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">15</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:</span><span class="s2">g</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">17</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">18</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">19</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">20</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">21</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">22</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">p</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">25</span><span class="s1">],{</span><span class="s3">27</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">25</span><span class="s1">]}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">26</span><span class="s1">]),{</span><span class="s3">19</span><span class="s1">:</span><span class="s3">26</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">32</span><span class="s1">:</span><span class="s2">i</span><span class="s1">},{</span><span class="s3">11</span><span class="s1">:</span><span class="s3">27</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s3">4</span><span class="s1">,</span><span class="s3">19</span><span class="s1">:</span><span class="s3">5</span><span class="s1">,</span><span class="s3">20</span><span class="s1">:</span><span class="s3">6</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s3">9</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">11</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s3">32</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">40</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">47</span><span class="s1">:</span><span class="s2">c</span><span class="s1">},{</span><span class="s3">41</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">28</span><span class="s1">],</span><span class="s3">43</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">29</span><span class="s1">]},{</span><span class="s3">45</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">30</span><span class="s1">]},{</span><span class="s3">48</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">31</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">y</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">29</span><span class="s1">],{</span><span class="s3">33</span><span class="s1">:</span><span class="s3">32</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">33</span><span class="s1">],</span><span class="s3">38</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">34</span><span class="s1">]}),{</span><span class="s3">1</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">7</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">13</span><span class="s1">]),{</span><span class="s3">26</span><span class="s1">:</span><span class="s3">35</span><span class="s1">,</span><span class="s3">32</span><span class="s1">:</span><span class="s2">i</span><span class="s1">},{</span><span class="s3">32</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">14</span><span class="s1">]},{</span><span class="s3">17</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">36</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">p</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">24</span><span class="s1">]),{</span><span class="s3">11</span><span class="s1">:</span><span class="s3">37</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s3">4</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">15</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s3">19</span><span class="s1">:</span><span class="s3">5</span><span class="s1">,</span><span class="s3">20</span><span class="s1">:</span><span class="s3">6</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s3">9</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">11</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s3">32</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">40</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">47</span><span class="s1">:</span><span class="s2">c</span><span class="s1">},{</span><span class="s3">30</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">38</span><span class="s1">]},{</span><span class="s3">42</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">39</span><span class="s1">]},{</span><span class="s3">42</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">40</span><span class="s1">]},{</span><span class="s3">46</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">41</span><span class="s1">]},{</span><span class="s3">49</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">42</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">y</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">30</span><span class="s1">]),{</span><span class="s3">18</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">43</span><span class="s1">]},{</span><span class="s3">18</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">44</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">p</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">23</span><span class="s1">]),{</span><span class="s3">18</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">45</span><span class="s1">]},{</span><span class="s3">30</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">46</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">28</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">35</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">36</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">37</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">38</span><span class="s1">]),{</span><span class="s3">37</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">47</span><span class="s1">]},{</span><span class="s3">34</span><span class="s1">:</span><span class="s3">48</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">f</span><span class="s1">},{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">50</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">27</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">y</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">33</span><span class="s1">]),{</span><span class="s3">39</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">51</span><span class="s1">]},{</span><span class="s3">34</span><span class="s1">:</span><span class="s3">52</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">31</span><span class="s1">]},{</span><span class="s3">32</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">15</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">y</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">34</span><span class="s1">]),{</span><span class="s3">39</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">32</span><span class="s1">]}],</span><span class="s2">defaultActions</span><span class="s1">:{</span><span class="s3">20</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">7</span><span class="s1">],</span><span class="s3">23</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">14</span><span class="s1">],</span><span class="s3">50</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">15</span><span class="s1">],</span><span class="s3">52</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">32</span><span class="s1">]},</span><span class="s2">parseError</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">recoverable</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">trace</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Error</span><span class="s1">(</span><span class="s2">e</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">hash</span><span class="s1">=</span><span class="s2">r</span><span class="s1">;</span><span class="s4">throw </span><span class="s2">a</span><span class="s1">}}),</span><span class="s0">&quot;parseError&quot;</span><span class="s1">),</span><span class="s2">parse</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">,</span><span class="s2">a</span><span class="s1">=[</span><span class="s3">0</span><span class="s1">],</span><span class="s2">s</span><span class="s1">=[],</span><span class="s2">i</span><span class="s1">=[</span><span class="s4">null</span><span class="s1">],</span><span class="s2">n</span><span class="s1">=[],</span><span class="s2">l</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">table</span><span class="s1">,</span><span class="s2">c</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">h</span><span class="s1">=</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">=</span><span class="s3">0</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s3">0</span><span class="s1">,</span><span class="s2">g</span><span class="s1">=</span><span class="s3">2</span><span class="s1">,</span><span class="s2">p</span><span class="s1">=</span><span class="s3">1</span><span class="s1">;</span><span class="s4">var </span><span class="s2">y</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s2">arguments</span><span class="s1">,</span><span class="s3">1</span><span class="s1">);</span><span class="s4">var </span><span class="s2">f</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">lexer</span><span class="s1">);</span><span class="s4">var </span><span class="s2">b</span><span class="s1">={</span><span class="s2">yy</span><span class="s1">:{}};</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s2">x </span><span class="s4">in this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">,</span><span class="s2">x</span><span class="s1">)){</span><span class="s2">b</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">[</span><span class="s2">x</span><span class="s1">]=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">[</span><span class="s2">x</span><span class="s1">]}}</span><span class="s2">f</span><span class="s1">.</span><span class="s2">setInput</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">b</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">);</span><span class="s2">b</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">lexer</span><span class="s1">=</span><span class="s2">f</span><span class="s1">;</span><span class="s2">b</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">parser</span><span class="s1">=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">f</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">==</span><span class="s0">&quot;undefined&quot;</span><span class="s1">){</span><span class="s2">f</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">={}}</span><span class="s4">var </span><span class="s2">m</span><span class="s1">=</span><span class="s2">f</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">m</span><span class="s1">);</span><span class="s4">var </span><span class="s2">k</span><span class="s1">=</span><span class="s2">f</span><span class="s1">.</span><span class="s2">options</span><span class="s1">&amp;&amp;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">b</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">===</span><span class="s0">&quot;function&quot;</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">=</span><span class="s2">b</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getPrototypeOf</span><span class="s1">(</span><span class="s4">this</span><span class="s1">).</span><span class="s2">parseError</span><span class="s1">}</span><span class="s4">function </span><span class="s2">w</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">t</span><span class="s1">;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">length</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">t</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">t</span><span class="s1">}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">w</span><span class="s1">,</span><span class="s0">&quot;popStack&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">L</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">;</span><span class="s2">t</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">pop</span><span class="s1">()||</span><span class="s2">f</span><span class="s1">.</span><span class="s2">lex</span><span class="s1">()||</span><span class="s2">p</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">t</span><span class="s1">!==</span><span class="s0">&quot;number&quot;</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t </span><span class="s4">instanceof </span><span class="s2">Array</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s2">t</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">pop</span><span class="s1">()}</span><span class="s2">t</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">symbols_</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]||</span><span class="s2">t</span><span class="s1">}</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">L</span><span class="s1">,</span><span class="s0">&quot;lex&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">_</span><span class="s1">,</span><span class="s2">v</span><span class="s1">,</span><span class="s2">S</span><span class="s1">,</span><span class="s2">E</span><span class="s1">,</span><span class="s2">D</span><span class="s1">,</span><span class="s2">N</span><span class="s1">,</span><span class="s2">K</span><span class="s1">={},</span><span class="s2">R</span><span class="s1">,</span><span class="s2">C</span><span class="s1">,</span><span class="s2">T</span><span class="s1">,</span><span class="s2">$</span><span class="s1">;</span><span class="s4">while</span><span class="s1">(</span><span class="s4">true</span><span class="s1">){</span><span class="s2">S</span><span class="s1">=</span><span class="s2">a</span><span class="s1">[</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">defaultActions</span><span class="s1">[</span><span class="s2">S</span><span class="s1">]){</span><span class="s2">E</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">defaultActions</span><span class="s1">[</span><span class="s2">S</span><span class="s1">]}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">if</span><span class="s1">(</span><span class="s2">_</span><span class="s1">===</span><span class="s4">null</span><span class="s1">||</span><span class="s4">typeof </span><span class="s2">_</span><span class="s1">==</span><span class="s0">&quot;undefined&quot;</span><span class="s1">){</span><span class="s2">_</span><span class="s1">=</span><span class="s2">L</span><span class="s1">()}</span><span class="s2">E</span><span class="s1">=</span><span class="s2">l</span><span class="s1">[</span><span class="s2">S</span><span class="s1">]&amp;&amp;</span><span class="s2">l</span><span class="s1">[</span><span class="s2">S</span><span class="s1">][</span><span class="s2">_</span><span class="s1">]}</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">E</span><span class="s1">===</span><span class="s0">&quot;undefined&quot;</span><span class="s1">||!</span><span class="s2">E</span><span class="s1">.</span><span class="s2">length</span><span class="s1">||!</span><span class="s2">E</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]){</span><span class="s4">var </span><span class="s2">A</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s2">$</span><span class="s1">=[];</span><span class="s4">for</span><span class="s1">(</span><span class="s2">R </span><span class="s4">in </span><span class="s2">l</span><span class="s1">[</span><span class="s2">S</span><span class="s1">]){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">terminals_</span><span class="s1">[</span><span class="s2">R</span><span class="s1">]&amp;&amp;</span><span class="s2">R</span><span class="s1">&gt;</span><span class="s2">g</span><span class="s1">){</span><span class="s2">$</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s0">&quot;'&quot;</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">terminals_</span><span class="s1">[</span><span class="s2">R</span><span class="s1">]+</span><span class="s0">&quot;'&quot;</span><span class="s1">)}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">f</span><span class="s1">.</span><span class="s2">showPosition</span><span class="s1">){</span><span class="s2">A</span><span class="s1">=</span><span class="s0">&quot;Parse error on line &quot;</span><span class="s1">+(</span><span class="s2">h</span><span class="s1">+</span><span class="s3">1</span><span class="s1">)+</span><span class="s0">&quot;:</span><span class="s4">\n</span><span class="s0">&quot;</span><span class="s1">+</span><span class="s2">f</span><span class="s1">.</span><span class="s2">showPosition</span><span class="s1">()+</span><span class="s0">&quot;</span><span class="s4">\n</span><span class="s0">Expecting &quot;</span><span class="s1">+</span><span class="s2">$</span><span class="s1">.</span><span class="s2">join</span><span class="s1">(</span><span class="s0">&quot;, &quot;</span><span class="s1">)+</span><span class="s0">&quot;, got '&quot;</span><span class="s1">+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">terminals_</span><span class="s1">[</span><span class="s2">_</span><span class="s1">]||</span><span class="s2">_</span><span class="s1">)+</span><span class="s0">&quot;'&quot;</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">A</span><span class="s1">=</span><span class="s0">&quot;Parse error on line &quot;</span><span class="s1">+(</span><span class="s2">h</span><span class="s1">+</span><span class="s3">1</span><span class="s1">)+</span><span class="s0">&quot;: Unexpected &quot;</span><span class="s1">+(</span><span class="s2">_</span><span class="s1">==</span><span class="s2">p</span><span class="s1">?</span><span class="s0">&quot;end of input&quot;</span><span class="s1">:</span><span class="s0">&quot;'&quot;</span><span class="s1">+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">terminals_</span><span class="s1">[</span><span class="s2">_</span><span class="s1">]||</span><span class="s2">_</span><span class="s1">)+</span><span class="s0">&quot;'&quot;</span><span class="s1">)}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">(</span><span class="s2">A</span><span class="s1">,{</span><span class="s2">text</span><span class="s1">:</span><span class="s2">f</span><span class="s1">.</span><span class="s2">match</span><span class="s1">,</span><span class="s2">token</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">terminals_</span><span class="s1">[</span><span class="s2">_</span><span class="s1">]||</span><span class="s2">_</span><span class="s1">,</span><span class="s2">line</span><span class="s1">:</span><span class="s2">f</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">,</span><span class="s2">loc</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s2">expected</span><span class="s1">:</span><span class="s2">$</span><span class="s1">})}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">E</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]</span><span class="s4">instanceof </span><span class="s2">Array</span><span class="s1">&amp;&amp;</span><span class="s2">E</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">1</span><span class="s1">){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Parse Error: multiple actions possible at state: &quot;</span><span class="s1">+</span><span class="s2">S</span><span class="s1">+</span><span class="s0">&quot;, token: &quot;</span><span class="s1">+</span><span class="s2">_</span><span class="s1">)}</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">E</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]){</span><span class="s4">case </span><span class="s3">1</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">_</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">f</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s2">n</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">f</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">E</span><span class="s1">[</span><span class="s3">1</span><span class="s1">]);</span><span class="s2">_</span><span class="s1">=</span><span class="s4">null</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">v</span><span class="s1">){</span><span class="s2">d</span><span class="s1">=</span><span class="s2">f</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">;</span><span class="s2">c</span><span class="s1">=</span><span class="s2">f</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">;</span><span class="s2">h</span><span class="s1">=</span><span class="s2">f</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">;</span><span class="s2">m</span><span class="s1">=</span><span class="s2">f</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">u</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s2">u</span><span class="s1">--}}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">_</span><span class="s1">=</span><span class="s2">v</span><span class="s1">;</span><span class="s2">v</span><span class="s1">=</span><span class="s4">null</span><span class="s1">}</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">2</span><span class="s1">:</span><span class="s2">C</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">productions_</span><span class="s1">[</span><span class="s2">E</span><span class="s1">[</span><span class="s3">1</span><span class="s1">]][</span><span class="s3">1</span><span class="s1">];</span><span class="s2">K</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">i</span><span class="s1">[</span><span class="s2">i</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">C</span><span class="s1">];</span><span class="s2">K</span><span class="s1">.</span><span class="s2">_$</span><span class="s1">={</span><span class="s2">first_line</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-(</span><span class="s2">C</span><span class="s1">||</span><span class="s3">1</span><span class="s1">)].</span><span class="s2">first_line</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">last_line</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-(</span><span class="s2">C</span><span class="s1">||</span><span class="s3">1</span><span class="s1">)].</span><span class="s2">first_column</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">last_column</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s2">k</span><span class="s1">){</span><span class="s2">K</span><span class="s1">.</span><span class="s2">_$</span><span class="s1">.</span><span class="s2">range</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-(</span><span class="s2">C</span><span class="s1">||</span><span class="s3">1</span><span class="s1">)].</span><span class="s2">range</span><span class="s1">[</span><span class="s3">0</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">range</span><span class="s1">[</span><span class="s3">1</span><span class="s1">]]}</span><span class="s2">N</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">performAction</span><span class="s1">.</span><span class="s2">apply</span><span class="s1">(</span><span class="s2">K</span><span class="s1">,[</span><span class="s2">c</span><span class="s1">,</span><span class="s2">d</span><span class="s1">,</span><span class="s2">h</span><span class="s1">,</span><span class="s2">b</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">,</span><span class="s2">E</span><span class="s1">[</span><span class="s3">1</span><span class="s1">],</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">].</span><span class="s2">concat</span><span class="s1">(</span><span class="s2">y</span><span class="s1">));</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">N</span><span class="s1">!==</span><span class="s0">&quot;undefined&quot;</span><span class="s1">){</span><span class="s4">return </span><span class="s2">N</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">C</span><span class="s1">){</span><span class="s2">a</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">C</span><span class="s1">*</span><span class="s3">2</span><span class="s1">);</span><span class="s2">i</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">C</span><span class="s1">);</span><span class="s2">n</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">C</span><span class="s1">)}</span><span class="s2">a</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">productions_</span><span class="s1">[</span><span class="s2">E</span><span class="s1">[</span><span class="s3">1</span><span class="s1">]][</span><span class="s3">0</span><span class="s1">]);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">K</span><span class="s1">.</span><span class="s2">$</span><span class="s1">);</span><span class="s2">n</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">K</span><span class="s1">.</span><span class="s2">_$</span><span class="s1">);</span><span class="s2">T</span><span class="s1">=</span><span class="s2">l</span><span class="s1">[</span><span class="s2">a</span><span class="s1">[</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]][</span><span class="s2">a</span><span class="s1">[</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]];</span><span class="s2">a</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">T</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">3</span><span class="s1">:</span><span class="s4">return true</span><span class="s1">}}</span><span class="s4">return true</span><span class="s1">}),</span><span class="s0">&quot;parse&quot;</span><span class="s1">)};</span><span class="s4">var </span><span class="s2">x</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">={</span><span class="s2">EOF</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">parseError</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">parser</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">parser</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}}),</span><span class="s0">&quot;parseError&quot;</span><span class="s1">),</span><span class="s2">setInput</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">=</span><span class="s2">e</span><span class="s1">||</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">||{};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_more</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_backtrack</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">=[</span><span class="s0">&quot;INITIAL&quot;</span><span class="s1">];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">={</span><span class="s2">first_line</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s3">0</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">=[</span><span class="s3">0</span><span class="s1">,</span><span class="s3">0</span><span class="s1">]}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}),</span><span class="s0">&quot;setInput&quot;</span><span class="s1">),</span><span class="s2">input</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">++;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">++;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">match</span><span class="s1">(</span><span class="s5">/(?:\r\n?|\n).*/g</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">++;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_line</span><span class="s1">++}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_column</span><span class="s1">++}</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">[</span><span class="s3">1</span><span class="s1">]++}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">1</span><span class="s1">);</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}),</span><span class="s0">&quot;input&quot;</span><span class="s1">),</span><span class="s2">unput</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s5">/(?:\r\n?|\n)/g</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">=</span><span class="s2">t</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">e</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">-=</span><span class="s2">e</span><span class="s1">;</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s5">/(?:\r\n?|\n)/g</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">-=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">}</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">={</span><span class="s2">first_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_line</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">+</span><span class="s3">1</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_column</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s2">r</span><span class="s1">?(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">?</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_column</span><span class="s1">:</span><span class="s3">0</span><span class="s1">)+</span><span class="s2">a</span><span class="s1">[</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">].</span><span class="s2">length</span><span class="s1">-</span><span class="s2">r</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_column</span><span class="s1">-</span><span class="s2">e</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">=[</span><span class="s2">s</span><span class="s1">[</span><span class="s3">0</span><span class="s1">],</span><span class="s2">s</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">-</span><span class="s2">e</span><span class="s1">]}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}),</span><span class="s0">&quot;unput&quot;</span><span class="s1">),</span><span class="s2">more</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_more</span><span class="s1">=</span><span class="s4">true</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}),</span><span class="s0">&quot;more&quot;</span><span class="s1">),</span><span class="s2">reject</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">backtrack_lexer</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_backtrack</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">(</span><span class="s0">&quot;Lexical error on line &quot;</span><span class="s1">+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">+</span><span class="s3">1</span><span class="s1">)+</span><span class="s0">&quot;. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).</span><span class="s4">\n</span><span class="s0">&quot;</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">showPosition</span><span class="s1">(),{</span><span class="s2">text</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">token</span><span class="s1">:</span><span class="s4">null</span><span class="s1">,</span><span class="s2">line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">})}</span><span class="s4">return this</span><span class="s1">}),</span><span class="s0">&quot;reject&quot;</span><span class="s1">),</span><span class="s2">less</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">unput</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s2">t</span><span class="s1">))}),</span><span class="s0">&quot;less&quot;</span><span class="s1">),</span><span class="s2">pastInput</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">.</span><span class="s2">length</span><span class="s1">);</span><span class="s4">return</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">20</span><span class="s1">?</span><span class="s0">&quot;...&quot;</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">)+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(-</span><span class="s3">20</span><span class="s1">).</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/\n/g</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">)}),</span><span class="s0">&quot;pastInput&quot;</span><span class="s1">),</span><span class="s2">upcomingInput</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&lt;</span><span class="s3">20</span><span class="s1">){</span><span class="s2">t</span><span class="s1">+=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s3">20</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">)}</span><span class="s4">return</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s3">20</span><span class="s1">)+(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">20</span><span class="s1">?</span><span class="s0">&quot;...&quot;</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">)).</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/\n/g</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">)}),</span><span class="s0">&quot;upcomingInput&quot;</span><span class="s1">),</span><span class="s2">showPosition</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pastInput</span><span class="s1">();</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Array</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">+</span><span class="s3">1</span><span class="s1">).</span><span class="s2">join</span><span class="s1">(</span><span class="s0">&quot;-&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s2">t</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">upcomingInput</span><span class="s1">()+</span><span class="s0">&quot;</span><span class="s4">\n</span><span class="s0">&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;^&quot;</span><span class="s1">}),</span><span class="s0">&quot;showPosition&quot;</span><span class="s1">),</span><span class="s2">test_match</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">var </span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">backtrack_lexer</span><span class="s1">){</span><span class="s2">s</span><span class="s1">={</span><span class="s2">yylineno</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">,</span><span class="s2">yylloc</span><span class="s1">:{</span><span class="s2">first_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_line</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">last_line</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_column</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_column</span><span class="s1">},</span><span class="s2">yytext</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">,</span><span class="s2">match</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">,</span><span class="s2">matches</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matches</span><span class="s1">,</span><span class="s2">matched</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">,</span><span class="s2">yyleng</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">,</span><span class="s2">offset</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">,</span><span class="s2">_more</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_more</span><span class="s1">,</span><span class="s2">_input</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">,</span><span class="s2">yy</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">,</span><span class="s2">conditionStack</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">),</span><span class="s2">done</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">){</span><span class="s2">s</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">)}}</span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">match</span><span class="s1">(</span><span class="s5">/(?:\r\n?|\n).*/g</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">+=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">={</span><span class="s2">first_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_line</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">+</span><span class="s3">1</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_column</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s2">a</span><span class="s1">?</span><span class="s2">a</span><span class="s1">[</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">length</span><span class="s1">-</span><span class="s2">a</span><span class="s1">[</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">match</span><span class="s1">(</span><span class="s5">/\r?\n?/</span><span class="s1">)[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_column</span><span class="s1">+</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matches</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">=[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">+=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">]}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_more</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_backtrack</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">performAction</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s4">this</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">,</span><span class="s4">this</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]);</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">&amp;&amp;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">=</span><span class="s4">false</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}</span><span class="s4">else if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_backtrack</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s2">i </span><span class="s4">in </span><span class="s2">s</span><span class="s1">){</span><span class="s4">this</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]=</span><span class="s2">s</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]}</span><span class="s4">return false</span><span class="s1">}</span><span class="s4">return false</span><span class="s1">}),</span><span class="s0">&quot;test_match&quot;</span><span class="s1">),</span><span class="s2">next</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">EOF</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}</span><span class="s4">var </span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_more</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">}</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_currentRules</span><span class="s1">();</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">i</span><span class="s1">&lt;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">i</span><span class="s1">++){</span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">.</span><span class="s2">match</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">rules</span><span class="s1">[</span><span class="s2">s</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]]);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">&amp;&amp;(!</span><span class="s2">e</span><span class="s1">||</span><span class="s2">r</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s2">e</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">)){</span><span class="s2">e</span><span class="s1">=</span><span class="s2">r</span><span class="s1">;</span><span class="s2">a</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">backtrack_lexer</span><span class="s1">){</span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">test_match</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">s</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">!==</span><span class="s4">false</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}</span><span class="s4">else if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_backtrack</span><span class="s1">){</span><span class="s2">e</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return false</span><span class="s1">}}</span><span class="s4">else if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">flex</span><span class="s1">){</span><span class="s4">break</span><span class="s1">}}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">test_match</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s1">[</span><span class="s2">a</span><span class="s1">]);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">!==</span><span class="s4">false</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}</span><span class="s4">return false</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">===</span><span class="s0">&quot;&quot;</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">EOF</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">(</span><span class="s0">&quot;Lexical error on line &quot;</span><span class="s1">+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">+</span><span class="s3">1</span><span class="s1">)+</span><span class="s0">&quot;. Unrecognized text.</span><span class="s4">\n</span><span class="s0">&quot;</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">showPosition</span><span class="s1">(),{</span><span class="s2">text</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">token</span><span class="s1">:</span><span class="s4">null</span><span class="s1">,</span><span class="s2">line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">})}}),</span><span class="s0">&quot;next&quot;</span><span class="s1">),</span><span class="s2">lex</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">next</span><span class="s1">();</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">e</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">lex</span><span class="s1">()}}),</span><span class="s0">&quot;lex&quot;</span><span class="s1">),</span><span class="s2">begin</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}),</span><span class="s0">&quot;begin&quot;</span><span class="s1">),</span><span class="s2">popState</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">pop</span><span class="s1">()}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]}}),</span><span class="s0">&quot;popState&quot;</span><span class="s1">),</span><span class="s2">_currentRules</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&amp;&amp;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditions</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]].</span><span class="s2">rules</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditions</span><span class="s1">[</span><span class="s0">&quot;INITIAL&quot;</span><span class="s1">].</span><span class="s2">rules</span><span class="s1">}}),</span><span class="s0">&quot;_currentRules&quot;</span><span class="s1">),</span><span class="s2">topState</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">-</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">e</span><span class="s1">||</span><span class="s3">0</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">&gt;=</span><span class="s3">0</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return</span><span class="s0">&quot;INITIAL&quot;</span><span class="s1">}}),</span><span class="s0">&quot;topState&quot;</span><span class="s1">),</span><span class="s2">pushState</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}),</span><span class="s0">&quot;pushState&quot;</span><span class="s1">),</span><span class="s2">stateStackSize</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">}),</span><span class="s0">&quot;stateStackSize&quot;</span><span class="s1">),</span><span class="s2">options</span><span class="s1">:{},</span><span class="s2">performAction</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s2">s</span><span class="s1">;</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">a</span><span class="s1">){</span><span class="s4">case </span><span class="s3">0</span><span class="s1">:</span><span class="s4">return </span><span class="s3">10</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">1</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Found space-block&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">31</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">2</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Found nl-block&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">31</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">3</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Found space-block&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">29</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">4</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;.&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">5</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;_&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">6</span><span class="s1">:</span><span class="s4">return </span><span class="s3">5</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">7</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=-</span><span class="s3">1</span><span class="s1">;</span><span class="s4">return </span><span class="s3">28</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">8</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/columns\s+/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;COLUMNS (LEX)&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return </span><span class="s3">28</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">9</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;md_string&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">10</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;MD_STR&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">11</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">12</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;string&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">13</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;LEX: POPPING STR:&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">14</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;LEX: STR end:&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;STR&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">15</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/space\:/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;SPACE NUM (LEX)&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return </span><span class="s3">21</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">16</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s0">&quot;1&quot;</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;COLUMNS (LEX)&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return </span><span class="s3">21</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">17</span><span class="s1">:</span><span class="s4">return </span><span class="s3">43</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">18</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;LINKSTYLE&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">19</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;INTERPOLATE&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">20</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;CLASSDEF&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">40</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">21</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;CLASSDEFID&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;DEFAULT_CLASSDEF_ID&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">22</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;CLASSDEFID&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">41</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">23</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">return </span><span class="s3">42</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">24</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;CLASS&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">44</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">25</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;CLASS_STYLE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">45</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">26</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">return </span><span class="s3">46</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">27</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;STYLE_STMNT&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">47</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">28</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;STYLE_DEFINITION&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">48</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">29</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">return </span><span class="s3">49</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">30</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;acc_title&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;acc_title&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">31</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">return</span><span class="s0">&quot;acc_title_value&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">32</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;acc_descr&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;acc_descr&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">33</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">return</span><span class="s0">&quot;acc_descr_value&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">34</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;acc_descr_multiline&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">35</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">36</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;acc_descr_multiline_value&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">37</span><span class="s1">:</span><span class="s4">return </span><span class="s3">30</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">38</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: ((&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">39</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: ((&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">40</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: ))&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">41</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: ((&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">42</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: ((&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">43</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: (-&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">44</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: -)&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">45</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: ((&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">46</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: ]]&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">47</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: (&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">48</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: ])&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">49</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: /]&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">50</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: /]&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">51</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: )]&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">52</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: )&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">53</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: ]&gt;&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">54</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: ]&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DEND&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">55</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexa: -)&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">56</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexa: (-&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">57</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexa: ))&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">58</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexa: )&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">59</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: (((&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">60</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexa: )&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">61</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexa: )&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">62</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexa: )&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">63</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexc: &gt;&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">64</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexa: ([&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">65</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexa: )&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">66</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">67</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">68</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">69</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">70</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">71</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">72</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">73</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lexa: [&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;NODE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">74</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;BLOCK_ARROW&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;LEX ARR START&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">38</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">75</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: NODE_ID&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return </span><span class="s3">32</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">76</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: EOF&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return </span><span class="s3">8</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">77</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;md_string&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">78</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;md_string&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">79</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;NODE_DESCR&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">80</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">81</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: Starting string&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;string&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">82</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;LEX ARR: Starting string&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;string&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">83</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;LEX: NODE_DESCR:&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;NODE_DESCR&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">84</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;LEX POPPING&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">85</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: =&gt;BAE&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;ARROW_DIR&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">86</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/^,\s*/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex (right): dir:&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;DIR&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">87</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/^,\s*/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex (left):&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;DIR&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">88</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/^,\s*/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex (x):&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;DIR&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">89</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/^,\s*/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex (y):&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;DIR&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">90</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/^,\s*/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex (up):&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;DIR&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">91</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/^,\s*/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex (down):&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;DIR&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">92</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s0">&quot;]&gt;&quot;</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex (ARROW_DIR end):&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">return</span><span class="s0">&quot;BLOCK_ARROW_END&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">93</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: LINK&quot;</span><span class="s1">,</span><span class="s0">&quot;#&quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">+</span><span class="s0">&quot;#&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">15</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">94</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: LINK&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return </span><span class="s3">15</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">95</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: LINK&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return </span><span class="s3">15</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">96</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: LINK&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return </span><span class="s3">15</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">97</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: START_LINK&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;LLABEL&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">16</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">98</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: START_LINK&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;LLABEL&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">16</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">99</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: START_LINK&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;LLABEL&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">16</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">100</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;md_string&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">101</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: Starting string&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pushState</span><span class="s1">(</span><span class="s0">&quot;string&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;LINK_LABEL&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">102</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: LINK&quot;</span><span class="s1">,</span><span class="s0">&quot;#&quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">+</span><span class="s0">&quot;#&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">15</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">103</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: LINK&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return </span><span class="s3">15</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">104</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: LINK&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s4">return </span><span class="s3">15</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">105</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">getLogger</span><span class="s1">().</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Lex: COLON&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">1</span><span class="s1">);</span><span class="s4">return </span><span class="s3">27</span><span class="s1">;</span><span class="s4">break</span><span class="s1">}}),</span><span class="s0">&quot;anonymous&quot;</span><span class="s1">),</span><span class="s2">rules</span><span class="s1">:[</span><span class="s5">/^(?:block-beta\b)/</span><span class="s1">,</span><span class="s5">/^(?:block\s+)/</span><span class="s1">,</span><span class="s5">/^(?:block\n+)/</span><span class="s1">,</span><span class="s5">/^(?:block:)/</span><span class="s1">,</span><span class="s5">/^(?:[\s]+)/</span><span class="s1">,</span><span class="s5">/^(?:[\n]+)/</span><span class="s1">,</span><span class="s5">/^(?:((\u000D\u000A)|(\u000A)))/</span><span class="s1">,</span><span class="s5">/^(?:columns\s+auto\b)/</span><span class="s1">,</span><span class="s5">/^(?:columns\s+[\d]+)/</span><span class="s1">,</span><span class="s5">/^(?:[&quot;][`])/</span><span class="s1">,</span><span class="s5">/^(?:[^`&quot;]+)/</span><span class="s1">,</span><span class="s5">/^(?:[`][&quot;])/</span><span class="s1">,</span><span class="s5">/^(?:[&quot;])/</span><span class="s1">,</span><span class="s5">/^(?:[&quot;])/</span><span class="s1">,</span><span class="s5">/^(?:[^&quot;]*)/</span><span class="s1">,</span><span class="s5">/^(?:space[:]\d+)/</span><span class="s1">,</span><span class="s5">/^(?:space\b)/</span><span class="s1">,</span><span class="s5">/^(?:default\b)/</span><span class="s1">,</span><span class="s5">/^(?:linkStyle\b)/</span><span class="s1">,</span><span class="s5">/^(?:interpolate\b)/</span><span class="s1">,</span><span class="s5">/^(?:classDef\s+)/</span><span class="s1">,</span><span class="s5">/^(?:DEFAULT\s+)/</span><span class="s1">,</span><span class="s5">/^(?:\w+\s+)/</span><span class="s1">,</span><span class="s5">/^(?:[^\n]*)/</span><span class="s1">,</span><span class="s5">/^(?:class\s+)/</span><span class="s1">,</span><span class="s5">/^(?:(\w+)+((,\s*\w+)*))/</span><span class="s1">,</span><span class="s5">/^(?:[^\n]*)/</span><span class="s1">,</span><span class="s5">/^(?:style\s+)/</span><span class="s1">,</span><span class="s5">/^(?:(\w+)+((,\s*\w+)*))/</span><span class="s1">,</span><span class="s5">/^(?:[^\n]*)/</span><span class="s1">,</span><span class="s5">/^(?:accTitle\s*:\s*)/</span><span class="s1">,</span><span class="s5">/^(?:(?!\n||)*[^\n]*)/</span><span class="s1">,</span><span class="s5">/^(?:accDescr\s*:\s*)/</span><span class="s1">,</span><span class="s5">/^(?:(?!\n||)*[^\n]*)/</span><span class="s1">,</span><span class="s5">/^(?:accDescr\s*\{\s*)/</span><span class="s1">,</span><span class="s5">/^(?:[\}])/</span><span class="s1">,</span><span class="s5">/^(?:[^\}]*)/</span><span class="s1">,</span><span class="s5">/^(?:end\b\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\(\(\()/</span><span class="s1">,</span><span class="s5">/^(?:\)\)\))/</span><span class="s1">,</span><span class="s5">/^(?:[\)]\))/</span><span class="s1">,</span><span class="s5">/^(?:\}\})/</span><span class="s1">,</span><span class="s5">/^(?:\})/</span><span class="s1">,</span><span class="s5">/^(?:\(-)/</span><span class="s1">,</span><span class="s5">/^(?:-\))/</span><span class="s1">,</span><span class="s5">/^(?:\(\()/</span><span class="s1">,</span><span class="s5">/^(?:\]\])/</span><span class="s1">,</span><span class="s5">/^(?:\()/</span><span class="s1">,</span><span class="s5">/^(?:\]\))/</span><span class="s1">,</span><span class="s5">/^(?:\\\])/</span><span class="s1">,</span><span class="s5">/^(?:\/\])/</span><span class="s1">,</span><span class="s5">/^(?:\)\])/</span><span class="s1">,</span><span class="s5">/^(?:[\)])/</span><span class="s1">,</span><span class="s5">/^(?:\]&gt;)/</span><span class="s1">,</span><span class="s5">/^(?:[\]])/</span><span class="s1">,</span><span class="s5">/^(?:-\))/</span><span class="s1">,</span><span class="s5">/^(?:\(-)/</span><span class="s1">,</span><span class="s5">/^(?:\)\))/</span><span class="s1">,</span><span class="s5">/^(?:\))/</span><span class="s1">,</span><span class="s5">/^(?:\(\(\()/</span><span class="s1">,</span><span class="s5">/^(?:\(\()/</span><span class="s1">,</span><span class="s5">/^(?:\{\{)/</span><span class="s1">,</span><span class="s5">/^(?:\{)/</span><span class="s1">,</span><span class="s5">/^(?:&gt;)/</span><span class="s1">,</span><span class="s5">/^(?:\(\[)/</span><span class="s1">,</span><span class="s5">/^(?:\()/</span><span class="s1">,</span><span class="s5">/^(?:\[\[)/</span><span class="s1">,</span><span class="s5">/^(?:\[\|)/</span><span class="s1">,</span><span class="s5">/^(?:\[\()/</span><span class="s1">,</span><span class="s5">/^(?:\)\)\))/</span><span class="s1">,</span><span class="s5">/^(?:\[\\)/</span><span class="s1">,</span><span class="s5">/^(?:\[\/)/</span><span class="s1">,</span><span class="s5">/^(?:\[\\)/</span><span class="s1">,</span><span class="s5">/^(?:\[)/</span><span class="s1">,</span><span class="s5">/^(?:&lt;\[)/</span><span class="s1">,</span><span class="s5">/^(?:[^\(\[\n\-\)\{\}\s\&lt;\&gt;:]+)/</span><span class="s1">,</span><span class="s5">/^(?:$)/</span><span class="s1">,</span><span class="s5">/^(?:[&quot;][`])/</span><span class="s1">,</span><span class="s5">/^(?:[&quot;][`])/</span><span class="s1">,</span><span class="s5">/^(?:[^`&quot;]+)/</span><span class="s1">,</span><span class="s5">/^(?:[`][&quot;])/</span><span class="s1">,</span><span class="s5">/^(?:[&quot;])/</span><span class="s1">,</span><span class="s5">/^(?:[&quot;])/</span><span class="s1">,</span><span class="s5">/^(?:[^&quot;]+)/</span><span class="s1">,</span><span class="s5">/^(?:[&quot;])/</span><span class="s1">,</span><span class="s5">/^(?:\]&gt;\s*\()/</span><span class="s1">,</span><span class="s5">/^(?:,?\s*right\s*)/</span><span class="s1">,</span><span class="s5">/^(?:,?\s*left\s*)/</span><span class="s1">,</span><span class="s5">/^(?:,?\s*x\s*)/</span><span class="s1">,</span><span class="s5">/^(?:,?\s*y\s*)/</span><span class="s1">,</span><span class="s5">/^(?:,?\s*up\s*)/</span><span class="s1">,</span><span class="s5">/^(?:,?\s*down\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\)\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\s*[xo&lt;]?--+[-xo&gt;]\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\s*[xo&lt;]?==+[=xo&gt;]\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\s*[xo&lt;]?-?\.+-[xo&gt;]?\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\s*~~[\~]+\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\s*[xo&lt;]?--\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\s*[xo&lt;]?==\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\s*[xo&lt;]?-\.\s*)/</span><span class="s1">,</span><span class="s5">/^(?:[&quot;][`])/</span><span class="s1">,</span><span class="s5">/^(?:[&quot;])/</span><span class="s1">,</span><span class="s5">/^(?:\s*[xo&lt;]?--+[-xo&gt;]\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\s*[xo&lt;]?==+[=xo&gt;]\s*)/</span><span class="s1">,</span><span class="s5">/^(?:\s*[xo&lt;]?-?\.+-[xo&gt;]?\s*)/</span><span class="s1">,</span><span class="s5">/^(?::\d+)/</span><span class="s1">],</span><span class="s2">conditions</span><span class="s1">:{</span><span class="s2">STYLE_DEFINITION</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">29</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">STYLE_STMNT</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">28</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">CLASSDEFID</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">23</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">CLASSDEF</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">21</span><span class="s1">,</span><span class="s3">22</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">CLASS_STYLE</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">26</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">CLASS</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">25</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">LLABEL</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">100</span><span class="s1">,</span><span class="s3">101</span><span class="s1">,</span><span class="s3">102</span><span class="s1">,</span><span class="s3">103</span><span class="s1">,</span><span class="s3">104</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">ARROW_DIR</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">86</span><span class="s1">,</span><span class="s3">87</span><span class="s1">,</span><span class="s3">88</span><span class="s1">,</span><span class="s3">89</span><span class="s1">,</span><span class="s3">90</span><span class="s1">,</span><span class="s3">91</span><span class="s1">,</span><span class="s3">92</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">BLOCK_ARROW</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">77</span><span class="s1">,</span><span class="s3">82</span><span class="s1">,</span><span class="s3">85</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">NODE</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">38</span><span class="s1">,</span><span class="s3">39</span><span class="s1">,</span><span class="s3">40</span><span class="s1">,</span><span class="s3">41</span><span class="s1">,</span><span class="s3">42</span><span class="s1">,</span><span class="s3">43</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">45</span><span class="s1">,</span><span class="s3">46</span><span class="s1">,</span><span class="s3">47</span><span class="s1">,</span><span class="s3">48</span><span class="s1">,</span><span class="s3">49</span><span class="s1">,</span><span class="s3">50</span><span class="s1">,</span><span class="s3">51</span><span class="s1">,</span><span class="s3">52</span><span class="s1">,</span><span class="s3">53</span><span class="s1">,</span><span class="s3">54</span><span class="s1">,</span><span class="s3">78</span><span class="s1">,</span><span class="s3">81</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">md_string</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">10</span><span class="s1">,</span><span class="s3">11</span><span class="s1">,</span><span class="s3">79</span><span class="s1">,</span><span class="s3">80</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">space</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">string</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">13</span><span class="s1">,</span><span class="s3">14</span><span class="s1">,</span><span class="s3">83</span><span class="s1">,</span><span class="s3">84</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">acc_descr_multiline</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">35</span><span class="s1">,</span><span class="s3">36</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">acc_descr</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">33</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">acc_title</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">31</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">INITIAL</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">0</span><span class="s1">,</span><span class="s3">1</span><span class="s1">,</span><span class="s3">2</span><span class="s1">,</span><span class="s3">3</span><span class="s1">,</span><span class="s3">4</span><span class="s1">,</span><span class="s3">5</span><span class="s1">,</span><span class="s3">6</span><span class="s1">,</span><span class="s3">7</span><span class="s1">,</span><span class="s3">8</span><span class="s1">,</span><span class="s3">9</span><span class="s1">,</span><span class="s3">12</span><span class="s1">,</span><span class="s3">15</span><span class="s1">,</span><span class="s3">16</span><span class="s1">,</span><span class="s3">17</span><span class="s1">,</span><span class="s3">18</span><span class="s1">,</span><span class="s3">19</span><span class="s1">,</span><span class="s3">20</span><span class="s1">,</span><span class="s3">24</span><span class="s1">,</span><span class="s3">27</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">32</span><span class="s1">,</span><span class="s3">34</span><span class="s1">,</span><span class="s3">37</span><span class="s1">,</span><span class="s3">55</span><span class="s1">,</span><span class="s3">56</span><span class="s1">,</span><span class="s3">57</span><span class="s1">,</span><span class="s3">58</span><span class="s1">,</span><span class="s3">59</span><span class="s1">,</span><span class="s3">60</span><span class="s1">,</span><span class="s3">61</span><span class="s1">,</span><span class="s3">62</span><span class="s1">,</span><span class="s3">63</span><span class="s1">,</span><span class="s3">64</span><span class="s1">,</span><span class="s3">65</span><span class="s1">,</span><span class="s3">66</span><span class="s1">,</span><span class="s3">67</span><span class="s1">,</span><span class="s3">68</span><span class="s1">,</span><span class="s3">69</span><span class="s1">,</span><span class="s3">70</span><span class="s1">,</span><span class="s3">71</span><span class="s1">,</span><span class="s3">72</span><span class="s1">,</span><span class="s3">73</span><span class="s1">,</span><span class="s3">74</span><span class="s1">,</span><span class="s3">75</span><span class="s1">,</span><span class="s3">76</span><span class="s1">,</span><span class="s3">93</span><span class="s1">,</span><span class="s3">94</span><span class="s1">,</span><span class="s3">95</span><span class="s1">,</span><span class="s3">96</span><span class="s1">,</span><span class="s3">97</span><span class="s1">,</span><span class="s3">98</span><span class="s1">,</span><span class="s3">99</span><span class="s1">,</span><span class="s3">105</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">true</span><span class="s1">}}};</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}();</span><span class="s2">b</span><span class="s1">.</span><span class="s2">lexer</span><span class="s1">=</span><span class="s2">x</span><span class="s1">;</span><span class="s4">function </span><span class="s2">m</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">={}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">m</span><span class="s1">,</span><span class="s0">&quot;Parser&quot;</span><span class="s1">);</span><span class="s2">m</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">=</span><span class="s2">b</span><span class="s1">;</span><span class="s2">b</span><span class="s1">.</span><span class="s2">Parser</span><span class="s1">=</span><span class="s2">m</span><span class="s1">;</span><span class="s4">return new </span><span class="s2">m</span><span class="s1">}();</span><span class="s2">g</span><span class="s1">.</span><span class="s2">parser</span><span class="s1">=</span><span class="s2">g</span><span class="s1">;</span><span class="s4">var </span><span class="s2">p</span><span class="s1">=</span><span class="s2">g</span><span class="s1">;</span><span class="s4">var </span><span class="s2">y</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Map</span><span class="s1">;</span><span class="s4">var </span><span class="s2">f</span><span class="s1">=[];</span><span class="s4">var </span><span class="s2">b</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Map</span><span class="s1">;</span><span class="s4">var </span><span class="s2">x</span><span class="s1">=</span><span class="s0">&quot;color&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s2">m</span><span class="s1">=</span><span class="s0">&quot;fill&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s2">k</span><span class="s1">=</span><span class="s0">&quot;bgFill&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s2">w</span><span class="s1">=</span><span class="s0">&quot;,&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s2">L</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)();</span><span class="s4">var </span><span class="s2">_</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Map</span><span class="s1">;</span><span class="s4">var </span><span class="s2">v</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">sanitizeText</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">L</span><span class="s1">)),</span><span class="s0">&quot;sanitizeText&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">S</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">){</span><span class="s4">let </span><span class="s2">r</span><span class="s1">=</span><span class="s2">_</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">r</span><span class="s1">){</span><span class="s2">r</span><span class="s1">={</span><span class="s2">id</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">styles</span><span class="s1">:[],</span><span class="s2">textStyles</span><span class="s1">:[]};</span><span class="s2">_</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">!==</span><span class="s4">null</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s2">w</span><span class="s1">).</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/([^;]*);/</span><span class="s1">,</span><span class="s0">&quot;$1&quot;</span><span class="s1">).</span><span class="s2">trim</span><span class="s1">();</span><span class="s4">if</span><span class="s1">(</span><span class="s2">RegExp</span><span class="s1">(</span><span class="s2">x</span><span class="s1">).</span><span class="s2">exec</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s2">m</span><span class="s1">,</span><span class="s2">k</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s2">x</span><span class="s1">,</span><span class="s2">m</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">textStyles</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)}</span><span class="s2">r</span><span class="s1">.</span><span class="s2">styles</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}))}}),</span><span class="s0">&quot;addStyleClass&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">E</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">y</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">!==</span><span class="s4">null</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">styles</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s2">w</span><span class="s1">)}}),</span><span class="s0">&quot;addStyle2Node&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">D</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s0">&quot;,&quot;</span><span class="s1">).</span><span class="s2">forEach</span><span class="s1">((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">let </span><span class="s2">r</span><span class="s1">=</span><span class="s2">y</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">trim</span><span class="s1">();</span><span class="s2">r</span><span class="s1">={</span><span class="s2">id</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;na&quot;</span><span class="s1">,</span><span class="s2">children</span><span class="s1">:[]};</span><span class="s2">y</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">r</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">=[]}</span><span class="s2">r</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}))}),</span><span class="s0">&quot;setCssClass&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">N</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">flat</span><span class="s1">();</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=[];</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">s of r</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">label</span><span class="s1">){</span><span class="s2">s</span><span class="s1">.</span><span class="s2">label</span><span class="s1">=</span><span class="s2">v</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">label</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">type</span><span class="s1">===</span><span class="s0">&quot;classDef&quot;</span><span class="s1">){</span><span class="s2">S</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">css</span><span class="s1">);</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">type</span><span class="s1">===</span><span class="s0">&quot;applyClass&quot;</span><span class="s1">){</span><span class="s2">D</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">s</span><span class="s1">?.</span><span class="s2">styleClass</span><span class="s1">??</span><span class="s0">&quot;&quot;</span><span class="s1">);</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">type</span><span class="s1">===</span><span class="s0">&quot;applyStyles&quot;</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">?.</span><span class="s2">stylesStr</span><span class="s1">){</span><span class="s2">E</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">s</span><span class="s1">?.</span><span class="s2">stylesStr</span><span class="s1">)}</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">type</span><span class="s1">===</span><span class="s0">&quot;column-setting&quot;</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">columns</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">columns</span><span class="s1">??-</span><span class="s3">1</span><span class="s1">}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">type</span><span class="s1">===</span><span class="s0">&quot;edge&quot;</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=(</span><span class="s2">b</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">)??</span><span class="s3">0</span><span class="s1">)+</span><span class="s3">1</span><span class="s1">;</span><span class="s2">b</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">=</span><span class="s2">t</span><span class="s1">+</span><span class="s0">&quot;-&quot;</span><span class="s1">+</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">s</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">s</span><span class="s1">.</span><span class="s2">label</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">type</span><span class="s1">===</span><span class="s0">&quot;composite&quot;</span><span class="s1">){</span><span class="s2">s</span><span class="s1">.</span><span class="s2">label</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">s</span><span class="s1">.</span><span class="s2">label</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">}}</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">y</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">y</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">type</span><span class="s1">!==</span><span class="s0">&quot;na&quot;</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">type</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">type</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">label</span><span class="s1">!==</span><span class="s2">s</span><span class="s1">.</span><span class="s2">id</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">label</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">label</span><span class="s1">}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s2">N</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">children</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">type</span><span class="s1">===</span><span class="s0">&quot;space&quot;</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">??</span><span class="s3">1</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">let </span><span class="s2">e</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">e</span><span class="s1">&lt;</span><span class="s2">t</span><span class="s1">;</span><span class="s2">e</span><span class="s1">++){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">l</span><span class="s1">.</span><span class="s2">A</span><span class="s1">)(</span><span class="s2">s</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">+</span><span class="s0">&quot;-&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">;</span><span class="s2">y</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">s</span><span class="s1">)}}}</span><span class="s2">e</span><span class="s1">.</span><span class="s2">children</span><span class="s1">=</span><span class="s2">a</span><span class="s1">}),</span><span class="s0">&quot;populateBlockDatabase&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">K</span><span class="s1">=[];</span><span class="s4">var </span><span class="s2">R</span><span class="s1">={</span><span class="s2">id</span><span class="s1">:</span><span class="s0">&quot;root&quot;</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;composite&quot;</span><span class="s1">,</span><span class="s2">children</span><span class="s1">:[],</span><span class="s2">columns</span><span class="s1">:-</span><span class="s3">1</span><span class="s1">};</span><span class="s4">var </span><span class="s2">C</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Clear called&quot;</span><span class="s1">);(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">IU</span><span class="s1">)();</span><span class="s2">R</span><span class="s1">={</span><span class="s2">id</span><span class="s1">:</span><span class="s0">&quot;root&quot;</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;composite&quot;</span><span class="s1">,</span><span class="s2">children</span><span class="s1">:[],</span><span class="s2">columns</span><span class="s1">:-</span><span class="s3">1</span><span class="s1">};</span><span class="s2">y</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Map</span><span class="s1">([[</span><span class="s0">&quot;root&quot;</span><span class="s1">,</span><span class="s2">R</span><span class="s1">]]);</span><span class="s2">K</span><span class="s1">=[];</span><span class="s2">_</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Map</span><span class="s1">;</span><span class="s2">f</span><span class="s1">=[];</span><span class="s2">b</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Map</span><span class="s1">}),</span><span class="s0">&quot;clear&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">T</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;typeStr2Type&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">case</span><span class="s0">&quot;[]&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;square&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;()&quot;</span><span class="s1">:</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;we have a round&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s0">&quot;round&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;(())&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;circle&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;&gt;]&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;rect_left_inv_arrow&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;{}&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;diamond&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;{{}}&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;hexagon&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;([])&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;stadium&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;[[]]&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;subroutine&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;[()]&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;cylinder&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;((()))&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;doublecircle&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;[//]&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;lean_right&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;[</span><span class="s4">\\\\</span><span class="s0">]&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;lean_left&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;[/</span><span class="s4">\\</span><span class="s0">]&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;trapezoid&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;[</span><span class="s4">\\</span><span class="s0">/]&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;inv_trapezoid&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;&lt;[]&gt;&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;block_arrow&quot;</span><span class="s1">;</span><span class="s4">default</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;na&quot;</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">T</span><span class="s1">,</span><span class="s0">&quot;typeStr2Type&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">$</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;typeStr2Type&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">case</span><span class="s0">&quot;==&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;thick&quot;</span><span class="s1">;</span><span class="s4">default</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;normal&quot;</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">$</span><span class="s1">,</span><span class="s0">&quot;edgeTypeStr2Type&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">A</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">trim</span><span class="s1">()){</span><span class="s4">case</span><span class="s0">&quot;--x&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;arrow_cross&quot;</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;--o&quot;</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;arrow_circle&quot;</span><span class="s1">;</span><span class="s4">default</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;arrow_point&quot;</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">A</span><span class="s1">,</span><span class="s0">&quot;edgeStrToEdgeData&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">O</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">var </span><span class="s2">I</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;{</span><span class="s2">O</span><span class="s1">++;</span><span class="s4">return</span><span class="s0">&quot;id-&quot;</span><span class="s1">+</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">random</span><span class="s1">().</span><span class="s2">toString</span><span class="s1">(</span><span class="s3">36</span><span class="s1">).</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">2</span><span class="s1">,</span><span class="s3">12</span><span class="s1">)+</span><span class="s0">&quot;-&quot;</span><span class="s1">+</span><span class="s2">O</span><span class="s1">}),</span><span class="s0">&quot;generateId&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">B</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s2">R</span><span class="s1">.</span><span class="s2">children</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s2">N</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">R</span><span class="s1">);</span><span class="s2">K</span><span class="s1">=</span><span class="s2">R</span><span class="s1">.</span><span class="s2">children</span><span class="s1">}),</span><span class="s0">&quot;setHierarchy&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">z</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">y</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return</span><span class="s1">-</span><span class="s3">1</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">columns</span><span class="s1">){</span><span class="s4">return </span><span class="s2">e</span><span class="s1">.</span><span class="s2">columns</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">e</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s4">return</span><span class="s1">-</span><span class="s3">1</span><span class="s1">}</span><span class="s4">return </span><span class="s2">e</span><span class="s1">.</span><span class="s2">children</span><span class="s1">.</span><span class="s2">length</span><span class="s1">}),</span><span class="s0">&quot;getColumns&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">M</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;[</span><span class="s2">...y</span><span class="s1">.</span><span class="s2">values</span><span class="s1">()]),</span><span class="s0">&quot;getBlocksFlat&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">P</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;</span><span class="s2">K</span><span class="s1">||[]),</span><span class="s0">&quot;getBlocks&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Y</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;</span><span class="s2">f</span><span class="s1">),</span><span class="s0">&quot;getEdges&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">j</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">y</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)),</span><span class="s0">&quot;getBlock&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">F</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s2">y</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)}),</span><span class="s0">&quot;setBlock&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">W</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;</span><span class="s2">console</span><span class="s1">),</span><span class="s0">&quot;getLogger&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">X</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return </span><span class="s2">_</span><span class="s1">}),</span><span class="s0">&quot;getClasses&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">H</span><span class="s1">={</span><span class="s2">getConfig</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">zj</span><span class="s1">)().</span><span class="s2">block</span><span class="s1">),</span><span class="s0">&quot;getConfig&quot;</span><span class="s1">),</span><span class="s2">typeStr2Type</span><span class="s1">:</span><span class="s2">T</span><span class="s1">,</span><span class="s2">edgeTypeStr2Type</span><span class="s1">:</span><span class="s2">$</span><span class="s1">,</span><span class="s2">edgeStrToEdgeData</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s2">getLogger</span><span class="s1">:</span><span class="s2">W</span><span class="s1">,</span><span class="s2">getBlocksFlat</span><span class="s1">:</span><span class="s2">M</span><span class="s1">,</span><span class="s2">getBlocks</span><span class="s1">:</span><span class="s2">P</span><span class="s1">,</span><span class="s2">getEdges</span><span class="s1">:</span><span class="s2">Y</span><span class="s1">,</span><span class="s2">setHierarchy</span><span class="s1">:</span><span class="s2">B</span><span class="s1">,</span><span class="s2">getBlock</span><span class="s1">:</span><span class="s2">j</span><span class="s1">,</span><span class="s2">setBlock</span><span class="s1">:</span><span class="s2">F</span><span class="s1">,</span><span class="s2">getColumns</span><span class="s1">:</span><span class="s2">z</span><span class="s1">,</span><span class="s2">getClasses</span><span class="s1">:</span><span class="s2">X</span><span class="s1">,</span><span class="s2">clear</span><span class="s1">:</span><span class="s2">C</span><span class="s1">,</span><span class="s2">generateId</span><span class="s1">:</span><span class="s2">I</span><span class="s1">};</span><span class="s4">var </span><span class="s2">U</span><span class="s1">=</span><span class="s2">H</span><span class="s1">;</span><span class="s4">var </span><span class="s2">Z</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">A</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;r&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;g&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;b&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s2">h</span><span class="s1">.</span><span class="s2">A</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)}),</span><span class="s0">&quot;fade&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">q</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s0">`.label {</span><span class="s4">\n    </span><span class="s0">font-family: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">color: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">nodeTextColor</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">textColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n  </span><span class="s0">.cluster-label text {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">titleColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n  </span><span class="s0">.cluster-label span,p {</span><span class="s4">\n    </span><span class="s0">color: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">titleColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n\n\n  </span><span class="s0">.label text,span,p {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">nodeTextColor</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">textColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">color: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">nodeTextColor</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">textColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.node rect,</span><span class="s4">\n  </span><span class="s0">.node circle,</span><span class="s4">\n  </span><span class="s0">.node ellipse,</span><span class="s4">\n  </span><span class="s0">.node polygon,</span><span class="s4">\n  </span><span class="s0">.node path {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">mainBkg</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">nodeBorder</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke-width: 1px;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n  </span><span class="s0">.flowchart-label text {</span><span class="s4">\n    </span><span class="s0">text-anchor: middle;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n  </span><span class="s0">// .flowchart-label .text-outer-tspan {</span><span class="s4">\n  </span><span class="s0">//   text-anchor: middle;</span><span class="s4">\n  </span><span class="s0">// }</span><span class="s4">\n  </span><span class="s0">// .flowchart-label .text-inner-tspan {</span><span class="s4">\n  </span><span class="s0">//   text-anchor: start;</span><span class="s4">\n  </span><span class="s0">// }</span><span class="s4">\n\n  </span><span class="s0">.node .label {</span><span class="s4">\n    </span><span class="s0">text-align: center;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n  </span><span class="s0">.node.clickable {</span><span class="s4">\n    </span><span class="s0">cursor: pointer;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.arrowheadPath {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">arrowheadColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.edgePath .path {</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">lineColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke-width: 2.0px;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.flowchart-link {</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">lineColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">fill: none;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.edgeLabel {</span><span class="s4">\n    </span><span class="s0">background-color: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">edgeLabelBackground</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">rect {</span><span class="s4">\n      </span><span class="s0">opacity: 0.5;</span><span class="s4">\n      </span><span class="s0">background-color: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">edgeLabelBackground</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n      </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">edgeLabelBackground</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">}</span><span class="s4">\n    </span><span class="s0">text-align: center;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">/* For html labels only */</span><span class="s4">\n  </span><span class="s0">.labelBkg {</span><span class="s4">\n    </span><span class="s0">background-color: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">Z</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">edgeLabelBackground</span><span class="s1">,</span><span class="s3">.5</span><span class="s1">)}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">// background-color:</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.node .cluster {</span><span class="s4">\n    </span><span class="s0">// fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">Z</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">mainBkg</span><span class="s1">,</span><span class="s3">.5</span><span class="s1">)}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">Z</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">clusterBkg</span><span class="s1">,</span><span class="s3">.5</span><span class="s1">)}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">Z</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">clusterBorder</span><span class="s1">,</span><span class="s3">.2</span><span class="s1">)}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;</span><span class="s4">\n    </span><span class="s0">stroke-width: 1px;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.cluster text {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">titleColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.cluster span,p {</span><span class="s4">\n    </span><span class="s0">color: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">titleColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n  </span><span class="s0">/* .cluster div {</span><span class="s4">\n    </span><span class="s0">color: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">titleColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">} */</span><span class="s4">\n\n  </span><span class="s0">div.mermaidTooltip {</span><span class="s4">\n    </span><span class="s0">position: absolute;</span><span class="s4">\n    </span><span class="s0">text-align: center;</span><span class="s4">\n    </span><span class="s0">max-width: 200px;</span><span class="s4">\n    </span><span class="s0">padding: 2px;</span><span class="s4">\n    </span><span class="s0">font-family: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">font-size: 12px;</span><span class="s4">\n    </span><span class="s0">background: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">tertiaryColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">border: 1px solid </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">border2</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">border-radius: 2px;</span><span class="s4">\n    </span><span class="s0">pointer-events: none;</span><span class="s4">\n    </span><span class="s0">z-index: 100;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.flowchartTitleText {</span><span class="s4">\n    </span><span class="s0">text-anchor: middle;</span><span class="s4">\n    </span><span class="s0">font-size: 18px;</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">textColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n</span><span class="s0">`</span><span class="s1">),</span><span class="s0">&quot;getStyles&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">G</span><span class="s1">=</span><span class="s2">q</span><span class="s1">;</span><span class="s4">var </span><span class="s2">J</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)=&gt;{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">e</span><span class="s1">=&gt;{</span><span class="s2">ot</span><span class="s1">[</span><span class="s2">e</span><span class="s1">](</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)}))}),</span><span class="s0">&quot;insertMarkers&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">V</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">trace</span><span class="s1">(</span><span class="s0">&quot;Making markers for &quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-extensionStart&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker extension &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">18</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">190</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">240</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 1,7 L18,13 V 1 Z&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-extensionEnd&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker extension &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">1</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">20</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">28</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 1,1 V 13 L18,7 Z&quot;</span><span class="s1">)}),</span><span class="s0">&quot;extension&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Q</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-compositionStart&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker composition &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">18</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">190</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">240</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 18,7 L9,13 L1,7 L9,1 Z&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-compositionEnd&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker composition &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">1</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">20</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">28</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 18,7 L9,13 L1,7 L9,1 Z&quot;</span><span class="s1">)}),</span><span class="s0">&quot;composition&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">tt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-aggregationStart&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker aggregation &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">18</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">190</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">240</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 18,7 L9,13 L1,7 L9,1 Z&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-aggregationEnd&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker aggregation &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">1</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">20</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">28</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 18,7 L9,13 L1,7 L9,1 Z&quot;</span><span class="s1">)}),</span><span class="s0">&quot;aggregation&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">et</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-dependencyStart&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker dependency &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">6</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">190</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">240</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 5,7 L9,13 L1,7 L9,1 Z&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-dependencyEnd&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker dependency &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">13</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">20</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">28</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 18,7 L9,13 L14,7 L9,1 Z&quot;</span><span class="s1">)}),</span><span class="s0">&quot;dependency&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">rt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-lollipopStart&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker lollipop &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">13</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">190</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">240</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke&quot;</span><span class="s1">,</span><span class="s0">&quot;black&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;fill&quot;</span><span class="s1">,</span><span class="s0">&quot;transparent&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cx&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cy&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s3">6</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-lollipopEnd&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker lollipop &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">1</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">190</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">240</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke&quot;</span><span class="s1">,</span><span class="s0">&quot;black&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;fill&quot;</span><span class="s1">,</span><span class="s0">&quot;transparent&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cx&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cy&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s3">6</span><span class="s1">)}),</span><span class="s0">&quot;lollipop&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">at</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-pointEnd&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;viewBox&quot;</span><span class="s1">,</span><span class="s0">&quot;0 0 10 10&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">6</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">5</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerUnits&quot;</span><span class="s1">,</span><span class="s0">&quot;userSpaceOnUse&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">12</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">12</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 0 0 L 10 5 L 0 10 z&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;arrowMarkerPath&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-width&quot;</span><span class="s1">,</span><span class="s3">1</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-dasharray&quot;</span><span class="s1">,</span><span class="s0">&quot;1,0&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-pointStart&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;viewBox&quot;</span><span class="s1">,</span><span class="s0">&quot;0 0 10 10&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">4.5</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">5</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerUnits&quot;</span><span class="s1">,</span><span class="s0">&quot;userSpaceOnUse&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">12</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">12</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 0 5 L 10 10 L 10 0 z&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;arrowMarkerPath&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-width&quot;</span><span class="s1">,</span><span class="s3">1</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-dasharray&quot;</span><span class="s1">,</span><span class="s0">&quot;1,0&quot;</span><span class="s1">)}),</span><span class="s0">&quot;point&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">st</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-circleEnd&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;viewBox&quot;</span><span class="s1">,</span><span class="s0">&quot;0 0 10 10&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">11</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">5</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerUnits&quot;</span><span class="s1">,</span><span class="s0">&quot;userSpaceOnUse&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">11</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">11</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cx&quot;</span><span class="s1">,</span><span class="s0">&quot;5&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cy&quot;</span><span class="s1">,</span><span class="s0">&quot;5&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s0">&quot;5&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;arrowMarkerPath&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-width&quot;</span><span class="s1">,</span><span class="s3">1</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-dasharray&quot;</span><span class="s1">,</span><span class="s0">&quot;1,0&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-circleStart&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;viewBox&quot;</span><span class="s1">,</span><span class="s0">&quot;0 0 10 10&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,-</span><span class="s3">1</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">5</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerUnits&quot;</span><span class="s1">,</span><span class="s0">&quot;userSpaceOnUse&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">11</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">11</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cx&quot;</span><span class="s1">,</span><span class="s0">&quot;5&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cy&quot;</span><span class="s1">,</span><span class="s0">&quot;5&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s0">&quot;5&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;arrowMarkerPath&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-width&quot;</span><span class="s1">,</span><span class="s3">1</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-dasharray&quot;</span><span class="s1">,</span><span class="s0">&quot;1,0&quot;</span><span class="s1">)}),</span><span class="s0">&quot;circle&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">it</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-crossEnd&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker cross &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;viewBox&quot;</span><span class="s1">,</span><span class="s0">&quot;0 0 11 11&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">12</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">5.2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerUnits&quot;</span><span class="s1">,</span><span class="s0">&quot;userSpaceOnUse&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">11</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">11</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 1,1 l 9,9 M 10,1 l -9,9&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;arrowMarkerPath&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-width&quot;</span><span class="s1">,</span><span class="s3">2</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-dasharray&quot;</span><span class="s1">,</span><span class="s0">&quot;1,0&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-crossStart&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;marker cross &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;viewBox&quot;</span><span class="s1">,</span><span class="s0">&quot;0 0 11 11&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,-</span><span class="s3">1</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">5.2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerUnits&quot;</span><span class="s1">,</span><span class="s0">&quot;userSpaceOnUse&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">11</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">11</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 1,1 l 9,9 M 10,1 l -9,9&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;arrowMarkerPath&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-width&quot;</span><span class="s1">,</span><span class="s3">2</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-dasharray&quot;</span><span class="s1">,</span><span class="s0">&quot;1,0&quot;</span><span class="s1">)}),</span><span class="s0">&quot;cross&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">nt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;_&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;-barbEnd&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">19</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">20</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">14</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerUnits&quot;</span><span class="s1">,</span><span class="s0">&quot;strokeWidth&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 19,7 L9,13 L14,7 L9,1 Z&quot;</span><span class="s1">)}),</span><span class="s0">&quot;barb&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ot</span><span class="s1">={</span><span class="s2">extension</span><span class="s1">:</span><span class="s2">V</span><span class="s1">,</span><span class="s2">composition</span><span class="s1">:</span><span class="s2">Q</span><span class="s1">,</span><span class="s2">aggregation</span><span class="s1">:</span><span class="s2">tt</span><span class="s1">,</span><span class="s2">dependency</span><span class="s1">:</span><span class="s2">et</span><span class="s1">,</span><span class="s2">lollipop</span><span class="s1">:</span><span class="s2">rt</span><span class="s1">,</span><span class="s2">point</span><span class="s1">:</span><span class="s2">at</span><span class="s1">,</span><span class="s2">circle</span><span class="s1">:</span><span class="s2">st</span><span class="s1">,</span><span class="s2">cross</span><span class="s1">:</span><span class="s2">it</span><span class="s1">,</span><span class="s2">barb</span><span class="s1">:</span><span class="s2">nt</span><span class="s1">};</span><span class="s4">var </span><span class="s2">lt</span><span class="s1">=</span><span class="s2">J</span><span class="s1">;</span><span class="s4">var </span><span class="s2">ct</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)()?.</span><span class="s2">block</span><span class="s1">?.</span><span class="s2">padding</span><span class="s1">??</span><span class="s3">8</span><span class="s1">;</span><span class="s4">function </span><span class="s2">ht</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">===</span><span class="s3">0</span><span class="s1">||!</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">isInteger</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Columns must be an integer !== 0.&quot;</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">&lt;</span><span class="s3">0</span><span class="s1">||!</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">isInteger</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Position must be a non-negative integer.&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">&lt;</span><span class="s3">0</span><span class="s1">){</span><span class="s4">return</span><span class="s1">{</span><span class="s2">px</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">py</span><span class="s1">:</span><span class="s3">0</span><span class="s1">}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">===</span><span class="s3">1</span><span class="s1">){</span><span class="s4">return</span><span class="s1">{</span><span class="s2">px</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">py</span><span class="s1">:</span><span class="s2">e</span><span class="s1">}}</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">%</span><span class="s2">t</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">floor</span><span class="s1">(</span><span class="s2">e</span><span class="s1">/</span><span class="s2">t</span><span class="s1">);</span><span class="s4">return</span><span class="s1">{</span><span class="s2">px</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">py</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">ht</span><span class="s1">,</span><span class="s0">&quot;calculateBlockPosition&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">dt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">let </span><span class="s2">e</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">let </span><span class="s2">r</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">a of t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s4">const</span><span class="s1">{</span><span class="s2">width</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">l</span><span class="s1">}=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">size</span><span class="s1">??{</span><span class="s2">width</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">};</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;getMaxChildSize abc95 child:&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s0">&quot;width:&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s0">&quot;height:&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s0">&quot;x:&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s0">&quot;y:&quot;</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">type</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">type</span><span class="s1">===</span><span class="s0">&quot;space&quot;</span><span class="s1">){</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">&gt;</span><span class="s2">e</span><span class="s1">){</span><span class="s2">e</span><span class="s1">=</span><span class="s2">s</span><span class="s1">/(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">widthInColumns</span><span class="s1">??</span><span class="s3">1</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">&gt;</span><span class="s2">r</span><span class="s1">){</span><span class="s2">r</span><span class="s1">=</span><span class="s2">i</span><span class="s1">}}</span><span class="s4">return</span><span class="s1">{</span><span class="s2">width</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">r</span><span class="s1">}}),</span><span class="s0">&quot;getMaxChildSize&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">ut</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s3">0</span><span class="s1">,</span><span class="s2">a</span><span class="s1">=</span><span class="s3">0</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;setBlockSizes abc95 (start)&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">x</span><span class="s1">,</span><span class="s0">&quot;block width =&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">,</span><span class="s0">&quot;sieblingWidth&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">size</span><span class="s1">={</span><span class="s2">width</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">}}</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">let </span><span class="s2">i</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">?.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">r of t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s2">ut</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s2">s</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s2">i</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;setBlockSizes abc95 maxWidth of&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s0">&quot;:s children is &quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">e of t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`abc95 Setting size of children of </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s0">id=</span><span class="s2">$</span><span class="s1">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">} </span><span class="s2">$</span><span class="s1">{</span><span class="s2">i</span><span class="s1">} </span><span class="s2">$</span><span class="s1">{</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">)}</span><span class="s0">`</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">s</span><span class="s1">*(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">widthInColumns</span><span class="s1">??</span><span class="s3">1</span><span class="s1">)+</span><span class="s2">ct</span><span class="s1">*((</span><span class="s2">e</span><span class="s1">.</span><span class="s2">widthInColumns</span><span class="s1">??</span><span class="s3">1</span><span class="s1">)-</span><span class="s3">1</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`abc95 updating size of </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s0">children child:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s0">maxWidth:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">} </span><span class="s0">maxHeight:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">i</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)}}</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">r of t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s2">ut</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">columns</span><span class="s1">??-</span><span class="s3">1</span><span class="s1">;</span><span class="s4">let </span><span class="s2">c</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">e of t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s2">c</span><span class="s1">+=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">widthInColumns</span><span class="s1">??</span><span class="s3">1</span><span class="s1">}</span><span class="s4">let </span><span class="s2">h</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">l</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">l</span><span class="s1">&lt;</span><span class="s2">c</span><span class="s1">){</span><span class="s2">h</span><span class="s1">=</span><span class="s2">l</span><span class="s1">}</span><span class="s4">const </span><span class="s2">d</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">ceil</span><span class="s1">(</span><span class="s2">c</span><span class="s1">/</span><span class="s2">h</span><span class="s1">);</span><span class="s4">let </span><span class="s2">u</span><span class="s1">=</span><span class="s2">h</span><span class="s1">*(</span><span class="s2">s</span><span class="s1">+</span><span class="s2">ct</span><span class="s1">)+</span><span class="s2">ct</span><span class="s1">;</span><span class="s4">let </span><span class="s2">g</span><span class="s1">=</span><span class="s2">d</span><span class="s1">*(</span><span class="s2">i</span><span class="s1">+</span><span class="s2">ct</span><span class="s1">)+</span><span class="s2">ct</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">u</span><span class="s1">&lt;</span><span class="s2">r</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`Detected to small siebling: abc95 </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s0">sieblingWidth </span><span class="s2">$</span><span class="s1">{</span><span class="s2">r</span><span class="s1">} </span><span class="s0">sieblingHeight </span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">} </span><span class="s0">width </span><span class="s2">$</span><span class="s1">{</span><span class="s2">u</span><span class="s1">}</span><span class="s0">`</span><span class="s1">);</span><span class="s2">u</span><span class="s1">=</span><span class="s2">r</span><span class="s1">;</span><span class="s2">g</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s2">r</span><span class="s1">-</span><span class="s2">h</span><span class="s1">*</span><span class="s2">ct</span><span class="s1">-</span><span class="s2">ct</span><span class="s1">)/</span><span class="s2">h</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=(</span><span class="s2">a</span><span class="s1">-</span><span class="s2">d</span><span class="s1">*</span><span class="s2">ct</span><span class="s1">-</span><span class="s2">ct</span><span class="s1">)/</span><span class="s2">d</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Size indata abc88&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s0">&quot;childWidth&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;maxWidth&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Size indata abc88&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s0">&quot;childHeight&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s0">&quot;maxHeight&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Size indata abc88 xSize&quot;</span><span class="s1">,</span><span class="s2">h</span><span class="s1">,</span><span class="s0">&quot;padding&quot;</span><span class="s1">,</span><span class="s2">ct</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">r of t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">size</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">e</span><span class="s1">;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">n</span><span class="s1">;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s3">0</span><span class="s1">}}}</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`abc95 (finale calc) </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s0">xSize </span><span class="s2">$</span><span class="s1">{</span><span class="s2">h</span><span class="s1">} </span><span class="s0">ySize </span><span class="s2">$</span><span class="s1">{</span><span class="s2">d</span><span class="s1">} </span><span class="s0">columns </span><span class="s2">$</span><span class="s1">{</span><span class="s2">l</span><span class="s1">}</span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">.</span><span class="s2">length</span><span class="s1">} </span><span class="s0">width=</span><span class="s2">$</span><span class="s1">{</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s1">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">||</span><span class="s3">0</span><span class="s1">)}</span><span class="s0">`</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">u</span><span class="s1">&lt;(</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">||</span><span class="s3">0</span><span class="s1">)){</span><span class="s2">u</span><span class="s1">=</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">||</span><span class="s3">0</span><span class="s1">;</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">l</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">?</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">.</span><span class="s2">length</span><span class="s1">,</span><span class="s2">l</span><span class="s1">):</span><span class="s2">t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=(</span><span class="s2">u</span><span class="s1">-</span><span class="s2">e</span><span class="s1">*</span><span class="s2">ct</span><span class="s1">-</span><span class="s2">ct</span><span class="s1">)/</span><span class="s2">e</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;abc95 (growing to fit) width&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">e of t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">r</span><span class="s1">}}}}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">size</span><span class="s1">={</span><span class="s2">width</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">}}</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;setBlockSizes abc94 (done)&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">y</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">height</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">ut</span><span class="s1">,</span><span class="s0">&quot;setBlockSizes&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">gt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`abc85 layout blocks (=&gt;layoutBlocks) </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s0">x: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">x</span><span class="s1">} </span><span class="s0">y: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">y</span><span class="s1">} </span><span class="s0">width: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">}</span><span class="s0">`</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">columns</span><span class="s1">??-</span><span class="s3">1</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;layoutBlocks columns abc95&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s0">&quot;=&gt;&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">children</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">??</span><span class="s3">0</span><span class="s1">;</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">.</span><span class="s2">length</span><span class="s1">*</span><span class="s2">a</span><span class="s1">+(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">)*</span><span class="s2">ct</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;widthOfChildren 88&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s0">&quot;posX&quot;</span><span class="s1">);</span><span class="s4">let </span><span class="s2">i</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;abc91 block?.size?.x&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">x</span><span class="s1">);</span><span class="s4">let </span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">x</span><span class="s1">?</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">x</span><span class="s1">+(-</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">||</span><span class="s3">0</span><span class="s1">):-</span><span class="s2">ct</span><span class="s1">;</span><span class="s4">let </span><span class="s2">l</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">c of t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">c</span><span class="s1">.</span><span class="s2">size</span><span class="s1">){</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">const</span><span class="s1">{</span><span class="s2">width</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">h</span><span class="s1">}=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">size</span><span class="s1">;</span><span class="s4">const</span><span class="s1">{</span><span class="s2">px</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s2">py</span><span class="s1">:</span><span class="s2">u</span><span class="s1">}=</span><span class="s2">ht</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">u</span><span class="s1">!=</span><span class="s2">l</span><span class="s1">){</span><span class="s2">l</span><span class="s1">=</span><span class="s2">u</span><span class="s1">;</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">x</span><span class="s1">?</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">x</span><span class="s1">+(-</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">||</span><span class="s3">0</span><span class="s1">):-</span><span class="s2">ct</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;New row in layout for block&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s0">&quot; and child &quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">l</span><span class="s1">)}</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`abc89 layout blocks (child) id: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">c</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s0">Pos: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">i</span><span class="s1">} </span><span class="s0">(px, py) </span><span class="s2">$</span><span class="s1">{</span><span class="s2">d</span><span class="s1">}</span><span class="s0">,</span><span class="s2">$</span><span class="s1">{</span><span class="s2">u</span><span class="s1">} </span><span class="s0">(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">x</span><span class="s1">}</span><span class="s0">,</span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">y</span><span class="s1">}</span><span class="s0">) parent: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s0">width: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">}</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ct</span><span class="s1">}</span><span class="s0">`</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">size</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">s</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">c</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">n</span><span class="s1">+</span><span class="s2">ct</span><span class="s1">+</span><span class="s2">t</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`abc91 layout blocks (calc) px, pyid:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">c</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s0">startingPos=X</span><span class="s2">$</span><span class="s1">{</span><span class="s2">n</span><span class="s1">} </span><span class="s0">new startingPosX</span><span class="s2">$</span><span class="s1">{</span><span class="s2">c</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">x</span><span class="s1">} </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">} </span><span class="s0">padding=</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ct</span><span class="s1">} </span><span class="s0">width=</span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">} </span><span class="s0">halfWidth=</span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">} </span><span class="s0">=&gt; x:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">c</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">x</span><span class="s1">} </span><span class="s0">y:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">c</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">y</span><span class="s1">} </span><span class="s2">$</span><span class="s1">{</span><span class="s2">c</span><span class="s1">.</span><span class="s2">widthInColumns</span><span class="s1">} </span><span class="s0">(width * (child?.w || 1)) / 2 </span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">*(</span><span class="s2">c</span><span class="s1">?.</span><span class="s2">widthInColumns</span><span class="s1">??</span><span class="s3">1</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">}</span><span class="s0">`</span><span class="s1">);</span><span class="s2">n</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">t</span><span class="s1">;</span><span class="s2">c</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">u</span><span class="s1">*(</span><span class="s2">h</span><span class="s1">+</span><span class="s2">ct</span><span class="s1">)+</span><span class="s2">h</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">ct</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`abc88 layout blocks (calc) px, pyid:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">c</span><span class="s1">.</span><span class="s2">id</span><span class="s1">}</span><span class="s0">startingPosX</span><span class="s2">$</span><span class="s1">{</span><span class="s2">n</span><span class="s1">}</span><span class="s2">$</span><span class="s1">{</span><span class="s2">ct</span><span class="s1">}</span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">}</span><span class="s0">=&gt;x:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">c</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">x</span><span class="s1">}</span><span class="s0">y:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">c</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}</span><span class="s2">$</span><span class="s1">{</span><span class="s2">c</span><span class="s1">.</span><span class="s2">widthInColumns</span><span class="s1">}</span><span class="s0">(width * (child?.w || 1)) / 2</span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">*(</span><span class="s2">c</span><span class="s1">?.</span><span class="s2">widthInColumns</span><span class="s1">??</span><span class="s3">1</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s2">gt</span><span class="s1">(</span><span class="s2">c</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)}</span><span class="s2">i</span><span class="s1">+=</span><span class="s2">c</span><span class="s1">?.</span><span class="s2">widthInColumns</span><span class="s1">??</span><span class="s3">1</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;abc88 columnsPos&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">i</span><span class="s1">)}}</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`layout blocks (&lt;==layoutBlocks) </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">} </span><span class="s0">x: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">x</span><span class="s1">} </span><span class="s0">y: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">y</span><span class="s1">} </span><span class="s0">width: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">?.</span><span class="s2">width</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">gt</span><span class="s1">,</span><span class="s0">&quot;layoutBlocks&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">pt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,{</span><span class="s2">minX</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">minY</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">maxX</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">maxY</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}={</span><span class="s2">minX</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">minY</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">maxX</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">maxY</span><span class="s1">:</span><span class="s3">0</span><span class="s1">}){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">size</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">!==</span><span class="s0">&quot;root&quot;</span><span class="s1">){</span><span class="s4">const</span><span class="s1">{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">l</span><span class="s1">}=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">size</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">-</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">){</span><span class="s2">e</span><span class="s1">=</span><span class="s2">i</span><span class="s1">-</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">n</span><span class="s1">-</span><span class="s2">l</span><span class="s1">/</span><span class="s3">2</span><span class="s1">&lt;</span><span class="s2">r</span><span class="s1">){</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">-</span><span class="s2">l</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">+</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">&gt;</span><span class="s2">a</span><span class="s1">){</span><span class="s2">a</span><span class="s1">=</span><span class="s2">i</span><span class="s1">+</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">n</span><span class="s1">+</span><span class="s2">l</span><span class="s1">/</span><span class="s3">2</span><span class="s1">&gt;</span><span class="s2">s</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">n</span><span class="s1">+</span><span class="s2">l</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">i of t</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){({</span><span class="s2">minX</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">minY</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">maxX</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">maxY</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}=</span><span class="s2">pt</span><span class="s1">(</span><span class="s2">i</span><span class="s1">,{</span><span class="s2">minX</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">minY</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">maxX</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">maxY</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}))}}</span><span class="s4">return</span><span class="s1">{</span><span class="s2">minX</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">minY</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">maxX</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">maxY</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">pt</span><span class="s1">,</span><span class="s0">&quot;findBounds&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">yt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getBlock</span><span class="s1">(</span><span class="s0">&quot;root&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return</span><span class="s1">}</span><span class="s2">ut</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s3">0</span><span class="s1">,</span><span class="s3">0</span><span class="s1">);</span><span class="s2">gt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;getBlocks&quot;</span><span class="s1">,</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">null</span><span class="s1">,</span><span class="s3">2</span><span class="s1">));</span><span class="s4">const</span><span class="s1">{</span><span class="s2">minX</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">minY</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">maxX</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">maxY</span><span class="s1">:</span><span class="s2">i</span><span class="s1">}=</span><span class="s2">pt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">i</span><span class="s1">-</span><span class="s2">a</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">s</span><span class="s1">-</span><span class="s2">r</span><span class="s1">;</span><span class="s4">return</span><span class="s1">{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">n</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">yt</span><span class="s1">,</span><span class="s0">&quot;layout&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">ft</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">ft</span><span class="s1">,</span><span class="s0">&quot;applyStyle&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">bt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">document</span><span class="s1">.</span><span class="s2">createElementNS</span><span class="s1">(</span><span class="s0">&quot;http://www.w3.org/2000/svg&quot;</span><span class="s1">,</span><span class="s0">&quot;foreignObject&quot;</span><span class="s1">));</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;xhtml:div&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">label</span><span class="s1">;</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">isNode</span><span class="s1">?</span><span class="s0">&quot;nodeLabel&quot;</span><span class="s1">:</span><span class="s0">&quot;edgeLabel&quot;</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;span&quot;</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">html</span><span class="s1">(</span><span class="s2">a</span><span class="s1">);</span><span class="s2">ft</span><span class="s1">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s2">ft</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;display&quot;</span><span class="s1">,</span><span class="s0">&quot;inline-block&quot;</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;white-space&quot;</span><span class="s1">,</span><span class="s0">&quot;nowrap&quot;</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;xmlns&quot;</span><span class="s1">,</span><span class="s0">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s2">e</span><span class="s1">.</span><span class="s2">node</span><span class="s1">()}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">bt</span><span class="s1">,</span><span class="s0">&quot;addHtmlLabel&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">xt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)=&gt;{</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">||</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">s</span><span class="s1">===</span><span class="s0">&quot;object&quot;</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">s</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]}</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">_3</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">)){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/\\n|\n/g</span><span class="s1">,</span><span class="s0">&quot;&lt;br /&gt;&quot;</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;vertexText&quot;</span><span class="s1">+</span><span class="s2">s</span><span class="s1">);</span><span class="s4">const </span><span class="s2">t</span><span class="s1">={</span><span class="s2">isNode</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">label</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">hE</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Sm</span><span class="s1">)(</span><span class="s2">s</span><span class="s1">)),</span><span class="s2">labelStyle</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s0">&quot;fill:&quot;</span><span class="s1">,</span><span class="s0">&quot;color:&quot;</span><span class="s1">)};</span><span class="s4">let </span><span class="s2">r</span><span class="s1">=</span><span class="s2">bt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">document</span><span class="s1">.</span><span class="s2">createElementNS</span><span class="s1">(</span><span class="s0">&quot;http://www.w3.org/2000/svg&quot;</span><span class="s1">,</span><span class="s0">&quot;text&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">setAttribute</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s0">&quot;color:&quot;</span><span class="s1">,</span><span class="s0">&quot;fill:&quot;</span><span class="s1">));</span><span class="s4">let </span><span class="s2">a</span><span class="s1">=[];</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">s</span><span class="s1">===</span><span class="s0">&quot;string&quot;</span><span class="s1">){</span><span class="s2">a</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s5">/\\n|\n|&lt;br\s*\/?&gt;/gi</span><span class="s1">)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s1">(</span><span class="s2">s</span><span class="s1">)){</span><span class="s2">a</span><span class="s1">=</span><span class="s2">s</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">a</span><span class="s1">=[]}</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">e of a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">document</span><span class="s1">.</span><span class="s2">createElementNS</span><span class="s1">(</span><span class="s0">&quot;http://www.w3.org/2000/svg&quot;</span><span class="s1">,</span><span class="s0">&quot;tspan&quot;</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">setAttributeNS</span><span class="s1">(</span><span class="s0">&quot;http://www.w3.org/XML/1998/namespace&quot;</span><span class="s1">,</span><span class="s0">&quot;xml:space&quot;</span><span class="s1">,</span><span class="s0">&quot;preserve&quot;</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">setAttribute</span><span class="s1">(</span><span class="s0">&quot;dy&quot;</span><span class="s1">,</span><span class="s0">&quot;1em&quot;</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">setAttribute</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s0">&quot;0&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">setAttribute</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;title-row&quot;</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">a</span><span class="s1">.</span><span class="s2">setAttribute</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;row&quot;</span><span class="s1">)}</span><span class="s2">a</span><span class="s1">.</span><span class="s2">textContent</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">trim</span><span class="s1">();</span><span class="s2">t</span><span class="s1">.</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)}</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}}),</span><span class="s0">&quot;createLabel&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">mt</span><span class="s1">=</span><span class="s2">xt</span><span class="s1">;</span><span class="s4">var </span><span class="s2">kt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)=&gt;{</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">arrowTypeStart</span><span class="s1">){</span><span class="s2">Lt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;start&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">arrowTypeStart</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">arrowTypeEnd</span><span class="s1">){</span><span class="s2">Lt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;end&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">arrowTypeEnd</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}}),</span><span class="s0">&quot;addEdgeMarkers&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">wt</span><span class="s1">={</span><span class="s2">arrow_cross</span><span class="s1">:</span><span class="s0">&quot;cross&quot;</span><span class="s1">,</span><span class="s2">arrow_point</span><span class="s1">:</span><span class="s0">&quot;point&quot;</span><span class="s1">,</span><span class="s2">arrow_barb</span><span class="s1">:</span><span class="s0">&quot;barb&quot;</span><span class="s1">,</span><span class="s2">arrow_circle</span><span class="s1">:</span><span class="s0">&quot;circle&quot;</span><span class="s1">,</span><span class="s2">aggregation</span><span class="s1">:</span><span class="s0">&quot;aggregation&quot;</span><span class="s1">,</span><span class="s2">extension</span><span class="s1">:</span><span class="s0">&quot;extension&quot;</span><span class="s1">,</span><span class="s2">composition</span><span class="s1">:</span><span class="s0">&quot;composition&quot;</span><span class="s1">,</span><span class="s2">dependency</span><span class="s1">:</span><span class="s0">&quot;dependency&quot;</span><span class="s1">,</span><span class="s2">lollipop</span><span class="s1">:</span><span class="s0">&quot;lollipop&quot;</span><span class="s1">};</span><span class="s4">var </span><span class="s2">Lt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">wt</span><span class="s1">[</span><span class="s2">r</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">n</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">warn</span><span class="s1">(</span><span class="s0">`Unknown arrow type: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">r</span><span class="s1">}</span><span class="s0">`</span><span class="s1">);</span><span class="s4">return</span><span class="s1">}</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">e</span><span class="s1">===</span><span class="s0">&quot;start&quot;</span><span class="s1">?</span><span class="s0">&quot;Start&quot;</span><span class="s1">:</span><span class="s0">&quot;End&quot;</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">`marker-</span><span class="s2">$</span><span class="s1">{</span><span class="s2">e</span><span class="s1">}</span><span class="s0">`</span><span class="s1">,</span><span class="s0">`url(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">}</span><span class="s0">#</span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">}</span><span class="s0">_</span><span class="s2">$</span><span class="s1">{</span><span class="s2">i</span><span class="s1">}</span><span class="s0">-</span><span class="s2">$</span><span class="s1">{</span><span class="s2">n</span><span class="s1">}</span><span class="s2">$</span><span class="s1">{</span><span class="s2">l</span><span class="s1">}</span><span class="s0">)`</span><span class="s1">)}),</span><span class="s0">&quot;addEdgeMarker&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">_t</span><span class="s1">={};</span><span class="s4">var </span><span class="s2">vt</span><span class="s1">={};</span><span class="s4">var </span><span class="s2">St</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)();</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">_3</span><span class="s1">)(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelType</span><span class="s1">===</span><span class="s0">&quot;markdown&quot;</span><span class="s1">?(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">GZ</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">label</span><span class="s1">,{</span><span class="s2">style</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">,</span><span class="s2">useHtmlLabels</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">addSvgBackground</span><span class="s1">:</span><span class="s4">true</span><span class="s1">},</span><span class="s2">r</span><span class="s1">):</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">label</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;edgeLabel&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;label&quot;</span><span class="s1">);</span><span class="s2">l</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">s</span><span class="s1">);</span><span class="s4">let </span><span class="s2">c</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">children</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">s</span><span class="s1">);</span><span class="s2">c</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getBoundingClientRect</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)}</span><span class="s2">l</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+-</span><span class="s2">c</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+-</span><span class="s2">c</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s2">_t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s4">let </span><span class="s2">h</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startLabelLeft</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startLabelLeft</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;edgeTerminals&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;inner&quot;</span><span class="s1">);</span><span class="s2">h</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+-</span><span class="s2">i</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+-</span><span class="s2">i</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]){</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]={}}</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">startLeft</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s2">Et</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startLabelLeft</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startLabelRight</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startLabelRight</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;edgeTerminals&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;inner&quot;</span><span class="s1">);</span><span class="s2">h</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s2">s</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+-</span><span class="s2">i</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+-</span><span class="s2">i</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]){</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]={}}</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">startRight</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s2">Et</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startLabelRight</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">endLabelLeft</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">endLabelLeft</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;edgeTerminals&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;inner&quot;</span><span class="s1">);</span><span class="s2">h</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+-</span><span class="s2">i</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+-</span><span class="s2">i</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]){</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]={}}</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">endLeft</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s2">Et</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">endLabelLeft</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">endLabelRight</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">endLabelRight</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;edgeTerminals&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;inner&quot;</span><span class="s1">);</span><span class="s2">h</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+-</span><span class="s2">i</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+-</span><span class="s2">i</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]){</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]={}}</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">endRight</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s2">Et</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">endLabelRight</span><span class="s1">)}</span><span class="s4">return </span><span class="s2">s</span><span class="s1">}),</span><span class="s0">&quot;insertEdgeLabel&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">Et</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">style</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">*</span><span class="s3">9</span><span class="s1">+</span><span class="s0">&quot;px&quot;</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">style</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s0">&quot;12px&quot;</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Et</span><span class="s1">,</span><span class="s0">&quot;setTerminalWidth&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Dt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Moving label abc88 &quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">label</span><span class="s1">,</span><span class="s2">_t</span><span class="s1">[</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">],</span><span class="s2">e</span><span class="s1">);</span><span class="s4">let </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">updatedPath</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">updatedPath</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">originalPath</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)();</span><span class="s4">const</span><span class="s1">{</span><span class="s2">subGraphTitleTotalMargin</span><span class="s1">:</span><span class="s2">i</span><span class="s1">}=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">O</span><span class="s1">)(</span><span class="s2">a</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">label</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">_t</span><span class="s1">[</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">];</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">let </span><span class="s2">l</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calcLabelPosition</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Moving label &quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">label</span><span class="s1">+</span><span class="s0">&quot; from (&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s0">&quot;,&quot;</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s0">&quot;) to (&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s0">&quot;,&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">,</span><span class="s0">&quot;) abc88&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">updatedPath</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">l</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}}</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">`translate(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">l</span><span class="s1">+</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}</span><span class="s0">)`</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">startLabelLeft</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">startLeft</span><span class="s1">;</span><span class="s4">let </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calcTerminalLabelPosition</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">arrowTypeStart</span><span class="s1">?</span><span class="s3">10</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s0">&quot;start_left&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">`translate(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">}</span><span class="s0">)`</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">startLabelRight</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">startRight</span><span class="s1">;</span><span class="s4">let </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calcTerminalLabelPosition</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">arrowTypeStart</span><span class="s1">?</span><span class="s3">10</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s0">&quot;start_right&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">`translate(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">}</span><span class="s0">)`</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">endLabelLeft</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">endLeft</span><span class="s1">;</span><span class="s4">let </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calcTerminalLabelPosition</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">arrowTypeEnd</span><span class="s1">?</span><span class="s3">10</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s0">&quot;end_left&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">`translate(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">}</span><span class="s0">)`</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">endLabelRight</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">vt</span><span class="s1">[</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">endRight</span><span class="s1">;</span><span class="s4">let </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calcTerminalLabelPosition</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">arrowTypeEnd</span><span class="s1">?</span><span class="s3">10</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s0">&quot;end_right&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">`translate(</span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">}</span><span class="s0">, </span><span class="s2">$</span><span class="s1">{</span><span class="s2">s</span><span class="s1">}</span><span class="s0">)`</span><span class="s1">)}}),</span><span class="s0">&quot;positionEdgeLabel&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Nt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">r</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">a</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">&gt;=</span><span class="s2">n</span><span class="s1">||</span><span class="s2">i</span><span class="s1">&gt;=</span><span class="s2">o</span><span class="s1">){</span><span class="s4">return true</span><span class="s1">}</span><span class="s4">return false</span><span class="s1">}),</span><span class="s0">&quot;outsideNode&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Kt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`intersection calc abc89:</span><span class="s4">\n  </span><span class="s0">outsidePoint: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">\n  </span><span class="s0">insidePoint : </span><span class="s2">$</span><span class="s1">{</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">\n  </span><span class="s0">node        : x:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">} </span><span class="s0">y:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">} </span><span class="s0">w:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">} </span><span class="s0">h:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">}</span><span class="s0">`</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">a</span><span class="s1">-</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">let </span><span class="s2">l</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">?</span><span class="s2">n</span><span class="s1">-</span><span class="s2">i</span><span class="s1">:</span><span class="s2">n</span><span class="s1">+</span><span class="s2">i</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">);</span><span class="s4">const </span><span class="s2">d</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">s</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">)*</span><span class="s2">n</span><span class="s1">&gt;</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">a</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">)*</span><span class="s2">c</span><span class="s1">){</span><span class="s4">let </span><span class="s2">t</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">c</span><span class="s1">-</span><span class="s2">s</span><span class="s1">:</span><span class="s2">s</span><span class="s1">-</span><span class="s2">c</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s2">l</span><span class="s1">=</span><span class="s2">d</span><span class="s1">*</span><span class="s2">t</span><span class="s1">/</span><span class="s2">h</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">={</span><span class="s2">x</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">?</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">l</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">d</span><span class="s1">+</span><span class="s2">l</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">?</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s2">h</span><span class="s1">-</span><span class="s2">t</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">h</span><span class="s1">+</span><span class="s2">t</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s2">l</span><span class="s1">===</span><span class="s3">0</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">d</span><span class="s1">===</span><span class="s3">0</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">h</span><span class="s1">===</span><span class="s3">0</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`abc89 topp/bott calc, Q </span><span class="s2">$</span><span class="s1">{</span><span class="s2">h</span><span class="s1">}</span><span class="s0">, q </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">}</span><span class="s0">, R </span><span class="s2">$</span><span class="s1">{</span><span class="s2">d</span><span class="s1">}</span><span class="s0">, r </span><span class="s2">$</span><span class="s1">{</span><span class="s2">l</span><span class="s1">}</span><span class="s0">`</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">){</span><span class="s2">l</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">n</span><span class="s1">-</span><span class="s2">a</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">l</span><span class="s1">=</span><span class="s2">a</span><span class="s1">-</span><span class="s2">n</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">}</span><span class="s4">let </span><span class="s2">t</span><span class="s1">=</span><span class="s2">h</span><span class="s1">*</span><span class="s2">l</span><span class="s1">/</span><span class="s2">d</span><span class="s1">;</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">?</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">d</span><span class="s1">-</span><span class="s2">l</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">d</span><span class="s1">+</span><span class="s2">l</span><span class="s1">;</span><span class="s4">let </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">?</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s2">t</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">t</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`sides calc abc89, Q </span><span class="s2">$</span><span class="s1">{</span><span class="s2">h</span><span class="s1">}</span><span class="s0">, q </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">}</span><span class="s0">, R </span><span class="s2">$</span><span class="s1">{</span><span class="s2">d</span><span class="s1">}</span><span class="s0">, r </span><span class="s2">$</span><span class="s1">{</span><span class="s2">l</span><span class="s1">}</span><span class="s0">`</span><span class="s1">,{</span><span class="s2">_x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">_y</span><span class="s1">:</span><span class="s2">i</span><span class="s1">});</span><span class="s4">if</span><span class="s1">(</span><span class="s2">l</span><span class="s1">===</span><span class="s3">0</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">i</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">d</span><span class="s1">===</span><span class="s3">0</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">h</span><span class="s1">===</span><span class="s3">0</span><span class="s1">){</span><span class="s2">i</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}</span><span class="s4">return</span><span class="s1">{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">i</span><span class="s1">}}}),</span><span class="s0">&quot;intersection&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Rt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;abc88 cutPathAtIntersect&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">let </span><span class="s2">r</span><span class="s1">=[];</span><span class="s4">let </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">Nt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)&amp;&amp;!</span><span class="s2">s</span><span class="s1">){</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">Kt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s4">let </span><span class="s2">n</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s2">n</span><span class="s1">=</span><span class="s2">n</span><span class="s1">||</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">x</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}));</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">r</span><span class="s1">.</span><span class="s2">some</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">x</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">y</span><span class="s1">))){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">i</span><span class="s1">)}</span><span class="s2">s</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">s</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}}}));</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;cutPathAtIntersect&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Ct</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">l</span><span class="s1">){</span><span class="s4">let </span><span class="s2">c</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">points</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;abc88 InsertEdge: edge=&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s0">&quot;e=&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">let </span><span class="s2">h</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">const </span><span class="s2">u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">node</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">v</span><span class="s1">);</span><span class="s4">var </span><span class="s2">g</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">node</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">w</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">g</span><span class="s1">?.</span><span class="s2">intersect</span><span class="s1">&amp;&amp;</span><span class="s2">u</span><span class="s1">?.</span><span class="s2">intersect</span><span class="s1">){</span><span class="s2">c</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">1</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">points</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">);</span><span class="s2">c</span><span class="s1">.</span><span class="s2">unshift</span><span class="s1">(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">(</span><span class="s2">c</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]));</span><span class="s2">c</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">g</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">(</span><span class="s2">c</span><span class="s1">[</span><span class="s2">c</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]))}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">toCluster</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;to cluster abc88&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">toCluster</span><span class="s1">]);</span><span class="s2">c</span><span class="s1">=</span><span class="s2">Rt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">points</span><span class="s1">,</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">toCluster</span><span class="s1">].</span><span class="s2">node</span><span class="s1">);</span><span class="s2">h</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">fromCluster</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;from cluster abc88&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">fromCluster</span><span class="s1">]);</span><span class="s2">c</span><span class="s1">=</span><span class="s2">Rt</span><span class="s1">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">reverse</span><span class="s1">(),</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">fromCluster</span><span class="s1">].</span><span class="s2">node</span><span class="s1">).</span><span class="s2">reverse</span><span class="s1">();</span><span class="s2">h</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;!</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">isNaN</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">)));</span><span class="s4">let </span><span class="s2">y</span><span class="s1">=</span><span class="s2">d</span><span class="s1">.</span><span class="s2">qrM</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">curve</span><span class="s1">&amp;&amp;(</span><span class="s2">i</span><span class="s1">===</span><span class="s0">&quot;graph&quot;</span><span class="s1">||</span><span class="s2">i</span><span class="s1">===</span><span class="s0">&quot;flowchart&quot;</span><span class="s1">)){</span><span class="s2">y</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">curve</span><span class="s1">}</span><span class="s4">const</span><span class="s1">{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">b</span><span class="s1">}=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">R</span><span class="s1">)(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">const </span><span class="s2">x</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">n8j</span><span class="s1">)().</span><span class="s2">x</span><span class="s1">(</span><span class="s2">f</span><span class="s1">).</span><span class="s2">y</span><span class="s1">(</span><span class="s2">b</span><span class="s1">).</span><span class="s2">curve</span><span class="s1">(</span><span class="s2">y</span><span class="s1">);</span><span class="s4">let </span><span class="s2">m</span><span class="s1">;</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">thickness</span><span class="s1">){</span><span class="s4">case</span><span class="s0">&quot;normal&quot;</span><span class="s1">:</span><span class="s2">m</span><span class="s1">=</span><span class="s0">&quot;edge-thickness-normal&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;thick&quot;</span><span class="s1">:</span><span class="s2">m</span><span class="s1">=</span><span class="s0">&quot;edge-thickness-thick&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;invisible&quot;</span><span class="s1">:</span><span class="s2">m</span><span class="s1">=</span><span class="s0">&quot;edge-thickness-thick&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">default</span><span class="s1">:</span><span class="s2">m</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">}</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">pattern</span><span class="s1">){</span><span class="s4">case</span><span class="s0">&quot;solid&quot;</span><span class="s1">:</span><span class="s2">m</span><span class="s1">+=</span><span class="s0">&quot; edge-pattern-solid&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;dotted&quot;</span><span class="s1">:</span><span class="s2">m</span><span class="s1">+=</span><span class="s0">&quot; edge-pattern-dotted&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;dashed&quot;</span><span class="s1">:</span><span class="s2">m</span><span class="s1">+=</span><span class="s0">&quot; edge-pattern-dashed&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">}</span><span class="s4">const </span><span class="s2">k</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s2">x</span><span class="s1">(</span><span class="s2">p</span><span class="s1">)).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">id</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot; &quot;</span><span class="s1">+</span><span class="s2">m</span><span class="s1">+(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">?</span><span class="s0">&quot; &quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">)).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s4">let </span><span class="s2">w</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">arrowMarkerAbsolute</span><span class="s1">||(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">state</span><span class="s1">.</span><span class="s2">arrowMarkerAbsolute</span><span class="s1">){</span><span class="s2">w</span><span class="s1">=</span><span class="s2">window</span><span class="s1">.</span><span class="s2">location</span><span class="s1">.</span><span class="s2">protocol</span><span class="s1">+</span><span class="s0">&quot;//&quot;</span><span class="s1">+</span><span class="s2">window</span><span class="s1">.</span><span class="s2">location</span><span class="s1">.</span><span class="s2">host</span><span class="s1">+</span><span class="s2">window</span><span class="s1">.</span><span class="s2">location</span><span class="s1">.</span><span class="s2">pathname</span><span class="s1">+</span><span class="s2">window</span><span class="s1">.</span><span class="s2">location</span><span class="s1">.</span><span class="s2">search</span><span class="s1">;</span><span class="s2">w</span><span class="s1">=</span><span class="s2">w</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/\(/g</span><span class="s1">,</span><span class="s0">&quot;</span><span class="s4">\\</span><span class="s0">(&quot;</span><span class="s1">);</span><span class="s2">w</span><span class="s1">=</span><span class="s2">w</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/\)/g</span><span class="s1">,</span><span class="s0">&quot;</span><span class="s4">\\</span><span class="s0">)&quot;</span><span class="s1">)}</span><span class="s2">kt</span><span class="s1">(</span><span class="s2">k</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">w</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s2">i</span><span class="s1">);</span><span class="s4">let </span><span class="s2">L</span><span class="s1">={};</span><span class="s4">if</span><span class="s1">(</span><span class="s2">h</span><span class="s1">){</span><span class="s2">L</span><span class="s1">.</span><span class="s2">updatedPath</span><span class="s1">=</span><span class="s2">c</span><span class="s1">}</span><span class="s2">L</span><span class="s1">.</span><span class="s2">originalPath</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">points</span><span class="s1">;</span><span class="s4">return </span><span class="s2">L</span><span class="s1">}),</span><span class="s0">&quot;insertEdge&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Tt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Set</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">r of t</span><span class="s1">){</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">case</span><span class="s0">&quot;x&quot;</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">add</span><span class="s1">(</span><span class="s0">&quot;right&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">add</span><span class="s1">(</span><span class="s0">&quot;left&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;y&quot;</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">add</span><span class="s1">(</span><span class="s0">&quot;up&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">add</span><span class="s1">(</span><span class="s0">&quot;down&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">default</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">add</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">break</span><span class="s1">}}</span><span class="s4">return </span><span class="s2">e</span><span class="s1">}),</span><span class="s0">&quot;expandAndDeduplicateDirections&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">$t</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">Tt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">r</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">i</span><span class="s1">/</span><span class="s2">s</span><span class="s1">;</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">n</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;right&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;left&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;up&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;down&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">2</span><span class="s1">*</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">3</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">l</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">3</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">3</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">l</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">3</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;right&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;left&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;up&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;right&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;left&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;down&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;right&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;up&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;down&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">n</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">n</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;left&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;up&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;down&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">n</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">n</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;right&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;left&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;up&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;down&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;right&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;up&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">n</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;right&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;down&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;left&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;up&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">n</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;left&quot;</span><span class="s1">)&amp;&amp;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;down&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;right&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;left&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;up&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">}]}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s0">&quot;down&quot;</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">+</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">l</span><span class="s1">}]}</span><span class="s4">return</span><span class="s1">[{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">}]}),</span><span class="s0">&quot;getArrowPoints&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">At</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">At</span><span class="s1">,</span><span class="s0">&quot;intersectNode&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Ot</span><span class="s1">=</span><span class="s2">At</span><span class="s1">;</span><span class="s4">function </span><span class="s2">It</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=</span><span class="s2">s</span><span class="s1">-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">var </span><span class="s2">o</span><span class="s1">=</span><span class="s2">i</span><span class="s1">-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">var </span><span class="s2">l</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">sqrt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">*</span><span class="s2">e</span><span class="s1">*</span><span class="s2">o</span><span class="s1">*</span><span class="s2">o</span><span class="s1">+</span><span class="s2">r</span><span class="s1">*</span><span class="s2">r</span><span class="s1">*</span><span class="s2">n</span><span class="s1">*</span><span class="s2">n</span><span class="s1">);</span><span class="s4">var </span><span class="s2">c</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">e</span><span class="s1">*</span><span class="s2">r</span><span class="s1">*</span><span class="s2">n</span><span class="s1">/</span><span class="s2">l</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">&lt;</span><span class="s2">s</span><span class="s1">){</span><span class="s2">c</span><span class="s1">=-</span><span class="s2">c</span><span class="s1">}</span><span class="s4">var </span><span class="s2">h</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">e</span><span class="s1">*</span><span class="s2">r</span><span class="s1">*</span><span class="s2">o</span><span class="s1">/</span><span class="s2">l</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">&lt;</span><span class="s2">i</span><span class="s1">){</span><span class="s2">h</span><span class="s1">=-</span><span class="s2">h</span><span class="s1">}</span><span class="s4">return</span><span class="s1">{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">+</span><span class="s2">c</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">i</span><span class="s1">+</span><span class="s2">h</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">It</span><span class="s1">,</span><span class="s0">&quot;intersectEllipse&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Bt</span><span class="s1">=</span><span class="s2">It</span><span class="s1">;</span><span class="s4">function </span><span class="s2">zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Bt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">zt</span><span class="s1">,</span><span class="s0">&quot;intersectCircle&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Mt</span><span class="s1">=</span><span class="s2">zt</span><span class="s1">;</span><span class="s4">function </span><span class="s2">Pt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">var </span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s2">c</span><span class="s1">;</span><span class="s4">var </span><span class="s2">h</span><span class="s1">,</span><span class="s2">d</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">g</span><span class="s1">;</span><span class="s4">var </span><span class="s2">p</span><span class="s1">,</span><span class="s2">y</span><span class="s1">,</span><span class="s2">f</span><span class="s1">;</span><span class="s4">var </span><span class="s2">b</span><span class="s1">,</span><span class="s2">x</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">l</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">*</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">*</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s2">u</span><span class="s1">=</span><span class="s2">s</span><span class="s1">*</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">n</span><span class="s1">*</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s2">l</span><span class="s1">;</span><span class="s2">g</span><span class="s1">=</span><span class="s2">s</span><span class="s1">*</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">n</span><span class="s1">*</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s2">l</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">u</span><span class="s1">!==</span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">g</span><span class="s1">!==</span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">Yt</span><span class="s1">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">g</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">}</span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s2">o</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">c</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">*</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">*</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s2">h</span><span class="s1">=</span><span class="s2">i</span><span class="s1">*</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">o</span><span class="s1">*</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s2">c</span><span class="s1">;</span><span class="s2">d</span><span class="s1">=</span><span class="s2">i</span><span class="s1">*</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">o</span><span class="s1">*</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s2">c</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">h</span><span class="s1">!==</span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">d</span><span class="s1">!==</span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">Yt</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">d</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">}</span><span class="s2">p</span><span class="s1">=</span><span class="s2">s</span><span class="s1">*</span><span class="s2">o</span><span class="s1">-</span><span class="s2">i</span><span class="s1">*</span><span class="s2">n</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">p</span><span class="s1">===</span><span class="s3">0</span><span class="s1">){</span><span class="s4">return</span><span class="s1">}</span><span class="s2">y</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">p</span><span class="s1">/</span><span class="s3">2</span><span class="s1">);</span><span class="s2">f</span><span class="s1">=</span><span class="s2">n</span><span class="s1">*</span><span class="s2">c</span><span class="s1">-</span><span class="s2">o</span><span class="s1">*</span><span class="s2">l</span><span class="s1">;</span><span class="s2">b</span><span class="s1">=</span><span class="s2">f</span><span class="s1">&lt;</span><span class="s3">0</span><span class="s1">?(</span><span class="s2">f</span><span class="s1">-</span><span class="s2">y</span><span class="s1">)/</span><span class="s2">p</span><span class="s1">:(</span><span class="s2">f</span><span class="s1">+</span><span class="s2">y</span><span class="s1">)/</span><span class="s2">p</span><span class="s1">;</span><span class="s2">f</span><span class="s1">=</span><span class="s2">i</span><span class="s1">*</span><span class="s2">l</span><span class="s1">-</span><span class="s2">s</span><span class="s1">*</span><span class="s2">c</span><span class="s1">;</span><span class="s2">x</span><span class="s1">=</span><span class="s2">f</span><span class="s1">&lt;</span><span class="s3">0</span><span class="s1">?(</span><span class="s2">f</span><span class="s1">-</span><span class="s2">y</span><span class="s1">)/</span><span class="s2">p</span><span class="s1">:(</span><span class="s2">f</span><span class="s1">+</span><span class="s2">y</span><span class="s1">)/</span><span class="s2">p</span><span class="s1">;</span><span class="s4">return</span><span class="s1">{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">x</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Pt</span><span class="s1">,</span><span class="s0">&quot;intersectLine&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">Yt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">*</span><span class="s2">e</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Yt</span><span class="s1">,</span><span class="s0">&quot;sameSign&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">jt</span><span class="s1">=</span><span class="s2">Pt</span><span class="s1">;</span><span class="s4">var </span><span class="s2">Ft</span><span class="s1">=</span><span class="s2">Wt</span><span class="s1">;</span><span class="s4">function </span><span class="s2">Wt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=[];</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">POSITIVE_INFINITY</span><span class="s1">;</span><span class="s4">var </span><span class="s2">o</span><span class="s1">=</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">POSITIVE_INFINITY</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">e</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">===</span><span class="s0">&quot;function&quot;</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">n</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">);</span><span class="s2">o</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">)}))}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">n</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">);</span><span class="s2">o</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">)}</span><span class="s4">var </span><span class="s2">l</span><span class="s1">=</span><span class="s2">a</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">n</span><span class="s1">;</span><span class="s4">var </span><span class="s2">c</span><span class="s1">=</span><span class="s2">s</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">o</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s2">h</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">h</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">h</span><span class="s1">++){</span><span class="s4">var </span><span class="s2">d</span><span class="s1">=</span><span class="s2">e</span><span class="s1">[</span><span class="s2">h</span><span class="s1">];</span><span class="s4">var </span><span class="s2">u</span><span class="s1">=</span><span class="s2">e</span><span class="s1">[</span><span class="s2">h</span><span class="s1">&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">?</span><span class="s2">h</span><span class="s1">+</span><span class="s3">1</span><span class="s1">:</span><span class="s3">0</span><span class="s1">];</span><span class="s4">var </span><span class="s2">g</span><span class="s1">=</span><span class="s2">jt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">l</span><span class="s1">+</span><span class="s2">d</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">c</span><span class="s1">+</span><span class="s2">d</span><span class="s1">.</span><span class="s2">y</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">l</span><span class="s1">+</span><span class="s2">u</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">c</span><span class="s1">+</span><span class="s2">u</span><span class="s1">.</span><span class="s2">y</span><span class="s1">});</span><span class="s4">if</span><span class="s1">(</span><span class="s2">g</span><span class="s1">){</span><span class="s2">i</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">g</span><span class="s1">)}}</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">i</span><span class="s1">.</span><span class="s2">length</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">1</span><span class="s1">){</span><span class="s2">i</span><span class="s1">.</span><span class="s2">sort</span><span class="s1">((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">sqrt</span><span class="s1">(</span><span class="s2">a</span><span class="s1">*</span><span class="s2">a</span><span class="s1">+</span><span class="s2">s</span><span class="s1">*</span><span class="s2">s</span><span class="s1">);</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">var </span><span class="s2">o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">var </span><span class="s2">l</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">sqrt</span><span class="s1">(</span><span class="s2">n</span><span class="s1">*</span><span class="s2">n</span><span class="s1">+</span><span class="s2">o</span><span class="s1">*</span><span class="s2">o</span><span class="s1">);</span><span class="s4">return </span><span class="s2">i</span><span class="s1">&lt;</span><span class="s2">l</span><span class="s1">?-</span><span class="s3">1</span><span class="s1">:</span><span class="s2">i</span><span class="s1">===</span><span class="s2">l</span><span class="s1">?</span><span class="s3">0</span><span class="s1">:</span><span class="s3">1</span><span class="s1">}))}</span><span class="s4">return </span><span class="s2">i</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Wt</span><span class="s1">,</span><span class="s0">&quot;intersectPolygon&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Xt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">r</span><span class="s1">;</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">a</span><span class="s1">;</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">var </span><span class="s2">o</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">var </span><span class="s2">l</span><span class="s1">,</span><span class="s2">c</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">i</span><span class="s1">)*</span><span class="s2">n</span><span class="s1">&gt;</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">s</span><span class="s1">)*</span><span class="s2">o</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">&lt;</span><span class="s3">0</span><span class="s1">){</span><span class="s2">o</span><span class="s1">=-</span><span class="s2">o</span><span class="s1">}</span><span class="s2">l</span><span class="s1">=</span><span class="s2">i</span><span class="s1">===</span><span class="s3">0</span><span class="s1">?</span><span class="s3">0</span><span class="s1">:</span><span class="s2">o</span><span class="s1">*</span><span class="s2">s</span><span class="s1">/</span><span class="s2">i</span><span class="s1">;</span><span class="s2">c</span><span class="s1">=</span><span class="s2">o</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">&lt;</span><span class="s3">0</span><span class="s1">){</span><span class="s2">n</span><span class="s1">=-</span><span class="s2">n</span><span class="s1">}</span><span class="s2">l</span><span class="s1">=</span><span class="s2">n</span><span class="s1">;</span><span class="s2">c</span><span class="s1">=</span><span class="s2">s</span><span class="s1">===</span><span class="s3">0</span><span class="s1">?</span><span class="s3">0</span><span class="s1">:</span><span class="s2">n</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s2">s</span><span class="s1">}</span><span class="s4">return</span><span class="s1">{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">r</span><span class="s1">+</span><span class="s2">l</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">a</span><span class="s1">+</span><span class="s2">c</span><span class="s1">}}),</span><span class="s0">&quot;intersectRect&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Ht</span><span class="s1">=</span><span class="s2">Xt</span><span class="s1">;</span><span class="s4">var </span><span class="s2">Ut</span><span class="s1">={</span><span class="s2">node</span><span class="s1">:</span><span class="s2">Ot</span><span class="s1">,</span><span class="s2">circle</span><span class="s1">:</span><span class="s2">Mt</span><span class="s1">,</span><span class="s2">ellipse</span><span class="s1">:</span><span class="s2">Bt</span><span class="s1">,</span><span class="s2">polygon</span><span class="s1">:</span><span class="s2">Ft</span><span class="s1">,</span><span class="s2">rect</span><span class="s1">:</span><span class="s2">Ht</span><span class="s1">};</span><span class="s4">var </span><span class="s2">Zt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)();</span><span class="s4">let </span><span class="s2">l</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">useHtmlLabels</span><span class="s1">||(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">_3</span><span class="s1">)(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">r</span><span class="s1">){</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;node default&quot;</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">l</span><span class="s1">=</span><span class="s2">r</span><span class="s1">}</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s2">l</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">domId</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span><span class="s4">const </span><span class="s2">u</span><span class="s1">=</span><span class="s2">h</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;label&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">);</span><span class="s4">let </span><span class="s2">g</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelText</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">g</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">g</span><span class="s1">=</span><span class="s4">typeof </span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelText</span><span class="s1">===</span><span class="s0">&quot;string&quot;</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelText</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelText</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]}</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">node</span><span class="s1">();</span><span class="s4">let </span><span class="s2">y</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelType</span><span class="s1">===</span><span class="s0">&quot;markdown&quot;</span><span class="s1">){</span><span class="s2">y</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">GZ</span><span class="s1">)(</span><span class="s2">u</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">jZ</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Sm</span><span class="s1">)(</span><span class="s2">g</span><span class="s1">),</span><span class="s2">s</span><span class="s1">),{</span><span class="s2">useHtmlLabels</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">||</span><span class="s2">s</span><span class="s1">.</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">wrappingWidth</span><span class="s1">,</span><span class="s2">classes</span><span class="s1">:</span><span class="s0">&quot;markdown-node-label&quot;</span><span class="s1">},</span><span class="s2">s</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">y</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">mt</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">jZ</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Sm</span><span class="s1">)(</span><span class="s2">g</span><span class="s1">),</span><span class="s2">s</span><span class="s1">),</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">,</span><span class="s4">false</span><span class="s1">,</span><span class="s2">a</span><span class="s1">))}</span><span class="s4">let </span><span class="s2">f</span><span class="s1">=</span><span class="s2">y</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s4">const </span><span class="s2">b</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">_3</span><span class="s1">)(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">)){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">y</span><span class="s1">.</span><span class="s2">children</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">y</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getElementsByTagName</span><span class="s1">(</span><span class="s0">&quot;img&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">g</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/&lt;img[^&gt;]*&gt;/g</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">).</span><span class="s2">trim</span><span class="s1">()===</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">await </span><span class="s2">Promise</span><span class="s1">.</span><span class="s2">all</span><span class="s1">([</span><span class="s2">...r</span><span class="s1">].</span><span class="s2">map</span><span class="s1">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s4">new </span><span class="s2">Promise</span><span class="s1">((</span><span class="s2">r</span><span class="s1">=&gt;{</span><span class="s4">function </span><span class="s2">a</span><span class="s1">(){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">.</span><span class="s2">display</span><span class="s1">=</span><span class="s0">&quot;flex&quot;</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">.</span><span class="s2">flexDirection</span><span class="s1">=</span><span class="s0">&quot;column&quot;</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">?</span><span class="s2">s</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">:</span><span class="s2">window</span><span class="s1">.</span><span class="s2">getComputedStyle</span><span class="s1">(</span><span class="s2">document</span><span class="s1">.</span><span class="s2">body</span><span class="s1">).</span><span class="s2">fontSize</span><span class="s1">;</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s3">5</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">parseInt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">10</span><span class="s1">)*</span><span class="s2">r</span><span class="s1">+</span><span class="s0">&quot;px&quot;</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">.</span><span class="s2">minWidth</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">.</span><span class="s2">maxWidth</span><span class="s1">=</span><span class="s2">a</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s0">&quot;100%&quot;</span><span class="s1">}</span><span class="s2">r</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">a</span><span class="s1">,</span><span class="s0">&quot;setupImage&quot;</span><span class="s1">);</span><span class="s2">setTimeout</span><span class="s1">((()=&gt;{</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">complete</span><span class="s1">){</span><span class="s2">a</span><span class="s1">()}}));</span><span class="s2">e</span><span class="s1">.</span><span class="s2">addEventListener</span><span class="s1">(</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">addEventListener</span><span class="s1">(</span><span class="s0">&quot;load&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)})))))}</span><span class="s2">f</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getBoundingClientRect</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">f</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">f</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">c</span><span class="s1">){</span><span class="s2">u</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+-</span><span class="s2">f</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+-</span><span class="s2">f</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">u</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(0, &quot;</span><span class="s1">+-</span><span class="s2">f</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">centerLabel</span><span class="s1">){</span><span class="s2">u</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+-</span><span class="s2">f</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+-</span><span class="s2">f</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">)}</span><span class="s2">u</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s4">return</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s2">halfPadding</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s2">label</span><span class="s1">:</span><span class="s2">u</span><span class="s1">}}),</span><span class="s0">&quot;labelHelper&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">qt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">height</span><span class="s1">}),</span><span class="s0">&quot;updateNodeBounds&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;polygon&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;points&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">map</span><span class="s1">((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">})).</span><span class="s2">join</span><span class="s1">(</span><span class="s0">&quot; &quot;</span><span class="s1">)).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;label-container&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+-</span><span class="s2">e</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Gt</span><span class="s1">,</span><span class="s0">&quot;insertPolygonShape&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Jt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">useHtmlLabels</span><span class="s1">||(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">r</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">centerLabel</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">halfPadding</span><span class="s1">:</span><span class="s2">i</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;node &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">,</span><span class="s4">true</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">info</span><span class="s1">(</span><span class="s0">&quot;Classes = &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s2">n</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;rx&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;ry&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,-</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">i</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,-</span><span class="s2">s</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">i</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">rect</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}),</span><span class="s0">&quot;note&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Vt</span><span class="s1">=</span><span class="s2">Jt</span><span class="s1">;</span><span class="s4">var </span><span class="s2">Qt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return</span><span class="s0">&quot; &quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">}</span><span class="s4">return</span><span class="s0">&quot;&quot;</span><span class="s1">}),</span><span class="s0">&quot;formatClass&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">te</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;</span><span class="s0">`</span><span class="s2">$</span><span class="s1">{</span><span class="s2">e</span><span class="s1">?</span><span class="s2">e</span><span class="s1">:</span><span class="s0">&quot;node default&quot;</span><span class="s1">}</span><span class="s2">$</span><span class="s1">{</span><span class="s2">Qt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">)} </span><span class="s2">$</span><span class="s1">{</span><span class="s2">Qt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">class</span><span class="s1">)}</span><span class="s0">`</span><span class="s1">),</span><span class="s0">&quot;getClassesFromNode&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ee</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">s</span><span class="s1">+</span><span class="s2">i</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">n</span><span class="s1">/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">n</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">n</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}];</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">info</span><span class="s1">(</span><span class="s0">&quot;Question main (Circle)&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s2">c</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">c</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">warn</span><span class="s1">(</span><span class="s0">&quot;Intersect called&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">polygon</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;question&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">re</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;node default&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">domId</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s3">28</span><span class="s1">;</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">a</span><span class="s1">/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">a</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">a</span><span class="s1">/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:-</span><span class="s2">a</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">}];</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;polygon&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;points&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">map</span><span class="s1">((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">})).</span><span class="s2">join</span><span class="s1">(</span><span class="s0">&quot; &quot;</span><span class="s1">));</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;state-start&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s3">28</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s3">28</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s3">28</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s3">28</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">circle</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">14</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;choice&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ae</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s3">4</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">i</span><span class="s1">/</span><span class="s2">s</span><span class="s1">;</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">n</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">-</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">n</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}];</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s2">c</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">c</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">polygon</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;hexagon&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">se</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">i</span><span class="s1">/</span><span class="s2">s</span><span class="s1">;</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">n</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">$t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">directions</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s2">c</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">c</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">polygon</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;block_arrow&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ie</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}];</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">s</span><span class="s1">+</span><span class="s2">i</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">polygon</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;rect_left_inv_arrow&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ne</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}];</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">polygon</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;lean_right&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">oe</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">2</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">+</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}];</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">polygon</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;lean_left&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">le</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}];</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">polygon</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;trapezoid&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ce</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">6</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}];</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">polygon</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;inv_trapezoid&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">he</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">+</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">+</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">}];</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">polygon</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;rect_right_inv_arrow&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">de</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">s</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">i</span><span class="s1">/(</span><span class="s3">2.5</span><span class="s1">+</span><span class="s2">s</span><span class="s1">/</span><span class="s3">50</span><span class="s1">);</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">n</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;M 0,&quot;</span><span class="s1">+</span><span class="s2">n</span><span class="s1">+</span><span class="s0">&quot; a &quot;</span><span class="s1">+</span><span class="s2">i</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+</span><span class="s2">n</span><span class="s1">+</span><span class="s0">&quot; 0,0,0 &quot;</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s0">&quot; 0 a &quot;</span><span class="s1">+</span><span class="s2">i</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+</span><span class="s2">n</span><span class="s1">+</span><span class="s0">&quot; 0,0,0 &quot;</span><span class="s1">+-</span><span class="s2">s</span><span class="s1">+</span><span class="s0">&quot; 0 l 0,&quot;</span><span class="s1">+</span><span class="s2">o</span><span class="s1">+</span><span class="s0">&quot; a &quot;</span><span class="s1">+</span><span class="s2">i</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+</span><span class="s2">n</span><span class="s1">+</span><span class="s0">&quot; 0,0,0 &quot;</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s0">&quot; 0 l 0,&quot;</span><span class="s1">+-</span><span class="s2">o</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;label-offset-y&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">).</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s2">l</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+-</span><span class="s2">s</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+-(</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">n</span><span class="s1">)+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">c</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">rect</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">!=</span><span class="s3">0</span><span class="s1">&amp;&amp;(</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)&lt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">||</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)==</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">&amp;&amp;</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">)&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">n</span><span class="s1">)){</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">n</span><span class="s1">*</span><span class="s2">n</span><span class="s1">*(</span><span class="s3">1</span><span class="s1">-</span><span class="s2">a</span><span class="s1">*</span><span class="s2">a</span><span class="s1">/(</span><span class="s2">i</span><span class="s1">*</span><span class="s2">i</span><span class="s1">));</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">!=</span><span class="s3">0</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">sqrt</span><span class="s1">(</span><span class="s2">s</span><span class="s1">)}</span><span class="s2">s</span><span class="s1">=</span><span class="s2">n</span><span class="s1">-</span><span class="s2">s</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=-</span><span class="s2">s</span><span class="s1">}</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+=</span><span class="s2">s</span><span class="s1">}</span><span class="s4">return </span><span class="s2">r</span><span class="s1">};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;cylinder&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ue</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">halfPadding</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;node &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">+</span><span class="s0">&quot; &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">,</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">positioned</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">positioned</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">positioned</span><span class="s1">?-</span><span class="s2">n</span><span class="s1">/</span><span class="s3">2</span><span class="s1">:-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">s</span><span class="s1">;</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">positioned</span><span class="s1">?-</span><span class="s2">l</span><span class="s1">/</span><span class="s3">2</span><span class="s1">:-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">s</span><span class="s1">;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;basic label-container&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;rx&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;ry&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">h</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Set</span><span class="s1">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">));</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">.</span><span class="s2">borders</span><span class="s1">){</span><span class="s2">ye</span><span class="s1">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">.</span><span class="s2">borders</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">delete</span><span class="s1">(</span><span class="s0">&quot;borders&quot;</span><span class="s1">)}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">warn</span><span class="s1">(</span><span class="s0">`Unknown node property </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)}))}</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">rect</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;rect&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ge</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">halfPadding</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;node &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">,</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">positioned</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">positioned</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">positioned</span><span class="s1">?-</span><span class="s2">n</span><span class="s1">/</span><span class="s3">2</span><span class="s1">:-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">s</span><span class="s1">;</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">positioned</span><span class="s1">?-</span><span class="s2">l</span><span class="s1">/</span><span class="s3">2</span><span class="s1">:-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">s</span><span class="s1">;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;basic cluster composite label-container&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;rx&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;ry&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">h</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Set</span><span class="s1">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">));</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">.</span><span class="s2">borders</span><span class="s1">){</span><span class="s2">ye</span><span class="s1">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">.</span><span class="s2">borders</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">delete</span><span class="s1">(</span><span class="s0">&quot;borders&quot;</span><span class="s1">)}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">warn</span><span class="s1">(</span><span class="s0">`Unknown node property </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)}))}</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">rect</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;composite&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">pe</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;label&quot;</span><span class="s1">,</span><span class="s4">true</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">trace</span><span class="s1">(</span><span class="s0">&quot;Classes = &quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;label edgeLabel&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Set</span><span class="s1">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">));</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">.</span><span class="s2">borders</span><span class="s1">){</span><span class="s2">ye</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">props</span><span class="s1">.</span><span class="s2">borders</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">delete</span><span class="s1">(</span><span class="s0">&quot;borders&quot;</span><span class="s1">)}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">warn</span><span class="s1">(</span><span class="s0">`Unknown node property </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)}))}</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">rect</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;labelRect&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">ye</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=[];</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s2">s</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">0</span><span class="s1">)}),</span><span class="s0">&quot;addBorder&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s2">s</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)}),</span><span class="s0">&quot;skipBorder&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">includes</span><span class="s1">(</span><span class="s0">&quot;t&quot;</span><span class="s1">)){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;add top border&quot;</span><span class="s1">);</span><span class="s2">i</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">n</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">includes</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">)){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;add right border&quot;</span><span class="s1">);</span><span class="s2">i</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">n</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">includes</span><span class="s1">(</span><span class="s0">&quot;b&quot;</span><span class="s1">)){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;add bottom border&quot;</span><span class="s1">);</span><span class="s2">i</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">n</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">includes</span><span class="s1">(</span><span class="s0">&quot;l&quot;</span><span class="s1">)){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;add left border&quot;</span><span class="s1">);</span><span class="s2">i</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">n</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke-dasharray&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">join</span><span class="s1">(</span><span class="s0">&quot; &quot;</span><span class="s1">))}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">ye</span><span class="s1">,</span><span class="s0">&quot;applyNodePropertyBorders&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">fe</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">let </span><span class="s2">r</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">){</span><span class="s2">r</span><span class="s1">=</span><span class="s0">&quot;node default&quot;</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">r</span><span class="s1">=</span><span class="s0">&quot;node &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">}</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">domId</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;label&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelText</span><span class="s1">.</span><span class="s2">flat</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelText</span><span class="s1">.</span><span class="s2">flat</span><span class="s1">():</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelText</span><span class="s1">;</span><span class="s4">let </span><span class="s2">c</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">l</span><span class="s1">===</span><span class="s0">&quot;object&quot;</span><span class="s1">){</span><span class="s2">c</span><span class="s1">=</span><span class="s2">l</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">c</span><span class="s1">=</span><span class="s2">l</span><span class="s1">}</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">info</span><span class="s1">(</span><span class="s0">&quot;Label text abc79&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s4">typeof </span><span class="s2">l</span><span class="s1">===</span><span class="s0">&quot;object&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">c</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">,</span><span class="s4">true</span><span class="s1">,</span><span class="s4">true</span><span class="s1">));</span><span class="s4">let </span><span class="s2">u</span><span class="s1">={</span><span class="s2">width</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s3">0</span><span class="s1">};</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">_3</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">)){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">h</span><span class="s1">.</span><span class="s2">children</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">h</span><span class="s1">);</span><span class="s2">u</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getBoundingClientRect</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)}</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">info</span><span class="s1">(</span><span class="s0">&quot;Text 2&quot;</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=</span><span class="s2">l</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">1</span><span class="s1">,</span><span class="s2">l</span><span class="s1">.</span><span class="s2">length</span><span class="s1">);</span><span class="s4">let </span><span class="s2">p</span><span class="s1">=</span><span class="s2">h</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s4">const </span><span class="s2">y</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">g</span><span class="s1">.</span><span class="s2">join</span><span class="s1">?</span><span class="s2">g</span><span class="s1">.</span><span class="s2">join</span><span class="s1">(</span><span class="s0">&quot;&lt;br/&gt;&quot;</span><span class="s1">):</span><span class="s2">g</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">,</span><span class="s4">true</span><span class="s1">,</span><span class="s4">true</span><span class="s1">));</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">_3</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">)){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">y</span><span class="s1">.</span><span class="s2">children</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">y</span><span class="s1">);</span><span class="s2">u</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getBoundingClientRect</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">f</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">y</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate( &quot;</span><span class="s1">+(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">&gt;</span><span class="s2">p</span><span class="s1">.</span><span class="s2">width</span><span class="s1">?</span><span class="s3">0</span><span class="s1">:(</span><span class="s2">p</span><span class="s1">.</span><span class="s2">width</span><span class="s1">-</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">)+</span><span class="s0">&quot;, &quot;</span><span class="s1">+(</span><span class="s2">p</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">f</span><span class="s1">+</span><span class="s3">5</span><span class="s1">)+</span><span class="s0">&quot;)&quot;</span><span class="s1">);(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">h</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate( &quot;</span><span class="s1">+(</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">&lt;</span><span class="s2">p</span><span class="s1">.</span><span class="s2">width</span><span class="s1">?</span><span class="s3">0</span><span class="s1">:-(</span><span class="s2">p</span><span class="s1">.</span><span class="s2">width</span><span class="s1">-</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">)+</span><span class="s0">&quot;, 0)&quot;</span><span class="s1">);</span><span class="s2">u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">n</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+-</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+(-</span><span class="s2">u</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">f</span><span class="s1">+</span><span class="s3">3</span><span class="s1">)+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;outer title-state&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,-</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">f</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,-</span><span class="s2">u</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">f</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;divider&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,-</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">f</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">f</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,-</span><span class="s2">u</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">f</span><span class="s1">+</span><span class="s2">p</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">f</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,-</span><span class="s2">u</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">f</span><span class="s1">+</span><span class="s2">p</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">f</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">rect</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}),</span><span class="s0">&quot;rectWithTitle&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">be</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">s</span><span class="s1">/</span><span class="s3">4</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;rx&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;ry&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,-</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,-</span><span class="s2">s</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">rect</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;stadium&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">xe</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">halfPadding</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;rx&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;ry&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">s</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">info</span><span class="s1">(</span><span class="s0">&quot;Circle main&quot;</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">i</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">info</span><span class="s1">(</span><span class="s0">&quot;Circle intersect&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">s</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">circle</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">s</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;circle&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">me</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">halfPadding</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s3">5</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">);</span><span class="s2">n</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">);</span><span class="s2">l</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;rx&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;ry&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s2">i</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">+</span><span class="s2">i</span><span class="s1">*</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">+</span><span class="s2">i</span><span class="s1">*</span><span class="s3">2</span><span class="s1">);</span><span class="s2">c</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;rx&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;ry&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">s</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">info</span><span class="s1">(</span><span class="s0">&quot;DoubleCircle main&quot;</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">info</span><span class="s1">(</span><span class="s0">&quot;DoubleCircle intersect&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s2">i</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">circle</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s2">i</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;doublecircle&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ke</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const</span><span class="s1">{</span><span class="s2">shapeSvg</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">bbox</span><span class="s1">:</span><span class="s2">a</span><span class="s1">}=</span><span class="s4">await </span><span class="s2">Zt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">te</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">),</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:-</span><span class="s3">8</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">+</span><span class="s3">8</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">s</span><span class="s1">+</span><span class="s3">8</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:-</span><span class="s3">8</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:-</span><span class="s2">i</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:-</span><span class="s3">8</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">}];</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">Gt</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">o</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">polygon</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;subroutine&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">we</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;node default&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">domId</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;state-start&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s3">14</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s3">14</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">circle</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">7</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;start&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Le</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;node default&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">domId</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s3">70</span><span class="s1">;</span><span class="s4">let </span><span class="s2">i</span><span class="s1">=</span><span class="s3">10</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">===</span><span class="s0">&quot;LR&quot;</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s3">10</span><span class="s1">;</span><span class="s2">i</span><span class="s1">=</span><span class="s3">70</span><span class="s1">}</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">s</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;fork-join&quot;</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">rect</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}),</span><span class="s0">&quot;forkJoin&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">_e</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;node default&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">domId</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;state-start&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s3">14</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s3">14</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;state-end&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s3">5</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s3">10</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s3">10</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">circle</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">7</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;end&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ve</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s3">4</span><span class="s1">;</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s3">8</span><span class="s1">;</span><span class="s4">let </span><span class="s2">i</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">){</span><span class="s2">i</span><span class="s1">=</span><span class="s0">&quot;node default&quot;</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">i</span><span class="s1">=</span><span class="s0">&quot;node &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classes</span><span class="s1">}</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">domId</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">,</span><span class="s0">&quot;:first-child&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">);</span><span class="s4">let </span><span class="s2">u</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">let </span><span class="s2">g</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;label&quot;</span><span class="s1">);</span><span class="s4">let </span><span class="s2">y</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">const </span><span class="s2">f</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">annotations</span><span class="s1">?.[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">const </span><span class="s2">b</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">annotations</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]?</span><span class="s0">&quot;&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">annotations</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]+</span><span class="s0">&quot;&quot;</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">const </span><span class="s2">x</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">b</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">,</span><span class="s4">true</span><span class="s1">,</span><span class="s4">true</span><span class="s1">));</span><span class="s4">let </span><span class="s2">m</span><span class="s1">=</span><span class="s2">x</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">_3</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">)){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">x</span><span class="s1">.</span><span class="s2">children</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">x</span><span class="s1">);</span><span class="s2">m</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getBoundingClientRect</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">m</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">m</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">annotations</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]){</span><span class="s2">g</span><span class="s1">+=</span><span class="s2">m</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">a</span><span class="s1">;</span><span class="s2">u</span><span class="s1">+=</span><span class="s2">m</span><span class="s1">.</span><span class="s2">width</span><span class="s1">}</span><span class="s4">let </span><span class="s2">k</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">label</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">type</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">type</span><span class="s1">!==</span><span class="s0">&quot;&quot;</span><span class="s1">){</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">){</span><span class="s2">k</span><span class="s1">+=</span><span class="s0">&quot;&amp;lt;&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">type</span><span class="s1">+</span><span class="s0">&quot;&amp;gt;&quot;</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">k</span><span class="s1">+=</span><span class="s0">&quot;&lt;&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">type</span><span class="s1">+</span><span class="s0">&quot;&gt;&quot;</span><span class="s1">}}</span><span class="s4">const </span><span class="s2">w</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">k</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">,</span><span class="s4">true</span><span class="s1">,</span><span class="s4">true</span><span class="s1">));(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">w</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;classTitle&quot;</span><span class="s1">);</span><span class="s4">let </span><span class="s2">L</span><span class="s1">=</span><span class="s2">w</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">_3</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">)){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">w</span><span class="s1">.</span><span class="s2">children</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">w</span><span class="s1">);</span><span class="s2">L</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getBoundingClientRect</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">L</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">L</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)}</span><span class="s2">g</span><span class="s1">+=</span><span class="s2">L</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">a</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">L</span><span class="s1">.</span><span class="s2">width</span><span class="s1">&gt;</span><span class="s2">u</span><span class="s1">){</span><span class="s2">u</span><span class="s1">=</span><span class="s2">L</span><span class="s1">.</span><span class="s2">width</span><span class="s1">}</span><span class="s4">const </span><span class="s2">_</span><span class="s1">=[];</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">members</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getDisplayDetails</span><span class="s1">();</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">displayText</span><span class="s1">;</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/&lt;/g</span><span class="s1">,</span><span class="s0">&quot;&amp;lt;&quot;</span><span class="s1">).</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/&gt;/g</span><span class="s1">,</span><span class="s0">&quot;&amp;gt;&quot;</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">cssStyle</span><span class="s1">?</span><span class="s2">r</span><span class="s1">.</span><span class="s2">cssStyle</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">,</span><span class="s4">true</span><span class="s1">,</span><span class="s4">true</span><span class="s1">));</span><span class="s4">let </span><span class="s2">n</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">_3</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">)){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">children</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">i</span><span class="s1">);</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getBoundingClientRect</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">&gt;</span><span class="s2">u</span><span class="s1">){</span><span class="s2">u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">}</span><span class="s2">g</span><span class="s1">+=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">a</span><span class="s1">;</span><span class="s2">_</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">i</span><span class="s1">)}));</span><span class="s2">g</span><span class="s1">+=</span><span class="s2">s</span><span class="s1">;</span><span class="s4">const </span><span class="s2">v</span><span class="s1">=[];</span><span class="s2">e</span><span class="s1">.</span><span class="s2">classData</span><span class="s1">.</span><span class="s2">methods</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getDisplayDetails</span><span class="s1">();</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">displayText</span><span class="s1">;</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/&lt;/g</span><span class="s1">,</span><span class="s0">&quot;&amp;lt;&quot;</span><span class="s1">).</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/&gt;/g</span><span class="s1">,</span><span class="s0">&quot;&amp;gt;&quot;</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">appendChild</span><span class="s1">(</span><span class="s2">mt</span><span class="s1">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">cssStyle</span><span class="s1">?</span><span class="s2">r</span><span class="s1">.</span><span class="s2">cssStyle</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">,</span><span class="s4">true</span><span class="s1">,</span><span class="s4">true</span><span class="s1">));</span><span class="s4">let </span><span class="s2">n</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">_3</span><span class="s1">)((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">flowchart</span><span class="s1">.</span><span class="s2">htmlLabels</span><span class="s1">)){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">children</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">i</span><span class="s1">);</span><span class="s2">n</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">getBoundingClientRect</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">&gt;</span><span class="s2">u</span><span class="s1">){</span><span class="s2">u</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">}</span><span class="s2">g</span><span class="s1">+=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">a</span><span class="s1">;</span><span class="s2">v</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">i</span><span class="s1">)}));</span><span class="s2">g</span><span class="s1">+=</span><span class="s2">s</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">f</span><span class="s1">){</span><span class="s4">let </span><span class="s2">t</span><span class="s1">=(</span><span class="s2">u</span><span class="s1">-</span><span class="s2">m</span><span class="s1">.</span><span class="s2">width</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">;(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">x</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate( &quot;</span><span class="s1">+(-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">u</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">t</span><span class="s1">)+</span><span class="s0">&quot;, &quot;</span><span class="s1">+-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">g</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s2">y</span><span class="s1">=</span><span class="s2">m</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">a</span><span class="s1">}</span><span class="s4">let </span><span class="s2">S</span><span class="s1">=(</span><span class="s2">u</span><span class="s1">-</span><span class="s2">L</span><span class="s1">.</span><span class="s2">width</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">;(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">w</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate( &quot;</span><span class="s1">+(-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">u</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">S</span><span class="s1">)+</span><span class="s0">&quot;, &quot;</span><span class="s1">+(-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">g</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">y</span><span class="s1">)+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s2">y</span><span class="s1">+=</span><span class="s2">L</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">a</span><span class="s1">;</span><span class="s2">c</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;divider&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,-</span><span class="s2">u</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">r</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">r</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,-</span><span class="s2">g</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">r</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s2">y</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,-</span><span class="s2">g</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">r</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s2">y</span><span class="s1">);</span><span class="s2">y</span><span class="s1">+=</span><span class="s2">s</span><span class="s1">;</span><span class="s2">_</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate( &quot;</span><span class="s1">+-</span><span class="s2">u</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+(-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">g</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">y</span><span class="s1">+</span><span class="s2">s</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">y</span><span class="s1">+=(</span><span class="s2">e</span><span class="s1">?.</span><span class="s2">height</span><span class="s1">??</span><span class="s3">0</span><span class="s1">)+</span><span class="s2">a</span><span class="s1">}));</span><span class="s2">y</span><span class="s1">+=</span><span class="s2">s</span><span class="s1">;</span><span class="s2">h</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;divider&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,-</span><span class="s2">u</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">r</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">r</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,-</span><span class="s2">g</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">r</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s2">y</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,-</span><span class="s2">g</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">r</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s2">y</span><span class="s1">);</span><span class="s2">y</span><span class="s1">+=</span><span class="s2">s</span><span class="s1">;</span><span class="s2">v</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate( &quot;</span><span class="s1">+-</span><span class="s2">u</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+(-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">g</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">y</span><span class="s1">)+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">y</span><span class="s1">+=(</span><span class="s2">e</span><span class="s1">?.</span><span class="s2">height</span><span class="s1">??</span><span class="s3">0</span><span class="s1">)+</span><span class="s2">a</span><span class="s1">}));</span><span class="s2">l</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">style</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;outer title-state&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,-</span><span class="s2">u</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">r</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,-(</span><span class="s2">g</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)-</span><span class="s2">r</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">g</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">padding</span><span class="s1">);</span><span class="s2">qt</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">Ut</span><span class="s1">.</span><span class="s2">rect</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)};</span><span class="s4">return </span><span class="s2">n</span><span class="s1">}),</span><span class="s0">&quot;class_box&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Se</span><span class="s1">={</span><span class="s2">rhombus</span><span class="s1">:</span><span class="s2">ee</span><span class="s1">,</span><span class="s2">composite</span><span class="s1">:</span><span class="s2">ge</span><span class="s1">,</span><span class="s2">question</span><span class="s1">:</span><span class="s2">ee</span><span class="s1">,</span><span class="s2">rect</span><span class="s1">:</span><span class="s2">ue</span><span class="s1">,</span><span class="s2">labelRect</span><span class="s1">:</span><span class="s2">pe</span><span class="s1">,</span><span class="s2">rectWithTitle</span><span class="s1">:</span><span class="s2">fe</span><span class="s1">,</span><span class="s2">choice</span><span class="s1">:</span><span class="s2">re</span><span class="s1">,</span><span class="s2">circle</span><span class="s1">:</span><span class="s2">xe</span><span class="s1">,</span><span class="s2">doublecircle</span><span class="s1">:</span><span class="s2">me</span><span class="s1">,</span><span class="s2">stadium</span><span class="s1">:</span><span class="s2">be</span><span class="s1">,</span><span class="s2">hexagon</span><span class="s1">:</span><span class="s2">ae</span><span class="s1">,</span><span class="s2">block_arrow</span><span class="s1">:</span><span class="s2">se</span><span class="s1">,</span><span class="s2">rect_left_inv_arrow</span><span class="s1">:</span><span class="s2">ie</span><span class="s1">,</span><span class="s2">lean_right</span><span class="s1">:</span><span class="s2">ne</span><span class="s1">,</span><span class="s2">lean_left</span><span class="s1">:</span><span class="s2">oe</span><span class="s1">,</span><span class="s2">trapezoid</span><span class="s1">:</span><span class="s2">le</span><span class="s1">,</span><span class="s2">inv_trapezoid</span><span class="s1">:</span><span class="s2">ce</span><span class="s1">,</span><span class="s2">rect_right_inv_arrow</span><span class="s1">:</span><span class="s2">he</span><span class="s1">,</span><span class="s2">cylinder</span><span class="s1">:</span><span class="s2">de</span><span class="s1">,</span><span class="s2">start</span><span class="s1">:</span><span class="s2">we</span><span class="s1">,</span><span class="s2">end</span><span class="s1">:</span><span class="s2">_e</span><span class="s1">,</span><span class="s2">note</span><span class="s1">:</span><span class="s2">Vt</span><span class="s1">,</span><span class="s2">subroutine</span><span class="s1">:</span><span class="s2">ke</span><span class="s1">,</span><span class="s2">fork</span><span class="s1">:</span><span class="s2">Le</span><span class="s1">,</span><span class="s2">join</span><span class="s1">:</span><span class="s2">Le</span><span class="s1">,</span><span class="s2">class_box</span><span class="s1">:</span><span class="s2">ve</span><span class="s1">};</span><span class="s4">var </span><span class="s2">Ee</span><span class="s1">={};</span><span class="s4">var </span><span class="s2">De</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)=&gt;{</span><span class="s4">let </span><span class="s2">a</span><span class="s1">;</span><span class="s4">let </span><span class="s2">s</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">link</span><span class="s1">){</span><span class="s4">let </span><span class="s2">i</span><span class="s1">;</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">securityLevel</span><span class="s1">===</span><span class="s0">&quot;sandbox&quot;</span><span class="s1">){</span><span class="s2">i</span><span class="s1">=</span><span class="s0">&quot;_top&quot;</span><span class="s1">}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">linkTarget</span><span class="s1">){</span><span class="s2">i</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">linkTarget</span><span class="s1">||</span><span class="s0">&quot;_blank&quot;</span><span class="s1">}</span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;svg:a&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;xlink:href&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">link</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;target&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">);</span><span class="s2">s</span><span class="s1">=</span><span class="s4">await </span><span class="s2">Se</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">shape</span><span class="s1">](</span><span class="s2">a</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">s</span><span class="s1">=</span><span class="s4">await </span><span class="s2">Se</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">shape</span><span class="s1">](</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s2">a</span><span class="s1">=</span><span class="s2">s</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">tooltip</span><span class="s1">){</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;title&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">tooltip</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">){</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;node default &quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">)}</span><span class="s2">Ee</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]=</span><span class="s2">a</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">haveCallback</span><span class="s1">){</span><span class="s2">Ee</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s2">Ee</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">)+</span><span class="s0">&quot; clickable&quot;</span><span class="s1">)}</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}),</span><span class="s0">&quot;insertNode&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Ne</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">Ee</span><span class="s1">[</span><span class="s2">t</span><span class="s1">.</span><span class="s2">id</span><span class="s1">];</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">trace</span><span class="s1">(</span><span class="s0">&quot;Transforming node&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">diff</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s3">5</span><span class="s1">)+</span><span class="s0">&quot;, &quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s3">8</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">diff</span><span class="s1">||</span><span class="s3">0</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">clusterNode</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">a</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)+</span><span class="s0">&quot;, &quot;</span><span class="s1">+(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">r</span><span class="s1">)+</span><span class="s0">&quot;)&quot;</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;translate(&quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s0">&quot;, &quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">)}</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}),</span><span class="s0">&quot;positionNode&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">Ke</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s4">false</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s0">&quot;default&quot;</span><span class="s1">;</span><span class="s4">if</span><span class="s1">((</span><span class="s2">a</span><span class="s1">?.</span><span class="s2">classes</span><span class="s1">?.</span><span class="s2">length</span><span class="s1">||</span><span class="s3">0</span><span class="s1">)&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=(</span><span class="s2">a</span><span class="s1">?.</span><span class="s2">classes</span><span class="s1">??[]).</span><span class="s2">join</span><span class="s1">(</span><span class="s0">&quot; &quot;</span><span class="s1">)}</span><span class="s2">s</span><span class="s1">=</span><span class="s2">s</span><span class="s1">+</span><span class="s0">&quot; flowchart-label&quot;</span><span class="s1">;</span><span class="s4">let </span><span class="s2">i</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">let </span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">let </span><span class="s2">c</span><span class="s1">;</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">type</span><span class="s1">){</span><span class="s4">case</span><span class="s0">&quot;round&quot;</span><span class="s1">:</span><span class="s2">i</span><span class="s1">=</span><span class="s3">5</span><span class="s1">;</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;rect&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;composite&quot;</span><span class="s1">:</span><span class="s2">i</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;composite&quot;</span><span class="s1">;</span><span class="s2">c</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;square&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;rect&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;diamond&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;question&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;hexagon&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;hexagon&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;block_arrow&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;block_arrow&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;odd&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;rect_left_inv_arrow&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;lean_right&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;lean_right&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;lean_left&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;lean_left&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;trapezoid&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;trapezoid&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;inv_trapezoid&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;inv_trapezoid&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;rect_left_inv_arrow&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;rect_left_inv_arrow&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;circle&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;circle&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;ellipse&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;ellipse&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;stadium&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;stadium&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;subroutine&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;subroutine&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;cylinder&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;cylinder&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;group&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;rect&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;doublecircle&quot;</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;doublecircle&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">default</span><span class="s1">:</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;rect&quot;</span><span class="s1">}</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">sM</span><span class="s1">)(</span><span class="s2">a</span><span class="s1">?.</span><span class="s2">styles</span><span class="s1">??[]);</span><span class="s4">const </span><span class="s2">d</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">label</span><span class="s1">;</span><span class="s4">const </span><span class="s2">u</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">size</span><span class="s1">??{</span><span class="s2">width</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">};</span><span class="s4">const </span><span class="s2">g</span><span class="s1">={</span><span class="s2">labelStyle</span><span class="s1">:</span><span class="s2">h</span><span class="s1">.</span><span class="s2">labelStyle</span><span class="s1">,</span><span class="s2">shape</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s2">labelText</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s2">rx</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">ry</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s4">class</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">style</span><span class="s1">:</span><span class="s2">h</span><span class="s1">.</span><span class="s2">style</span><span class="s1">,</span><span class="s2">id</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">directions</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">directions</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">height</span><span class="s1">,</span><span class="s2">x</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">u</span><span class="s1">.</span><span class="s2">y</span><span class="s1">,</span><span class="s2">positioned</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">intersect</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">padding</span><span class="s1">:</span><span class="s2">c</span><span class="s1">??(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">zj</span><span class="s1">)()?.</span><span class="s2">block</span><span class="s1">?.</span><span class="s2">padding</span><span class="s1">??</span><span class="s3">0</span><span class="s1">};</span><span class="s4">return </span><span class="s2">g</span><span class="s1">}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Ke</span><span class="s1">,</span><span class="s0">&quot;getNodeFromBlock&quot;</span><span class="s1">);</span><span class="s2">async </span><span class="s4">function </span><span class="s2">Re</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s4">false</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">type</span><span class="s1">===</span><span class="s0">&quot;group&quot;</span><span class="s1">){</span><span class="s4">return</span><span class="s1">}</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">zj</span><span class="s1">)();</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s4">await </span><span class="s2">De</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,{</span><span class="s2">config</span><span class="s1">:</span><span class="s2">s</span><span class="s1">});</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getBlock</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span><span class="s2">l</span><span class="s1">.</span><span class="s2">size</span><span class="s1">={</span><span class="s2">width</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">height</span><span class="s1">,</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">node</span><span class="s1">:</span><span class="s2">i</span><span class="s1">};</span><span class="s2">r</span><span class="s1">.</span><span class="s2">setBlock</span><span class="s1">(</span><span class="s2">l</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">remove</span><span class="s1">()}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Re</span><span class="s1">,</span><span class="s0">&quot;calculateBlockSize&quot;</span><span class="s1">);</span><span class="s2">async </span><span class="s4">function </span><span class="s2">Ce</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">Ke</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s4">true</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">getBlock</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">id</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">type</span><span class="s1">!==</span><span class="s0">&quot;space&quot;</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">zj</span><span class="s1">)();</span><span class="s4">await </span><span class="s2">De</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,{</span><span class="s2">config</span><span class="s1">:</span><span class="s2">r</span><span class="s1">});</span><span class="s2">e</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">=</span><span class="s2">a</span><span class="s1">?.</span><span class="s2">intersect</span><span class="s1">;</span><span class="s2">Ne</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Ce</span><span class="s1">,</span><span class="s0">&quot;insertBlockPositioned&quot;</span><span class="s1">);</span><span class="s2">async </span><span class="s4">function </span><span class="s2">Te</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">s of e</span><span class="s1">){</span><span class="s4">await </span><span class="s2">a</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">children</span><span class="s1">){</span><span class="s4">await </span><span class="s2">Te</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">children</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)}}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Te</span><span class="s1">,</span><span class="s0">&quot;performOperations&quot;</span><span class="s1">);</span><span class="s2">async </span><span class="s4">function </span><span class="s2">$e</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">await </span><span class="s2">Te</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">Re</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">$e</span><span class="s1">,</span><span class="s0">&quot;calculateBlockSizes&quot;</span><span class="s1">);</span><span class="s2">async </span><span class="s4">function </span><span class="s2">Ae</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">await </span><span class="s2">Te</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">Ce</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Ae</span><span class="s1">,</span><span class="s0">&quot;insertBlocks&quot;</span><span class="s1">);</span><span class="s2">async </span><span class="s4">function </span><span class="s2">Oe</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s4">new </span><span class="s2">u</span><span class="s1">.</span><span class="s2">T</span><span class="s1">({</span><span class="s2">multigraph</span><span class="s1">:</span><span class="s4">true</span><span class="s1">,</span><span class="s2">compound</span><span class="s1">:</span><span class="s4">true</span><span class="s1">});</span><span class="s2">i</span><span class="s1">.</span><span class="s2">setGraph</span><span class="s1">({</span><span class="s2">rankdir</span><span class="s1">:</span><span class="s0">&quot;TB&quot;</span><span class="s1">,</span><span class="s2">nodesep</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s2">ranksep</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s2">marginx</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s2">marginy</span><span class="s1">:</span><span class="s3">8</span><span class="s1">});</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">n of r</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">size</span><span class="s1">){</span><span class="s2">i</span><span class="s1">.</span><span class="s2">setNode</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,{</span><span class="s2">width</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">size</span><span class="s1">.</span><span class="s2">height</span><span class="s1">,</span><span class="s2">intersect</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">intersect</span><span class="s1">})}}</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">n of e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">start</span><span class="s1">&amp;&amp;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">end</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">getBlock</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">start</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">getBlock</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">end</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">?.</span><span class="s2">size</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">size</span><span class="s1">;</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">size</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=[{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">},{</span><span class="s2">x</span><span class="s1">:</span><span class="s2">o</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">o</span><span class="s1">.</span><span class="s2">y</span><span class="s1">}];</span><span class="s2">Ct</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,{</span><span class="s2">v</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">start</span><span class="s1">,</span><span class="s2">w</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">end</span><span class="s1">,</span><span class="s2">name</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">id</span><span class="s1">},{</span><span class="s2">...n</span><span class="s1">,</span><span class="s2">arrowTypeEnd</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">arrowTypeEnd</span><span class="s1">,</span><span class="s2">arrowTypeStart</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">arrowTypeStart</span><span class="s1">,</span><span class="s2">points</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s2">classes</span><span class="s1">:</span><span class="s0">&quot;edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1&quot;</span><span class="s1">},</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s0">&quot;block&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">label</span><span class="s1">){</span><span class="s4">await </span><span class="s2">St</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,{</span><span class="s2">...n</span><span class="s1">,</span><span class="s2">label</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">label</span><span class="s1">,</span><span class="s2">labelStyle</span><span class="s1">:</span><span class="s0">&quot;stroke: #333; stroke-width: 1.5px;fill:none;&quot;</span><span class="s1">,</span><span class="s2">arrowTypeEnd</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">arrowTypeEnd</span><span class="s1">,</span><span class="s2">arrowTypeStart</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">arrowTypeStart</span><span class="s1">,</span><span class="s2">points</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s2">classes</span><span class="s1">:</span><span class="s0">&quot;edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1&quot;</span><span class="s1">});</span><span class="s2">Dt</span><span class="s1">({</span><span class="s2">...n</span><span class="s1">,</span><span class="s2">x</span><span class="s1">:</span><span class="s2">l</span><span class="s1">[</span><span class="s3">1</span><span class="s1">].</span><span class="s2">x</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">l</span><span class="s1">[</span><span class="s3">1</span><span class="s1">].</span><span class="s2">y</span><span class="s1">},{</span><span class="s2">originalPath</span><span class="s1">:</span><span class="s2">l</span><span class="s1">})}}}}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">Oe</span><span class="s1">,</span><span class="s0">&quot;insertEdges&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Ie</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">e</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">getClasses</span><span class="s1">()}),</span><span class="s0">&quot;getClasses&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Be</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async </span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">const</span><span class="s1">{</span><span class="s2">securityLevel</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">block</span><span class="s1">:</span><span class="s2">i</span><span class="s1">}=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">zj</span><span class="s1">)();</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">;</span><span class="s4">let </span><span class="s2">l</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">===</span><span class="s0">&quot;sandbox&quot;</span><span class="s1">){</span><span class="s2">l</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s0">&quot;#i&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">s</span><span class="s1">===</span><span class="s0">&quot;sandbox&quot;</span><span class="s1">?(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">l</span><span class="s1">.</span><span class="s2">nodes</span><span class="s1">()[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">contentDocument</span><span class="s1">.</span><span class="s2">body</span><span class="s1">):(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s0">&quot;body&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s2">s</span><span class="s1">===</span><span class="s0">&quot;sandbox&quot;</span><span class="s1">?</span><span class="s2">c</span><span class="s1">.</span><span class="s2">select</span><span class="s1">(</span><span class="s0">`[id=&quot;</span><span class="s2">$</span><span class="s1">{</span><span class="s2">e</span><span class="s1">}</span><span class="s0">&quot;]`</span><span class="s1">):(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s0">`[id=&quot;</span><span class="s2">$</span><span class="s1">{</span><span class="s2">e</span><span class="s1">}</span><span class="s0">&quot;]`</span><span class="s1">);</span><span class="s4">const </span><span class="s2">u</span><span class="s1">=[</span><span class="s0">&quot;point&quot;</span><span class="s1">,</span><span class="s0">&quot;circle&quot;</span><span class="s1">,</span><span class="s0">&quot;cross&quot;</span><span class="s1">];</span><span class="s2">lt</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">u</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">getBlocks</span><span class="s1">();</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">getBlocksFlat</span><span class="s1">();</span><span class="s4">const </span><span class="s2">y</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">getEdges</span><span class="s1">();</span><span class="s4">const </span><span class="s2">f</span><span class="s1">=</span><span class="s2">h</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;block&quot;</span><span class="s1">);</span><span class="s4">await </span><span class="s2">$e</span><span class="s1">(</span><span class="s2">f</span><span class="s1">,</span><span class="s2">g</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s4">const </span><span class="s2">b</span><span class="s1">=</span><span class="s2">yt</span><span class="s1">(</span><span class="s2">n</span><span class="s1">);</span><span class="s4">await </span><span class="s2">Ae</span><span class="s1">(</span><span class="s2">f</span><span class="s1">,</span><span class="s2">g</span><span class="s1">,</span><span class="s2">n</span><span class="s1">);</span><span class="s4">await </span><span class="s2">Oe</span><span class="s1">(</span><span class="s2">f</span><span class="s1">,</span><span class="s2">y</span><span class="s1">,</span><span class="s2">p</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">b</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">b</span><span class="s1">;</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s1">(</span><span class="s3">1</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s3">.125</span><span class="s1">*(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)));</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s3">10</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">10</span><span class="s1">;</span><span class="s4">const</span><span class="s1">{</span><span class="s2">useMaxWidth</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}=</span><span class="s2">i</span><span class="s1">;(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">a$</span><span class="s1">)(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,!!</span><span class="s2">s</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Here Bounds&quot;</span><span class="s1">,</span><span class="s2">b</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s2">h</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;viewBox&quot;</span><span class="s1">,</span><span class="s0">`</span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s3">5</span><span class="s1">} </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">-</span><span class="s3">5</span><span class="s1">} </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">10</span><span class="s1">} </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s3">10</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)}}),</span><span class="s0">&quot;draw&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ze</span><span class="s1">={</span><span class="s2">draw</span><span class="s1">:</span><span class="s2">Be</span><span class="s1">,</span><span class="s2">getClasses</span><span class="s1">:</span><span class="s2">Ie</span><span class="s1">};</span><span class="s4">var </span><span class="s2">Me</span><span class="s1">={</span><span class="s2">parser</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s2">db</span><span class="s1">:</span><span class="s2">U</span><span class="s1">,</span><span class="s2">renderer</span><span class="s1">:</span><span class="s2">ze</span><span class="s1">,</span><span class="s2">styles</span><span class="s1">:</span><span class="s2">G</span><span class="s1">}}}]);</span></pre>
</body>
</html>