<html>
<head>
<title>1715.eb47d8a8fb23246d8368.js.map</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #6aab73;}
.s2 { color: #2aacb8;}
.s3 { color: #cf8e6d;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
1715.eb47d8a8fb23246d8368.js.map</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">{</span><span class="s1">&quot;version&quot;</span><span class="s0">:</span><span class="s2">3</span><span class="s0">,</span><span class="s1">&quot;file&quot;</span><span class="s0">:</span><span class="s1">&quot;1715.eb47d8a8fb23246d8368.js?v=eb47d8a8fb23246d8368&quot;</span><span class="s0">,</span><span class="s1">&quot;mappings&quot;</span><span class="s0">:</span><span class="s1">&quot;;;;;;;;;;AAAe;AACf;AACA;;;;;;;;;;;;;;;;;ACFuC;AACF;AACJ;;AAEjC,wBAAwB,iEAAQ,CAAC,8DAAS;AACnC;AACA;AACA,qBAAqB,iEAAQ,CAAC,2DAAM;AAC3C,iEAAe,WAAW,EAAC;;;;;;;;;;;;;;;;;ACRZ;AACf;AACA;AACA;AACA;AACA;AACA;;;ACNuC;AACE;;AAE1B;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wBAAS;AACxB,yBAAyB,4BAAS;AAClC;AACA,IAAI;AACJ,qBAAqB,wBAAS,UAAU,UAAU;AAClD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU;AACV;;AAEA;AACA;AACA;;;;;;;;;;;ACvDe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnBe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBe;AACf;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnBe;AACf;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACZA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO;AACxC,yBAAyB,OAAO;AAChC,IAAI;AACJ,iCAAiC,OAAO;AACxC,yBAAyB,OAAO;AAChC;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACtD2C;;AAEpC;;AAEA;AACA;;AAEP;AACA;AACA;AACA,yBAAyB,IAAI;AAC7B,wCAAwC,IAAI,GAAG,IAAI,GAAG,IAAI;AAC1D,wCAAwC,IAAI,GAAG,IAAI,GAAG,IAAI;AAC1D,0CAA0C,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI;AACnE,0CAA0C,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI;AACnE,wCAAwC,IAAI,GAAG,IAAI,GAAG,IAAI;AAC1D,0CAA0C,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+DAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA,+DAAM,WAAW,2DAAM;AACvB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,aAAa,YAAY,EAAE,YAAY,EAAE,YAAY;AACrD;;AAEA;AACA,aAAa,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,oDAAoD;AAC3G;;AAEA;AACA;AACA,YAAY,2BAA2B,EAAE,eAAe,IAAI,eAAe,IAAI,eAAe,EAAE,qBAAqB,EAAE,GAAG;AAC1H;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,+DAAM,WAAW,2DAAM;AACvB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,cAAc,2BAA2B,EAAE,eAAe,IAAI,qBAAqB,KAAK,qBAAqB,GAAG,qBAAqB,EAAE,GAAG;AAC1I;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3YA,6BAAe,oCAAS;AACxB;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACT2C;AACO;AACP;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,oDAAG,OAAO,+DAAU;AACzC;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEe;AACf;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA,+DAAM,WAAW,2DAAM,CAAC,sDAAK;AAC7B;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oDAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC,sDAAO;AACxC;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,sDAAO;AACvB;AACA;;AAEA,+DAAM,WAAW,2DAAM,CAAC,sDAAK;AAC7B;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AC1HM;AACA;;;;;;;;;;;ACDP,YAAY;;AAEZ;AACA,8CAA8C,KAAK,OAAO;AAC1D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA,iBAAiB;AACjB;AACA;AACA,GAAG;AACH;AACA,mFAAmF,OAAO;AAC1F;AACA,gDAAgD,OAAO;AACvD,GAAG;AACH;AACA;AACA,oDAAoD,OAAO;AAC3D;AACA;;AAEA;AACA,sCAAsC,OAAO;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA;AACA,mCAAmC,4BAA4B;AAC/D;AACA;;AAEA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;;;ACnFe;;AAEvC;AACO;AACA;;AAEP;AACA;AACA;AACA;AACA,CAAC;;AAEc;AACf,WAAW,+DAAY;AACvB;AACA;AACA;AACA;;;;;;;;;;;;ACjBsD;;AAEtD,6BAAe,oCAAS;AACxB,aAAa,8EAAkB;AAC/B;;;;;;;;;;;;ACJA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACO;AACP,gGAAgG;AAChG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,uDAAuD;;AAEhD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC9CA,6BAAe,qBAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;ACjBA,6BAAe,wBAAS;AACxB;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;ACNA;AACA,6BAAe,oBAAS;AACxB,kDAAkD,OAAO;AACzD;AACA,6BAA6B;AAC7B,sCAAsC,QAAQ;AAC9C,sCAAsC,oBAAoB;AAC1D;AACA;AACA;AACA;;;;;ACVsD;;AAE/C;;AAEP,6BAAe,0BAAS;AACxB,UAAU,2CAAkB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,2CAAkB,gCAAgC;AAC9F;;;ACfsD;;AAEtD,6BAAe,uBAAS;AACxB,UAAU,2CAAkB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;;ACV+C;AACM;AACN;;AAE/C,kDAAe;AACf;AACA;AACA;AACA,OAAO,4BAAa;AACpB;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B,OAAO,aAAa;AACpB,OAAO,gBAAgB;AACvB;AACA;AACA,CAAC,EAAC;;;AClBF,6BAAe,kBAAS;AACxB;AACA;;;ACFqC;AACM;AACM;AACE;AACV;AACE;AACU;AAChB;;AAErC;AACA;;AAEA,6BAAe,gBAAS;AACxB,gFAAgF,QAAQ,GAAG,WAAW;AACtG;AACA;AACA;AACA,iDAAiD,QAAQ,GAAG,cAAc;AAC1E;AACA;AACA;;AAEA;AACA,gBAAgB,kCAAe;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,cAAc,WAAW;;AAEzB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,WAAW;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,0BAA0B,UAAU;;AAEpC;AACA;;AAEA;AACA;AACA,mDAAmD,cAAc;;AAEjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uEAAuE;AACvE,uEAAuE;AACvE,sIAAsI;AACtI,sEAAsE;AACtE;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mCAAmC,kCAAe;AAClD,gDAAgD,2BAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnJqC;;AAErC,6BAAe,oCAAS;AACxB,sBAAsB,iEAAQ;AAC9B;;;;;;;;;;;;ACJqC;;AAErC,6BAAe,oCAAS;AACxB,yDAAyD,iEAAQ,qBAAqB,iEAAQ;AAC9F;;;;;;;;;;;;ACJqC;;AAErC,6BAAe,oCAAS;AACxB;AACA,qBAAqB,iEAAQ,QAAQ,iEAAQ;AAC7C;;;;;;;;;;;;;;ACL+B;AAC6B;;AAE5D,6BAAe,oCAAS;AACxB,UAAU,uEAAa,MAAM,gEAAW;AACxC;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA,cAAc,QAAQ,YAAY,8DAAK;AACvC,SAAS,QAAQ;;AAEjB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;;;;;;;;;;;;ACrBO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClBiC;;AAEjC,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,yDAAK;AAChB;AACA;;;;;;;;;;;;;;ACZqC;;AAErC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA,kFAAkF,iEAAQ;AAC1F;;AAEO;AACP;AACA,0CAA0C,iEAAQ;AAClD;AACA;;AAEe;AACf;AACA,4BAA4B,iEAAQ;AACpC;;;;;;;;;;;AC5BA,iEAAe,YAAY,EAAC;;;;;;;;;;;ACA5B,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLA,6BAAe,kBAAS;AACxB;AACA;AACA;AACA;AACA;;;;;ACL+B;;AAE/B,6BAAe,aAAS;AACxB,UAAU,qBAAG;AACb;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACRA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2CAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC,mBAAmB,EAAC;;;;;;;ACtEoB;AACH;;AAEtC;AACA;AACA,yBAAyB,yBAAQ,mBAAmB,yBAAQ;AAC5D,YAAY,yBAAK;AACjB,YAAY,yBAAK;AACjB,kBAAkB,yBAAK;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAAe,IAAI,iBAAG,CAAC,EAAC;AACjB,kBAAkB,qBAAK;;;;;ACpBW;AACV;;AAEhB,SAAS,OAAG;AAC3B,UAAU,yBAAK,UAAU,uBAAQ,mBAAmB,uBAAQ;AAC5D,UAAU,yBAAK;AACf,UAAU,yBAAK;AACf,gBAAgB,yBAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfyC;AACH;;AAEtC;AACA;AACA,yBAAyB,mBAAQ,mBAAmB,mBAAQ;AAC5D,YAAY,yBAAK;AACjB,YAAY,yBAAK;AACjB,kBAAkB,yBAAK;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAAe,IAAI,iBAAG,CAAC,EAAC;AACjB,kBAAkB,qBAAK;;;;;;;ACpBa;AACyB;AACzB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,qBAAG,OAAO,gCAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mBAAO;AACzC;AACA;;AAEe,SAAS,mBAAS;AACjC;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA,6BAAM,YAAY,mBAAS,EAAE,4BAAM,CAAC,uBAAK;AACzC;AACA,oBAAoB,0BAAQ,YAAY,0BAAQ;AAChD;AACA,GAAG;AACH;AACA,oBAAoB,wBAAM,YAAY,wBAAM;AAC5C;AACA,GAAG;AACH;AACA,iDAAiD,mBAAO;AACxD;AACA;AACA;AACA;AACA,eAAe,qBAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;AC5DoD;AACf;;AAEtC;AACA;AACA;;AAEA;AACA,2BAA2B,mBAAc,mBAAmB,mBAAc;AAC1E,cAAc,yBAAK;AACnB,cAAc,yBAAK;AACnB,oBAAoB,yBAAK;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;;AAEA,oDAAe,UAAU,iBAAG,CAAC,EAAC;AACvB,8BAA8B,qBAAK;;;;;AC5B1C,6BAAe,kBAAS;AACxB;AACA,kBAAkB,OAAO;AACzB;AACA;;;ACJkD;AACK;AACA;AACY;AACd;AACQ;AACV;AACM;AACU;AACV;AACF;AACE;AAC6B;AACjC;AAC4E;AAC/C;AAC/B;AAC+B;AACwB;AACtD;AACF;;;;;;;;;;;ACpBlD,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;;ACJA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;ACb+B;;AAE/B,6BAAe,oCAAS;AACxB,YAAY;AACZ,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,8DAAK;AAClB,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtB4C;;AAE7B;AACf,gEAAgE,0DAAK;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACVyC;AACV;AACY;AACD;;AAE1C,iEAAe;AACf,cAAc,0DAAK;;AAEnB;AACA,2BAA2B,uDAAQ,mBAAmB,uDAAQ;AAC9D;AACA;AACA,kBAAkB,+DAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,CAAC,IAAI,EAAC;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,cAAc,uDAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,yBAAyB,0DAAK;AAC9B,+BAA+B,gEAAW;;;;;;;;;;;ACtDjD,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;;ACJiC;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,4BAA4B;AAC5B;AACA;AACA,yCAAyC;AACzC,4BAA4B;AAC5B;AACA,MAAM,OAAO;AACb;AACA,cAAc,SAAS,+DAAM,SAAS;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,OAAO;AACpC;AACA,SAAS;AACT;;;;;;;;;;;;;;;;;;AC/DA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,mBAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzBmD;;AAEnD;;AAEA;AACO;AACP;AACA,wBAAwB,QAAQ,GAAG,SAAS;AAC5C;;AAEO;AACP,4BAA4B,QAAQ;AACpC;AACA;AACA,iEAAiE,QAAQ;AACzE;AACA,SAAS,SAAS;AAClB;;;ACjBkC;AACY;;AAE9C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,aAAa,yBAAM,SAAS,GAAG,aAAa,yBAAM,SAAS;AACzE,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,gCAAgC;AACjE,cAAc,sDAAsD,yBAAM,OAAO;AACjF,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,cAAc,qDAAqD,yBAAM,OAAO;AAChF,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,aAAa,yBAAM,SAAS,GAAG,aAAa,yBAAM,SAAS;AACzE,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,mDAAmD,QAAQ;AAC3D,mDAAmD,QAAQ;;;;;;;;;;;;;;;;;;;;AC9DnC;AACJ;AACa;AACX;AACI;AACA;AACA;AACI;AACuB;;AAE5D,6BAAe,oCAAS;AACxB;AACA,wCAAwC,iEAAQ;AAChD,0BAA0B,2DAAM;AAChC,+BAA+B,8DAAK,eAAe,yDAAG,IAAI,2DAAM;AAChE,qBAAqB,0DAAK,GAAG,yDAAG;AAChC,4BAA4B,yDAAI;AAChC,QAAQ,uEAAa,MAAM,gEAAW;AACtC,2BAA2B,4DAAY;AACvC,0FAA0F,2DAAM;AAChG,QAAQ,2DAAM;AACd;;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,OAAO;AAC7C;AACA;AACA;;AAEA;AACA;AACA,oDAAoD,OAAO;AAC3D;AACA;AACA;AACA;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB,GAAG,yBAAyB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc,GAAG,cAAc;AACnD;AACA;AACA,oBAAoB,IAAI,GAAG,IAAI,GAAG,cAAc,GAAG,cAAc;AACjE;AACA;AACA,oBAAoB,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,cAAc,GAAG,cAAc;AAC/E;AACA;AACA;;AAEA;AACA,mDAAmD,EAAE;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,cAAc,GAAG,cAAc;AACrD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,cAAc,GAAG,cAAc;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,eAAe,GAAG,eAAe;AACzD;;AAEA,sBAAsB,EAAE,GAAG,EAAE,OAAO,yBAAyB,GAAG,0BAA0B,GAAG,0BAA0B;AACvH;AACA;AACA;AACA;;AAEA;AACA,mDAAmD,EAAE;;AAErD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,GAAG,GAAG,GAAG;AAC/B;;AAEA;AACA;AACA,sBAAsB,GAAG,GAAG,GAAG;AAC/B;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAsB,EAAE,GAAG,EAAE,OAAO,GAAG,GAAG,OAAO,GAAG,OAAO,GAAG,EAAE,GAAG,EAAE,OAAO,GAAG,GAAG,cAAc,GAAG,cAAc;AACjH;;AAEA;AACA;AACA,sBAAsB,EAAE,GAAG,EAAE,KAAK,YAAY,GAAG,GAAG,GAAG,gCAAgC,GAAG,gCAAgC;AAC1H;AACA;AACA;AACA,oBAAoB,yBAAyB,GAAG,yBAAyB,GAAG,OAAO,GAAG,GAAG,GAAG,GAAG;AAC/F;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;;AAEO;AACP;AACA;;;;;;;;;;;AC3JA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACJe;AACf;AACA;AACA;AACA;;;;;ACJgC;AACoE;AAC/D;AACJ;;AAEjC;;AAEO;AACP;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,QAAQ,SAAQ;AAChB;;AAEA;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,YAAY,0BAAM;AAClB;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,oBAAoB,oBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wFAAwF,qBAAiB;AACzG;;AAEA;AACA,sDAAsD,yBAAM;AAC5D;;AAEA;AACA;AACA;;AAEA;AACA,gDAAgD,oBAAgB;AAChE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;;;;;;;;;;;;AC5HO;AACP;AACA;AACA,gCAAgC;AAChC,+CAA+C;AAC/C;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACzB8C;AACG;AACb;AACK;;AAElC;AACP;;AAEA;AACA;AACA,WAAW,8DAAK;AAChB;;AAEA;AACA;AACA,WAAW,mEAAU;AACrB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iEAAa;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEe;AACf,cAAc,oEAAU;;AAExB;AACA,WAAW,8DAAI;AACf;;AAEA,EAAE,wDAAS;;AAEX;AACA;;;;;;;;;;;ACrEe;AACf;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;ACjBe;AACf;AACA;;;;;;;;;;;;;;ACFmC;AACC;;AAE7B;;AAEQ;AACf,kBAAkB,wDAAS;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,wDAAS;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAE,wDAAS;;AAEX;AACA;;;;;;;;;;;;;;;;;AC7CkC;AAC+E;;AAElG;AACf,aAAa,4DAAQ;AACrB;AACA,cAAc,8DAAe;AAC7B;AACA;AACA;AACA,4DAA4D,8DAAe;AAC3E,aAAa,iEAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,8DAAc;AAC1E;AACA;AACA;AACA;AACA,4DAA4D,8DAAc;AAC1E;AACA;AACA;AACA,SAAS,2DAAM;AACf;;;;;;;;;;;;;;;;;;;;;;;;AC5B8H;AACpF;AACO;AACb;AACP;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;;AAEO;AACP,cAAc,oEAAU;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,6DAAI;AACjC;;AAEA;AACA,WAAW,8DAAI;AACf;;AAEA;AACA;;AAEe;AACf,SAAS,wDAAS,gBAAgB,wDAAS,EAAE,+DAAgB,EAAE,uDAAQ,EAAE,wDAAS,EAAE,yDAAQ,EAAE,sDAAO,EAAE,uDAAQ,EAAE,yDAAU,EAAE,qDAAU,EAAE,iEAAU;AACnJ;;;;;;;;;;;;;;ACtEqC;AACgE;AAClE;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;AACA;AACA,cAAc,uDAAO;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B,wDAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,wDAAI,CAAC,uDAAG;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;AACA,qBAAqB,iEAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA,aAAa,2DAAQ;;AAErB;AACA;AACA;AACA;AACA;AACA,iDAAiD,sDAAM;AACvD,+CAA+C,sDAAM;AACrD,aAAa,uDAAG;AAChB;;AAEA;;AAEA;AACA;;AAEA;AACA,eAAe,uDAAO;;AAEtB;AACA,kBAAkB,mDAAG,GAAG,uDAAO;AAC/B,0BAA0B,uDAAG,WAAW,uDAAG;AAC3C;AACA,eAAe,uDAAO;AACtB,4BAA4B,uDAAG,WAAW,uDAAG;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uDAAO,sDAAsD,wDAAI;AACtF,eAAe,uDAAG,CAAC,uDAAG;AACtB;AACA;AACA;AACA;;AAEA;AACA,eAAe,uDAAO;AACtB,iBAAiB,wDAAI,WAAW,uDAAG;AACnC,iBAAiB,wDAAI,WAAW,uDAAG;AACnC,8BAA8B,uDAAO;AACrC;AACA,8BAA8B,uDAAO;AACrC;AACA;;AAEA,qBAAqB,uDAAG;AACxB,qBAAqB,uDAAG;AACxB,qBAAqB,uDAAG;AACxB,qBAAqB,uDAAG;;AAExB;AACA,eAAe,uDAAO;AACtB,uBAAuB,uDAAG;AAC1B,uBAAuB,uDAAG;AAC1B,uBAAuB,uDAAG;AAC1B,uBAAuB,uDAAG;AAC1B;;AAEA;AACA;AACA;AACA,iBAAiB,wCAAE;AACnB;AACA;AACA;AACA;AACA;AACA,yBAAyB,uDAAG,CAAC,wDAAI,wBAAwB,wDAAI,sBAAsB,wDAAI;AACvF,qBAAqB,wDAAI;AACzB,kBAAkB,uDAAG;AACrB,kBAAkB,uDAAG;AACrB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,uDAAO;;AAEzB;AACA,qBAAqB,uDAAO;AAC5B;AACA;;AAEA;;AAEA;AACA,qDAAqD,yDAAK,kBAAkB,yDAAK;;AAEjF;AACA;AACA,yCAAyC,yDAAK,kBAAkB,yDAAK;AACrE,gCAAgC,yDAAK,kCAAkC,yDAAK;AAC5E,yCAAyC,yDAAK,kBAAkB,yDAAK;AACrE;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,uDAAO,aAAa,uDAAO;;AAE5C;AACA,qBAAqB,uDAAO;AAC5B;AACA;;AAEA;;AAEA;AACA,qDAAqD,yDAAK,kBAAkB,yDAAK;;AAEjF;AACA;AACA,yCAAyC,yDAAK,kBAAkB,yDAAK;AACrE,gCAAgC,yDAAK,kCAAkC,yDAAK;AAC5E,yCAAyC,yDAAK,kBAAkB,yDAAK;AACrE;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,0FAA0F,wCAAE;AAC5F,YAAY,uDAAG,SAAS,uDAAG;AAC3B;;AAEA;AACA,2EAA2E,iEAAQ;AACnF;;AAEA;AACA,2EAA2E,iEAAQ;AACnF;;AAEA;AACA,4EAA4E,iEAAQ;AACpF;;AAEA;AACA,4FAA4F,iEAAQ;AACpG;;AAEA;AACA,0EAA0E,iEAAQ;AAClF;;AAEA;AACA,wEAAwE,iEAAQ;AAChF;;AAEA;AACA,wEAAwE,iEAAQ;AAChF;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AC3QO;;AAEP,6BAAe,oCAAS;AACxB;AACA;AACA,qBAAqB;AACrB;;;;;;;;;;;ACNA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;;;ACJO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,+CAA+C;AAC/C,wDAAwD;AACxD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B;AAC/B,+BAA+B,oFAAoF;AACnH,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;AClD8B;AACG;;AAEjC;AACA;AACA;;AAEA;AACA,aAAa,yDAAI;AACjB,WAAW,yDAAI;AACf;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,4BAA4B;AAC3D,+BAA+B,4BAA4B;AAC3D,+BAA+B,4BAA4B,4FAA4F;AACvJ,eAAe,0DAAK,cAAc;AAClC;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;ACnDiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B,oFAAoF,0EAA0E;AAC7L,+BAA+B;AAC/B,eAAe,0DAAK,cAAc;AAClC;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;ACtCiC;;AAEjC;AACA,oBAAoB,sDAAK;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA,4BAA4B,sDAAK;AACjC;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,OAAO,EAAC;;;;;;;;;;;;;ACvDF;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,wDAAwD;AACxD,+CAA+C;AAC/C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B,4BAA4B;AAC3D,+BAA+B;AAC/B,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,IAAI,EAAC;;;;;;;;;;;;;;AC5DwB;AACM;;AAE7B;AACP;AACA;AACA;;AAEA;AACA,aAAa,yDAAI;AACjB,WAAW,yDAAI;AACf;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,4BAA4B;AAC3D,+BAA+B,kDAAkD;AACjF,+BAA+B,4BAA4B;AAC3D,eAAe,6DAAK,cAAc;AAClC;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,IAAI,EAAC;;;;;;;;;;;;;AC5D8B;;AAE7B;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B,kGAAkG;AACjI,+BAA+B;AAC/B,eAAe,6DAAK,cAAc;AAClC;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,IAAI,EAAC;;;;;;;;;;;;;;AChD6B;AACI;;AAEhC;AACP;AACA;AACA;AACA;;AAEA,oBAAoB,uDAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,uDAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,wDAAwD;AACxD,8CAA8C;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B;AAC/B,+BAA+B;AAC/B,kCAAkC;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA,wDAAwD,4DAAQ;AAChE;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,MAAM,EAAC;;;;;;;;;;;;;;ACvF2C;AACrB;AACQ;;AAEtC;AACA;AACA;AACA;;AAEA;AACA,aAAa,yDAAI;AACjB,WAAW,yDAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,4BAA4B;AAC3D,+BAA+B,kDAAkD;AACjF,+BAA+B,4BAA4B;AAC3D,eAAe,8DAAK,cAAc;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA,8DAA8D,uEAAc;AAC5E;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,MAAM,EAAC;;;;;;;;;;;;;ACzEuC;AACT;;AAEtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B,kGAAkG;AACjI,+BAA+B;AAC/B,eAAe,8DAAK,cAAc;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA,4DAA4D,mEAAY;AACxE;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,MAAM,EAAC;;;;;;;;;;;AC7DR;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B;AAC/B,2CAA2C;AAC3C;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;AC9B8B;;AAE9B;AACA;AACA;;AAEA;AACA,aAAa,yDAAI;AACjB,WAAW,yDAAI;AACf;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;ACxBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,wDAAwD;AACxD,6DAA6D;AAC7D;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,kDAAkD;AAClD;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B;AAC/B,+BAA+B,wDAAwD;AACvF,+DAA+D;AAC/D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2BAA2B,6BAA6B;AACxD,0BAA0B,4BAA4B;AACtD,2BAA2B,6BAA6B;AACxD,kDAAkD;AAClD;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;ACvGA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,WAAW;AACzB;AACA,cAAc,OAAO;AACrB;AACA,kBAAkB,QAAQ;AAC1B;AACA,cAAc,WAAW;AACzB;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;AChEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;ACpD+B;AACM;AACO;AACT;AACiB;;AAEpD,6BAAe,oCAAS;AACxB,gBAAgB,iEAAQ;AACxB;AACA,cAAc,iEAAW;AACzB;AACA,aAAa,2DAAQ;;AAErB,wDAAwD,wCAAM,GAAG,iEAAQ;AACzE,wDAAwD,wCAAM,GAAG,iEAAQ;;AAEzE;AACA;AACA,oBAAoB,8DAAK;AACzB;AACA;AACA;;AAEA;;AAEA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iEAAiE,iEAAQ;AACzE;;AAEA;AACA,iEAAiE,iEAAQ;AACzE;;AAEA;AACA,uEAAuE,iEAAQ;AAC/E;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACzDO;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;ACnBA,6BAAe,sCAAW;;;;;;;;;;;;ACAG;;AAEtB;AACP;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,6DAA6D,EAAE;AAC/D;AACA;AACA;AACA;;AAEA,mBAAmB,mDAAI;AACvB;;;;;;;;;;;;AClBO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;ACNuC;;AAEvC;AACO;AACA;AACA;AACA;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAEc;AACf,WAAW,+DAAY;AACvB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACfiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,wDAAS,cAAc,4DAAS;AACxE,iBAAiB,qDAAM;AACvB;AACA;AACA;AACA,UAAU;AACV;AACA,wCAAwC,yDAAU,cAAc,6DAAU;AAC1E,iBAAiB,sDAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA,YAAY,4BAA4B;AACxC;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,sDAAO,OAAO,2DAAQ;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,yDAAU,OAAO,2DAAQ;AACtC;;AAEA;AACA;AACA,mCAAmC,+DAAY,MAAM,2DAAY;AACjE;;AAEA;AACA;AACA,aAAa,2DAAY,OAAO,2DAAQ,WAAW,2DAAQ;AAC3D;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,yDAAU,OAAO,2DAAQ;AACtC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,+DAAY,MAAM,2DAAY;AAC9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,qDAAM,OAAO,0DAAO;AACrC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,wDAAS,OAAO,0DAAO;AACpC;;AAEA;AACA;AACA,mCAAmC,8DAAW,MAAM,0DAAW;AAC/D;;AAEA;AACA;AACA,aAAa,0DAAW,OAAO,0DAAO,WAAW,0DAAO;AACxD;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,wDAAS,OAAO,0DAAO;AACpC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,8DAAW,MAAM,0DAAW;AAC5D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACxrB2C;AACe;;AAEnD,gBAAgB,mEAAY;AACnC;AACA;AACA,yFAAyF,kEAAc,IAAI,+DAAW;AACtH;AACA;;AAEO;;AAEA,eAAe,mEAAY;AAClC;AACA,CAAC;AACD;AACA,CAAC;AACD,yBAAyB,+DAAW;AACpC,CAAC;AACD;AACA,CAAC;;AAEM;;AAEA,gBAAgB,mEAAY;AACnC;AACA,CAAC;AACD;AACA,CAAC;AACD,yBAAyB,+DAAW;AACpC,CAAC;AACD,2BAA2B,+DAAW;AACtC,CAAC;;AAEM;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACNoC;AACgC;;AAEpE,iBAAiB,mEAAY;AACpC,mEAAmE,kEAAc,uBAAuB,kEAAc;AACtH,CAAC;AACD,8BAA8B,gEAAY;AAC1C,CAAC;AACD,yBAAyB,gEAAY;AACrC,CAAC;AACD;AACA,CAAC;;AAEM;;AAEA,gBAAgB,mEAAY;AACnC;AACA,CAAC;AACD,8BAA8B,gEAAY;AAC1C,CAAC;AACD,yBAAyB,gEAAY;AACrC,CAAC;AACD;AACA,CAAC;;AAEM;;;;;;;;;;;ACzBP;;AAEO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,oDAAoD;AACpD,UAAU;AACV,oDAAoD;AACpD;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACpE2C;;AAEpC,oBAAoB,mEAAY;AACvC;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,SAAS,mEAAY;AACrB;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEO;;;;;;;;;;;;;;;ACxBoC;AACkB;;AAEtD,mBAAmB,mEAAY;AACtC,mEAAmE,kEAAc;AACjF,CAAC;AACD,8BAA8B,kEAAc;AAC5C,CAAC;AACD,yBAAyB,kEAAc;AACvC,CAAC;AACD;AACA,CAAC;;AAEM;;AAEA,kBAAkB,mEAAY;AACrC;AACA,CAAC;AACD,8BAA8B,kEAAc;AAC5C,CAAC;AACD,yBAAyB,kEAAc;AACvC,CAAC;AACD;AACA,CAAC;;AAEM;;;;;;;;;;;;;;ACzBoC;;AAEpC,kBAAkB,mEAAY;AACrC;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;;AAEM;;AAEA,iBAAiB,mEAAY;AACpC;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;;AAEM;;;;;;;;;;;;;;AC1BoC;AACE;;AAEtC,eAAe,mEAAY;AAClC;AACA,CAAC;AACD,8BAA8B,kEAAc;AAC5C,CAAC;AACD,yBAAyB,kEAAc;AACvC,CAAC;AACD;AACA,CAAC;;AAEM;;;;;;;;;;;;;;;;;;;;;;;;;ACbqC;AACuF;AACtF;AACV;AACe;AACN;AACF;AACM;AACD;AACH;;AAE5C;;AAEA;AACA,KAAK,uDAAM,WAAW,kEAAc;AACpC,KAAK,uDAAM,WAAW,kEAAc;AACpC,KAAK,uDAAM,WAAW,kEAAc;AACpC,KAAK,uDAAM,WAAW,kEAAc;AACpC,sBAAsB,kEAAc;AACpC,sBAAsB,kEAAc;AACpC,sBAAsB,kEAAc;AACpC,sBAAsB,kEAAc;AACpC,sBAAsB,gEAAY;AAClC,sBAAsB,gEAAY;AAClC,sBAAsB,gEAAY;AAClC,sBAAsB,gEAAY;AAClC,sBAAsB,+DAAW;AACjC,sBAAsB,+DAAW;AACjC,sBAAsB,gEAAY;AAClC,sBAAsB,iEAAa;AACnC,sBAAsB,iEAAa;AACnC,sBAAsB,gEAAY;AAClC;;AAEA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;;AAEA;AACA;AACA,cAAc,6DAAQ;AACtB,sDAAsD,4DAAQ,SAAS,gEAAY,SAAS,gEAAY;AACxG,wBAAwB,iEAAW,gBAAgB,4DAAQ;AAC3D;AACA;AACA;;AAEA;AACA;;AAEA,2CAA2C,uDAAO,EAAE,yDAAQ,EAAE,yDAAS,EAAE,sDAAO,EAAE,uDAAO,EAAE,4DAAS;AACpG,6CAA6C,wDAAQ,EAAE,0DAAS,EAAE,0DAAU,EAAE,sDAAO,EAAE,wDAAQ,EAAE,6DAAU;;AAE3C;;;;;;;;;;;;;;;;;;;;;;;ACzDrB;AACgB;;AAE3D;AACA,SAAS,mEAAY;AACrB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,kFAAkF,kEAAc,IAAI,gEAAY;AAChH,GAAG;AACH;;AAEO;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEP;AACA,SAAS,mEAAY;AACrB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,2BAA2B,gEAAY;AACvC,GAAG;AACH;;AAEO;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvDoC;;AAEpC,iBAAiB,mEAAY;AACpC;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA,2DAA2D,mEAAY;AACvE;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEO;;AAEA,gBAAgB,mEAAY;AACnC;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;;AAED;AACA;AACA,2DAA2D,mEAAY;AACvE;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEO;;;;;;;;;;;;;;AChDP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sIAAsI;;AAE/H;AACP;AACA;;AAEA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP,SAAS;AACT,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;;;;;;;;;;;AC7GO;AACP;AACA;AACA,mCAAmC,UAAU,iBAAiB,SAAS,YAAY;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,mCAAmC,UAAU,iBAAiB,SAAS,YAAY;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA&quot;</span><span class="s0">,</span><span class="s1">&quot;sources&quot;</span><span class="s0">:[</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-array/src/ascending.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-array/src/bisect.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-array/src/descending.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-array/src/bisector.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-array/src/max.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-array/src/min.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-array/src/number.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-array/src/range.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-array/src/ticks.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-color/src/color.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-color/src/define.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-color/src/lab.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-color/src/math.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-dispatch/src/dispatch.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/defaultLocale.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/exponent.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/formatDecimal.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/formatSpecifier.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/formatGroup.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/formatNumerals.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/formatTrim.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/formatPrefixAuto.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/formatRounded.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/formatTypes.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/identity.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/locale.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/precisionFixed.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/precisionPrefix.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-format/src/precisionRound.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/array.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/basis.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/basisClosed.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/color.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/constant.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/date.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/discrete.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/hue.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/zoom.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/hsl.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/lab.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/hcl.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-color/src/cubehelix.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/cubehelix.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/quantize.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/number.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/numberArray.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/object.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/piecewise.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/rgb.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/round.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/string.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/transform/decompose.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/transform/parse.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/transform/index.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-interpolate/src/value.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-path/src/path.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale-chromatic/src/colors.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/constant.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/continuous.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/init.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/linear.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/nice.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/number.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/ordinal.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/tickFormat.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-scale/src/time.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/arc.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/array.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/constant.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/basis.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/basisClosed.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/basisOpen.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/bundle.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/cardinal.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/cardinalClosed.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/cardinalOpen.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/catmullRom.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/catmullRomClosed.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/catmullRomOpen.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/linear.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/linearClosed.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/monotone.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/natural.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/curve/step.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/line.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/math.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/noop.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/path.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-shape/src/point.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time-format/src/defaultLocale.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time-format/src/locale.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/day.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/duration.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/hour.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/interval.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/millisecond.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/minute.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/month.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/second.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/ticks.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/week.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-time/src/year.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/d3-timer/src/timer.js&quot;</span><span class="s0">,</span><span class="s1">&quot;webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/internmap/src/index.js&quot;</span><span class="s0">],</span><span class="s1">&quot;sourcesContent&quot;</span><span class="s0">:[</span><span class="s1">&quot;export default function ascending(a, b) {</span><span class="s3">\n  </span><span class="s1">return a == null || b == null ? NaN : a &lt; b ? -1 : a &gt; b ? 1 : a &gt;= b ? 0 : NaN;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import ascending from </span><span class="s3">\&quot;</span><span class="s1">./ascending.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import bisector from </span><span class="s3">\&quot;</span><span class="s1">./bisector.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import number from </span><span class="s3">\&quot;</span><span class="s1">./number.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">const ascendingBisect = bisector(ascending);</span><span class="s3">\n</span><span class="s1">export const bisectRight = ascendingBisect.right;</span><span class="s3">\n</span><span class="s1">export const bisectLeft = ascendingBisect.left;</span><span class="s3">\n</span><span class="s1">export const bisectCenter = bisector(number).center;</span><span class="s3">\n</span><span class="s1">export default bisectRight;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function descending(a, b) {</span><span class="s3">\n  </span><span class="s1">return a == null || b == null ? NaN</span><span class="s3">\n    </span><span class="s1">: b &lt; a ? -1</span><span class="s3">\n    </span><span class="s1">: b &gt; a ? 1</span><span class="s3">\n    </span><span class="s1">: b &gt;= a ? 0</span><span class="s3">\n    </span><span class="s1">: NaN;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import ascending from </span><span class="s3">\&quot;</span><span class="s1">./ascending.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import descending from </span><span class="s3">\&quot;</span><span class="s1">./descending.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function bisector(f) {</span><span class="s3">\n  </span><span class="s1">let compare1, compare2, delta;</span><span class="s3">\n\n  </span><span class="s1">// If an accessor is specified, promote it to a comparator. In this case we</span><span class="s3">\n  </span><span class="s1">// can test whether the search value is (self-) comparable. We can’t do this</span><span class="s3">\n  </span><span class="s1">// for a comparator (except for specific, known comparators) because we can’t</span><span class="s3">\n  </span><span class="s1">// tell if the comparator is symmetric, and an asymmetric comparator can’t be</span><span class="s3">\n  </span><span class="s1">// used to test whether a single value is comparable.</span><span class="s3">\n  </span><span class="s1">if (f.length !== 2) {</span><span class="s3">\n    </span><span class="s1">compare1 = ascending;</span><span class="s3">\n    </span><span class="s1">compare2 = (d, x) =&gt; ascending(f(d), x);</span><span class="s3">\n    </span><span class="s1">delta = (d, x) =&gt; f(d) - x;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">compare1 = f === ascending || f === descending ? f : zero;</span><span class="s3">\n    </span><span class="s1">compare2 = f;</span><span class="s3">\n    </span><span class="s1">delta = f;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function left(a, x, lo = 0, hi = a.length) {</span><span class="s3">\n    </span><span class="s1">if (lo &lt; hi) {</span><span class="s3">\n      </span><span class="s1">if (compare1(x, x) !== 0) return hi;</span><span class="s3">\n      </span><span class="s1">do {</span><span class="s3">\n        </span><span class="s1">const mid = (lo + hi) &gt;&gt;&gt; 1;</span><span class="s3">\n        </span><span class="s1">if (compare2(a[mid], x) &lt; 0) lo = mid + 1;</span><span class="s3">\n        </span><span class="s1">else hi = mid;</span><span class="s3">\n      </span><span class="s1">} while (lo &lt; hi);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return lo;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function right(a, x, lo = 0, hi = a.length) {</span><span class="s3">\n    </span><span class="s1">if (lo &lt; hi) {</span><span class="s3">\n      </span><span class="s1">if (compare1(x, x) !== 0) return hi;</span><span class="s3">\n      </span><span class="s1">do {</span><span class="s3">\n        </span><span class="s1">const mid = (lo + hi) &gt;&gt;&gt; 1;</span><span class="s3">\n        </span><span class="s1">if (compare2(a[mid], x) &lt;= 0) lo = mid + 1;</span><span class="s3">\n        </span><span class="s1">else hi = mid;</span><span class="s3">\n      </span><span class="s1">} while (lo &lt; hi);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return lo;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function center(a, x, lo = 0, hi = a.length) {</span><span class="s3">\n    </span><span class="s1">const i = left(a, x, lo, hi - 1);</span><span class="s3">\n    </span><span class="s1">return i &gt; lo &amp;&amp; delta(a[i - 1], x) &gt; -delta(a[i], x) ? i - 1 : i;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {left, center, right};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function zero() {</span><span class="s3">\n  </span><span class="s1">return 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function max(values, valueof) {</span><span class="s3">\n  </span><span class="s1">let max;</span><span class="s3">\n  </span><span class="s1">if (valueof === undefined) {</span><span class="s3">\n    </span><span class="s1">for (const value of values) {</span><span class="s3">\n      </span><span class="s1">if (value != null</span><span class="s3">\n          </span><span class="s1">&amp;&amp; (max &lt; value || (max === undefined &amp;&amp; value &gt;= value))) {</span><span class="s3">\n        </span><span class="s1">max = value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">let index = -1;</span><span class="s3">\n    </span><span class="s1">for (let value of values) {</span><span class="s3">\n      </span><span class="s1">if ((value = valueof(value, ++index, values)) != null</span><span class="s3">\n          </span><span class="s1">&amp;&amp; (max &lt; value || (max === undefined &amp;&amp; value &gt;= value))) {</span><span class="s3">\n        </span><span class="s1">max = value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return max;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function min(values, valueof) {</span><span class="s3">\n  </span><span class="s1">let min;</span><span class="s3">\n  </span><span class="s1">if (valueof === undefined) {</span><span class="s3">\n    </span><span class="s1">for (const value of values) {</span><span class="s3">\n      </span><span class="s1">if (value != null</span><span class="s3">\n          </span><span class="s1">&amp;&amp; (min &gt; value || (min === undefined &amp;&amp; value &gt;= value))) {</span><span class="s3">\n        </span><span class="s1">min = value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">let index = -1;</span><span class="s3">\n    </span><span class="s1">for (let value of values) {</span><span class="s3">\n      </span><span class="s1">if ((value = valueof(value, ++index, values)) != null</span><span class="s3">\n          </span><span class="s1">&amp;&amp; (min &gt; value || (min === undefined &amp;&amp; value &gt;= value))) {</span><span class="s3">\n        </span><span class="s1">min = value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return min;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function number(x) {</span><span class="s3">\n  </span><span class="s1">return x === null ? NaN : +x;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function* numbers(values, valueof) {</span><span class="s3">\n  </span><span class="s1">if (valueof === undefined) {</span><span class="s3">\n    </span><span class="s1">for (let value of values) {</span><span class="s3">\n      </span><span class="s1">if (value != null &amp;&amp; (value = +value) &gt;= value) {</span><span class="s3">\n        </span><span class="s1">yield value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">let index = -1;</span><span class="s3">\n    </span><span class="s1">for (let value of values) {</span><span class="s3">\n      </span><span class="s1">if ((value = valueof(value, ++index, values)) != null &amp;&amp; (value = +value) &gt;= value) {</span><span class="s3">\n        </span><span class="s1">yield value;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function range(start, stop, step) {</span><span class="s3">\n  </span><span class="s1">start = +start, stop = +stop, step = (n = arguments.length) &lt; 2 ? (stop = start, start = 0, 1) : n &lt; 3 ? 1 : +step;</span><span class="s3">\n\n  </span><span class="s1">var i = -1,</span><span class="s3">\n      </span><span class="s1">n = Math.max(0, Math.ceil((stop - start) / step)) | 0,</span><span class="s3">\n      </span><span class="s1">range = new Array(n);</span><span class="s3">\n\n  </span><span class="s1">while (++i &lt; n) {</span><span class="s3">\n    </span><span class="s1">range[i] = start + i * step;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return range;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;const e10 = Math.sqrt(50),</span><span class="s3">\n    </span><span class="s1">e5 = Math.sqrt(10),</span><span class="s3">\n    </span><span class="s1">e2 = Math.sqrt(2);</span><span class="s3">\n\n</span><span class="s1">function tickSpec(start, stop, count) {</span><span class="s3">\n  </span><span class="s1">const step = (stop - start) / Math.max(0, count),</span><span class="s3">\n      </span><span class="s1">power = Math.floor(Math.log10(step)),</span><span class="s3">\n      </span><span class="s1">error = step / Math.pow(10, power),</span><span class="s3">\n      </span><span class="s1">factor = error &gt;= e10 ? 10 : error &gt;= e5 ? 5 : error &gt;= e2 ? 2 : 1;</span><span class="s3">\n  </span><span class="s1">let i1, i2, inc;</span><span class="s3">\n  </span><span class="s1">if (power &lt; 0) {</span><span class="s3">\n    </span><span class="s1">inc = Math.pow(10, -power) / factor;</span><span class="s3">\n    </span><span class="s1">i1 = Math.round(start * inc);</span><span class="s3">\n    </span><span class="s1">i2 = Math.round(stop * inc);</span><span class="s3">\n    </span><span class="s1">if (i1 / inc &lt; start) ++i1;</span><span class="s3">\n    </span><span class="s1">if (i2 / inc &gt; stop) --i2;</span><span class="s3">\n    </span><span class="s1">inc = -inc;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">inc = Math.pow(10, power) * factor;</span><span class="s3">\n    </span><span class="s1">i1 = Math.round(start / inc);</span><span class="s3">\n    </span><span class="s1">i2 = Math.round(stop / inc);</span><span class="s3">\n    </span><span class="s1">if (i1 * inc &lt; start) ++i1;</span><span class="s3">\n    </span><span class="s1">if (i2 * inc &gt; stop) --i2;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (i2 &lt; i1 &amp;&amp; 0.5 &lt;= count &amp;&amp; count &lt; 2) return tickSpec(start, stop, count * 2);</span><span class="s3">\n  </span><span class="s1">return [i1, i2, inc];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function ticks(start, stop, count) {</span><span class="s3">\n  </span><span class="s1">stop = +stop, start = +start, count = +count;</span><span class="s3">\n  </span><span class="s1">if (!(count &gt; 0)) return [];</span><span class="s3">\n  </span><span class="s1">if (start === stop) return [start];</span><span class="s3">\n  </span><span class="s1">const reverse = stop &lt; start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);</span><span class="s3">\n  </span><span class="s1">if (!(i2 &gt;= i1)) return [];</span><span class="s3">\n  </span><span class="s1">const n = i2 - i1 + 1, ticks = new Array(n);</span><span class="s3">\n  </span><span class="s1">if (reverse) {</span><span class="s3">\n    </span><span class="s1">if (inc &lt; 0) for (let i = 0; i &lt; n; ++i) ticks[i] = (i2 - i) / -inc;</span><span class="s3">\n    </span><span class="s1">else for (let i = 0; i &lt; n; ++i) ticks[i] = (i2 - i) * inc;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (inc &lt; 0) for (let i = 0; i &lt; n; ++i) ticks[i] = (i1 + i) / -inc;</span><span class="s3">\n    </span><span class="s1">else for (let i = 0; i &lt; n; ++i) ticks[i] = (i1 + i) * inc;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return ticks;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function tickIncrement(start, stop, count) {</span><span class="s3">\n  </span><span class="s1">stop = +stop, start = +start, count = +count;</span><span class="s3">\n  </span><span class="s1">return tickSpec(start, stop, count)[2];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function tickStep(start, stop, count) {</span><span class="s3">\n  </span><span class="s1">stop = +stop, start = +start, count = +count;</span><span class="s3">\n  </span><span class="s1">const reverse = stop &lt; start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);</span><span class="s3">\n  </span><span class="s1">return (reverse ? -1 : 1) * (inc &lt; 0 ? 1 / -inc : inc);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import define, {extend} from </span><span class="s3">\&quot;</span><span class="s1">./define.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export function Color() {}</span><span class="s3">\n\n</span><span class="s1">export var darker = 0.7;</span><span class="s3">\n</span><span class="s1">export var brighter = 1 / darker;</span><span class="s3">\n\n</span><span class="s1">var reI = </span><span class="s3">\&quot;\\\\</span><span class="s1">s*([+-]?</span><span class="s3">\\\\</span><span class="s1">d+)</span><span class="s3">\\\\</span><span class="s1">s*</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">reN = </span><span class="s3">\&quot;\\\\</span><span class="s1">s*([+-]?(?:</span><span class="s3">\\\\</span><span class="s1">d*</span><span class="s3">\\\\</span><span class="s1">.)?</span><span class="s3">\\\\</span><span class="s1">d+(?:[eE][+-]?</span><span class="s3">\\\\</span><span class="s1">d+)?)</span><span class="s3">\\\\</span><span class="s1">s*</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">reP = </span><span class="s3">\&quot;\\\\</span><span class="s1">s*([+-]?(?:</span><span class="s3">\\\\</span><span class="s1">d*</span><span class="s3">\\\\</span><span class="s1">.)?</span><span class="s3">\\\\</span><span class="s1">d+(?:[eE][+-]?</span><span class="s3">\\\\</span><span class="s1">d+)?)%</span><span class="s3">\\\\</span><span class="s1">s*</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n    </span><span class="s1">reHex = /^#([0-9a-f]{3,8})$/,</span><span class="s3">\n    </span><span class="s1">reRgbInteger = new RegExp(`^rgb</span><span class="s3">\\\\</span><span class="s1">(${reI},${reI},${reI}</span><span class="s3">\\\\</span><span class="s1">)$`),</span><span class="s3">\n    </span><span class="s1">reRgbPercent = new RegExp(`^rgb</span><span class="s3">\\\\</span><span class="s1">(${reP},${reP},${reP}</span><span class="s3">\\\\</span><span class="s1">)$`),</span><span class="s3">\n    </span><span class="s1">reRgbaInteger = new RegExp(`^rgba</span><span class="s3">\\\\</span><span class="s1">(${reI},${reI},${reI},${reN}</span><span class="s3">\\\\</span><span class="s1">)$`),</span><span class="s3">\n    </span><span class="s1">reRgbaPercent = new RegExp(`^rgba</span><span class="s3">\\\\</span><span class="s1">(${reP},${reP},${reP},${reN}</span><span class="s3">\\\\</span><span class="s1">)$`),</span><span class="s3">\n    </span><span class="s1">reHslPercent = new RegExp(`^hsl</span><span class="s3">\\\\</span><span class="s1">(${reN},${reP},${reP}</span><span class="s3">\\\\</span><span class="s1">)$`),</span><span class="s3">\n    </span><span class="s1">reHslaPercent = new RegExp(`^hsla</span><span class="s3">\\\\</span><span class="s1">(${reN},${reP},${reP},${reN}</span><span class="s3">\\\\</span><span class="s1">)$`);</span><span class="s3">\n\n</span><span class="s1">var named = {</span><span class="s3">\n  </span><span class="s1">aliceblue: 0xf0f8ff,</span><span class="s3">\n  </span><span class="s1">antiquewhite: 0xfaebd7,</span><span class="s3">\n  </span><span class="s1">aqua: 0x00ffff,</span><span class="s3">\n  </span><span class="s1">aquamarine: 0x7fffd4,</span><span class="s3">\n  </span><span class="s1">azure: 0xf0ffff,</span><span class="s3">\n  </span><span class="s1">beige: 0xf5f5dc,</span><span class="s3">\n  </span><span class="s1">bisque: 0xffe4c4,</span><span class="s3">\n  </span><span class="s1">black: 0x000000,</span><span class="s3">\n  </span><span class="s1">blanchedalmond: 0xffebcd,</span><span class="s3">\n  </span><span class="s1">blue: 0x0000ff,</span><span class="s3">\n  </span><span class="s1">blueviolet: 0x8a2be2,</span><span class="s3">\n  </span><span class="s1">brown: 0xa52a2a,</span><span class="s3">\n  </span><span class="s1">burlywood: 0xdeb887,</span><span class="s3">\n  </span><span class="s1">cadetblue: 0x5f9ea0,</span><span class="s3">\n  </span><span class="s1">chartreuse: 0x7fff00,</span><span class="s3">\n  </span><span class="s1">chocolate: 0xd2691e,</span><span class="s3">\n  </span><span class="s1">coral: 0xff7f50,</span><span class="s3">\n  </span><span class="s1">cornflowerblue: 0x6495ed,</span><span class="s3">\n  </span><span class="s1">cornsilk: 0xfff8dc,</span><span class="s3">\n  </span><span class="s1">crimson: 0xdc143c,</span><span class="s3">\n  </span><span class="s1">cyan: 0x00ffff,</span><span class="s3">\n  </span><span class="s1">darkblue: 0x00008b,</span><span class="s3">\n  </span><span class="s1">darkcyan: 0x008b8b,</span><span class="s3">\n  </span><span class="s1">darkgoldenrod: 0xb8860b,</span><span class="s3">\n  </span><span class="s1">darkgray: 0xa9a9a9,</span><span class="s3">\n  </span><span class="s1">darkgreen: 0x006400,</span><span class="s3">\n  </span><span class="s1">darkgrey: 0xa9a9a9,</span><span class="s3">\n  </span><span class="s1">darkkhaki: 0xbdb76b,</span><span class="s3">\n  </span><span class="s1">darkmagenta: 0x8b008b,</span><span class="s3">\n  </span><span class="s1">darkolivegreen: 0x556b2f,</span><span class="s3">\n  </span><span class="s1">darkorange: 0xff8c00,</span><span class="s3">\n  </span><span class="s1">darkorchid: 0x9932cc,</span><span class="s3">\n  </span><span class="s1">darkred: 0x8b0000,</span><span class="s3">\n  </span><span class="s1">darksalmon: 0xe9967a,</span><span class="s3">\n  </span><span class="s1">darkseagreen: 0x8fbc8f,</span><span class="s3">\n  </span><span class="s1">darkslateblue: 0x483d8b,</span><span class="s3">\n  </span><span class="s1">darkslategray: 0x2f4f4f,</span><span class="s3">\n  </span><span class="s1">darkslategrey: 0x2f4f4f,</span><span class="s3">\n  </span><span class="s1">darkturquoise: 0x00ced1,</span><span class="s3">\n  </span><span class="s1">darkviolet: 0x9400d3,</span><span class="s3">\n  </span><span class="s1">deeppink: 0xff1493,</span><span class="s3">\n  </span><span class="s1">deepskyblue: 0x00bfff,</span><span class="s3">\n  </span><span class="s1">dimgray: 0x696969,</span><span class="s3">\n  </span><span class="s1">dimgrey: 0x696969,</span><span class="s3">\n  </span><span class="s1">dodgerblue: 0x1e90ff,</span><span class="s3">\n  </span><span class="s1">firebrick: 0xb22222,</span><span class="s3">\n  </span><span class="s1">floralwhite: 0xfffaf0,</span><span class="s3">\n  </span><span class="s1">forestgreen: 0x228b22,</span><span class="s3">\n  </span><span class="s1">fuchsia: 0xff00ff,</span><span class="s3">\n  </span><span class="s1">gainsboro: 0xdcdcdc,</span><span class="s3">\n  </span><span class="s1">ghostwhite: 0xf8f8ff,</span><span class="s3">\n  </span><span class="s1">gold: 0xffd700,</span><span class="s3">\n  </span><span class="s1">goldenrod: 0xdaa520,</span><span class="s3">\n  </span><span class="s1">gray: 0x808080,</span><span class="s3">\n  </span><span class="s1">green: 0x008000,</span><span class="s3">\n  </span><span class="s1">greenyellow: 0xadff2f,</span><span class="s3">\n  </span><span class="s1">grey: 0x808080,</span><span class="s3">\n  </span><span class="s1">honeydew: 0xf0fff0,</span><span class="s3">\n  </span><span class="s1">hotpink: 0xff69b4,</span><span class="s3">\n  </span><span class="s1">indianred: 0xcd5c5c,</span><span class="s3">\n  </span><span class="s1">indigo: 0x4b0082,</span><span class="s3">\n  </span><span class="s1">ivory: 0xfffff0,</span><span class="s3">\n  </span><span class="s1">khaki: 0xf0e68c,</span><span class="s3">\n  </span><span class="s1">lavender: 0xe6e6fa,</span><span class="s3">\n  </span><span class="s1">lavenderblush: 0xfff0f5,</span><span class="s3">\n  </span><span class="s1">lawngreen: 0x7cfc00,</span><span class="s3">\n  </span><span class="s1">lemonchiffon: 0xfffacd,</span><span class="s3">\n  </span><span class="s1">lightblue: 0xadd8e6,</span><span class="s3">\n  </span><span class="s1">lightcoral: 0xf08080,</span><span class="s3">\n  </span><span class="s1">lightcyan: 0xe0ffff,</span><span class="s3">\n  </span><span class="s1">lightgoldenrodyellow: 0xfafad2,</span><span class="s3">\n  </span><span class="s1">lightgray: 0xd3d3d3,</span><span class="s3">\n  </span><span class="s1">lightgreen: 0x90ee90,</span><span class="s3">\n  </span><span class="s1">lightgrey: 0xd3d3d3,</span><span class="s3">\n  </span><span class="s1">lightpink: 0xffb6c1,</span><span class="s3">\n  </span><span class="s1">lightsalmon: 0xffa07a,</span><span class="s3">\n  </span><span class="s1">lightseagreen: 0x20b2aa,</span><span class="s3">\n  </span><span class="s1">lightskyblue: 0x87cefa,</span><span class="s3">\n  </span><span class="s1">lightslategray: 0x778899,</span><span class="s3">\n  </span><span class="s1">lightslategrey: 0x778899,</span><span class="s3">\n  </span><span class="s1">lightsteelblue: 0xb0c4de,</span><span class="s3">\n  </span><span class="s1">lightyellow: 0xffffe0,</span><span class="s3">\n  </span><span class="s1">lime: 0x00ff00,</span><span class="s3">\n  </span><span class="s1">limegreen: 0x32cd32,</span><span class="s3">\n  </span><span class="s1">linen: 0xfaf0e6,</span><span class="s3">\n  </span><span class="s1">magenta: 0xff00ff,</span><span class="s3">\n  </span><span class="s1">maroon: 0x800000,</span><span class="s3">\n  </span><span class="s1">mediumaquamarine: 0x66cdaa,</span><span class="s3">\n  </span><span class="s1">mediumblue: 0x0000cd,</span><span class="s3">\n  </span><span class="s1">mediumorchid: 0xba55d3,</span><span class="s3">\n  </span><span class="s1">mediumpurple: 0x9370db,</span><span class="s3">\n  </span><span class="s1">mediumseagreen: 0x3cb371,</span><span class="s3">\n  </span><span class="s1">mediumslateblue: 0x7b68ee,</span><span class="s3">\n  </span><span class="s1">mediumspringgreen: 0x00fa9a,</span><span class="s3">\n  </span><span class="s1">mediumturquoise: 0x48d1cc,</span><span class="s3">\n  </span><span class="s1">mediumvioletred: 0xc71585,</span><span class="s3">\n  </span><span class="s1">midnightblue: 0x191970,</span><span class="s3">\n  </span><span class="s1">mintcream: 0xf5fffa,</span><span class="s3">\n  </span><span class="s1">mistyrose: 0xffe4e1,</span><span class="s3">\n  </span><span class="s1">moccasin: 0xffe4b5,</span><span class="s3">\n  </span><span class="s1">navajowhite: 0xffdead,</span><span class="s3">\n  </span><span class="s1">navy: 0x000080,</span><span class="s3">\n  </span><span class="s1">oldlace: 0xfdf5e6,</span><span class="s3">\n  </span><span class="s1">olive: 0x808000,</span><span class="s3">\n  </span><span class="s1">olivedrab: 0x6b8e23,</span><span class="s3">\n  </span><span class="s1">orange: 0xffa500,</span><span class="s3">\n  </span><span class="s1">orangered: 0xff4500,</span><span class="s3">\n  </span><span class="s1">orchid: 0xda70d6,</span><span class="s3">\n  </span><span class="s1">palegoldenrod: 0xeee8aa,</span><span class="s3">\n  </span><span class="s1">palegreen: 0x98fb98,</span><span class="s3">\n  </span><span class="s1">paleturquoise: 0xafeeee,</span><span class="s3">\n  </span><span class="s1">palevioletred: 0xdb7093,</span><span class="s3">\n  </span><span class="s1">papayawhip: 0xffefd5,</span><span class="s3">\n  </span><span class="s1">peachpuff: 0xffdab9,</span><span class="s3">\n  </span><span class="s1">peru: 0xcd853f,</span><span class="s3">\n  </span><span class="s1">pink: 0xffc0cb,</span><span class="s3">\n  </span><span class="s1">plum: 0xdda0dd,</span><span class="s3">\n  </span><span class="s1">powderblue: 0xb0e0e6,</span><span class="s3">\n  </span><span class="s1">purple: 0x800080,</span><span class="s3">\n  </span><span class="s1">rebeccapurple: 0x663399,</span><span class="s3">\n  </span><span class="s1">red: 0xff0000,</span><span class="s3">\n  </span><span class="s1">rosybrown: 0xbc8f8f,</span><span class="s3">\n  </span><span class="s1">royalblue: 0x4169e1,</span><span class="s3">\n  </span><span class="s1">saddlebrown: 0x8b4513,</span><span class="s3">\n  </span><span class="s1">salmon: 0xfa8072,</span><span class="s3">\n  </span><span class="s1">sandybrown: 0xf4a460,</span><span class="s3">\n  </span><span class="s1">seagreen: 0x2e8b57,</span><span class="s3">\n  </span><span class="s1">seashell: 0xfff5ee,</span><span class="s3">\n  </span><span class="s1">sienna: 0xa0522d,</span><span class="s3">\n  </span><span class="s1">silver: 0xc0c0c0,</span><span class="s3">\n  </span><span class="s1">skyblue: 0x87ceeb,</span><span class="s3">\n  </span><span class="s1">slateblue: 0x6a5acd,</span><span class="s3">\n  </span><span class="s1">slategray: 0x708090,</span><span class="s3">\n  </span><span class="s1">slategrey: 0x708090,</span><span class="s3">\n  </span><span class="s1">snow: 0xfffafa,</span><span class="s3">\n  </span><span class="s1">springgreen: 0x00ff7f,</span><span class="s3">\n  </span><span class="s1">steelblue: 0x4682b4,</span><span class="s3">\n  </span><span class="s1">tan: 0xd2b48c,</span><span class="s3">\n  </span><span class="s1">teal: 0x008080,</span><span class="s3">\n  </span><span class="s1">thistle: 0xd8bfd8,</span><span class="s3">\n  </span><span class="s1">tomato: 0xff6347,</span><span class="s3">\n  </span><span class="s1">turquoise: 0x40e0d0,</span><span class="s3">\n  </span><span class="s1">violet: 0xee82ee,</span><span class="s3">\n  </span><span class="s1">wheat: 0xf5deb3,</span><span class="s3">\n  </span><span class="s1">white: 0xffffff,</span><span class="s3">\n  </span><span class="s1">whitesmoke: 0xf5f5f5,</span><span class="s3">\n  </span><span class="s1">yellow: 0xffff00,</span><span class="s3">\n  </span><span class="s1">yellowgreen: 0x9acd32</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">define(Color, color, {</span><span class="s3">\n  </span><span class="s1">copy(channels) {</span><span class="s3">\n    </span><span class="s1">return Object.assign(new this.constructor, this, channels);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">displayable() {</span><span class="s3">\n    </span><span class="s1">return this.rgb().displayable();</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">hex: color_formatHex, // Deprecated! Use color.formatHex.</span><span class="s3">\n  </span><span class="s1">formatHex: color_formatHex,</span><span class="s3">\n  </span><span class="s1">formatHex8: color_formatHex8,</span><span class="s3">\n  </span><span class="s1">formatHsl: color_formatHsl,</span><span class="s3">\n  </span><span class="s1">formatRgb: color_formatRgb,</span><span class="s3">\n  </span><span class="s1">toString: color_formatRgb</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">function color_formatHex() {</span><span class="s3">\n  </span><span class="s1">return this.rgb().formatHex();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function color_formatHex8() {</span><span class="s3">\n  </span><span class="s1">return this.rgb().formatHex8();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function color_formatHsl() {</span><span class="s3">\n  </span><span class="s1">return hslConvert(this).formatHsl();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function color_formatRgb() {</span><span class="s3">\n  </span><span class="s1">return this.rgb().formatRgb();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function color(format) {</span><span class="s3">\n  </span><span class="s1">var m, l;</span><span class="s3">\n  </span><span class="s1">format = (format + </span><span class="s3">\&quot;\&quot;</span><span class="s1">).trim().toLowerCase();</span><span class="s3">\n  </span><span class="s1">return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000</span><span class="s3">\n      </span><span class="s1">: l === 3 ? new Rgb((m &gt;&gt; 8 &amp; 0xf) | (m &gt;&gt; 4 &amp; 0xf0), (m &gt;&gt; 4 &amp; 0xf) | (m &amp; 0xf0), ((m &amp; 0xf) &lt;&lt; 4) | (m &amp; 0xf), 1) // #f00</span><span class="s3">\n      </span><span class="s1">: l === 8 ? rgba(m &gt;&gt; 24 &amp; 0xff, m &gt;&gt; 16 &amp; 0xff, m &gt;&gt; 8 &amp; 0xff, (m &amp; 0xff) / 0xff) // #ff000000</span><span class="s3">\n      </span><span class="s1">: l === 4 ? rgba((m &gt;&gt; 12 &amp; 0xf) | (m &gt;&gt; 8 &amp; 0xf0), (m &gt;&gt; 8 &amp; 0xf) | (m &gt;&gt; 4 &amp; 0xf0), (m &gt;&gt; 4 &amp; 0xf) | (m &amp; 0xf0), (((m &amp; 0xf) &lt;&lt; 4) | (m &amp; 0xf)) / 0xff) // #f000</span><span class="s3">\n      </span><span class="s1">: null) // invalid hex</span><span class="s3">\n      </span><span class="s1">: (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)</span><span class="s3">\n      </span><span class="s1">: (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)</span><span class="s3">\n      </span><span class="s1">: (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)</span><span class="s3">\n      </span><span class="s1">: (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)</span><span class="s3">\n      </span><span class="s1">: (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)</span><span class="s3">\n      </span><span class="s1">: (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)</span><span class="s3">\n      </span><span class="s1">: named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins</span><span class="s3">\n      </span><span class="s1">: format === </span><span class="s3">\&quot;</span><span class="s1">transparent</span><span class="s3">\&quot; </span><span class="s1">? new Rgb(NaN, NaN, NaN, 0)</span><span class="s3">\n      </span><span class="s1">: null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function rgbn(n) {</span><span class="s3">\n  </span><span class="s1">return new Rgb(n &gt;&gt; 16 &amp; 0xff, n &gt;&gt; 8 &amp; 0xff, n &amp; 0xff, 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function rgba(r, g, b, a) {</span><span class="s3">\n  </span><span class="s1">if (a &lt;= 0) r = g = b = NaN;</span><span class="s3">\n  </span><span class="s1">return new Rgb(r, g, b, a);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function rgbConvert(o) {</span><span class="s3">\n  </span><span class="s1">if (!(o instanceof Color)) o = color(o);</span><span class="s3">\n  </span><span class="s1">if (!o) return new Rgb;</span><span class="s3">\n  </span><span class="s1">o = o.rgb();</span><span class="s3">\n  </span><span class="s1">return new Rgb(o.r, o.g, o.b, o.opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function rgb(r, g, b, opacity) {</span><span class="s3">\n  </span><span class="s1">return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function Rgb(r, g, b, opacity) {</span><span class="s3">\n  </span><span class="s1">this.r = +r;</span><span class="s3">\n  </span><span class="s1">this.g = +g;</span><span class="s3">\n  </span><span class="s1">this.b = +b;</span><span class="s3">\n  </span><span class="s1">this.opacity = +opacity;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">define(Rgb, rgb, extend(Color, {</span><span class="s3">\n  </span><span class="s1">brighter(k) {</span><span class="s3">\n    </span><span class="s1">k = k == null ? brighter : Math.pow(brighter, k);</span><span class="s3">\n    </span><span class="s1">return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">darker(k) {</span><span class="s3">\n    </span><span class="s1">k = k == null ? darker : Math.pow(darker, k);</span><span class="s3">\n    </span><span class="s1">return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">rgb() {</span><span class="s3">\n    </span><span class="s1">return this;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">clamp() {</span><span class="s3">\n    </span><span class="s1">return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">displayable() {</span><span class="s3">\n    </span><span class="s1">return (-0.5 &lt;= this.r &amp;&amp; this.r &lt; 255.5)</span><span class="s3">\n        </span><span class="s1">&amp;&amp; (-0.5 &lt;= this.g &amp;&amp; this.g &lt; 255.5)</span><span class="s3">\n        </span><span class="s1">&amp;&amp; (-0.5 &lt;= this.b &amp;&amp; this.b &lt; 255.5)</span><span class="s3">\n        </span><span class="s1">&amp;&amp; (0 &lt;= this.opacity &amp;&amp; this.opacity &lt;= 1);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">hex: rgb_formatHex, // Deprecated! Use color.formatHex.</span><span class="s3">\n  </span><span class="s1">formatHex: rgb_formatHex,</span><span class="s3">\n  </span><span class="s1">formatHex8: rgb_formatHex8,</span><span class="s3">\n  </span><span class="s1">formatRgb: rgb_formatRgb,</span><span class="s3">\n  </span><span class="s1">toString: rgb_formatRgb</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n\n</span><span class="s1">function rgb_formatHex() {</span><span class="s3">\n  </span><span class="s1">return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function rgb_formatHex8() {</span><span class="s3">\n  </span><span class="s1">return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function rgb_formatRgb() {</span><span class="s3">\n  </span><span class="s1">const a = clampa(this.opacity);</span><span class="s3">\n  </span><span class="s1">return `${a === 1 ? </span><span class="s3">\&quot;</span><span class="s1">rgb(</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">rgba(</span><span class="s3">\&quot;</span><span class="s1">}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot; </span><span class="s1">: `, ${a})`}`;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function clampa(opacity) {</span><span class="s3">\n  </span><span class="s1">return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function clampi(value) {</span><span class="s3">\n  </span><span class="s1">return Math.max(0, Math.min(255, Math.round(value) || 0));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function hex(value) {</span><span class="s3">\n  </span><span class="s1">value = clampi(value);</span><span class="s3">\n  </span><span class="s1">return (value &lt; 16 ? </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + value.toString(16);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function hsla(h, s, l, a) {</span><span class="s3">\n  </span><span class="s1">if (a &lt;= 0) h = s = l = NaN;</span><span class="s3">\n  </span><span class="s1">else if (l &lt;= 0 || l &gt;= 1) h = s = NaN;</span><span class="s3">\n  </span><span class="s1">else if (s &lt;= 0) h = NaN;</span><span class="s3">\n  </span><span class="s1">return new Hsl(h, s, l, a);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function hslConvert(o) {</span><span class="s3">\n  </span><span class="s1">if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);</span><span class="s3">\n  </span><span class="s1">if (!(o instanceof Color)) o = color(o);</span><span class="s3">\n  </span><span class="s1">if (!o) return new Hsl;</span><span class="s3">\n  </span><span class="s1">if (o instanceof Hsl) return o;</span><span class="s3">\n  </span><span class="s1">o = o.rgb();</span><span class="s3">\n  </span><span class="s1">var r = o.r / 255,</span><span class="s3">\n      </span><span class="s1">g = o.g / 255,</span><span class="s3">\n      </span><span class="s1">b = o.b / 255,</span><span class="s3">\n      </span><span class="s1">min = Math.min(r, g, b),</span><span class="s3">\n      </span><span class="s1">max = Math.max(r, g, b),</span><span class="s3">\n      </span><span class="s1">h = NaN,</span><span class="s3">\n      </span><span class="s1">s = max - min,</span><span class="s3">\n      </span><span class="s1">l = (max + min) / 2;</span><span class="s3">\n  </span><span class="s1">if (s) {</span><span class="s3">\n    </span><span class="s1">if (r === max) h = (g - b) / s + (g &lt; b) * 6;</span><span class="s3">\n    </span><span class="s1">else if (g === max) h = (b - r) / s + 2;</span><span class="s3">\n    </span><span class="s1">else h = (r - g) / s + 4;</span><span class="s3">\n    </span><span class="s1">s /= l &lt; 0.5 ? max + min : 2 - max - min;</span><span class="s3">\n    </span><span class="s1">h *= 60;</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">s = l &gt; 0 &amp;&amp; l &lt; 1 ? 0 : h;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return new Hsl(h, s, l, o.opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function hsl(h, s, l, opacity) {</span><span class="s3">\n  </span><span class="s1">return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function Hsl(h, s, l, opacity) {</span><span class="s3">\n  </span><span class="s1">this.h = +h;</span><span class="s3">\n  </span><span class="s1">this.s = +s;</span><span class="s3">\n  </span><span class="s1">this.l = +l;</span><span class="s3">\n  </span><span class="s1">this.opacity = +opacity;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">define(Hsl, hsl, extend(Color, {</span><span class="s3">\n  </span><span class="s1">brighter(k) {</span><span class="s3">\n    </span><span class="s1">k = k == null ? brighter : Math.pow(brighter, k);</span><span class="s3">\n    </span><span class="s1">return new Hsl(this.h, this.s, this.l * k, this.opacity);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">darker(k) {</span><span class="s3">\n    </span><span class="s1">k = k == null ? darker : Math.pow(darker, k);</span><span class="s3">\n    </span><span class="s1">return new Hsl(this.h, this.s, this.l * k, this.opacity);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">rgb() {</span><span class="s3">\n    </span><span class="s1">var h = this.h % 360 + (this.h &lt; 0) * 360,</span><span class="s3">\n        </span><span class="s1">s = isNaN(h) || isNaN(this.s) ? 0 : this.s,</span><span class="s3">\n        </span><span class="s1">l = this.l,</span><span class="s3">\n        </span><span class="s1">m2 = l + (l &lt; 0.5 ? l : 1 - l) * s,</span><span class="s3">\n        </span><span class="s1">m1 = 2 * l - m2;</span><span class="s3">\n    </span><span class="s1">return new Rgb(</span><span class="s3">\n      </span><span class="s1">hsl2rgb(h &gt;= 240 ? h - 240 : h + 120, m1, m2),</span><span class="s3">\n      </span><span class="s1">hsl2rgb(h, m1, m2),</span><span class="s3">\n      </span><span class="s1">hsl2rgb(h &lt; 120 ? h + 240 : h - 120, m1, m2),</span><span class="s3">\n      </span><span class="s1">this.opacity</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">clamp() {</span><span class="s3">\n    </span><span class="s1">return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">displayable() {</span><span class="s3">\n    </span><span class="s1">return (0 &lt;= this.s &amp;&amp; this.s &lt;= 1 || isNaN(this.s))</span><span class="s3">\n        </span><span class="s1">&amp;&amp; (0 &lt;= this.l &amp;&amp; this.l &lt;= 1)</span><span class="s3">\n        </span><span class="s1">&amp;&amp; (0 &lt;= this.opacity &amp;&amp; this.opacity &lt;= 1);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">formatHsl() {</span><span class="s3">\n    </span><span class="s1">const a = clampa(this.opacity);</span><span class="s3">\n    </span><span class="s1">return `${a === 1 ? </span><span class="s3">\&quot;</span><span class="s1">hsl(</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">hsla(</span><span class="s3">\&quot;</span><span class="s1">}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot; </span><span class="s1">: `, ${a})`}`;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n\n</span><span class="s1">function clamph(value) {</span><span class="s3">\n  </span><span class="s1">value = (value || 0) % 360;</span><span class="s3">\n  </span><span class="s1">return value &lt; 0 ? value + 360 : value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function clampt(value) {</span><span class="s3">\n  </span><span class="s1">return Math.max(0, Math.min(1, value || 0));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">/* From FvD 13.37, CSS Color Module Level 3 */</span><span class="s3">\n</span><span class="s1">function hsl2rgb(h, m1, m2) {</span><span class="s3">\n  </span><span class="s1">return (h &lt; 60 ? m1 + (m2 - m1) * h / 60</span><span class="s3">\n      </span><span class="s1">: h &lt; 180 ? m2</span><span class="s3">\n      </span><span class="s1">: h &lt; 240 ? m1 + (m2 - m1) * (240 - h) / 60</span><span class="s3">\n      </span><span class="s1">: m1) * 255;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(constructor, factory, prototype) {</span><span class="s3">\n  </span><span class="s1">constructor.prototype = factory.prototype = prototype;</span><span class="s3">\n  </span><span class="s1">prototype.constructor = constructor;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function extend(parent, definition) {</span><span class="s3">\n  </span><span class="s1">var prototype = Object.create(parent.prototype);</span><span class="s3">\n  </span><span class="s1">for (var key in definition) prototype[key] = definition[key];</span><span class="s3">\n  </span><span class="s1">return prototype;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import define, {extend} from </span><span class="s3">\&quot;</span><span class="s1">./define.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {Color, rgbConvert, Rgb} from </span><span class="s3">\&quot;</span><span class="s1">./color.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {degrees, radians} from </span><span class="s3">\&quot;</span><span class="s1">./math.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">// https://observablehq.com/@mbostock/lab-and-rgb</span><span class="s3">\n</span><span class="s1">const K = 18,</span><span class="s3">\n    </span><span class="s1">Xn = 0.96422,</span><span class="s3">\n    </span><span class="s1">Yn = 1,</span><span class="s3">\n    </span><span class="s1">Zn = 0.82521,</span><span class="s3">\n    </span><span class="s1">t0 = 4 / 29,</span><span class="s3">\n    </span><span class="s1">t1 = 6 / 29,</span><span class="s3">\n    </span><span class="s1">t2 = 3 * t1 * t1,</span><span class="s3">\n    </span><span class="s1">t3 = t1 * t1 * t1;</span><span class="s3">\n\n</span><span class="s1">function labConvert(o) {</span><span class="s3">\n  </span><span class="s1">if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);</span><span class="s3">\n  </span><span class="s1">if (o instanceof Hcl) return hcl2lab(o);</span><span class="s3">\n  </span><span class="s1">if (!(o instanceof Rgb)) o = rgbConvert(o);</span><span class="s3">\n  </span><span class="s1">var r = rgb2lrgb(o.r),</span><span class="s3">\n      </span><span class="s1">g = rgb2lrgb(o.g),</span><span class="s3">\n      </span><span class="s1">b = rgb2lrgb(o.b),</span><span class="s3">\n      </span><span class="s1">y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;</span><span class="s3">\n  </span><span class="s1">if (r === g &amp;&amp; g === b) x = z = y; else {</span><span class="s3">\n    </span><span class="s1">x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);</span><span class="s3">\n    </span><span class="s1">z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function gray(l, opacity) {</span><span class="s3">\n  </span><span class="s1">return new Lab(l, 0, 0, opacity == null ? 1 : opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function lab(l, a, b, opacity) {</span><span class="s3">\n  </span><span class="s1">return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function Lab(l, a, b, opacity) {</span><span class="s3">\n  </span><span class="s1">this.l = +l;</span><span class="s3">\n  </span><span class="s1">this.a = +a;</span><span class="s3">\n  </span><span class="s1">this.b = +b;</span><span class="s3">\n  </span><span class="s1">this.opacity = +opacity;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">define(Lab, lab, extend(Color, {</span><span class="s3">\n  </span><span class="s1">brighter(k) {</span><span class="s3">\n    </span><span class="s1">return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">darker(k) {</span><span class="s3">\n    </span><span class="s1">return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">rgb() {</span><span class="s3">\n    </span><span class="s1">var y = (this.l + 16) / 116,</span><span class="s3">\n        </span><span class="s1">x = isNaN(this.a) ? y : y + this.a / 500,</span><span class="s3">\n        </span><span class="s1">z = isNaN(this.b) ? y : y - this.b / 200;</span><span class="s3">\n    </span><span class="s1">x = Xn * lab2xyz(x);</span><span class="s3">\n    </span><span class="s1">y = Yn * lab2xyz(y);</span><span class="s3">\n    </span><span class="s1">z = Zn * lab2xyz(z);</span><span class="s3">\n    </span><span class="s1">return new Rgb(</span><span class="s3">\n      </span><span class="s1">lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),</span><span class="s3">\n      </span><span class="s1">lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),</span><span class="s3">\n      </span><span class="s1">lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),</span><span class="s3">\n      </span><span class="s1">this.opacity</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n\n</span><span class="s1">function xyz2lab(t) {</span><span class="s3">\n  </span><span class="s1">return t &gt; t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function lab2xyz(t) {</span><span class="s3">\n  </span><span class="s1">return t &gt; t1 ? t * t * t : t2 * (t - t0);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function lrgb2rgb(x) {</span><span class="s3">\n  </span><span class="s1">return 255 * (x &lt;= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function rgb2lrgb(x) {</span><span class="s3">\n  </span><span class="s1">return (x /= 255) &lt;= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function hclConvert(o) {</span><span class="s3">\n  </span><span class="s1">if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);</span><span class="s3">\n  </span><span class="s1">if (!(o instanceof Lab)) o = labConvert(o);</span><span class="s3">\n  </span><span class="s1">if (o.a === 0 &amp;&amp; o.b === 0) return new Hcl(NaN, 0 &lt; o.l &amp;&amp; o.l &lt; 100 ? 0 : NaN, o.l, o.opacity);</span><span class="s3">\n  </span><span class="s1">var h = Math.atan2(o.b, o.a) * degrees;</span><span class="s3">\n  </span><span class="s1">return new Hcl(h &lt; 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function lch(l, c, h, opacity) {</span><span class="s3">\n  </span><span class="s1">return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function hcl(h, c, l, opacity) {</span><span class="s3">\n  </span><span class="s1">return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function Hcl(h, c, l, opacity) {</span><span class="s3">\n  </span><span class="s1">this.h = +h;</span><span class="s3">\n  </span><span class="s1">this.c = +c;</span><span class="s3">\n  </span><span class="s1">this.l = +l;</span><span class="s3">\n  </span><span class="s1">this.opacity = +opacity;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function hcl2lab(o) {</span><span class="s3">\n  </span><span class="s1">if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);</span><span class="s3">\n  </span><span class="s1">var h = o.h * radians;</span><span class="s3">\n  </span><span class="s1">return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">define(Hcl, hcl, extend(Color, {</span><span class="s3">\n  </span><span class="s1">brighter(k) {</span><span class="s3">\n    </span><span class="s1">return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">darker(k) {</span><span class="s3">\n    </span><span class="s1">return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">rgb() {</span><span class="s3">\n    </span><span class="s1">return hcl2lab(this).rgb();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export const radians = Math.PI / 180;</span><span class="s3">\n</span><span class="s1">export const degrees = 180 / Math.PI;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;var noop = {value: () =&gt; {}};</span><span class="s3">\n\n</span><span class="s1">function dispatch() {</span><span class="s3">\n  </span><span class="s1">for (var i = 0, n = arguments.length, _ = {}, t; i &lt; n; ++i) {</span><span class="s3">\n    </span><span class="s1">if (!(t = arguments[i] + </span><span class="s3">\&quot;\&quot;</span><span class="s1">) || (t in _) || /[</span><span class="s3">\\</span><span class="s1">s.]/.test(t)) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">illegal type: </span><span class="s3">\&quot; </span><span class="s1">+ t);</span><span class="s3">\n    </span><span class="s1">_[t] = [];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return new Dispatch(_);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function Dispatch(_) {</span><span class="s3">\n  </span><span class="s1">this._ = _;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseTypenames(typenames, types) {</span><span class="s3">\n  </span><span class="s1">return typenames.trim().split(/^|</span><span class="s3">\\</span><span class="s1">s+/).map(function(t) {</span><span class="s3">\n    </span><span class="s1">var name = </span><span class="s3">\&quot;\&quot;</span><span class="s1">, i = t.indexOf(</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">if (i &gt;= 0) name = t.slice(i + 1), t = t.slice(0, i);</span><span class="s3">\n    </span><span class="s1">if (t &amp;&amp; !types.hasOwnProperty(t)) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">unknown type: </span><span class="s3">\&quot; </span><span class="s1">+ t);</span><span class="s3">\n    </span><span class="s1">return {type: t, name: name};</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Dispatch.prototype = dispatch.prototype = {</span><span class="s3">\n  </span><span class="s1">constructor: Dispatch,</span><span class="s3">\n  </span><span class="s1">on: function(typename, callback) {</span><span class="s3">\n    </span><span class="s1">var _ = this._,</span><span class="s3">\n        </span><span class="s1">T = parseTypenames(typename + </span><span class="s3">\&quot;\&quot;</span><span class="s1">, _),</span><span class="s3">\n        </span><span class="s1">t,</span><span class="s3">\n        </span><span class="s1">i = -1,</span><span class="s3">\n        </span><span class="s1">n = T.length;</span><span class="s3">\n\n    </span><span class="s1">// If no callback was specified, return the callback of the given type and name.</span><span class="s3">\n    </span><span class="s1">if (arguments.length &lt; 2) {</span><span class="s3">\n      </span><span class="s1">while (++i &lt; n) if ((t = (typename = T[i]).type) &amp;&amp; (t = get(_[t], typename.name))) return t;</span><span class="s3">\n      </span><span class="s1">return;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// If a type was specified, set the callback for the given type and name.</span><span class="s3">\n    </span><span class="s1">// Otherwise, if a null callback was specified, remove callbacks of the given name.</span><span class="s3">\n    </span><span class="s1">if (callback != null &amp;&amp; typeof callback !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">invalid callback: </span><span class="s3">\&quot; </span><span class="s1">+ callback);</span><span class="s3">\n    </span><span class="s1">while (++i &lt; n) {</span><span class="s3">\n      </span><span class="s1">if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);</span><span class="s3">\n      </span><span class="s1">else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return this;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">copy: function() {</span><span class="s3">\n    </span><span class="s1">var copy = {}, _ = this._;</span><span class="s3">\n    </span><span class="s1">for (var t in _) copy[t] = _[t].slice();</span><span class="s3">\n    </span><span class="s1">return new Dispatch(copy);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">call: function(type, that) {</span><span class="s3">\n    </span><span class="s1">if ((n = arguments.length - 2) &gt; 0) for (var args = new Array(n), i = 0, n, t; i &lt; n; ++i) args[i] = arguments[i + 2];</span><span class="s3">\n    </span><span class="s1">if (!this._.hasOwnProperty(type)) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">unknown type: </span><span class="s3">\&quot; </span><span class="s1">+ type);</span><span class="s3">\n    </span><span class="s1">for (t = this._[type], i = 0, n = t.length; i &lt; n; ++i) t[i].value.apply(that, args);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">apply: function(type, that, args) {</span><span class="s3">\n    </span><span class="s1">if (!this._.hasOwnProperty(type)) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">unknown type: </span><span class="s3">\&quot; </span><span class="s1">+ type);</span><span class="s3">\n    </span><span class="s1">for (var t = this._[type], i = 0, n = t.length; i &lt; n; ++i) t[i].value.apply(that, args);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">function get(type, name) {</span><span class="s3">\n  </span><span class="s1">for (var i = 0, n = type.length, c; i &lt; n; ++i) {</span><span class="s3">\n    </span><span class="s1">if ((c = type[i]).name === name) {</span><span class="s3">\n      </span><span class="s1">return c.value;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function set(type, name, callback) {</span><span class="s3">\n  </span><span class="s1">for (var i = 0, n = type.length; i &lt; n; ++i) {</span><span class="s3">\n    </span><span class="s1">if (type[i].name === name) {</span><span class="s3">\n      </span><span class="s1">type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">if (callback != null) type.push({name: name, value: callback});</span><span class="s3">\n  </span><span class="s1">return type;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default dispatch;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import formatLocale from </span><span class="s3">\&quot;</span><span class="s1">./locale.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var locale;</span><span class="s3">\n</span><span class="s1">export var format;</span><span class="s3">\n</span><span class="s1">export var formatPrefix;</span><span class="s3">\n\n</span><span class="s1">defaultLocale({</span><span class="s3">\n  </span><span class="s1">thousands: </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">grouping: [3],</span><span class="s3">\n  </span><span class="s1">currency: [</span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;\&quot;</span><span class="s1">]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export default function defaultLocale(definition) {</span><span class="s3">\n  </span><span class="s1">locale = formatLocale(definition);</span><span class="s3">\n  </span><span class="s1">format = locale.format;</span><span class="s3">\n  </span><span class="s1">formatPrefix = locale.formatPrefix;</span><span class="s3">\n  </span><span class="s1">return locale;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {formatDecimalParts} from </span><span class="s3">\&quot;</span><span class="s1">./formatDecimal.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(x) {</span><span class="s3">\n  </span><span class="s1">return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(x) {</span><span class="s3">\n  </span><span class="s1">return Math.abs(x = Math.round(x)) &gt;= 1e21</span><span class="s3">\n      </span><span class="s1">? x.toLocaleString(</span><span class="s3">\&quot;</span><span class="s1">en</span><span class="s3">\&quot;</span><span class="s1">).replace(/,/g, </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">: x.toString(10);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Computes the decimal coefficient and exponent of the specified number x with</span><span class="s3">\n</span><span class="s1">// significant digits p, where x is positive and p is in [1, 21] or undefined.</span><span class="s3">\n</span><span class="s1">// For example, formatDecimalParts(1.23) returns [</span><span class="s3">\&quot;</span><span class="s1">123</span><span class="s3">\&quot;</span><span class="s1">, 0].</span><span class="s3">\n</span><span class="s1">export function formatDecimalParts(x, p) {</span><span class="s3">\n  </span><span class="s1">if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(</span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">)) &lt; 0) return null; // NaN, ±Infinity</span><span class="s3">\n  </span><span class="s1">var i, coefficient = x.slice(0, i);</span><span class="s3">\n\n  </span><span class="s1">// The string returned by toExponential either has the form </span><span class="s3">\\</span><span class="s1">d</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+e[-+]</span><span class="s3">\\</span><span class="s1">d+</span><span class="s3">\n  </span><span class="s1">// (e.g., 1.2e+3) or the form </span><span class="s3">\\</span><span class="s1">de[-+]</span><span class="s3">\\</span><span class="s1">d+ (e.g., 1e+3).</span><span class="s3">\n  </span><span class="s1">return [</span><span class="s3">\n    </span><span class="s1">coefficient.length &gt; 1 ? coefficient[0] + coefficient.slice(2) : coefficient,</span><span class="s3">\n    </span><span class="s1">+x.slice(i + 1)</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// [[fill]align][sign][symbol][0][width][,][.precision][~][type]</span><span class="s3">\n</span><span class="s1">var re = /^(?:(.)?([&lt;&gt;=^]))?([+</span><span class="s3">\\</span><span class="s1">-( ])?([$#])?(0)?(</span><span class="s3">\\</span><span class="s1">d+)?(,)?(</span><span class="s3">\\</span><span class="s1">.</span><span class="s3">\\</span><span class="s1">d+)?(~)?([a-z%])?$/i;</span><span class="s3">\n\n</span><span class="s1">export default function formatSpecifier(specifier) {</span><span class="s3">\n  </span><span class="s1">if (!(match = re.exec(specifier))) throw new Error(</span><span class="s3">\&quot;</span><span class="s1">invalid format: </span><span class="s3">\&quot; </span><span class="s1">+ specifier);</span><span class="s3">\n  </span><span class="s1">var match;</span><span class="s3">\n  </span><span class="s1">return new FormatSpecifier({</span><span class="s3">\n    </span><span class="s1">fill: match[1],</span><span class="s3">\n    </span><span class="s1">align: match[2],</span><span class="s3">\n    </span><span class="s1">sign: match[3],</span><span class="s3">\n    </span><span class="s1">symbol: match[4],</span><span class="s3">\n    </span><span class="s1">zero: match[5],</span><span class="s3">\n    </span><span class="s1">width: match[6],</span><span class="s3">\n    </span><span class="s1">comma: match[7],</span><span class="s3">\n    </span><span class="s1">precision: match[8] &amp;&amp; match[8].slice(1),</span><span class="s3">\n    </span><span class="s1">trim: match[9],</span><span class="s3">\n    </span><span class="s1">type: match[10]</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">formatSpecifier.prototype = FormatSpecifier.prototype; // instanceof</span><span class="s3">\n\n</span><span class="s1">export function FormatSpecifier(specifier) {</span><span class="s3">\n  </span><span class="s1">this.fill = specifier.fill === undefined ? </span><span class="s3">\&quot; \&quot; </span><span class="s1">: specifier.fill + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">this.align = specifier.align === undefined ? </span><span class="s3">\&quot;</span><span class="s1">&gt;</span><span class="s3">\&quot; </span><span class="s1">: specifier.align + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">this.sign = specifier.sign === undefined ? </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">: specifier.sign + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">this.symbol = specifier.symbol === undefined ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: specifier.symbol + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">this.zero = !!specifier.zero;</span><span class="s3">\n  </span><span class="s1">this.width = specifier.width === undefined ? undefined : +specifier.width;</span><span class="s3">\n  </span><span class="s1">this.comma = !!specifier.comma;</span><span class="s3">\n  </span><span class="s1">this.precision = specifier.precision === undefined ? undefined : +specifier.precision;</span><span class="s3">\n  </span><span class="s1">this.trim = !!specifier.trim;</span><span class="s3">\n  </span><span class="s1">this.type = specifier.type === undefined ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: specifier.type + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">FormatSpecifier.prototype.toString = function() {</span><span class="s3">\n  </span><span class="s1">return this.fill</span><span class="s3">\n      </span><span class="s1">+ this.align</span><span class="s3">\n      </span><span class="s1">+ this.sign</span><span class="s3">\n      </span><span class="s1">+ this.symbol</span><span class="s3">\n      </span><span class="s1">+ (this.zero ? </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">+ (this.width === undefined ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: Math.max(1, this.width | 0))</span><span class="s3">\n      </span><span class="s1">+ (this.comma ? </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">+ (this.precision === undefined ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot; </span><span class="s1">+ Math.max(0, this.precision | 0))</span><span class="s3">\n      </span><span class="s1">+ (this.trim ? </span><span class="s3">\&quot;</span><span class="s1">~</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">+ this.type;</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(grouping, thousands) {</span><span class="s3">\n  </span><span class="s1">return function(value, width) {</span><span class="s3">\n    </span><span class="s1">var i = value.length,</span><span class="s3">\n        </span><span class="s1">t = [],</span><span class="s3">\n        </span><span class="s1">j = 0,</span><span class="s3">\n        </span><span class="s1">g = grouping[0],</span><span class="s3">\n        </span><span class="s1">length = 0;</span><span class="s3">\n\n    </span><span class="s1">while (i &gt; 0 &amp;&amp; g &gt; 0) {</span><span class="s3">\n      </span><span class="s1">if (length + g + 1 &gt; width) g = Math.max(1, width - length);</span><span class="s3">\n      </span><span class="s1">t.push(value.substring(i -= g, i + g));</span><span class="s3">\n      </span><span class="s1">if ((length += g + 1) &gt; width) break;</span><span class="s3">\n      </span><span class="s1">g = grouping[j = (j + 1) % grouping.length];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return t.reverse().join(thousands);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(numerals) {</span><span class="s3">\n  </span><span class="s1">return function(value) {</span><span class="s3">\n    </span><span class="s1">return value.replace(/[0-9]/g, function(i) {</span><span class="s3">\n      </span><span class="s1">return numerals[+i];</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.</span><span class="s3">\n</span><span class="s1">export default function(s) {</span><span class="s3">\n  </span><span class="s1">out: for (var n = s.length, i = 1, i0 = -1, i1; i &lt; n; ++i) {</span><span class="s3">\n    </span><span class="s1">switch (s[i]) {</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot;</span><span class="s1">: i0 = i1 = i; break;</span><span class="s3">\n      </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">: if (i0 === 0) i0 = i; i1 = i; break;</span><span class="s3">\n      </span><span class="s1">default: if (!+s[i]) break out; if (i0 &gt; 0) i0 = 0; break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return i0 &gt; 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {formatDecimalParts} from </span><span class="s3">\&quot;</span><span class="s1">./formatDecimal.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export var prefixExponent;</span><span class="s3">\n\n</span><span class="s1">export default function(x, p) {</span><span class="s3">\n  </span><span class="s1">var d = formatDecimalParts(x, p);</span><span class="s3">\n  </span><span class="s1">if (!d) return x + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var coefficient = d[0],</span><span class="s3">\n      </span><span class="s1">exponent = d[1],</span><span class="s3">\n      </span><span class="s1">i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,</span><span class="s3">\n      </span><span class="s1">n = coefficient.length;</span><span class="s3">\n  </span><span class="s1">return i === n ? coefficient</span><span class="s3">\n      </span><span class="s1">: i &gt; n ? coefficient + new Array(i - n + 1).join(</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\n      </span><span class="s1">: i &gt; 0 ? coefficient.slice(0, i) + </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot; </span><span class="s1">+ coefficient.slice(i)</span><span class="s3">\n      </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0.</span><span class="s3">\&quot; </span><span class="s1">+ new Array(1 - i).join(</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">) + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {formatDecimalParts} from </span><span class="s3">\&quot;</span><span class="s1">./formatDecimal.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(x, p) {</span><span class="s3">\n  </span><span class="s1">var d = formatDecimalParts(x, p);</span><span class="s3">\n  </span><span class="s1">if (!d) return x + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">var coefficient = d[0],</span><span class="s3">\n      </span><span class="s1">exponent = d[1];</span><span class="s3">\n  </span><span class="s1">return exponent &lt; 0 ? </span><span class="s3">\&quot;</span><span class="s1">0.</span><span class="s3">\&quot; </span><span class="s1">+ new Array(-exponent).join(</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">) + coefficient</span><span class="s3">\n      </span><span class="s1">: coefficient.length &gt; exponent + 1 ? coefficient.slice(0, exponent + 1) + </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot; </span><span class="s1">+ coefficient.slice(exponent + 1)</span><span class="s3">\n      </span><span class="s1">: coefficient + new Array(exponent - coefficient.length + 2).join(</span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import formatDecimal from </span><span class="s3">\&quot;</span><span class="s1">./formatDecimal.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import formatPrefixAuto from </span><span class="s3">\&quot;</span><span class="s1">./formatPrefixAuto.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import formatRounded from </span><span class="s3">\&quot;</span><span class="s1">./formatRounded.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default {</span><span class="s3">\n  \&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">: (x, p) =&gt; (x * 100).toFixed(p),</span><span class="s3">\n  \&quot;</span><span class="s1">b</span><span class="s3">\&quot;</span><span class="s1">: (x) =&gt; Math.round(x).toString(2),</span><span class="s3">\n  \&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">: (x) =&gt; x + </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n  \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">: formatDecimal,</span><span class="s3">\n  \&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">: (x, p) =&gt; x.toExponential(p),</span><span class="s3">\n  \&quot;</span><span class="s1">f</span><span class="s3">\&quot;</span><span class="s1">: (x, p) =&gt; x.toFixed(p),</span><span class="s3">\n  \&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">: (x, p) =&gt; x.toPrecision(p),</span><span class="s3">\n  \&quot;</span><span class="s1">o</span><span class="s3">\&quot;</span><span class="s1">: (x) =&gt; Math.round(x).toString(8),</span><span class="s3">\n  \&quot;</span><span class="s1">p</span><span class="s3">\&quot;</span><span class="s1">: (x, p) =&gt; formatRounded(x * 100, p),</span><span class="s3">\n  \&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">: formatRounded,</span><span class="s3">\n  \&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">: formatPrefixAuto,</span><span class="s3">\n  \&quot;</span><span class="s1">X</span><span class="s3">\&quot;</span><span class="s1">: (x) =&gt; Math.round(x).toString(16).toUpperCase(),</span><span class="s3">\n  \&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">: (x) =&gt; Math.round(x).toString(16)</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(x) {</span><span class="s3">\n  </span><span class="s1">return x;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import exponent from </span><span class="s3">\&quot;</span><span class="s1">./exponent.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import formatGroup from </span><span class="s3">\&quot;</span><span class="s1">./formatGroup.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import formatNumerals from </span><span class="s3">\&quot;</span><span class="s1">./formatNumerals.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import formatSpecifier from </span><span class="s3">\&quot;</span><span class="s1">./formatSpecifier.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import formatTrim from </span><span class="s3">\&quot;</span><span class="s1">./formatTrim.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import formatTypes from </span><span class="s3">\&quot;</span><span class="s1">./formatTypes.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {prefixExponent} from </span><span class="s3">\&quot;</span><span class="s1">./formatPrefixAuto.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import identity from </span><span class="s3">\&quot;</span><span class="s1">./identity.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var map = Array.prototype.map,</span><span class="s3">\n    </span><span class="s1">prefixes = [</span><span class="s3">\&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">f</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">p</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">µ</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">k</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">T</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">P</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">E</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">];</span><span class="s3">\n\n</span><span class="s1">export default function(locale) {</span><span class="s3">\n  </span><span class="s1">var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + </span><span class="s3">\&quot;\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">currencyPrefix = locale.currency === undefined ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: locale.currency[0] + </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">currencySuffix = locale.currency === undefined ? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: locale.currency[1] + </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">decimal = locale.decimal === undefined ? </span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\&quot; </span><span class="s1">: locale.decimal + </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),</span><span class="s3">\n      </span><span class="s1">percent = locale.percent === undefined ? </span><span class="s3">\&quot;</span><span class="s1">%</span><span class="s3">\&quot; </span><span class="s1">: locale.percent + </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">minus = locale.minus === undefined ? </span><span class="s3">\&quot;</span><span class="s1">−</span><span class="s3">\&quot; </span><span class="s1">: locale.minus + </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">nan = locale.nan === undefined ? </span><span class="s3">\&quot;</span><span class="s1">NaN</span><span class="s3">\&quot; </span><span class="s1">: locale.nan + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n  </span><span class="s1">function newFormat(specifier) {</span><span class="s3">\n    </span><span class="s1">specifier = formatSpecifier(specifier);</span><span class="s3">\n\n    </span><span class="s1">var fill = specifier.fill,</span><span class="s3">\n        </span><span class="s1">align = specifier.align,</span><span class="s3">\n        </span><span class="s1">sign = specifier.sign,</span><span class="s3">\n        </span><span class="s1">symbol = specifier.symbol,</span><span class="s3">\n        </span><span class="s1">zero = specifier.zero,</span><span class="s3">\n        </span><span class="s1">width = specifier.width,</span><span class="s3">\n        </span><span class="s1">comma = specifier.comma,</span><span class="s3">\n        </span><span class="s1">precision = specifier.precision,</span><span class="s3">\n        </span><span class="s1">trim = specifier.trim,</span><span class="s3">\n        </span><span class="s1">type = specifier.type;</span><span class="s3">\n\n    </span><span class="s1">// The </span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot; </span><span class="s1">type is an alias for </span><span class="s3">\&quot;</span><span class="s1">,g</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n    </span><span class="s1">if (type === </span><span class="s3">\&quot;</span><span class="s1">n</span><span class="s3">\&quot;</span><span class="s1">) comma = true, type = </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">// The </span><span class="s3">\&quot;\&quot; </span><span class="s1">type, and any invalid type, is an alias for </span><span class="s3">\&quot;</span><span class="s1">.12~g</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n    </span><span class="s1">else if (!formatTypes[type]) precision === undefined &amp;&amp; (precision = 12), trim = true, type = </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">// If zero fill is specified, padding goes after sign and before digits.</span><span class="s3">\n    </span><span class="s1">if (zero || (fill === </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; align === </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">)) zero = true, fill = </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">, align = </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">// Compute the prefix and suffix.</span><span class="s3">\n    </span><span class="s1">// For SI-prefix, the suffix is lazily computed.</span><span class="s3">\n    </span><span class="s1">var prefix = symbol === </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot; </span><span class="s1">? currencyPrefix : symbol === </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; /[boxX]/.test(type) ? </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot; </span><span class="s1">+ type.toLowerCase() : </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n        </span><span class="s1">suffix = symbol === </span><span class="s3">\&quot;</span><span class="s1">$</span><span class="s3">\&quot; </span><span class="s1">? currencySuffix : /[%p]/.test(type) ? percent : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n    </span><span class="s1">// What format function should we use?</span><span class="s3">\n    </span><span class="s1">// Is this an integer type?</span><span class="s3">\n    </span><span class="s1">// Can this type generate exponential notation?</span><span class="s3">\n    </span><span class="s1">var formatType = formatTypes[type],</span><span class="s3">\n        </span><span class="s1">maybeSuffix = /[defgprs%]/.test(type);</span><span class="s3">\n\n    </span><span class="s1">// Set the default precision if not specified,</span><span class="s3">\n    </span><span class="s1">// or clamp the specified precision to the supported range.</span><span class="s3">\n    </span><span class="s1">// For significant precision, it must be in [1, 21].</span><span class="s3">\n    </span><span class="s1">// For fixed precision, it must be in [0, 20].</span><span class="s3">\n    </span><span class="s1">precision = precision === undefined ? 6</span><span class="s3">\n        </span><span class="s1">: /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))</span><span class="s3">\n        </span><span class="s1">: Math.max(0, Math.min(20, precision));</span><span class="s3">\n\n    </span><span class="s1">function format(value) {</span><span class="s3">\n      </span><span class="s1">var valuePrefix = prefix,</span><span class="s3">\n          </span><span class="s1">valueSuffix = suffix,</span><span class="s3">\n          </span><span class="s1">i, n, c;</span><span class="s3">\n\n      </span><span class="s1">if (type === </span><span class="s3">\&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">) {</span><span class="s3">\n        </span><span class="s1">valueSuffix = formatType(value) + valueSuffix;</span><span class="s3">\n        </span><span class="s1">value = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">value = +value;</span><span class="s3">\n\n        </span><span class="s1">// Determine the sign. -0 is not less than 0, but 1 / -0 is!</span><span class="s3">\n        </span><span class="s1">var valueNegative = value &lt; 0 || 1 / value &lt; 0;</span><span class="s3">\n\n        </span><span class="s1">// Perform the initial formatting.</span><span class="s3">\n        </span><span class="s1">value = isNaN(value) ? nan : formatType(Math.abs(value), precision);</span><span class="s3">\n\n        </span><span class="s1">// Trim insignificant zeros.</span><span class="s3">\n        </span><span class="s1">if (trim) value = formatTrim(value);</span><span class="s3">\n\n        </span><span class="s1">// If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.</span><span class="s3">\n        </span><span class="s1">if (valueNegative &amp;&amp; +value === 0 &amp;&amp; sign !== </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">) valueNegative = false;</span><span class="s3">\n\n        </span><span class="s1">// Compute the prefix and suffix.</span><span class="s3">\n        </span><span class="s1">valuePrefix = (valueNegative ? (sign === </span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot; </span><span class="s1">? sign : minus) : sign === </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">|| sign === </span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;\&quot; </span><span class="s1">: sign) + valuePrefix;</span><span class="s3">\n        </span><span class="s1">valueSuffix = (type === </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot; </span><span class="s1">? prefixes[8 + prefixExponent / 3] : </span><span class="s3">\&quot;\&quot;</span><span class="s1">) + valueSuffix + (valueNegative &amp;&amp; sign === </span><span class="s3">\&quot;</span><span class="s1">(</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n\n        </span><span class="s1">// Break the formatted value into the integer “value” part that can be</span><span class="s3">\n        </span><span class="s1">// grouped, and fractional or exponential “suffix” part that is not.</span><span class="s3">\n        </span><span class="s1">if (maybeSuffix) {</span><span class="s3">\n          </span><span class="s1">i = -1, n = value.length;</span><span class="s3">\n          </span><span class="s1">while (++i &lt; n) {</span><span class="s3">\n            </span><span class="s1">if (c = value.charCodeAt(i), 48 &gt; c || c &gt; 57) {</span><span class="s3">\n              </span><span class="s1">valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;</span><span class="s3">\n              </span><span class="s1">value = value.slice(0, i);</span><span class="s3">\n              </span><span class="s1">break;</span><span class="s3">\n            </span><span class="s1">}</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// If the fill character is not </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">, grouping is applied before padding.</span><span class="s3">\n      </span><span class="s1">if (comma &amp;&amp; !zero) value = group(value, Infinity);</span><span class="s3">\n\n      </span><span class="s1">// Compute the padding.</span><span class="s3">\n      </span><span class="s1">var length = valuePrefix.length + value.length + valueSuffix.length,</span><span class="s3">\n          </span><span class="s1">padding = length &lt; width ? new Array(width - length + 1).join(fill) : </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n      </span><span class="s1">// If the fill character is </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">, grouping is applied after padding.</span><span class="s3">\n      </span><span class="s1">if (comma &amp;&amp; zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n      </span><span class="s1">// Reconstruct the final output based on the desired alignment.</span><span class="s3">\n      </span><span class="s1">switch (align) {</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">&lt;</span><span class="s3">\&quot;</span><span class="s1">: value = valuePrefix + value + valueSuffix + padding; break;</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">=</span><span class="s3">\&quot;</span><span class="s1">: value = valuePrefix + padding + value + valueSuffix; break;</span><span class="s3">\n        </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">^</span><span class="s3">\&quot;</span><span class="s1">: value = padding.slice(0, length = padding.length &gt;&gt; 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;</span><span class="s3">\n        </span><span class="s1">default: value = padding + valuePrefix + value + valueSuffix; break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">return numerals(value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">format.toString = function() {</span><span class="s3">\n      </span><span class="s1">return specifier + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">return format;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatPrefix(specifier, value) {</span><span class="s3">\n    </span><span class="s1">var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = </span><span class="s3">\&quot;</span><span class="s1">f</span><span class="s3">\&quot;</span><span class="s1">, specifier)),</span><span class="s3">\n        </span><span class="s1">e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,</span><span class="s3">\n        </span><span class="s1">k = Math.pow(10, -e),</span><span class="s3">\n        </span><span class="s1">prefix = prefixes[8 + e / 3];</span><span class="s3">\n    </span><span class="s1">return function(value) {</span><span class="s3">\n      </span><span class="s1">return f(k * value) + prefix;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">format: newFormat,</span><span class="s3">\n    </span><span class="s1">formatPrefix: formatPrefix</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import exponent from </span><span class="s3">\&quot;</span><span class="s1">./exponent.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(step) {</span><span class="s3">\n  </span><span class="s1">return Math.max(0, -exponent(Math.abs(step)));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import exponent from </span><span class="s3">\&quot;</span><span class="s1">./exponent.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(step, value) {</span><span class="s3">\n  </span><span class="s1">return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import exponent from </span><span class="s3">\&quot;</span><span class="s1">./exponent.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(step, max) {</span><span class="s3">\n  </span><span class="s1">step = Math.abs(step), max = Math.abs(max) - step;</span><span class="s3">\n  </span><span class="s1">return Math.max(0, exponent(max) - exponent(step)) + 1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import value from </span><span class="s3">\&quot;</span><span class="s1">./value.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import numberArray, {isNumberArray} from </span><span class="s3">\&quot;</span><span class="s1">./numberArray.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">return (isNumberArray(b) ? numberArray : genericArray)(a, b);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function genericArray(a, b) {</span><span class="s3">\n  </span><span class="s1">var nb = b ? b.length : 0,</span><span class="s3">\n      </span><span class="s1">na = a ? Math.min(nb, a.length) : 0,</span><span class="s3">\n      </span><span class="s1">x = new Array(na),</span><span class="s3">\n      </span><span class="s1">c = new Array(nb),</span><span class="s3">\n      </span><span class="s1">i;</span><span class="s3">\n\n  </span><span class="s1">for (i = 0; i &lt; na; ++i) x[i] = value(a[i], b[i]);</span><span class="s3">\n  </span><span class="s1">for (; i &lt; nb; ++i) c[i] = b[i];</span><span class="s3">\n\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">for (i = 0; i &lt; na; ++i) c[i] = x[i](t);</span><span class="s3">\n    </span><span class="s1">return c;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export function basis(t1, v0, v1, v2, v3) {</span><span class="s3">\n  </span><span class="s1">var t2 = t1 * t1, t3 = t2 * t1;</span><span class="s3">\n  </span><span class="s1">return ((1 - 3 * t1 + 3 * t2 - t3) * v0</span><span class="s3">\n      </span><span class="s1">+ (4 - 6 * t2 + 3 * t3) * v1</span><span class="s3">\n      </span><span class="s1">+ (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2</span><span class="s3">\n      </span><span class="s1">+ t3 * v3) / 6;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(values) {</span><span class="s3">\n  </span><span class="s1">var n = values.length - 1;</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">var i = t &lt;= 0 ? (t = 0) : t &gt;= 1 ? (t = 1, n - 1) : Math.floor(t * n),</span><span class="s3">\n        </span><span class="s1">v1 = values[i],</span><span class="s3">\n        </span><span class="s1">v2 = values[i + 1],</span><span class="s3">\n        </span><span class="s1">v0 = i &gt; 0 ? values[i - 1] : 2 * v1 - v2,</span><span class="s3">\n        </span><span class="s1">v3 = i &lt; n - 1 ? values[i + 2] : 2 * v2 - v1;</span><span class="s3">\n    </span><span class="s1">return basis((t - i / n) * n, v0, v1, v2, v3);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {basis} from </span><span class="s3">\&quot;</span><span class="s1">./basis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(values) {</span><span class="s3">\n  </span><span class="s1">var n = values.length;</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">var i = Math.floor(((t %= 1) &lt; 0 ? ++t : t) * n),</span><span class="s3">\n        </span><span class="s1">v0 = values[(i + n - 1) % n],</span><span class="s3">\n        </span><span class="s1">v1 = values[i % n],</span><span class="s3">\n        </span><span class="s1">v2 = values[(i + 1) % n],</span><span class="s3">\n        </span><span class="s1">v3 = values[(i + 2) % n];</span><span class="s3">\n    </span><span class="s1">return basis((t - i / n) * n, v0, v1, v2, v3);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import constant from </span><span class="s3">\&quot;</span><span class="s1">./constant.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function linear(a, d) {</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">return a + t * d;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function exponential(a, b, y) {</span><span class="s3">\n  </span><span class="s1">return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {</span><span class="s3">\n    </span><span class="s1">return Math.pow(a + t * b, y);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function hue(a, b) {</span><span class="s3">\n  </span><span class="s1">var d = b - a;</span><span class="s3">\n  </span><span class="s1">return d ? linear(a, d &gt; 180 || d &lt; -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function gamma(y) {</span><span class="s3">\n  </span><span class="s1">return (y = +y) === 1 ? nogamma : function(a, b) {</span><span class="s3">\n    </span><span class="s1">return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function nogamma(a, b) {</span><span class="s3">\n  </span><span class="s1">var d = b - a;</span><span class="s3">\n  </span><span class="s1">return d ? linear(a, d) : constant(isNaN(a) ? b : a);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default x =&gt; () =&gt; x;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">var d = new Date;</span><span class="s3">\n  </span><span class="s1">return a = +a, b = +b, function(t) {</span><span class="s3">\n    </span><span class="s1">return d.setTime(a * (1 - t) + b * t), d;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(range) {</span><span class="s3">\n  </span><span class="s1">var n = range.length;</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {hue} from </span><span class="s3">\&quot;</span><span class="s1">./color.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">var i = hue(+a, +b);</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">var x = i(t);</span><span class="s3">\n    </span><span class="s1">return x - 360 * Math.floor(x / 360);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;var epsilon2 = 1e-12;</span><span class="s3">\n\n</span><span class="s1">function cosh(x) {</span><span class="s3">\n  </span><span class="s1">return ((x = Math.exp(x)) + 1 / x) / 2;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function sinh(x) {</span><span class="s3">\n  </span><span class="s1">return ((x = Math.exp(x)) - 1 / x) / 2;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function tanh(x) {</span><span class="s3">\n  </span><span class="s1">return ((x = Math.exp(2 * x)) - 1) / (x + 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default (function zoomRho(rho, rho2, rho4) {</span><span class="s3">\n\n  </span><span class="s1">// p0 = [ux0, uy0, w0]</span><span class="s3">\n  </span><span class="s1">// p1 = [ux1, uy1, w1]</span><span class="s3">\n  </span><span class="s1">function zoom(p0, p1) {</span><span class="s3">\n    </span><span class="s1">var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],</span><span class="s3">\n        </span><span class="s1">ux1 = p1[0], uy1 = p1[1], w1 = p1[2],</span><span class="s3">\n        </span><span class="s1">dx = ux1 - ux0,</span><span class="s3">\n        </span><span class="s1">dy = uy1 - uy0,</span><span class="s3">\n        </span><span class="s1">d2 = dx * dx + dy * dy,</span><span class="s3">\n        </span><span class="s1">i,</span><span class="s3">\n        </span><span class="s1">S;</span><span class="s3">\n\n    </span><span class="s1">// Special case for u0 ≅ u1.</span><span class="s3">\n    </span><span class="s1">if (d2 &lt; epsilon2) {</span><span class="s3">\n      </span><span class="s1">S = Math.log(w1 / w0) / rho;</span><span class="s3">\n      </span><span class="s1">i = function(t) {</span><span class="s3">\n        </span><span class="s1">return [</span><span class="s3">\n          </span><span class="s1">ux0 + t * dx,</span><span class="s3">\n          </span><span class="s1">uy0 + t * dy,</span><span class="s3">\n          </span><span class="s1">w0 * Math.exp(rho * t * S)</span><span class="s3">\n        </span><span class="s1">];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// General case.</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n      </span><span class="s1">var d1 = Math.sqrt(d2),</span><span class="s3">\n          </span><span class="s1">b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),</span><span class="s3">\n          </span><span class="s1">b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),</span><span class="s3">\n          </span><span class="s1">r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),</span><span class="s3">\n          </span><span class="s1">r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);</span><span class="s3">\n      </span><span class="s1">S = (r1 - r0) / rho;</span><span class="s3">\n      </span><span class="s1">i = function(t) {</span><span class="s3">\n        </span><span class="s1">var s = t * S,</span><span class="s3">\n            </span><span class="s1">coshr0 = cosh(r0),</span><span class="s3">\n            </span><span class="s1">u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));</span><span class="s3">\n        </span><span class="s1">return [</span><span class="s3">\n          </span><span class="s1">ux0 + u * dx,</span><span class="s3">\n          </span><span class="s1">uy0 + u * dy,</span><span class="s3">\n          </span><span class="s1">w0 * coshr0 / cosh(rho * s + r0)</span><span class="s3">\n        </span><span class="s1">];</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">i.duration = S * 1000 * rho / Math.SQRT2;</span><span class="s3">\n\n    </span><span class="s1">return i;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">zoom.rho = function(_) {</span><span class="s3">\n    </span><span class="s1">var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;</span><span class="s3">\n    </span><span class="s1">return zoomRho(_1, _2, _4);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return zoom;</span><span class="s3">\n</span><span class="s1">})(Math.SQRT2, 2, 4);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {hsl as colorHsl} from </span><span class="s3">\&quot;</span><span class="s1">d3-color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import color, {hue} from </span><span class="s3">\&quot;</span><span class="s1">./color.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function hsl(hue) {</span><span class="s3">\n  </span><span class="s1">return function(start, end) {</span><span class="s3">\n    </span><span class="s1">var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),</span><span class="s3">\n        </span><span class="s1">s = color(start.s, end.s),</span><span class="s3">\n        </span><span class="s1">l = color(start.l, end.l),</span><span class="s3">\n        </span><span class="s1">opacity = color(start.opacity, end.opacity);</span><span class="s3">\n    </span><span class="s1">return function(t) {</span><span class="s3">\n      </span><span class="s1">start.h = h(t);</span><span class="s3">\n      </span><span class="s1">start.s = s(t);</span><span class="s3">\n      </span><span class="s1">start.l = l(t);</span><span class="s3">\n      </span><span class="s1">start.opacity = opacity(t);</span><span class="s3">\n      </span><span class="s1">return start + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default hsl(hue);</span><span class="s3">\n</span><span class="s1">export var hslLong = hsl(color);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {lab as colorLab} from </span><span class="s3">\&quot;</span><span class="s1">d3-color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import color from </span><span class="s3">\&quot;</span><span class="s1">./color.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function lab(start, end) {</span><span class="s3">\n  </span><span class="s1">var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),</span><span class="s3">\n      </span><span class="s1">a = color(start.a, end.a),</span><span class="s3">\n      </span><span class="s1">b = color(start.b, end.b),</span><span class="s3">\n      </span><span class="s1">opacity = color(start.opacity, end.opacity);</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">start.l = l(t);</span><span class="s3">\n    </span><span class="s1">start.a = a(t);</span><span class="s3">\n    </span><span class="s1">start.b = b(t);</span><span class="s3">\n    </span><span class="s1">start.opacity = opacity(t);</span><span class="s3">\n    </span><span class="s1">return start + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {hcl as colorHcl} from </span><span class="s3">\&quot;</span><span class="s1">d3-color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import color, {hue} from </span><span class="s3">\&quot;</span><span class="s1">./color.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function hcl(hue) {</span><span class="s3">\n  </span><span class="s1">return function(start, end) {</span><span class="s3">\n    </span><span class="s1">var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),</span><span class="s3">\n        </span><span class="s1">c = color(start.c, end.c),</span><span class="s3">\n        </span><span class="s1">l = color(start.l, end.l),</span><span class="s3">\n        </span><span class="s1">opacity = color(start.opacity, end.opacity);</span><span class="s3">\n    </span><span class="s1">return function(t) {</span><span class="s3">\n      </span><span class="s1">start.h = h(t);</span><span class="s3">\n      </span><span class="s1">start.c = c(t);</span><span class="s3">\n      </span><span class="s1">start.l = l(t);</span><span class="s3">\n      </span><span class="s1">start.opacity = opacity(t);</span><span class="s3">\n      </span><span class="s1">return start + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default hcl(hue);</span><span class="s3">\n</span><span class="s1">export var hclLong = hcl(color);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import define, {extend} from </span><span class="s3">\&quot;</span><span class="s1">./define.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {Color, rgbConvert, Rgb, darker, brighter} from </span><span class="s3">\&quot;</span><span class="s1">./color.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {degrees, radians} from </span><span class="s3">\&quot;</span><span class="s1">./math.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var A = -0.14861,</span><span class="s3">\n    </span><span class="s1">B = +1.78277,</span><span class="s3">\n    </span><span class="s1">C = -0.29227,</span><span class="s3">\n    </span><span class="s1">D = -0.90649,</span><span class="s3">\n    </span><span class="s1">E = +1.97294,</span><span class="s3">\n    </span><span class="s1">ED = E * D,</span><span class="s3">\n    </span><span class="s1">EB = E * B,</span><span class="s3">\n    </span><span class="s1">BC_DA = B * C - D * A;</span><span class="s3">\n\n</span><span class="s1">function cubehelixConvert(o) {</span><span class="s3">\n  </span><span class="s1">if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);</span><span class="s3">\n  </span><span class="s1">if (!(o instanceof Rgb)) o = rgbConvert(o);</span><span class="s3">\n  </span><span class="s1">var r = o.r / 255,</span><span class="s3">\n      </span><span class="s1">g = o.g / 255,</span><span class="s3">\n      </span><span class="s1">b = o.b / 255,</span><span class="s3">\n      </span><span class="s1">l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),</span><span class="s3">\n      </span><span class="s1">bl = b - l,</span><span class="s3">\n      </span><span class="s1">k = (E * (g - l) - C * bl) / D,</span><span class="s3">\n      </span><span class="s1">s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1</span><span class="s3">\n      </span><span class="s1">h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;</span><span class="s3">\n  </span><span class="s1">return new Cubehelix(h &lt; 0 ? h + 360 : h, s, l, o.opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function cubehelix(h, s, l, opacity) {</span><span class="s3">\n  </span><span class="s1">return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function Cubehelix(h, s, l, opacity) {</span><span class="s3">\n  </span><span class="s1">this.h = +h;</span><span class="s3">\n  </span><span class="s1">this.s = +s;</span><span class="s3">\n  </span><span class="s1">this.l = +l;</span><span class="s3">\n  </span><span class="s1">this.opacity = +opacity;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">define(Cubehelix, cubehelix, extend(Color, {</span><span class="s3">\n  </span><span class="s1">brighter(k) {</span><span class="s3">\n    </span><span class="s1">k = k == null ? brighter : Math.pow(brighter, k);</span><span class="s3">\n    </span><span class="s1">return new Cubehelix(this.h, this.s, this.l * k, this.opacity);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">darker(k) {</span><span class="s3">\n    </span><span class="s1">k = k == null ? darker : Math.pow(darker, k);</span><span class="s3">\n    </span><span class="s1">return new Cubehelix(this.h, this.s, this.l * k, this.opacity);</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">rgb() {</span><span class="s3">\n    </span><span class="s1">var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,</span><span class="s3">\n        </span><span class="s1">l = +this.l,</span><span class="s3">\n        </span><span class="s1">a = isNaN(this.s) ? 0 : this.s * l * (1 - l),</span><span class="s3">\n        </span><span class="s1">cosh = Math.cos(h),</span><span class="s3">\n        </span><span class="s1">sinh = Math.sin(h);</span><span class="s3">\n    </span><span class="s1">return new Rgb(</span><span class="s3">\n      </span><span class="s1">255 * (l + a * (A * cosh + B * sinh)),</span><span class="s3">\n      </span><span class="s1">255 * (l + a * (C * cosh + D * sinh)),</span><span class="s3">\n      </span><span class="s1">255 * (l + a * (E * cosh)),</span><span class="s3">\n      </span><span class="s1">this.opacity</span><span class="s3">\n    </span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}));</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {cubehelix as colorCubehelix} from </span><span class="s3">\&quot;</span><span class="s1">d3-color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import color, {hue} from </span><span class="s3">\&quot;</span><span class="s1">./color.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function cubehelix(hue) {</span><span class="s3">\n  </span><span class="s1">return (function cubehelixGamma(y) {</span><span class="s3">\n    </span><span class="s1">y = +y;</span><span class="s3">\n\n    </span><span class="s1">function cubehelix(start, end) {</span><span class="s3">\n      </span><span class="s1">var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),</span><span class="s3">\n          </span><span class="s1">s = color(start.s, end.s),</span><span class="s3">\n          </span><span class="s1">l = color(start.l, end.l),</span><span class="s3">\n          </span><span class="s1">opacity = color(start.opacity, end.opacity);</span><span class="s3">\n      </span><span class="s1">return function(t) {</span><span class="s3">\n        </span><span class="s1">start.h = h(t);</span><span class="s3">\n        </span><span class="s1">start.s = s(t);</span><span class="s3">\n        </span><span class="s1">start.l = l(Math.pow(t, y));</span><span class="s3">\n        </span><span class="s1">start.opacity = opacity(t);</span><span class="s3">\n        </span><span class="s1">return start + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n      </span><span class="s1">};</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">cubehelix.gamma = cubehelixGamma;</span><span class="s3">\n\n    </span><span class="s1">return cubehelix;</span><span class="s3">\n  </span><span class="s1">})(1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default cubehelix(hue);</span><span class="s3">\n</span><span class="s1">export var cubehelixLong = cubehelix(color);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(interpolator, n) {</span><span class="s3">\n  </span><span class="s1">var samples = new Array(n);</span><span class="s3">\n  </span><span class="s1">for (var i = 0; i &lt; n; ++i) samples[i] = interpolator(i / (n - 1));</span><span class="s3">\n  </span><span class="s1">return samples;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export {default as interpolate} from </span><span class="s3">\&quot;</span><span class="s1">./value.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateArray} from </span><span class="s3">\&quot;</span><span class="s1">./array.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateBasis} from </span><span class="s3">\&quot;</span><span class="s1">./basis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateBasisClosed} from </span><span class="s3">\&quot;</span><span class="s1">./basisClosed.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateDate} from </span><span class="s3">\&quot;</span><span class="s1">./date.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateDiscrete} from </span><span class="s3">\&quot;</span><span class="s1">./discrete.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateHue} from </span><span class="s3">\&quot;</span><span class="s1">./hue.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateNumber} from </span><span class="s3">\&quot;</span><span class="s1">./number.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateNumberArray} from </span><span class="s3">\&quot;</span><span class="s1">./numberArray.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateObject} from </span><span class="s3">\&quot;</span><span class="s1">./object.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateRound} from </span><span class="s3">\&quot;</span><span class="s1">./round.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateString} from </span><span class="s3">\&quot;</span><span class="s1">./string.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {interpolateTransformCss, interpolateTransformSvg} from </span><span class="s3">\&quot;</span><span class="s1">./transform/index.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateZoom} from </span><span class="s3">\&quot;</span><span class="s1">./zoom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateRgb, rgbBasis as interpolateRgbBasis, rgbBasisClosed as interpolateRgbBasisClosed} from </span><span class="s3">\&quot;</span><span class="s1">./rgb.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateHsl, hslLong as interpolateHslLong} from </span><span class="s3">\&quot;</span><span class="s1">./hsl.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateLab} from </span><span class="s3">\&quot;</span><span class="s1">./lab.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateHcl, hclLong as interpolateHclLong} from </span><span class="s3">\&quot;</span><span class="s1">./hcl.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as interpolateCubehelix, cubehelixLong as interpolateCubehelixLong} from </span><span class="s3">\&quot;</span><span class="s1">./cubehelix.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as piecewise} from </span><span class="s3">\&quot;</span><span class="s1">./piecewise.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">export {default as quantize} from </span><span class="s3">\&quot;</span><span class="s1">./quantize.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">return a = +a, b = +b, function(t) {</span><span class="s3">\n    </span><span class="s1">return a * (1 - t) + b * t;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">if (!b) b = [];</span><span class="s3">\n  </span><span class="s1">var n = a ? Math.min(b.length, a.length) : 0,</span><span class="s3">\n      </span><span class="s1">c = b.slice(),</span><span class="s3">\n      </span><span class="s1">i;</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">for (i = 0; i &lt; n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;</span><span class="s3">\n    </span><span class="s1">return c;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function isNumberArray(x) {</span><span class="s3">\n  </span><span class="s1">return ArrayBuffer.isView(x) &amp;&amp; !(x instanceof DataView);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import value from </span><span class="s3">\&quot;</span><span class="s1">./value.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">var i = {},</span><span class="s3">\n      </span><span class="s1">c = {},</span><span class="s3">\n      </span><span class="s1">k;</span><span class="s3">\n\n  </span><span class="s1">if (a === null || typeof a !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) a = {};</span><span class="s3">\n  </span><span class="s1">if (b === null || typeof b !== </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot;</span><span class="s1">) b = {};</span><span class="s3">\n\n  </span><span class="s1">for (k in b) {</span><span class="s3">\n    </span><span class="s1">if (k in a) {</span><span class="s3">\n      </span><span class="s1">i[k] = value(a[k], b[k]);</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">c[k] = b[k];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">for (k in i) c[k] = i[k](t);</span><span class="s3">\n    </span><span class="s1">return c;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {default as value} from </span><span class="s3">\&quot;</span><span class="s1">./value.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function piecewise(interpolate, values) {</span><span class="s3">\n  </span><span class="s1">if (values === undefined) values = interpolate, interpolate = value;</span><span class="s3">\n  </span><span class="s1">var i = 0, n = values.length - 1, v = values[0], I = new Array(n &lt; 0 ? 0 : n);</span><span class="s3">\n  </span><span class="s1">while (i &lt; n) I[i] = interpolate(v, v = values[++i]);</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));</span><span class="s3">\n    </span><span class="s1">return I[i](t - i);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {rgb as colorRgb} from </span><span class="s3">\&quot;</span><span class="s1">d3-color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import basis from </span><span class="s3">\&quot;</span><span class="s1">./basis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import basisClosed from </span><span class="s3">\&quot;</span><span class="s1">./basisClosed.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import nogamma, {gamma} from </span><span class="s3">\&quot;</span><span class="s1">./color.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default (function rgbGamma(y) {</span><span class="s3">\n  </span><span class="s1">var color = gamma(y);</span><span class="s3">\n\n  </span><span class="s1">function rgb(start, end) {</span><span class="s3">\n    </span><span class="s1">var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),</span><span class="s3">\n        </span><span class="s1">g = color(start.g, end.g),</span><span class="s3">\n        </span><span class="s1">b = color(start.b, end.b),</span><span class="s3">\n        </span><span class="s1">opacity = nogamma(start.opacity, end.opacity);</span><span class="s3">\n    </span><span class="s1">return function(t) {</span><span class="s3">\n      </span><span class="s1">start.r = r(t);</span><span class="s3">\n      </span><span class="s1">start.g = g(t);</span><span class="s3">\n      </span><span class="s1">start.b = b(t);</span><span class="s3">\n      </span><span class="s1">start.opacity = opacity(t);</span><span class="s3">\n      </span><span class="s1">return start + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">rgb.gamma = rgbGamma;</span><span class="s3">\n\n  </span><span class="s1">return rgb;</span><span class="s3">\n</span><span class="s1">})(1);</span><span class="s3">\n\n</span><span class="s1">function rgbSpline(spline) {</span><span class="s3">\n  </span><span class="s1">return function(colors) {</span><span class="s3">\n    </span><span class="s1">var n = colors.length,</span><span class="s3">\n        </span><span class="s1">r = new Array(n),</span><span class="s3">\n        </span><span class="s1">g = new Array(n),</span><span class="s3">\n        </span><span class="s1">b = new Array(n),</span><span class="s3">\n        </span><span class="s1">i, color;</span><span class="s3">\n    </span><span class="s1">for (i = 0; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">color = colorRgb(colors[i]);</span><span class="s3">\n      </span><span class="s1">r[i] = color.r || 0;</span><span class="s3">\n      </span><span class="s1">g[i] = color.g || 0;</span><span class="s3">\n      </span><span class="s1">b[i] = color.b || 0;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">r = spline(r);</span><span class="s3">\n    </span><span class="s1">g = spline(g);</span><span class="s3">\n    </span><span class="s1">b = spline(b);</span><span class="s3">\n    </span><span class="s1">color.opacity = 1;</span><span class="s3">\n    </span><span class="s1">return function(t) {</span><span class="s3">\n      </span><span class="s1">color.r = r(t);</span><span class="s3">\n      </span><span class="s1">color.g = g(t);</span><span class="s3">\n      </span><span class="s1">color.b = b(t);</span><span class="s3">\n      </span><span class="s1">return color + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export var rgbBasis = rgbSpline(basis);</span><span class="s3">\n</span><span class="s1">export var rgbBasisClosed = rgbSpline(basisClosed);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">return a = +a, b = +b, function(t) {</span><span class="s3">\n    </span><span class="s1">return Math.round(a * (1 - t) + b * t);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import number from </span><span class="s3">\&quot;</span><span class="s1">./number.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var reA = /[-+]?(?:</span><span class="s3">\\</span><span class="s1">d+</span><span class="s3">\\</span><span class="s1">.?</span><span class="s3">\\</span><span class="s1">d*|</span><span class="s3">\\</span><span class="s1">.?</span><span class="s3">\\</span><span class="s1">d+)(?:[eE][-+]?</span><span class="s3">\\</span><span class="s1">d+)?/g,</span><span class="s3">\n    </span><span class="s1">reB = new RegExp(reA.source, </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">function zero(b) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return b;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function one(b) {</span><span class="s3">\n  </span><span class="s1">return function(t) {</span><span class="s3">\n    </span><span class="s1">return b(t) + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b</span><span class="s3">\n      </span><span class="s1">am, // current match in a</span><span class="s3">\n      </span><span class="s1">bm, // current match in b</span><span class="s3">\n      </span><span class="s1">bs, // string preceding current number in b, if any</span><span class="s3">\n      </span><span class="s1">i = -1, // index in s</span><span class="s3">\n      </span><span class="s1">s = [], // string constants and placeholders</span><span class="s3">\n      </span><span class="s1">q = []; // number interpolators</span><span class="s3">\n\n  </span><span class="s1">// Coerce inputs to strings.</span><span class="s3">\n  </span><span class="s1">a = a + </span><span class="s3">\&quot;\&quot;</span><span class="s1">, b = b + </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n\n  </span><span class="s1">// Interpolate pairs of numbers in a &amp; b.</span><span class="s3">\n  </span><span class="s1">while ((am = reA.exec(a))</span><span class="s3">\n      </span><span class="s1">&amp;&amp; (bm = reB.exec(b))) {</span><span class="s3">\n    </span><span class="s1">if ((bs = bm.index) &gt; bi) { // a string precedes the next number in b</span><span class="s3">\n      </span><span class="s1">bs = b.slice(bi, bs);</span><span class="s3">\n      </span><span class="s1">if (s[i]) s[i] += bs; // coalesce with previous string</span><span class="s3">\n      </span><span class="s1">else s[++i] = bs;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if ((am = am[0]) === (bm = bm[0])) { // numbers in a &amp; b match</span><span class="s3">\n      </span><span class="s1">if (s[i]) s[i] += bm; // coalesce with previous string</span><span class="s3">\n      </span><span class="s1">else s[++i] = bm;</span><span class="s3">\n    </span><span class="s1">} else { // interpolate non-matching numbers</span><span class="s3">\n      </span><span class="s1">s[++i] = null;</span><span class="s3">\n      </span><span class="s1">q.push({i: i, x: number(am, bm)});</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">bi = reB.lastIndex;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Add remains of b.</span><span class="s3">\n  </span><span class="s1">if (bi &lt; b.length) {</span><span class="s3">\n    </span><span class="s1">bs = b.slice(bi);</span><span class="s3">\n    </span><span class="s1">if (s[i]) s[i] += bs; // coalesce with previous string</span><span class="s3">\n    </span><span class="s1">else s[++i] = bs;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">// Special optimization for only a single match.</span><span class="s3">\n  </span><span class="s1">// Otherwise, interpolate each of the numbers and rejoin the string.</span><span class="s3">\n  </span><span class="s1">return s.length &lt; 2 ? (q[0]</span><span class="s3">\n      </span><span class="s1">? one(q[0].x)</span><span class="s3">\n      </span><span class="s1">: zero(b))</span><span class="s3">\n      </span><span class="s1">: (b = q.length, function(t) {</span><span class="s3">\n          </span><span class="s1">for (var i = 0, o; i &lt; b; ++i) s[(o = q[i]).i] = o.x(t);</span><span class="s3">\n          </span><span class="s1">return s.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n        </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;var degrees = 180 / Math.PI;</span><span class="s3">\n\n</span><span class="s1">export var identity = {</span><span class="s3">\n  </span><span class="s1">translateX: 0,</span><span class="s3">\n  </span><span class="s1">translateY: 0,</span><span class="s3">\n  </span><span class="s1">rotate: 0,</span><span class="s3">\n  </span><span class="s1">skewX: 0,</span><span class="s3">\n  </span><span class="s1">scaleX: 1,</span><span class="s3">\n  </span><span class="s1">scaleY: 1</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default function(a, b, c, d, e, f) {</span><span class="s3">\n  </span><span class="s1">var scaleX, scaleY, skewX;</span><span class="s3">\n  </span><span class="s1">if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;</span><span class="s3">\n  </span><span class="s1">if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;</span><span class="s3">\n  </span><span class="s1">if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;</span><span class="s3">\n  </span><span class="s1">if (a * d &lt; b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;</span><span class="s3">\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">translateX: e,</span><span class="s3">\n    </span><span class="s1">translateY: f,</span><span class="s3">\n    </span><span class="s1">rotate: Math.atan2(b, a) * degrees,</span><span class="s3">\n    </span><span class="s1">skewX: Math.atan(skewX) * degrees,</span><span class="s3">\n    </span><span class="s1">scaleX: scaleX,</span><span class="s3">\n    </span><span class="s1">scaleY: scaleY</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import decompose, {identity} from </span><span class="s3">\&quot;</span><span class="s1">./decompose.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var svgNode;</span><span class="s3">\n\n</span><span class="s1">/* eslint-disable no-undef */</span><span class="s3">\n</span><span class="s1">export function parseCss(value) {</span><span class="s3">\n  </span><span class="s1">const m = new (typeof DOMMatrix === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? DOMMatrix : WebKitCSSMatrix)(value + </span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function parseSvg(value) {</span><span class="s3">\n  </span><span class="s1">if (value == null) return identity;</span><span class="s3">\n  </span><span class="s1">if (!svgNode) svgNode = document.createElementNS(</span><span class="s3">\&quot;</span><span class="s1">http://www.w3.org/2000/svg</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n  </span><span class="s1">svgNode.setAttribute(</span><span class="s3">\&quot;</span><span class="s1">transform</span><span class="s3">\&quot;</span><span class="s1">, value);</span><span class="s3">\n  </span><span class="s1">if (!(value = svgNode.transform.baseVal.consolidate())) return identity;</span><span class="s3">\n  </span><span class="s1">value = value.matrix;</span><span class="s3">\n  </span><span class="s1">return decompose(value.a, value.b, value.c, value.d, value.e, value.f);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import number from </span><span class="s3">\&quot;</span><span class="s1">../number.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {parseCss, parseSvg} from </span><span class="s3">\&quot;</span><span class="s1">./parse.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function interpolateTransform(parse, pxComma, pxParen, degParen) {</span><span class="s3">\n\n  </span><span class="s1">function pop(s) {</span><span class="s3">\n    </span><span class="s1">return s.length ? s.pop() + </span><span class="s3">\&quot; \&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function translate(xa, ya, xb, yb, s, q) {</span><span class="s3">\n    </span><span class="s1">if (xa !== xb || ya !== yb) {</span><span class="s3">\n      </span><span class="s1">var i = s.push(</span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot;</span><span class="s1">, null, pxComma, null, pxParen);</span><span class="s3">\n      </span><span class="s1">q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});</span><span class="s3">\n    </span><span class="s1">} else if (xb || yb) {</span><span class="s3">\n      </span><span class="s1">s.push(</span><span class="s3">\&quot;</span><span class="s1">translate(</span><span class="s3">\&quot; </span><span class="s1">+ xb + pxComma + yb + pxParen);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function rotate(a, b, s, q) {</span><span class="s3">\n    </span><span class="s1">if (a !== b) {</span><span class="s3">\n      </span><span class="s1">if (a - b &gt; 180) b += 360; else if (b - a &gt; 180) a += 360; // shortest path</span><span class="s3">\n      </span><span class="s1">q.push({i: s.push(pop(s) + </span><span class="s3">\&quot;</span><span class="s1">rotate(</span><span class="s3">\&quot;</span><span class="s1">, null, degParen) - 2, x: number(a, b)});</span><span class="s3">\n    </span><span class="s1">} else if (b) {</span><span class="s3">\n      </span><span class="s1">s.push(pop(s) + </span><span class="s3">\&quot;</span><span class="s1">rotate(</span><span class="s3">\&quot; </span><span class="s1">+ b + degParen);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function skewX(a, b, s, q) {</span><span class="s3">\n    </span><span class="s1">if (a !== b) {</span><span class="s3">\n      </span><span class="s1">q.push({i: s.push(pop(s) + </span><span class="s3">\&quot;</span><span class="s1">skewX(</span><span class="s3">\&quot;</span><span class="s1">, null, degParen) - 2, x: number(a, b)});</span><span class="s3">\n    </span><span class="s1">} else if (b) {</span><span class="s3">\n      </span><span class="s1">s.push(pop(s) + </span><span class="s3">\&quot;</span><span class="s1">skewX(</span><span class="s3">\&quot; </span><span class="s1">+ b + degParen);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function scale(xa, ya, xb, yb, s, q) {</span><span class="s3">\n    </span><span class="s1">if (xa !== xb || ya !== yb) {</span><span class="s3">\n      </span><span class="s1">var i = s.push(pop(s) + </span><span class="s3">\&quot;</span><span class="s1">scale(</span><span class="s3">\&quot;</span><span class="s1">, null, </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot;</span><span class="s1">, null, </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});</span><span class="s3">\n    </span><span class="s1">} else if (xb !== 1 || yb !== 1) {</span><span class="s3">\n      </span><span class="s1">s.push(pop(s) + </span><span class="s3">\&quot;</span><span class="s1">scale(</span><span class="s3">\&quot; </span><span class="s1">+ xb + </span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\&quot; </span><span class="s1">+ yb + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return function(a, b) {</span><span class="s3">\n    </span><span class="s1">var s = [], // string constants and placeholders</span><span class="s3">\n        </span><span class="s1">q = []; // number interpolators</span><span class="s3">\n    </span><span class="s1">a = parse(a), b = parse(b);</span><span class="s3">\n    </span><span class="s1">translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);</span><span class="s3">\n    </span><span class="s1">rotate(a.rotate, b.rotate, s, q);</span><span class="s3">\n    </span><span class="s1">skewX(a.skewX, b.skewX, s, q);</span><span class="s3">\n    </span><span class="s1">scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);</span><span class="s3">\n    </span><span class="s1">a = b = null; // gc</span><span class="s3">\n    </span><span class="s1">return function(t) {</span><span class="s3">\n      </span><span class="s1">var i = -1, n = q.length, o;</span><span class="s3">\n      </span><span class="s1">while (++i &lt; n) s[(o = q[i]).i] = o.x(t);</span><span class="s3">\n      </span><span class="s1">return s.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export var interpolateTransformCss = interpolateTransform(parseCss, </span><span class="s3">\&quot;</span><span class="s1">px, </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">px)</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">deg)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">export var interpolateTransformSvg = interpolateTransform(parseSvg, </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {color} from </span><span class="s3">\&quot;</span><span class="s1">d3-color</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import rgb from </span><span class="s3">\&quot;</span><span class="s1">./rgb.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {genericArray} from </span><span class="s3">\&quot;</span><span class="s1">./array.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import date from </span><span class="s3">\&quot;</span><span class="s1">./date.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import number from </span><span class="s3">\&quot;</span><span class="s1">./number.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import object from </span><span class="s3">\&quot;</span><span class="s1">./object.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import string from </span><span class="s3">\&quot;</span><span class="s1">./string.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import constant from </span><span class="s3">\&quot;</span><span class="s1">./constant.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import numberArray, {isNumberArray} from </span><span class="s3">\&quot;</span><span class="s1">./numberArray.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(a, b) {</span><span class="s3">\n  </span><span class="s1">var t = typeof b, c;</span><span class="s3">\n  </span><span class="s1">return b == null || t === </span><span class="s3">\&quot;</span><span class="s1">boolean</span><span class="s3">\&quot; </span><span class="s1">? constant(b)</span><span class="s3">\n      </span><span class="s1">: (t === </span><span class="s3">\&quot;</span><span class="s1">number</span><span class="s3">\&quot; </span><span class="s1">? number</span><span class="s3">\n      </span><span class="s1">: t === </span><span class="s3">\&quot;</span><span class="s1">string</span><span class="s3">\&quot; </span><span class="s1">? ((c = color(b)) ? (b = c, rgb) : string)</span><span class="s3">\n      </span><span class="s1">: b instanceof color ? rgb</span><span class="s3">\n      </span><span class="s1">: b instanceof Date ? date</span><span class="s3">\n      </span><span class="s1">: isNumberArray(b) ? numberArray</span><span class="s3">\n      </span><span class="s1">: Array.isArray(b) ? genericArray</span><span class="s3">\n      </span><span class="s1">: typeof b.valueOf !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; typeof b.toString !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">|| isNaN(b) ? object</span><span class="s3">\n      </span><span class="s1">: number)(a, b);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;const pi = Math.PI,</span><span class="s3">\n    </span><span class="s1">tau = 2 * pi,</span><span class="s3">\n    </span><span class="s1">epsilon = 1e-6,</span><span class="s3">\n    </span><span class="s1">tauEpsilon = tau - epsilon;</span><span class="s3">\n\n</span><span class="s1">function append(strings) {</span><span class="s3">\n  </span><span class="s1">this._ += strings[0];</span><span class="s3">\n  </span><span class="s1">for (let i = 1, n = strings.length; i &lt; n; ++i) {</span><span class="s3">\n    </span><span class="s1">this._ += arguments[i] + strings[i];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function appendRound(digits) {</span><span class="s3">\n  </span><span class="s1">let d = Math.floor(digits);</span><span class="s3">\n  </span><span class="s1">if (!(d &gt;= 0)) throw new Error(`invalid digits: ${digits}`);</span><span class="s3">\n  </span><span class="s1">if (d &gt; 15) return append;</span><span class="s3">\n  </span><span class="s1">const k = 10 ** d;</span><span class="s3">\n  </span><span class="s1">return function(strings) {</span><span class="s3">\n    </span><span class="s1">this._ += strings[0];</span><span class="s3">\n    </span><span class="s1">for (let i = 1, n = strings.length; i &lt; n; ++i) {</span><span class="s3">\n      </span><span class="s1">this._ += Math.round(arguments[i] * k) / k + strings[i];</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export class Path {</span><span class="s3">\n  </span><span class="s1">constructor(digits) {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._y0 = // start of current subpath</span><span class="s3">\n    </span><span class="s1">this._x1 = this._y1 = null; // end of current subpath</span><span class="s3">\n    </span><span class="s1">this._ = </span><span class="s3">\&quot;\&quot;</span><span class="s1">;</span><span class="s3">\n    </span><span class="s1">this._append = digits == null ? append : appendRound(digits);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">moveTo(x, y) {</span><span class="s3">\n    </span><span class="s1">this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">closePath() {</span><span class="s3">\n    </span><span class="s1">if (this._x1 !== null) {</span><span class="s3">\n      </span><span class="s1">this._x1 = this._x0, this._y1 = this._y0;</span><span class="s3">\n      </span><span class="s1">this._append`Z`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">lineTo(x, y) {</span><span class="s3">\n    </span><span class="s1">this._append`L${this._x1 = +x},${this._y1 = +y}`;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">quadraticCurveTo(x1, y1, x, y) {</span><span class="s3">\n    </span><span class="s1">this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">bezierCurveTo(x1, y1, x2, y2, x, y) {</span><span class="s3">\n    </span><span class="s1">this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">arcTo(x1, y1, x2, y2, r) {</span><span class="s3">\n    </span><span class="s1">x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;</span><span class="s3">\n\n    </span><span class="s1">// Is the radius negative? Error.</span><span class="s3">\n    </span><span class="s1">if (r &lt; 0) throw new Error(`negative radius: ${r}`);</span><span class="s3">\n\n    </span><span class="s1">let x0 = this._x1,</span><span class="s3">\n        </span><span class="s1">y0 = this._y1,</span><span class="s3">\n        </span><span class="s1">x21 = x2 - x1,</span><span class="s3">\n        </span><span class="s1">y21 = y2 - y1,</span><span class="s3">\n        </span><span class="s1">x01 = x0 - x1,</span><span class="s3">\n        </span><span class="s1">y01 = y0 - y1,</span><span class="s3">\n        </span><span class="s1">l01_2 = x01 * x01 + y01 * y01;</span><span class="s3">\n\n    </span><span class="s1">// Is this path empty? Move to (x1,y1).</span><span class="s3">\n    </span><span class="s1">if (this._x1 === null) {</span><span class="s3">\n      </span><span class="s1">this._append`M${this._x1 = x1},${this._y1 = y1}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Or, is (x1,y1) coincident with (x0,y0)? Do nothing.</span><span class="s3">\n    </span><span class="s1">else if (!(l01_2 &gt; epsilon));</span><span class="s3">\n\n    </span><span class="s1">// Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?</span><span class="s3">\n    </span><span class="s1">// Equivalently, is (x1,y1) coincident with (x2,y2)?</span><span class="s3">\n    </span><span class="s1">// Or, is the radius zero? Line to (x1,y1).</span><span class="s3">\n    </span><span class="s1">else if (!(Math.abs(y01 * x21 - y21 * x01) &gt; epsilon) || !r) {</span><span class="s3">\n      </span><span class="s1">this._append`L${this._x1 = x1},${this._y1 = y1}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Otherwise, draw an arc!</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n      </span><span class="s1">let x20 = x2 - x0,</span><span class="s3">\n          </span><span class="s1">y20 = y2 - y0,</span><span class="s3">\n          </span><span class="s1">l21_2 = x21 * x21 + y21 * y21,</span><span class="s3">\n          </span><span class="s1">l20_2 = x20 * x20 + y20 * y20,</span><span class="s3">\n          </span><span class="s1">l21 = Math.sqrt(l21_2),</span><span class="s3">\n          </span><span class="s1">l01 = Math.sqrt(l01_2),</span><span class="s3">\n          </span><span class="s1">l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),</span><span class="s3">\n          </span><span class="s1">t01 = l / l01,</span><span class="s3">\n          </span><span class="s1">t21 = l / l21;</span><span class="s3">\n\n      </span><span class="s1">// If the start tangent is not coincident with (x0,y0), line to.</span><span class="s3">\n      </span><span class="s1">if (Math.abs(t01 - 1) &gt; epsilon) {</span><span class="s3">\n        </span><span class="s1">this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">this._append`A${r},${r},0,0,${+(y01 * x20 &gt; x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">arc(x, y, r, a0, a1, ccw) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y, r = +r, ccw = !!ccw;</span><span class="s3">\n\n    </span><span class="s1">// Is the radius negative? Error.</span><span class="s3">\n    </span><span class="s1">if (r &lt; 0) throw new Error(`negative radius: ${r}`);</span><span class="s3">\n\n    </span><span class="s1">let dx = r * Math.cos(a0),</span><span class="s3">\n        </span><span class="s1">dy = r * Math.sin(a0),</span><span class="s3">\n        </span><span class="s1">x0 = x + dx,</span><span class="s3">\n        </span><span class="s1">y0 = y + dy,</span><span class="s3">\n        </span><span class="s1">cw = 1 ^ ccw,</span><span class="s3">\n        </span><span class="s1">da = ccw ? a0 - a1 : a1 - a0;</span><span class="s3">\n\n    </span><span class="s1">// Is this path empty? Move to (x0,y0).</span><span class="s3">\n    </span><span class="s1">if (this._x1 === null) {</span><span class="s3">\n      </span><span class="s1">this._append`M${x0},${y0}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).</span><span class="s3">\n    </span><span class="s1">else if (Math.abs(this._x1 - x0) &gt; epsilon || Math.abs(this._y1 - y0) &gt; epsilon) {</span><span class="s3">\n      </span><span class="s1">this._append`L${x0},${y0}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Is this arc empty? We’re done.</span><span class="s3">\n    </span><span class="s1">if (!r) return;</span><span class="s3">\n\n    </span><span class="s1">// Does the angle go the wrong way? Flip the direction.</span><span class="s3">\n    </span><span class="s1">if (da &lt; 0) da = da % tau + tau;</span><span class="s3">\n\n    </span><span class="s1">// Is this a complete circle? Draw two arcs to complete the circle.</span><span class="s3">\n    </span><span class="s1">if (da &gt; tauEpsilon) {</span><span class="s3">\n      </span><span class="s1">this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Is this arc non-empty? Draw an arc!</span><span class="s3">\n    </span><span class="s1">else if (da &gt; epsilon) {</span><span class="s3">\n      </span><span class="s1">this._append`A${r},${r},0,${+(da &gt;= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">rect(x, y, w, h) {</span><span class="s3">\n    </span><span class="s1">this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">toString() {</span><span class="s3">\n    </span><span class="s1">return this._;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function path() {</span><span class="s3">\n  </span><span class="s1">return new Path;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Allow instanceof d3.path</span><span class="s3">\n</span><span class="s1">path.prototype = Path.prototype;</span><span class="s3">\n\n</span><span class="s1">export function pathRound(digits = 3) {</span><span class="s3">\n  </span><span class="s1">return new Path(+digits);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(specifier) {</span><span class="s3">\n  </span><span class="s1">var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;</span><span class="s3">\n  </span><span class="s1">while (i &lt; n) colors[i] = </span><span class="s3">\&quot;</span><span class="s1">#</span><span class="s3">\&quot; </span><span class="s1">+ specifier.slice(i * 6, ++i * 6);</span><span class="s3">\n  </span><span class="s1">return colors;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function constants(x) {</span><span class="s3">\n  </span><span class="s1">return function() {</span><span class="s3">\n    </span><span class="s1">return x;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {bisect} from </span><span class="s3">\&quot;</span><span class="s1">d3-array</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {interpolate as interpolateValue, interpolateNumber, interpolateRound} from </span><span class="s3">\&quot;</span><span class="s1">d3-interpolate</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import constant from </span><span class="s3">\&quot;</span><span class="s1">./constant.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import number from </span><span class="s3">\&quot;</span><span class="s1">./number.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var unit = [0, 1];</span><span class="s3">\n\n</span><span class="s1">export function identity(x) {</span><span class="s3">\n  </span><span class="s1">return x;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function normalize(a, b) {</span><span class="s3">\n  </span><span class="s1">return (b -= (a = +a))</span><span class="s3">\n      </span><span class="s1">? function(x) { return (x - a) / b; }</span><span class="s3">\n      </span><span class="s1">: constant(isNaN(b) ? NaN : 0.5);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function clamper(a, b) {</span><span class="s3">\n  </span><span class="s1">var t;</span><span class="s3">\n  </span><span class="s1">if (a &gt; b) t = a, a = b, b = t;</span><span class="s3">\n  </span><span class="s1">return function(x) { return Math.max(a, Math.min(b, x)); };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].</span><span class="s3">\n</span><span class="s1">// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].</span><span class="s3">\n</span><span class="s1">function bimap(domain, range, interpolate) {</span><span class="s3">\n  </span><span class="s1">var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];</span><span class="s3">\n  </span><span class="s1">if (d1 &lt; d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);</span><span class="s3">\n  </span><span class="s1">else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);</span><span class="s3">\n  </span><span class="s1">return function(x) { return r0(d0(x)); };</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function polymap(domain, range, interpolate) {</span><span class="s3">\n  </span><span class="s1">var j = Math.min(domain.length, range.length) - 1,</span><span class="s3">\n      </span><span class="s1">d = new Array(j),</span><span class="s3">\n      </span><span class="s1">r = new Array(j),</span><span class="s3">\n      </span><span class="s1">i = -1;</span><span class="s3">\n\n  </span><span class="s1">// Reverse descending domains.</span><span class="s3">\n  </span><span class="s1">if (domain[j] &lt; domain[0]) {</span><span class="s3">\n    </span><span class="s1">domain = domain.slice().reverse();</span><span class="s3">\n    </span><span class="s1">range = range.slice().reverse();</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">while (++i &lt; j) {</span><span class="s3">\n    </span><span class="s1">d[i] = normalize(domain[i], domain[i + 1]);</span><span class="s3">\n    </span><span class="s1">r[i] = interpolate(range[i], range[i + 1]);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return function(x) {</span><span class="s3">\n    </span><span class="s1">var i = bisect(domain, x, 1, j) - 1;</span><span class="s3">\n    </span><span class="s1">return r[i](d[i](x));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function copy(source, target) {</span><span class="s3">\n  </span><span class="s1">return target</span><span class="s3">\n      </span><span class="s1">.domain(source.domain())</span><span class="s3">\n      </span><span class="s1">.range(source.range())</span><span class="s3">\n      </span><span class="s1">.interpolate(source.interpolate())</span><span class="s3">\n      </span><span class="s1">.clamp(source.clamp())</span><span class="s3">\n      </span><span class="s1">.unknown(source.unknown());</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function transformer() {</span><span class="s3">\n  </span><span class="s1">var domain = unit,</span><span class="s3">\n      </span><span class="s1">range = unit,</span><span class="s3">\n      </span><span class="s1">interpolate = interpolateValue,</span><span class="s3">\n      </span><span class="s1">transform,</span><span class="s3">\n      </span><span class="s1">untransform,</span><span class="s3">\n      </span><span class="s1">unknown,</span><span class="s3">\n      </span><span class="s1">clamp = identity,</span><span class="s3">\n      </span><span class="s1">piecewise,</span><span class="s3">\n      </span><span class="s1">output,</span><span class="s3">\n      </span><span class="s1">input;</span><span class="s3">\n\n  </span><span class="s1">function rescale() {</span><span class="s3">\n    </span><span class="s1">var n = Math.min(domain.length, range.length);</span><span class="s3">\n    </span><span class="s1">if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);</span><span class="s3">\n    </span><span class="s1">piecewise = n &gt; 2 ? polymap : bimap;</span><span class="s3">\n    </span><span class="s1">output = input = null;</span><span class="s3">\n    </span><span class="s1">return scale;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function scale(x) {</span><span class="s3">\n    </span><span class="s1">return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">scale.invert = function(y) {</span><span class="s3">\n    </span><span class="s1">return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.domain = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.range = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (range = Array.from(_), rescale()) : range.slice();</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.rangeRound = function(_) {</span><span class="s3">\n    </span><span class="s1">return range = Array.from(_), interpolate = interpolateRound, rescale();</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.clamp = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.interpolate = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (interpolate = _, rescale()) : interpolate;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.unknown = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (unknown = _, scale) : unknown;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return function(t, u) {</span><span class="s3">\n    </span><span class="s1">transform = t, untransform = u;</span><span class="s3">\n    </span><span class="s1">return rescale();</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function continuous() {</span><span class="s3">\n  </span><span class="s1">return transformer()(identity, identity);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export function initRange(domain, range) {</span><span class="s3">\n  </span><span class="s1">switch (arguments.length) {</span><span class="s3">\n    </span><span class="s1">case 0: break;</span><span class="s3">\n    </span><span class="s1">case 1: this.range(domain); break;</span><span class="s3">\n    </span><span class="s1">default: this.range(range).domain(domain); break;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function initInterpolator(domain, interpolator) {</span><span class="s3">\n  </span><span class="s1">switch (arguments.length) {</span><span class="s3">\n    </span><span class="s1">case 0: break;</span><span class="s3">\n    </span><span class="s1">case 1: {</span><span class="s3">\n      </span><span class="s1">if (typeof domain === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) this.interpolator(domain);</span><span class="s3">\n      </span><span class="s1">else this.range(domain);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">default: {</span><span class="s3">\n      </span><span class="s1">this.domain(domain);</span><span class="s3">\n      </span><span class="s1">if (typeof interpolator === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) this.interpolator(interpolator);</span><span class="s3">\n      </span><span class="s1">else this.range(interpolator);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return this;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {ticks, tickIncrement} from </span><span class="s3">\&quot;</span><span class="s1">d3-array</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import continuous, {copy} from </span><span class="s3">\&quot;</span><span class="s1">./continuous.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {initRange} from </span><span class="s3">\&quot;</span><span class="s1">./init.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import tickFormat from </span><span class="s3">\&quot;</span><span class="s1">./tickFormat.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export function linearish(scale) {</span><span class="s3">\n  </span><span class="s1">var domain = scale.domain;</span><span class="s3">\n\n  </span><span class="s1">scale.ticks = function(count) {</span><span class="s3">\n    </span><span class="s1">var d = domain();</span><span class="s3">\n    </span><span class="s1">return ticks(d[0], d[d.length - 1], count == null ? 10 : count);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.tickFormat = function(count, specifier) {</span><span class="s3">\n    </span><span class="s1">var d = domain();</span><span class="s3">\n    </span><span class="s1">return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.nice = function(count) {</span><span class="s3">\n    </span><span class="s1">if (count == null) count = 10;</span><span class="s3">\n\n    </span><span class="s1">var d = domain();</span><span class="s3">\n    </span><span class="s1">var i0 = 0;</span><span class="s3">\n    </span><span class="s1">var i1 = d.length - 1;</span><span class="s3">\n    </span><span class="s1">var start = d[i0];</span><span class="s3">\n    </span><span class="s1">var stop = d[i1];</span><span class="s3">\n    </span><span class="s1">var prestep;</span><span class="s3">\n    </span><span class="s1">var step;</span><span class="s3">\n    </span><span class="s1">var maxIter = 10;</span><span class="s3">\n\n    </span><span class="s1">if (stop &lt; start) {</span><span class="s3">\n      </span><span class="s1">step = start, start = stop, stop = step;</span><span class="s3">\n      </span><span class="s1">step = i0, i0 = i1, i1 = step;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    \n    </span><span class="s1">while (maxIter-- &gt; 0) {</span><span class="s3">\n      </span><span class="s1">step = tickIncrement(start, stop, count);</span><span class="s3">\n      </span><span class="s1">if (step === prestep) {</span><span class="s3">\n        </span><span class="s1">d[i0] = start</span><span class="s3">\n        </span><span class="s1">d[i1] = stop</span><span class="s3">\n        </span><span class="s1">return domain(d);</span><span class="s3">\n      </span><span class="s1">} else if (step &gt; 0) {</span><span class="s3">\n        </span><span class="s1">start = Math.floor(start / step) * step;</span><span class="s3">\n        </span><span class="s1">stop = Math.ceil(stop / step) * step;</span><span class="s3">\n      </span><span class="s1">} else if (step &lt; 0) {</span><span class="s3">\n        </span><span class="s1">start = Math.ceil(start * step) / step;</span><span class="s3">\n        </span><span class="s1">stop = Math.floor(stop * step) / step;</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">prestep = step;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return scale;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return scale;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function linear() {</span><span class="s3">\n  </span><span class="s1">var scale = continuous();</span><span class="s3">\n\n  </span><span class="s1">scale.copy = function() {</span><span class="s3">\n    </span><span class="s1">return copy(scale, linear());</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">initRange.apply(scale, arguments);</span><span class="s3">\n\n  </span><span class="s1">return linearish(scale);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function nice(domain, interval) {</span><span class="s3">\n  </span><span class="s1">domain = domain.slice();</span><span class="s3">\n\n  </span><span class="s1">var i0 = 0,</span><span class="s3">\n      </span><span class="s1">i1 = domain.length - 1,</span><span class="s3">\n      </span><span class="s1">x0 = domain[i0],</span><span class="s3">\n      </span><span class="s1">x1 = domain[i1],</span><span class="s3">\n      </span><span class="s1">t;</span><span class="s3">\n\n  </span><span class="s1">if (x1 &lt; x0) {</span><span class="s3">\n    </span><span class="s1">t = i0, i0 = i1, i1 = t;</span><span class="s3">\n    </span><span class="s1">t = x0, x0 = x1, x1 = t;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">domain[i0] = interval.floor(x0);</span><span class="s3">\n  </span><span class="s1">domain[i1] = interval.ceil(x1);</span><span class="s3">\n  </span><span class="s1">return domain;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function number(x) {</span><span class="s3">\n  </span><span class="s1">return +x;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {InternMap} from </span><span class="s3">\&quot;</span><span class="s1">d3-array</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {initRange} from </span><span class="s3">\&quot;</span><span class="s1">./init.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export const implicit = Symbol(</span><span class="s3">\&quot;</span><span class="s1">implicit</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export default function ordinal() {</span><span class="s3">\n  </span><span class="s1">var index = new InternMap(),</span><span class="s3">\n      </span><span class="s1">domain = [],</span><span class="s3">\n      </span><span class="s1">range = [],</span><span class="s3">\n      </span><span class="s1">unknown = implicit;</span><span class="s3">\n\n  </span><span class="s1">function scale(d) {</span><span class="s3">\n    </span><span class="s1">let i = index.get(d);</span><span class="s3">\n    </span><span class="s1">if (i === undefined) {</span><span class="s3">\n      </span><span class="s1">if (unknown !== implicit) return unknown;</span><span class="s3">\n      </span><span class="s1">index.set(d, i = domain.push(d) - 1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return range[i % range.length];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">scale.domain = function(_) {</span><span class="s3">\n    </span><span class="s1">if (!arguments.length) return domain.slice();</span><span class="s3">\n    </span><span class="s1">domain = [], index = new InternMap();</span><span class="s3">\n    </span><span class="s1">for (const value of _) {</span><span class="s3">\n      </span><span class="s1">if (index.has(value)) continue;</span><span class="s3">\n      </span><span class="s1">index.set(value, domain.push(value) - 1);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return scale;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.range = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (range = Array.from(_), scale) : range.slice();</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.unknown = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (unknown = _, scale) : unknown;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.copy = function() {</span><span class="s3">\n    </span><span class="s1">return ordinal(domain, range).unknown(unknown);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">initRange.apply(scale, arguments);</span><span class="s3">\n\n  </span><span class="s1">return scale;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {tickStep} from </span><span class="s3">\&quot;</span><span class="s1">d3-array</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from </span><span class="s3">\&quot;</span><span class="s1">d3-format</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function tickFormat(start, stop, count, specifier) {</span><span class="s3">\n  </span><span class="s1">var step = tickStep(start, stop, count),</span><span class="s3">\n      </span><span class="s1">precision;</span><span class="s3">\n  </span><span class="s1">specifier = formatSpecifier(specifier == null ? </span><span class="s3">\&quot;</span><span class="s1">,f</span><span class="s3">\&quot; </span><span class="s1">: specifier);</span><span class="s3">\n  </span><span class="s1">switch (specifier.type) {</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n      </span><span class="s1">var value = Math.max(Math.abs(start), Math.abs(stop));</span><span class="s3">\n      </span><span class="s1">if (specifier.precision == null &amp;&amp; !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;</span><span class="s3">\n      </span><span class="s1">return formatPrefix(specifier, value);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;\&quot;</span><span class="s1">:</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">p</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">r</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n      </span><span class="s1">if (specifier.precision == null &amp;&amp; !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">f</span><span class="s3">\&quot;</span><span class="s1">:</span><span class="s3">\n    </span><span class="s1">case </span><span class="s3">\&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">: {</span><span class="s3">\n      </span><span class="s1">if (specifier.precision == null &amp;&amp; !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === </span><span class="s3">\&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">) * 2;</span><span class="s3">\n      </span><span class="s1">break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return format(specifier);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from </span><span class="s3">\&quot;</span><span class="s1">d3-time</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {timeFormat} from </span><span class="s3">\&quot;</span><span class="s1">d3-time-format</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import continuous, {copy} from </span><span class="s3">\&quot;</span><span class="s1">./continuous.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {initRange} from </span><span class="s3">\&quot;</span><span class="s1">./init.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import nice from </span><span class="s3">\&quot;</span><span class="s1">./nice.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function date(t) {</span><span class="s3">\n  </span><span class="s1">return new Date(t);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function number(t) {</span><span class="s3">\n  </span><span class="s1">return t instanceof Date ? +t : +new Date(+t);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {</span><span class="s3">\n  </span><span class="s1">var scale = continuous(),</span><span class="s3">\n      </span><span class="s1">invert = scale.invert,</span><span class="s3">\n      </span><span class="s1">domain = scale.domain;</span><span class="s3">\n\n  </span><span class="s1">var formatMillisecond = format(</span><span class="s3">\&quot;</span><span class="s1">.%L</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">formatSecond = format(</span><span class="s3">\&quot;</span><span class="s1">:%S</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">formatMinute = format(</span><span class="s3">\&quot;</span><span class="s1">%I:%M</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">formatHour = format(</span><span class="s3">\&quot;</span><span class="s1">%I %p</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">formatDay = format(</span><span class="s3">\&quot;</span><span class="s1">%a %d</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">formatWeek = format(</span><span class="s3">\&quot;</span><span class="s1">%b %d</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">formatMonth = format(</span><span class="s3">\&quot;</span><span class="s1">%B</span><span class="s3">\&quot;</span><span class="s1">),</span><span class="s3">\n      </span><span class="s1">formatYear = format(</span><span class="s3">\&quot;</span><span class="s1">%Y</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n\n  </span><span class="s1">function tickFormat(date) {</span><span class="s3">\n    </span><span class="s1">return (second(date) &lt; date ? formatMillisecond</span><span class="s3">\n        </span><span class="s1">: minute(date) &lt; date ? formatSecond</span><span class="s3">\n        </span><span class="s1">: hour(date) &lt; date ? formatMinute</span><span class="s3">\n        </span><span class="s1">: day(date) &lt; date ? formatHour</span><span class="s3">\n        </span><span class="s1">: month(date) &lt; date ? (week(date) &lt; date ? formatDay : formatWeek)</span><span class="s3">\n        </span><span class="s1">: year(date) &lt; date ? formatMonth</span><span class="s3">\n        </span><span class="s1">: formatYear)(date);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">scale.invert = function(y) {</span><span class="s3">\n    </span><span class="s1">return new Date(invert(y));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.domain = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? domain(Array.from(_, number)) : domain().map(date);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.ticks = function(interval) {</span><span class="s3">\n    </span><span class="s1">var d = domain();</span><span class="s3">\n    </span><span class="s1">return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.tickFormat = function(count, specifier) {</span><span class="s3">\n    </span><span class="s1">return specifier == null ? tickFormat : format(specifier);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.nice = function(interval) {</span><span class="s3">\n    </span><span class="s1">var d = domain();</span><span class="s3">\n    </span><span class="s1">if (!interval || typeof interval.range !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);</span><span class="s3">\n    </span><span class="s1">return interval ? domain(nice(d, interval)) : scale;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">scale.copy = function() {</span><span class="s3">\n    </span><span class="s1">return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return scale;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function time() {</span><span class="s3">\n  </span><span class="s1">return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import constant from </span><span class="s3">\&quot;</span><span class="s1">./constant.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from </span><span class="s3">\&quot;</span><span class="s1">./math.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {withPath} from </span><span class="s3">\&quot;</span><span class="s1">./path.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function arcInnerRadius(d) {</span><span class="s3">\n  </span><span class="s1">return d.innerRadius;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function arcOuterRadius(d) {</span><span class="s3">\n  </span><span class="s1">return d.outerRadius;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function arcStartAngle(d) {</span><span class="s3">\n  </span><span class="s1">return d.startAngle;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function arcEndAngle(d) {</span><span class="s3">\n  </span><span class="s1">return d.endAngle;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function arcPadAngle(d) {</span><span class="s3">\n  </span><span class="s1">return d &amp;&amp; d.padAngle; // Note: optional!</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function intersect(x0, y0, x1, y1, x2, y2, x3, y3) {</span><span class="s3">\n  </span><span class="s1">var x10 = x1 - x0, y10 = y1 - y0,</span><span class="s3">\n      </span><span class="s1">x32 = x3 - x2, y32 = y3 - y2,</span><span class="s3">\n      </span><span class="s1">t = y32 * x10 - x32 * y10;</span><span class="s3">\n  </span><span class="s1">if (t * t &lt; epsilon) return;</span><span class="s3">\n  </span><span class="s1">t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;</span><span class="s3">\n  </span><span class="s1">return [x0 + t * x10, y0 + t * y10];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Compute perpendicular offset line of length rc.</span><span class="s3">\n</span><span class="s1">// http://mathworld.wolfram.com/Circle-LineIntersection.html</span><span class="s3">\n</span><span class="s1">function cornerTangents(x0, y0, x1, y1, r1, rc, cw) {</span><span class="s3">\n  </span><span class="s1">var x01 = x0 - x1,</span><span class="s3">\n      </span><span class="s1">y01 = y0 - y1,</span><span class="s3">\n      </span><span class="s1">lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),</span><span class="s3">\n      </span><span class="s1">ox = lo * y01,</span><span class="s3">\n      </span><span class="s1">oy = -lo * x01,</span><span class="s3">\n      </span><span class="s1">x11 = x0 + ox,</span><span class="s3">\n      </span><span class="s1">y11 = y0 + oy,</span><span class="s3">\n      </span><span class="s1">x10 = x1 + ox,</span><span class="s3">\n      </span><span class="s1">y10 = y1 + oy,</span><span class="s3">\n      </span><span class="s1">x00 = (x11 + x10) / 2,</span><span class="s3">\n      </span><span class="s1">y00 = (y11 + y10) / 2,</span><span class="s3">\n      </span><span class="s1">dx = x10 - x11,</span><span class="s3">\n      </span><span class="s1">dy = y10 - y11,</span><span class="s3">\n      </span><span class="s1">d2 = dx * dx + dy * dy,</span><span class="s3">\n      </span><span class="s1">r = r1 - rc,</span><span class="s3">\n      </span><span class="s1">D = x11 * y10 - x10 * y11,</span><span class="s3">\n      </span><span class="s1">d = (dy &lt; 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),</span><span class="s3">\n      </span><span class="s1">cx0 = (D * dy - dx * d) / d2,</span><span class="s3">\n      </span><span class="s1">cy0 = (-D * dx - dy * d) / d2,</span><span class="s3">\n      </span><span class="s1">cx1 = (D * dy + dx * d) / d2,</span><span class="s3">\n      </span><span class="s1">cy1 = (-D * dx + dy * d) / d2,</span><span class="s3">\n      </span><span class="s1">dx0 = cx0 - x00,</span><span class="s3">\n      </span><span class="s1">dy0 = cy0 - y00,</span><span class="s3">\n      </span><span class="s1">dx1 = cx1 - x00,</span><span class="s3">\n      </span><span class="s1">dy1 = cy1 - y00;</span><span class="s3">\n\n  </span><span class="s1">// Pick the closer of the two intersection points.</span><span class="s3">\n  </span><span class="s1">// TODO Is there a faster way to determine which intersection to use?</span><span class="s3">\n  </span><span class="s1">if (dx0 * dx0 + dy0 * dy0 &gt; dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">cx: cx0,</span><span class="s3">\n    </span><span class="s1">cy: cy0,</span><span class="s3">\n    </span><span class="s1">x01: -ox,</span><span class="s3">\n    </span><span class="s1">y01: -oy,</span><span class="s3">\n    </span><span class="s1">x11: cx0 * (r1 / r - 1),</span><span class="s3">\n    </span><span class="s1">y11: cy0 * (r1 / r - 1)</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function() {</span><span class="s3">\n  </span><span class="s1">var innerRadius = arcInnerRadius,</span><span class="s3">\n      </span><span class="s1">outerRadius = arcOuterRadius,</span><span class="s3">\n      </span><span class="s1">cornerRadius = constant(0),</span><span class="s3">\n      </span><span class="s1">padRadius = null,</span><span class="s3">\n      </span><span class="s1">startAngle = arcStartAngle,</span><span class="s3">\n      </span><span class="s1">endAngle = arcEndAngle,</span><span class="s3">\n      </span><span class="s1">padAngle = arcPadAngle,</span><span class="s3">\n      </span><span class="s1">context = null,</span><span class="s3">\n      </span><span class="s1">path = withPath(arc);</span><span class="s3">\n\n  </span><span class="s1">function arc() {</span><span class="s3">\n    </span><span class="s1">var buffer,</span><span class="s3">\n        </span><span class="s1">r,</span><span class="s3">\n        </span><span class="s1">r0 = +innerRadius.apply(this, arguments),</span><span class="s3">\n        </span><span class="s1">r1 = +outerRadius.apply(this, arguments),</span><span class="s3">\n        </span><span class="s1">a0 = startAngle.apply(this, arguments) - halfPi,</span><span class="s3">\n        </span><span class="s1">a1 = endAngle.apply(this, arguments) - halfPi,</span><span class="s3">\n        </span><span class="s1">da = abs(a1 - a0),</span><span class="s3">\n        </span><span class="s1">cw = a1 &gt; a0;</span><span class="s3">\n\n    </span><span class="s1">if (!context) context = buffer = path();</span><span class="s3">\n\n    </span><span class="s1">// Ensure that the outer radius is always larger than the inner radius.</span><span class="s3">\n    </span><span class="s1">if (r1 &lt; r0) r = r1, r1 = r0, r0 = r;</span><span class="s3">\n\n    </span><span class="s1">// Is it a point?</span><span class="s3">\n    </span><span class="s1">if (!(r1 &gt; epsilon)) context.moveTo(0, 0);</span><span class="s3">\n\n    </span><span class="s1">// Or is it a circle or annulus?</span><span class="s3">\n    </span><span class="s1">else if (da &gt; tau - epsilon) {</span><span class="s3">\n      </span><span class="s1">context.moveTo(r1 * cos(a0), r1 * sin(a0));</span><span class="s3">\n      </span><span class="s1">context.arc(0, 0, r1, a0, a1, !cw);</span><span class="s3">\n      </span><span class="s1">if (r0 &gt; epsilon) {</span><span class="s3">\n        </span><span class="s1">context.moveTo(r0 * cos(a1), r0 * sin(a1));</span><span class="s3">\n        </span><span class="s1">context.arc(0, 0, r0, a1, a0, cw);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">// Or is it a circular or annular sector?</span><span class="s3">\n    </span><span class="s1">else {</span><span class="s3">\n      </span><span class="s1">var a01 = a0,</span><span class="s3">\n          </span><span class="s1">a11 = a1,</span><span class="s3">\n          </span><span class="s1">a00 = a0,</span><span class="s3">\n          </span><span class="s1">a10 = a1,</span><span class="s3">\n          </span><span class="s1">da0 = da,</span><span class="s3">\n          </span><span class="s1">da1 = da,</span><span class="s3">\n          </span><span class="s1">ap = padAngle.apply(this, arguments) / 2,</span><span class="s3">\n          </span><span class="s1">rp = (ap &gt; epsilon) &amp;&amp; (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),</span><span class="s3">\n          </span><span class="s1">rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),</span><span class="s3">\n          </span><span class="s1">rc0 = rc,</span><span class="s3">\n          </span><span class="s1">rc1 = rc,</span><span class="s3">\n          </span><span class="s1">t0,</span><span class="s3">\n          </span><span class="s1">t1;</span><span class="s3">\n\n      </span><span class="s1">// Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.</span><span class="s3">\n      </span><span class="s1">if (rp &gt; epsilon) {</span><span class="s3">\n        </span><span class="s1">var p0 = asin(rp / r0 * sin(ap)),</span><span class="s3">\n            </span><span class="s1">p1 = asin(rp / r1 * sin(ap));</span><span class="s3">\n        </span><span class="s1">if ((da0 -= p0 * 2) &gt; epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;</span><span class="s3">\n        </span><span class="s1">else da0 = 0, a00 = a10 = (a0 + a1) / 2;</span><span class="s3">\n        </span><span class="s1">if ((da1 -= p1 * 2) &gt; epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;</span><span class="s3">\n        </span><span class="s1">else da1 = 0, a01 = a11 = (a0 + a1) / 2;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">var x01 = r1 * cos(a01),</span><span class="s3">\n          </span><span class="s1">y01 = r1 * sin(a01),</span><span class="s3">\n          </span><span class="s1">x10 = r0 * cos(a10),</span><span class="s3">\n          </span><span class="s1">y10 = r0 * sin(a10);</span><span class="s3">\n\n      </span><span class="s1">// Apply rounded corners?</span><span class="s3">\n      </span><span class="s1">if (rc &gt; epsilon) {</span><span class="s3">\n        </span><span class="s1">var x11 = r1 * cos(a11),</span><span class="s3">\n            </span><span class="s1">y11 = r1 * sin(a11),</span><span class="s3">\n            </span><span class="s1">x00 = r0 * cos(a00),</span><span class="s3">\n            </span><span class="s1">y00 = r0 * sin(a00),</span><span class="s3">\n            </span><span class="s1">oc;</span><span class="s3">\n\n        </span><span class="s1">// Restrict the corner radius according to the sector angle. If this</span><span class="s3">\n        </span><span class="s1">// intersection fails, it’s probably because the arc is too small, so</span><span class="s3">\n        </span><span class="s1">// disable the corner radius entirely.</span><span class="s3">\n        </span><span class="s1">if (da &lt; pi) {</span><span class="s3">\n          </span><span class="s1">if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {</span><span class="s3">\n            </span><span class="s1">var ax = x01 - oc[0],</span><span class="s3">\n                </span><span class="s1">ay = y01 - oc[1],</span><span class="s3">\n                </span><span class="s1">bx = x11 - oc[0],</span><span class="s3">\n                </span><span class="s1">by = y11 - oc[1],</span><span class="s3">\n                </span><span class="s1">kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),</span><span class="s3">\n                </span><span class="s1">lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);</span><span class="s3">\n            </span><span class="s1">rc0 = min(rc, (r0 - lc) / (kc - 1));</span><span class="s3">\n            </span><span class="s1">rc1 = min(rc, (r1 - lc) / (kc + 1));</span><span class="s3">\n          </span><span class="s1">} else {</span><span class="s3">\n            </span><span class="s1">rc0 = rc1 = 0;</span><span class="s3">\n          </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// Is the sector collapsed to a line?</span><span class="s3">\n      </span><span class="s1">if (!(da1 &gt; epsilon)) context.moveTo(x01, y01);</span><span class="s3">\n\n      </span><span class="s1">// Does the sector’s outer ring have rounded corners?</span><span class="s3">\n      </span><span class="s1">else if (rc1 &gt; epsilon) {</span><span class="s3">\n        </span><span class="s1">t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);</span><span class="s3">\n        </span><span class="s1">t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);</span><span class="s3">\n\n        </span><span class="s1">context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);</span><span class="s3">\n\n        </span><span class="s1">// Have the corners merged?</span><span class="s3">\n        </span><span class="s1">if (rc1 &lt; rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);</span><span class="s3">\n\n        </span><span class="s1">// Otherwise, draw the two corners and the ring.</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n          </span><span class="s1">context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);</span><span class="s3">\n          </span><span class="s1">context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);</span><span class="s3">\n          </span><span class="s1">context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// Or is the outer ring just a circular arc?</span><span class="s3">\n      </span><span class="s1">else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);</span><span class="s3">\n\n      </span><span class="s1">// Is there no inner ring, and it’s a circular sector?</span><span class="s3">\n      </span><span class="s1">// Or perhaps it’s an annular sector collapsed due to padding?</span><span class="s3">\n      </span><span class="s1">if (!(r0 &gt; epsilon) || !(da0 &gt; epsilon)) context.lineTo(x10, y10);</span><span class="s3">\n\n      </span><span class="s1">// Does the sector’s inner ring (or point) have rounded corners?</span><span class="s3">\n      </span><span class="s1">else if (rc0 &gt; epsilon) {</span><span class="s3">\n        </span><span class="s1">t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);</span><span class="s3">\n        </span><span class="s1">t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);</span><span class="s3">\n\n        </span><span class="s1">context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);</span><span class="s3">\n\n        </span><span class="s1">// Have the corners merged?</span><span class="s3">\n        </span><span class="s1">if (rc0 &lt; rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);</span><span class="s3">\n\n        </span><span class="s1">// Otherwise, draw the two corners and the ring.</span><span class="s3">\n        </span><span class="s1">else {</span><span class="s3">\n          </span><span class="s1">context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);</span><span class="s3">\n          </span><span class="s1">context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);</span><span class="s3">\n          </span><span class="s1">context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// Or is the inner ring just a circular arc?</span><span class="s3">\n      </span><span class="s1">else context.arc(0, 0, r0, a10, a00, cw);</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">context.closePath();</span><span class="s3">\n\n    </span><span class="s1">if (buffer) return context = null, buffer + </span><span class="s3">\&quot;\&quot; </span><span class="s1">|| null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">arc.centroid = function() {</span><span class="s3">\n    </span><span class="s1">var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,</span><span class="s3">\n        </span><span class="s1">a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;</span><span class="s3">\n    </span><span class="s1">return [cos(a) * r, sin(a) * r];</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">arc.innerRadius = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (innerRadius = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), arc) : innerRadius;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">arc.outerRadius = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (outerRadius = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), arc) : outerRadius;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">arc.cornerRadius = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (cornerRadius = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), arc) : cornerRadius;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">arc.padRadius = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (padRadius = _ == null ? null : typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), arc) : padRadius;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">arc.startAngle = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (startAngle = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), arc) : startAngle;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">arc.endAngle = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (endAngle = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), arc) : endAngle;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">arc.padAngle = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (padAngle = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), arc) : padAngle;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">arc.context = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? ((context = _ == null ? null : _), arc) : context;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return arc;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export var slice = Array.prototype.slice;</span><span class="s3">\n\n</span><span class="s1">export default function(x) {</span><span class="s3">\n  </span><span class="s1">return typeof x === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; </span><span class="s3">\&quot;</span><span class="s1">length</span><span class="s3">\&quot; </span><span class="s1">in x</span><span class="s3">\n    </span><span class="s1">? x // Array, TypedArray, NodeList, array-like</span><span class="s3">\n    </span><span class="s1">: Array.from(x); // Map, Set, iterable, string, or anything else</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function(x) {</span><span class="s3">\n  </span><span class="s1">return function constant() {</span><span class="s3">\n    </span><span class="s1">return x;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export function point(that, x, y) {</span><span class="s3">\n  </span><span class="s1">that._context.bezierCurveTo(</span><span class="s3">\n    </span><span class="s1">(2 * that._x0 + that._x1) / 3,</span><span class="s3">\n    </span><span class="s1">(2 * that._y0 + that._y1) / 3,</span><span class="s3">\n    </span><span class="s1">(that._x0 + 2 * that._x1) / 3,</span><span class="s3">\n    </span><span class="s1">(that._y0 + 2 * that._y1) / 3,</span><span class="s3">\n    </span><span class="s1">(that._x0 + 4 * that._x1 + x) / 6,</span><span class="s3">\n    </span><span class="s1">(that._y0 + 4 * that._y1 + y) / 6</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function Basis(context) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Basis.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: function() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">areaEnd: function() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1 =</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1 = NaN;</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 3: point(this, this._x1, this._y1); // falls through</span><span class="s3">\n      </span><span class="s1">case 2: this._context.lineTo(this._x1, this._y1); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; this._point === 1)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">this._line = 1 - this._line;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; break;</span><span class="s3">\n      </span><span class="s1">case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // falls through</span><span class="s3">\n      </span><span class="s1">default: point(this, x, y); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1, this._x1 = x;</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1, this._y1 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default function(context) {</span><span class="s3">\n  </span><span class="s1">return new Basis(context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import noop from </span><span class="s3">\&quot;</span><span class="s1">../noop.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {point} from </span><span class="s3">\&quot;</span><span class="s1">./basis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function BasisClosed(context) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">BasisClosed.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: noop,</span><span class="s3">\n  </span><span class="s1">areaEnd: noop,</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 1: {</span><span class="s3">\n        </span><span class="s1">this._context.moveTo(this._x2, this._y2);</span><span class="s3">\n        </span><span class="s1">this._context.closePath();</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">case 2: {</span><span class="s3">\n        </span><span class="s1">this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);</span><span class="s3">\n        </span><span class="s1">this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);</span><span class="s3">\n        </span><span class="s1">this._context.closePath();</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">case 3: {</span><span class="s3">\n        </span><span class="s1">this.point(this._x2, this._y2);</span><span class="s3">\n        </span><span class="s1">this.point(this._x3, this._y3);</span><span class="s3">\n        </span><span class="s1">this.point(this._x4, this._y4);</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; this._x2 = x, this._y2 = y; break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; this._x3 = x, this._y3 = y; break;</span><span class="s3">\n      </span><span class="s1">case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;</span><span class="s3">\n      </span><span class="s1">default: point(this, x, y); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1, this._x1 = x;</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1, this._y1 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default function(context) {</span><span class="s3">\n  </span><span class="s1">return new BasisClosed(context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {point} from </span><span class="s3">\&quot;</span><span class="s1">./basis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function BasisOpen(context) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">BasisOpen.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: function() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">areaEnd: function() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1 =</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1 = NaN;</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; this._point === 3)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">this._line = 1 - this._line;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; break;</span><span class="s3">\n      </span><span class="s1">case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;</span><span class="s3">\n      </span><span class="s1">case 3: this._point = 4; // falls through</span><span class="s3">\n      </span><span class="s1">default: point(this, x, y); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1, this._x1 = x;</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1, this._y1 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default function(context) {</span><span class="s3">\n  </span><span class="s1">return new BasisOpen(context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Basis} from </span><span class="s3">\&quot;</span><span class="s1">./basis.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function Bundle(context, beta) {</span><span class="s3">\n  </span><span class="s1">this._basis = new Basis(context);</span><span class="s3">\n  </span><span class="s1">this._beta = beta;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Bundle.prototype = {</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x = [];</span><span class="s3">\n    </span><span class="s1">this._y = [];</span><span class="s3">\n    </span><span class="s1">this._basis.lineStart();</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">var x = this._x,</span><span class="s3">\n        </span><span class="s1">y = this._y,</span><span class="s3">\n        </span><span class="s1">j = x.length - 1;</span><span class="s3">\n\n    </span><span class="s1">if (j &gt; 0) {</span><span class="s3">\n      </span><span class="s1">var x0 = x[0],</span><span class="s3">\n          </span><span class="s1">y0 = y[0],</span><span class="s3">\n          </span><span class="s1">dx = x[j] - x0,</span><span class="s3">\n          </span><span class="s1">dy = y[j] - y0,</span><span class="s3">\n          </span><span class="s1">i = -1,</span><span class="s3">\n          </span><span class="s1">t;</span><span class="s3">\n\n      </span><span class="s1">while (++i &lt;= j) {</span><span class="s3">\n        </span><span class="s1">t = i / j;</span><span class="s3">\n        </span><span class="s1">this._basis.point(</span><span class="s3">\n          </span><span class="s1">this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),</span><span class="s3">\n          </span><span class="s1">this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)</span><span class="s3">\n        </span><span class="s1">);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this._x = this._y = null;</span><span class="s3">\n    </span><span class="s1">this._basis.lineEnd();</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">this._x.push(+x);</span><span class="s3">\n    </span><span class="s1">this._y.push(+y);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default (function custom(beta) {</span><span class="s3">\n\n  </span><span class="s1">function bundle(context) {</span><span class="s3">\n    </span><span class="s1">return beta === 1 ? new Basis(context) : new Bundle(context, beta);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">bundle.beta = function(beta) {</span><span class="s3">\n    </span><span class="s1">return custom(+beta);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return bundle;</span><span class="s3">\n</span><span class="s1">})(0.85);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export function point(that, x, y) {</span><span class="s3">\n  </span><span class="s1">that._context.bezierCurveTo(</span><span class="s3">\n    </span><span class="s1">that._x1 + that._k * (that._x2 - that._x0),</span><span class="s3">\n    </span><span class="s1">that._y1 + that._k * (that._y2 - that._y0),</span><span class="s3">\n    </span><span class="s1">that._x2 + that._k * (that._x1 - x),</span><span class="s3">\n    </span><span class="s1">that._y2 + that._k * (that._y1 - y),</span><span class="s3">\n    </span><span class="s1">that._x2,</span><span class="s3">\n    </span><span class="s1">that._y2</span><span class="s3">\n  </span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function Cardinal(context, tension) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n  </span><span class="s1">this._k = (1 - tension) / 6;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Cardinal.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: function() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">areaEnd: function() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1 = this._x2 =</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1 = this._y2 = NaN;</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 2: this._context.lineTo(this._x2, this._y2); break;</span><span class="s3">\n      </span><span class="s1">case 3: point(this, this._x1, this._y1); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; this._point === 1)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">this._line = 1 - this._line;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; this._x1 = x, this._y1 = y; break;</span><span class="s3">\n      </span><span class="s1">case 2: this._point = 3; // falls through</span><span class="s3">\n      </span><span class="s1">default: point(this, x, y); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default (function custom(tension) {</span><span class="s3">\n\n  </span><span class="s1">function cardinal(context) {</span><span class="s3">\n    </span><span class="s1">return new Cardinal(context, tension);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">cardinal.tension = function(tension) {</span><span class="s3">\n    </span><span class="s1">return custom(+tension);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return cardinal;</span><span class="s3">\n</span><span class="s1">})(0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import noop from </span><span class="s3">\&quot;</span><span class="s1">../noop.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {point} from </span><span class="s3">\&quot;</span><span class="s1">./cardinal.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export function CardinalClosed(context, tension) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n  </span><span class="s1">this._k = (1 - tension) / 6;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">CardinalClosed.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: noop,</span><span class="s3">\n  </span><span class="s1">areaEnd: noop,</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 1: {</span><span class="s3">\n        </span><span class="s1">this._context.moveTo(this._x3, this._y3);</span><span class="s3">\n        </span><span class="s1">this._context.closePath();</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">case 2: {</span><span class="s3">\n        </span><span class="s1">this._context.lineTo(this._x3, this._y3);</span><span class="s3">\n        </span><span class="s1">this._context.closePath();</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">case 3: {</span><span class="s3">\n        </span><span class="s1">this.point(this._x3, this._y3);</span><span class="s3">\n        </span><span class="s1">this.point(this._x4, this._y4);</span><span class="s3">\n        </span><span class="s1">this.point(this._x5, this._y5);</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; this._x3 = x, this._y3 = y; break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;</span><span class="s3">\n      </span><span class="s1">case 2: this._point = 3; this._x5 = x, this._y5 = y; break;</span><span class="s3">\n      </span><span class="s1">default: point(this, x, y); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default (function custom(tension) {</span><span class="s3">\n\n  </span><span class="s1">function cardinal(context) {</span><span class="s3">\n    </span><span class="s1">return new CardinalClosed(context, tension);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">cardinal.tension = function(tension) {</span><span class="s3">\n    </span><span class="s1">return custom(+tension);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return cardinal;</span><span class="s3">\n</span><span class="s1">})(0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {point} from </span><span class="s3">\&quot;</span><span class="s1">./cardinal.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export function CardinalOpen(context, tension) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n  </span><span class="s1">this._k = (1 - tension) / 6;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">CardinalOpen.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: function() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">areaEnd: function() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1 = this._x2 =</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1 = this._y2 = NaN;</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; this._point === 3)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">this._line = 1 - this._line;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; break;</span><span class="s3">\n      </span><span class="s1">case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;</span><span class="s3">\n      </span><span class="s1">case 3: this._point = 4; // falls through</span><span class="s3">\n      </span><span class="s1">default: point(this, x, y); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default (function custom(tension) {</span><span class="s3">\n\n  </span><span class="s1">function cardinal(context) {</span><span class="s3">\n    </span><span class="s1">return new CardinalOpen(context, tension);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">cardinal.tension = function(tension) {</span><span class="s3">\n    </span><span class="s1">return custom(+tension);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return cardinal;</span><span class="s3">\n</span><span class="s1">})(0);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {epsilon} from </span><span class="s3">\&quot;</span><span class="s1">../math.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {Cardinal} from </span><span class="s3">\&quot;</span><span class="s1">./cardinal.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export function point(that, x, y) {</span><span class="s3">\n  </span><span class="s1">var x1 = that._x1,</span><span class="s3">\n      </span><span class="s1">y1 = that._y1,</span><span class="s3">\n      </span><span class="s1">x2 = that._x2,</span><span class="s3">\n      </span><span class="s1">y2 = that._y2;</span><span class="s3">\n\n  </span><span class="s1">if (that._l01_a &gt; epsilon) {</span><span class="s3">\n    </span><span class="s1">var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,</span><span class="s3">\n        </span><span class="s1">n = 3 * that._l01_a * (that._l01_a + that._l12_a);</span><span class="s3">\n    </span><span class="s1">x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;</span><span class="s3">\n    </span><span class="s1">y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">if (that._l23_a &gt; epsilon) {</span><span class="s3">\n    </span><span class="s1">var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,</span><span class="s3">\n        </span><span class="s1">m = 3 * that._l23_a * (that._l23_a + that._l12_a);</span><span class="s3">\n    </span><span class="s1">x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;</span><span class="s3">\n    </span><span class="s1">y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function CatmullRom(context, alpha) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n  </span><span class="s1">this._alpha = alpha;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">CatmullRom.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: function() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">areaEnd: function() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1 = this._x2 =</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1 = this._y2 = NaN;</span><span class="s3">\n    </span><span class="s1">this._l01_a = this._l12_a = this._l23_a =</span><span class="s3">\n    </span><span class="s1">this._l01_2a = this._l12_2a = this._l23_2a =</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 2: this._context.lineTo(this._x2, this._y2); break;</span><span class="s3">\n      </span><span class="s1">case 3: this.point(this._x2, this._y2); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; this._point === 1)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">this._line = 1 - this._line;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n\n    </span><span class="s1">if (this._point) {</span><span class="s3">\n      </span><span class="s1">var x23 = this._x2 - x,</span><span class="s3">\n          </span><span class="s1">y23 = this._y2 - y;</span><span class="s3">\n      </span><span class="s1">this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; break;</span><span class="s3">\n      </span><span class="s1">case 2: this._point = 3; // falls through</span><span class="s3">\n      </span><span class="s1">default: point(this, x, y); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this._l01_a = this._l12_a, this._l12_a = this._l23_a;</span><span class="s3">\n    </span><span class="s1">this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default (function custom(alpha) {</span><span class="s3">\n\n  </span><span class="s1">function catmullRom(context) {</span><span class="s3">\n    </span><span class="s1">return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">catmullRom.alpha = function(alpha) {</span><span class="s3">\n    </span><span class="s1">return custom(+alpha);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return catmullRom;</span><span class="s3">\n</span><span class="s1">})(0.5);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {CardinalClosed} from </span><span class="s3">\&quot;</span><span class="s1">./cardinalClosed.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import noop from </span><span class="s3">\&quot;</span><span class="s1">../noop.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {point} from </span><span class="s3">\&quot;</span><span class="s1">./catmullRom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function CatmullRomClosed(context, alpha) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n  </span><span class="s1">this._alpha = alpha;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">CatmullRomClosed.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: noop,</span><span class="s3">\n  </span><span class="s1">areaEnd: noop,</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;</span><span class="s3">\n    </span><span class="s1">this._l01_a = this._l12_a = this._l23_a =</span><span class="s3">\n    </span><span class="s1">this._l01_2a = this._l12_2a = this._l23_2a =</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 1: {</span><span class="s3">\n        </span><span class="s1">this._context.moveTo(this._x3, this._y3);</span><span class="s3">\n        </span><span class="s1">this._context.closePath();</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">case 2: {</span><span class="s3">\n        </span><span class="s1">this._context.lineTo(this._x3, this._y3);</span><span class="s3">\n        </span><span class="s1">this._context.closePath();</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">case 3: {</span><span class="s3">\n        </span><span class="s1">this.point(this._x3, this._y3);</span><span class="s3">\n        </span><span class="s1">this.point(this._x4, this._y4);</span><span class="s3">\n        </span><span class="s1">this.point(this._x5, this._y5);</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n\n    </span><span class="s1">if (this._point) {</span><span class="s3">\n      </span><span class="s1">var x23 = this._x2 - x,</span><span class="s3">\n          </span><span class="s1">y23 = this._y2 - y;</span><span class="s3">\n      </span><span class="s1">this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; this._x3 = x, this._y3 = y; break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;</span><span class="s3">\n      </span><span class="s1">case 2: this._point = 3; this._x5 = x, this._y5 = y; break;</span><span class="s3">\n      </span><span class="s1">default: point(this, x, y); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this._l01_a = this._l12_a, this._l12_a = this._l23_a;</span><span class="s3">\n    </span><span class="s1">this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default (function custom(alpha) {</span><span class="s3">\n\n  </span><span class="s1">function catmullRom(context) {</span><span class="s3">\n    </span><span class="s1">return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">catmullRom.alpha = function(alpha) {</span><span class="s3">\n    </span><span class="s1">return custom(+alpha);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return catmullRom;</span><span class="s3">\n</span><span class="s1">})(0.5);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {CardinalOpen} from </span><span class="s3">\&quot;</span><span class="s1">./cardinalOpen.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {point} from </span><span class="s3">\&quot;</span><span class="s1">./catmullRom.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function CatmullRomOpen(context, alpha) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n  </span><span class="s1">this._alpha = alpha;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">CatmullRomOpen.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: function() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">areaEnd: function() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1 = this._x2 =</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1 = this._y2 = NaN;</span><span class="s3">\n    </span><span class="s1">this._l01_a = this._l12_a = this._l23_a =</span><span class="s3">\n    </span><span class="s1">this._l01_2a = this._l12_2a = this._l23_2a =</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; this._point === 3)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">this._line = 1 - this._line;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n\n    </span><span class="s1">if (this._point) {</span><span class="s3">\n      </span><span class="s1">var x23 = this._x2 - x,</span><span class="s3">\n          </span><span class="s1">y23 = this._y2 - y;</span><span class="s3">\n      </span><span class="s1">this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; break;</span><span class="s3">\n      </span><span class="s1">case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;</span><span class="s3">\n      </span><span class="s1">case 3: this._point = 4; // falls through</span><span class="s3">\n      </span><span class="s1">default: point(this, x, y); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this._l01_a = this._l12_a, this._l12_a = this._l23_a;</span><span class="s3">\n    </span><span class="s1">this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default (function custom(alpha) {</span><span class="s3">\n\n  </span><span class="s1">function catmullRom(context) {</span><span class="s3">\n    </span><span class="s1">return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">catmullRom.alpha = function(alpha) {</span><span class="s3">\n    </span><span class="s1">return custom(+alpha);</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return catmullRom;</span><span class="s3">\n</span><span class="s1">})(0.5);</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function Linear(context) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Linear.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: function() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">areaEnd: function() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; this._point === 1)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">this._line = 1 - this._line;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; // falls through</span><span class="s3">\n      </span><span class="s1">default: this._context.lineTo(x, y); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default function(context) {</span><span class="s3">\n  </span><span class="s1">return new Linear(context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import noop from </span><span class="s3">\&quot;</span><span class="s1">../noop.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function LinearClosed(context) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">LinearClosed.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: noop,</span><span class="s3">\n  </span><span class="s1">areaEnd: noop,</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">if (this._point) this._context.closePath();</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">if (this._point) this._context.lineTo(x, y);</span><span class="s3">\n    </span><span class="s1">else this._point = 1, this._context.moveTo(x, y);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default function(context) {</span><span class="s3">\n  </span><span class="s1">return new LinearClosed(context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function sign(x) {</span><span class="s3">\n  </span><span class="s1">return x &lt; 0 ? -1 : 1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Calculate the slopes of the tangents (Hermite-type interpolation) based on</span><span class="s3">\n</span><span class="s1">// the following paper: Steffen, M. 1990. A Simple Method for Monotonic</span><span class="s3">\n</span><span class="s1">// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.</span><span class="s3">\n</span><span class="s1">// NOV(II), P. 443, 1990.</span><span class="s3">\n</span><span class="s1">function slope3(that, x2, y2) {</span><span class="s3">\n  </span><span class="s1">var h0 = that._x1 - that._x0,</span><span class="s3">\n      </span><span class="s1">h1 = x2 - that._x1,</span><span class="s3">\n      </span><span class="s1">s0 = (that._y1 - that._y0) / (h0 || h1 &lt; 0 &amp;&amp; -0),</span><span class="s3">\n      </span><span class="s1">s1 = (y2 - that._y1) / (h1 || h0 &lt; 0 &amp;&amp; -0),</span><span class="s3">\n      </span><span class="s1">p = (s0 * h1 + s1 * h0) / (h0 + h1);</span><span class="s3">\n  </span><span class="s1">return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// Calculate a one-sided slope.</span><span class="s3">\n</span><span class="s1">function slope2(that, t) {</span><span class="s3">\n  </span><span class="s1">var h = that._x1 - that._x0;</span><span class="s3">\n  </span><span class="s1">return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations</span><span class="s3">\n</span><span class="s1">// </span><span class="s3">\&quot;</span><span class="s1">you can express cubic Hermite interpolation in terms of cubic Bézier curves</span><span class="s3">\n</span><span class="s1">// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1</span><span class="s3">\&quot;</span><span class="s1">.</span><span class="s3">\n</span><span class="s1">function point(that, t0, t1) {</span><span class="s3">\n  </span><span class="s1">var x0 = that._x0,</span><span class="s3">\n      </span><span class="s1">y0 = that._y0,</span><span class="s3">\n      </span><span class="s1">x1 = that._x1,</span><span class="s3">\n      </span><span class="s1">y1 = that._y1,</span><span class="s3">\n      </span><span class="s1">dx = (x1 - x0) / 3;</span><span class="s3">\n  </span><span class="s1">that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function MonotoneX(context) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">MonotoneX.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: function() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">areaEnd: function() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x0 = this._x1 =</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1 =</span><span class="s3">\n    </span><span class="s1">this._t0 = NaN;</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 2: this._context.lineTo(this._x1, this._y1); break;</span><span class="s3">\n      </span><span class="s1">case 3: point(this, this._t0, slope2(this, this._t0)); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; this._point === 1)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">this._line = 1 - this._line;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">var t1 = NaN;</span><span class="s3">\n\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">if (x === this._x1 &amp;&amp; y === this._y1) return; // Ignore coincident points.</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; break;</span><span class="s3">\n      </span><span class="s1">case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;</span><span class="s3">\n      </span><span class="s1">default: point(this, this._t0, t1 = slope3(this, x, y)); break;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">this._x0 = this._x1, this._x1 = x;</span><span class="s3">\n    </span><span class="s1">this._y0 = this._y1, this._y1 = y;</span><span class="s3">\n    </span><span class="s1">this._t0 = t1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function MonotoneY(context) {</span><span class="s3">\n  </span><span class="s1">this._context = new ReflectContext(context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {</span><span class="s3">\n  </span><span class="s1">MonotoneX.prototype.point.call(this, y, x);</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">function ReflectContext(context) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">ReflectContext.prototype = {</span><span class="s3">\n  </span><span class="s1">moveTo: function(x, y) { this._context.moveTo(y, x); },</span><span class="s3">\n  </span><span class="s1">closePath: function() { this._context.closePath(); },</span><span class="s3">\n  </span><span class="s1">lineTo: function(x, y) { this._context.lineTo(y, x); },</span><span class="s3">\n  </span><span class="s1">bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export function monotoneX(context) {</span><span class="s3">\n  </span><span class="s1">return new MonotoneX(context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function monotoneY(context) {</span><span class="s3">\n  </span><span class="s1">return new MonotoneY(context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function Natural(context) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Natural.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: function() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">areaEnd: function() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x = [];</span><span class="s3">\n    </span><span class="s1">this._y = [];</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">var x = this._x,</span><span class="s3">\n        </span><span class="s1">y = this._y,</span><span class="s3">\n        </span><span class="s1">n = x.length;</span><span class="s3">\n\n    </span><span class="s1">if (n) {</span><span class="s3">\n      </span><span class="s1">this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);</span><span class="s3">\n      </span><span class="s1">if (n === 2) {</span><span class="s3">\n        </span><span class="s1">this._context.lineTo(x[1], y[1]);</span><span class="s3">\n      </span><span class="s1">} else {</span><span class="s3">\n        </span><span class="s1">var px = controlPoints(x),</span><span class="s3">\n            </span><span class="s1">py = controlPoints(y);</span><span class="s3">\n        </span><span class="s1">for (var i0 = 0, i1 = 1; i1 &lt; n; ++i0, ++i1) {</span><span class="s3">\n          </span><span class="s1">this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; n === 1)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">this._line = 1 - this._line;</span><span class="s3">\n    </span><span class="s1">this._x = this._y = null;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">this._x.push(+x);</span><span class="s3">\n    </span><span class="s1">this._y.push(+y);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">// See https://www.particleincell.com/2012/bezier-splines/ for derivation.</span><span class="s3">\n</span><span class="s1">function controlPoints(x) {</span><span class="s3">\n  </span><span class="s1">var i,</span><span class="s3">\n      </span><span class="s1">n = x.length - 1,</span><span class="s3">\n      </span><span class="s1">m,</span><span class="s3">\n      </span><span class="s1">a = new Array(n),</span><span class="s3">\n      </span><span class="s1">b = new Array(n),</span><span class="s3">\n      </span><span class="s1">r = new Array(n);</span><span class="s3">\n  </span><span class="s1">a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];</span><span class="s3">\n  </span><span class="s1">for (i = 1; i &lt; n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];</span><span class="s3">\n  </span><span class="s1">a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];</span><span class="s3">\n  </span><span class="s1">for (i = 1; i &lt; n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];</span><span class="s3">\n  </span><span class="s1">a[n - 1] = r[n - 1] / b[n - 1];</span><span class="s3">\n  </span><span class="s1">for (i = n - 2; i &gt;= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];</span><span class="s3">\n  </span><span class="s1">b[n - 1] = (x[n] + a[n - 1]) / 2;</span><span class="s3">\n  </span><span class="s1">for (i = 0; i &lt; n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];</span><span class="s3">\n  </span><span class="s1">return [a, b];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function(context) {</span><span class="s3">\n  </span><span class="s1">return new Natural(context);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;function Step(context, t) {</span><span class="s3">\n  </span><span class="s1">this._context = context;</span><span class="s3">\n  </span><span class="s1">this._t = t;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Step.prototype = {</span><span class="s3">\n  </span><span class="s1">areaStart: function() {</span><span class="s3">\n    </span><span class="s1">this._line = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">areaEnd: function() {</span><span class="s3">\n    </span><span class="s1">this._line = NaN;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineStart: function() {</span><span class="s3">\n    </span><span class="s1">this._x = this._y = NaN;</span><span class="s3">\n    </span><span class="s1">this._point = 0;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">lineEnd: function() {</span><span class="s3">\n    </span><span class="s1">if (0 &lt; this._t &amp;&amp; this._t &lt; 1 &amp;&amp; this._point === 2) this._context.lineTo(this._x, this._y);</span><span class="s3">\n    </span><span class="s1">if (this._line || (this._line !== 0 &amp;&amp; this._point === 1)) this._context.closePath();</span><span class="s3">\n    </span><span class="s1">if (this._line &gt;= 0) this._t = 1 - this._t, this._line = 1 - this._line;</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">point: function(x, y) {</span><span class="s3">\n    </span><span class="s1">x = +x, y = +y;</span><span class="s3">\n    </span><span class="s1">switch (this._point) {</span><span class="s3">\n      </span><span class="s1">case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;</span><span class="s3">\n      </span><span class="s1">case 1: this._point = 2; // falls through</span><span class="s3">\n      </span><span class="s1">default: {</span><span class="s3">\n        </span><span class="s1">if (this._t &lt;= 0) {</span><span class="s3">\n          </span><span class="s1">this._context.lineTo(this._x, y);</span><span class="s3">\n          </span><span class="s1">this._context.lineTo(x, y);</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">var x1 = this._x * (1 - this._t) + x * this._t;</span><span class="s3">\n          </span><span class="s1">this._context.lineTo(x1, this._y);</span><span class="s3">\n          </span><span class="s1">this._context.lineTo(x1, y);</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n        </span><span class="s1">break;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this._x = x, this._y = y;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export default function(context) {</span><span class="s3">\n  </span><span class="s1">return new Step(context, 0.5);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function stepBefore(context) {</span><span class="s3">\n  </span><span class="s1">return new Step(context, 0);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function stepAfter(context) {</span><span class="s3">\n  </span><span class="s1">return new Step(context, 1);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import array from </span><span class="s3">\&quot;</span><span class="s1">./array.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import constant from </span><span class="s3">\&quot;</span><span class="s1">./constant.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import curveLinear from </span><span class="s3">\&quot;</span><span class="s1">./curve/linear.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {withPath} from </span><span class="s3">\&quot;</span><span class="s1">./path.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {x as pointX, y as pointY} from </span><span class="s3">\&quot;</span><span class="s1">./point.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export default function(x, y) {</span><span class="s3">\n  </span><span class="s1">var defined = constant(true),</span><span class="s3">\n      </span><span class="s1">context = null,</span><span class="s3">\n      </span><span class="s1">curve = curveLinear,</span><span class="s3">\n      </span><span class="s1">output = null,</span><span class="s3">\n      </span><span class="s1">path = withPath(line);</span><span class="s3">\n\n  </span><span class="s1">x = typeof x === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? x : (x === undefined) ? pointX : constant(x);</span><span class="s3">\n  </span><span class="s1">y = typeof y === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? y : (y === undefined) ? pointY : constant(y);</span><span class="s3">\n\n  </span><span class="s1">function line(data) {</span><span class="s3">\n    </span><span class="s1">var i,</span><span class="s3">\n        </span><span class="s1">n = (data = array(data)).length,</span><span class="s3">\n        </span><span class="s1">d,</span><span class="s3">\n        </span><span class="s1">defined0 = false,</span><span class="s3">\n        </span><span class="s1">buffer;</span><span class="s3">\n\n    </span><span class="s1">if (context == null) output = curve(buffer = path());</span><span class="s3">\n\n    </span><span class="s1">for (i = 0; i &lt;= n; ++i) {</span><span class="s3">\n      </span><span class="s1">if (!(i &lt; n &amp;&amp; defined(d = data[i], i, data)) === defined0) {</span><span class="s3">\n        </span><span class="s1">if (defined0 = !defined0) output.lineStart();</span><span class="s3">\n        </span><span class="s1">else output.lineEnd();</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">if (defined0) output.point(+x(d, i, data), +y(d, i, data));</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">if (buffer) return output = null, buffer + </span><span class="s3">\&quot;\&quot; </span><span class="s1">|| null;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">line.x = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (x = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), line) : x;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">line.y = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (y = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(+_), line) : y;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">line.defined = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (defined = typeof _ === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? _ : constant(!!_), line) : defined;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">line.curve = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (curve = _, context != null &amp;&amp; (output = curve(context)), line) : curve;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">line.context = function(_) {</span><span class="s3">\n    </span><span class="s1">return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return line;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export const abs = Math.abs;</span><span class="s3">\n</span><span class="s1">export const atan2 = Math.atan2;</span><span class="s3">\n</span><span class="s1">export const cos = Math.cos;</span><span class="s3">\n</span><span class="s1">export const max = Math.max;</span><span class="s3">\n</span><span class="s1">export const min = Math.min;</span><span class="s3">\n</span><span class="s1">export const sin = Math.sin;</span><span class="s3">\n</span><span class="s1">export const sqrt = Math.sqrt;</span><span class="s3">\n\n</span><span class="s1">export const epsilon = 1e-12;</span><span class="s3">\n</span><span class="s1">export const pi = Math.PI;</span><span class="s3">\n</span><span class="s1">export const halfPi = pi / 2;</span><span class="s3">\n</span><span class="s1">export const tau = 2 * pi;</span><span class="s3">\n\n</span><span class="s1">export function acos(x) {</span><span class="s3">\n  </span><span class="s1">return x &gt; 1 ? 0 : x &lt; -1 ? pi : Math.acos(x);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function asin(x) {</span><span class="s3">\n  </span><span class="s1">return x &gt;= 1 ? halfPi : x &lt;= -1 ? -halfPi : Math.asin(x);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export default function() {}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {Path} from </span><span class="s3">\&quot;</span><span class="s1">d3-path</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export function withPath(shape) {</span><span class="s3">\n  </span><span class="s1">let digits = 3;</span><span class="s3">\n\n  </span><span class="s1">shape.digits = function(_) {</span><span class="s3">\n    </span><span class="s1">if (!arguments.length) return digits;</span><span class="s3">\n    </span><span class="s1">if (_ == null) {</span><span class="s3">\n      </span><span class="s1">digits = null;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">const d = Math.floor(_);</span><span class="s3">\n      </span><span class="s1">if (!(d &gt;= 0)) throw new RangeError(`invalid digits: ${_}`);</span><span class="s3">\n      </span><span class="s1">digits = d;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">return shape;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">return () =&gt; new Path(digits);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export function x(p) {</span><span class="s3">\n  </span><span class="s1">return p[0];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function y(p) {</span><span class="s3">\n  </span><span class="s1">return p[1];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import formatLocale from </span><span class="s3">\&quot;</span><span class="s1">./locale.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">var locale;</span><span class="s3">\n</span><span class="s1">export var timeFormat;</span><span class="s3">\n</span><span class="s1">export var timeParse;</span><span class="s3">\n</span><span class="s1">export var utcFormat;</span><span class="s3">\n</span><span class="s1">export var utcParse;</span><span class="s3">\n\n</span><span class="s1">defaultLocale({</span><span class="s3">\n  </span><span class="s1">dateTime: </span><span class="s3">\&quot;</span><span class="s1">%x, %X</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">date: </span><span class="s3">\&quot;</span><span class="s1">%-m/%-d/%Y</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">time: </span><span class="s3">\&quot;</span><span class="s1">%-I:%M:%S %p</span><span class="s3">\&quot;</span><span class="s1">,</span><span class="s3">\n  </span><span class="s1">periods: [</span><span class="s3">\&quot;</span><span class="s1">AM</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">PM</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">days: [</span><span class="s3">\&quot;</span><span class="s1">Sunday</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Monday</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Tuesday</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Wednesday</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Thursday</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Friday</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Saturday</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">shortDays: [</span><span class="s3">\&quot;</span><span class="s1">Sun</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Mon</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Tue</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Wed</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Thu</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Fri</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Sat</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">months: [</span><span class="s3">\&quot;</span><span class="s1">January</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">February</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">March</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">April</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">May</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">June</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">July</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">August</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">September</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">October</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">November</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">December</span><span class="s3">\&quot;</span><span class="s1">],</span><span class="s3">\n  </span><span class="s1">shortMonths: [</span><span class="s3">\&quot;</span><span class="s1">Jan</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Feb</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Mar</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Apr</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">May</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Jun</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Jul</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Aug</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Sep</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Oct</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Nov</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">Dec</span><span class="s3">\&quot;</span><span class="s1">]</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export default function defaultLocale(definition) {</span><span class="s3">\n  </span><span class="s1">locale = formatLocale(definition);</span><span class="s3">\n  </span><span class="s1">timeFormat = locale.format;</span><span class="s3">\n  </span><span class="s1">timeParse = locale.parse;</span><span class="s3">\n  </span><span class="s1">utcFormat = locale.utcFormat;</span><span class="s3">\n  </span><span class="s1">utcParse = locale.utcParse;</span><span class="s3">\n  </span><span class="s1">return locale;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {</span><span class="s3">\n  </span><span class="s1">timeDay,</span><span class="s3">\n  </span><span class="s1">timeSunday,</span><span class="s3">\n  </span><span class="s1">timeMonday,</span><span class="s3">\n  </span><span class="s1">timeThursday,</span><span class="s3">\n  </span><span class="s1">timeYear,</span><span class="s3">\n  </span><span class="s1">utcDay,</span><span class="s3">\n  </span><span class="s1">utcSunday,</span><span class="s3">\n  </span><span class="s1">utcMonday,</span><span class="s3">\n  </span><span class="s1">utcThursday,</span><span class="s3">\n  </span><span class="s1">utcYear</span><span class="s3">\n</span><span class="s1">} from </span><span class="s3">\&quot;</span><span class="s1">d3-time</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function localDate(d) {</span><span class="s3">\n  </span><span class="s1">if (0 &lt;= d.y &amp;&amp; d.y &lt; 100) {</span><span class="s3">\n    </span><span class="s1">var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);</span><span class="s3">\n    </span><span class="s1">date.setFullYear(d.y);</span><span class="s3">\n    </span><span class="s1">return date;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function utcDate(d) {</span><span class="s3">\n  </span><span class="s1">if (0 &lt;= d.y &amp;&amp; d.y &lt; 100) {</span><span class="s3">\n    </span><span class="s1">var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));</span><span class="s3">\n    </span><span class="s1">date.setUTCFullYear(d.y);</span><span class="s3">\n    </span><span class="s1">return date;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function newDate(y, m, d) {</span><span class="s3">\n  </span><span class="s1">return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export default function formatLocale(locale) {</span><span class="s3">\n  </span><span class="s1">var locale_dateTime = locale.dateTime,</span><span class="s3">\n      </span><span class="s1">locale_date = locale.date,</span><span class="s3">\n      </span><span class="s1">locale_time = locale.time,</span><span class="s3">\n      </span><span class="s1">locale_periods = locale.periods,</span><span class="s3">\n      </span><span class="s1">locale_weekdays = locale.days,</span><span class="s3">\n      </span><span class="s1">locale_shortWeekdays = locale.shortDays,</span><span class="s3">\n      </span><span class="s1">locale_months = locale.months,</span><span class="s3">\n      </span><span class="s1">locale_shortMonths = locale.shortMonths;</span><span class="s3">\n\n  </span><span class="s1">var periodRe = formatRe(locale_periods),</span><span class="s3">\n      </span><span class="s1">periodLookup = formatLookup(locale_periods),</span><span class="s3">\n      </span><span class="s1">weekdayRe = formatRe(locale_weekdays),</span><span class="s3">\n      </span><span class="s1">weekdayLookup = formatLookup(locale_weekdays),</span><span class="s3">\n      </span><span class="s1">shortWeekdayRe = formatRe(locale_shortWeekdays),</span><span class="s3">\n      </span><span class="s1">shortWeekdayLookup = formatLookup(locale_shortWeekdays),</span><span class="s3">\n      </span><span class="s1">monthRe = formatRe(locale_months),</span><span class="s3">\n      </span><span class="s1">monthLookup = formatLookup(locale_months),</span><span class="s3">\n      </span><span class="s1">shortMonthRe = formatRe(locale_shortMonths),</span><span class="s3">\n      </span><span class="s1">shortMonthLookup = formatLookup(locale_shortMonths);</span><span class="s3">\n\n  </span><span class="s1">var formats = {</span><span class="s3">\n    \&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">: formatShortWeekday,</span><span class="s3">\n    \&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">: formatWeekday,</span><span class="s3">\n    \&quot;</span><span class="s1">b</span><span class="s3">\&quot;</span><span class="s1">: formatShortMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">B</span><span class="s3">\&quot;</span><span class="s1">: formatMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">: null,</span><span class="s3">\n    \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">: formatDayOfMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">: formatDayOfMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">f</span><span class="s3">\&quot;</span><span class="s1">: formatMicroseconds,</span><span class="s3">\n    \&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">: formatYearISO,</span><span class="s3">\n    \&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">: formatFullYearISO,</span><span class="s3">\n    \&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">: formatHour24,</span><span class="s3">\n    \&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">: formatHour12,</span><span class="s3">\n    \&quot;</span><span class="s1">j</span><span class="s3">\&quot;</span><span class="s1">: formatDayOfYear,</span><span class="s3">\n    \&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">: formatMilliseconds,</span><span class="s3">\n    \&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">: formatMonthNumber,</span><span class="s3">\n    \&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">: formatMinutes,</span><span class="s3">\n    \&quot;</span><span class="s1">p</span><span class="s3">\&quot;</span><span class="s1">: formatPeriod,</span><span class="s3">\n    \&quot;</span><span class="s1">q</span><span class="s3">\&quot;</span><span class="s1">: formatQuarter,</span><span class="s3">\n    \&quot;</span><span class="s1">Q</span><span class="s3">\&quot;</span><span class="s1">: formatUnixTimestamp,</span><span class="s3">\n    \&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">: formatUnixTimestampSeconds,</span><span class="s3">\n    \&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">: formatSeconds,</span><span class="s3">\n    \&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">: formatWeekdayNumberMonday,</span><span class="s3">\n    \&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">: formatWeekNumberSunday,</span><span class="s3">\n    \&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">: formatWeekNumberISO,</span><span class="s3">\n    \&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">: formatWeekdayNumberSunday,</span><span class="s3">\n    \&quot;</span><span class="s1">W</span><span class="s3">\&quot;</span><span class="s1">: formatWeekNumberMonday,</span><span class="s3">\n    \&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">: null,</span><span class="s3">\n    \&quot;</span><span class="s1">X</span><span class="s3">\&quot;</span><span class="s1">: null,</span><span class="s3">\n    \&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">: formatYear,</span><span class="s3">\n    \&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">: formatFullYear,</span><span class="s3">\n    \&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">: formatZone,</span><span class="s3">\n    \&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">: formatLiteralPercent</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">var utcFormats = {</span><span class="s3">\n    \&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">: formatUTCShortWeekday,</span><span class="s3">\n    \&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">: formatUTCWeekday,</span><span class="s3">\n    \&quot;</span><span class="s1">b</span><span class="s3">\&quot;</span><span class="s1">: formatUTCShortMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">B</span><span class="s3">\&quot;</span><span class="s1">: formatUTCMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">: null,</span><span class="s3">\n    \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">: formatUTCDayOfMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">: formatUTCDayOfMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">f</span><span class="s3">\&quot;</span><span class="s1">: formatUTCMicroseconds,</span><span class="s3">\n    \&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">: formatUTCYearISO,</span><span class="s3">\n    \&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">: formatUTCFullYearISO,</span><span class="s3">\n    \&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">: formatUTCHour24,</span><span class="s3">\n    \&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">: formatUTCHour12,</span><span class="s3">\n    \&quot;</span><span class="s1">j</span><span class="s3">\&quot;</span><span class="s1">: formatUTCDayOfYear,</span><span class="s3">\n    \&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">: formatUTCMilliseconds,</span><span class="s3">\n    \&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">: formatUTCMonthNumber,</span><span class="s3">\n    \&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">: formatUTCMinutes,</span><span class="s3">\n    \&quot;</span><span class="s1">p</span><span class="s3">\&quot;</span><span class="s1">: formatUTCPeriod,</span><span class="s3">\n    \&quot;</span><span class="s1">q</span><span class="s3">\&quot;</span><span class="s1">: formatUTCQuarter,</span><span class="s3">\n    \&quot;</span><span class="s1">Q</span><span class="s3">\&quot;</span><span class="s1">: formatUnixTimestamp,</span><span class="s3">\n    \&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">: formatUnixTimestampSeconds,</span><span class="s3">\n    \&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">: formatUTCSeconds,</span><span class="s3">\n    \&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">: formatUTCWeekdayNumberMonday,</span><span class="s3">\n    \&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">: formatUTCWeekNumberSunday,</span><span class="s3">\n    \&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">: formatUTCWeekNumberISO,</span><span class="s3">\n    \&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">: formatUTCWeekdayNumberSunday,</span><span class="s3">\n    \&quot;</span><span class="s1">W</span><span class="s3">\&quot;</span><span class="s1">: formatUTCWeekNumberMonday,</span><span class="s3">\n    \&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">: null,</span><span class="s3">\n    \&quot;</span><span class="s1">X</span><span class="s3">\&quot;</span><span class="s1">: null,</span><span class="s3">\n    \&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">: formatUTCYear,</span><span class="s3">\n    \&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">: formatUTCFullYear,</span><span class="s3">\n    \&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">: formatUTCZone,</span><span class="s3">\n    \&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">: formatLiteralPercent</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">var parses = {</span><span class="s3">\n    \&quot;</span><span class="s1">a</span><span class="s3">\&quot;</span><span class="s1">: parseShortWeekday,</span><span class="s3">\n    \&quot;</span><span class="s1">A</span><span class="s3">\&quot;</span><span class="s1">: parseWeekday,</span><span class="s3">\n    \&quot;</span><span class="s1">b</span><span class="s3">\&quot;</span><span class="s1">: parseShortMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">B</span><span class="s3">\&quot;</span><span class="s1">: parseMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">c</span><span class="s3">\&quot;</span><span class="s1">: parseLocaleDateTime,</span><span class="s3">\n    \&quot;</span><span class="s1">d</span><span class="s3">\&quot;</span><span class="s1">: parseDayOfMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">e</span><span class="s3">\&quot;</span><span class="s1">: parseDayOfMonth,</span><span class="s3">\n    \&quot;</span><span class="s1">f</span><span class="s3">\&quot;</span><span class="s1">: parseMicroseconds,</span><span class="s3">\n    \&quot;</span><span class="s1">g</span><span class="s3">\&quot;</span><span class="s1">: parseYear,</span><span class="s3">\n    \&quot;</span><span class="s1">G</span><span class="s3">\&quot;</span><span class="s1">: parseFullYear,</span><span class="s3">\n    \&quot;</span><span class="s1">H</span><span class="s3">\&quot;</span><span class="s1">: parseHour24,</span><span class="s3">\n    \&quot;</span><span class="s1">I</span><span class="s3">\&quot;</span><span class="s1">: parseHour24,</span><span class="s3">\n    \&quot;</span><span class="s1">j</span><span class="s3">\&quot;</span><span class="s1">: parseDayOfYear,</span><span class="s3">\n    \&quot;</span><span class="s1">L</span><span class="s3">\&quot;</span><span class="s1">: parseMilliseconds,</span><span class="s3">\n    \&quot;</span><span class="s1">m</span><span class="s3">\&quot;</span><span class="s1">: parseMonthNumber,</span><span class="s3">\n    \&quot;</span><span class="s1">M</span><span class="s3">\&quot;</span><span class="s1">: parseMinutes,</span><span class="s3">\n    \&quot;</span><span class="s1">p</span><span class="s3">\&quot;</span><span class="s1">: parsePeriod,</span><span class="s3">\n    \&quot;</span><span class="s1">q</span><span class="s3">\&quot;</span><span class="s1">: parseQuarter,</span><span class="s3">\n    \&quot;</span><span class="s1">Q</span><span class="s3">\&quot;</span><span class="s1">: parseUnixTimestamp,</span><span class="s3">\n    \&quot;</span><span class="s1">s</span><span class="s3">\&quot;</span><span class="s1">: parseUnixTimestampSeconds,</span><span class="s3">\n    \&quot;</span><span class="s1">S</span><span class="s3">\&quot;</span><span class="s1">: parseSeconds,</span><span class="s3">\n    \&quot;</span><span class="s1">u</span><span class="s3">\&quot;</span><span class="s1">: parseWeekdayNumberMonday,</span><span class="s3">\n    \&quot;</span><span class="s1">U</span><span class="s3">\&quot;</span><span class="s1">: parseWeekNumberSunday,</span><span class="s3">\n    \&quot;</span><span class="s1">V</span><span class="s3">\&quot;</span><span class="s1">: parseWeekNumberISO,</span><span class="s3">\n    \&quot;</span><span class="s1">w</span><span class="s3">\&quot;</span><span class="s1">: parseWeekdayNumberSunday,</span><span class="s3">\n    \&quot;</span><span class="s1">W</span><span class="s3">\&quot;</span><span class="s1">: parseWeekNumberMonday,</span><span class="s3">\n    \&quot;</span><span class="s1">x</span><span class="s3">\&quot;</span><span class="s1">: parseLocaleDate,</span><span class="s3">\n    \&quot;</span><span class="s1">X</span><span class="s3">\&quot;</span><span class="s1">: parseLocaleTime,</span><span class="s3">\n    \&quot;</span><span class="s1">y</span><span class="s3">\&quot;</span><span class="s1">: parseYear,</span><span class="s3">\n    \&quot;</span><span class="s1">Y</span><span class="s3">\&quot;</span><span class="s1">: parseFullYear,</span><span class="s3">\n    \&quot;</span><span class="s1">Z</span><span class="s3">\&quot;</span><span class="s1">: parseZone,</span><span class="s3">\n    \&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">: parseLiteralPercent</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">// These recursive directive definitions must be deferred.</span><span class="s3">\n  </span><span class="s1">formats.x = newFormat(locale_date, formats);</span><span class="s3">\n  </span><span class="s1">formats.X = newFormat(locale_time, formats);</span><span class="s3">\n  </span><span class="s1">formats.c = newFormat(locale_dateTime, formats);</span><span class="s3">\n  </span><span class="s1">utcFormats.x = newFormat(locale_date, utcFormats);</span><span class="s3">\n  </span><span class="s1">utcFormats.X = newFormat(locale_time, utcFormats);</span><span class="s3">\n  </span><span class="s1">utcFormats.c = newFormat(locale_dateTime, utcFormats);</span><span class="s3">\n\n  </span><span class="s1">function newFormat(specifier, formats) {</span><span class="s3">\n    </span><span class="s1">return function(date) {</span><span class="s3">\n      </span><span class="s1">var string = [],</span><span class="s3">\n          </span><span class="s1">i = -1,</span><span class="s3">\n          </span><span class="s1">j = 0,</span><span class="s3">\n          </span><span class="s1">n = specifier.length,</span><span class="s3">\n          </span><span class="s1">c,</span><span class="s3">\n          </span><span class="s1">pad,</span><span class="s3">\n          </span><span class="s1">format;</span><span class="s3">\n\n      </span><span class="s1">if (!(date instanceof Date)) date = new Date(+date);</span><span class="s3">\n\n      </span><span class="s1">while (++i &lt; n) {</span><span class="s3">\n        </span><span class="s1">if (specifier.charCodeAt(i) === 37) {</span><span class="s3">\n          </span><span class="s1">string.push(specifier.slice(j, i));</span><span class="s3">\n          </span><span class="s1">if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);</span><span class="s3">\n          </span><span class="s1">else pad = c === </span><span class="s3">\&quot;</span><span class="s1">e</span><span class="s3">\&quot; </span><span class="s1">? </span><span class="s3">\&quot; \&quot; </span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n          </span><span class="s1">if (format = formats[c]) c = format(date, pad);</span><span class="s3">\n          </span><span class="s1">string.push(c);</span><span class="s3">\n          </span><span class="s1">j = i + 1;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">string.push(specifier.slice(j, i));</span><span class="s3">\n      </span><span class="s1">return string.join(</span><span class="s3">\&quot;\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function newParse(specifier, Z) {</span><span class="s3">\n    </span><span class="s1">return function(string) {</span><span class="s3">\n      </span><span class="s1">var d = newDate(1900, undefined, 1),</span><span class="s3">\n          </span><span class="s1">i = parseSpecifier(d, specifier, string += </span><span class="s3">\&quot;\&quot;</span><span class="s1">, 0),</span><span class="s3">\n          </span><span class="s1">week, day;</span><span class="s3">\n      </span><span class="s1">if (i != string.length) return null;</span><span class="s3">\n\n      </span><span class="s1">// If a UNIX timestamp is specified, return it.</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">Q</span><span class="s3">\&quot; </span><span class="s1">in d) return new Date(d.Q);</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">s</span><span class="s3">\&quot; </span><span class="s1">in d) return new Date(d.s * 1000 + (</span><span class="s3">\&quot;</span><span class="s1">L</span><span class="s3">\&quot; </span><span class="s1">in d ? d.L : 0));</span><span class="s3">\n\n      </span><span class="s1">// If this is utcParse, never use the local timezone.</span><span class="s3">\n      </span><span class="s1">if (Z &amp;&amp; !(</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot; </span><span class="s1">in d)) d.Z = 0;</span><span class="s3">\n\n      </span><span class="s1">// The am-pm flag is 0 for AM, and 1 for PM.</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">p</span><span class="s3">\&quot; </span><span class="s1">in d) d.H = d.H % 12 + d.p * 12;</span><span class="s3">\n\n      </span><span class="s1">// If the month was not specified, inherit from the quarter.</span><span class="s3">\n      </span><span class="s1">if (d.m === undefined) d.m = </span><span class="s3">\&quot;</span><span class="s1">q</span><span class="s3">\&quot; </span><span class="s1">in d ? d.q : 0;</span><span class="s3">\n\n      </span><span class="s1">// Convert day-of-week and week-of-year to day-of-year.</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">V</span><span class="s3">\&quot; </span><span class="s1">in d) {</span><span class="s3">\n        </span><span class="s1">if (d.V &lt; 1 || d.V &gt; 53) return null;</span><span class="s3">\n        </span><span class="s1">if (!(</span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot; </span><span class="s1">in d)) d.w = 1;</span><span class="s3">\n        </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot; </span><span class="s1">in d) {</span><span class="s3">\n          </span><span class="s1">week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();</span><span class="s3">\n          </span><span class="s1">week = day &gt; 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);</span><span class="s3">\n          </span><span class="s1">week = utcDay.offset(week, (d.V - 1) * 7);</span><span class="s3">\n          </span><span class="s1">d.y = week.getUTCFullYear();</span><span class="s3">\n          </span><span class="s1">d.m = week.getUTCMonth();</span><span class="s3">\n          </span><span class="s1">d.d = week.getUTCDate() + (d.w + 6) % 7;</span><span class="s3">\n        </span><span class="s1">} else {</span><span class="s3">\n          </span><span class="s1">week = localDate(newDate(d.y, 0, 1)), day = week.getDay();</span><span class="s3">\n          </span><span class="s1">week = day &gt; 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);</span><span class="s3">\n          </span><span class="s1">week = timeDay.offset(week, (d.V - 1) * 7);</span><span class="s3">\n          </span><span class="s1">d.y = week.getFullYear();</span><span class="s3">\n          </span><span class="s1">d.m = week.getMonth();</span><span class="s3">\n          </span><span class="s1">d.d = week.getDate() + (d.w + 6) % 7;</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">} else if (</span><span class="s3">\&quot;</span><span class="s1">W</span><span class="s3">\&quot; </span><span class="s1">in d || </span><span class="s3">\&quot;</span><span class="s1">U</span><span class="s3">\&quot; </span><span class="s1">in d) {</span><span class="s3">\n        </span><span class="s1">if (!(</span><span class="s3">\&quot;</span><span class="s1">w</span><span class="s3">\&quot; </span><span class="s1">in d)) d.w = </span><span class="s3">\&quot;</span><span class="s1">u</span><span class="s3">\&quot; </span><span class="s1">in d ? d.u % 7 : </span><span class="s3">\&quot;</span><span class="s1">W</span><span class="s3">\&quot; </span><span class="s1">in d ? 1 : 0;</span><span class="s3">\n        </span><span class="s1">day = </span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot; </span><span class="s1">in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();</span><span class="s3">\n        </span><span class="s1">d.m = 0;</span><span class="s3">\n        </span><span class="s1">d.d = </span><span class="s3">\&quot;</span><span class="s1">W</span><span class="s3">\&quot; </span><span class="s1">in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// If a time zone is specified, all fields are interpreted as UTC and then</span><span class="s3">\n      </span><span class="s1">// offset according to the specified time zone.</span><span class="s3">\n      </span><span class="s1">if (</span><span class="s3">\&quot;</span><span class="s1">Z</span><span class="s3">\&quot; </span><span class="s1">in d) {</span><span class="s3">\n        </span><span class="s1">d.H += d.Z / 100 | 0;</span><span class="s3">\n        </span><span class="s1">d.M += d.Z % 100;</span><span class="s3">\n        </span><span class="s1">return utcDate(d);</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n\n      </span><span class="s1">// Otherwise, all fields are in local time.</span><span class="s3">\n      </span><span class="s1">return localDate(d);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function parseSpecifier(d, specifier, string, j) {</span><span class="s3">\n    </span><span class="s1">var i = 0,</span><span class="s3">\n        </span><span class="s1">n = specifier.length,</span><span class="s3">\n        </span><span class="s1">m = string.length,</span><span class="s3">\n        </span><span class="s1">c,</span><span class="s3">\n        </span><span class="s1">parse;</span><span class="s3">\n\n    </span><span class="s1">while (i &lt; n) {</span><span class="s3">\n      </span><span class="s1">if (j &gt;= m) return -1;</span><span class="s3">\n      </span><span class="s1">c = specifier.charCodeAt(i++);</span><span class="s3">\n      </span><span class="s1">if (c === 37) {</span><span class="s3">\n        </span><span class="s1">c = specifier.charAt(i++);</span><span class="s3">\n        </span><span class="s1">parse = parses[c in pads ? specifier.charAt(i++) : c];</span><span class="s3">\n        </span><span class="s1">if (!parse || ((j = parse(d, string, j)) &lt; 0)) return -1;</span><span class="s3">\n      </span><span class="s1">} else if (c != string.charCodeAt(j++)) {</span><span class="s3">\n        </span><span class="s1">return -1;</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n\n    </span><span class="s1">return j;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function parsePeriod(d, string, i) {</span><span class="s3">\n    </span><span class="s1">var n = periodRe.exec(string.slice(i));</span><span class="s3">\n    </span><span class="s1">return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function parseShortWeekday(d, string, i) {</span><span class="s3">\n    </span><span class="s1">var n = shortWeekdayRe.exec(string.slice(i));</span><span class="s3">\n    </span><span class="s1">return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function parseWeekday(d, string, i) {</span><span class="s3">\n    </span><span class="s1">var n = weekdayRe.exec(string.slice(i));</span><span class="s3">\n    </span><span class="s1">return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function parseShortMonth(d, string, i) {</span><span class="s3">\n    </span><span class="s1">var n = shortMonthRe.exec(string.slice(i));</span><span class="s3">\n    </span><span class="s1">return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function parseMonth(d, string, i) {</span><span class="s3">\n    </span><span class="s1">var n = monthRe.exec(string.slice(i));</span><span class="s3">\n    </span><span class="s1">return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function parseLocaleDateTime(d, string, i) {</span><span class="s3">\n    </span><span class="s1">return parseSpecifier(d, locale_dateTime, string, i);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function parseLocaleDate(d, string, i) {</span><span class="s3">\n    </span><span class="s1">return parseSpecifier(d, locale_date, string, i);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function parseLocaleTime(d, string, i) {</span><span class="s3">\n    </span><span class="s1">return parseSpecifier(d, locale_time, string, i);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatShortWeekday(d) {</span><span class="s3">\n    </span><span class="s1">return locale_shortWeekdays[d.getDay()];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatWeekday(d) {</span><span class="s3">\n    </span><span class="s1">return locale_weekdays[d.getDay()];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatShortMonth(d) {</span><span class="s3">\n    </span><span class="s1">return locale_shortMonths[d.getMonth()];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatMonth(d) {</span><span class="s3">\n    </span><span class="s1">return locale_months[d.getMonth()];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatPeriod(d) {</span><span class="s3">\n    </span><span class="s1">return locale_periods[+(d.getHours() &gt;= 12)];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatQuarter(d) {</span><span class="s3">\n    </span><span class="s1">return 1 + ~~(d.getMonth() / 3);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatUTCShortWeekday(d) {</span><span class="s3">\n    </span><span class="s1">return locale_shortWeekdays[d.getUTCDay()];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatUTCWeekday(d) {</span><span class="s3">\n    </span><span class="s1">return locale_weekdays[d.getUTCDay()];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatUTCShortMonth(d) {</span><span class="s3">\n    </span><span class="s1">return locale_shortMonths[d.getUTCMonth()];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatUTCMonth(d) {</span><span class="s3">\n    </span><span class="s1">return locale_months[d.getUTCMonth()];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatUTCPeriod(d) {</span><span class="s3">\n    </span><span class="s1">return locale_periods[+(d.getUTCHours() &gt;= 12)];</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function formatUTCQuarter(d) {</span><span class="s3">\n    </span><span class="s1">return 1 + ~~(d.getUTCMonth() / 3);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return {</span><span class="s3">\n    </span><span class="s1">format: function(specifier) {</span><span class="s3">\n      </span><span class="s1">var f = newFormat(specifier += </span><span class="s3">\&quot;\&quot;</span><span class="s1">, formats);</span><span class="s3">\n      </span><span class="s1">f.toString = function() { return specifier; };</span><span class="s3">\n      </span><span class="s1">return f;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">parse: function(specifier) {</span><span class="s3">\n      </span><span class="s1">var p = newParse(specifier += </span><span class="s3">\&quot;\&quot;</span><span class="s1">, false);</span><span class="s3">\n      </span><span class="s1">p.toString = function() { return specifier; };</span><span class="s3">\n      </span><span class="s1">return p;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">utcFormat: function(specifier) {</span><span class="s3">\n      </span><span class="s1">var f = newFormat(specifier += </span><span class="s3">\&quot;\&quot;</span><span class="s1">, utcFormats);</span><span class="s3">\n      </span><span class="s1">f.toString = function() { return specifier; };</span><span class="s3">\n      </span><span class="s1">return f;</span><span class="s3">\n    </span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">utcParse: function(specifier) {</span><span class="s3">\n      </span><span class="s1">var p = newParse(specifier += </span><span class="s3">\&quot;\&quot;</span><span class="s1">, true);</span><span class="s3">\n      </span><span class="s1">p.toString = function() { return specifier; };</span><span class="s3">\n      </span><span class="s1">return p;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">var pads = {</span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">_</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot; \&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">: </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">},</span><span class="s3">\n    </span><span class="s1">numberRe = /^</span><span class="s3">\\</span><span class="s1">s*</span><span class="s3">\\</span><span class="s1">d+/, // note: ignores next directive</span><span class="s3">\n    </span><span class="s1">percentRe = /^%/,</span><span class="s3">\n    </span><span class="s1">requoteRe = /[</span><span class="s3">\\\\</span><span class="s1">^$*+?|[</span><span class="s3">\\</span><span class="s1">]().{}]/g;</span><span class="s3">\n\n</span><span class="s1">function pad(value, fill, width) {</span><span class="s3">\n  </span><span class="s1">var sign = value &lt; 0 ? </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">: </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">string = (sign ? -value : value) + </span><span class="s3">\&quot;\&quot;</span><span class="s1">,</span><span class="s3">\n      </span><span class="s1">length = string.length;</span><span class="s3">\n  </span><span class="s1">return sign + (length &lt; width ? new Array(width - length + 1).join(fill) + string : string);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function requote(s) {</span><span class="s3">\n  </span><span class="s1">return s.replace(requoteRe, </span><span class="s3">\&quot;\\\\</span><span class="s1">$&amp;</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatRe(names) {</span><span class="s3">\n  </span><span class="s1">return new RegExp(</span><span class="s3">\&quot;</span><span class="s1">^(?:</span><span class="s3">\&quot; </span><span class="s1">+ names.map(requote).join(</span><span class="s3">\&quot;</span><span class="s1">|</span><span class="s3">\&quot;</span><span class="s1">) + </span><span class="s3">\&quot;</span><span class="s1">)</span><span class="s3">\&quot;</span><span class="s1">, </span><span class="s3">\&quot;</span><span class="s1">i</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatLookup(names) {</span><span class="s3">\n  </span><span class="s1">return new Map(names.map((name, i) =&gt; [name.toLowerCase(), i]));</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseWeekdayNumberSunday(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 1));</span><span class="s3">\n  </span><span class="s1">return n ? (d.w = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseWeekdayNumberMonday(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 1));</span><span class="s3">\n  </span><span class="s1">return n ? (d.u = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseWeekNumberSunday(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 2));</span><span class="s3">\n  </span><span class="s1">return n ? (d.U = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseWeekNumberISO(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 2));</span><span class="s3">\n  </span><span class="s1">return n ? (d.V = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseWeekNumberMonday(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 2));</span><span class="s3">\n  </span><span class="s1">return n ? (d.W = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseFullYear(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 4));</span><span class="s3">\n  </span><span class="s1">return n ? (d.y = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseYear(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 2));</span><span class="s3">\n  </span><span class="s1">return n ? (d.y = +n[0] + (+n[0] &gt; 68 ? 1900 : 2000), i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseZone(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = /^(Z)|([+-]</span><span class="s3">\\</span><span class="s1">d</span><span class="s3">\\</span><span class="s1">d)(?::?(</span><span class="s3">\\</span><span class="s1">d</span><span class="s3">\\</span><span class="s1">d))?/.exec(string.slice(i, i + 6));</span><span class="s3">\n  </span><span class="s1">return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || </span><span class="s3">\&quot;</span><span class="s1">00</span><span class="s3">\&quot;</span><span class="s1">)), i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseQuarter(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 1));</span><span class="s3">\n  </span><span class="s1">return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseMonthNumber(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 2));</span><span class="s3">\n  </span><span class="s1">return n ? (d.m = n[0] - 1, i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseDayOfMonth(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 2));</span><span class="s3">\n  </span><span class="s1">return n ? (d.d = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseDayOfYear(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 3));</span><span class="s3">\n  </span><span class="s1">return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseHour24(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 2));</span><span class="s3">\n  </span><span class="s1">return n ? (d.H = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseMinutes(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 2));</span><span class="s3">\n  </span><span class="s1">return n ? (d.M = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseSeconds(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 2));</span><span class="s3">\n  </span><span class="s1">return n ? (d.S = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseMilliseconds(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 3));</span><span class="s3">\n  </span><span class="s1">return n ? (d.L = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseMicroseconds(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i, i + 6));</span><span class="s3">\n  </span><span class="s1">return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseLiteralPercent(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = percentRe.exec(string.slice(i, i + 1));</span><span class="s3">\n  </span><span class="s1">return n ? i + n[0].length : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseUnixTimestamp(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i));</span><span class="s3">\n  </span><span class="s1">return n ? (d.Q = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function parseUnixTimestampSeconds(d, string, i) {</span><span class="s3">\n  </span><span class="s1">var n = numberRe.exec(string.slice(i));</span><span class="s3">\n  </span><span class="s1">return n ? (d.s = +n[0], i + n[0].length) : -1;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatDayOfMonth(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getDate(), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatHour24(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getHours(), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatHour12(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getHours() % 12 || 12, p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatDayOfYear(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(1 + timeDay.count(timeYear(d), d), p, 3);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatMilliseconds(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getMilliseconds(), p, 3);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatMicroseconds(d, p) {</span><span class="s3">\n  </span><span class="s1">return formatMilliseconds(d, p) + </span><span class="s3">\&quot;</span><span class="s1">000</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatMonthNumber(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getMonth() + 1, p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatMinutes(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getMinutes(), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatSeconds(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getSeconds(), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatWeekdayNumberMonday(d) {</span><span class="s3">\n  </span><span class="s1">var day = d.getDay();</span><span class="s3">\n  </span><span class="s1">return day === 0 ? 7 : day;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatWeekNumberSunday(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function dISO(d) {</span><span class="s3">\n  </span><span class="s1">var day = d.getDay();</span><span class="s3">\n  </span><span class="s1">return (day &gt;= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatWeekNumberISO(d, p) {</span><span class="s3">\n  </span><span class="s1">d = dISO(d);</span><span class="s3">\n  </span><span class="s1">return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatWeekdayNumberSunday(d) {</span><span class="s3">\n  </span><span class="s1">return d.getDay();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatWeekNumberMonday(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatYear(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getFullYear() % 100, p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatYearISO(d, p) {</span><span class="s3">\n  </span><span class="s1">d = dISO(d);</span><span class="s3">\n  </span><span class="s1">return pad(d.getFullYear() % 100, p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatFullYear(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getFullYear() % 10000, p, 4);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatFullYearISO(d, p) {</span><span class="s3">\n  </span><span class="s1">var day = d.getDay();</span><span class="s3">\n  </span><span class="s1">d = (day &gt;= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);</span><span class="s3">\n  </span><span class="s1">return pad(d.getFullYear() % 10000, p, 4);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatZone(d) {</span><span class="s3">\n  </span><span class="s1">var z = d.getTimezoneOffset();</span><span class="s3">\n  </span><span class="s1">return (z &gt; 0 ? </span><span class="s3">\&quot;</span><span class="s1">-</span><span class="s3">\&quot; </span><span class="s1">: (z *= -1, </span><span class="s3">\&quot;</span><span class="s1">+</span><span class="s3">\&quot;</span><span class="s1">))</span><span class="s3">\n      </span><span class="s1">+ pad(z / 60 | 0, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">, 2)</span><span class="s3">\n      </span><span class="s1">+ pad(z % 60, </span><span class="s3">\&quot;</span><span class="s1">0</span><span class="s3">\&quot;</span><span class="s1">, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCDayOfMonth(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCDate(), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCHour24(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCHours(), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCHour12(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCHours() % 12 || 12, p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCDayOfYear(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(1 + utcDay.count(utcYear(d), d), p, 3);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCMilliseconds(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCMilliseconds(), p, 3);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCMicroseconds(d, p) {</span><span class="s3">\n  </span><span class="s1">return formatUTCMilliseconds(d, p) + </span><span class="s3">\&quot;</span><span class="s1">000</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCMonthNumber(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCMonth() + 1, p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCMinutes(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCMinutes(), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCSeconds(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCSeconds(), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCWeekdayNumberMonday(d) {</span><span class="s3">\n  </span><span class="s1">var dow = d.getUTCDay();</span><span class="s3">\n  </span><span class="s1">return dow === 0 ? 7 : dow;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCWeekNumberSunday(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function UTCdISO(d) {</span><span class="s3">\n  </span><span class="s1">var day = d.getUTCDay();</span><span class="s3">\n  </span><span class="s1">return (day &gt;= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCWeekNumberISO(d, p) {</span><span class="s3">\n  </span><span class="s1">d = UTCdISO(d);</span><span class="s3">\n  </span><span class="s1">return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCWeekdayNumberSunday(d) {</span><span class="s3">\n  </span><span class="s1">return d.getUTCDay();</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCWeekNumberMonday(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCYear(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCFullYear() % 100, p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCYearISO(d, p) {</span><span class="s3">\n  </span><span class="s1">d = UTCdISO(d);</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCFullYear() % 100, p, 2);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCFullYear(d, p) {</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCFullYear() % 10000, p, 4);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCFullYearISO(d, p) {</span><span class="s3">\n  </span><span class="s1">var day = d.getUTCDay();</span><span class="s3">\n  </span><span class="s1">d = (day &gt;= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);</span><span class="s3">\n  </span><span class="s1">return pad(d.getUTCFullYear() % 10000, p, 4);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUTCZone() {</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">+0000</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatLiteralPercent() {</span><span class="s3">\n  </span><span class="s1">return </span><span class="s3">\&quot;</span><span class="s1">%</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUnixTimestamp(d) {</span><span class="s3">\n  </span><span class="s1">return +d;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function formatUnixTimestampSeconds(d) {</span><span class="s3">\n  </span><span class="s1">return Math.floor(+d / 1000);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {timeInterval} from </span><span class="s3">\&quot;</span><span class="s1">./interval.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {durationDay, durationMinute} from </span><span class="s3">\&quot;</span><span class="s1">./duration.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export const timeDay = timeInterval(</span><span class="s3">\n  </span><span class="s1">date =&gt; date.setHours(0, 0, 0, 0),</span><span class="s3">\n  </span><span class="s1">(date, step) =&gt; date.setDate(date.getDate() + step),</span><span class="s3">\n  </span><span class="s1">(start, end) =&gt; (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,</span><span class="s3">\n  </span><span class="s1">date =&gt; date.getDate() - 1</span><span class="s3">\n</span><span class="s1">);</span><span class="s3">\n\n</span><span class="s1">export const timeDays = timeDay.range;</span><span class="s3">\n\n</span><span class="s1">export const utcDay = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setUTCHours(0, 0, 0, 0);</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setUTCDate(date.getUTCDate() + step);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return (end - start) / durationDay;</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return date.getUTCDate() - 1;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export const utcDays = utcDay.range;</span><span class="s3">\n\n</span><span class="s1">export const unixDay = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setUTCHours(0, 0, 0, 0);</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setUTCDate(date.getUTCDate() + step);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return (end - start) / durationDay;</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return Math.floor(date / durationDay);</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export const unixDays = unixDay.range;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export const durationSecond = 1000;</span><span class="s3">\n</span><span class="s1">export const durationMinute = durationSecond * 60;</span><span class="s3">\n</span><span class="s1">export const durationHour = durationMinute * 60;</span><span class="s3">\n</span><span class="s1">export const durationDay = durationHour * 24;</span><span class="s3">\n</span><span class="s1">export const durationWeek = durationDay * 7;</span><span class="s3">\n</span><span class="s1">export const durationMonth = durationDay * 30;</span><span class="s3">\n</span><span class="s1">export const durationYear = durationDay * 365;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {timeInterval} from </span><span class="s3">\&quot;</span><span class="s1">./interval.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {durationHour, durationMinute, durationSecond} from </span><span class="s3">\&quot;</span><span class="s1">./duration.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export const timeHour = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setTime(+date + step * durationHour);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return (end - start) / durationHour;</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return date.getHours();</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export const timeHours = timeHour.range;</span><span class="s3">\n\n</span><span class="s1">export const utcHour = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setUTCMinutes(0, 0, 0);</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setTime(+date + step * durationHour);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return (end - start) / durationHour;</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return date.getUTCHours();</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export const utcHours = utcHour.range;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;const t0 = new Date, t1 = new Date;</span><span class="s3">\n\n</span><span class="s1">export function timeInterval(floori, offseti, count, field) {</span><span class="s3">\n\n  </span><span class="s1">function interval(date) {</span><span class="s3">\n    </span><span class="s1">return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">interval.floor = (date) =&gt; {</span><span class="s3">\n    </span><span class="s1">return floori(date = new Date(+date)), date;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">interval.ceil = (date) =&gt; {</span><span class="s3">\n    </span><span class="s1">return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">interval.round = (date) =&gt; {</span><span class="s3">\n    </span><span class="s1">const d0 = interval(date), d1 = interval.ceil(date);</span><span class="s3">\n    </span><span class="s1">return date - d0 &lt; d1 - date ? d0 : d1;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">interval.offset = (date, step) =&gt; {</span><span class="s3">\n    </span><span class="s1">return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">interval.range = (start, stop, step) =&gt; {</span><span class="s3">\n    </span><span class="s1">const range = [];</span><span class="s3">\n    </span><span class="s1">start = interval.ceil(start);</span><span class="s3">\n    </span><span class="s1">step = step == null ? 1 : Math.floor(step);</span><span class="s3">\n    </span><span class="s1">if (!(start &lt; stop) || !(step &gt; 0)) return range; // also handles Invalid Date</span><span class="s3">\n    </span><span class="s1">let previous;</span><span class="s3">\n    </span><span class="s1">do range.push(previous = new Date(+start)), offseti(start, step), floori(start);</span><span class="s3">\n    </span><span class="s1">while (previous &lt; start &amp;&amp; start &lt; stop);</span><span class="s3">\n    </span><span class="s1">return range;</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">interval.filter = (test) =&gt; {</span><span class="s3">\n    </span><span class="s1">return timeInterval((date) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (date &gt;= date) while (floori(date), !test(date)) date.setTime(date - 1);</span><span class="s3">\n    </span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n      </span><span class="s1">if (date &gt;= date) {</span><span class="s3">\n        </span><span class="s1">if (step &lt; 0) while (++step &lt;= 0) {</span><span class="s3">\n          </span><span class="s1">while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty</span><span class="s3">\n        </span><span class="s1">} else while (--step &gt;= 0) {</span><span class="s3">\n          </span><span class="s1">while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty</span><span class="s3">\n        </span><span class="s1">}</span><span class="s3">\n      </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">});</span><span class="s3">\n  </span><span class="s1">};</span><span class="s3">\n\n  </span><span class="s1">if (count) {</span><span class="s3">\n    </span><span class="s1">interval.count = (start, end) =&gt; {</span><span class="s3">\n      </span><span class="s1">t0.setTime(+start), t1.setTime(+end);</span><span class="s3">\n      </span><span class="s1">floori(t0), floori(t1);</span><span class="s3">\n      </span><span class="s1">return Math.floor(count(t0, t1));</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n\n    </span><span class="s1">interval.every = (step) =&gt; {</span><span class="s3">\n      </span><span class="s1">step = Math.floor(step);</span><span class="s3">\n      </span><span class="s1">return !isFinite(step) || !(step &gt; 0) ? null</span><span class="s3">\n          </span><span class="s1">: !(step &gt; 1) ? interval</span><span class="s3">\n          </span><span class="s1">: interval.filter(field</span><span class="s3">\n              </span><span class="s1">? (d) =&gt; field(d) % step === 0</span><span class="s3">\n              </span><span class="s1">: (d) =&gt; interval.count(0, d) % step === 0);</span><span class="s3">\n    </span><span class="s1">};</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return interval;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {timeInterval} from </span><span class="s3">\&quot;</span><span class="s1">./interval.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export const millisecond = timeInterval(() =&gt; {</span><span class="s3">\n  </span><span class="s1">// noop</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setTime(+date + step);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return end - start;</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// An optimized implementation for this simple case.</span><span class="s3">\n</span><span class="s1">millisecond.every = (k) =&gt; {</span><span class="s3">\n  </span><span class="s1">k = Math.floor(k);</span><span class="s3">\n  </span><span class="s1">if (!isFinite(k) || !(k &gt; 0)) return null;</span><span class="s3">\n  </span><span class="s1">if (!(k &gt; 1)) return millisecond;</span><span class="s3">\n  </span><span class="s1">return timeInterval((date) =&gt; {</span><span class="s3">\n    </span><span class="s1">date.setTime(Math.floor(date / k) * k);</span><span class="s3">\n  </span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n    </span><span class="s1">date.setTime(+date + step * k);</span><span class="s3">\n  </span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n    </span><span class="s1">return (end - start) / k;</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export const milliseconds = millisecond.range;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {timeInterval} from </span><span class="s3">\&quot;</span><span class="s1">./interval.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {durationMinute, durationSecond} from </span><span class="s3">\&quot;</span><span class="s1">./duration.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export const timeMinute = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setTime(+date + step * durationMinute);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return (end - start) / durationMinute;</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return date.getMinutes();</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export const timeMinutes = timeMinute.range;</span><span class="s3">\n\n</span><span class="s1">export const utcMinute = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setUTCSeconds(0, 0);</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setTime(+date + step * durationMinute);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return (end - start) / durationMinute;</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return date.getUTCMinutes();</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export const utcMinutes = utcMinute.range;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {timeInterval} from </span><span class="s3">\&quot;</span><span class="s1">./interval.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export const timeMonth = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setDate(1);</span><span class="s3">\n  </span><span class="s1">date.setHours(0, 0, 0, 0);</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setMonth(date.getMonth() + step);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return date.getMonth();</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export const timeMonths = timeMonth.range;</span><span class="s3">\n\n</span><span class="s1">export const utcMonth = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setUTCDate(1);</span><span class="s3">\n  </span><span class="s1">date.setUTCHours(0, 0, 0, 0);</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setUTCMonth(date.getUTCMonth() + step);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return date.getUTCMonth();</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export const utcMonths = utcMonth.range;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {timeInterval} from </span><span class="s3">\&quot;</span><span class="s1">./interval.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {durationSecond} from </span><span class="s3">\&quot;</span><span class="s1">./duration.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export const second = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setTime(date - date.getMilliseconds());</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setTime(+date + step * durationSecond);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return (end - start) / durationSecond;</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return date.getUTCSeconds();</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">export const seconds = second.range;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {bisector, tickStep} from </span><span class="s3">\&quot;</span><span class="s1">d3-array</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from </span><span class="s3">\&quot;</span><span class="s1">./duration.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {millisecond} from </span><span class="s3">\&quot;</span><span class="s1">./millisecond.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {second} from </span><span class="s3">\&quot;</span><span class="s1">./second.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {timeMinute, utcMinute} from </span><span class="s3">\&quot;</span><span class="s1">./minute.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {timeHour, utcHour} from </span><span class="s3">\&quot;</span><span class="s1">./hour.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {timeDay, unixDay} from </span><span class="s3">\&quot;</span><span class="s1">./day.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {timeSunday, utcSunday} from </span><span class="s3">\&quot;</span><span class="s1">./week.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {timeMonth, utcMonth} from </span><span class="s3">\&quot;</span><span class="s1">./month.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {timeYear, utcYear} from </span><span class="s3">\&quot;</span><span class="s1">./year.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function ticker(year, month, week, day, hour, minute) {</span><span class="s3">\n\n  </span><span class="s1">const tickIntervals = [</span><span class="s3">\n    </span><span class="s1">[second,  1,      durationSecond],</span><span class="s3">\n    </span><span class="s1">[second,  5,  5 * durationSecond],</span><span class="s3">\n    </span><span class="s1">[second, 15, 15 * durationSecond],</span><span class="s3">\n    </span><span class="s1">[second, 30, 30 * durationSecond],</span><span class="s3">\n    </span><span class="s1">[minute,  1,      durationMinute],</span><span class="s3">\n    </span><span class="s1">[minute,  5,  5 * durationMinute],</span><span class="s3">\n    </span><span class="s1">[minute, 15, 15 * durationMinute],</span><span class="s3">\n    </span><span class="s1">[minute, 30, 30 * durationMinute],</span><span class="s3">\n    </span><span class="s1">[  hour,  1,      durationHour  ],</span><span class="s3">\n    </span><span class="s1">[  hour,  3,  3 * durationHour  ],</span><span class="s3">\n    </span><span class="s1">[  hour,  6,  6 * durationHour  ],</span><span class="s3">\n    </span><span class="s1">[  hour, 12, 12 * durationHour  ],</span><span class="s3">\n    </span><span class="s1">[   day,  1,      durationDay   ],</span><span class="s3">\n    </span><span class="s1">[   day,  2,  2 * durationDay   ],</span><span class="s3">\n    </span><span class="s1">[  week,  1,      durationWeek  ],</span><span class="s3">\n    </span><span class="s1">[ month,  1,      durationMonth ],</span><span class="s3">\n    </span><span class="s1">[ month,  3,  3 * durationMonth ],</span><span class="s3">\n    </span><span class="s1">[  year,  1,      durationYear  ]</span><span class="s3">\n  </span><span class="s1">];</span><span class="s3">\n\n  </span><span class="s1">function ticks(start, stop, count) {</span><span class="s3">\n    </span><span class="s1">const reverse = stop &lt; start;</span><span class="s3">\n    </span><span class="s1">if (reverse) [start, stop] = [stop, start];</span><span class="s3">\n    </span><span class="s1">const interval = count &amp;&amp; typeof count.range === </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot; </span><span class="s1">? count : tickInterval(start, stop, count);</span><span class="s3">\n    </span><span class="s1">const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop</span><span class="s3">\n    </span><span class="s1">return reverse ? ticks.reverse() : ticks;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">function tickInterval(start, stop, count) {</span><span class="s3">\n    </span><span class="s1">const target = Math.abs(stop - start) / count;</span><span class="s3">\n    </span><span class="s1">const i = bisector(([,, step]) =&gt; step).right(tickIntervals, target);</span><span class="s3">\n    </span><span class="s1">if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));</span><span class="s3">\n    </span><span class="s1">if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));</span><span class="s3">\n    </span><span class="s1">const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] &lt; tickIntervals[i][2] / target ? i - 1 : i];</span><span class="s3">\n    </span><span class="s1">return t.every(step);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n\n  </span><span class="s1">return [ticks, tickInterval];</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">const [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);</span><span class="s3">\n</span><span class="s1">const [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);</span><span class="s3">\n\n</span><span class="s1">export {utcTicks, utcTickInterval, timeTicks, timeTickInterval};</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {timeInterval} from </span><span class="s3">\&quot;</span><span class="s1">./interval.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n</span><span class="s1">import {durationMinute, durationWeek} from </span><span class="s3">\&quot;</span><span class="s1">./duration.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">function timeWeekday(i) {</span><span class="s3">\n  </span><span class="s1">return timeInterval((date) =&gt; {</span><span class="s3">\n    </span><span class="s1">date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);</span><span class="s3">\n    </span><span class="s1">date.setHours(0, 0, 0, 0);</span><span class="s3">\n  </span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n    </span><span class="s1">date.setDate(date.getDate() + step * 7);</span><span class="s3">\n  </span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n    </span><span class="s1">return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export const timeSunday = timeWeekday(0);</span><span class="s3">\n</span><span class="s1">export const timeMonday = timeWeekday(1);</span><span class="s3">\n</span><span class="s1">export const timeTuesday = timeWeekday(2);</span><span class="s3">\n</span><span class="s1">export const timeWednesday = timeWeekday(3);</span><span class="s3">\n</span><span class="s1">export const timeThursday = timeWeekday(4);</span><span class="s3">\n</span><span class="s1">export const timeFriday = timeWeekday(5);</span><span class="s3">\n</span><span class="s1">export const timeSaturday = timeWeekday(6);</span><span class="s3">\n\n</span><span class="s1">export const timeSundays = timeSunday.range;</span><span class="s3">\n</span><span class="s1">export const timeMondays = timeMonday.range;</span><span class="s3">\n</span><span class="s1">export const timeTuesdays = timeTuesday.range;</span><span class="s3">\n</span><span class="s1">export const timeWednesdays = timeWednesday.range;</span><span class="s3">\n</span><span class="s1">export const timeThursdays = timeThursday.range;</span><span class="s3">\n</span><span class="s1">export const timeFridays = timeFriday.range;</span><span class="s3">\n</span><span class="s1">export const timeSaturdays = timeSaturday.range;</span><span class="s3">\n\n</span><span class="s1">function utcWeekday(i) {</span><span class="s3">\n  </span><span class="s1">return timeInterval((date) =&gt; {</span><span class="s3">\n    </span><span class="s1">date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);</span><span class="s3">\n    </span><span class="s1">date.setUTCHours(0, 0, 0, 0);</span><span class="s3">\n  </span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n    </span><span class="s1">date.setUTCDate(date.getUTCDate() + step * 7);</span><span class="s3">\n  </span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n    </span><span class="s1">return (end - start) / durationWeek;</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export const utcSunday = utcWeekday(0);</span><span class="s3">\n</span><span class="s1">export const utcMonday = utcWeekday(1);</span><span class="s3">\n</span><span class="s1">export const utcTuesday = utcWeekday(2);</span><span class="s3">\n</span><span class="s1">export const utcWednesday = utcWeekday(3);</span><span class="s3">\n</span><span class="s1">export const utcThursday = utcWeekday(4);</span><span class="s3">\n</span><span class="s1">export const utcFriday = utcWeekday(5);</span><span class="s3">\n</span><span class="s1">export const utcSaturday = utcWeekday(6);</span><span class="s3">\n\n</span><span class="s1">export const utcSundays = utcSunday.range;</span><span class="s3">\n</span><span class="s1">export const utcMondays = utcMonday.range;</span><span class="s3">\n</span><span class="s1">export const utcTuesdays = utcTuesday.range;</span><span class="s3">\n</span><span class="s1">export const utcWednesdays = utcWednesday.range;</span><span class="s3">\n</span><span class="s1">export const utcThursdays = utcThursday.range;</span><span class="s3">\n</span><span class="s1">export const utcFridays = utcFriday.range;</span><span class="s3">\n</span><span class="s1">export const utcSaturdays = utcSaturday.range;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;import {timeInterval} from </span><span class="s3">\&quot;</span><span class="s1">./interval.js</span><span class="s3">\&quot;</span><span class="s1">;</span><span class="s3">\n\n</span><span class="s1">export const timeYear = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setMonth(0, 1);</span><span class="s3">\n  </span><span class="s1">date.setHours(0, 0, 0, 0);</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setFullYear(date.getFullYear() + step);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return end.getFullYear() - start.getFullYear();</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return date.getFullYear();</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// An optimized implementation for this simple case.</span><span class="s3">\n</span><span class="s1">timeYear.every = (k) =&gt; {</span><span class="s3">\n  </span><span class="s1">return !isFinite(k = Math.floor(k)) || !(k &gt; 0) ? null : timeInterval((date) =&gt; {</span><span class="s3">\n    </span><span class="s1">date.setFullYear(Math.floor(date.getFullYear() / k) * k);</span><span class="s3">\n    </span><span class="s1">date.setMonth(0, 1);</span><span class="s3">\n    </span><span class="s1">date.setHours(0, 0, 0, 0);</span><span class="s3">\n  </span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n    </span><span class="s1">date.setFullYear(date.getFullYear() + step * k);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export const timeYears = timeYear.range;</span><span class="s3">\n\n</span><span class="s1">export const utcYear = timeInterval((date) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setUTCMonth(0, 1);</span><span class="s3">\n  </span><span class="s1">date.setUTCHours(0, 0, 0, 0);</span><span class="s3">\n</span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n  </span><span class="s1">date.setUTCFullYear(date.getUTCFullYear() + step);</span><span class="s3">\n</span><span class="s1">}, (start, end) =&gt; {</span><span class="s3">\n  </span><span class="s1">return end.getUTCFullYear() - start.getUTCFullYear();</span><span class="s3">\n</span><span class="s1">}, (date) =&gt; {</span><span class="s3">\n  </span><span class="s1">return date.getUTCFullYear();</span><span class="s3">\n</span><span class="s1">});</span><span class="s3">\n\n</span><span class="s1">// An optimized implementation for this simple case.</span><span class="s3">\n</span><span class="s1">utcYear.every = (k) =&gt; {</span><span class="s3">\n  </span><span class="s1">return !isFinite(k = Math.floor(k)) || !(k &gt; 0) ? null : timeInterval((date) =&gt; {</span><span class="s3">\n    </span><span class="s1">date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);</span><span class="s3">\n    </span><span class="s1">date.setUTCMonth(0, 1);</span><span class="s3">\n    </span><span class="s1">date.setUTCHours(0, 0, 0, 0);</span><span class="s3">\n  </span><span class="s1">}, (date, step) =&gt; {</span><span class="s3">\n    </span><span class="s1">date.setUTCFullYear(date.getUTCFullYear() + step * k);</span><span class="s3">\n  </span><span class="s1">});</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export const utcYears = utcYear.range;</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;var frame = 0, // is an animation frame pending?</span><span class="s3">\n    </span><span class="s1">timeout = 0, // is a timeout pending?</span><span class="s3">\n    </span><span class="s1">interval = 0, // are any timers active?</span><span class="s3">\n    </span><span class="s1">pokeDelay = 1000, // how frequently we check for clock skew</span><span class="s3">\n    </span><span class="s1">taskHead,</span><span class="s3">\n    </span><span class="s1">taskTail,</span><span class="s3">\n    </span><span class="s1">clockLast = 0,</span><span class="s3">\n    </span><span class="s1">clockNow = 0,</span><span class="s3">\n    </span><span class="s1">clockSkew = 0,</span><span class="s3">\n    </span><span class="s1">clock = typeof performance === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; performance.now ? performance : Date,</span><span class="s3">\n    </span><span class="s1">setFrame = typeof window === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">&amp;&amp; window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };</span><span class="s3">\n\n</span><span class="s1">export function now() {</span><span class="s3">\n  </span><span class="s1">return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function clearNow() {</span><span class="s3">\n  </span><span class="s1">clockNow = 0;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function Timer() {</span><span class="s3">\n  </span><span class="s1">this._call =</span><span class="s3">\n  </span><span class="s1">this._time =</span><span class="s3">\n  </span><span class="s1">this._next = null;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">Timer.prototype = timer.prototype = {</span><span class="s3">\n  </span><span class="s1">constructor: Timer,</span><span class="s3">\n  </span><span class="s1">restart: function(callback, delay, time) {</span><span class="s3">\n    </span><span class="s1">if (typeof callback !== </span><span class="s3">\&quot;</span><span class="s1">function</span><span class="s3">\&quot;</span><span class="s1">) throw new TypeError(</span><span class="s3">\&quot;</span><span class="s1">callback is not a function</span><span class="s3">\&quot;</span><span class="s1">);</span><span class="s3">\n    </span><span class="s1">time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);</span><span class="s3">\n    </span><span class="s1">if (!this._next &amp;&amp; taskTail !== this) {</span><span class="s3">\n      </span><span class="s1">if (taskTail) taskTail._next = this;</span><span class="s3">\n      </span><span class="s1">else taskHead = this;</span><span class="s3">\n      </span><span class="s1">taskTail = this;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n    </span><span class="s1">this._call = callback;</span><span class="s3">\n    </span><span class="s1">this._time = time;</span><span class="s3">\n    </span><span class="s1">sleep();</span><span class="s3">\n  </span><span class="s1">},</span><span class="s3">\n  </span><span class="s1">stop: function() {</span><span class="s3">\n    </span><span class="s1">if (this._call) {</span><span class="s3">\n      </span><span class="s1">this._call = null;</span><span class="s3">\n      </span><span class="s1">this._time = Infinity;</span><span class="s3">\n      </span><span class="s1">sleep();</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">};</span><span class="s3">\n\n</span><span class="s1">export function timer(callback, delay, time) {</span><span class="s3">\n  </span><span class="s1">var t = new Timer;</span><span class="s3">\n  </span><span class="s1">t.restart(callback, delay, time);</span><span class="s3">\n  </span><span class="s1">return t;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export function timerFlush() {</span><span class="s3">\n  </span><span class="s1">now(); // Get the current time, if not already set.</span><span class="s3">\n  </span><span class="s1">++frame; // Pretend we’ve set an alarm, if we haven’t already.</span><span class="s3">\n  </span><span class="s1">var t = taskHead, e;</span><span class="s3">\n  </span><span class="s1">while (t) {</span><span class="s3">\n    </span><span class="s1">if ((e = clockNow - t._time) &gt;= 0) t._call.call(undefined, e);</span><span class="s3">\n    </span><span class="s1">t = t._next;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">--frame;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function wake() {</span><span class="s3">\n  </span><span class="s1">clockNow = (clockLast = clock.now()) + clockSkew;</span><span class="s3">\n  </span><span class="s1">frame = timeout = 0;</span><span class="s3">\n  </span><span class="s1">try {</span><span class="s3">\n    </span><span class="s1">timerFlush();</span><span class="s3">\n  </span><span class="s1">} finally {</span><span class="s3">\n    </span><span class="s1">frame = 0;</span><span class="s3">\n    </span><span class="s1">nap();</span><span class="s3">\n    </span><span class="s1">clockNow = 0;</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function poke() {</span><span class="s3">\n  </span><span class="s1">var now = clock.now(), delay = now - clockLast;</span><span class="s3">\n  </span><span class="s1">if (delay &gt; pokeDelay) clockSkew -= delay, clockLast = now;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function nap() {</span><span class="s3">\n  </span><span class="s1">var t0, t1 = taskHead, t2, time = Infinity;</span><span class="s3">\n  </span><span class="s1">while (t1) {</span><span class="s3">\n    </span><span class="s1">if (t1._call) {</span><span class="s3">\n      </span><span class="s1">if (time &gt; t1._time) time = t1._time;</span><span class="s3">\n      </span><span class="s1">t0 = t1, t1 = t1._next;</span><span class="s3">\n    </span><span class="s1">} else {</span><span class="s3">\n      </span><span class="s1">t2 = t1._next, t1._next = null;</span><span class="s3">\n      </span><span class="s1">t1 = t0 ? t0._next = t2 : taskHead = t2;</span><span class="s3">\n    </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">taskTail = t0;</span><span class="s3">\n  </span><span class="s1">sleep(time);</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function sleep(time) {</span><span class="s3">\n  </span><span class="s1">if (frame) return; // Soonest alarm already set, or will be.</span><span class="s3">\n  </span><span class="s1">if (timeout) timeout = clearTimeout(timeout);</span><span class="s3">\n  </span><span class="s1">var delay = time - clockNow; // Strictly less than if we recomputed clockNow.</span><span class="s3">\n  </span><span class="s1">if (delay &gt; 24) {</span><span class="s3">\n    </span><span class="s1">if (time &lt; Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);</span><span class="s3">\n    </span><span class="s1">if (interval) interval = clearInterval(interval);</span><span class="s3">\n  </span><span class="s1">} else {</span><span class="s3">\n    </span><span class="s1">if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);</span><span class="s3">\n    </span><span class="s1">frame = 1, setFrame(wake);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">,</span><span class="s1">&quot;export class InternMap extends Map {</span><span class="s3">\n  </span><span class="s1">constructor(entries, key = keyof) {</span><span class="s3">\n    </span><span class="s1">super();</span><span class="s3">\n    </span><span class="s1">Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});</span><span class="s3">\n    </span><span class="s1">if (entries != null) for (const [key, value] of entries) this.set(key, value);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">get(key) {</span><span class="s3">\n    </span><span class="s1">return super.get(intern_get(this, key));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">has(key) {</span><span class="s3">\n    </span><span class="s1">return super.has(intern_get(this, key));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">set(key, value) {</span><span class="s3">\n    </span><span class="s1">return super.set(intern_set(this, key), value);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">delete(key) {</span><span class="s3">\n    </span><span class="s1">return super.delete(intern_delete(this, key));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">export class InternSet extends Set {</span><span class="s3">\n  </span><span class="s1">constructor(values, key = keyof) {</span><span class="s3">\n    </span><span class="s1">super();</span><span class="s3">\n    </span><span class="s1">Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});</span><span class="s3">\n    </span><span class="s1">if (values != null) for (const value of values) this.add(value);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">has(value) {</span><span class="s3">\n    </span><span class="s1">return super.has(intern_get(this, value));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">add(value) {</span><span class="s3">\n    </span><span class="s1">return super.add(intern_set(this, value));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">delete(value) {</span><span class="s3">\n    </span><span class="s1">return super.delete(intern_delete(this, value));</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function intern_get({_intern, _key}, value) {</span><span class="s3">\n  </span><span class="s1">const key = _key(value);</span><span class="s3">\n  </span><span class="s1">return _intern.has(key) ? _intern.get(key) : value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function intern_set({_intern, _key}, value) {</span><span class="s3">\n  </span><span class="s1">const key = _key(value);</span><span class="s3">\n  </span><span class="s1">if (_intern.has(key)) return _intern.get(key);</span><span class="s3">\n  </span><span class="s1">_intern.set(key, value);</span><span class="s3">\n  </span><span class="s1">return value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function intern_delete({_intern, _key}, value) {</span><span class="s3">\n  </span><span class="s1">const key = _key(value);</span><span class="s3">\n  </span><span class="s1">if (_intern.has(key)) {</span><span class="s3">\n    </span><span class="s1">value = _intern.get(value);</span><span class="s3">\n    </span><span class="s1">_intern.delete(key);</span><span class="s3">\n  </span><span class="s1">}</span><span class="s3">\n  </span><span class="s1">return value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n\n</span><span class="s1">function keyof(value) {</span><span class="s3">\n  </span><span class="s1">return value !== null &amp;&amp; typeof value === </span><span class="s3">\&quot;</span><span class="s1">object</span><span class="s3">\&quot; </span><span class="s1">? value.valueOf() : value;</span><span class="s3">\n</span><span class="s1">}</span><span class="s3">\n</span><span class="s1">&quot;</span><span class="s0">],</span><span class="s1">&quot;names&quot;</span><span class="s0">:[],</span><span class="s1">&quot;sourceRoot&quot;</span><span class="s0">:</span><span class="s1">&quot;&quot;</span><span class="s0">}</span></pre>
</body>
</html>