<html>
<head>
<title>4350.8c8a0e7a3ffe036494e1.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #bcbec4;}
.s2 { color: #6aab73;}
.s3 { color: #2aacb8;}
.s4 { color: #cf8e6d;}
.s5 { color: #42c3d4;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
4350.8c8a0e7a3ffe036494e1.js</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">(</span><span class="s1">self</span><span class="s0">[</span><span class="s2">&quot;webpackChunk_jupyterlab_application_top&quot;</span><span class="s0">]=</span><span class="s1">self</span><span class="s0">[</span><span class="s2">&quot;webpackChunk_jupyterlab_application_top&quot;</span><span class="s0">]||[]).</span><span class="s1">push</span><span class="s0">([[</span><span class="s3">4350</span><span class="s0">],{</span><span class="s3">32017</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">=</span><span class="s4">function </span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">t</span><span class="s0">)</span><span class="s4">return true</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">==</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;object&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">!==</span><span class="s1">t</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">)</span><span class="s4">return false</span><span class="s0">;</span><span class="s4">var </span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)</span><span class="s4">return false</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s1">r</span><span class="s0">--!==</span><span class="s3">0</span><span class="s0">;)</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">],</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s4">return false</span><span class="s0">;</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">===</span><span class="s1">RegExp</span><span class="s0">)</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">source</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">source</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">flags</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">flags</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">valueOf</span><span class="s0">!==</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">valueOf</span><span class="s0">)</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">valueOf</span><span class="s0">()===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">valueOf</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">!==</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">)</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">();</span><span class="s1">s</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">length</span><span class="s0">)</span><span class="s4">return false</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s1">r</span><span class="s0">--!==</span><span class="s3">0</span><span class="s0">;)</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s4">return false</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s1">r</span><span class="s0">--!==</span><span class="s3">0</span><span class="s0">;){</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">o</span><span class="s0">],</span><span class="s1">t</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]))</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">t</span><span class="s0">}},</span><span class="s3">72492</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">)</span><span class="s1">n</span><span class="s0">={};</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s1">n</span><span class="s0">={</span><span class="s1">cmp</span><span class="s0">:</span><span class="s1">n</span><span class="s0">};</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">.</span><span class="s1">cycles</span><span class="s0">===</span><span class="s2">&quot;boolean&quot;</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">cycles</span><span class="s0">:</span><span class="s4">false</span><span class="s0">;</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">cmp</span><span class="s0">&amp;&amp;</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">={</span><span class="s1">key</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]};</span><span class="s4">var </span><span class="s1">s</span><span class="s0">={</span><span class="s1">key</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]};</span><span class="s4">return </span><span class="s1">e</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}}}(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">cmp</span><span class="s0">);</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=[];</span><span class="s4">return function </span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toJSON</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">.</span><span class="s1">toJSON</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toJSON</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">)</span><span class="s4">return</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">==</span><span class="s2">&quot;number&quot;</span><span class="s0">)</span><span class="s4">return </span><span class="s1">isFinite</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s2">&quot;&quot;</span><span class="s0">+</span><span class="s1">n</span><span class="s0">:</span><span class="s2">&quot;null&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">!==</span><span class="s2">&quot;object&quot;</span><span class="s0">)</span><span class="s4">return </span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">=</span><span class="s2">&quot;[&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">s</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">s</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)</span><span class="s1">o</span><span class="s0">+=</span><span class="s2">&quot;,&quot;</span><span class="s0">;</span><span class="s1">o</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">s</span><span class="s0">])||</span><span class="s2">&quot;null&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">+</span><span class="s2">&quot;]&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">)</span><span class="s4">return</span><span class="s2">&quot;null&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)!==-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)</span><span class="s4">return </span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s2">&quot;__cycle__&quot;</span><span class="s0">);</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Converting circular structure to JSON&quot;</span><span class="s0">)}</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">n</span><span class="s0">).</span><span class="s1">sort</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s1">o</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">s</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s1">u</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">s</span><span class="s0">++){</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">u</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">var </span><span class="s1">l</span><span class="s0">=</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">c</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">l</span><span class="s0">)</span><span class="s4">continue</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)</span><span class="s1">o</span><span class="s0">+=</span><span class="s2">&quot;,&quot;</span><span class="s0">;</span><span class="s1">o</span><span class="s0">+=</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)+</span><span class="s2">&quot;:&quot;</span><span class="s0">+</span><span class="s1">l</span><span class="s0">}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return</span><span class="s2">&quot;{&quot;</span><span class="s0">+</span><span class="s1">o</span><span class="s0">+</span><span class="s2">&quot;}&quot;</span><span class="s0">}(</span><span class="s1">e</span><span class="s0">)}},</span><span class="s3">45948</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">P</span><span class="s0">:()=&gt;</span><span class="s1">h</span><span class="s0">});</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;view&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s2">&quot;[&quot;</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s2">&quot;]&quot;</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s2">&quot;{&quot;</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;}&quot;</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s2">&quot;:&quot;</span><span class="s0">,</span><span class="s1">c</span><span class="s0">=</span><span class="s2">&quot;,&quot;</span><span class="s0">,</span><span class="s1">l</span><span class="s0">=</span><span class="s2">&quot;@&quot;</span><span class="s0">,</span><span class="s1">f</span><span class="s0">=</span><span class="s2">&quot;&gt;&quot;</span><span class="s0">,</span><span class="s1">d</span><span class="s0">=</span><span class="s5">/[[\]{}]/</span><span class="s0">,</span><span class="s1">p</span><span class="s0">={</span><span class="s2">&quot;*&quot;</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">arc</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">area</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">group</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">image</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">path</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">rect</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">shape</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbol</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">trail</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">let </span><span class="s1">g</span><span class="s0">,</span><span class="s1">m</span><span class="s0">;</span><span class="s4">function </span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">g</span><span class="s0">=</span><span class="s1">n</span><span class="s0">||</span><span class="s1">i</span><span class="s0">;</span><span class="s1">m</span><span class="s0">=</span><span class="s1">t</span><span class="s0">||</span><span class="s1">p</span><span class="s0">;</span><span class="s4">return </span><span class="s1">v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">trim</span><span class="s0">()).</span><span class="s1">map</span><span class="s0">(</span><span class="s1">O</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">m</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">;++</span><span class="s1">n</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">===</span><span class="s1">t</span><span class="s0">)</span><span class="s4">return </span><span class="s1">n</span><span class="s0">;</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">)--</span><span class="s1">o</span><span class="s0">;</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">)++</span><span class="s1">o</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[],</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">u</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">r</span><span class="s0">+</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">+</span><span class="s1">a</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">u</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">());</span><span class="s1">i</span><span class="s0">=++</span><span class="s1">u</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">throw</span><span class="s2">&quot;Empty event selector: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]===</span><span class="s2">&quot;[&quot;</span><span class="s0">?</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">w</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">1</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">n</span><span class="s0">){</span><span class="s4">throw</span><span class="s2">&quot;Empty between selector: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">}</span><span class="s1">i</span><span class="s0">=</span><span class="s1">v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,</span><span class="s1">t</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">!==</span><span class="s3">2</span><span class="s0">){</span><span class="s4">throw</span><span class="s2">&quot;Between selector must have two elements: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">}</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">t</span><span class="s0">+</span><span class="s3">1</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]!==</span><span class="s1">f</span><span class="s0">){</span><span class="s4">throw</span><span class="s2">&quot;Expected '&gt;' after between selector: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">}</span><span class="s1">i</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">O</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">1</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">());</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">between</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">between</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">stream</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">.</span><span class="s1">between</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">function </span><span class="s1">w</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">source</span><span class="s0">:</span><span class="s1">g</span><span class="s0">},</span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=[</span><span class="s3">0</span><span class="s0">,</span><span class="s3">0</span><span class="s0">],</span><span class="s1">c</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">f</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">p</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">m</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">h</span><span class="s0">,</span><span class="s1">v</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">p</span><span class="s0">-</span><span class="s3">1</span><span class="s0">]===</span><span class="s1">a</span><span class="s0">){</span><span class="s1">m</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lastIndexOf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">m</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">j</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">m</span><span class="s0">+</span><span class="s3">1</span><span class="s0">,</span><span class="s1">p</span><span class="s0">-</span><span class="s3">1</span><span class="s0">))}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">O</span><span class="s0">){</span><span class="s4">throw</span><span class="s2">&quot;Invalid throttle specification: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">}</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">m</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">();</span><span class="s1">p</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">}</span><span class="s4">else throw</span><span class="s2">&quot;Unmatched right brace: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">;</span><span class="s1">m</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">p</span><span class="s0">)</span><span class="s4">throw </span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]===</span><span class="s1">l</span><span class="s0">)</span><span class="s1">c</span><span class="s0">=++</span><span class="s1">m</span><span class="s0">;</span><span class="s1">h</span><span class="s0">=</span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">m</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">&lt;</span><span class="s1">p</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">h</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">());</span><span class="s1">f</span><span class="s0">=</span><span class="s1">m</span><span class="s0">=++</span><span class="s1">h</span><span class="s0">}</span><span class="s1">m</span><span class="s0">=</span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">m</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">m</span><span class="s0">===</span><span class="s1">p</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">p</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">())}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">m</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">());</span><span class="s1">v</span><span class="s0">=[];</span><span class="s1">f</span><span class="s0">=++</span><span class="s1">m</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">===</span><span class="s1">p</span><span class="s0">)</span><span class="s4">throw</span><span class="s2">&quot;Unmatched left bracket: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">m</span><span class="s0">&lt;</span><span class="s1">p</span><span class="s0">){</span><span class="s1">m</span><span class="s0">=</span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">m</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">m</span><span class="s0">===</span><span class="s1">p</span><span class="s0">)</span><span class="s4">throw</span><span class="s2">&quot;Unmatched left bracket: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">;</span><span class="s1">v</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">m</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">());</span><span class="s4">if</span><span class="s0">(</span><span class="s1">m</span><span class="s0">&lt;</span><span class="s1">p</span><span class="s0">-</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[++</span><span class="s1">m</span><span class="s0">]!==</span><span class="s1">r</span><span class="s0">)</span><span class="s4">throw</span><span class="s2">&quot;Expected left bracket: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">;</span><span class="s1">f</span><span class="s0">=++</span><span class="s1">m</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">p</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)||</span><span class="s1">d</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">p</span><span class="s0">-</span><span class="s3">1</span><span class="s0">])){</span><span class="s4">throw</span><span class="s2">&quot;Invalid event selector: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">1</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">markname</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">b</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">marktype</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">source</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(-</span><span class="s3">1</span><span class="s0">)===</span><span class="s2">&quot;!&quot;</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">consume</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">v</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">)</span><span class="s1">n</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">=</span><span class="s1">v</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])</span><span class="s1">n</span><span class="s0">.</span><span class="s1">throttle</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s3">1</span><span class="s0">])</span><span class="s1">n</span><span class="s0">.</span><span class="s1">debounce</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s3">1</span><span class="s0">];</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">j</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">split</span><span class="s0">(</span><span class="s1">c</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">2</span><span class="s0">)</span><span class="s4">throw </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=+</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">t</span><span class="s0">)</span><span class="s4">throw </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}))}},</span><span class="s3">54350</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">r</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">accessPathDepth</span><span class="s0">:()=&gt;</span><span class="s1">Q</span><span class="s0">,</span><span class="s1">accessPathWithDatum</span><span class="s0">:()=&gt;</span><span class="s1">W</span><span class="s0">,</span><span class="s1">compile</span><span class="s0">:()=&gt;</span><span class="s1">Iw</span><span class="s0">,</span><span class="s1">contains</span><span class="s0">:()=&gt;</span><span class="s1">F</span><span class="s0">,</span><span class="s1">deepEqual</span><span class="s0">:()=&gt;</span><span class="s1">h</span><span class="s0">,</span><span class="s1">deleteNestedProperty</span><span class="s0">:()=&gt;</span><span class="s1">R</span><span class="s0">,</span><span class="s1">duplicate</span><span class="s0">:()=&gt;</span><span class="s1">b</span><span class="s0">,</span><span class="s1">entries</span><span class="s0">:()=&gt;</span><span class="s1">M</span><span class="s0">,</span><span class="s1">every</span><span class="s0">:()=&gt;</span><span class="s1">D</span><span class="s0">,</span><span class="s1">fieldIntersection</span><span class="s0">:()=&gt;</span><span class="s1">_</span><span class="s0">,</span><span class="s1">flatAccessWithDatum</span><span class="s0">:()=&gt;</span><span class="s1">H</span><span class="s0">,</span><span class="s1">getFirstDefined</span><span class="s0">:()=&gt;</span><span class="s1">X</span><span class="s0">,</span><span class="s1">hasIntersection</span><span class="s0">:()=&gt;</span><span class="s1">B</span><span class="s0">,</span><span class="s1">hash</span><span class="s0">:()=&gt;</span><span class="s1">w</span><span class="s0">,</span><span class="s1">internalField</span><span class="s0">:()=&gt;</span><span class="s1">ne</span><span class="s0">,</span><span class="s1">isBoolean</span><span class="s0">:()=&gt;</span><span class="s1">L</span><span class="s0">,</span><span class="s1">isEmpty</span><span class="s0">:()=&gt;</span><span class="s1">z</span><span class="s0">,</span><span class="s1">isEqual</span><span class="s0">:()=&gt;</span><span class="s1">S</span><span class="s0">,</span><span class="s1">isInternalField</span><span class="s0">:()=&gt;</span><span class="s1">te</span><span class="s0">,</span><span class="s1">isNullOrFalse</span><span class="s0">:()=&gt;</span><span class="s1">j</span><span class="s0">,</span><span class="s1">isNumeric</span><span class="s0">:()=&gt;</span><span class="s1">re</span><span class="s0">,</span><span class="s1">keys</span><span class="s0">:()=&gt;</span><span class="s1">N</span><span class="s0">,</span><span class="s1">logicalExpr</span><span class="s0">:()=&gt;</span><span class="s1">U</span><span class="s0">,</span><span class="s1">mergeDeep</span><span class="s0">:()=&gt;</span><span class="s1">A</span><span class="s0">,</span><span class="s1">never</span><span class="s0">:()=&gt;</span><span class="s1">y</span><span class="s0">,</span><span class="s1">normalize</span><span class="s0">:()=&gt;</span><span class="s1">bd</span><span class="s0">,</span><span class="s1">normalizeAngle</span><span class="s0">:()=&gt;</span><span class="s1">ie</span><span class="s0">,</span><span class="s1">omit</span><span class="s0">:()=&gt;</span><span class="s1">O</span><span class="s0">,</span><span class="s1">pick</span><span class="s0">:()=&gt;</span><span class="s1">v</span><span class="s0">,</span><span class="s1">prefixGenerator</span><span class="s0">:()=&gt;</span><span class="s1">P</span><span class="s0">,</span><span class="s1">removePathFromField</span><span class="s0">:()=&gt;</span><span class="s1">V</span><span class="s0">,</span><span class="s1">replaceAll</span><span class="s0">:()=&gt;</span><span class="s1">K</span><span class="s0">,</span><span class="s1">replacePathInField</span><span class="s0">:()=&gt;</span><span class="s1">Y</span><span class="s0">,</span><span class="s1">resetIdCounter</span><span class="s0">:()=&gt;</span><span class="s1">ee</span><span class="s0">,</span><span class="s1">setEqual</span><span class="s0">:()=&gt;</span><span class="s1">E</span><span class="s0">,</span><span class="s1">some</span><span class="s0">:()=&gt;</span><span class="s1">$</span><span class="s0">,</span><span class="s1">stringify</span><span class="s0">:()=&gt;</span><span class="s1">x</span><span class="s0">,</span><span class="s1">titleCase</span><span class="s0">:()=&gt;</span><span class="s1">I</span><span class="s0">,</span><span class="s1">unique</span><span class="s0">:()=&gt;</span><span class="s1">C</span><span class="s0">,</span><span class="s1">uniqueId</span><span class="s0">:()=&gt;</span><span class="s1">Z</span><span class="s0">,</span><span class="s1">vals</span><span class="s0">:()=&gt;</span><span class="s1">T</span><span class="s0">,</span><span class="s1">varName</span><span class="s0">:()=&gt;</span><span class="s1">q</span><span class="s0">,</span><span class="s1">version</span><span class="s0">:()=&gt;</span><span class="s1">Gw</span><span class="s0">});</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">rE</span><span class="s0">:</span><span class="s2">&quot;5.6.1&quot;</span><span class="s0">};</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s3">26372</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s3">18729</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">n</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s3">32017</span><span class="s0">);</span><span class="s4">var </span><span class="s1">u</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">n</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s3">72492</span><span class="s0">);</span><span class="s4">var </span><span class="s1">l</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">n</span><span class="s0">(</span><span class="s1">c</span><span class="s0">);</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">or</span><span class="s0">}</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">and</span><span class="s0">}</span><span class="s4">function </span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">not</span><span class="s0">}</span><span class="s4">function </span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">not</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">and</span><span class="s0">){</span><span class="s1">g</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">or</span><span class="s0">){</span><span class="s1">g</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">not</span><span class="s0">:</span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">not</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">and</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">and</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)))}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">or</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">or</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)))}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">u</span><span class="s0">();</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=</span><span class="s1">o</span><span class="s0">();</span><span class="s4">function </span><span class="s1">y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">mQ</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">Set</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">[</span><span class="s2">&quot;toJSON&quot;</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Set(</span><span class="s1">$</span><span class="s0">{[</span><span class="s1">...</span><span class="s4">this</span><span class="s0">].</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">l</span><span class="s0">()(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">};</span><span class="s4">const </span><span class="s1">x</span><span class="s0">=</span><span class="s1">l</span><span class="s0">();</span><span class="s4">function </span><span class="s1">w</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">l</span><span class="s0">()(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s3">250</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">&lt;&lt;</span><span class="s3">5</span><span class="s0">)-</span><span class="s1">t</span><span class="s0">+</span><span class="s1">e</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">&amp;</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">j</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">false</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">}</span><span class="s4">function </span><span class="s1">F</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">$</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">]</span><span class="s1">of e</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">()){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">++)){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">]</span><span class="s1">of e</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">()){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">++)){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">A</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">...n</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of n</span><span class="s0">){</span><span class="s1">k</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{})}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">k</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">AU</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s4">true</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">C</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={};</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of e</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r </span><span class="s4">in </span><span class="s1">i</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">S</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">!==</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]!==</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">E</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">size</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">.</span><span class="s1">size</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">B</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">P</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">iv</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">n</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">]`</span><span class="s0">));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">+</span><span class="s3">1</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">)));</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of s</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">_</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return </span><span class="s1">B</span><span class="s0">(</span><span class="s1">P</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">P</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">z</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">}</span><span class="s4">const </span><span class="s1">N</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">;</span><span class="s4">const </span><span class="s1">T</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">values</span><span class="s0">;</span><span class="s4">const </span><span class="s1">M</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">;</span><span class="s4">function </span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">true</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/\W/g</span><span class="s0">,</span><span class="s2">&quot;_&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">match</span><span class="s0">(</span><span class="s5">/^\d+/</span><span class="s0">)?</span><span class="s2">&quot;_&quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)+</span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">U</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">`!(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">U</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">not</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">and</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">U</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;) &amp;&amp; (&quot;</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">or</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">U</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;) || (&quot;</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">R</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">shift</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">in </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">R</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]}</span><span class="s4">return </span><span class="s1">z</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">I</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">).</span><span class="s1">toUpperCase</span><span class="s0">()+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">W</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;datum&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">iv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">s</span><span class="s0">&lt;=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">s</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">).</span><span class="s1">map</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;][&quot;</span><span class="s0">)}</span><span class="s2">]`</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; &amp;&amp; &quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">H</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;datum&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">[</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">iv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;.&quot;</span><span class="s0">))}</span><span class="s2">]`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">G</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/(\[|\]|\.|'|&quot;)/g</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">$1&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">iv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">map</span><span class="s0">(</span><span class="s1">G</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">.&quot;</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[-/\\^$*+?.()|[\]{}]/g</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">$&amp;&quot;</span><span class="s0">),</span><span class="s2">&quot;g&quot;</span><span class="s0">),</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">V</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">iv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;.&quot;</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s3">0</span><span class="s0">}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">iv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">length</span><span class="s0">}</span><span class="s4">function </span><span class="s1">X</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">let </span><span class="s1">J</span><span class="s0">=</span><span class="s3">42</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Z</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=++</span><span class="s1">J</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">?</span><span class="s1">String</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)+</span><span class="s1">n</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ee</span><span class="s0">(){</span><span class="s1">J</span><span class="s0">=</span><span class="s3">42</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">te</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">:</span><span class="s2">`__</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">te</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;__&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ie</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">%</span><span class="s3">360</span><span class="s0">+</span><span class="s3">360</span><span class="s0">)%</span><span class="s3">360</span><span class="s0">}</span><span class="s4">function </span><span class="s1">re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return</span><span class="s0">!</span><span class="s1">isNaN</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">isNaN</span><span class="s0">(</span><span class="s1">parseFloat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">var </span><span class="s1">se</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">const </span><span class="s1">oe</span><span class="s0">=</span><span class="s2">&quot;row&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ae</span><span class="s0">=</span><span class="s2">&quot;column&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ue</span><span class="s0">=</span><span class="s2">&quot;facet&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ce</span><span class="s0">=</span><span class="s2">&quot;x&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">le</span><span class="s0">=</span><span class="s2">&quot;y&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">fe</span><span class="s0">=</span><span class="s2">&quot;x2&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">de</span><span class="s0">=</span><span class="s2">&quot;y2&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">pe</span><span class="s0">=</span><span class="s2">&quot;xOffset&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ge</span><span class="s0">=</span><span class="s2">&quot;yOffset&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">me</span><span class="s0">=</span><span class="s2">&quot;radius&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">he</span><span class="s0">=</span><span class="s2">&quot;radius2&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">be</span><span class="s0">=</span><span class="s2">&quot;theta&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ye</span><span class="s0">=</span><span class="s2">&quot;theta2&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ve</span><span class="s0">=</span><span class="s2">&quot;latitude&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Oe</span><span class="s0">=</span><span class="s2">&quot;longitude&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">xe</span><span class="s0">=</span><span class="s2">&quot;latitude2&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">we</span><span class="s0">=</span><span class="s2">&quot;longitude2&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">je</span><span class="s0">=</span><span class="s2">&quot;color&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Fe</span><span class="s0">=</span><span class="s2">&quot;fill&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">$e</span><span class="s0">=</span><span class="s2">&quot;stroke&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">De</span><span class="s0">=</span><span class="s2">&quot;shape&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ae</span><span class="s0">=</span><span class="s2">&quot;size&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ke</span><span class="s0">=</span><span class="s2">&quot;angle&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ce</span><span class="s0">=</span><span class="s2">&quot;opacity&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Se</span><span class="s0">=</span><span class="s2">&quot;fillOpacity&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ee</span><span class="s0">=</span><span class="s2">&quot;strokeOpacity&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Be</span><span class="s0">=</span><span class="s2">&quot;strokeWidth&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Pe</span><span class="s0">=</span><span class="s2">&quot;strokeDash&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">_e</span><span class="s0">=</span><span class="s2">&quot;text&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ze</span><span class="s0">=</span><span class="s2">&quot;order&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ne</span><span class="s0">=</span><span class="s2">&quot;detail&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Te</span><span class="s0">=</span><span class="s2">&quot;key&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Me</span><span class="s0">=</span><span class="s2">&quot;tooltip&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Le</span><span class="s0">=</span><span class="s2">&quot;href&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">qe</span><span class="s0">=</span><span class="s2">&quot;url&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ue</span><span class="s0">=</span><span class="s2">&quot;description&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Re</span><span class="s0">={</span><span class="s1">x</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">x2</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">y2</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Ie</span><span class="s0">={</span><span class="s1">theta</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">theta2</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">radius</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">radius2</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">function </span><span class="s1">We</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">in </span><span class="s1">Ie</span><span class="s0">}</span><span class="s4">const </span><span class="s1">He</span><span class="s0">={</span><span class="s1">longitude</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">longitude2</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">latitude</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">latitude2</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">ve</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;y&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">xe</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;y2&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Oe</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;x&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">we</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;x2&quot;</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Ye</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">in </span><span class="s1">He</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Ke</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">He</span><span class="s0">);</span><span class="s4">const </span><span class="s1">Ve</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Re</span><span class="s0">),</span><span class="s1">Ie</span><span class="s0">),</span><span class="s1">He</span><span class="s0">),{</span><span class="s1">xOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fill</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">stroke</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">opacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fillOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeWidth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeDash</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">angle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">shape</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">order</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">detail</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">key</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tooltip</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">href</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">url</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">description</span><span class="s0">:</span><span class="s3">1</span><span class="s0">});</span><span class="s4">function </span><span class="s1">Qe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s1">je</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s1">Fe</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s1">$e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Xe</span><span class="s0">={</span><span class="s1">row</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">facet</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Je</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Xe</span><span class="s0">);</span><span class="s4">const </span><span class="s1">Ze</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Ve</span><span class="s0">),</span><span class="s1">Xe</span><span class="s0">);</span><span class="s4">const </span><span class="s1">en</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Ze</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">order</span><span class="s0">:</span><span class="s1">nn</span><span class="s0">,</span><span class="s1">detail</span><span class="s0">:</span><span class="s1">tn</span><span class="s0">,</span><span class="s1">tooltip</span><span class="s0">:</span><span class="s1">rn</span><span class="s0">}=</span><span class="s1">Ze</span><span class="s0">,</span><span class="s1">sn</span><span class="s0">=</span><span class="s1">se</span><span class="s0">(</span><span class="s1">Ze</span><span class="s0">,[</span><span class="s2">&quot;order&quot;</span><span class="s0">,</span><span class="s2">&quot;detail&quot;</span><span class="s0">,</span><span class="s2">&quot;tooltip&quot;</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">row</span><span class="s0">:</span><span class="s1">on</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">an</span><span class="s0">,</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">un</span><span class="s0">}=</span><span class="s1">sn</span><span class="s0">,</span><span class="s1">cn</span><span class="s0">=</span><span class="s1">se</span><span class="s0">(</span><span class="s1">sn</span><span class="s0">,[</span><span class="s2">&quot;row&quot;</span><span class="s0">,</span><span class="s2">&quot;column&quot;</span><span class="s0">,</span><span class="s2">&quot;facet&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">ln</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">sn</span><span class="s0">);</span><span class="s4">const </span><span class="s1">fn</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">cn</span><span class="s0">);</span><span class="s4">function </span><span class="s1">dn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">cn</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">pn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">Ze</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">gn</span><span class="s0">=[</span><span class="s1">fe</span><span class="s0">,</span><span class="s1">de</span><span class="s0">,</span><span class="s1">xe</span><span class="s0">,</span><span class="s1">we</span><span class="s0">,</span><span class="s1">ye</span><span class="s0">,</span><span class="s1">he</span><span class="s0">];</span><span class="s4">function </span><span class="s1">mn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">hn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">hn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">fe</span><span class="s0">:</span><span class="s4">return </span><span class="s1">ce</span><span class="s0">;</span><span class="s4">case </span><span class="s1">de</span><span class="s0">:</span><span class="s4">return </span><span class="s1">le</span><span class="s0">;</span><span class="s4">case </span><span class="s1">xe</span><span class="s0">:</span><span class="s4">return </span><span class="s1">ve</span><span class="s0">;</span><span class="s4">case </span><span class="s1">we</span><span class="s0">:</span><span class="s4">return </span><span class="s1">Oe</span><span class="s0">;</span><span class="s4">case </span><span class="s1">ye</span><span class="s0">:</span><span class="s4">return </span><span class="s1">be</span><span class="s0">;</span><span class="s4">case </span><span class="s1">he</span><span class="s0">:</span><span class="s4">return </span><span class="s1">me</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">bn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">We</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">be</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;startAngle&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">ye</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;endAngle&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;outerRadius&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">he</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;innerRadius&quot;</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">yn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">ce</span><span class="s0">:</span><span class="s4">return </span><span class="s1">fe</span><span class="s0">;</span><span class="s4">case </span><span class="s1">le</span><span class="s0">:</span><span class="s4">return </span><span class="s1">de</span><span class="s0">;</span><span class="s4">case </span><span class="s1">ve</span><span class="s0">:</span><span class="s4">return </span><span class="s1">xe</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Oe</span><span class="s0">:</span><span class="s4">return </span><span class="s1">we</span><span class="s0">;</span><span class="s4">case </span><span class="s1">be</span><span class="s0">:</span><span class="s4">return </span><span class="s1">ye</span><span class="s0">;</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:</span><span class="s4">return </span><span class="s1">he</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">fe</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;width&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">de</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;height&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">On</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">ce</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;xOffset&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">le</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;yOffset&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">fe</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;x2Offset&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">de</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;y2Offset&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">be</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;thetaOffset&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;radiusOffset&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">ye</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;theta2Offset&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">he</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;radius2Offset&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">xn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">ce</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;xOffset&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">le</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;yOffset&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">wn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;xOffset&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;x&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;yOffset&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;y&quot;</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">jn</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Ve</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">x</span><span class="s0">:</span><span class="s1">Fn</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s1">$n</span><span class="s0">,</span><span class="s1">x2</span><span class="s0">:</span><span class="s1">Dn</span><span class="s0">,</span><span class="s1">y2</span><span class="s0">:</span><span class="s1">An</span><span class="s0">,</span><span class="s1">xOffset</span><span class="s0">:</span><span class="s1">kn</span><span class="s0">,</span><span class="s1">yOffset</span><span class="s0">:</span><span class="s1">Cn</span><span class="s0">,</span><span class="s1">latitude</span><span class="s0">:</span><span class="s1">Sn</span><span class="s0">,</span><span class="s1">longitude</span><span class="s0">:</span><span class="s1">En</span><span class="s0">,</span><span class="s1">latitude2</span><span class="s0">:</span><span class="s1">Bn</span><span class="s0">,</span><span class="s1">longitude2</span><span class="s0">:</span><span class="s1">Pn</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s1">_n</span><span class="s0">,</span><span class="s1">theta2</span><span class="s0">:</span><span class="s1">zn</span><span class="s0">,</span><span class="s1">radius</span><span class="s0">:</span><span class="s1">Nn</span><span class="s0">,</span><span class="s1">radius2</span><span class="s0">:</span><span class="s1">Tn</span><span class="s0">}=</span><span class="s1">Ve</span><span class="s0">,</span><span class="s1">Mn</span><span class="s0">=</span><span class="s1">se</span><span class="s0">(</span><span class="s1">Ve</span><span class="s0">,[</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s2">&quot;x2&quot;</span><span class="s0">,</span><span class="s2">&quot;y2&quot;</span><span class="s0">,</span><span class="s2">&quot;xOffset&quot;</span><span class="s0">,</span><span class="s2">&quot;yOffset&quot;</span><span class="s0">,</span><span class="s2">&quot;latitude&quot;</span><span class="s0">,</span><span class="s2">&quot;longitude&quot;</span><span class="s0">,</span><span class="s2">&quot;latitude2&quot;</span><span class="s0">,</span><span class="s2">&quot;longitude2&quot;</span><span class="s0">,</span><span class="s2">&quot;theta&quot;</span><span class="s0">,</span><span class="s2">&quot;theta2&quot;</span><span class="s0">,</span><span class="s2">&quot;radius&quot;</span><span class="s0">,</span><span class="s2">&quot;radius2&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">Ln</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Mn</span><span class="s0">);</span><span class="s4">const </span><span class="s1">qn</span><span class="s0">={</span><span class="s1">x</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Un</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">qn</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">in </span><span class="s1">qn</span><span class="s0">}</span><span class="s4">const </span><span class="s1">In</span><span class="s0">={</span><span class="s1">theta</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">radius</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Wn</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">In</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Hn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;width&quot;</span><span class="s0">?</span><span class="s1">ce</span><span class="s0">:</span><span class="s1">le</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Gn</span><span class="s0">={</span><span class="s1">xOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Yn</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Gn</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Kn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">in </span><span class="s1">Gn</span><span class="s0">}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">text</span><span class="s0">:</span><span class="s1">Vn</span><span class="s0">,</span><span class="s1">tooltip</span><span class="s0">:</span><span class="s1">Qn</span><span class="s0">,</span><span class="s1">href</span><span class="s0">:</span><span class="s1">Xn</span><span class="s0">,</span><span class="s1">url</span><span class="s0">:</span><span class="s1">Jn</span><span class="s0">,</span><span class="s1">description</span><span class="s0">:</span><span class="s1">Zn</span><span class="s0">,</span><span class="s1">detail</span><span class="s0">:</span><span class="s1">et</span><span class="s0">,</span><span class="s1">key</span><span class="s0">:</span><span class="s1">nt</span><span class="s0">,</span><span class="s1">order</span><span class="s0">:</span><span class="s1">tt</span><span class="s0">}=</span><span class="s1">Mn</span><span class="s0">,</span><span class="s1">it</span><span class="s0">=</span><span class="s1">se</span><span class="s0">(</span><span class="s1">Mn</span><span class="s0">,[</span><span class="s2">&quot;text&quot;</span><span class="s0">,</span><span class="s2">&quot;tooltip&quot;</span><span class="s0">,</span><span class="s2">&quot;href&quot;</span><span class="s0">,</span><span class="s2">&quot;url&quot;</span><span class="s0">,</span><span class="s2">&quot;description&quot;</span><span class="s0">,</span><span class="s2">&quot;detail&quot;</span><span class="s0">,</span><span class="s2">&quot;key&quot;</span><span class="s0">,</span><span class="s2">&quot;order&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">rt</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">it</span><span class="s0">);</span><span class="s4">function </span><span class="s1">st</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">Mn</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">ot</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">je</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">$e</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ae</span><span class="s0">:</span><span class="s4">case </span><span class="s1">De</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Pe</span><span class="s0">:</span><span class="s4">return true</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Se</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ee</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ke</span><span class="s0">:</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">at</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">qn</span><span class="s0">),</span><span class="s1">In</span><span class="s0">),</span><span class="s1">Gn</span><span class="s0">),</span><span class="s1">it</span><span class="s0">);</span><span class="s4">const </span><span class="s1">ut</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">at</span><span class="s0">);</span><span class="s4">function </span><span class="s1">ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">at</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">lt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">gt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)[</span><span class="s1">n</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">ft</span><span class="s0">={</span><span class="s1">arc</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">area</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">bar</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">circle</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">geoshape</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">image</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">point</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">rect</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">square</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">trail</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">tick</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">};</span><span class="s4">const</span><span class="s0">{</span><span class="s1">geoshape</span><span class="s0">:</span><span class="s1">dt</span><span class="s0">}=</span><span class="s1">ft</span><span class="s0">,</span><span class="s1">pt</span><span class="s0">=</span><span class="s1">se</span><span class="s0">(</span><span class="s1">ft</span><span class="s0">,[</span><span class="s2">&quot;geoshape&quot;</span><span class="s0">]);</span><span class="s4">function </span><span class="s1">gt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">je</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">$e</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ue</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ne</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Te</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Me</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ze</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Se</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ee</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ue</span><span class="s0">:</span><span class="s4">case </span><span class="s1">oe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ae</span><span class="s0">:</span><span class="s4">return </span><span class="s1">ft</span><span class="s0">;</span><span class="s4">case </span><span class="s1">ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">pe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ge</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ve</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Oe</span><span class="s0">:</span><span class="s4">return </span><span class="s1">pt</span><span class="s0">;</span><span class="s4">case </span><span class="s1">fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">de</span><span class="s0">:</span><span class="s4">case </span><span class="s1">xe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">we</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">area</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">bar</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">image</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">rect</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">circle</span><span class="s0">:</span><span class="s2">&quot;binned&quot;</span><span class="s0">,</span><span class="s1">point</span><span class="s0">:</span><span class="s2">&quot;binned&quot;</span><span class="s0">,</span><span class="s1">square</span><span class="s0">:</span><span class="s2">&quot;binned&quot;</span><span class="s0">,</span><span class="s1">tick</span><span class="s0">:</span><span class="s2">&quot;binned&quot;</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s2">&quot;binned&quot;</span><span class="s0">,</span><span class="s1">trail</span><span class="s0">:</span><span class="s2">&quot;binned&quot;</span><span class="s0">};</span><span class="s4">case </span><span class="s1">Ae</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">point</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">tick</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">circle</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">square</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">bar</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">trail</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">};</span><span class="s4">case </span><span class="s1">Pe</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">line</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">point</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">tick</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">circle</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">square</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">bar</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">geoshape</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">};</span><span class="s4">case </span><span class="s1">De</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">point</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">geoshape</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">};</span><span class="s4">case </span><span class="s1">_e</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">text</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">};</span><span class="s4">case </span><span class="s1">ke</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">point</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">square</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">};</span><span class="s4">case </span><span class="s1">qe</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">image</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">};</span><span class="s4">case </span><span class="s1">be</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">text</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">arc</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">};</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">text</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">,</span><span class="s1">arc</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">};</span><span class="s4">case </span><span class="s1">ye</span><span class="s0">:</span><span class="s4">case </span><span class="s1">he</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">arc</span><span class="s0">:</span><span class="s2">&quot;always&quot;</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:</span><span class="s4">case </span><span class="s1">pe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ge</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ae</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ke</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Se</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ee</span><span class="s0">:</span><span class="s4">case </span><span class="s1">fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">de</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ye</span><span class="s0">:</span><span class="s4">case </span><span class="s1">he</span><span class="s0">:</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">case </span><span class="s1">ue</span><span class="s0">:</span><span class="s4">case </span><span class="s1">oe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ae</span><span class="s0">:</span><span class="s4">case </span><span class="s1">De</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Pe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">_e</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Me</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">qe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ue</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;discrete&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">je</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">$e</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;flexible&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">ve</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Oe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">xe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">we</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ne</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Te</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ze</span><span class="s0">:</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">ht</span><span class="s0">={</span><span class="s1">argmax</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">argmin</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">average</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">count</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">distinct</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">product</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">max</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">mean</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">median</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">min</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">missing</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">q1</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">q3</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">ci0</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">ci1</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">stderr</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">stdev</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">stdevp</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">sum</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">valid</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">values</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">variance</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">variancep</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">bt</span><span class="s0">={</span><span class="s1">count</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">min</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">max</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">function </span><span class="s1">yt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">e</span><span class="s0">&amp;&amp;!!</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;argmin&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">e</span><span class="s0">&amp;&amp;!!</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;argmax&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">Ot</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!!</span><span class="s1">ht</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">xt</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;count&quot;</span><span class="s0">,</span><span class="s2">&quot;valid&quot;</span><span class="s0">,</span><span class="s2">&quot;missing&quot;</span><span class="s0">,</span><span class="s2">&quot;distinct&quot;</span><span class="s0">]);</span><span class="s4">function </span><span class="s1">wt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">xt</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">jt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s2">&quot;max&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Ft</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;count&quot;</span><span class="s0">,</span><span class="s2">&quot;sum&quot;</span><span class="s0">,</span><span class="s2">&quot;distinct&quot;</span><span class="s0">,</span><span class="s2">&quot;valid&quot;</span><span class="s0">,</span><span class="s2">&quot;missing&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">$t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;mean&quot;</span><span class="s0">,</span><span class="s2">&quot;average&quot;</span><span class="s0">,</span><span class="s2">&quot;median&quot;</span><span class="s0">,</span><span class="s2">&quot;q1&quot;</span><span class="s0">,</span><span class="s2">&quot;q3&quot;</span><span class="s0">,</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s2">&quot;max&quot;</span><span class="s0">]);</span><span class="s4">function </span><span class="s1">Dt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Lm</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Yu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">)}</span><span class="s4">return</span><span class="s2">&quot;bin&quot;</span><span class="s0">+</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">St</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])?</span><span class="s1">q</span><span class="s0">(</span><span class="s2">`_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">M</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])}</span><span class="s2">`</span><span class="s0">):</span><span class="s1">q</span><span class="s0">(</span><span class="s2">`_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}</span><span class="s2">`</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">At</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">true</span><span class="s0">||</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">binned</span><span class="s0">}</span><span class="s4">function </span><span class="s1">kt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;binned&quot;</span><span class="s0">||</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">binned</span><span class="s0">===</span><span class="s4">true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">St</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;param&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">Et</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">oe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ae</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ae</span><span class="s0">:</span><span class="s4">case </span><span class="s1">je</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">$e</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Se</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ee</span><span class="s0">:</span><span class="s4">case </span><span class="s1">De</span><span class="s0">:</span><span class="s4">return </span><span class="s3">6</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Pe</span><span class="s0">:</span><span class="s4">return </span><span class="s3">4</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return </span><span class="s3">10</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">expr</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">||{});</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">var </span><span class="s1">_t</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">zt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">anchor</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">frame</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">angle</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">limit</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">subtitleColor</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">subtitleFont</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">subtitleFontSize</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">subtitleFontStyle</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">subtitleFontWeight</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">subtitleLineHeight</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">subtitlePadding</span><span class="s0">:</span><span class="s1">g</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">m</span><span class="s0">=</span><span class="s1">_t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;anchor&quot;</span><span class="s0">,</span><span class="s2">&quot;frame&quot;</span><span class="s0">,</span><span class="s2">&quot;offset&quot;</span><span class="s0">,</span><span class="s2">&quot;orient&quot;</span><span class="s0">,</span><span class="s2">&quot;angle&quot;</span><span class="s0">,</span><span class="s2">&quot;limit&quot;</span><span class="s0">,</span><span class="s2">&quot;color&quot;</span><span class="s0">,</span><span class="s2">&quot;subtitleColor&quot;</span><span class="s0">,</span><span class="s2">&quot;subtitleFont&quot;</span><span class="s0">,</span><span class="s2">&quot;subtitleFontSize&quot;</span><span class="s0">,</span><span class="s2">&quot;subtitleFontStyle&quot;</span><span class="s0">,</span><span class="s2">&quot;subtitleFontWeight&quot;</span><span class="s0">,</span><span class="s2">&quot;subtitleLineHeight&quot;</span><span class="s0">,</span><span class="s2">&quot;subtitlePadding&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">m</span><span class="s0">),</span><span class="s1">a</span><span class="s0">?{</span><span class="s1">fill</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}:{});</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">?{</span><span class="s1">anchor</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}:{}),</span><span class="s1">t</span><span class="s0">?{</span><span class="s1">frame</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{}),</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}:{}),</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{}),</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">angle</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{}),</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">limit</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}:{});</span><span class="s4">const </span><span class="s1">y</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">u</span><span class="s0">?{</span><span class="s1">subtitleColor</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}:{}),</span><span class="s1">c</span><span class="s0">?{</span><span class="s1">subtitleFont</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}:{}),</span><span class="s1">l</span><span class="s0">?{</span><span class="s1">subtitleFontSize</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}:{}),</span><span class="s1">f</span><span class="s0">?{</span><span class="s1">subtitleFontStyle</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}:{}),</span><span class="s1">d</span><span class="s0">?{</span><span class="s1">subtitleFontWeight</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}:{}),</span><span class="s1">p</span><span class="s0">?{</span><span class="s1">subtitleLineHeight</span><span class="s0">:</span><span class="s1">p</span><span class="s0">}:{}),</span><span class="s1">g</span><span class="s0">?{</span><span class="s1">subtitlePadding</span><span class="s0">:</span><span class="s1">g</span><span class="s0">}:{});</span><span class="s4">const </span><span class="s1">O</span><span class="s0">=</span><span class="s1">v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;align&quot;</span><span class="s0">,</span><span class="s2">&quot;baseline&quot;</span><span class="s0">,</span><span class="s2">&quot;dx&quot;</span><span class="s0">,</span><span class="s2">&quot;dy&quot;</span><span class="s0">,</span><span class="s2">&quot;limit&quot;</span><span class="s0">]);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">titleMarkConfig</span><span class="s0">:</span><span class="s1">h</span><span class="s0">,</span><span class="s1">subtitleMarkConfig</span><span class="s0">:</span><span class="s1">O</span><span class="s0">,</span><span class="s1">nonMarkTitleProperties</span><span class="s0">:</span><span class="s1">b</span><span class="s0">,</span><span class="s1">subtitle</span><span class="s0">:</span><span class="s1">y</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])}</span><span class="s4">function </span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;step&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">Lt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;fields&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">&amp;&amp;!(</span><span class="s2">&quot;data&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;fields&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;data&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;field&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;data&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Rt</span><span class="s0">={</span><span class="s1">aria</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">description</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">ariaRole</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">ariaRoleDescription</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">blend</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">opacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fill</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fillOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">stroke</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeCap</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeWidth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeDash</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeDashOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeJoin</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeMiterLimit</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">startAngle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">endAngle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">padAngle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">innerRadius</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">outerRadius</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">shape</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">interpolate</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tension</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">align</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">dir</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">dx</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">dy</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">ellipsis</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">limit</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">radius</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">angle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">font</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fontSize</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fontWeight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fontStyle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">lineBreak</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">lineHeight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">cursor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">href</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tooltip</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">cornerRadius</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">cornerRadiusTopLeft</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">cornerRadiusTopRight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">cornerRadiusBottomLeft</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">cornerRadiusBottomRight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">aspect</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">width</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">height</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">url</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">smooth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">It</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Rt</span><span class="s0">);</span><span class="s4">const </span><span class="s1">Wt</span><span class="s0">={</span><span class="s1">arc</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">area</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">group</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">image</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">path</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">rect</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">shape</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbol</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">trail</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Ht</span><span class="s0">=[</span><span class="s2">&quot;cornerRadius&quot;</span><span class="s0">,</span><span class="s2">&quot;cornerRadiusTopLeft&quot;</span><span class="s0">,</span><span class="s2">&quot;cornerRadiusTopRight&quot;</span><span class="s0">,</span><span class="s2">&quot;cornerRadiusBottomLeft&quot;</span><span class="s0">,</span><span class="s2">&quot;cornerRadiusBottomRight&quot;</span><span class="s0">];</span><span class="s4">var </span><span class="s1">Gt</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Yt</span><span class="s0">=</span><span class="s2">&quot;  &quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Kt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">Qt</span><span class="s0">):</span><span class="s1">Qt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)),{</span><span class="s1">condition</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Gt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;expr&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Qt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Gt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;expr&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Gt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;expr&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Zt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ei</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s4">null</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ni</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">ri</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">config</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ti</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">return</span><span class="s0">[].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">style</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:[])}</span><span class="s4">function </span><span class="s1">ii</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">={}){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">ignoreVgConfig</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;(!</span><span class="s1">r</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">ri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}={}){</span><span class="s4">return </span><span class="s1">X</span><span class="s0">(</span><span class="s1">i</span><span class="s0">?</span><span class="s1">si</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">style</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">si</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">style</span><span class="s0">),</span><span class="s1">i</span><span class="s0">?</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">][</span><span class="s1">i</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">][</span><span class="s1">e</span><span class="s0">],</span><span class="s1">i</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])}</span><span class="s4">function </span><span class="s1">si</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">oi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ti</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">oi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ai</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">));</span><span class="s1">e</span><span class="s0">.</span><span class="s1">order</span><span class="s0">.</span><span class="s1">push</span><span class="s0">((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s2">&quot;ascending&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{</span><span class="s1">field</span><span class="s0">:[],</span><span class="s1">order</span><span class="s0">:[]})}</span><span class="s4">function </span><span class="s1">ui</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[</span><span class="s1">...e</span><span class="s0">];</span><span class="s1">n</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ci</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)||!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">[</span><span class="s1">...</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">...</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)].</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">li</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">==</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))&amp;&amp;(</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">))){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">ci</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;!</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;!</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;!</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">ui</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;It should never reach here&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">fi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Invalid specification </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">. Make sure the specification includes at least one of the following properties: &quot;mark&quot;, &quot;layer&quot;, &quot;facet&quot;, &quot;hconcat&quot;, &quot;vconcat&quot;, &quot;concat&quot;, or &quot;repeat&quot;.`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">di</span><span class="s0">=</span><span class="s2">'Autosize &quot;fit&quot; only works for single views and layered views.'</span><span class="s0">;</span><span class="s4">function </span><span class="s1">pi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s2">&quot;width&quot;</span><span class="s0">?</span><span class="s2">&quot;Width&quot;</span><span class="s0">:</span><span class="s2">&quot;Height&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">&quot;container&quot; only works for single views and layered views.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">gi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s2">&quot;width&quot;</span><span class="s0">?</span><span class="s2">&quot;Width&quot;</span><span class="s0">:</span><span class="s2">&quot;Height&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s2">&quot;width&quot;</span><span class="s0">?</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">&quot;container&quot; only works well with autosize &quot;fit&quot; or &quot;fit-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&quot;.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">mi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">?</span><span class="s2">`Dropping &quot;fit-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; because spec has discrete </span><span class="s1">$</span><span class="s0">{</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">.`</span><span class="s0">:</span><span class="s2">`Dropping &quot;fit&quot; because spec has discrete size.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">hi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Unknown field for </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">. Cannot calculate view size.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">bi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Cannot project a selection on encoding channel &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;, which has no field.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">yi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Cannot project a selection on encoding channel &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; as it uses an aggregate function (&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot;).`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">vi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`The &quot;nearest&quot; transform is not supported for </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">marks.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Oi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Selection not supported for </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">yet.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">xi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Cannot find a selection named &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;.`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">wi</span><span class="s0">=</span><span class="s2">&quot;Scale bindings are currently only supported for scales with unbinned, continuous domains.&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ji</span><span class="s0">=</span><span class="s2">&quot;Legend bindings are only supported for selections over an individual field or encoding channel.&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Fi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Lookups can only be performed on selection parameters. &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; is a variable parameter.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Cannot define and lookup the &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; selection in the same view. `</span><span class="s0">+</span><span class="s2">`Try moving the lookup into a second, layered view?`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Di</span><span class="s0">=</span><span class="s2">&quot;The same selection must be used to override scale domains in a layered view.&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ai</span><span class="s0">=</span><span class="s2">'Interval selections should be initialized using &quot;x&quot; and/or &quot;y&quot; keys.'</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ki</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Unknown repeated value &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ci</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`The &quot;columns&quot; property cannot be used when &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; has nested row/column.`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Si</span><span class="s0">=</span><span class="s2">&quot;Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ei</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Unrecognized parse &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Bi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`An ancestor parsed field &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; as </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">but a child wants to parse the field as </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Pi</span><span class="s0">=</span><span class="s2">&quot;Attempt to add the same child twice.&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">_i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Ignoring an invalid transform: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">zi</span><span class="s0">=</span><span class="s2">'If &quot;from.fields&quot; is not specified, &quot;as&quot; has to be a string that specifies the key to be used for the data from the secondary source.'</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ni</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Config.customFormatTypes is not true, thus custom format type and format for channel </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">are dropped.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ti</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">parentProjection</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`Layer's shared projection </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)} </span><span class="s2">is overridden by a child projection </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Mi</span><span class="s0">=</span><span class="s2">&quot;Arc marks uses theta channel rather than angle, replacing angle with theta.&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Li</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">Offset dropped because </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">is continuous`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`There is no </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">encoding. Replacing </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">Offset encoding as </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ui</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Channel </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">is a </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">. Converted to {value: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">}.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Invalid field type &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ii</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Invalid field type &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; for aggregate: &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot;, using &quot;quantitative&quot; instead.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Wi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Invalid aggregation operator &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Hi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Missing type for channel &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;, using &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot; instead.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Gi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">fill</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">stroke</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`Dropping color </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">as the plot also has </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">?</span><span class="s2">&quot;fill and stroke&quot;</span><span class="s0">:</span><span class="s1">t</span><span class="s0">?</span><span class="s2">&quot;fill&quot;</span><span class="s0">:</span><span class="s2">&quot;stroke&quot;</span><span class="s0">}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Yi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Position range does not support relative band size for </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ki</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Dropping </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)} </span><span class="s2">from channel &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot; since it does not contain any data field, datum, value, or signal.`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Vi</span><span class="s0">=</span><span class="s2">&quot;Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Qi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">dropped as it is incompatible with &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">?</span><span class="s2">` when </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Xi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">encoding has no scale, so specified scale is ignored.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ji</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">-encoding is dropped as </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">is not a valid encoding channel.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Zi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">encoding should be discrete (ordinal / nominal / binned).`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">er</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">nr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Facet encoding dropped as </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; and &quot;</span><span class="s0">)} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">?</span><span class="s2">&quot;are&quot;</span><span class="s0">:</span><span class="s2">&quot;is&quot;</span><span class="s0">} </span><span class="s2">also specified.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">tr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Using discrete channel &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; to encode &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot; field can be misleading as it does not encode </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">?</span><span class="s2">&quot;order&quot;</span><span class="s0">:</span><span class="s2">&quot;magnitude&quot;</span><span class="s0">}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ir</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`The </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">for range marks cannot be an expression`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">rr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">?</span><span class="s2">&quot;x2 and y2&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">?</span><span class="s2">&quot;x2&quot;</span><span class="s0">:</span><span class="s2">&quot;y2&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`Line mark is for continuous lines and thus cannot be used with </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">. We will use the rule mark (line segments) instead.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">sr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Specified orient &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; overridden with &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot;.`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">or</span><span class="s0">=</span><span class="s2">&quot;Custom domain scale cannot be unioned with default field-based domain.&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ar</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Cannot use the scale property &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; with non-color channel.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ur</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Cannot use the relative band size with </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">scale.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">cr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Using unaggregated domain with raw field has no effect (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">).`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">lr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Unaggregated domain not applicable for &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; since it produces values outside the origin domain of the source data.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">fr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Unaggregated domain is currently unsupported for log scale (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">).`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">dr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Cannot apply size to non-oriented mark &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">pr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Channel &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; does not work with &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot; scale. We are using &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&quot; scale instead.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">gr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`FieldDef does not work with &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; scale. We are using &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot; scale instead.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">mr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">-scale's &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot; is dropped as it does not work with </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">scale.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">hr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Scale type &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">&quot; does not work with mark &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">br</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`The step for &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; is dropped because the </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;width&quot;</span><span class="s0">?</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">} </span><span class="s2">is continuous.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">yr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Conflicting </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()} </span><span class="s2">property &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}</span><span class="s2">&quot; (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)} </span><span class="s2">and </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s2">). Using </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">vr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Conflicting </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()} </span><span class="s2">property &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}</span><span class="s2">&quot; (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)} </span><span class="s2">and </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s2">). Using the union of the two domains.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Or</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Setting the scale to be independent for &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; means we also have to set the guide (axis or legend) to be independent.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">xr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Dropping sort property </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)} </span><span class="s2">as unioned domains only support boolean or op &quot;count&quot;, &quot;min&quot;, and &quot;max&quot;.`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">wr</span><span class="s0">=</span><span class="s2">&quot;Domains that should be unioned has conflicting sort properties. Sort will be set to true.&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">jr</span><span class="s0">=</span><span class="s2">&quot;Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Fr</span><span class="s0">=</span><span class="s2">&quot;Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">$r</span><span class="s0">=</span><span class="s2">&quot;Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Dr</span><span class="s0">=</span><span class="s2">&quot;Invalid channel for axis.&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ar</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Cannot stack &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; if there is already &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">2&quot;.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">kr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Cannot stack non-linear scale (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">).`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Cr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Stacking is applied even though the aggregate function is non-summative (&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;).`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Sr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Invalid </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Er</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Dropping day from datetime </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)} </span><span class="s2">as day cannot be combined with other units.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Br</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">?</span><span class="s2">&quot;extent &quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">?</span><span class="s2">&quot;and &quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">?</span><span class="s2">&quot;center &quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">?</span><span class="s2">&quot;are &quot;</span><span class="s0">:</span><span class="s2">&quot;is &quot;</span><span class="s0">}</span><span class="s2">not needed when data are aggregated.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Pr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">is not usually used with </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">for </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">_r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Continuous axis should not have customized aggregation function </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">already agregates the axis.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">zr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`1D error band does not support </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Nr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Channel </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">is required for &quot;binned&quot; bin.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Tr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Channel </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">should not be used with &quot;binned&quot; bin.`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Mr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`Domain for </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">is required for threshold scale.`</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Lr</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__classPrivateFieldSet</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;m&quot;</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Private method is not writable&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;a&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">r</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Private accessor was defined without a setter&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">?</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">||!</span><span class="s1">r</span><span class="s0">:!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Cannot write private member to an object whose class did not declare it&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;a&quot;</span><span class="s0">?</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">):</span><span class="s1">r</span><span class="s0">?</span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">=</span><span class="s1">t</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">t</span><span class="s0">};</span><span class="s4">var </span><span class="s1">qr</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__classPrivateFieldGet</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;a&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">i</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Private accessor was defined without a getter&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">?</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">||!</span><span class="s1">i</span><span class="s0">:!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Cannot read private member from an object whose class did not declare it&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;m&quot;</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;a&quot;</span><span class="s0">?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">i</span><span class="s0">?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">var </span><span class="s1">Ur</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Rr</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">vF</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">P$</span><span class="s0">);</span><span class="s4">let </span><span class="s1">Ir</span><span class="s0">=</span><span class="s1">Rr</span><span class="s0">;</span><span class="s4">class </span><span class="s1">Wr</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">warns</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">infos</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">debugs</span><span class="s0">=[];</span><span class="s1">Ur</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">Warn</span><span class="s0">)}</span><span class="s1">level</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">Lr</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">Ur</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;f&quot;</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">}</span><span class="s4">return </span><span class="s1">qr</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">Ur</span><span class="s0">,</span><span class="s2">&quot;f&quot;</span><span class="s0">)}</span><span class="s1">warn</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">qr</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">Ur</span><span class="s0">,</span><span class="s2">&quot;f&quot;</span><span class="s0">)&gt;=</span><span class="s1">Warn</span><span class="s0">)</span><span class="s4">this</span><span class="s0">.</span><span class="s1">warns</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">info</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">qr</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">Ur</span><span class="s0">,</span><span class="s2">&quot;f&quot;</span><span class="s0">)&gt;=</span><span class="s1">Info</span><span class="s0">)</span><span class="s4">this</span><span class="s0">.</span><span class="s1">infos</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">debug</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">qr</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">Ur</span><span class="s0">,</span><span class="s2">&quot;f&quot;</span><span class="s0">)&gt;=</span><span class="s1">Debug</span><span class="s0">)</span><span class="s4">this</span><span class="s0">.</span><span class="s1">debugs</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">error</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">qr</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">Ur</span><span class="s0">,</span><span class="s2">&quot;f&quot;</span><span class="s0">)&gt;=</span><span class="s1">ErrorLevel</span><span class="s0">)</span><span class="s4">throw </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">}}</span><span class="s1">Ur</span><span class="s0">=</span><span class="s4">new </span><span class="s1">WeakMap</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Hr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">()=&gt;{</span><span class="s1">Ir</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Wr</span><span class="s0">;</span><span class="s1">e</span><span class="s0">(</span><span class="s1">Ir</span><span class="s0">);</span><span class="s1">Yr</span><span class="s0">()}}</span><span class="s4">function </span><span class="s1">Gr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">Ir</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Ir</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Yr</span><span class="s0">(){</span><span class="s1">Ir</span><span class="s0">=</span><span class="s1">Rr</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Ir</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Kr</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s1">Ir</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s1">Ir</span><span class="s0">.</span><span class="s1">warn</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Qr</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s1">Ir</span><span class="s0">.</span><span class="s1">info</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Xr</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s1">Ir</span><span class="s0">.</span><span class="s1">debug</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of ds</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">in </span><span class="s1">e</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Zr</span><span class="s0">=[</span><span class="s2">&quot;january&quot;</span><span class="s0">,</span><span class="s2">&quot;february&quot;</span><span class="s0">,</span><span class="s2">&quot;march&quot;</span><span class="s0">,</span><span class="s2">&quot;april&quot;</span><span class="s0">,</span><span class="s2">&quot;may&quot;</span><span class="s0">,</span><span class="s2">&quot;june&quot;</span><span class="s0">,</span><span class="s2">&quot;july&quot;</span><span class="s0">,</span><span class="s2">&quot;august&quot;</span><span class="s0">,</span><span class="s2">&quot;september&quot;</span><span class="s0">,</span><span class="s2">&quot;october&quot;</span><span class="s0">,</span><span class="s2">&quot;november&quot;</span><span class="s0">,</span><span class="s2">&quot;december&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">es</span><span class="s0">=</span><span class="s1">Zr</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">3</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">ns</span><span class="s0">=[</span><span class="s2">&quot;sunday&quot;</span><span class="s0">,</span><span class="s2">&quot;monday&quot;</span><span class="s0">,</span><span class="s2">&quot;tuesday&quot;</span><span class="s0">,</span><span class="s2">&quot;wednesday&quot;</span><span class="s0">,</span><span class="s2">&quot;thursday&quot;</span><span class="s0">,</span><span class="s2">&quot;friday&quot;</span><span class="s0">,</span><span class="s2">&quot;saturday&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">ts</span><span class="s0">=</span><span class="s1">ns</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">3</span><span class="s0">)));</span><span class="s4">function </span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=+</span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&gt;</span><span class="s3">4</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Sr</span><span class="s0">(</span><span class="s2">&quot;quarter&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">Sr</span><span class="s0">(</span><span class="s2">&quot;quarter&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))}}</span><span class="s4">function </span><span class="s1">rs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=+</span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">();</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Zr</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">3</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">es</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">Sr</span><span class="s0">(</span><span class="s2">&quot;month&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))}}</span><span class="s4">function </span><span class="s1">ss</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=+</span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">%</span><span class="s3">7</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">();</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">ns</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">3</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">ts</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">Sr</span><span class="s0">(</span><span class="s2">&quot;day&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))}}</span><span class="s4">function </span><span class="s1">os</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">day</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Er</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s1">e</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">day</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">year</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">year</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s3">2012</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">month</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">rs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">month</span><span class="s0">):</span><span class="s1">e</span><span class="s0">.</span><span class="s1">month</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">quarter</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">quarter</span><span class="s0">):</span><span class="s1">e</span><span class="s0">.</span><span class="s1">quarter</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)?</span><span class="s1">i</span><span class="s0">*</span><span class="s3">3</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">*3`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">date</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">date</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">day</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">ss</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">day</span><span class="s0">):</span><span class="s1">e</span><span class="s0">.</span><span class="s1">day</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)?</span><span class="s1">i</span><span class="s0">+</span><span class="s3">1</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">+1`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of</span><span class="s0">[</span><span class="s2">&quot;hours&quot;</span><span class="s0">,</span><span class="s2">&quot;minutes&quot;</span><span class="s0">,</span><span class="s2">&quot;seconds&quot;</span><span class="s0">,</span><span class="s2">&quot;milliseconds&quot;</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;undefined&quot;</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s0">as(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">os</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">true</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">utc</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`utc(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">`datetime(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">us</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">os</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">false</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">utc</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`utc(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">`datetime(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">cs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">os</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">true</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">utc</span><span class="s0">){</span><span class="s4">return</span><span class="s0">+</span><span class="s4">new </span><span class="s1">Date</span><span class="s0">(</span><span class="s1">Date</span><span class="s0">.</span><span class="s1">UTC</span><span class="s0">(</span><span class="s1">...n</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">+</span><span class="s4">new </span><span class="s1">Date</span><span class="s0">(</span><span class="s1">...n</span><span class="s0">)}}</span><span class="s4">var </span><span class="s1">ls</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">const </span><span class="s1">fs</span><span class="s0">={</span><span class="s1">year</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">quarter</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">month</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">week</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">day</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">dayofyear</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">date</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">hours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">minutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">seconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">milliseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">ds</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">fs</span><span class="s0">);</span><span class="s4">function </span><span class="s1">ps</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">fs</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">gs</span><span class="s0">={</span><span class="s1">utcyear</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcquarter</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcmonth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcweek</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcday</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcdayofyear</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcdate</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utchours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcmilliseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">ms</span><span class="s0">={</span><span class="s1">yearquarter</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearquartermonth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearmonth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearmonthdate</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearmonthdatehours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearmonthdatehoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearmonthdatehoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearweek</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearweekday</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearweekdayhours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearweekdayhoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yearweekdayhoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">yeardayofyear</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">quartermonth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">monthdate</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">monthdatehours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">monthdatehoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">monthdatehoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">weekday</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">weeksdayhours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">weekdayhoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">weekdayhoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">dayhours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">dayhoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">dayhoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">hoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">hoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">minutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">secondsmilliseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">hs</span><span class="s0">={</span><span class="s1">utcyearquarter</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearquartermonth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearmonth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearmonthdate</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearmonthdatehours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearmonthdatehoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearmonthdatehoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearweek</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearweekday</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearweekdayhours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearweekdayhoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyearweekdayhoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcyeardayofyear</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcquartermonth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcmonthdate</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcmonthdatehours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcmonthdatehoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcmonthdatehoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcweekday</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcweeksdayhours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcweekdayhoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcweekdayhoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcdayhours</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcdayhoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcdayhoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utchoursminutes</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utchoursminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcminutesseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">utcsecondsmilliseconds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">function </span><span class="s1">bs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;utc&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ys</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">3</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">vs</span><span class="s0">={</span><span class="s2">&quot;year-month&quot;</span><span class="s0">:</span><span class="s2">&quot;%b %Y &quot;</span><span class="s0">,</span><span class="s2">&quot;year-month-date&quot;</span><span class="s0">:</span><span class="s2">&quot;%b %d, %Y &quot;</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Os</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ds</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">xs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">xs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;seconds&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">-</span><span class="s3">1</span><span class="s0">)===</span><span class="s2">&quot;i&quot;</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s1">t</span><span class="s0">+</span><span class="s3">3</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;day&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">+</span><span class="s3">3</span><span class="s0">)===</span><span class="s2">&quot;o&quot;</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;year&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">-</span><span class="s3">1</span><span class="s0">)===</span><span class="s2">&quot;f&quot;</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ws</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">end</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}={</span><span class="s1">end</span><span class="s0">:</span><span class="s4">false</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">W</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">bs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s2">&quot;utc&quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;quarter&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">quarter(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">)-1)`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}}</span><span class="s4">let </span><span class="s1">o</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">u of ds</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">xs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]=</span><span class="s1">s</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s1">o</span><span class="s0">=</span><span class="s1">u</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">a</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]+=</span><span class="s2">&quot;+1&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">us</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">js</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Os</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s2">`timeUnitSpecifier(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">vs</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Fs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">js</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">||</span><span class="s1">bs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">?</span><span class="s2">&quot;utc&quot;</span><span class="s0">:</span><span class="s2">&quot;time&quot;</span><span class="s0">}</span><span class="s2">Format(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">={</span><span class="s1">unit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">?{</span><span class="s1">unit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">}:{})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bs</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">utc</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">=</span><span class="s1">ys</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ds</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">utc</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">ls</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,[</span><span class="s2">&quot;utc&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">?</span><span class="s2">&quot;utc&quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)+</span><span class="s1">N</span><span class="s0">(</span><span class="s1">i</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">q</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;unit&quot;</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s2">`_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">_`</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s2">`</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">?</span><span class="s2">&quot;utc&quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)+</span><span class="s2">&quot;timeunit&quot;</span><span class="s0">+</span><span class="s1">N</span><span class="s0">(</span><span class="s1">i</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">q</span><span class="s0">(</span><span class="s2">`_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s2">`</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">As</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;param&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">ks</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">equal</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Cs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lt</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ss</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lte</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Es</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">gt</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Bs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">gte</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ps</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">2</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">_s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)&amp;&amp;((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">oneOf</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">in</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">zs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">valid</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ns</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">_s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">ks</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Ps</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Cs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Es</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Ss</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Bs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ju</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">wrapTime</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">Ms</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">Ls</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s4">true</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">?</span><span class="s2">`time(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">ws</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ks</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">===</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">equal</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Cs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lt</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">&lt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Es</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">gt</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">&gt;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ss</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lte</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">&lt;=</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Bs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">gte</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">&gt;=</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">_s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">`indexof([</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ms</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">oneOf</span><span class="s0">,</span><span class="s1">r</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)}</span><span class="s2">], </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">) !== -1`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">zs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">qs</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">valid</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ps</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">[0]`</span><span class="s0">}:</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">[1]`</span><span class="s0">}:</span><span class="s1">t</span><span class="s0">[</span><span class="s3">1</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;inrange(&quot;</span><span class="s0">+</span><span class="s1">s</span><span class="s0">+</span><span class="s2">&quot;, [&quot;</span><span class="s0">+</span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)+</span><span class="s2">&quot;, &quot;</span><span class="s0">+</span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)+</span><span class="s2">&quot;])&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">} </span><span class="s2">&gt;= </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">} </span><span class="s2">&lt;= </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ts</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s1">a</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; &amp;&amp; &quot;</span><span class="s0">):</span><span class="s2">&quot;true&quot;</span><span class="s0">}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Invalid field predicate: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">qs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s4">true</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`isValid(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">) &amp;&amp; isFinite(+</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">`!isValid(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">) || !isFinite(+</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Us</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ns</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">timeUnit</span><span class="s0">:(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Rs</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s3">78352</span><span class="s0">);</span><span class="s4">const </span><span class="s1">Is</span><span class="s0">={</span><span class="s1">quantitative</span><span class="s0">:</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">,</span><span class="s1">ordinal</span><span class="s0">:</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">,</span><span class="s1">temporal</span><span class="s0">:</span><span class="s2">&quot;temporal&quot;</span><span class="s0">,</span><span class="s1">nominal</span><span class="s0">:</span><span class="s2">&quot;nominal&quot;</span><span class="s0">,</span><span class="s1">geojson</span><span class="s0">:</span><span class="s2">&quot;geojson&quot;</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Ws</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">in </span><span class="s1">Is</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Hs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;temporal&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Gs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;nominal&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Ys</span><span class="s0">=</span><span class="s1">Is</span><span class="s0">.</span><span class="s1">quantitative</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ks</span><span class="s0">=</span><span class="s1">Is</span><span class="s0">.</span><span class="s1">ordinal</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Vs</span><span class="s0">=</span><span class="s1">Is</span><span class="s0">.</span><span class="s1">temporal</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Qs</span><span class="s0">=</span><span class="s1">Is</span><span class="s0">.</span><span class="s1">nominal</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Xs</span><span class="s0">=</span><span class="s1">Is</span><span class="s0">.</span><span class="s1">geojson</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Js</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Is</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Zs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">();</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;q&quot;</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ys</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;t&quot;</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Vs</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;temporal&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;o&quot;</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ks</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;n&quot;</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Qs</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;nominal&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Xs</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;geojson&quot;</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">var </span><span class="s1">eo</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">const </span><span class="s1">no</span><span class="s0">={</span><span class="s1">LINEAR</span><span class="s0">:</span><span class="s2">&quot;linear&quot;</span><span class="s0">,</span><span class="s1">LOG</span><span class="s0">:</span><span class="s2">&quot;log&quot;</span><span class="s0">,</span><span class="s1">POW</span><span class="s0">:</span><span class="s2">&quot;pow&quot;</span><span class="s0">,</span><span class="s1">SQRT</span><span class="s0">:</span><span class="s2">&quot;sqrt&quot;</span><span class="s0">,</span><span class="s1">SYMLOG</span><span class="s0">:</span><span class="s2">&quot;symlog&quot;</span><span class="s0">,</span><span class="s1">IDENTITY</span><span class="s0">:</span><span class="s2">&quot;identity&quot;</span><span class="s0">,</span><span class="s1">SEQUENTIAL</span><span class="s0">:</span><span class="s2">&quot;sequential&quot;</span><span class="s0">,</span><span class="s1">TIME</span><span class="s0">:</span><span class="s2">&quot;time&quot;</span><span class="s0">,</span><span class="s1">UTC</span><span class="s0">:</span><span class="s2">&quot;utc&quot;</span><span class="s0">,</span><span class="s1">QUANTILE</span><span class="s0">:</span><span class="s2">&quot;quantile&quot;</span><span class="s0">,</span><span class="s1">QUANTIZE</span><span class="s0">:</span><span class="s2">&quot;quantize&quot;</span><span class="s0">,</span><span class="s1">THRESHOLD</span><span class="s0">:</span><span class="s2">&quot;threshold&quot;</span><span class="s0">,</span><span class="s1">BIN_ORDINAL</span><span class="s0">:</span><span class="s2">&quot;bin-ordinal&quot;</span><span class="s0">,</span><span class="s1">ORDINAL</span><span class="s0">:</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">,</span><span class="s1">POINT</span><span class="s0">:</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s1">BAND</span><span class="s0">:</span><span class="s2">&quot;band&quot;</span><span class="s0">};</span><span class="s4">const </span><span class="s1">to</span><span class="s0">={</span><span class="s1">linear</span><span class="s0">:</span><span class="s2">&quot;numeric&quot;</span><span class="s0">,</span><span class="s1">log</span><span class="s0">:</span><span class="s2">&quot;numeric&quot;</span><span class="s0">,</span><span class="s1">pow</span><span class="s0">:</span><span class="s2">&quot;numeric&quot;</span><span class="s0">,</span><span class="s1">sqrt</span><span class="s0">:</span><span class="s2">&quot;numeric&quot;</span><span class="s0">,</span><span class="s1">symlog</span><span class="s0">:</span><span class="s2">&quot;numeric&quot;</span><span class="s0">,</span><span class="s1">identity</span><span class="s0">:</span><span class="s2">&quot;numeric&quot;</span><span class="s0">,</span><span class="s1">sequential</span><span class="s0">:</span><span class="s2">&quot;numeric&quot;</span><span class="s0">,</span><span class="s1">time</span><span class="s0">:</span><span class="s2">&quot;time&quot;</span><span class="s0">,</span><span class="s1">utc</span><span class="s0">:</span><span class="s2">&quot;time&quot;</span><span class="s0">,</span><span class="s1">ordinal</span><span class="s0">:</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">,</span><span class="s2">&quot;bin-ordinal&quot;</span><span class="s0">:</span><span class="s2">&quot;bin-ordinal&quot;</span><span class="s0">,</span><span class="s1">point</span><span class="s0">:</span><span class="s2">&quot;ordinal-position&quot;</span><span class="s0">,</span><span class="s1">band</span><span class="s0">:</span><span class="s2">&quot;ordinal-position&quot;</span><span class="s0">,</span><span class="s1">quantile</span><span class="s0">:</span><span class="s2">&quot;discretizing&quot;</span><span class="s0">,</span><span class="s1">quantize</span><span class="s0">:</span><span class="s2">&quot;discretizing&quot;</span><span class="s0">,</span><span class="s1">threshold</span><span class="s0">:</span><span class="s2">&quot;discretizing&quot;</span><span class="s0">};</span><span class="s4">const </span><span class="s1">io</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">to</span><span class="s0">);</span><span class="s4">function </span><span class="s1">ro</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">to</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">to</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">return </span><span class="s1">t</span><span class="s0">===</span><span class="s1">i</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;ordinal-position&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;time&quot;</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;ordinal-position&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;time&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">so</span><span class="s0">={</span><span class="s1">linear</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">log</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">pow</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">sqrt</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symlog</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">identity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">sequential</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">time</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">utc</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">point</span><span class="s0">:</span><span class="s3">10</span><span class="s0">,</span><span class="s1">band</span><span class="s0">:</span><span class="s3">11</span><span class="s0">,</span><span class="s1">ordinal</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s2">&quot;bin-ordinal&quot;</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">quantile</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">quantize</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">threshold</span><span class="s0">:</span><span class="s3">0</span><span class="s0">};</span><span class="s4">function </span><span class="s1">oo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">so</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">ao</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;linear&quot;</span><span class="s0">,</span><span class="s2">&quot;log&quot;</span><span class="s0">,</span><span class="s2">&quot;pow&quot;</span><span class="s0">,</span><span class="s2">&quot;sqrt&quot;</span><span class="s0">,</span><span class="s2">&quot;symlog&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">uo</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">...ao</span><span class="s0">,</span><span class="s2">&quot;time&quot;</span><span class="s0">,</span><span class="s2">&quot;utc&quot;</span><span class="s0">]);</span><span class="s4">function </span><span class="s1">co</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ao</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">lo</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;quantile&quot;</span><span class="s0">,</span><span class="s2">&quot;quantize&quot;</span><span class="s0">,</span><span class="s2">&quot;threshold&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">fo</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">...uo</span><span class="s0">,</span><span class="s1">...lo</span><span class="s0">,</span><span class="s2">&quot;sequential&quot;</span><span class="s0">,</span><span class="s2">&quot;identity&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">po</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">,</span><span class="s2">&quot;bin-ordinal&quot;</span><span class="s0">,</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s2">&quot;band&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">go</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;time&quot;</span><span class="s0">,</span><span class="s2">&quot;utc&quot;</span><span class="s0">]);</span><span class="s4">function </span><span class="s1">mo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">po</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ho</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">fo</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">bo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">uo</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">yo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">lo</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">vo</span><span class="s0">={</span><span class="s1">pointPadding</span><span class="s0">:</span><span class="s3">.5</span><span class="s0">,</span><span class="s1">barBandPaddingInner</span><span class="s0">:</span><span class="s3">.1</span><span class="s0">,</span><span class="s1">rectBandPaddingInner</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">bandWithNestedOffsetPaddingInner</span><span class="s0">:</span><span class="s3">.2</span><span class="s0">,</span><span class="s1">bandWithNestedOffsetPaddingOuter</span><span class="s0">:</span><span class="s3">.2</span><span class="s0">,</span><span class="s1">minBandSize</span><span class="s0">:</span><span class="s3">2</span><span class="s0">,</span><span class="s1">minFontSize</span><span class="s0">:</span><span class="s3">8</span><span class="s0">,</span><span class="s1">maxFontSize</span><span class="s0">:</span><span class="s3">40</span><span class="s0">,</span><span class="s1">minOpacity</span><span class="s0">:</span><span class="s3">.3</span><span class="s0">,</span><span class="s1">maxOpacity</span><span class="s0">:</span><span class="s3">.8</span><span class="s0">,</span><span class="s1">minSize</span><span class="s0">:</span><span class="s3">9</span><span class="s0">,</span><span class="s1">minStrokeWidth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">maxStrokeWidth</span><span class="s0">:</span><span class="s3">4</span><span class="s0">,</span><span class="s1">quantileCount</span><span class="s0">:</span><span class="s3">4</span><span class="s0">,</span><span class="s1">quantizeCount</span><span class="s0">:</span><span class="s3">4</span><span class="s0">,</span><span class="s1">zero</span><span class="s0">:</span><span class="s4">true</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Oo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!!</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;name&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">xo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;param&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">wo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;unionWith&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">jo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">.</span><span class="s1">isObject</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s2">&quot;field&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Fo</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domain</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domainMax</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domainMin</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domainMid</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">align</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">rangeMax</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">rangeMin</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">scheme</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">bins</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">reverse</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">round</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">clamp</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">nice</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">base</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">exponent</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">constant</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">interpolate</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">zero</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">padding</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">paddingInner</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">paddingOuter</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">$o</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Fo</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">Do</span><span class="s0">,</span><span class="s1">domain</span><span class="s0">:</span><span class="s1">Ao</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">ko</span><span class="s0">,</span><span class="s1">rangeMax</span><span class="s0">:</span><span class="s1">Co</span><span class="s0">,</span><span class="s1">rangeMin</span><span class="s0">:</span><span class="s1">So</span><span class="s0">,</span><span class="s1">scheme</span><span class="s0">:</span><span class="s1">Eo</span><span class="s0">}=</span><span class="s1">Fo</span><span class="s0">,</span><span class="s1">Bo</span><span class="s0">=</span><span class="s1">eo</span><span class="s0">(</span><span class="s1">Fo</span><span class="s0">,[</span><span class="s2">&quot;type&quot;</span><span class="s0">,</span><span class="s2">&quot;domain&quot;</span><span class="s0">,</span><span class="s2">&quot;range&quot;</span><span class="s0">,</span><span class="s2">&quot;rangeMax&quot;</span><span class="s0">,</span><span class="s2">&quot;rangeMin&quot;</span><span class="s0">,</span><span class="s2">&quot;scheme&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">Po</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Bo</span><span class="s0">);</span><span class="s4">function </span><span class="s1">_o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;type&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;domain&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;reverse&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;range&quot;</span><span class="s0">:</span><span class="s4">return true</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;scheme&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;interpolate&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">![</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s2">&quot;band&quot;</span><span class="s0">,</span><span class="s2">&quot;identity&quot;</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;bins&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">![</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s2">&quot;band&quot;</span><span class="s0">,</span><span class="s2">&quot;identity&quot;</span><span class="s0">,</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;round&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">bo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;band&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;point&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;padding&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;rangeMin&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;rangeMax&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">bo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||[</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s2">&quot;band&quot;</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;paddingOuter&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;align&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s2">&quot;band&quot;</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;paddingInner&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;band&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;domainMax&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;domainMid&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;domainMin&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;clamp&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">bo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;nice&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">bo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;quantize&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;threshold&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;exponent&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;pow&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;base&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;log&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;constant&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;symlog&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;zero&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">ho</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;log&quot;</span><span class="s0">,</span><span class="s2">&quot;time&quot;</span><span class="s0">,</span><span class="s2">&quot;utc&quot;</span><span class="s0">,</span><span class="s2">&quot;threshold&quot;</span><span class="s0">,</span><span class="s2">&quot;quantile&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">zo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;interpolate&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;scheme&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;domainMid&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Qe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">ar</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;align&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;type&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;bins&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;domain&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;domainMax&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;domainMin&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;range&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;base&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;exponent&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;constant&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;nice&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;padding&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;paddingInner&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;paddingOuter&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;rangeMax&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;rangeMin&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;reverse&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;round&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;clamp&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;zero&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">No</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s1">Ks</span><span class="s0">,</span><span class="s1">Qs</span><span class="s0">],</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">Vs</span><span class="s0">){</span><span class="s4">return </span><span class="s1">F</span><span class="s0">([</span><span class="s1">no</span><span class="s0">.</span><span class="s1">TIME</span><span class="s0">,</span><span class="s1">no</span><span class="s0">.</span><span class="s1">UTC</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">Ys</span><span class="s0">){</span><span class="s4">return </span><span class="s1">co</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">yo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">To</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">pe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ge</span><span class="s0">:</span><span class="s4">case </span><span class="s1">be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;band&quot;</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;point&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Ae</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Se</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ee</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ke</span><span class="s0">:</span><span class="s4">return </span><span class="s1">bo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)||</span><span class="s1">yo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)||</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;band&quot;</span><span class="s0">,</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">],</span><span class="s1">n</span><span class="s0">);</span><span class="s4">case </span><span class="s1">je</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">$e</span><span class="s0">:</span><span class="s4">return </span><span class="s1">n</span><span class="s0">!==</span><span class="s2">&quot;band&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Pe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">De</span><span class="s0">:</span><span class="s4">return </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">||</span><span class="s1">yo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">Mo</span><span class="s0">={</span><span class="s1">arc</span><span class="s0">:</span><span class="s2">&quot;arc&quot;</span><span class="s0">,</span><span class="s1">area</span><span class="s0">:</span><span class="s2">&quot;area&quot;</span><span class="s0">,</span><span class="s1">bar</span><span class="s0">:</span><span class="s2">&quot;bar&quot;</span><span class="s0">,</span><span class="s1">image</span><span class="s0">:</span><span class="s2">&quot;image&quot;</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s2">&quot;line&quot;</span><span class="s0">,</span><span class="s1">point</span><span class="s0">:</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s1">rect</span><span class="s0">:</span><span class="s2">&quot;rect&quot;</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s2">&quot;text&quot;</span><span class="s0">,</span><span class="s1">tick</span><span class="s0">:</span><span class="s2">&quot;tick&quot;</span><span class="s0">,</span><span class="s1">trail</span><span class="s0">:</span><span class="s2">&quot;trail&quot;</span><span class="s0">,</span><span class="s1">circle</span><span class="s0">:</span><span class="s2">&quot;circle&quot;</span><span class="s0">,</span><span class="s1">square</span><span class="s0">:</span><span class="s2">&quot;square&quot;</span><span class="s0">,</span><span class="s1">geoshape</span><span class="s0">:</span><span class="s2">&quot;geoshape&quot;</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Lo</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">arc</span><span class="s0">;</span><span class="s4">const </span><span class="s1">qo</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">area</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Uo</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">bar</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ro</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">image</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Io</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">line</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Wo</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">point</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ho</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">rect</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Go</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">rule</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Yo</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">text</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ko</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">tick</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Vo</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">trail</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Qo</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">circle</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Xo</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">square</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Jo</span><span class="s0">=</span><span class="s1">Mo</span><span class="s0">.</span><span class="s1">geoshape</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Zo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">in </span><span class="s1">Mo</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ea</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s2">&quot;line&quot;</span><span class="s0">,</span><span class="s2">&quot;area&quot;</span><span class="s0">,</span><span class="s2">&quot;trail&quot;</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">na</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s2">&quot;rect&quot;</span><span class="s0">,</span><span class="s2">&quot;bar&quot;</span><span class="s0">,</span><span class="s2">&quot;image&quot;</span><span class="s0">,</span><span class="s2">&quot;arc&quot;</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">ta</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">(</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Mo</span><span class="s0">));</span><span class="s4">function </span><span class="s1">ia</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;type&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">ra</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">ia</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">ta</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">sa</span><span class="s0">=[</span><span class="s2">&quot;stroke&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeWidth&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeDash&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeDashOffset&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeOpacity&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeJoin&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeMiterLimit&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">oa</span><span class="s0">=[</span><span class="s2">&quot;fill&quot;</span><span class="s0">,</span><span class="s2">&quot;fillOpacity&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">aa</span><span class="s0">=[</span><span class="s1">...sa</span><span class="s0">,</span><span class="s1">...oa</span><span class="s0">];</span><span class="s4">const </span><span class="s1">ua</span><span class="s0">={</span><span class="s1">color</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">filled</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">invalid</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">order</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">radius2</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">theta2</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">timeUnitBandSize</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">timeUnitBandPosition</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">ca</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">ua</span><span class="s0">);</span><span class="s4">const </span><span class="s1">la</span><span class="s0">={</span><span class="s1">area</span><span class="s0">:[</span><span class="s2">&quot;line&quot;</span><span class="s0">,</span><span class="s2">&quot;point&quot;</span><span class="s0">],</span><span class="s1">bar</span><span class="s0">:[</span><span class="s2">&quot;binSpacing&quot;</span><span class="s0">,</span><span class="s2">&quot;continuousBandSize&quot;</span><span class="s0">,</span><span class="s2">&quot;discreteBandSize&quot;</span><span class="s0">],</span><span class="s1">rect</span><span class="s0">:[</span><span class="s2">&quot;binSpacing&quot;</span><span class="s0">,</span><span class="s2">&quot;continuousBandSize&quot;</span><span class="s0">,</span><span class="s2">&quot;discreteBandSize&quot;</span><span class="s0">],</span><span class="s1">line</span><span class="s0">:[</span><span class="s2">&quot;point&quot;</span><span class="s0">],</span><span class="s1">tick</span><span class="s0">:[</span><span class="s2">&quot;bandSize&quot;</span><span class="s0">,</span><span class="s2">&quot;thickness&quot;</span><span class="s0">]};</span><span class="s4">const </span><span class="s1">fa</span><span class="s0">={</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;#4c78a8&quot;</span><span class="s0">,</span><span class="s1">invalid</span><span class="s0">:</span><span class="s2">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">timeUnitBandSize</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">da</span><span class="s0">={</span><span class="s1">mark</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">arc</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">area</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">bar</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">circle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">image</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">point</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">rect</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">square</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tick</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">trail</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">geoshape</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">pa</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">da</span><span class="s0">);</span><span class="s4">function </span><span class="s1">ga</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;band&quot;</span><span class="s0">]!=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">ma</span><span class="s0">={</span><span class="s1">horizontal</span><span class="s0">:[</span><span class="s2">&quot;cornerRadiusTopRight&quot;</span><span class="s0">,</span><span class="s2">&quot;cornerRadiusBottomRight&quot;</span><span class="s0">],</span><span class="s1">vertical</span><span class="s0">:[</span><span class="s2">&quot;cornerRadiusTopLeft&quot;</span><span class="s0">,</span><span class="s2">&quot;cornerRadiusTopRight&quot;</span><span class="s0">]};</span><span class="s4">const </span><span class="s1">ha</span><span class="s0">=</span><span class="s3">5</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ba</span><span class="s0">={</span><span class="s1">binSpacing</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">continuousBandSize</span><span class="s0">:</span><span class="s1">ha</span><span class="s0">,</span><span class="s1">timeUnitBandPosition</span><span class="s0">:</span><span class="s3">.5</span><span class="s0">};</span><span class="s4">const </span><span class="s1">ya</span><span class="s0">={</span><span class="s1">binSpacing</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">continuousBandSize</span><span class="s0">:</span><span class="s1">ha</span><span class="s0">,</span><span class="s1">timeUnitBandPosition</span><span class="s0">:</span><span class="s3">.5</span><span class="s0">};</span><span class="s4">const </span><span class="s1">va</span><span class="s0">={</span><span class="s1">thickness</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Oa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ia</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">xa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channelDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">ka</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;!</span><span class="s1">wt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">)&amp;&amp;</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">bo</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">))){</span><span class="s4">return </span><span class="s1">wa</span><span class="s0">({</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">ref</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">function </span><span class="s1">wa</span><span class="s0">({</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">ref</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ea</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;invalid&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">ja</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">),</span><span class="s1">i</span><span class="s0">]}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ja</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Fa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">true</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">hn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;y&quot;</span><span class="s0">?{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">}}:{</span><span class="s1">value</span><span class="s0">:</span><span class="s3">0</span><span class="s0">};</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">test</span><span class="s0">:</span><span class="s1">t</span><span class="s0">},</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Fa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s4">true</span><span class="s0">){</span><span class="s4">return </span><span class="s1">qs</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">}),!</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">$a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">datum</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s0">as(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Da</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">pu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">datum</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">=as(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Bt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">expr</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">field</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">band</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">band</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Aa</span><span class="s0">({</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">fieldOrDatumDef2</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">startSuffix</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">s</span><span class="s0">=</span><span class="s3">.5</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s3">1</span><span class="s0">?</span><span class="s2">&quot;datum&quot;</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">suffix</span><span class="s0">:</span><span class="s1">r</span><span class="s0">});</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}):</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">o</span><span class="s0">});</span><span class="s4">const </span><span class="s1">c</span><span class="s0">={};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s3">0</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s1">c</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">s</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">u</span><span class="s0">;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">field</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)?</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s2">* </span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">} </span><span class="s2">+ (1-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">) * </span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">} </span><span class="s2">* </span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">} </span><span class="s2">+ </span><span class="s1">$</span><span class="s0">{</span><span class="s3">1</span><span class="s0">-</span><span class="s1">s</span><span class="s0">} </span><span class="s2">* </span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">=</span><span class="s2">`scale(&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">c</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">return </span><span class="s1">c</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ka</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channelDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channel2Def</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">defaultRef</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">d</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">a</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">f</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">f</span><span class="s0">:</span><span class="s1">f</span><span class="s0">=</span><span class="s1">ru</span><span class="s0">({</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">fieldDef2</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">});</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)||</span><span class="s1">f</span><span class="s0">&amp;&amp;</span><span class="s1">l</span><span class="s0">&amp;&amp;</span><span class="s1">d</span><span class="s0">===</span><span class="s1">Vs</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">u</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Da</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">},{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">c</span><span class="s0">})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">&amp;&amp;!</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Aa</span><span class="s0">({</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">c</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">Da</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">ec</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)?{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;range&quot;</span><span class="s0">}:{},{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">c</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Aa</span><span class="s0">({</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">fieldOrDatumDef2</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">c</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">ce</span><span class="s0">?</span><span class="s1">fe</span><span class="s0">:</span><span class="s1">de</span><span class="s0">;</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Nr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}}}</span><span class="s4">return </span><span class="s1">Da</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)?{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;range&quot;</span><span class="s0">}:{},{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">band</span><span class="s0">:</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;band&quot;</span><span class="s0">?(</span><span class="s1">d</span><span class="s0">=</span><span class="s1">f</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">f</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">f</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bandPosition</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">d</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">d</span><span class="s0">:</span><span class="s3">.5</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">c</span><span class="s0">?{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}:{};</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Ca</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)),</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Tn</span><span class="s0">)(</span><span class="s1">l</span><span class="s0">)){</span><span class="s1">l</span><span class="s0">=</span><span class="s1">l</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">l</span><span class="s0">),</span><span class="s1">c</span><span class="s0">?{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}:{})}</span><span class="s4">return </span><span class="s1">l</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ca</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s2">&quot;x2&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;width&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">}}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s2">&quot;y2&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;height&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Sa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;number&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;time&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ea</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">?</span><span class="s2">`, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Ba</span><span class="s0">=</span><span class="s2">&quot;  &quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Pa</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">normalizeStack</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Sa</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">_a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">customFormatTypes</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">normalizedNumberFormatType</span><span class="s0">)</span><span class="s4">return </span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">normalizedNumberFormat</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">normalizedNumberFormatType</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">numberFormatType</span><span class="s0">){</span><span class="s4">return </span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">numberFormat</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">numberFormatType</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">===</span><span class="s2">&quot;temporal&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">timeFormatType</span><span class="s0">&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">timeFormat</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">timeFormatType</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ia</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?(</span><span class="s1">o</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">timeFormatType</span><span class="s0">,</span><span class="s1">rawTimeFormat</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">timeFormat</span><span class="s0">,</span><span class="s1">isUTCScale</span><span class="s0">:</span><span class="s1">Ou</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;((</span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)===</span><span class="s1">no</span><span class="s0">.</span><span class="s1">UTC</span><span class="s0">});</span><span class="s4">return </span><span class="s1">t</span><span class="s0">?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ma</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">specifiedFormat</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">normalizeStack</span><span class="s0">:</span><span class="s1">r</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">At</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">});</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">Ra</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">||</span><span class="s1">du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">qa</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`isValid(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">) ? </span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">} </span><span class="s2">: &quot;&quot;+</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">_a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">})}</span><span class="s2">-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;start&quot;</span><span class="s0">})}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">$a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">normalizeStack</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}){</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">o</span><span class="s0">=</span><span class="s1">_a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s2">&quot;datum.value&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">At</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">});</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">Ra</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">Ea</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Na</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">var </span><span class="s1">o</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Sa</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">customFormatTypes</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">normalizedNumberFormatType</span><span class="s0">&amp;&amp;</span><span class="s1">xu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">===</span><span class="s2">&quot;normalize&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">numberFormatType</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">xu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">===</span><span class="s2">&quot;normalize&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">normalizedNumberFormat</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ma</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">normalizeStack</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?(</span><span class="s1">o</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">customFormatTypes</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">timeFormatType</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">La</span><span class="s0">({</span><span class="s1">specifiedFormat</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">omitTimeFormatConfig</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">Ma</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">specifiedFormat</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">Ta</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;time&quot;</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;time&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;utc&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">utc</span><span class="s0">)?</span><span class="s2">&quot;utc&quot;</span><span class="s0">:</span><span class="s2">&quot;time&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ma</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">specifiedFormat</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">normalizeStack</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">Ys</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">normalizedNumberFormat</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">numberFormat</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">La</span><span class="s0">({</span><span class="s1">specifiedFormat</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">omitTimeFormatConfig</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">js</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">timeFormat</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`format(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">, &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">||</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s2">&quot;)`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ua</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">var </span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Sa</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Ea</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">qa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">numberFormat</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ra</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">customFormatTypes</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">numberFormatType</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ra</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">numberFormat</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">numberFormatType</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Ua</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Ua</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">qs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)} </span><span class="s2">? &quot;null&quot; : </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">} </span><span class="s2">+ &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ba</span><span class="s0">}</span><span class="s2">&quot; + </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ia</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">rawTimeFormat</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">isUTCScale</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">||</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">, '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">')`</span><span class="s0">}</span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">s</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">?</span><span class="s2">&quot;utc&quot;</span><span class="s0">:</span><span class="s2">&quot;time&quot;</span><span class="s0">}</span><span class="s2">Format(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">, '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">')`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Fs</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">Wa</span><span class="s0">=</span><span class="s2">&quot;min&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ha</span><span class="s0">={</span><span class="s1">x</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fill</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">stroke</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeWidth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">shape</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fillOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">opacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Ga</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">in </span><span class="s1">Ha</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ya</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;encoding&quot;</span><span class="s0">])}</span><span class="s4">function </span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;op&quot;</span><span class="s0">]===</span><span class="s2">&quot;count&quot;</span><span class="s0">||!!</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;field&quot;</span><span class="s0">])}</span><span class="s4">function </span><span class="s1">Va</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Qa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;row&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">||</span><span class="s2">&quot;column&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Xa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;header&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ja</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;facet&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Za</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">eu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;param&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">nu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s2">&quot;repeat&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">tu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">?{</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{}),</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}:{}),</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{}),{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">iu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;sort&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ru</span><span class="s0">({</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldDef2</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bandPosition</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">bandPosition</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">na</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">ri</span><span class="s0">(</span><span class="s2">&quot;timeUnitBandPosition&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return</span><span class="s3">.5</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">su</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">fieldDef2</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">useVlSizeChannel</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">c</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s1">o</span><span class="s0">?</span><span class="s2">&quot;size&quot;</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">l</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">f</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">band</span><span class="s0">:</span><span class="s1">ri</span><span class="s0">(</span><span class="s2">&quot;timeUnitBandSize&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)&amp;&amp;!</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">band</span><span class="s0">:</span><span class="s3">1</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">na</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">((</span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">discreteBandSize</span><span class="s0">)||{</span><span class="s1">band</span><span class="s0">:</span><span class="s3">1</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">(</span><span class="s1">u</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">u</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">continuousBandSize</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">(</span><span class="s1">c</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">c</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">c</span><span class="s0">.</span><span class="s1">discreteBandSize</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ou</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">&amp;&amp;</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;temporal&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ru</span><span class="s0">({</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldDef2</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">au</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;condition&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">uu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;condition&quot;</span><span class="s0">];</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">n</span><span class="s0">&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">cu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;condition&quot;</span><span class="s0">];</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">n</span><span class="s0">&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">lu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;condition&quot;</span><span class="s0">];</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">n</span><span class="s0">&amp;&amp;((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)||</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;(!!</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;field&quot;</span><span class="s0">]||</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;aggregate&quot;</span><span class="s0">]===</span><span class="s2">&quot;count&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;type&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">pu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;datum&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">gu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">yu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">Au</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">hu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">mu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">||</span><span class="s1">hu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">hu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">pu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">datum</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">pu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">yu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s2">&quot;field&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">||</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;aggregate&quot;</span><span class="s0">]===</span><span class="s2">&quot;count&quot;</span><span class="s0">)&amp;&amp;</span><span class="s2">&quot;type&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">vu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;value&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;value&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ou</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s2">&quot;scale&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">||</span><span class="s2">&quot;sort&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">xu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s2">&quot;axis&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">||</span><span class="s2">&quot;stack&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">||</span><span class="s2">&quot;impute&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">wu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;legend&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ju</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s2">&quot;format&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">||</span><span class="s2">&quot;formatType&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;legend&quot;</span><span class="s0">,</span><span class="s2">&quot;axis&quot;</span><span class="s0">,</span><span class="s2">&quot;header&quot;</span><span class="s0">,</span><span class="s2">&quot;scale&quot;</span><span class="s0">])}</span><span class="s4">function </span><span class="s1">$u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;op&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">={}){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">prefix</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">suffix</span><span class="s0">;</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Cu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">ne</span><span class="s0">(</span><span class="s2">&quot;count&quot;</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">let </span><span class="s1">o</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">nofn</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">op</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Dt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">binSuffix</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)+((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">suffix</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s2">`[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">;</span><span class="s1">s</span><span class="s0">=</span><span class="s2">`argmax_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">.</span><span class="s1">argmax</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">yt</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s2">`[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">;</span><span class="s1">s</span><span class="s0">=</span><span class="s2">`argmin_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">.</span><span class="s1">argmin</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">=</span><span class="s1">String</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Ds</span><span class="s0">(</span><span class="s1">f</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=(![</span><span class="s2">&quot;range&quot;</span><span class="s0">,</span><span class="s2">&quot;mid&quot;</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">binSuffix</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">binSuffix</span><span class="s0">||</span><span class="s2">&quot;&quot;</span><span class="s0">)+((</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">suffix</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">s</span><span class="s0">?</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">forAs</span><span class="s0">){</span><span class="s4">return </span><span class="s1">V</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">expr</span><span class="s0">){</span><span class="s4">return </span><span class="s1">H</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">expr</span><span class="s0">)+</span><span class="s1">u</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Y</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)+</span><span class="s1">u</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Au</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;nominal&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;geojson&quot;</span><span class="s0">:</span><span class="s4">return true</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;temporal&quot;</span><span class="s0">:</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">Ri</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">ku</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Ou</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">yo</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Cu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">===</span><span class="s2">&quot;count&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Su</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;count&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">countTitle</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">(binned)`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">s</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Os</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;-&quot;</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">for max </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">.</span><span class="s1">argmax</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">yt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">for min </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">.</span><span class="s1">argmin</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">I</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)} </span><span class="s2">of </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Eu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">} </span><span class="s2">for argmax(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">argmax</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">yt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">} </span><span class="s2">for argmin(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">argmin</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">||(</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">)||(</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">maxbins</span><span class="s0">)&amp;&amp;</span><span class="s2">&quot;timeunit&quot;</span><span class="s0">||</span><span class="s1">At</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s2">&quot;bin&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">.</span><span class="s1">toUpperCase</span><span class="s0">()}</span><span class="s2">(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">Bu</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">fieldTitle</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;plain&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;functional&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">Eu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return </span><span class="s1">Su</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}};</span><span class="s4">let </span><span class="s1">Pu</span><span class="s0">=</span><span class="s1">Bu</span><span class="s0">;</span><span class="s4">function </span><span class="s1">_u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">Pu</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">zu</span><span class="s0">(){</span><span class="s1">_u</span><span class="s0">(</span><span class="s1">Bu</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Nu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">allowDisabling</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">includeDefault</span><span class="s0">:</span><span class="s1">i</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Tu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">title</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s1">Mu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">n</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">X</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">title</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">title</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Tu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">xu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">wu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Xa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">header</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">header</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Mu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Pu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Lu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ju</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Tu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:{};</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">qu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;latitude&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;longitude&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;row&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;column&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;facet&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;shape&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;strokeDash&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;nominal&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;order&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">iu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;temporal&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">||</span><span class="s1">i</span><span class="s0">&amp;&amp;!</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;!</span><span class="s1">yt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ou</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">to</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">type</span><span class="s0">]){</span><span class="s4">case</span><span class="s2">&quot;numeric&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;discretizing&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;time&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;temporal&quot;</span><span class="s0">}}</span><span class="s4">return</span><span class="s2">&quot;nominal&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">uu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">cu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Iu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">={}){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Lm</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s2">&quot;string&quot;</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s2">&quot;number&quot;</span><span class="s0">:</span><span class="s2">&quot;boolean&quot;</span><span class="s0">;</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ui</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">));</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Wu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">cu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">condition</span><span class="s0">:</span><span class="s1">Wu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)})}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Wu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ju</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Za</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;format&quot;</span><span class="s0">,</span><span class="s2">&quot;formatType&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Sa</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)&amp;&amp;!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">customFormatTypes</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ni</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">return </span><span class="s1">Wu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">xu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s2">&quot;axis&quot;</span><span class="s0">:</span><span class="s1">wu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s2">&quot;legend&quot;</span><span class="s0">:</span><span class="s1">Xa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s2">&quot;header&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">],{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">s</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s1">Za</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,[</span><span class="s2">&quot;format&quot;</span><span class="s0">,</span><span class="s2">&quot;formatType&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Sa</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&amp;&amp;!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">customFormatTypes</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ni</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">return </span><span class="s1">Wu</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{[</span><span class="s1">r</span><span class="s0">]:</span><span class="s1">u</span><span class="s0">}),</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Gu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Hu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Hu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;type&quot;</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">datum</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)?</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)?</span><span class="s2">&quot;nominal&quot;</span><span class="s0">:</span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s2">&quot;temporal&quot;</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">Gu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">compositeMark</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}={}){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">&amp;&amp;!</span><span class="s1">Ot</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;!</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;!</span><span class="s1">yt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Wi</span><span class="s0">(</span><span class="s1">i</span><span class="s0">));</span><span class="s4">delete </span><span class="s1">u</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">field</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">=</span><span class="s1">Yu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)&amp;&amp;!</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Tr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s1">u</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Zs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">wt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ii</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">));</span><span class="s1">u</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">}}}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">mn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">qu</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s1">u</span><span class="s0">[</span><span class="s2">&quot;type&quot;</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">compatible</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">warning</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">Vu</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)||{};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">iu</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s1">u</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ga</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">u</span><span class="s0">),{</span><span class="s1">sort</span><span class="s0">:{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}})}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)===</span><span class="s2">&quot;-&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">Ga</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">u</span><span class="s0">),{</span><span class="s1">sort</span><span class="s0">:{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">order</span><span class="s0">:</span><span class="s2">&quot;descending&quot;</span><span class="s0">}})}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Xa</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">header</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s1">u</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Za</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;orient&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">u</span><span class="s0">),{</span><span class="s1">header</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">),{</span><span class="s1">labelOrient</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">labelOrient</span><span class="s0">||</span><span class="s1">n</span><span class="s0">,</span><span class="s1">titleOrient</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">titleOrient</span><span class="s0">||</span><span class="s1">n</span><span class="s0">})})}}}</span><span class="s4">return </span><span class="s1">u</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Yu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Lm</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">maxbins</span><span class="s0">:</span><span class="s1">Et</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;binned&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">binned</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">maxbins</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">maxbins</span><span class="s0">:</span><span class="s1">Et</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">Ku</span><span class="s0">={</span><span class="s1">compatible</span><span class="s0">:</span><span class="s4">true</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Vu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;geojson&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s2">&quot;shape&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">compatible</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">warning</span><span class="s0">:</span><span class="s2">`Channel </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">should not be used with a geojson data.`</span><span class="s0">}}</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case </span><span class="s1">oe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ae</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ue</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Au</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">compatible</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">warning</span><span class="s0">:</span><span class="s1">Zi</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">Ku</span><span class="s0">;</span><span class="s4">case </span><span class="s1">ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">pe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ge</span><span class="s0">:</span><span class="s4">case </span><span class="s1">je</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">$e</span><span class="s0">:</span><span class="s4">case </span><span class="s1">_e</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ne</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Te</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Me</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">qe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ke</span><span class="s0">:</span><span class="s4">case </span><span class="s1">be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ue</span><span class="s0">:</span><span class="s4">return </span><span class="s1">Ku</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Oe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">we</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ve</span><span class="s0">:</span><span class="s4">case </span><span class="s1">xe</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">Ys</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">compatible</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">warning</span><span class="s0">:</span><span class="s2">`Channel </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">should be used with a quantitative field only, not </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">} </span><span class="s2">field.`</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">Ku</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Se</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ee</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ae</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ye</span><span class="s0">:</span><span class="s4">case </span><span class="s1">he</span><span class="s0">:</span><span class="s4">case </span><span class="s1">fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">de</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;nominal&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;sort&quot;</span><span class="s0">]){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">compatible</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">warning</span><span class="s0">:</span><span class="s2">`Channel </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">should not be used with an unsorted discrete field.`</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">Ku</span><span class="s0">;</span><span class="s4">case </span><span class="s1">De</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Pe</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Au</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">ku</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">compatible</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">warning</span><span class="s0">:</span><span class="s1">er</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">Ku</span><span class="s0">;</span><span class="s4">case </span><span class="s1">ze</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;nominal&quot;</span><span class="s0">&amp;&amp;!(</span><span class="s2">&quot;sort&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">compatible</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">warning</span><span class="s0">:</span><span class="s2">`Channel order is inappropriate for nominal field, which has no inherent order.`</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">Ku</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Qu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">Lu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;time&quot;</span><span class="s0">||!</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">Xu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Xu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;type&quot;</span><span class="s0">]===</span><span class="s2">&quot;temporal&quot;</span><span class="s0">||</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ju</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">wrapTime</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">undefinedIfExprNotRequired</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">o</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">&amp;&amp;((</span><span class="s1">o</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">);</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s1">a</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;temporal&quot;</span><span class="s0">;</span><span class="s4">let </span><span class="s1">c</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">c</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">expr</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">c</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s1">c</span><span class="s0">=as(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s1">c</span><span class="s0">=</span><span class="s2">`datetime(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ps</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s3">1e4</span><span class="s0">||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">isNaN</span><span class="s0">(</span><span class="s1">Date</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))){</span><span class="s1">c</span><span class="s0">=as({[</span><span class="s1">a</span><span class="s0">]:</span><span class="s1">e</span><span class="s0">})}}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">u</span><span class="s0">?</span><span class="s2">`time(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Zu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Ju</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">undefinedIfExprNotRequired</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}))}</span><span class="s4">function </span><span class="s1">ec</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">At</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">warn</span><span class="s0">(</span><span class="s2">&quot;Only call this method for binned field defs.&quot;</span><span class="s0">);</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">return </span><span class="s1">ct</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;[</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">,</span><span class="s2">&quot;nominal&quot;</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">nc</span><span class="s0">={</span><span class="s1">labelAlign</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;align&quot;</span><span class="s0">},</span><span class="s1">labelBaseline</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;baseline&quot;</span><span class="s0">},</span><span class="s1">labelColor</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;fill&quot;</span><span class="s0">},</span><span class="s1">labelFont</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;font&quot;</span><span class="s0">},</span><span class="s1">labelFontSize</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;fontSize&quot;</span><span class="s0">},</span><span class="s1">labelFontStyle</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;fontStyle&quot;</span><span class="s0">},</span><span class="s1">labelFontWeight</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;fontWeight&quot;</span><span class="s0">},</span><span class="s1">labelOpacity</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;opacity&quot;</span><span class="s0">},</span><span class="s1">labelOffset</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">labelPadding</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">gridColor</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;stroke&quot;</span><span class="s0">},</span><span class="s1">gridDash</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;strokeDash&quot;</span><span class="s0">},</span><span class="s1">gridDashOffset</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;strokeDashOffset&quot;</span><span class="s0">},</span><span class="s1">gridOpacity</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;opacity&quot;</span><span class="s0">},</span><span class="s1">gridWidth</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;strokeWidth&quot;</span><span class="s0">},</span><span class="s1">tickColor</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;stroke&quot;</span><span class="s0">},</span><span class="s1">tickDash</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;strokeDash&quot;</span><span class="s0">},</span><span class="s1">tickDashOffset</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;strokeDashOffset&quot;</span><span class="s0">},</span><span class="s1">tickOpacity</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;opacity&quot;</span><span class="s0">},</span><span class="s1">tickSize</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">tickWidth</span><span class="s0">:{</span><span class="s1">part</span><span class="s0">:</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s2">&quot;strokeWidth&quot;</span><span class="s0">}};</span><span class="s4">function </span><span class="s1">tc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">}</span><span class="s4">const </span><span class="s1">ic</span><span class="s0">=[</span><span class="s2">&quot;domain&quot;</span><span class="s0">,</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s2">&quot;title&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">rc</span><span class="s0">={</span><span class="s1">grid</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">gridCap</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">gridColor</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">gridDash</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">gridDashOffset</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">gridOpacity</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">gridScale</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">gridWidth</span><span class="s0">:</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">aria</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">description</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">domain</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">domainCap</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">domainColor</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">domainDash</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">domainDashOffset</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">domainOpacity</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">domainWidth</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelAlign</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelAngle</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelBaseline</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelBound</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelColor</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelFlush</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelFlushOffset</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelFont</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelFontSize</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelFontStyle</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelFontWeight</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelLimit</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelLineHeight</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelOffset</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelOpacity</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelOverlap</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelPadding</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labels</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">labelSeparation</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">maxExtent</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">minExtent</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">position</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">tickCap</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">tickColor</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">tickDash</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">tickDashOffset</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">tickMinStep</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">tickOffset</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">tickOpacity</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">tickRound</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">ticks</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">tickSize</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">tickWidth</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">title</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleAlign</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleAnchor</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleAngle</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleBaseline</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleColor</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleFont</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleFontSize</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleFontStyle</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleFontWeight</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleLimit</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleLineHeight</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleOpacity</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titlePadding</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleX</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">titleY</span><span class="s0">:</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">encode</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">tickBand</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">tickCount</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">tickExtra</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">translate</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">values</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">,</span><span class="s1">zindex</span><span class="s0">:</span><span class="s2">&quot;both&quot;</span><span class="s0">};</span><span class="s4">const </span><span class="s1">sc</span><span class="s0">={</span><span class="s1">orient</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">aria</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">description</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domain</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domainCap</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domainColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domainDash</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domainDashOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domainOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">domainWidth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">grid</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gridCap</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gridColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gridDash</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gridDashOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gridOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gridWidth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelAlign</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelAngle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelBaseline</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelBound</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelFlush</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelFlushOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelFont</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelFontSize</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelFontStyle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelFontWeight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelLimit</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelLineHeight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelOverlap</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelPadding</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labels</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelSeparation</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">maxExtent</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">minExtent</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">position</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickBand</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickCap</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickCount</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickDash</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickDashOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickExtra</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickMinStep</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickRound</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">ticks</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickSize</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickWidth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">title</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleAlign</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleAnchor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleAngle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleBaseline</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleFont</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleFontSize</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleFontStyle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleFontWeight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleLimit</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleLineHeight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titlePadding</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleX</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleY</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">translate</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">values</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">zindex</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">oc</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">sc</span><span class="s0">),{</span><span class="s1">style</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelExpr</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s3">1</span><span class="s0">});</span><span class="s4">function </span><span class="s1">ac</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">oc</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">uc</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">oc</span><span class="s0">);</span><span class="s4">const </span><span class="s1">cc</span><span class="s0">={</span><span class="s1">axis</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisBand</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisBottom</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisDiscrete</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisLeft</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisPoint</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisQuantitative</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisRight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisTemporal</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisTop</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisX</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisXBand</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisXDiscrete</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisXPoint</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisXQuantitative</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisXTemporal</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisY</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisYBand</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisYDiscrete</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisYPoint</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisYQuantitative</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">axisYTemporal</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">lc</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">cc</span><span class="s0">);</span><span class="s4">function </span><span class="s1">fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;mark&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">class </span><span class="s1">dc</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">run</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">hasMatchingType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Oa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">)===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">pc</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">gc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">$</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">uu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">mc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">$</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">pu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">cu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">hc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">pu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))&amp;&amp;</span><span class="s1">Gs</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">xn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">mc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">bc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">$</span><span class="s0">(</span><span class="s1">en</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">gc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">$</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}))}</span><span class="s4">function </span><span class="s1">yc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">={};</span><span class="s1">jc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}=</span><span class="s1">a</span><span class="s0">,</span><span class="s1">p</span><span class="s0">=</span><span class="s1">pc</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,[</span><span class="s2">&quot;field&quot;</span><span class="s0">,</span><span class="s2">&quot;aggregate&quot;</span><span class="s0">,</span><span class="s2">&quot;bin&quot;</span><span class="s0">,</span><span class="s2">&quot;timeUnit&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">||</span><span class="s1">d</span><span class="s0">||</span><span class="s1">f</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Tu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">;</span><span class="s4">let </span><span class="s1">m</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">g</span><span class="s0">?[]:{</span><span class="s1">title</span><span class="s0">:</span><span class="s1">Nu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">allowDisabling</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}),</span><span class="s1">p</span><span class="s0">),{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">m</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;argmax&quot;</span><span class="s0">;</span><span class="s1">m</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">({</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;argmax&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">.</span><span class="s1">argmax</span><span class="s0">},{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">h</span><span class="s0">.</span><span class="s1">field</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">m</span><span class="s0">}</span><span class="s2">.</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">yt</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;argmin&quot;</span><span class="s0">;</span><span class="s1">m</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">({</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;argmin&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">.</span><span class="s1">argmin</span><span class="s0">},{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">h</span><span class="s0">.</span><span class="s1">field</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">m</span><span class="s0">}</span><span class="s2">.</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">!==</span><span class="s2">&quot;boxplot&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">l</span><span class="s0">!==</span><span class="s2">&quot;errorbar&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">l</span><span class="s0">!==</span><span class="s2">&quot;errorband&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">l</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">op</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,as:</span><span class="s1">m</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">=</span><span class="s1">c</span><span class="s0">}</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">m</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&amp;&amp;</span><span class="s1">At</span><span class="s0">(</span><span class="s1">f</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,as:</span><span class="s1">m</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">}));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ec</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;range&quot;</span><span class="s0">}))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">field</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">m</span><span class="s0">}</span><span class="s2">_end`</span><span class="s0">};</span><span class="s1">o</span><span class="s0">[</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">2`</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">h</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">=</span><span class="s2">&quot;binned&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">mn</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s1">h</span><span class="s0">[</span><span class="s2">&quot;type&quot;</span><span class="s0">]=</span><span class="s1">Ys</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,as:</span><span class="s1">m</span><span class="s0">});</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&amp;&amp;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s1">Vs</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;time&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">===</span><span class="s1">_e</span><span class="s0">||</span><span class="s1">u</span><span class="s0">===</span><span class="s1">Me</span><span class="s0">){</span><span class="s1">h</span><span class="s0">[</span><span class="s2">&quot;formatType&quot;</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">st</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s1">h</span><span class="s0">[</span><span class="s2">&quot;legend&quot;</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s1">h</span><span class="s0">[</span><span class="s2">&quot;legend&quot;</span><span class="s0">])}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s1">h</span><span class="s0">[</span><span class="s2">&quot;axis&quot;</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s1">h</span><span class="s0">[</span><span class="s2">&quot;axis&quot;</span><span class="s0">])}}}}</span><span class="s1">o</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]=</span><span class="s1">h</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">c</span><span class="s0">);</span><span class="s1">o</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]}}));</span><span class="s4">return</span><span class="s0">{</span><span class="s1">bins</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">timeUnits</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">vc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">lt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;binned&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">===</span><span class="s1">fe</span><span class="s0">?</span><span class="s1">ce</span><span class="s0">:</span><span class="s1">le</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])&amp;&amp;</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Oc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">pn</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ji</span><span class="s0">(</span><span class="s1">r</span><span class="s0">))}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">o of jn</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Kn</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">wn</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Hs</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Li</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s4">continue</span><span class="s0">}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">qi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;angle&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;arc&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">theta</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Mi</span><span class="s0">);</span><span class="s1">o</span><span class="s0">=</span><span class="s1">be</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">vc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Qi</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">));</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s1">Ae</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;line&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Vi</span><span class="s0">);</span><span class="s4">continue</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s1">je</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">?</span><span class="s2">&quot;fill&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">:</span><span class="s2">&quot;stroke&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Gi</span><span class="s0">(</span><span class="s2">&quot;encoding&quot;</span><span class="s0">,{</span><span class="s1">fill</span><span class="s0">:</span><span class="s2">&quot;fill&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">,</span><span class="s1">stroke</span><span class="s0">:</span><span class="s2">&quot;stroke&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}));</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s1">Ne</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s1">ze</span><span class="s0">&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">)&amp;&amp;!</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)||</span><span class="s1">o</span><span class="s0">===</span><span class="s1">Me</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s1">s</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">).</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ki</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Gu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),[])}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s1">Me</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s1">s</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s4">null</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&amp;&amp;!</span><span class="s1">pu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&amp;&amp;!</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&amp;&amp;!</span><span class="s1">au</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&amp;&amp;!</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ki</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">o</span><span class="s0">));</span><span class="s4">continue</span><span class="s0">}</span><span class="s1">s</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s1">Iu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">function </span><span class="s1">xc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">],</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">compositeMark</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">wc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">gc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">uu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">)}}}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">jc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of s</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">Fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)),</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}}),</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">$c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">).</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">case </span><span class="s1">ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Le</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ue</span><span class="s0">:</span><span class="s4">case </span><span class="s1">qe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">de</span><span class="s0">:</span><span class="s4">case </span><span class="s1">pe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ge</span><span class="s0">:</span><span class="s4">case </span><span class="s1">be</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ye</span><span class="s0">:</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:</span><span class="s4">case </span><span class="s1">he</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ve</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Oe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">xe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">we</span><span class="s0">:</span><span class="s4">case </span><span class="s1">_e</span><span class="s0">:</span><span class="s4">case </span><span class="s1">De</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ke</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Me</span><span class="s0">:</span><span class="s4">return </span><span class="s1">t</span><span class="s0">;</span><span class="s4">case </span><span class="s1">ze</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;line&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;trail&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">case </span><span class="s1">Ne</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Te</span><span class="s0">:{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{}))}}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">case </span><span class="s1">Ae</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;trail&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">case </span><span class="s1">je</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">$e</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Se</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ee</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Pe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Be</span><span class="s0">:{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{}))}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}}),[])}</span><span class="s4">var </span><span class="s1">Dc</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Ac</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">tooltip</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Dc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;tooltip&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">filteredEncoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=[]}</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=[]}</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s2">&quot;aggregate&quot;</span><span class="s0">]){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">customTooltipWithoutAggregatedField</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">filteredEncoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">kc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s4">true</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;tooltip&quot;</span><span class="s4">in </span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">tooltip</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((({</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s2">` of </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Cc</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">title</span><span class="s0">:</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">escape</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s2">&quot;`</span><span class="s0">}:</span><span class="s1">t</span><span class="s0">+</span><span class="s1">r</span><span class="s0">}}));</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">wc</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">map</span><span class="s0">(</span><span class="s1">Fu</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">tooltip</span><span class="s0">:[</span><span class="s1">...r</span><span class="s0">,</span><span class="s1">...C</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">w</span><span class="s0">)]}}</span><span class="s4">function </span><span class="s1">Cc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">title</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">X</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Sc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">endPositionPrefix</span><span class="s0">:</span><span class="s1">f</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">d</span><span class="s0">={}})=&gt;{</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">Cc</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Ec</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({[</span><span class="s1">n</span><span class="s0">]:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">},</span><span class="s1">p</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">title</span><span class="s0">:</span><span class="s1">p</span><span class="s0">}:{}),</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}:{}),</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}:{})},(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">f</span><span class="s0">)?{[</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">2`</span><span class="s0">]:{</span><span class="s1">field</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}}:{}),</span><span class="s1">i</span><span class="s0">),</span><span class="s1">d</span><span class="s0">)})}}</span><span class="s4">function </span><span class="s1">Ec</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">clip</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">opacity</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]||</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">i</span><span class="s0">),{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]),</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">clip</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{}),</span><span class="s1">o</span><span class="s0">?{</span><span class="s1">color</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}:{}),</span><span class="s1">a</span><span class="s0">?{</span><span class="s1">opacity</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}:{}),</span><span class="s1">ia</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">)?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">:{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">}),{</span><span class="s1">style</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">String</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}),(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Lm</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])?{}:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])})]}</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">function </span><span class="s1">Bc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;vertical&quot;</span><span class="s0">?</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s2">&quot;x&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">2`</span><span class="s0">];</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">Error`</span><span class="s0">];</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">Error2`</span><span class="s0">];</span><span class="s4">return</span><span class="s0">{</span><span class="s1">continuousAxisChannelDef</span><span class="s0">:</span><span class="s1">Pc</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">continuousAxisChannelDef2</span><span class="s0">:</span><span class="s1">Pc</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">continuousAxisChannelDefError</span><span class="s0">:</span><span class="s1">Pc</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">continuousAxisChannelDefError2</span><span class="s0">:</span><span class="s1">Pc</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">continuousAxis</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Pc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Dc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;aggregate&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">_r</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">_c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">x</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ia</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">gu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">gu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">===</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">===</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">===</span><span class="s1">n</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Both x and y cannot have aggregate&quot;</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)&amp;&amp;!</span><span class="s1">Qu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}}</span><span class="s4">return</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">gu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Need a valid continuous axis for </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">s`</span><span class="s0">)}}</span><span class="s4">var </span><span class="s1">zc</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Nc</span><span class="s0">=</span><span class="s2">&quot;boxplot&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Tc</span><span class="s0">=[</span><span class="s2">&quot;box&quot;</span><span class="s0">,</span><span class="s2">&quot;median&quot;</span><span class="s0">,</span><span class="s2">&quot;outliers&quot;</span><span class="s0">,</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s2">&quot;ticks&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">Mc</span><span class="s0">=</span><span class="s4">new </span><span class="s1">dc</span><span class="s0">(</span><span class="s1">Nc</span><span class="s0">,</span><span class="s1">qc</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Lc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;tukey&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">xc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)});</span><span class="s4">const</span><span class="s0">{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">params</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">c</span><span class="s0">=</span><span class="s1">zc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;mark&quot;</span><span class="s0">,</span><span class="s2">&quot;encoding&quot;</span><span class="s0">,</span><span class="s2">&quot;params&quot;</span><span class="s0">,</span><span class="s2">&quot;projection&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">ia</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)?</span><span class="s1">s</span><span class="s0">:{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">s</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Oi</span><span class="s0">(</span><span class="s2">&quot;boxplot&quot;</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">boxplot</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">;</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">l</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">invalid</span><span class="s0">;</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">Lc</span><span class="s0">(</span><span class="s1">f</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bins</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">timeUnits</span><span class="s0">:</span><span class="s1">h</span><span class="s0">,</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">b</span><span class="s0">,</span><span class="s1">continuousAxisChannelDef</span><span class="s0">:</span><span class="s1">y</span><span class="s0">,</span><span class="s1">continuousAxis</span><span class="s0">:</span><span class="s1">v</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">x</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">w</span><span class="s0">,</span><span class="s1">encodingWithoutContinuousAxis</span><span class="s0">:</span><span class="s1">j</span><span class="s0">,</span><span class="s1">ticksOrient</span><span class="s0">:</span><span class="s1">F</span><span class="s0">,</span><span class="s1">boxOrient</span><span class="s0">:</span><span class="s1">$</span><span class="s0">,</span><span class="s1">customTooltipWithoutAggregatedField</span><span class="s0">:</span><span class="s1">D</span><span class="s0">}=</span><span class="s1">Rc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">color</span><span class="s0">:</span><span class="s1">A</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s1">k</span><span class="s0">}=</span><span class="s1">j</span><span class="s0">,</span><span class="s1">C</span><span class="s0">=</span><span class="s1">zc</span><span class="s0">(</span><span class="s1">j</span><span class="s0">,[</span><span class="s2">&quot;color&quot;</span><span class="s0">,</span><span class="s2">&quot;size&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">S</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Sc</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">v</span><span class="s0">,</span><span class="s1">y</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">boxplot</span><span class="s0">);</span><span class="s4">const </span><span class="s1">E</span><span class="s0">=</span><span class="s1">S</span><span class="s0">(</span><span class="s1">C</span><span class="s0">);</span><span class="s4">const </span><span class="s1">B</span><span class="s0">=</span><span class="s1">S</span><span class="s0">(</span><span class="s1">j</span><span class="s0">);</span><span class="s4">const </span><span class="s1">P</span><span class="s0">=</span><span class="s1">S</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">C</span><span class="s0">),</span><span class="s1">k</span><span class="s0">?{</span><span class="s1">size</span><span class="s0">:</span><span class="s1">k</span><span class="s0">}:{}));</span><span class="s4">const </span><span class="s1">_</span><span class="s0">=</span><span class="s1">kc</span><span class="s0">([{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s1">g</span><span class="s0">===</span><span class="s2">&quot;min-max&quot;</span><span class="s0">?</span><span class="s2">&quot;upper_whisker_&quot;</span><span class="s0">:</span><span class="s2">&quot;max_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s2">&quot;Max&quot;</span><span class="s0">},{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;upper_box_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s2">&quot;Q3&quot;</span><span class="s0">},{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;mid_box_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s2">&quot;Median&quot;</span><span class="s0">},{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;lower_box_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s2">&quot;Q1&quot;</span><span class="s0">},{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s1">g</span><span class="s0">===</span><span class="s2">&quot;min-max&quot;</span><span class="s0">?</span><span class="s2">&quot;lower_whisker_&quot;</span><span class="s0">:</span><span class="s2">&quot;min_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s2">&quot;Min&quot;</span><span class="s0">}],</span><span class="s1">y</span><span class="s0">,</span><span class="s1">j</span><span class="s0">);</span><span class="s4">const </span><span class="s1">N</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;tick&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;black&quot;</span><span class="s0">,</span><span class="s1">opacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">F</span><span class="s0">,</span><span class="s1">invalid</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">aria</span><span class="s0">:</span><span class="s4">false</span><span class="s0">};</span><span class="s4">const </span><span class="s1">T</span><span class="s0">=</span><span class="s1">g</span><span class="s0">===</span><span class="s2">&quot;min-max&quot;</span><span class="s0">?</span><span class="s1">_</span><span class="s0">:</span><span class="s1">kc</span><span class="s0">([{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;upper_whisker_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s2">&quot;Upper Whisker&quot;</span><span class="s0">},{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;lower_whisker_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s2">&quot;Lower Whisker&quot;</span><span class="s0">}],</span><span class="s1">y</span><span class="s0">,</span><span class="s1">j</span><span class="s0">);</span><span class="s4">const </span><span class="s1">M</span><span class="s0">=[</span><span class="s1">...E</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s1">invalid</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">aria</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;lower_whisker&quot;</span><span class="s0">,</span><span class="s1">endPositionPrefix</span><span class="s0">:</span><span class="s2">&quot;lower_box&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">T</span><span class="s0">}),</span><span class="s1">...E</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s1">invalid</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">aria</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;upper_box&quot;</span><span class="s0">,</span><span class="s1">endPositionPrefix</span><span class="s0">:</span><span class="s2">&quot;upper_whisker&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">T</span><span class="s0">}),</span><span class="s1">...E</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">N</span><span class="s0">,</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;lower_whisker&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">T</span><span class="s0">}),</span><span class="s1">...E</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">N</span><span class="s0">,</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;upper_whisker&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">T</span><span class="s0">})];</span><span class="s4">const </span><span class="s1">L</span><span class="s0">=[</span><span class="s1">...g</span><span class="s0">!==</span><span class="s2">&quot;tukey&quot;</span><span class="s0">?</span><span class="s1">M</span><span class="s0">:[],</span><span class="s1">...B</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;box&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;bar&quot;</span><span class="s0">},</span><span class="s1">d</span><span class="s0">?{</span><span class="s1">size</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}:{}),{</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">$</span><span class="s0">,</span><span class="s1">invalid</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">ariaRoleDescription</span><span class="s0">:</span><span class="s2">&quot;box&quot;</span><span class="s0">}),</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;lower_box&quot;</span><span class="s0">,</span><span class="s1">endPositionPrefix</span><span class="s0">:</span><span class="s2">&quot;upper_box&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">_</span><span class="s0">}),</span><span class="s1">...P</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;median&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;tick&quot;</span><span class="s0">,</span><span class="s1">invalid</span><span class="s0">:</span><span class="s1">p</span><span class="s0">},(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">boxplot</span><span class="s0">.</span><span class="s1">median</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">boxplot</span><span class="s0">.</span><span class="s1">median</span><span class="s0">.</span><span class="s1">color</span><span class="s0">?{</span><span class="s1">color</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">boxplot</span><span class="s0">.</span><span class="s1">median</span><span class="s0">.</span><span class="s1">color</span><span class="s0">}:{}),</span><span class="s1">d</span><span class="s0">?{</span><span class="s1">size</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}:{}),{</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">F</span><span class="s0">,</span><span class="s1">aria</span><span class="s0">:</span><span class="s4">false</span><span class="s0">}),</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;mid_box&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">_</span><span class="s0">})];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">g</span><span class="s0">===</span><span class="s2">&quot;min-max&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">c</span><span class="s0">),{</span><span class="s1">transform</span><span class="s0">:((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:[]).</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">b</span><span class="s0">),</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">L</span><span class="s0">})}</span><span class="s4">const </span><span class="s1">q</span><span class="s0">=</span><span class="s2">`datum[&quot;lower_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">U</span><span class="s0">=</span><span class="s2">`datum[&quot;upper_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">R</span><span class="s0">=</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">U</span><span class="s0">} </span><span class="s2">- </span><span class="s1">$</span><span class="s0">{</span><span class="s1">q</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">I</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">q</span><span class="s0">} </span><span class="s2">- </span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">} </span><span class="s2">* </span><span class="s1">$</span><span class="s0">{</span><span class="s1">R</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">W</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">U</span><span class="s0">} </span><span class="s2">+ </span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">} </span><span class="s2">* </span><span class="s1">$</span><span class="s0">{</span><span class="s1">R</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">H</span><span class="s0">=</span><span class="s2">`datum[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">G</span><span class="s0">={</span><span class="s1">joinaggregate</span><span class="s0">:</span><span class="s1">Uc</span><span class="s0">(</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">),</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">x</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Y</span><span class="s0">={</span><span class="s1">transform</span><span class="s0">:[{</span><span class="s1">filter</span><span class="s0">:</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">I</span><span class="s0">} </span><span class="s2">&lt;= </span><span class="s1">$</span><span class="s0">{</span><span class="s1">H</span><span class="s0">}</span><span class="s2">) &amp;&amp; (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">H</span><span class="s0">} </span><span class="s2">&lt;= </span><span class="s1">$</span><span class="s0">{</span><span class="s1">W</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">},{</span><span class="s1">aggregate</span><span class="s0">:[{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,as:</span><span class="s2">`lower_whisker_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;max&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,as:</span><span class="s2">`upper_whisker_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s2">`lower_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,as:</span><span class="s2">`lower_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;max&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s2">`upper_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,as:</span><span class="s2">`upper_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},</span><span class="s1">...w</span><span class="s0">],</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">x</span><span class="s0">}],</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">M</span><span class="s0">};</span><span class="s4">const</span><span class="s0">{</span><span class="s1">tooltip</span><span class="s0">:</span><span class="s1">K</span><span class="s0">}=</span><span class="s1">C</span><span class="s0">,</span><span class="s1">V</span><span class="s0">=</span><span class="s1">zc</span><span class="s0">(</span><span class="s1">C</span><span class="s0">,[</span><span class="s2">&quot;tooltip&quot;</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">Q</span><span class="s0">,</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">X</span><span class="s0">}=</span><span class="s1">y</span><span class="s0">;</span><span class="s4">const </span><span class="s1">J</span><span class="s0">=</span><span class="s1">Cc</span><span class="s0">(</span><span class="s1">y</span><span class="s0">);</span><span class="s4">const </span><span class="s1">Z</span><span class="s0">=</span><span class="s1">O</span><span class="s0">(</span><span class="s1">X</span><span class="s0">,[</span><span class="s2">&quot;title&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">ee</span><span class="s0">=</span><span class="s1">Ec</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s2">&quot;outliers&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">boxplot</span><span class="s0">,{</span><span class="s1">transform</span><span class="s0">:[{</span><span class="s1">filter</span><span class="s0">:</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">H</span><span class="s0">} </span><span class="s2">&lt; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">I</span><span class="s0">}</span><span class="s2">) || (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">H</span><span class="s0">} </span><span class="s2">&gt; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">W</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}],</span><span class="s1">mark</span><span class="s0">:</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({[</span><span class="s1">v</span><span class="s0">]:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">y</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">y</span><span class="s0">.</span><span class="s1">type</span><span class="s0">},</span><span class="s1">J</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">title</span><span class="s0">:</span><span class="s1">J</span><span class="s0">}:{}),</span><span class="s1">Q</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">Q</span><span class="s0">}:{}),</span><span class="s1">z</span><span class="s0">(</span><span class="s1">Z</span><span class="s0">)?{}:{</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">Z</span><span class="s0">})},</span><span class="s1">V</span><span class="s0">),</span><span class="s1">A</span><span class="s0">?{</span><span class="s1">color</span><span class="s0">:</span><span class="s1">A</span><span class="s0">}:{}),</span><span class="s1">D</span><span class="s0">?{</span><span class="s1">tooltip</span><span class="s0">:</span><span class="s1">D</span><span class="s0">}:{})})[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">let </span><span class="s1">ne</span><span class="s0">;</span><span class="s4">const </span><span class="s1">te</span><span class="s0">=[</span><span class="s1">...m</span><span class="s0">,</span><span class="s1">...h</span><span class="s0">,</span><span class="s1">G</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ee</span><span class="s0">){</span><span class="s1">ne</span><span class="s0">={</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">te</span><span class="s0">,</span><span class="s1">layer</span><span class="s0">:[</span><span class="s1">ee</span><span class="s0">,</span><span class="s1">Y</span><span class="s0">]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">ne</span><span class="s0">=</span><span class="s1">Y</span><span class="s0">;</span><span class="s1">ne</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">unshift</span><span class="s0">(</span><span class="s1">...te</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">c</span><span class="s0">),{</span><span class="s1">layer</span><span class="s0">:[</span><span class="s1">ne</span><span class="s0">,{</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">b</span><span class="s0">,</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">L</span><span class="s0">}]})}</span><span class="s4">function </span><span class="s1">Uc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;q1&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,as:</span><span class="s2">`lower_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;q3&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,as:</span><span class="s2">`upper_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}]}</span><span class="s4">function </span><span class="s1">Rc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">_c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Nc</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">continuousAxisChannelDef</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">continuousAxis</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">Bc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">Nc</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">field</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Lc</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=[</span><span class="s1">...Uc</span><span class="s0">(</span><span class="s1">o</span><span class="s0">),{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;median&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,as:</span><span class="s2">`mid_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,as:(</span><span class="s1">a</span><span class="s0">===</span><span class="s2">&quot;min-max&quot;</span><span class="s0">?</span><span class="s2">&quot;lower_whisker_&quot;</span><span class="s0">:</span><span class="s2">&quot;min_&quot;</span><span class="s0">)+</span><span class="s1">o</span><span class="s0">},{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;max&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,as:(</span><span class="s1">a</span><span class="s0">===</span><span class="s2">&quot;min-max&quot;</span><span class="s0">?</span><span class="s2">&quot;upper_whisker_&quot;</span><span class="s0">:</span><span class="s2">&quot;max_&quot;</span><span class="s0">)+</span><span class="s1">o</span><span class="s0">}];</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">a</span><span class="s0">===</span><span class="s2">&quot;min-max&quot;</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s2">&quot;tukey&quot;</span><span class="s0">?[]:[{</span><span class="s1">calculate</span><span class="s0">:</span><span class="s2">`datum[&quot;upper_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">&quot;] - datum[&quot;lower_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">,as:</span><span class="s2">`iqr_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">calculate</span><span class="s0">:</span><span class="s2">`min(datum[&quot;upper_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">&quot;] + datum[&quot;iqr_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">&quot;] * </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">, datum[&quot;max_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">&quot;])`</span><span class="s0">,as:</span><span class="s2">`upper_whisker_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">calculate</span><span class="s0">:</span><span class="s2">`max(datum[&quot;lower_box_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">&quot;] - datum[&quot;iqr_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">&quot;] * </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">, datum[&quot;min_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">&quot;])`</span><span class="s0">,as:</span><span class="s2">`lower_whisker_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}];</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">,</span><span class="s1">f</span><span class="s0">=</span><span class="s1">s</span><span class="s0">,</span><span class="s1">d</span><span class="s0">=</span><span class="s1">l</span><span class="s0">[</span><span class="s1">f</span><span class="s0">],</span><span class="s1">p</span><span class="s0">=</span><span class="s1">zc</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,[</span><span class="s4">typeof </span><span class="s1">f</span><span class="s0">===</span><span class="s2">&quot;symbol&quot;</span><span class="s0">?</span><span class="s1">f</span><span class="s0">:</span><span class="s1">f</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">customTooltipWithoutAggregatedField</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">filteredEncoding</span><span class="s0">:</span><span class="s1">m</span><span class="s0">}=</span><span class="s1">Ac</span><span class="s0">(</span><span class="s1">p</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bins</span><span class="s0">:</span><span class="s1">h</span><span class="s0">,</span><span class="s1">timeUnits</span><span class="s0">:</span><span class="s1">b</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">y</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">v</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">O</span><span class="s0">}=</span><span class="s1">yc</span><span class="s0">(</span><span class="s1">m</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">x</span><span class="s0">=</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;vertical&quot;</span><span class="s0">?</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">:</span><span class="s2">&quot;vertical&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">w</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">j</span><span class="s0">=[</span><span class="s1">...h</span><span class="s0">,</span><span class="s1">...b</span><span class="s0">,{</span><span class="s1">aggregate</span><span class="s0">:[</span><span class="s1">...y</span><span class="s0">,</span><span class="s1">...u</span><span class="s0">],</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">v</span><span class="s0">},</span><span class="s1">...c</span><span class="s0">];</span><span class="s4">return</span><span class="s0">{</span><span class="s1">bins</span><span class="s0">:</span><span class="s1">h</span><span class="s0">,</span><span class="s1">timeUnits</span><span class="s0">:</span><span class="s1">b</span><span class="s0">,</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">j</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">v</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">y</span><span class="s0">,</span><span class="s1">continuousAxisChannelDef</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">continuousAxis</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">encodingWithoutContinuousAxis</span><span class="s0">:</span><span class="s1">O</span><span class="s0">,</span><span class="s1">ticksOrient</span><span class="s0">:</span><span class="s1">x</span><span class="s0">,</span><span class="s1">boxOrient</span><span class="s0">:</span><span class="s1">w</span><span class="s0">,</span><span class="s1">customTooltipWithoutAggregatedField</span><span class="s0">:</span><span class="s1">g</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">Ic</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Wc</span><span class="s0">=</span><span class="s2">&quot;errorbar&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Hc</span><span class="s0">=[</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s2">&quot;rule&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">Gc</span><span class="s0">=</span><span class="s4">new </span><span class="s1">dc</span><span class="s0">(</span><span class="s1">Wc</span><span class="s0">,</span><span class="s1">Yc</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Yc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">xc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)});</span><span class="s4">const</span><span class="s0">{</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">continuousAxisChannelDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">continuousAxis</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">encodingWithoutContinuousAxis</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">ticksOrient</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">outerSpec</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">tooltipEncoding</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}=</span><span class="s1">Jc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Wc</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">delete </span><span class="s1">s</span><span class="s0">[</span><span class="s2">&quot;size&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">Sc</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">errorbar</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">thickness</span><span class="s0">;</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">size</span><span class="s0">;</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;tick&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">aria</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},</span><span class="s1">f</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">thickness</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}:{}),</span><span class="s1">d</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">size</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}:{});</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=[</span><span class="s1">...l</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;lower&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}),</span><span class="s1">...l</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;ticks&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;upper&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}),</span><span class="s1">...l</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s1">ariaRoleDescription</span><span class="s0">:</span><span class="s2">&quot;errorbar&quot;</span><span class="s0">},</span><span class="s1">f</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">size</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}:{}),</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;lower&quot;</span><span class="s0">,</span><span class="s1">endPositionPrefix</span><span class="s0">:</span><span class="s2">&quot;upper&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">c</span><span class="s0">})];</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">u</span><span class="s0">),{</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}),</span><span class="s1">g</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">?{</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">g</span><span class="s0">}:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">g</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]))}</span><span class="s4">function </span><span class="s1">Kc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Vc</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">_c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">),</span><span class="s1">inputType</span><span class="s0">:</span><span class="s2">&quot;raw&quot;</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Qc</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Xc</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">x</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">y</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">cannot be both type aggregated-upper-lower and aggregated-error`</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">x2</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">y2</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">cannot have both x2 and y2`</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">gu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">,</span><span class="s1">inputType</span><span class="s0">:</span><span class="s2">&quot;aggregated-upper-lower&quot;</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Both x and x2 have to be quantitative in </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">gu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;vertical&quot;</span><span class="s0">,</span><span class="s1">inputType</span><span class="s0">:</span><span class="s2">&quot;aggregated-upper-lower&quot;</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Both y and y2 have to be quantitative in </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;No ranged axis&quot;</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">xError</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">xError2</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">yError</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">yError2</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;!</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">cannot have xError2 without xError`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&amp;&amp;!</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">cannot have yError2 without yError`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">cannot have both xError and yError with both are quantiative`</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">gu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">,</span><span class="s1">inputType</span><span class="s0">:</span><span class="s2">&quot;aggregated-error&quot;</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;All x, xError, and xError2 (if exist) have to be quantitative&quot;</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">gu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;vertical&quot;</span><span class="s0">,</span><span class="s1">inputType</span><span class="s0">:</span><span class="s2">&quot;aggregated-error&quot;</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;All y, yError, and yError2 (if exist) have to be quantitative&quot;</span><span class="s0">)}}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;No ranged axis&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Vc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">x</span><span class="s0">)||</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">y</span><span class="s0">))&amp;&amp;!</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">x2</span><span class="s0">)&amp;&amp;!</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">y2</span><span class="s0">)&amp;&amp;!</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">xError</span><span class="s0">)&amp;&amp;!</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">xError2</span><span class="s0">)&amp;&amp;!</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">yError</span><span class="s0">)&amp;&amp;!</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">yError2</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Qc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">x2</span><span class="s0">)||</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">y2</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Xc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">xError</span><span class="s0">)||</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">xError2</span><span class="s0">)||</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">yError</span><span class="s0">)||</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">yError2</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Jc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">params</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s1">Ic</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;mark&quot;</span><span class="s0">,</span><span class="s2">&quot;encoding&quot;</span><span class="s0">,</span><span class="s2">&quot;params&quot;</span><span class="s0">,</span><span class="s2">&quot;projection&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">ia</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)?</span><span class="s1">r</span><span class="s0">:{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">r</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Oi</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">inputType</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}=</span><span class="s1">Kc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">continuousAxisChannelDef</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">continuousAxisChannelDef2</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">continuousAxisChannelDefError</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">continuousAxisChannelDefError2</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">continuousAxis</span><span class="s0">:</span><span class="s1">h</span><span class="s0">}=</span><span class="s1">Bc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">l</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">errorBarSpecificAggregate</span><span class="s0">:</span><span class="s1">b</span><span class="s0">,</span><span class="s1">postAggregateCalculates</span><span class="s0">:</span><span class="s1">y</span><span class="s0">,</span><span class="s1">tooltipSummary</span><span class="s0">:</span><span class="s1">v</span><span class="s0">,</span><span class="s1">tooltipTitleWithFieldName</span><span class="s0">:</span><span class="s1">O</span><span class="s0">}=</span><span class="s1">Zc</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">d</span><span class="s0">,</span><span class="s1">p</span><span class="s0">,</span><span class="s1">g</span><span class="s0">,</span><span class="s1">m</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">x</span><span class="s0">=</span><span class="s1">s</span><span class="s0">,</span><span class="s1">w</span><span class="s0">=</span><span class="s1">h</span><span class="s0">,</span><span class="s1">j</span><span class="s0">=</span><span class="s1">x</span><span class="s0">[</span><span class="s1">w</span><span class="s0">],</span><span class="s1">F</span><span class="s0">=</span><span class="s1">h</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;x2&quot;</span><span class="s0">:</span><span class="s2">&quot;y2&quot;</span><span class="s0">,</span><span class="s1">$</span><span class="s0">=</span><span class="s1">x</span><span class="s0">[</span><span class="s1">F</span><span class="s0">],</span><span class="s1">D</span><span class="s0">=</span><span class="s1">h</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;xError&quot;</span><span class="s0">:</span><span class="s2">&quot;yError&quot;</span><span class="s0">,</span><span class="s1">A</span><span class="s0">=</span><span class="s1">x</span><span class="s0">[</span><span class="s1">D</span><span class="s0">],</span><span class="s1">k</span><span class="s0">=</span><span class="s1">h</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;xError2&quot;</span><span class="s0">:</span><span class="s2">&quot;yError2&quot;</span><span class="s0">,</span><span class="s1">C</span><span class="s0">=</span><span class="s1">x</span><span class="s0">[</span><span class="s1">k</span><span class="s0">],</span><span class="s1">S</span><span class="s0">=</span><span class="s1">Ic</span><span class="s0">(</span><span class="s1">x</span><span class="s0">,[</span><span class="s4">typeof </span><span class="s1">w</span><span class="s0">===</span><span class="s2">&quot;symbol&quot;</span><span class="s0">?</span><span class="s1">w</span><span class="s0">:</span><span class="s1">w</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s4">typeof </span><span class="s1">F</span><span class="s0">===</span><span class="s2">&quot;symbol&quot;</span><span class="s0">?</span><span class="s1">F</span><span class="s0">:</span><span class="s1">F</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s4">typeof </span><span class="s1">D</span><span class="s0">===</span><span class="s2">&quot;symbol&quot;</span><span class="s0">?</span><span class="s1">D</span><span class="s0">:</span><span class="s1">D</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s4">typeof </span><span class="s1">k</span><span class="s0">===</span><span class="s2">&quot;symbol&quot;</span><span class="s0">?</span><span class="s1">k</span><span class="s0">:</span><span class="s1">k</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bins</span><span class="s0">:</span><span class="s1">E</span><span class="s0">,</span><span class="s1">timeUnits</span><span class="s0">:</span><span class="s1">B</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">P</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">_</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">z</span><span class="s0">}=</span><span class="s1">yc</span><span class="s0">(</span><span class="s1">S</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">N</span><span class="s0">=[</span><span class="s1">...P</span><span class="s0">,</span><span class="s1">...b</span><span class="s0">];</span><span class="s4">const </span><span class="s1">T</span><span class="s0">=</span><span class="s1">f</span><span class="s0">!==</span><span class="s2">&quot;raw&quot;</span><span class="s0">?[]:</span><span class="s1">_</span><span class="s0">;</span><span class="s4">const </span><span class="s1">M</span><span class="s0">=</span><span class="s1">kc</span><span class="s0">(</span><span class="s1">v</span><span class="s0">,</span><span class="s1">d</span><span class="s0">,</span><span class="s1">z</span><span class="s0">,</span><span class="s1">O</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">transform</span><span class="s0">:[</span><span class="s1">...</span><span class="s0">(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:[],</span><span class="s1">...E</span><span class="s0">,</span><span class="s1">...B</span><span class="s0">,</span><span class="s1">...N</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?[]:[{</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">N</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">T</span><span class="s0">}],</span><span class="s1">...y</span><span class="s0">],</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">T</span><span class="s0">,</span><span class="s1">continuousAxisChannelDef</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">continuousAxis</span><span class="s0">:</span><span class="s1">h</span><span class="s0">,</span><span class="s1">encodingWithoutContinuousAxis</span><span class="s0">:</span><span class="s1">z</span><span class="s0">,</span><span class="s1">ticksOrient</span><span class="s0">:</span><span class="s1">l</span><span class="s0">===</span><span class="s2">&quot;vertical&quot;</span><span class="s0">?</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">:</span><span class="s2">&quot;vertical&quot;</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">outerSpec</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">tooltipEncoding</span><span class="s0">:</span><span class="s1">M</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Zc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">){</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">c</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">;</span><span class="s4">let </span><span class="s1">f</span><span class="s0">;</span><span class="s4">let </span><span class="s1">d</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;raw&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">center</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">center</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">===</span><span class="s2">&quot;iqr&quot;</span><span class="s0">?</span><span class="s2">&quot;median&quot;</span><span class="s0">:</span><span class="s2">&quot;mean&quot;</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">errorbar</span><span class="s0">.</span><span class="s1">center</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">:</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;mean&quot;</span><span class="s0">?</span><span class="s2">&quot;stderr&quot;</span><span class="s0">:</span><span class="s2">&quot;iqr&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;median&quot;</span><span class="s0">!==(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;iqr&quot;</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Pr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">o</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;stderr&quot;</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;stdev&quot;</span><span class="s0">){</span><span class="s1">u</span><span class="s0">=[{</span><span class="s1">op</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,as:</span><span class="s2">`extent_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">op</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,as:</span><span class="s2">`center_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}];</span><span class="s1">c</span><span class="s0">=[{</span><span class="s1">calculate</span><span class="s0">:</span><span class="s2">`datum[&quot;center_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">&quot;] + datum[&quot;extent_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">,as:</span><span class="s2">`upper_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">calculate</span><span class="s0">:</span><span class="s2">`datum[&quot;center_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">&quot;] - datum[&quot;extent_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">,as:</span><span class="s2">`lower_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}];</span><span class="s1">f</span><span class="s0">=[{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;center_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s1">I</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)},{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;upper_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s1">el</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;+&quot;</span><span class="s0">)},{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;lower_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s1">el</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;-&quot;</span><span class="s0">)}];</span><span class="s1">d</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">let </span><span class="s1">e</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;ci&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;mean&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;ci0&quot;</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;ci1&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;median&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;q1&quot;</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;q3&quot;</span><span class="s0">}</span><span class="s1">u</span><span class="s0">=[{</span><span class="s1">op</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,as:</span><span class="s2">`lower_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">op</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,as:</span><span class="s2">`upper_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">op</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,as:</span><span class="s2">`center_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}];</span><span class="s1">f</span><span class="s0">=[{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;upper_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s1">Nu</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">},</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">allowDisabling</span><span class="s0">:</span><span class="s4">false</span><span class="s0">})},{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;lower_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s1">Nu</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">},</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">allowDisabling</span><span class="s0">:</span><span class="s4">false</span><span class="s0">})},{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;center_&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s1">Nu</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">},</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">allowDisabling</span><span class="s0">:</span><span class="s4">false</span><span class="s0">})}]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">center</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Br</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">center</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;aggregated-upper-lower&quot;</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=[];</span><span class="s1">c</span><span class="s0">=[{</span><span class="s1">calculate</span><span class="s0">:</span><span class="s2">`datum[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">,as:</span><span class="s2">`upper_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},{</span><span class="s1">calculate</span><span class="s0">:</span><span class="s2">`datum[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">,as:</span><span class="s2">`lower_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;aggregated-error&quot;</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=[{</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}];</span><span class="s1">c</span><span class="s0">=[{</span><span class="s1">calculate</span><span class="s0">:</span><span class="s2">`datum[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">&quot;] + datum[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">,as:</span><span class="s2">`upper_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">c</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">calculate</span><span class="s0">:</span><span class="s2">`datum[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">&quot;] + datum[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">,as:</span><span class="s2">`lower_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">c</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">calculate</span><span class="s0">:</span><span class="s2">`datum[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">&quot;] - datum[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">,as:</span><span class="s2">`lower_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">})}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of c</span><span class="s0">){</span><span class="s1">f</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">fieldPrefix</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">6</span><span class="s0">),</span><span class="s1">titlePrefix</span><span class="s0">:</span><span class="s1">K</span><span class="s0">(</span><span class="s1">K</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">calculate</span><span class="s0">,</span><span class="s2">'datum[&quot;'</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">),</span><span class="s2">'&quot;]'</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">)})}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">postAggregateCalculates</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">errorBarSpecificAggregate</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">tooltipSummary</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">tooltipTitleWithFieldName</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">el</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">I</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">nl</span><span class="s0">=</span><span class="s2">&quot;errorband&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">tl</span><span class="s0">=[</span><span class="s2">&quot;band&quot;</span><span class="s0">,</span><span class="s2">&quot;borders&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">il</span><span class="s0">=</span><span class="s4">new </span><span class="s1">dc</span><span class="s0">(</span><span class="s1">nl</span><span class="s0">,</span><span class="s1">rl</span><span class="s0">);</span><span class="s4">function </span><span class="s1">rl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">xc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)});</span><span class="s4">const</span><span class="s0">{</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">continuousAxisChannelDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">continuousAxis</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">encodingWithoutContinuousAxis</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">outerSpec</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">tooltipEncoding</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">Jc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">nl</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">Sc</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">errorband</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">x</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">y</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">let </span><span class="s1">d</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s1">f</span><span class="s0">?</span><span class="s2">&quot;area&quot;</span><span class="s0">:</span><span class="s2">&quot;rect&quot;</span><span class="s0">};</span><span class="s4">let </span><span class="s1">p</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s1">f</span><span class="s0">?</span><span class="s2">&quot;line&quot;</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">};</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">c</span><span class="s0">.</span><span class="s1">interpolate</span><span class="s0">?{</span><span class="s1">interpolate</span><span class="s0">:</span><span class="s1">c</span><span class="s0">.</span><span class="s1">interpolate</span><span class="s0">}:{}),</span><span class="s1">c</span><span class="s0">.</span><span class="s1">tension</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">interpolate</span><span class="s0">?{</span><span class="s1">tension</span><span class="s0">:</span><span class="s1">c</span><span class="s0">.</span><span class="s1">tension</span><span class="s0">}:{});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">){</span><span class="s1">d</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">d</span><span class="s0">),</span><span class="s1">g</span><span class="s0">),{</span><span class="s1">ariaRoleDescription</span><span class="s0">:</span><span class="s2">&quot;errorband&quot;</span><span class="s0">});</span><span class="s1">p</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">p</span><span class="s0">),</span><span class="s1">g</span><span class="s0">),{</span><span class="s1">aria</span><span class="s0">:</span><span class="s4">false</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">interpolate</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">zr</span><span class="s0">(</span><span class="s2">&quot;interpolate&quot;</span><span class="s0">))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">tension</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">zr</span><span class="s0">(</span><span class="s2">&quot;tension&quot;</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">a</span><span class="s0">),{</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">layer</span><span class="s0">:[</span><span class="s1">...l</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;band&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;lower&quot;</span><span class="s0">,</span><span class="s1">endPositionPrefix</span><span class="s0">:</span><span class="s2">&quot;upper&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}),</span><span class="s1">...l</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;borders&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;lower&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}),</span><span class="s1">...l</span><span class="s0">({</span><span class="s1">partName</span><span class="s0">:</span><span class="s2">&quot;borders&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">positionPrefix</span><span class="s0">:</span><span class="s2">&quot;upper&quot;</span><span class="s0">,</span><span class="s1">extraEncoding</span><span class="s0">:</span><span class="s1">u</span><span class="s0">})]})}</span><span class="s4">const </span><span class="s1">sl</span><span class="s0">={};</span><span class="s4">function </span><span class="s1">ol</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">dc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s1">sl</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]={</span><span class="s1">normalizer</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">parts</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">al</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">sl</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">ul</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">N</span><span class="s0">(</span><span class="s1">sl</span><span class="s0">)}</span><span class="s1">ol</span><span class="s0">(</span><span class="s1">Nc</span><span class="s0">,</span><span class="s1">qc</span><span class="s0">,</span><span class="s1">Tc</span><span class="s0">);</span><span class="s1">ol</span><span class="s0">(</span><span class="s1">Wc</span><span class="s0">,</span><span class="s1">Yc</span><span class="s0">,</span><span class="s1">Hc</span><span class="s0">);</span><span class="s1">ol</span><span class="s0">(</span><span class="s1">nl</span><span class="s0">,</span><span class="s1">rl</span><span class="s0">,</span><span class="s1">tl</span><span class="s0">);</span><span class="s4">const </span><span class="s1">cl</span><span class="s0">=[</span><span class="s2">&quot;gradientHorizontalMaxLength&quot;</span><span class="s0">,</span><span class="s2">&quot;gradientHorizontalMinLength&quot;</span><span class="s0">,</span><span class="s2">&quot;gradientVerticalMaxLength&quot;</span><span class="s0">,</span><span class="s2">&quot;gradientVerticalMinLength&quot;</span><span class="s0">,</span><span class="s2">&quot;unselectedOpacity&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">ll</span><span class="s0">={</span><span class="s1">titleAlign</span><span class="s0">:</span><span class="s2">&quot;align&quot;</span><span class="s0">,</span><span class="s1">titleAnchor</span><span class="s0">:</span><span class="s2">&quot;anchor&quot;</span><span class="s0">,</span><span class="s1">titleAngle</span><span class="s0">:</span><span class="s2">&quot;angle&quot;</span><span class="s0">,</span><span class="s1">titleBaseline</span><span class="s0">:</span><span class="s2">&quot;baseline&quot;</span><span class="s0">,</span><span class="s1">titleColor</span><span class="s0">:</span><span class="s2">&quot;color&quot;</span><span class="s0">,</span><span class="s1">titleFont</span><span class="s0">:</span><span class="s2">&quot;font&quot;</span><span class="s0">,</span><span class="s1">titleFontSize</span><span class="s0">:</span><span class="s2">&quot;fontSize&quot;</span><span class="s0">,</span><span class="s1">titleFontStyle</span><span class="s0">:</span><span class="s2">&quot;fontStyle&quot;</span><span class="s0">,</span><span class="s1">titleFontWeight</span><span class="s0">:</span><span class="s2">&quot;fontWeight&quot;</span><span class="s0">,</span><span class="s1">titleLimit</span><span class="s0">:</span><span class="s2">&quot;limit&quot;</span><span class="s0">,</span><span class="s1">titleLineHeight</span><span class="s0">:</span><span class="s2">&quot;lineHeight&quot;</span><span class="s0">,</span><span class="s1">titleOrient</span><span class="s0">:</span><span class="s2">&quot;orient&quot;</span><span class="s0">,</span><span class="s1">titlePadding</span><span class="s0">:</span><span class="s2">&quot;offset&quot;</span><span class="s0">};</span><span class="s4">const </span><span class="s1">fl</span><span class="s0">={</span><span class="s1">labelAlign</span><span class="s0">:</span><span class="s2">&quot;align&quot;</span><span class="s0">,</span><span class="s1">labelAnchor</span><span class="s0">:</span><span class="s2">&quot;anchor&quot;</span><span class="s0">,</span><span class="s1">labelAngle</span><span class="s0">:</span><span class="s2">&quot;angle&quot;</span><span class="s0">,</span><span class="s1">labelBaseline</span><span class="s0">:</span><span class="s2">&quot;baseline&quot;</span><span class="s0">,</span><span class="s1">labelColor</span><span class="s0">:</span><span class="s2">&quot;color&quot;</span><span class="s0">,</span><span class="s1">labelFont</span><span class="s0">:</span><span class="s2">&quot;font&quot;</span><span class="s0">,</span><span class="s1">labelFontSize</span><span class="s0">:</span><span class="s2">&quot;fontSize&quot;</span><span class="s0">,</span><span class="s1">labelFontStyle</span><span class="s0">:</span><span class="s2">&quot;fontStyle&quot;</span><span class="s0">,</span><span class="s1">labelFontWeight</span><span class="s0">:</span><span class="s2">&quot;fontWeight&quot;</span><span class="s0">,</span><span class="s1">labelLimit</span><span class="s0">:</span><span class="s2">&quot;limit&quot;</span><span class="s0">,</span><span class="s1">labelLineHeight</span><span class="s0">:</span><span class="s2">&quot;lineHeight&quot;</span><span class="s0">,</span><span class="s1">labelOrient</span><span class="s0">:</span><span class="s2">&quot;orient&quot;</span><span class="s0">,</span><span class="s1">labelPadding</span><span class="s0">:</span><span class="s2">&quot;offset&quot;</span><span class="s0">};</span><span class="s4">const </span><span class="s1">dl</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">ll</span><span class="s0">);</span><span class="s4">const </span><span class="s1">pl</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">fl</span><span class="s0">);</span><span class="s4">const </span><span class="s1">gl</span><span class="s0">={</span><span class="s1">header</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">headerRow</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">headerColumn</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">headerFacet</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">ml</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">gl</span><span class="s0">);</span><span class="s4">const </span><span class="s1">hl</span><span class="s0">=[</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s2">&quot;shape&quot;</span><span class="s0">,</span><span class="s2">&quot;fill&quot;</span><span class="s0">,</span><span class="s2">&quot;stroke&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeDash&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeWidth&quot;</span><span class="s0">,</span><span class="s2">&quot;opacity&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">bl</span><span class="s0">={</span><span class="s1">gradientHorizontalMaxLength</span><span class="s0">:</span><span class="s3">200</span><span class="s0">,</span><span class="s1">gradientHorizontalMinLength</span><span class="s0">:</span><span class="s3">100</span><span class="s0">,</span><span class="s1">gradientVerticalMaxLength</span><span class="s0">:</span><span class="s3">200</span><span class="s0">,</span><span class="s1">gradientVerticalMinLength</span><span class="s0">:</span><span class="s3">64</span><span class="s0">,</span><span class="s1">unselectedOpacity</span><span class="s0">:</span><span class="s3">.35</span><span class="s0">};</span><span class="s4">const </span><span class="s1">yl</span><span class="s0">={</span><span class="s1">aria</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">clipHeight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">columnPadding</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">columns</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">cornerRadius</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">description</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">direction</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fillColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gradientLength</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gradientOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gradientStrokeColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gradientStrokeWidth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gradientThickness</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gridAlign</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelAlign</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelBaseline</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelFont</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelFontSize</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelFontStyle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelFontWeight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelLimit</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelOverlap</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelPadding</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelSeparation</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">legendX</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">legendY</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">padding</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">rowPadding</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbolDash</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbolDashOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbolFillColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbolLimit</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbolOffset</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbolOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbolSize</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbolStrokeColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbolStrokeWidth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">symbolType</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickCount</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">tickMinStep</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">title</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleAlign</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleAnchor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleBaseline</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleColor</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleFont</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleFontSize</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleFontStyle</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleFontWeight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleLimit</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleLineHeight</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleOpacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titleOrient</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">titlePadding</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">values</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">zindex</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">vl</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">yl</span><span class="s0">);</span><span class="s4">const </span><span class="s1">Ol</span><span class="s0">=</span><span class="s2">&quot;_vgsid_&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">xl</span><span class="s0">={</span><span class="s1">point</span><span class="s0">:{</span><span class="s1">on</span><span class="s0">:</span><span class="s2">&quot;click&quot;</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:[</span><span class="s1">Ol</span><span class="s0">],</span><span class="s1">toggle</span><span class="s0">:</span><span class="s2">&quot;event.shiftKey&quot;</span><span class="s0">,</span><span class="s1">resolve</span><span class="s0">:</span><span class="s2">&quot;global&quot;</span><span class="s0">,</span><span class="s1">clear</span><span class="s0">:</span><span class="s2">&quot;dblclick&quot;</span><span class="s0">},</span><span class="s1">interval</span><span class="s0">:{</span><span class="s1">on</span><span class="s0">:</span><span class="s2">&quot;[mousedown, window:mouseup] &gt; window:mousemove!&quot;</span><span class="s0">,</span><span class="s1">encodings</span><span class="s0">:[</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s2">&quot;y&quot;</span><span class="s0">],</span><span class="s1">translate</span><span class="s0">:</span><span class="s2">&quot;[mousedown, window:mouseup] &gt; window:mousemove!&quot;</span><span class="s0">,</span><span class="s1">zoom</span><span class="s0">:</span><span class="s2">&quot;wheel!&quot;</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:{</span><span class="s1">fill</span><span class="s0">:</span><span class="s2">&quot;#333&quot;</span><span class="s0">,</span><span class="s1">fillOpacity</span><span class="s0">:</span><span class="s3">.125</span><span class="s0">,</span><span class="s1">stroke</span><span class="s0">:</span><span class="s2">&quot;white&quot;</span><span class="s0">},</span><span class="s1">resolve</span><span class="s0">:</span><span class="s2">&quot;global&quot;</span><span class="s0">,</span><span class="s1">clear</span><span class="s0">:</span><span class="s2">&quot;dblclick&quot;</span><span class="s0">}};</span><span class="s4">function </span><span class="s1">wl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;legend&quot;</span><span class="s0">||!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">jl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">wl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Fl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;select&quot;</span><span class="s0">])}</span><span class="s4">var </span><span class="s1">$l</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Dl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">||[]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Fl</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))</span><span class="s4">continue</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">bind</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">$l</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,[</span><span class="s2">&quot;expr&quot;</span><span class="s0">,</span><span class="s2">&quot;bind&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">r</span><span class="s0">),{</span><span class="s1">bind</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">init</span><span class="s0">:</span><span class="s1">e</span><span class="s0">});</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">r</span><span class="s0">),</span><span class="s1">e</span><span class="s0">?{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}:{}),</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">bind</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}:{});</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Al</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Cl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Sl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">kl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">kl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;concat&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Cl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;vconcat&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Sl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;hconcat&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">El</span><span class="s0">({</span><span class="s1">step</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">offsetIsDiscrete</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">for</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s2">&quot;offset&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">&quot;position&quot;</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;step&quot;</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Pl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;view&quot;</span><span class="s0">]||</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;width&quot;</span><span class="s0">]||</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;height&quot;</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">_l</span><span class="s0">=</span><span class="s3">20</span><span class="s0">;</span><span class="s4">const </span><span class="s1">zl</span><span class="s0">={</span><span class="s1">align</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">bounds</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">center</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">columns</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">spacing</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Nl</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">zl</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Tl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">a</span><span class="s0">={};</span><span class="s4">const</span><span class="s0">{</span><span class="s1">spacing</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">columns</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">spacing</span><span class="s0">=</span><span class="s1">u</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ja</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">Qa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">)||</span><span class="s1">kl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">columns</span><span class="s0">=</span><span class="s1">c</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Cl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">columns</span><span class="s0">=</span><span class="s3">1</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">l of Nl</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">===</span><span class="s2">&quot;spacing&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">l</span><span class="s0">];</span><span class="s1">a</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">:{</span><span class="s1">row</span><span class="s0">:(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">row</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">column</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">a</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]}}}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Ml</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Ll</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;width&quot;</span><span class="s0">?</span><span class="s2">&quot;continuousWidth&quot;</span><span class="s0">:</span><span class="s2">&quot;continuousHeight&quot;</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">ql</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ul</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">step</span><span class="s0">:</span><span class="s1">Rl</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ul</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;width&quot;</span><span class="s0">?</span><span class="s2">&quot;discreteWidth&quot;</span><span class="s0">:</span><span class="s2">&quot;discreteHeight&quot;</span><span class="s0">];</span><span class="s4">return </span><span class="s1">X</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,{</span><span class="s1">step</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">})}</span><span class="s4">const </span><span class="s1">Rl</span><span class="s0">=</span><span class="s3">20</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Il</span><span class="s0">={</span><span class="s1">continuousWidth</span><span class="s0">:</span><span class="s3">200</span><span class="s0">,</span><span class="s1">continuousHeight</span><span class="s0">:</span><span class="s3">200</span><span class="s0">,</span><span class="s1">step</span><span class="s0">:</span><span class="s1">Rl</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Wl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;!!</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;scheme&quot;</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">Hl</span><span class="s0">={</span><span class="s1">background</span><span class="s0">:</span><span class="s2">&quot;white&quot;</span><span class="s0">,</span><span class="s1">padding</span><span class="s0">:</span><span class="s3">5</span><span class="s0">,</span><span class="s1">timeFormat</span><span class="s0">:</span><span class="s2">&quot;%b %d, %Y&quot;</span><span class="s0">,</span><span class="s1">countTitle</span><span class="s0">:</span><span class="s2">&quot;Count of Records&quot;</span><span class="s0">,</span><span class="s1">view</span><span class="s0">:</span><span class="s1">Il</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">fa</span><span class="s0">,</span><span class="s1">arc</span><span class="s0">:{},</span><span class="s1">area</span><span class="s0">:{},</span><span class="s1">bar</span><span class="s0">:</span><span class="s1">ba</span><span class="s0">,</span><span class="s1">circle</span><span class="s0">:{},</span><span class="s1">geoshape</span><span class="s0">:{},</span><span class="s1">image</span><span class="s0">:{},</span><span class="s1">line</span><span class="s0">:{},</span><span class="s1">point</span><span class="s0">:{},</span><span class="s1">rect</span><span class="s0">:</span><span class="s1">ya</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:{</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;black&quot;</span><span class="s0">},</span><span class="s1">square</span><span class="s0">:{},</span><span class="s1">text</span><span class="s0">:{</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;black&quot;</span><span class="s0">},</span><span class="s1">tick</span><span class="s0">:</span><span class="s1">va</span><span class="s0">,</span><span class="s1">trail</span><span class="s0">:{},</span><span class="s1">boxplot</span><span class="s0">:{</span><span class="s1">size</span><span class="s0">:</span><span class="s3">14</span><span class="s0">,</span><span class="s1">extent</span><span class="s0">:</span><span class="s3">1.5</span><span class="s0">,</span><span class="s1">box</span><span class="s0">:{},</span><span class="s1">median</span><span class="s0">:{</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;white&quot;</span><span class="s0">},</span><span class="s1">outliers</span><span class="s0">:{},</span><span class="s1">rule</span><span class="s0">:{},</span><span class="s1">ticks</span><span class="s0">:</span><span class="s4">null</span><span class="s0">},</span><span class="s1">errorbar</span><span class="s0">:{</span><span class="s1">center</span><span class="s0">:</span><span class="s2">&quot;mean&quot;</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">ticks</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},</span><span class="s1">errorband</span><span class="s0">:{</span><span class="s1">band</span><span class="s0">:{</span><span class="s1">opacity</span><span class="s0">:</span><span class="s3">.3</span><span class="s0">},</span><span class="s1">borders</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">vo</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:{},</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">bl</span><span class="s0">,</span><span class="s1">header</span><span class="s0">:{</span><span class="s1">titlePadding</span><span class="s0">:</span><span class="s3">10</span><span class="s0">,</span><span class="s1">labelPadding</span><span class="s0">:</span><span class="s3">10</span><span class="s0">},</span><span class="s1">headerColumn</span><span class="s0">:{},</span><span class="s1">headerRow</span><span class="s0">:{},</span><span class="s1">headerFacet</span><span class="s0">:{},</span><span class="s1">selection</span><span class="s0">:</span><span class="s1">xl</span><span class="s0">,</span><span class="s1">style</span><span class="s0">:{},</span><span class="s1">title</span><span class="s0">:{},</span><span class="s1">facet</span><span class="s0">:{</span><span class="s1">spacing</span><span class="s0">:</span><span class="s1">_l</span><span class="s0">},</span><span class="s1">concat</span><span class="s0">:{</span><span class="s1">spacing</span><span class="s0">:</span><span class="s1">_l</span><span class="s0">},</span><span class="s1">normalizedNumberFormat</span><span class="s0">:</span><span class="s2">&quot;.0%&quot;</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Gl</span><span class="s0">=[</span><span class="s2">&quot;#4c78a8&quot;</span><span class="s0">,</span><span class="s2">&quot;#f58518&quot;</span><span class="s0">,</span><span class="s2">&quot;#e45756&quot;</span><span class="s0">,</span><span class="s2">&quot;#72b7b2&quot;</span><span class="s0">,</span><span class="s2">&quot;#54a24b&quot;</span><span class="s0">,</span><span class="s2">&quot;#eeca3b&quot;</span><span class="s0">,</span><span class="s2">&quot;#b279a2&quot;</span><span class="s0">,</span><span class="s2">&quot;#ff9da6&quot;</span><span class="s0">,</span><span class="s2">&quot;#9d755d&quot;</span><span class="s0">,</span><span class="s2">&quot;#bab0ac&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">Yl</span><span class="s0">={</span><span class="s1">text</span><span class="s0">:</span><span class="s3">11</span><span class="s0">,</span><span class="s1">guideLabel</span><span class="s0">:</span><span class="s3">10</span><span class="s0">,</span><span class="s1">guideTitle</span><span class="s0">:</span><span class="s3">11</span><span class="s0">,</span><span class="s1">groupTitle</span><span class="s0">:</span><span class="s3">13</span><span class="s0">,</span><span class="s1">groupSubtitle</span><span class="s0">:</span><span class="s3">12</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Kl</span><span class="s0">={</span><span class="s1">blue</span><span class="s0">:</span><span class="s1">Gl</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">orange</span><span class="s0">:</span><span class="s1">Gl</span><span class="s0">[</span><span class="s3">1</span><span class="s0">],</span><span class="s1">red</span><span class="s0">:</span><span class="s1">Gl</span><span class="s0">[</span><span class="s3">2</span><span class="s0">],</span><span class="s1">teal</span><span class="s0">:</span><span class="s1">Gl</span><span class="s0">[</span><span class="s3">3</span><span class="s0">],</span><span class="s1">green</span><span class="s0">:</span><span class="s1">Gl</span><span class="s0">[</span><span class="s3">4</span><span class="s0">],</span><span class="s1">yellow</span><span class="s0">:</span><span class="s1">Gl</span><span class="s0">[</span><span class="s3">5</span><span class="s0">],</span><span class="s1">purple</span><span class="s0">:</span><span class="s1">Gl</span><span class="s0">[</span><span class="s3">6</span><span class="s0">],</span><span class="s1">pink</span><span class="s0">:</span><span class="s1">Gl</span><span class="s0">[</span><span class="s3">7</span><span class="s0">],</span><span class="s1">brown</span><span class="s0">:</span><span class="s1">Gl</span><span class="s0">[</span><span class="s3">8</span><span class="s0">],</span><span class="s1">gray0</span><span class="s0">:</span><span class="s2">&quot;#000&quot;</span><span class="s0">,</span><span class="s1">gray1</span><span class="s0">:</span><span class="s2">&quot;#111&quot;</span><span class="s0">,</span><span class="s1">gray2</span><span class="s0">:</span><span class="s2">&quot;#222&quot;</span><span class="s0">,</span><span class="s1">gray3</span><span class="s0">:</span><span class="s2">&quot;#333&quot;</span><span class="s0">,</span><span class="s1">gray4</span><span class="s0">:</span><span class="s2">&quot;#444&quot;</span><span class="s0">,</span><span class="s1">gray5</span><span class="s0">:</span><span class="s2">&quot;#555&quot;</span><span class="s0">,</span><span class="s1">gray6</span><span class="s0">:</span><span class="s2">&quot;#666&quot;</span><span class="s0">,</span><span class="s1">gray7</span><span class="s0">:</span><span class="s2">&quot;#777&quot;</span><span class="s0">,</span><span class="s1">gray8</span><span class="s0">:</span><span class="s2">&quot;#888&quot;</span><span class="s0">,</span><span class="s1">gray9</span><span class="s0">:</span><span class="s2">&quot;#999&quot;</span><span class="s0">,</span><span class="s1">gray10</span><span class="s0">:</span><span class="s2">&quot;#aaa&quot;</span><span class="s0">,</span><span class="s1">gray11</span><span class="s0">:</span><span class="s2">&quot;#bbb&quot;</span><span class="s0">,</span><span class="s1">gray12</span><span class="s0">:</span><span class="s2">&quot;#ccc&quot;</span><span class="s0">,</span><span class="s1">gray13</span><span class="s0">:</span><span class="s2">&quot;#ddd&quot;</span><span class="s0">,</span><span class="s1">gray14</span><span class="s0">:</span><span class="s2">&quot;#eee&quot;</span><span class="s0">,</span><span class="s1">gray15</span><span class="s0">:</span><span class="s2">&quot;#fff&quot;</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Vl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">={}){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signals</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;color&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Kl</span><span class="s0">),</span><span class="s1">e</span><span class="s0">):</span><span class="s1">Kl</span><span class="s0">}],</span><span class="s1">mark</span><span class="s0">:{</span><span class="s1">color</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.blue&quot;</span><span class="s0">}},</span><span class="s1">rule</span><span class="s0">:{</span><span class="s1">color</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.gray0&quot;</span><span class="s0">}},</span><span class="s1">text</span><span class="s0">:{</span><span class="s1">color</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.gray0&quot;</span><span class="s0">}},</span><span class="s1">style</span><span class="s0">:{</span><span class="s2">&quot;guide-label&quot;</span><span class="s0">:{</span><span class="s1">fill</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.gray0&quot;</span><span class="s0">}},</span><span class="s2">&quot;guide-title&quot;</span><span class="s0">:{</span><span class="s1">fill</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.gray0&quot;</span><span class="s0">}},</span><span class="s2">&quot;group-title&quot;</span><span class="s0">:{</span><span class="s1">fill</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.gray0&quot;</span><span class="s0">}},</span><span class="s2">&quot;group-subtitle&quot;</span><span class="s0">:{</span><span class="s1">fill</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.gray0&quot;</span><span class="s0">}},</span><span class="s1">cell</span><span class="s0">:{</span><span class="s1">stroke</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.gray8&quot;</span><span class="s0">}}},</span><span class="s1">axis</span><span class="s0">:{</span><span class="s1">domainColor</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.gray13&quot;</span><span class="s0">},</span><span class="s1">gridColor</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.gray8&quot;</span><span class="s0">},</span><span class="s1">tickColor</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.gray13&quot;</span><span class="s0">}},</span><span class="s1">range</span><span class="s0">:{</span><span class="s1">category</span><span class="s0">:[{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.blue&quot;</span><span class="s0">},{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.orange&quot;</span><span class="s0">},{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.red&quot;</span><span class="s0">},{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.teal&quot;</span><span class="s0">},{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.green&quot;</span><span class="s0">},{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.yellow&quot;</span><span class="s0">},{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.purple&quot;</span><span class="s0">},{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.pink&quot;</span><span class="s0">},{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.brown&quot;</span><span class="s0">},{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;color.grey8&quot;</span><span class="s0">}]}}}</span><span class="s4">function </span><span class="s1">Ql</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signals</span><span class="s0">:[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;fontSize&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Yl</span><span class="s0">),</span><span class="s1">e</span><span class="s0">):</span><span class="s1">Yl</span><span class="s0">}],</span><span class="s1">text</span><span class="s0">:{</span><span class="s1">fontSize</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;fontSize.text&quot;</span><span class="s0">}},</span><span class="s1">style</span><span class="s0">:{</span><span class="s2">&quot;guide-label&quot;</span><span class="s0">:{</span><span class="s1">fontSize</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;fontSize.guideLabel&quot;</span><span class="s0">}},</span><span class="s2">&quot;guide-title&quot;</span><span class="s0">:{</span><span class="s1">fontSize</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;fontSize.guideTitle&quot;</span><span class="s0">}},</span><span class="s2">&quot;group-title&quot;</span><span class="s0">:{</span><span class="s1">fontSize</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;fontSize.groupTitle&quot;</span><span class="s0">}},</span><span class="s2">&quot;group-subtitle&quot;</span><span class="s0">:{</span><span class="s1">fontSize</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;fontSize.groupSubtitle&quot;</span><span class="s0">}}}}}</span><span class="s4">function </span><span class="s1">Xl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">text</span><span class="s0">:{</span><span class="s1">font</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s1">style</span><span class="s0">:{</span><span class="s2">&quot;guide-label&quot;</span><span class="s0">:{</span><span class="s1">font</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s2">&quot;guide-title&quot;</span><span class="s0">:{</span><span class="s1">font</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s2">&quot;group-title&quot;</span><span class="s0">:{</span><span class="s1">font</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s2">&quot;group-subtitle&quot;</span><span class="s0">:{</span><span class="s1">font</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}}}</span><span class="s4">function </span><span class="s1">Jl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">||{});</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">tc</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">Kt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">):</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Zl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">Jl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">ef</span><span class="s0">=[</span><span class="s1">...pa</span><span class="s0">,</span><span class="s1">...lc</span><span class="s0">,</span><span class="s1">...ml</span><span class="s0">,</span><span class="s2">&quot;background&quot;</span><span class="s0">,</span><span class="s2">&quot;padding&quot;</span><span class="s0">,</span><span class="s2">&quot;legend&quot;</span><span class="s0">,</span><span class="s2">&quot;lineBreak&quot;</span><span class="s0">,</span><span class="s2">&quot;scale&quot;</span><span class="s0">,</span><span class="s2">&quot;style&quot;</span><span class="s0">,</span><span class="s2">&quot;title&quot;</span><span class="s0">,</span><span class="s2">&quot;view&quot;</span><span class="s0">];</span><span class="s4">function </span><span class="s1">nf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">={}){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">color</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">font</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">fontSize</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">selection</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Ml</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;color&quot;</span><span class="s0">,</span><span class="s2">&quot;font&quot;</span><span class="s0">,</span><span class="s2">&quot;fontSize&quot;</span><span class="s0">,</span><span class="s2">&quot;selection&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">io</span><span class="s0">)({},</span><span class="s1">b</span><span class="s0">(</span><span class="s1">Hl</span><span class="s0">),</span><span class="s1">t</span><span class="s0">?</span><span class="s1">Xl</span><span class="s0">(</span><span class="s1">t</span><span class="s0">):{},</span><span class="s1">n</span><span class="s0">?</span><span class="s1">Vl</span><span class="s0">(</span><span class="s1">n</span><span class="s0">):{},</span><span class="s1">i</span><span class="s0">?</span><span class="s1">Ql</span><span class="s0">(</span><span class="s1">i</span><span class="s0">):{},</span><span class="s1">o</span><span class="s0">||{});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">.</span><span class="s1">writeConfig</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">,</span><span class="s2">&quot;selection&quot;</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">O</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">ef</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of</span><span class="s0">[</span><span class="s2">&quot;background&quot;</span><span class="s0">,</span><span class="s2">&quot;lineBreak&quot;</span><span class="s0">,</span><span class="s2">&quot;padding&quot;</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s1">u</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of pa</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s1">u</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of lc</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s1">u</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">Jl</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of ml</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s1">u</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">style</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">style</span><span class="s0">=</span><span class="s1">Zl</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">style</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">title</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">title</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">title</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">view</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">view</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">view</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">u</span><span class="s0">}</span><span class="s4">const </span><span class="s1">tf</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;view&quot;</span><span class="s0">,</span><span class="s1">...ta</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">rf</span><span class="s0">=[</span><span class="s2">&quot;color&quot;</span><span class="s0">,</span><span class="s2">&quot;fontSize&quot;</span><span class="s0">,</span><span class="s2">&quot;background&quot;</span><span class="s0">,</span><span class="s2">&quot;padding&quot;</span><span class="s0">,</span><span class="s2">&quot;facet&quot;</span><span class="s0">,</span><span class="s2">&quot;concat&quot;</span><span class="s0">,</span><span class="s2">&quot;numberFormat&quot;</span><span class="s0">,</span><span class="s2">&quot;numberFormatType&quot;</span><span class="s0">,</span><span class="s2">&quot;normalizedNumberFormat&quot;</span><span class="s0">,</span><span class="s2">&quot;normalizedNumberFormatType&quot;</span><span class="s0">,</span><span class="s2">&quot;timeFormat&quot;</span><span class="s0">,</span><span class="s2">&quot;countTitle&quot;</span><span class="s0">,</span><span class="s2">&quot;header&quot;</span><span class="s0">,</span><span class="s2">&quot;axisQuantitative&quot;</span><span class="s0">,</span><span class="s2">&quot;axisTemporal&quot;</span><span class="s0">,</span><span class="s2">&quot;axisDiscrete&quot;</span><span class="s0">,</span><span class="s2">&quot;axisPoint&quot;</span><span class="s0">,</span><span class="s2">&quot;axisXBand&quot;</span><span class="s0">,</span><span class="s2">&quot;axisXPoint&quot;</span><span class="s0">,</span><span class="s2">&quot;axisXDiscrete&quot;</span><span class="s0">,</span><span class="s2">&quot;axisXQuantitative&quot;</span><span class="s0">,</span><span class="s2">&quot;axisXTemporal&quot;</span><span class="s0">,</span><span class="s2">&quot;axisYBand&quot;</span><span class="s0">,</span><span class="s2">&quot;axisYPoint&quot;</span><span class="s0">,</span><span class="s2">&quot;axisYDiscrete&quot;</span><span class="s0">,</span><span class="s2">&quot;axisYQuantitative&quot;</span><span class="s0">,</span><span class="s2">&quot;axisYTemporal&quot;</span><span class="s0">,</span><span class="s2">&quot;scale&quot;</span><span class="s0">,</span><span class="s2">&quot;selection&quot;</span><span class="s0">,</span><span class="s2">&quot;overlay&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">sf</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">view</span><span class="s0">:[</span><span class="s2">&quot;continuousWidth&quot;</span><span class="s0">,</span><span class="s2">&quot;continuousHeight&quot;</span><span class="s0">,</span><span class="s2">&quot;discreteWidth&quot;</span><span class="s0">,</span><span class="s2">&quot;discreteHeight&quot;</span><span class="s0">,</span><span class="s2">&quot;step&quot;</span><span class="s0">]},</span><span class="s1">la</span><span class="s0">);</span><span class="s4">function </span><span class="s1">of</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of rf</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n </span><span class="s4">in </span><span class="s1">e</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">tc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of cl</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of ca</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">)){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">||[]).</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">Dl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">));</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of tf</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of ca</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">i</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">sf</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of t</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">i</span><span class="s0">]}}</span><span class="s1">uf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of ul</span><span class="s0">()){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}</span><span class="s1">af</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n </span><span class="s4">in </span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])&amp;&amp;</span><span class="s1">z</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}</span><span class="s4">return </span><span class="s1">z</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">af</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">titleMarkConfig</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">subtitleMarkConfig</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">subtitle</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">zt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">style</span><span class="s0">[</span><span class="s2">&quot;group-title&quot;</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">style</span><span class="s0">[</span><span class="s2">&quot;group-title&quot;</span><span class="s0">]),</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">style</span><span class="s0">[</span><span class="s2">&quot;group-subtitle&quot;</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">style</span><span class="s0">[</span><span class="s2">&quot;group-subtitle&quot;</span><span class="s0">]),</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">uf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">i</span><span class="s0">]:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;view&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;cell&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">r</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">style</span><span class="s0">[</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">n</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">style</span><span class="s0">[</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">s</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}</span><span class="s4">function </span><span class="s1">cf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;layer&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">lf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;repeat&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ff</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">repeat</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">repeat</span><span class="s0">[</span><span class="s2">&quot;layer&quot;</span><span class="s0">]}</span><span class="s4">var </span><span class="s1">df</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">class </span><span class="s1">pf</span><span class="s0">{</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ja</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapFacet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">lf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapRepeat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Sl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapHConcat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Cl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapVConcat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">kl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapConcat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapLayerOrUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">mapLayerOrUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">cf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapLayer</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">fi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s1">mapLayer</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">layer</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mapLayerOrUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)))})}</span><span class="s1">mapHConcat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">hconcat</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hconcat</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)))})}</span><span class="s1">mapVConcat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">vconcat</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">vconcat</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)))})}</span><span class="s1">mapConcat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">concat</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">df</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;concat&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">i</span><span class="s0">),{</span><span class="s1">concat</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)))})}</span><span class="s1">mapFacet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">spec</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">spec</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)})}</span><span class="s1">mapRepeat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">spec</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">spec</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)})}}</span><span class="s4">const </span><span class="s1">gf</span><span class="s0">={</span><span class="s1">zero</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">center</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">normalize</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">function </span><span class="s1">mf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">in </span><span class="s1">gf</span><span class="s0">}</span><span class="s4">const </span><span class="s1">hf</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">Lo</span><span class="s0">,</span><span class="s1">Uo</span><span class="s0">,</span><span class="s1">qo</span><span class="s0">,</span><span class="s1">Go</span><span class="s0">,</span><span class="s1">Wo</span><span class="s0">,</span><span class="s1">Qo</span><span class="s0">,</span><span class="s1">Xo</span><span class="s0">,</span><span class="s1">Io</span><span class="s0">,</span><span class="s1">Yo</span><span class="s0">,</span><span class="s1">Ko</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">bf</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">Uo</span><span class="s0">,</span><span class="s1">qo</span><span class="s0">,</span><span class="s1">Lo</span><span class="s0">]);</span><span class="s4">function </span><span class="s1">yf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">}</span><span class="s4">function </span><span class="s1">vf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s2">&quot;radius&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yf</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)&amp;&amp;</span><span class="s1">yf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)&amp;&amp;!!</span><span class="s1">s</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)&amp;&amp;!!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">a</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;linear&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s2">&quot;linear&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">yf</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">yf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">yf</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">yf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Of</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;y&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;x&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;theta&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;radius&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;radius&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;theta&quot;</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">xf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">ia</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">hf</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">vf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;x&quot;</span><span class="s0">)||</span><span class="s1">vf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;theta&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)?</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,{}):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">Of</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">c</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">c</span><span class="s0">];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{}):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">u</span><span class="s0">){</span><span class="s1">l</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">c</span><span class="s0">);</span><span class="s1">f</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">c</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;xOffset&quot;</span><span class="s0">:</span><span class="s2">&quot;yOffset&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)?</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,{}):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">u</span><span class="s0">){</span><span class="s1">l</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">f</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">Ln</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;tooltip&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">gc</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,{});</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">||!</span><span class="s1">f</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})}}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),[]);</span><span class="s4">let </span><span class="s1">p</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Lm</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">)){</span><span class="s1">p</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">?</span><span class="s2">&quot;zero&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">p</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">bf</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">p</span><span class="s0">=</span><span class="s2">&quot;zero&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">p</span><span class="s0">||!</span><span class="s1">mf</span><span class="s0">(</span><span class="s1">p</span><span class="s0">)){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bc</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">d</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">a</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)&amp;&amp;((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">a</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)!==</span><span class="s1">no</span><span class="s0">.</span><span class="s1">LINEAR</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">kr</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">type</span><span class="s0">));</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)])){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ar</span><span class="s0">(</span><span class="s1">o</span><span class="s0">))}</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)&amp;&amp;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">&amp;&amp;!</span><span class="s1">Ft</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Cr</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">))}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">groupbyChannels</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">groupbyFields</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">fieldChannel</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">impute</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">===</span><span class="s4">null</span><span class="s0">?</span><span class="s4">false</span><span class="s0">:</span><span class="s1">ea</span><span class="s0">(</span><span class="s1">s</span><span class="s0">),</span><span class="s1">stackBy</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">p</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">wf</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">jf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">point</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">wf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s2">&quot;line&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">N</span><span class="s0">(</span><span class="s1">i</span><span class="s0">).</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ff</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of</span><span class="s0">[</span><span class="s2">&quot;line&quot;</span><span class="s0">,</span><span class="s2">&quot;area&quot;</span><span class="s0">,</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s2">&quot;trail&quot;</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{[</span><span class="s1">n</span><span class="s0">]:</span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">],[</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s2">&quot;line&quot;</span><span class="s0">])})}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">={},</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">point</span><span class="s0">===</span><span class="s2">&quot;transparent&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">opacity</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">point</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">point</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">point</span><span class="s0">:{}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">point</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">point</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">shape</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">point</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">point</span><span class="s0">:{}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Df</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">={}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">===</span><span class="s4">true</span><span class="s0">?{}:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">line</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">line</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">line</span><span class="s0">===</span><span class="s4">true</span><span class="s0">?{}:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">line</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Af</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s2">&quot;path-overlay&quot;</span><span class="s0">}</span><span class="s1">hasMatchingType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">ia</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">:{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">t</span><span class="s0">};</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;line&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;rule&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;trail&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">$f</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">.</span><span class="s1">type</span><span class="s0">],</span><span class="s1">i</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;area&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">$f</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">.</span><span class="s1">type</span><span class="s0">],</span><span class="s1">i</span><span class="s0">)||!!</span><span class="s1">Df</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">.</span><span class="s1">type</span><span class="s0">])}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">params</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s1">wf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;params&quot;</span><span class="s0">,</span><span class="s2">&quot;projection&quot;</span><span class="s0">,</span><span class="s2">&quot;mark&quot;</span><span class="s0">,</span><span class="s2">&quot;encoding&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">xc</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">ia</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)?</span><span class="s1">o</span><span class="s0">:{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">o</span><span class="s0">};</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">$f</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">l</span><span class="s0">.</span><span class="s1">type</span><span class="s0">],</span><span class="s1">c</span><span class="s0">);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;area&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">Df</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">l</span><span class="s0">.</span><span class="s1">type</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=[</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">params</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{}),{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">jf</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">l</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;area&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">opacity</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">fillOpacity</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">opacity</span><span class="s0">:</span><span class="s3">.7</span><span class="s0">}:{}),</span><span class="s1">l</span><span class="s0">)),</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">O</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,[</span><span class="s2">&quot;shape&quot;</span><span class="s0">])})];</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">xf</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s4">let </span><span class="s1">m</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">g</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">fieldChannel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">g</span><span class="s0">;</span><span class="s1">m</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">c</span><span class="s0">),{[</span><span class="s1">e</span><span class="s0">]:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">c</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]),</span><span class="s1">n</span><span class="s0">?{</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}:{})})}</span><span class="s1">m</span><span class="s0">=</span><span class="s1">O</span><span class="s0">(</span><span class="s1">m</span><span class="s0">,[</span><span class="s2">&quot;y2&quot;</span><span class="s0">,</span><span class="s2">&quot;x2&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">){</span><span class="s1">p</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{}),{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;line&quot;</span><span class="s0">},</span><span class="s1">v</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,[</span><span class="s2">&quot;clip&quot;</span><span class="s0">,</span><span class="s2">&quot;interpolate&quot;</span><span class="s0">,</span><span class="s2">&quot;tension&quot;</span><span class="s0">,</span><span class="s2">&quot;tooltip&quot;</span><span class="s0">])),</span><span class="s1">d</span><span class="s0">),</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">m</span><span class="s0">}))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">){</span><span class="s1">p</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{}),{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s1">opacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">filled</span><span class="s0">:</span><span class="s4">true</span><span class="s0">},</span><span class="s1">v</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,[</span><span class="s2">&quot;clip&quot;</span><span class="s0">,</span><span class="s2">&quot;tooltip&quot;</span><span class="s0">])),</span><span class="s1">f</span><span class="s0">),</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">m</span><span class="s0">}))}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">u</span><span class="s0">),{</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">p</span><span class="s0">}),</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">Ff</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}))}}</span><span class="s4">var </span><span class="s1">kf</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Cf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">zf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Bf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Sf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">zf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">nu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">repeat </span><span class="s4">in </span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{[</span><span class="s1">e</span><span class="s0">]:</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">repeat</span><span class="s0">]})}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">ki</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">repeat</span><span class="s0">));</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Bf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Ef</span><span class="s0">(</span><span class="s2">&quot;field&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">iu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ef</span><span class="s0">(</span><span class="s2">&quot;field&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),</span><span class="s1">t</span><span class="s0">?{</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{})}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Pf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Bf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ef</span><span class="s0">(</span><span class="s2">&quot;datum&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">&amp;&amp;!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s2">&quot;nominal&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">_f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Pf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">au</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">condition</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">cu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Pf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">condition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">condition</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">kf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;condition&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">zf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">mQ</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">_f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">_f</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}}}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">class </span><span class="s1">Nf</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s2">&quot;RuleForRangedLine&quot;</span><span class="s0">}</span><span class="s1">hasMatchingType</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;line&quot;</span><span class="s0">||</span><span class="s1">ia</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;line&quot;</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of gn</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">hn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;!</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||</span><span class="s1">pu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}}}}}</span><span class="s4">return false</span><span class="s0">}</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">rr</span><span class="s0">(!!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">x2</span><span class="s0">,!!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">y2</span><span class="s0">));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">mark</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">)?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">s</span><span class="s0">),{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">}):</span><span class="s2">&quot;rule&quot;</span><span class="s0">}),</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">var </span><span class="s1">Tf</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">class </span><span class="s1">Mf </span><span class="s4">extends </span><span class="s1">pf</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">...arguments</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nonFacetUnitNormalizers</span><span class="s0">=[</span><span class="s1">Mc</span><span class="s0">,</span><span class="s1">Gc</span><span class="s0">,</span><span class="s1">il</span><span class="s0">,</span><span class="s4">new </span><span class="s1">Af</span><span class="s0">,</span><span class="s4">new </span><span class="s1">Nf</span><span class="s0">]}</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">gc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">,</span><span class="s1">oe</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">gc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">,</span><span class="s1">ae</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">gc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">,</span><span class="s1">ue</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">||</span><span class="s1">i</span><span class="s0">||</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapFacetedUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">mapUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">parentEncoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">parentProjection</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Sf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">repeater</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">||</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapUnitWithParentEncodingOrProjection</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mapLayerOrUnit</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">a of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">nonFacetUnitNormalizers</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">hasMatchingType</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">config</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">run</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s1">mapRepeat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ff</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapLayerRepeat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapNonLayerRepeat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">mapLayerRepeat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">repeat</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">spec</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Tf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;repeat&quot;</span><span class="s0">,</span><span class="s2">&quot;spec&quot;</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">row</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">repeater</span><span class="s0">:</span><span class="s1">u</span><span class="s0">={},</span><span class="s1">repeaterPrefix</span><span class="s0">:</span><span class="s1">c</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">||</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapRepeat</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">repeat</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">row</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{}),</span><span class="s1">o</span><span class="s0">?{</span><span class="s1">column</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}:{}),</span><span class="s1">spec</span><span class="s0">:{</span><span class="s1">repeat</span><span class="s0">:{</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">a</span><span class="s0">},</span><span class="s1">spec</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}}),</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">r</span><span class="s0">),{</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">u</span><span class="s0">),{</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">e</span><span class="s0">});</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">name</span><span class="s0">||</span><span class="s2">&quot;&quot;</span><span class="s0">)+</span><span class="s1">c</span><span class="s0">}</span><span class="s2">child__layer_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mapLayerOrUnit</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">repeater</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">repeaterPrefix</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}));</span><span class="s1">s</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}))})}}</span><span class="s1">mapNonLayerRepeat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">repeat</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">spec</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">data</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s1">Tf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;repeat&quot;</span><span class="s0">,</span><span class="s2">&quot;spec&quot;</span><span class="s0">,</span><span class="s2">&quot;data&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">columns</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;columns&quot;</span><span class="s0">]);</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ci</span><span class="s0">(</span><span class="s2">&quot;repeat&quot;</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=[];</span><span class="s4">const</span><span class="s0">{</span><span class="s1">repeater</span><span class="s0">:</span><span class="s1">c</span><span class="s0">={},</span><span class="s1">repeaterPrefix</span><span class="s0">:</span><span class="s1">l</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">row</span><span class="s0">||[</span><span class="s1">c</span><span class="s0">?</span><span class="s1">c</span><span class="s0">.</span><span class="s1">row</span><span class="s0">:</span><span class="s4">null</span><span class="s0">];</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">column</span><span class="s0">||[</span><span class="s1">c</span><span class="s0">?</span><span class="s1">c</span><span class="s0">.</span><span class="s1">column</span><span class="s0">:</span><span class="s4">null</span><span class="s0">];</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">||[</span><span class="s1">c</span><span class="s0">?</span><span class="s1">c</span><span class="s0">.</span><span class="s1">repeat</span><span class="s0">:</span><span class="s4">null</span><span class="s0">];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">m of p</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of f</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of d</span><span class="s0">){</span><span class="s4">const </span><span class="s1">o</span><span class="s0">={</span><span class="s1">repeat</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">row</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">c</span><span class="s0">.</span><span class="s1">layer</span><span class="s0">};</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">name</span><span class="s0">||</span><span class="s2">&quot;&quot;</span><span class="s0">)+</span><span class="s1">l</span><span class="s0">+</span><span class="s2">&quot;child__&quot;</span><span class="s0">+((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)?</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">q</span><span class="s0">(</span><span class="s1">m</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">:(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">row</span><span class="s0">?</span><span class="s2">`row_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)+(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">column</span><span class="s0">?</span><span class="s2">`column_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">q</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">));</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">repeater</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">repeaterPrefix</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}));</span><span class="s1">f</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s1">u</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">O</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,[</span><span class="s2">&quot;data&quot;</span><span class="s0">]))}}}</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">columns</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">column</span><span class="s0">?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">column</span><span class="s0">.</span><span class="s1">length</span><span class="s0">:</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">data</span><span class="s0">:(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;all&quot;</span><span class="s0">},</span><span class="s1">a</span><span class="s0">),{</span><span class="s1">columns</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">concat</span><span class="s0">:</span><span class="s1">u</span><span class="s0">})}</span><span class="s1">mapFacet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qa</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">columns</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;columns&quot;</span><span class="s0">]);</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ci</span><span class="s0">(</span><span class="s2">&quot;facet&quot;</span><span class="s0">))}</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">mapFacet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">mapUnitWithParentEncodingOrProjection</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">parentEncoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">parentProjection</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">qf</span><span class="s0">({</span><span class="s1">parentProjection</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">i</span><span class="s0">});</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">Lf</span><span class="s0">({</span><span class="s1">parentEncoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">Sf</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">repeater</span><span class="s0">)});</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapUnit</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),</span><span class="s1">a</span><span class="s0">?{</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}:{}),</span><span class="s1">u</span><span class="s0">?{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}:{}),{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">})}</span><span class="s1">mapFacetedUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">,{</span><span class="s1">row</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Tf</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,[</span><span class="s2">&quot;row&quot;</span><span class="s0">,</span><span class="s2">&quot;column&quot;</span><span class="s0">,</span><span class="s2">&quot;facet&quot;</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">width</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">height</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">view</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">params</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">p</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">g</span><span class="s0">=</span><span class="s1">Tf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;mark&quot;</span><span class="s0">,</span><span class="s2">&quot;width&quot;</span><span class="s0">,</span><span class="s2">&quot;projection&quot;</span><span class="s0">,</span><span class="s2">&quot;height&quot;</span><span class="s0">,</span><span class="s2">&quot;view&quot;</span><span class="s0">,</span><span class="s2">&quot;params&quot;</span><span class="s0">,</span><span class="s2">&quot;encoding&quot;</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">facetMapping</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">layout</span><span class="s0">:</span><span class="s1">h</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getFacetMappingAndLayout</span><span class="s0">({</span><span class="s1">row</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">s</span><span class="s0">},</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=</span><span class="s1">Sf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">repeater</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">mapFacet</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">g</span><span class="s0">),</span><span class="s1">h</span><span class="s0">),{</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">spec</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">u</span><span class="s0">?{</span><span class="s1">width</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}:{}),</span><span class="s1">l</span><span class="s0">?{</span><span class="s1">height</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}:{}),</span><span class="s1">f</span><span class="s0">?{</span><span class="s1">view</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}:{}),</span><span class="s1">c</span><span class="s0">?{</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}:{}),{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">b</span><span class="s0">}),</span><span class="s1">d</span><span class="s0">?{</span><span class="s1">params</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}:{})}),</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">getFacetMappingAndLayout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">row</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">||</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">nr</span><span class="s0">([</span><span class="s1">...i</span><span class="s0">?[</span><span class="s1">oe</span><span class="s0">]:[],</span><span class="s1">...r</span><span class="s0">?[</span><span class="s1">ae</span><span class="s0">]:[]]))}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">o</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of</span><span class="s0">[</span><span class="s1">oe</span><span class="s0">,</span><span class="s1">ae</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">align</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">center</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">spacing</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">columns</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">r</span><span class="s0">,</span><span class="s1">c</span><span class="s0">=</span><span class="s1">Tf</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,[</span><span class="s2">&quot;align&quot;</span><span class="s0">,</span><span class="s2">&quot;center&quot;</span><span class="s0">,</span><span class="s2">&quot;spacing&quot;</span><span class="s0">,</span><span class="s2">&quot;columns&quot;</span><span class="s0">]);</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of</span><span class="s0">[</span><span class="s2">&quot;align&quot;</span><span class="s0">,</span><span class="s2">&quot;center&quot;</span><span class="s0">,</span><span class="s2">&quot;spacing&quot;</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]={};</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">facetMapping</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">layout</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">align</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">center</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">spacing</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">columns</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Tf</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,[</span><span class="s2">&quot;align&quot;</span><span class="s0">,</span><span class="s2">&quot;center&quot;</span><span class="s0">,</span><span class="s2">&quot;spacing&quot;</span><span class="s0">,</span><span class="s2">&quot;columns&quot;</span><span class="s0">]);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">facetMapping</span><span class="s0">:</span><span class="s1">Cf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">repeater</span><span class="s0">),</span><span class="s1">layout</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">?{</span><span class="s1">align</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}:{}),</span><span class="s1">t</span><span class="s0">?{</span><span class="s1">center</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{}),</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">spacing</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}:{}),</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">columns</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{})}}}</span><span class="s1">mapLayer</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var</span><span class="s0">{</span><span class="s1">parentEncoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">parentProjection</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Tf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,[</span><span class="s2">&quot;parentEncoding&quot;</span><span class="s0">,</span><span class="s2">&quot;parentProjection&quot;</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s1">Tf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;encoding&quot;</span><span class="s0">,</span><span class="s2">&quot;projection&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">r</span><span class="s0">),{</span><span class="s1">parentEncoding</span><span class="s0">:</span><span class="s1">Lf</span><span class="s0">({</span><span class="s1">parentEncoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">layer</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}),</span><span class="s1">parentProjection</span><span class="s0">:</span><span class="s1">qf</span><span class="s0">({</span><span class="s1">parentProjection</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">o</span><span class="s0">})});</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">mapLayer</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Lf</span><span class="s0">({</span><span class="s1">parentEncoding</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">n</span><span class="s0">={},</span><span class="s1">layer</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">={};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">...N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">...N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)]);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">a</span><span class="s0">),</span><span class="s1">s</span><span class="s0">);</span><span class="s1">i</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">cu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">s</span><span class="s0">),{</span><span class="s1">condition</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">a</span><span class="s0">),</span><span class="s1">s</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">)})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s1">i</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s1">s</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">||</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)||</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)||</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s1">a</span><span class="s0">}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">return</span><span class="s0">!</span><span class="s1">i</span><span class="s0">||</span><span class="s1">z</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">parentProjection</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ti</span><span class="s0">({</span><span class="s1">parentProjection</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}))}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Uf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;filter&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Rf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;stop&quot;</span><span class="s0">])!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">If</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;lookup&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Wf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;data&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Hf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;param&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Gf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;pivot&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Yf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;density&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Kf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;quantile&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Vf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;regression&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Qf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;loess&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Xf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;sample&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;window&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Zf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;joinaggregate&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ed</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;flatten&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">nd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;calculate&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">td</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;bin&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">id</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;impute&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">rd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;timeUnit&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">sd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;aggregate&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">od</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;stack&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ad</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;fold&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ud</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Uf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">filter</span><span class="s0">:</span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">,</span><span class="s1">Us</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}))}</span><span class="s4">var </span><span class="s1">cd</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">class </span><span class="s1">ld </span><span class="s4">extends </span><span class="s1">pf</span><span class="s0">{</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">emptySelections</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">emptySelections</span><span class="s0">={};(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">selectionPredicates</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">selectionPredicates</span><span class="s0">={};</span><span class="s1">e</span><span class="s0">=</span><span class="s1">fd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">mapLayerOrUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">fd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">]</span><span class="s1">of M</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">dd</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">mapLayerOrUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">mapUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">selection</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">cd</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,[</span><span class="s2">&quot;selection&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">r</span><span class="s0">),{</span><span class="s1">params</span><span class="s0">:</span><span class="s1">M</span><span class="s0">(</span><span class="s1">i</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((([</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">])=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">init</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">bind</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">empty</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">r</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s1">cd</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,[</span><span class="s2">&quot;init&quot;</span><span class="s0">,</span><span class="s2">&quot;bind&quot;</span><span class="s0">,</span><span class="s2">&quot;empty&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;single&quot;</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s2">&quot;point&quot;</span><span class="s0">;</span><span class="s1">u</span><span class="s0">.</span><span class="s1">toggle</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;multi&quot;</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s2">&quot;point&quot;</span><span class="s0">}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">emptySelections</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">a</span><span class="s0">!==</span><span class="s2">&quot;none&quot;</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">c of T</span><span class="s0">((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">selectionPredicates</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:{})){</span><span class="s1">c</span><span class="s0">.</span><span class="s1">empty</span><span class="s0">=</span><span class="s1">a</span><span class="s0">!==</span><span class="s2">&quot;none&quot;</span><span class="s0">}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">select</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">bind</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}}))})}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">fd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">cd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;transform&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Uf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">filter</span><span class="s0">:</span><span class="s1">gd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">td</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">pd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">If</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">from</span><span class="s0">,{</span><span class="s1">selection</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">cd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,[</span><span class="s2">&quot;selection&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">from</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">param</span><span class="s0">:</span><span class="s1">t</span><span class="s0">},</span><span class="s1">i</span><span class="s0">)}):</span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}));</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">i</span><span class="s0">),{</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">dd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">=</span><span class="s1">pd</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ou</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;((</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">domain</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">domain</span><span class="s0">,{</span><span class="s1">selection</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">cd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;selection&quot;</span><span class="s0">]);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">domain</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">),</span><span class="s1">n</span><span class="s0">?{</span><span class="s1">param</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}:{})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">au</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">selection</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">param</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">test</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s1">cd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;selection&quot;</span><span class="s0">,</span><span class="s2">&quot;param&quot;</span><span class="s0">,</span><span class="s2">&quot;test&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">s</span><span class="s0">),{</span><span class="s1">test</span><span class="s0">:</span><span class="s1">gd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)})}))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">dd</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">,</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">selection</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">param</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">test</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">cd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;selection&quot;</span><span class="s0">,</span><span class="s2">&quot;param&quot;</span><span class="s0">,</span><span class="s2">&quot;test&quot;</span><span class="s0">]);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s1">r</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">o</span><span class="s0">),{</span><span class="s1">test</span><span class="s0">:</span><span class="s1">gd</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)})}}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">pd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">selection</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">cd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,[</span><span class="s2">&quot;selection&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">extent</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">i</span><span class="s0">),{</span><span class="s1">param</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})})}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">gd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">emptySelections</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s4">true</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">={</span><span class="s1">param</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">empty</span><span class="s0">:</span><span class="s1">s</span><span class="s0">};(</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">selectionPredicates</span><span class="s0">)[</span><span class="s1">e</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=[];</span><span class="s1">n</span><span class="s0">.</span><span class="s1">selectionPredicates</span><span class="s0">[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">push</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}));</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">?</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">):</span><span class="s1">m</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">test</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">?</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">):</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">class </span><span class="s1">md </span><span class="s4">extends </span><span class="s1">pf</span><span class="s0">{</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">selections</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">&amp;&amp;!</span><span class="s1">fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Fl</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">selections</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">hd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))}</span><span class="s1">mapUnit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">selections</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">||!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)</span><span class="s4">return </span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">path</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[]).</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">views</span><span class="s0">||!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">views</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of o</span><span class="s0">.</span><span class="s1">views</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">.</span><span class="s1">isString</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)&amp;&amp;(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">||</span><span class="s1">r</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">every</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">e</span><span class="s0">!==-</span><span class="s3">1</span><span class="s0">&amp;&amp;(</span><span class="s1">n</span><span class="s0">===</span><span class="s3">0</span><span class="s0">||</span><span class="s1">e</span><span class="s0">&gt;</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">-</span><span class="s3">1</span><span class="s0">])))){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)}}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">Yw of</span><span class="s0">[</span><span class="s2">&quot;mapFacet&quot;</span><span class="s0">,</span><span class="s2">&quot;mapRepeat&quot;</span><span class="s0">,</span><span class="s2">&quot;mapHConcat&quot;</span><span class="s0">,</span><span class="s2">&quot;mapVConcat&quot;</span><span class="s0">,</span><span class="s2">&quot;mapLayer&quot;</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">md</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">[</span><span class="s1">Yw</span><span class="s0">];</span><span class="s1">md</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">[</span><span class="s1">Yw</span><span class="s0">]=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">hd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}}</span><span class="s4">function </span><span class="s1">hd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">path</span><span class="s0">:((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">path</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[]).</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)}):</span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">bd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">nf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">xd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">width</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">height</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">jd</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">width</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">height</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">autosize</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">autosize</span><span class="s0">},</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">),</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">autosize</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{})}</span><span class="s4">const </span><span class="s1">yd</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Mf</span><span class="s0">;</span><span class="s4">const </span><span class="s1">vd</span><span class="s0">=</span><span class="s4">new </span><span class="s1">ld</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Od</span><span class="s0">=</span><span class="s4">new </span><span class="s1">md</span><span class="s0">;</span><span class="s4">function </span><span class="s1">xd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">={}){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">config</span><span class="s0">:</span><span class="s1">n</span><span class="s0">};</span><span class="s4">return </span><span class="s1">Od</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">yd</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">vd</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">t</span><span class="s0">),</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">wd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}:</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:{}}</span><span class="s4">function </span><span class="s1">jd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let</span><span class="s0">{</span><span class="s1">width</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">height</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">cf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">={};</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">==</span><span class="s2">&quot;container&quot;</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">pi</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">));</span><span class="s1">i</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">==</span><span class="s2">&quot;container&quot;</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">pi</span><span class="s0">(</span><span class="s2">&quot;height&quot;</span><span class="s0">));</span><span class="s1">r</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">==</span><span class="s2">&quot;container&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">==</span><span class="s2">&quot;container&quot;</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s2">&quot;fit&quot;</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">contains</span><span class="s0">=</span><span class="s2">&quot;padding&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">==</span><span class="s2">&quot;container&quot;</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s2">&quot;fit-x&quot;</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">contains</span><span class="s0">=</span><span class="s2">&quot;padding&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">==</span><span class="s2">&quot;container&quot;</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s2">&quot;fit-y&quot;</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">contains</span><span class="s0">=</span><span class="s2">&quot;padding&quot;</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;pad&quot;</span><span class="s0">},</span><span class="s1">o</span><span class="s0">),</span><span class="s1">t</span><span class="s0">?</span><span class="s1">wd</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">autosize</span><span class="s0">):{}),</span><span class="s1">wd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">autosize</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;fit&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">s</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">di</span><span class="s0">);</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s2">&quot;pad&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">==</span><span class="s2">&quot;container&quot;</span><span class="s0">&amp;&amp;!(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">==</span><span class="s2">&quot;fit&quot;</span><span class="s0">||</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">==</span><span class="s2">&quot;fit-x&quot;</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">gi</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">==</span><span class="s2">&quot;container&quot;</span><span class="s0">&amp;&amp;!(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">==</span><span class="s2">&quot;fit&quot;</span><span class="s0">||</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">==</span><span class="s2">&quot;fit-y&quot;</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">gi</span><span class="s0">(</span><span class="s2">&quot;height&quot;</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;pad&quot;</span><span class="s0">})){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Fd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;fit&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;fit-x&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;fit-y&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">?</span><span class="s2">`fit-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Hn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;fit&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Dd</span><span class="s0">=[</span><span class="s2">&quot;background&quot;</span><span class="s0">,</span><span class="s2">&quot;padding&quot;</span><span class="s0">];</span><span class="s4">function </span><span class="s1">Ad</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of Dd</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">params</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">class </span><span class="s1">kd</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">={},</span><span class="s1">n</span><span class="s0">={}){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">kd</span><span class="s0">(</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">),</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">))}</span><span class="s1">combine</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">)}</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">X</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">[</span><span class="s1">e</span><span class="s0">],</span><span class="s4">this</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])}</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">delete this</span><span class="s0">[</span><span class="s1">t</span><span class="s0">?</span><span class="s2">&quot;implicit&quot;</span><span class="s0">:</span><span class="s2">&quot;explicit&quot;</span><span class="s0">][</span><span class="s1">e</span><span class="s0">];</span><span class="s4">this</span><span class="s0">[</span><span class="s1">t</span><span class="s0">?</span><span class="s2">&quot;explicit&quot;</span><span class="s0">:</span><span class="s2">&quot;implicit&quot;</span><span class="s0">][</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">copyKeyFromSplit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">implicit</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">],</span><span class="s4">true</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">],</span><span class="s4">false</span><span class="s0">)}}</span><span class="s1">copyKeyFromObject</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">],</span><span class="s4">true</span><span class="s0">)}}</span><span class="s1">copyAll</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">combine</span><span class="s0">())){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">Cd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Sd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Ed</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">Bd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Bd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">yr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Pd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Bd</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">&amp;&amp;!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">_d </span><span class="s4">extends </span><span class="s1">kd</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">={},</span><span class="s1">n</span><span class="s0">={},</span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parseNothing</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">super</span><span class="s0">.</span><span class="s1">clone</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseNothing</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parseNothing</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">zd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;url&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Nd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;values&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Td</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;name&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">&amp;&amp;!</span><span class="s1">zd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">Nd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">Md</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Md</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&amp;&amp;(</span><span class="s1">Ld</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">qd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Ud</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">Ld</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;sequence&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;sphere&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ud</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;graticule&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Rd</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Raw&quot;</span><span class="s0">]=</span><span class="s3">0</span><span class="s0">]=</span><span class="s2">&quot;Raw&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Main&quot;</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">]=</span><span class="s2">&quot;Main&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Row&quot;</span><span class="s0">]=</span><span class="s3">2</span><span class="s0">]=</span><span class="s2">&quot;Row&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Column&quot;</span><span class="s0">]=</span><span class="s3">3</span><span class="s0">]=</span><span class="s2">&quot;Column&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Lookup&quot;</span><span class="s0">]=</span><span class="s3">4</span><span class="s0">]=</span><span class="s2">&quot;Lookup&quot;</span><span class="s0">})(</span><span class="s1">Rd</span><span class="s0">||(</span><span class="s1">Rd</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">Id</span><span class="s0">=</span><span class="s1">t</span><span class="s0">(</span><span class="s3">45948</span><span class="s0">);</span><span class="s4">var </span><span class="s1">Wd</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Hd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s4">true</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">D_</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Hd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">?</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s2">]`</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">(as(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">t</span><span class="s0">(</span><span class="s1">cs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">?</span><span class="s1">t</span><span class="s0">(</span><span class="s1">x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)):</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Gd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of T</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{})){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Sg</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">===</span><span class="s2">&quot;global&quot;</span><span class="s0">?</span><span class="s2">&quot;true&quot;</span><span class="s0">:</span><span class="s2">`{unit: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ng</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">}`</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of _g</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">i</span><span class="s0">))</span><span class="s4">continue</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">)</span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">modifyExpr</span><span class="s0">)</span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">modifyExpr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">t</span><span class="s0">+</span><span class="s1">Eg</span><span class="s0">,</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">Sg</span><span class="s0">},</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`modify(</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">Cg</span><span class="s0">)}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}]})}</span><span class="s4">return </span><span class="s1">Zd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Yd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">&amp;&amp;</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">).</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;cell&quot;</span><span class="s0">));</span><span class="s1">n</span><span class="s0">.</span><span class="s1">unshift</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;facet&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:{},</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Id</span><span class="s0">.</span><span class="s1">P</span><span class="s0">)(</span><span class="s2">&quot;mousemove&quot;</span><span class="s0">,</span><span class="s2">&quot;scope&quot;</span><span class="s0">),</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`isTuple(facet) ? facet : group(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">).datum`</span><span class="s0">}]})}</span><span class="s4">return </span><span class="s1">Zd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Kd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of T</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{})){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">+</span><span class="s1">Cg</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">t</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">===</span><span class="s2">&quot;global&quot;</span><span class="s0">?</span><span class="s2">&quot;union&quot;</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;point&quot;</span><span class="s0">?</span><span class="s2">&quot;, true, true)&quot;</span><span class="s0">:</span><span class="s2">&quot;)&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Pg</span><span class="s0">}</span><span class="s2">(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">})}</span><span class="s1">i</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of _g</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">topLevelSignals</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">topLevelSignals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s2">&quot;unit&quot;</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">unshift</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;unit&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:{},</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:</span><span class="s2">&quot;mousemove&quot;</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s2">&quot;isTuple(group()) ? group() : unit&quot;</span><span class="s0">}]})}}</span><span class="s4">return </span><span class="s1">Zd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Vd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[</span><span class="s1">...n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Ng</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">escape</span><span class="s0">:</span><span class="s4">false</span><span class="s0">});</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of T</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{})){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">Cg</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=[{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;collect&quot;</span><span class="s0">,</span><span class="s1">sort</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Ol</span><span class="s0">}}]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">init</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">signals</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Wd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;signals&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}));</span><span class="s1">e</span><span class="s0">.</span><span class="s1">values</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">?</span><span class="s1">s</span><span class="s0">.</span><span class="s1">init</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">unit</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,[</span><span class="s1">Ol</span><span class="s0">]:</span><span class="s1">Hd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)[</span><span class="s3">0</span><span class="s0">]}))):</span><span class="s1">s</span><span class="s0">.</span><span class="s1">init</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">unit</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">values</span><span class="s0">:</span><span class="s1">Hd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)})))}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">s</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">Cg</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Qd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of T</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{})){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of _g</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">marks</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">marks</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Xd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Qd</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">tb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">param</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">))&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]&gt;</span><span class="s1">i</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]?</span><span class="s2">`isValid(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">) &amp;&amp; reverse(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Zd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">on</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">on</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">on</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}))}</span><span class="s4">class </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">debugName</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parent</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}}</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Cannot clone node&quot;</span><span class="s0">)}</span><span class="s1">get parent</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_parent</span><span class="s0">}</span><span class="s1">set parent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parent</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">addChild</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}}</span><span class="s1">get children</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">}</span><span class="s1">numChildren</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">.</span><span class="s1">length</span><span class="s0">}</span><span class="s1">addChild</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Pi</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">remove</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parent</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">_parent</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parent</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parent</span><span class="s0">.</span><span class="s1">addChild</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">++)}}</span><span class="s1">insertAsParentOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s4">this</span><span class="s0">}</span><span class="s1">swapWithParent</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parent</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_children</span><span class="s0">=[];</span><span class="s1">e</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parent</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">addChild</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s4">this</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">np </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new this</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">debugName</span><span class="s0">=</span><span class="s2">`clone_</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">debugName</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">_source</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_source</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">=</span><span class="s2">`clone_</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">refCounts</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">refCounts</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">refCounts</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">]=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">refCounts</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_source</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">refCounts</span><span class="s0">&amp;&amp;!(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_name </span><span class="s4">in this</span><span class="s0">.</span><span class="s1">refCounts</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">refCounts</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">]=</span><span class="s3">0</span><span class="s0">}}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_hash</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_hash</span><span class="s0">=</span><span class="s2">`Output </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Z</span><span class="s0">()}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_hash</span><span class="s0">}</span><span class="s1">getSource</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">refCounts</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">]++;</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_source</span><span class="s0">}</span><span class="s1">isRequired</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">!!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">refCounts</span><span class="s0">[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">]}</span><span class="s1">setSource</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_source</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">tp</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">class </span><span class="s1">ip </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">ip</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">static </span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">reduceFieldDef</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">e</span><span class="s0">[</span><span class="s1">w</span><span class="s0">({as:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})]={as:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">z</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">return new </span><span class="s1">ip</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">makeFromTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">tp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,[</span><span class="s2">&quot;timeUnit&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">r</span><span class="s0">),{</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">s</span><span class="s0">});</span><span class="s4">return new </span><span class="s1">ip</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{[</span><span class="s1">w</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)]:</span><span class="s1">o</span><span class="s0">})}</span><span class="s1">merge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n </span><span class="s4">in </span><span class="s1">e</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s4">this</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">()}</span><span class="s1">removeFormulas</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">]</span><span class="s1">of M</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s1">T</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)))}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s1">T</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)))}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`TimeUnit </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of T</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,as:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),{</span><span class="s1">unit</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">utc</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">s</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s1">tp</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,[</span><span class="s2">&quot;unit&quot;</span><span class="s0">,</span><span class="s2">&quot;utc&quot;</span><span class="s0">]);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;timeunit&quot;</span><span class="s0">},</span><span class="s1">o</span><span class="s0">?{</span><span class="s1">units</span><span class="s0">:</span><span class="s1">Os</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)}:{}),</span><span class="s1">a</span><span class="s0">?{</span><span class="s1">timezone</span><span class="s0">:</span><span class="s2">&quot;utc&quot;</span><span class="s0">}:{}),</span><span class="s1">u</span><span class="s0">),{as:[</span><span class="s1">i</span><span class="s0">,</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">_end`</span><span class="s0">]}))}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">rp</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">const </span><span class="s1">sp</span><span class="s0">=</span><span class="s2">&quot;_tuple_fields&quot;</span><span class="s0">;</span><span class="s4">class </span><span class="s1">op</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">items</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasChannel</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasField</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">ap</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:()=&gt;</span><span class="s4">true</span><span class="s0">,</span><span class="s1">parse</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">=</span><span class="s4">new </span><span class="s1">op</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">u</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;visual&quot;</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">r</span><span class="s0">++){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s1">c</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">n</span><span class="s0">]:</span><span class="s1">i</span><span class="s0">}};</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">[</span><span class="s1">f</span><span class="s0">];</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">):</span><span class="s4">null</span><span class="s0">;</span><span class="s4">let</span><span class="s0">{</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">encodings</span><span class="s0">:</span><span class="s1">m</span><span class="s0">}=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">select</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">select</span><span class="s0">:{};</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">g</span><span class="s0">&amp;&amp;!</span><span class="s1">m</span><span class="s0">&amp;&amp;</span><span class="s1">p</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of p</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">dn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){(</span><span class="s1">m</span><span class="s0">||(</span><span class="s1">m</span><span class="s0">=[])).</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">===</span><span class="s2">&quot;interval&quot;</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ai</span><span class="s0">);</span><span class="s1">m</span><span class="s0">=</span><span class="s1">d</span><span class="s0">.</span><span class="s1">encodings</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{(</span><span class="s1">g</span><span class="s0">||(</span><span class="s1">g</span><span class="s0">=[])).</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}}}}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">g</span><span class="s0">&amp;&amp;!</span><span class="s1">m</span><span class="s0">){</span><span class="s1">m</span><span class="s0">=</span><span class="s1">d</span><span class="s0">.</span><span class="s1">encodings</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;fields&quot;</span><span class="s4">in </span><span class="s1">d</span><span class="s0">){</span><span class="s1">g</span><span class="s0">=</span><span class="s1">d</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of m</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">m</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">m</span><span class="s0">:[]){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">yi</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">));</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">bi</span><span class="s0">(</span><span class="s1">r</span><span class="s0">));</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">,as:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">};</span><span class="s1">u</span><span class="s0">[</span><span class="s1">w</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)]=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">a</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;E&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">===</span><span class="s2">&quot;interval&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">r</span><span class="s0">).</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;R&quot;</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;R-RE&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">={</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">i</span><span class="s0">};</span><span class="s1">s</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">l</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s2">&quot;data&quot;</span><span class="s0">)),</span><span class="s1">l</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s2">&quot;visual&quot;</span><span class="s0">));</span><span class="s1">o</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">s</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasField</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasChannel</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">a</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s1">Ol</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">bi</span><span class="s0">(</span><span class="s1">r</span><span class="s0">))}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of g</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">g</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">g</span><span class="s0">:[]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasField</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])</span><span class="s4">continue</span><span class="s0">;</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;E&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">r</span><span class="s0">};</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">l</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;data&quot;</span><span class="s0">));</span><span class="s1">o</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasField</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s1">Ol</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">init</span><span class="s0">=</span><span class="s1">p</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">]:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]:</span><span class="s1">e</span><span class="s0">))))}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">=</span><span class="s4">new </span><span class="s1">ip</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)}},</span><span class="s1">signals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">sp</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">i</span><span class="s0">));</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">signals</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">hasLegend</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">rp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;signals&quot;</span><span class="s0">,</span><span class="s2">&quot;hasLegend&quot;</span><span class="s0">]);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">field</span><span class="s0">=</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">field</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}))})}};</span><span class="s4">const </span><span class="s1">up</span><span class="s0">=</span><span class="s1">ap</span><span class="s0">;</span><span class="s4">const </span><span class="s1">cp</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;interval&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">===</span><span class="s2">&quot;global&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">===</span><span class="s2">&quot;scales&quot;</span><span class="s0">,</span><span class="s1">parse</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">ct</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">?</span><span class="s1">s</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">||!</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">wi</span><span class="s0">);</span><span class="s4">continue</span><span class="s0">}</span><span class="s1">s</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s2">&quot;selectionExtent&quot;</span><span class="s0">,{</span><span class="s1">param</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">field</span><span class="s0">},</span><span class="s4">true</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}},</span><span class="s1">topLevelSignals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)).</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">||</span><span class="s1">dp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">))[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">update</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">Pg</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">update</span><span class="s0">=</span><span class="s2">`{</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">))}</span><span class="s2">: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">data</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s2">}`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">))}</span><span class="s2">: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">data</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">.</span><span class="s1">substring</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">)}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">}`</span><span class="s0">}}</span><span class="s1">s</span><span class="s0">.</span><span class="s1">update</span><span class="s0">=</span><span class="s1">o</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">data</span><span class="s0">}))))},</span><span class="s1">signals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">&amp;&amp;!</span><span class="s1">dp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of n</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">data</span><span class="s0">))[</span><span class="s3">0</span><span class="s0">];</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">=</span><span class="s2">&quot;outer&quot;</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">n</span><span class="s0">.</span><span class="s1">update</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}};</span><span class="s4">const </span><span class="s1">lp</span><span class="s0">=</span><span class="s1">cp</span><span class="s0">;</span><span class="s4">function </span><span class="s1">fp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">return</span><span class="s2">`domain(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">dp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">&amp;&amp;</span><span class="s1">tx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">)&amp;&amp;((</span><span class="s1">n</span><span class="s0">=!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">dp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">))}</span><span class="s4">var </span><span class="s1">pp</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">const </span><span class="s1">gp</span><span class="s0">=</span><span class="s2">&quot;_brush&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">mp</span><span class="s0">=</span><span class="s2">&quot;_scale_trigger&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">hp</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;interval&quot;</span><span class="s0">,</span><span class="s1">signals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s1">sp</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">lp</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">init</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">init</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]:</span><span class="s4">null</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">translate</span><span class="s0">&amp;&amp;!</span><span class="s1">o</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s2">`!event.item || event.item.mark.name !== </span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">+</span><span class="s1">gp</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">;</span><span class="s1">vp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">var </span><span class="s1">s</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)((</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">between</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]).</span><span class="s1">filter</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">=[]);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}))}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(((</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">ce</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">le</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s2">&quot;Interval selections only support x and y encoding channels.&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">a</span><span class="s0">?</span><span class="s1">a</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]:</span><span class="s4">null</span><span class="s0">;</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">yp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">l</span><span class="s0">);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">data</span><span class="s0">;</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">visual</span><span class="s0">;</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">o</span><span class="s0">));</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">o</span><span class="s0">).</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">m</span><span class="s0">)?</span><span class="s2">&quot;+&quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...f</span><span class="s0">);</span><span class="s1">u</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">d</span><span class="s0">);</span><span class="s1">c</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">o</span><span class="s0">),</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">`(!isArray(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">d</span><span class="s0">}</span><span class="s2">) || `</span><span class="s0">+</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">h</span><span class="s0">}</span><span class="s2">invert(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">g</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">p</span><span class="s0">}</span><span class="s2">)[0] === </span><span class="s1">$</span><span class="s0">{</span><span class="s1">h</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">d</span><span class="s0">}</span><span class="s2">[0] &amp;&amp; `</span><span class="s0">+</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">h</span><span class="s0">}</span><span class="s2">invert(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">g</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">p</span><span class="s0">}</span><span class="s2">)[1] === </span><span class="s1">$</span><span class="s0">{</span><span class="s1">h</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">d</span><span class="s0">}</span><span class="s2">[1]))`</span><span class="s0">})}));</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">i</span><span class="s0">+</span><span class="s1">mp</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:{},</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">c</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">}))),</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">expr</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; &amp;&amp; &quot;</span><span class="s0">)} </span><span class="s2">? </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">+</span><span class="s1">mp</span><span class="s0">} </span><span class="s2">: {}`</span><span class="s0">}]})}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s2">`unit: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ng</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">, fields: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">, values`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">i</span><span class="s0">+</span><span class="s1">Sg</span><span class="s0">},</span><span class="s1">a</span><span class="s0">?{</span><span class="s1">init</span><span class="s0">:</span><span class="s2">`{</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Hd</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)}</span><span class="s2">}`</span><span class="s0">}:{}),</span><span class="s1">u</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?{</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:[{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; || &quot;</span><span class="s0">)}],</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; &amp;&amp; &quot;</span><span class="s0">)} </span><span class="s2">? {</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">: [</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">]} : null`</span><span class="s0">}]}:{}))},</span><span class="s1">marks</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">x</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasChannel</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">visual</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">o</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">visual</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s2">`data(</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">Cg</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">lp</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)||!</span><span class="s1">s</span><span class="s0">&amp;&amp;!</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">={</span><span class="s1">x</span><span class="s0">:</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">[0]`</span><span class="s0">}:{</span><span class="s1">value</span><span class="s0">:</span><span class="s3">0</span><span class="s0">},</span><span class="s1">y</span><span class="s0">:</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">[0]`</span><span class="s0">}:{</span><span class="s1">value</span><span class="s0">:</span><span class="s3">0</span><span class="s0">},</span><span class="s1">x2</span><span class="s0">:</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">[1]`</span><span class="s0">}:{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">}},</span><span class="s1">y2</span><span class="s0">:</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">[1]`</span><span class="s0">}:{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">}}};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">===</span><span class="s2">&quot;global&quot;</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of N</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)){</span><span class="s1">l</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=[</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">test</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">.length &amp;&amp; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">[0].unit === </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ng</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">},</span><span class="s1">l</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]),{</span><span class="s1">value</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}]}}</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">,{</span><span class="s1">fill</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">fillOpacity</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">cursor</span><span class="s0">:</span><span class="s1">g</span><span class="s0">}=</span><span class="s1">f</span><span class="s0">,</span><span class="s1">m</span><span class="s0">=</span><span class="s1">pp</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,[</span><span class="s2">&quot;fill&quot;</span><span class="s0">,</span><span class="s2">&quot;fillOpacity&quot;</span><span class="s0">,</span><span class="s2">&quot;cursor&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">m</span><span class="s0">).</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=[{</span><span class="s1">test</span><span class="s0">:[</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">[0] !== </span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">[1]`</span><span class="s0">,</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">[0] !== </span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">[1]`</span><span class="s0">].</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; &amp;&amp; &quot;</span><span class="s0">),</span><span class="s1">value</span><span class="s0">:</span><span class="s1">m</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]},{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}];</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{});</span><span class="s4">return</span><span class="s0">[{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">+</span><span class="s1">gp</span><span class="s0">}</span><span class="s2">_bg`</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;rect&quot;</span><span class="s0">,</span><span class="s1">clip</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">enter</span><span class="s0">:{</span><span class="s1">fill</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">d</span><span class="s0">},</span><span class="s1">fillOpacity</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">p</span><span class="s0">}},</span><span class="s1">update</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}},</span><span class="s1">...t</span><span class="s0">,{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">i</span><span class="s0">+</span><span class="s1">gp</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;rect&quot;</span><span class="s0">,</span><span class="s1">clip</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">enter</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">g</span><span class="s0">?{</span><span class="s1">cursor</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">g</span><span class="s0">}}:{}),{</span><span class="s1">fill</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s2">&quot;transparent&quot;</span><span class="s0">}}),</span><span class="s1">update</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">l</span><span class="s0">),</span><span class="s1">h</span><span class="s0">)}}]}};</span><span class="s4">const </span><span class="s1">bp</span><span class="s0">=</span><span class="s1">hp</span><span class="s0">;</span><span class="s4">function </span><span class="s1">yp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">visual</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">data</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">lp</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">s</span><span class="s0">));</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">l</span><span class="s0">?</span><span class="s1">l</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">`scale(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s1">ce</span><span class="s0">?</span><span class="s2">&quot;width&quot;</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">).</span><span class="s1">signal</span><span class="s0">;</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">(unit)`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">vp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;[</span><span class="s1">...e</span><span class="s0">,{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">between</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">g</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">g</span><span class="s0">}</span><span class="s2">]`</span><span class="s0">},{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">[0], clamp(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">g</span><span class="s0">}</span><span class="s2">, 0, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">p</span><span class="s0">}</span><span class="s2">)]`</span><span class="s0">}]));</span><span class="s1">m</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">events</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">mp</span><span class="s0">},</span><span class="s1">update</span><span class="s0">:</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">f</span><span class="s0">)?</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">d</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">[0]`</span><span class="s0">)}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">d</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">[1]`</span><span class="s0">)}</span><span class="s2">]`</span><span class="s0">:</span><span class="s2">`[0, 0]`</span><span class="s0">});</span><span class="s4">return </span><span class="s1">u</span><span class="s0">?[{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">on</span><span class="s0">:[]}]:[</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">o</span><span class="s0">},</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">init</span><span class="s0">:</span><span class="s1">Hd</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s4">true</span><span class="s0">,</span><span class="s1">d</span><span class="s0">)}:{</span><span class="s1">value</span><span class="s0">:[]}),{</span><span class="s1">on</span><span class="s0">:</span><span class="s1">m</span><span class="s0">}),</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">a</span><span class="s0">},</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">init</span><span class="s0">:</span><span class="s1">Hd</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}:{}),{</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">o</span><span class="s0">},</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">[0] === </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">[1] ? null : invert(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}]})]}</span><span class="s4">function </span><span class="s1">vp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">events</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">between</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">is not an ordered event stream for interval selections.`</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}),[])}</span><span class="s4">const </span><span class="s1">Op</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s1">signals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">+</span><span class="s1">sp</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s2">&quot;(item().isVoronoi ? datum.datum : datum)&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">T</span><span class="s0">((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:{}).</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;interval&quot;</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">gp</span><span class="s0">):</span><span class="s1">e</span><span class="s0">),[]).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">`indexof(item().mark.name, '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">') &lt; 0`</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; &amp;&amp; &quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s2">`datum &amp;&amp; item().mark.marktype !== 'group' &amp;&amp; indexof(item().mark.role, 'legend') &lt; 0</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">?</span><span class="s2">` &amp;&amp; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">let </span><span class="s1">f</span><span class="s0">=</span><span class="s2">`unit: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ng</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">, `</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">){</span><span class="s1">f</span><span class="s0">+=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ol</span><span class="s0">}</span><span class="s2">: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">[</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">Ol</span><span class="s0">)}</span><span class="s2">]`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">);</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)?</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">[</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">,{}))}</span><span class="s2">], `</span><span class="s0">+</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">[</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">}))}</span><span class="s2">]]`</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">[</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)}</span><span class="s2">]`</span><span class="s0">})).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">);</span><span class="s1">f</span><span class="s0">+=</span><span class="s2">`fields: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">, values: [</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">]`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">events</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">([{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">s</span><span class="s0">+</span><span class="s1">Sg</span><span class="s0">,</span><span class="s1">on</span><span class="s0">:</span><span class="s1">d</span><span class="s0">?[{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">} </span><span class="s2">? {</span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">}</span><span class="s2">} : null`</span><span class="s0">,</span><span class="s1">force</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}]:[]}])}};</span><span class="s4">const </span><span class="s1">xp</span><span class="s0">=</span><span class="s1">Op</span><span class="s0">;</span><span class="s4">function </span><span class="s1">wp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">au</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">i</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">eu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">param</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">empty</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">nb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">param</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">empty</span><span class="s0">:</span><span class="s1">r</span><span class="s0">});</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">test</span><span class="s0">:</span><span class="s1">s</span><span class="s0">},</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">rb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">test</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">test</span><span class="s0">:</span><span class="s1">i</span><span class="s0">},</span><span class="s1">t</span><span class="s0">)}}));</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">t</span><span class="s0">]:[</span><span class="s1">...a</span><span class="s0">,</span><span class="s1">...o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?[</span><span class="s1">o</span><span class="s0">]:[]]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{[</span><span class="s1">t</span><span class="s0">]:</span><span class="s1">o</span><span class="s0">}:{}}}</span><span class="s4">function </span><span class="s1">jp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;text&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">return </span><span class="s1">wp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">Fp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">Fp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;datum&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">Lu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Pa</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">={}){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">tooltip</span><span class="s0">:</span><span class="s1">Ap</span><span class="s0">({</span><span class="s1">tooltip</span><span class="s0">:</span><span class="s1">a</span><span class="s0">},</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">reactiveGeom</span><span class="s0">?</span><span class="s2">&quot;datum.datum&quot;</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">;</span><span class="s4">return </span><span class="s1">wp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s2">&quot;tooltip&quot;</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Fp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">let </span><span class="s1">c</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;tooltip&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">c</span><span class="s0">={</span><span class="s1">content</span><span class="s0">:</span><span class="s2">&quot;encoding&quot;</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">content</span><span class="s0">===</span><span class="s2">&quot;encoding&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ap</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}))}}</span><span class="s4">function </span><span class="s1">Dp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">reactiveGeom</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}={}){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s2">&quot;datum.datum&quot;</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[];</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">u</span><span class="s0">){</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">hn</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">i</span><span class="s0">),{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">c</span><span class="s0">].</span><span class="s1">type</span><span class="s0">});</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">title</span><span class="s0">||</span><span class="s1">Mu</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">f</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">);</span><span class="s4">let </span><span class="s1">p</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">u</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;x2&quot;</span><span class="s0">:</span><span class="s2">&quot;y2&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">l</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">o</span><span class="s0">});</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">o</span><span class="s0">});</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">Lu</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s1">p</span><span class="s0">=</span><span class="s1">Ra</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">s</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">((</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)||</span><span class="s1">u</span><span class="s0">===</span><span class="s1">be</span><span class="s0">||</span><span class="s1">u</span><span class="s0">===</span><span class="s1">me</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">fieldChannel</span><span class="s0">===</span><span class="s1">u</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">===</span><span class="s2">&quot;normalize&quot;</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">Lu</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s1">p</span><span class="s0">=</span><span class="s1">Pa</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">normalizeStack</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}).</span><span class="s1">signal</span><span class="s0">}</span><span class="s1">p</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">p</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">p</span><span class="s0">:</span><span class="s1">p</span><span class="s0">=</span><span class="s1">Fp</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">o</span><span class="s0">).</span><span class="s1">signal</span><span class="s0">;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">key</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">p</span><span class="s0">})}</span><span class="s1">jc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">uu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}));</span><span class="s4">const </span><span class="s1">c</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">{</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">key</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}</span><span class="s1">of a</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]&amp;&amp;!</span><span class="s1">c</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]){</span><span class="s1">c</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]=</span><span class="s1">f</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">c</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ap</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">reactiveGeom</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}={}){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Dp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">reactiveGeom</span><span class="s0">:</span><span class="s1">i</span><span class="s0">});</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">M</span><span class="s0">(</span><span class="s1">r</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((([</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">])=&gt;</span><span class="s2">`&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">));</span><span class="s4">return </span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`{</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s2">}`</span><span class="s0">}:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">kp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;aria&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">aria</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}:{}),</span><span class="s1">Cp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">Sp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">Cp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">aria</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;ariaRoleDescription&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">ariaRoleDescription</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">n </span><span class="s4">in </span><span class="s1">Wt</span><span class="s0">?{}:{</span><span class="s1">ariaRoleDescription</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">Sp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">description</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">return </span><span class="s1">wp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s2">&quot;description&quot;</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">Fp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">)))}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;description&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">description</span><span class="s0">:</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">aria</span><span class="s0">===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Dp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">z</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">description</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">M</span><span class="s0">(</span><span class="s1">a</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((([</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">],</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s2">`&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;; &quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">: &quot; + (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; + &quot;</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">Ep</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">={}){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">let</span><span class="s0">{</span><span class="s1">defaultRef</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">u</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">u</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">u</span><span class="s0">:</span><span class="s1">u</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">ignoreVgConfig</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">return </span><span class="s1">wp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">ka</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channelDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">stack</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">defaultRef</span><span class="s0">:</span><span class="s1">a</span><span class="s0">})))}</span><span class="s4">function </span><span class="s1">Bp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">={</span><span class="s1">filled</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">filled</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;filled&quot;</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;bar&quot;</span><span class="s0">,</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s2">&quot;circle&quot;</span><span class="s0">,</span><span class="s2">&quot;square&quot;</span><span class="s0">,</span><span class="s2">&quot;geoshape&quot;</span><span class="s0">],</span><span class="s1">c</span><span class="s0">)?</span><span class="s2">&quot;transparent&quot;</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s1">l</span><span class="s0">===</span><span class="s4">true</span><span class="s0">?</span><span class="s2">&quot;color&quot;</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s2">&quot;fill&quot;</span><span class="s0">}))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">[</span><span class="s1">l</span><span class="s0">===</span><span class="s4">true</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;color&quot;</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">f</span><span class="s0">;</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s1">l</span><span class="s0">===</span><span class="s4">false</span><span class="s0">?</span><span class="s2">&quot;color&quot;</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s2">&quot;stroke&quot;</span><span class="s0">}))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">[</span><span class="s1">l</span><span class="s0">===</span><span class="s4">false</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;color&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">l</span><span class="s0">?</span><span class="s2">&quot;fill&quot;</span><span class="s0">:</span><span class="s2">&quot;stroke&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">d</span><span class="s0">?{</span><span class="s1">fill</span><span class="s0">:</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">d</span><span class="s0">)}:{}),</span><span class="s1">p</span><span class="s0">?{</span><span class="s1">stroke</span><span class="s0">:</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">p</span><span class="s0">)}:{});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">color</span><span class="s0">&amp;&amp;(</span><span class="s1">l</span><span class="s0">?</span><span class="s1">o</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Gi</span><span class="s0">(</span><span class="s2">&quot;property&quot;</span><span class="s0">,{</span><span class="s1">fill</span><span class="s0">:</span><span class="s2">&quot;fill&quot;</span><span class="s4">in </span><span class="s1">o</span><span class="s0">,</span><span class="s1">stroke</span><span class="s0">:</span><span class="s2">&quot;stroke&quot;</span><span class="s4">in </span><span class="s1">o</span><span class="s0">}))}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">m</span><span class="s0">),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;color&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s1">l</span><span class="s0">?</span><span class="s1">d</span><span class="s0">:</span><span class="s1">p</span><span class="s0">})),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;fill&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">?</span><span class="s1">d</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">})),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;stroke&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">?</span><span class="s1">p</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}))}</span><span class="s4">function </span><span class="s1">Pp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">order</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">ea</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">wp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s2">&quot;zindex&quot;</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)))}</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">function </span><span class="s1">_p</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">={},</span><span class="s1">model</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">Offset`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">if</span><span class="s0">((</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;xOffset&quot;</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;yOffset&quot;</span><span class="s0">)&amp;&amp;</span><span class="s1">a</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">ka</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">channelDef</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">config</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">s</span><span class="s0">),</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">s</span><span class="s0">),</span><span class="s1">stack</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">defaultRef</span><span class="s0">:</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">),</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">r</span><span class="s0">});</span><span class="s4">return</span><span class="s0">{</span><span class="s1">offsetType</span><span class="s0">:</span><span class="s2">&quot;encoding&quot;</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">offsetType</span><span class="s0">:</span><span class="s2">&quot;visual&quot;</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">function </span><span class="s1">zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)];</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">offsetType</span><span class="s0">:</span><span class="s1">p</span><span class="s0">}=</span><span class="s1">_p</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s3">.5</span><span class="s0">});</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">Tp</span><span class="s0">({</span><span class="s1">model</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">f</span><span class="s0">});</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=!</span><span class="s1">u</span><span class="s0">&amp;&amp;</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">latitude</span><span class="s0">||</span><span class="s1">r</span><span class="s0">.</span><span class="s1">longitude</span><span class="s0">)?{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}:</span><span class="s1">Np</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channelDef</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">channel2Def</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">defaultRef</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">p</span><span class="s0">===</span><span class="s2">&quot;encoding&quot;</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">});</span><span class="s4">return </span><span class="s1">m</span><span class="s0">?{[</span><span class="s1">i</span><span class="s0">||</span><span class="s1">e</span><span class="s0">]:</span><span class="s1">m</span><span class="s0">}:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Np</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channelDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s1">r</span><span class="s0">.</span><span class="s1">fieldChannel</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">bandPosition</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;text&quot;</span><span class="s0">&amp;&amp;(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;radius&quot;</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;theta&quot;</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s3">.5</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Aa</span><span class="s0">({</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">startSuffix</span><span class="s0">:</span><span class="s2">&quot;start&quot;</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})}}</span><span class="s4">return </span><span class="s1">Da</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,{</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">},{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">xa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Tp</span><span class="s0">({</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s0">()=&gt;{</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">hn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">bn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">u</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ca</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)}</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;zeroOrMin&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;zeroOrMax&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s1">no</span><span class="s0">.</span><span class="s1">LOG</span><span class="s0">,</span><span class="s1">no</span><span class="s0">.</span><span class="s1">TIME</span><span class="s0">,</span><span class="s1">no</span><span class="s0">.</span><span class="s1">UTC</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)){}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">domainDefinitelyIncludesZero</span><span class="s0">()){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;zeroOrMin&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">a</span><span class="s0">===</span><span class="s2">&quot;y&quot;</span><span class="s0">?{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">}}:{</span><span class="s1">value</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;radius&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`min(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">width</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">,</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">height</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">)/2`</span><span class="s0">};</span><span class="s4">case</span><span class="s2">&quot;theta&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;2*PI&quot;</span><span class="s0">};</span><span class="s4">case</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">}};</span><span class="s4">case</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}}}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;mid&quot;</span><span class="s0">:{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)];</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">mult</span><span class="s0">:</span><span class="s3">.5</span><span class="s0">})}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">Mp</span><span class="s0">={</span><span class="s1">left</span><span class="s0">:</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s1">center</span><span class="s0">:</span><span class="s2">&quot;xc&quot;</span><span class="s0">,</span><span class="s1">right</span><span class="s0">:</span><span class="s2">&quot;x2&quot;</span><span class="s0">};</span><span class="s4">const </span><span class="s1">Lp</span><span class="s0">={</span><span class="s1">top</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s1">middle</span><span class="s0">:</span><span class="s2">&quot;yc&quot;</span><span class="s0">,</span><span class="s1">bottom</span><span class="s0">:</span><span class="s2">&quot;y2&quot;</span><span class="s0">};</span><span class="s4">function </span><span class="s1">qp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;middle&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;radius&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;theta&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">bn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;align&quot;</span><span class="s0">:</span><span class="s2">&quot;baseline&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">let </span><span class="s1">o</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">ir</span><span class="s0">(</span><span class="s1">r</span><span class="s0">));</span><span class="s1">o</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Mp</span><span class="s0">[</span><span class="s1">o</span><span class="s0">||(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;top&quot;</span><span class="s0">?</span><span class="s2">&quot;left&quot;</span><span class="s0">:</span><span class="s2">&quot;center&quot;</span><span class="s0">)]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Lp</span><span class="s0">[</span><span class="s1">o</span><span class="s0">||</span><span class="s1">i</span><span class="s0">]}}</span><span class="s4">function </span><span class="s1">Up</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">defaultPos2</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Rp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">defaultPos2</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">Rp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">defaultPos2</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">Ip</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">u</span><span class="s0">[</span><span class="s1">a</span><span class="s0">]?</span><span class="s1">qp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">):</span><span class="s1">bn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">c</span><span class="s0">})),</span><span class="s1">u</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ip</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">hn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">bn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">u</span><span class="s0">];</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">g</span><span class="s0">}=</span><span class="s1">t </span><span class="s4">in </span><span class="s1">i</span><span class="s0">||</span><span class="s1">t </span><span class="s4">in </span><span class="s1">s</span><span class="s0">?</span><span class="s1">_p</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}):</span><span class="s1">_p</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">f</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;x2&quot;</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;y2&quot;</span><span class="s0">)&amp;&amp;(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">latitude</span><span class="s0">||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">longitude</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">n</span><span class="s0">]:{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">l</span><span class="s0">]:{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}}}</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">Wp</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">channelDef</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">channel2Def</span><span class="s0">:</span><span class="s1">i</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">defaultRef</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">m</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">l</span><span class="s0">]:</span><span class="s1">m</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">Hp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)||</span><span class="s1">Hp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{[</span><span class="s1">t</span><span class="s0">]:</span><span class="s1">si</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">style</span><span class="s0">),[</span><span class="s1">c</span><span class="s0">]:</span><span class="s1">si</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">style</span><span class="s0">)})||</span><span class="s1">Hp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">a</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])||</span><span class="s1">Hp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">)||{[</span><span class="s1">l</span><span class="s0">]:</span><span class="s1">Tp</span><span class="s0">({</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">p</span><span class="s0">})()}}</span><span class="s4">function </span><span class="s1">Wp</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channelDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channel2Def</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">defaultRef</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">a</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)===</span><span class="s1">a</span><span class="s0">.</span><span class="s1">fieldChannel</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Da</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;start&quot;</span><span class="s0">},{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">u</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">xa</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channelDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">defaultRef</span><span class="s0">:</span><span class="s1">c</span><span class="s0">})}</span><span class="s4">function </span><span class="s1">Hp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">bn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">i</span><span class="s0">]:</span><span class="s1">Ca</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">i</span><span class="s0">]:</span><span class="s1">Ca</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ga</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Yi</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">t</span><span class="s0">]:</span><span class="s1">Ca</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Gp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">u</span><span class="s0">];</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">d</span><span class="s0">?</span><span class="s1">d</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">;</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">c</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">size</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">c</span><span class="s0">});</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">a</span><span class="s0">===</span><span class="s2">&quot;bar&quot;</span><span class="s0">&amp;&amp;(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s1">g</span><span class="s0">===</span><span class="s2">&quot;vertical&quot;</span><span class="s0">:</span><span class="s1">g</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)&amp;&amp;(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">l</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">l</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||</span><span class="s1">l</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">&amp;&amp;!</span><span class="s1">f</span><span class="s0">)&amp;&amp;!(</span><span class="s1">m</span><span class="s0">&amp;&amp;!</span><span class="s1">ga</span><span class="s0">(</span><span class="s1">m</span><span class="s0">))&amp;&amp;!</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">p</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Qp</span><span class="s0">({</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">fieldDef2</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">((</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)&amp;&amp;</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">p</span><span class="s0">)||</span><span class="s1">h</span><span class="s0">)&amp;&amp;!</span><span class="s1">f</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Kp</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Rp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;zeroOrMax&quot;</span><span class="s0">,</span><span class="s1">defaultPos2</span><span class="s0">:</span><span class="s2">&quot;zeroOrMin&quot;</span><span class="s0">})}}</span><span class="s4">function </span><span class="s1">Yp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ga</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;band&quot;</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s2">`bandwidth('</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">')`</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">band</span><span class="s0">!==</span><span class="s3">1</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">band</span><span class="s0">} </span><span class="s2">* </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`max(0.25, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">band</span><span class="s0">!==</span><span class="s3">1</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">ur</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s1">s</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">mult</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">band</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;range&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">-</span><span class="s3">2</span><span class="s0">}}}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">ql</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">view</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">o</span><span class="s0">-</span><span class="s3">2</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Kp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">On</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">p</span><span class="s0">);</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">u</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;y&quot;</span><span class="s0">||</span><span class="s1">u</span><span class="s0">===</span><span class="s2">&quot;vertical&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">;</span><span class="s4">let </span><span class="s1">h</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">size</span><span class="s0">||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">size</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">m</span><span class="s0">){</span><span class="s1">h</span><span class="s0">=</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">defaultRef</span><span class="s0">:</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">size</span><span class="s0">)})}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">dr</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">))}}</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=!!</span><span class="s1">h</span><span class="s0">;</span><span class="s4">const </span><span class="s1">y</span><span class="s0">=</span><span class="s1">su</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">l</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">l</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">l</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">),</span><span class="s1">useVlSizeChannel</span><span class="s0">:</span><span class="s1">m</span><span class="s0">});</span><span class="s1">h</span><span class="s0">=</span><span class="s1">h</span><span class="s0">||{[</span><span class="s1">f</span><span class="s0">]:</span><span class="s1">Yp</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">g</span><span class="s0">||</span><span class="s1">c</span><span class="s0">,</span><span class="s1">l</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">y</span><span class="s0">)};</span><span class="s4">const </span><span class="s1">v</span><span class="s0">=(</span><span class="s1">l</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">l</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">l</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">))===</span><span class="s2">&quot;band&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">ga</span><span class="s0">(</span><span class="s1">y</span><span class="s0">)&amp;&amp;!</span><span class="s1">b</span><span class="s0">?</span><span class="s2">&quot;top&quot;</span><span class="s0">:</span><span class="s2">&quot;middle&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">O</span><span class="s0">=</span><span class="s1">qp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">v</span><span class="s0">);</span><span class="s4">const </span><span class="s1">x</span><span class="s0">=</span><span class="s1">O</span><span class="s0">===</span><span class="s2">&quot;xc&quot;</span><span class="s0">||</span><span class="s1">O</span><span class="s0">===</span><span class="s2">&quot;yc&quot;</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">w</span><span class="s0">,</span><span class="s1">offsetType</span><span class="s0">:</span><span class="s1">j</span><span class="s0">}=</span><span class="s1">_p</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">x</span><span class="s0">?</span><span class="s3">.5</span><span class="s0">:</span><span class="s3">0</span><span class="s0">});</span><span class="s4">const </span><span class="s1">F</span><span class="s0">=</span><span class="s1">xa</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channelDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">w</span><span class="s0">,</span><span class="s1">defaultRef</span><span class="s0">:</span><span class="s1">Tp</span><span class="s0">({</span><span class="s1">model</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}),</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">x</span><span class="s0">?</span><span class="s1">j</span><span class="s0">===</span><span class="s2">&quot;encoding&quot;</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s3">.5</span><span class="s0">:</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">y</span><span class="s0">)?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`(1-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">}</span><span class="s2">)/2`</span><span class="s0">}:</span><span class="s1">ga</span><span class="s0">(</span><span class="s1">y</span><span class="s0">)?(</span><span class="s3">1</span><span class="s0">-</span><span class="s1">y</span><span class="s0">.</span><span class="s1">band</span><span class="s0">)/</span><span class="s3">2</span><span class="s0">:</span><span class="s3">0</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({[</span><span class="s1">O</span><span class="s0">]:</span><span class="s1">F</span><span class="s0">},</span><span class="s1">h</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">bn</span><span class="s0">(</span><span class="s1">d</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">h</span><span class="s0">[</span><span class="s1">f</span><span class="s0">];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">w</span><span class="s0">?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">w</span><span class="s0">}):</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">O</span><span class="s0">]:</span><span class="s1">F</span><span class="s0">,[</span><span class="s1">e</span><span class="s0">]:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">F</span><span class="s0">)?[</span><span class="s1">F</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">F</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]),{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})]:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">F</span><span class="s0">),{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}}}</span><span class="s4">function </span><span class="s1">Vp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">We</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s3">0</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;y2&quot;</span><span class="s0">?-</span><span class="s1">n</span><span class="s0">/</span><span class="s3">2</span><span class="s0">:</span><span class="s1">n</span><span class="s0">/</span><span class="s3">2</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)||</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">o</span><span class="s0">?</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">} </span><span class="s2">+ `</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">?</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">? -1 : 1) * `</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">+ </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">:</span><span class="s1">s</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">a</span><span class="s0">+</span><span class="s1">u</span><span class="s0">+</span><span class="s1">c</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">||</span><span class="s3">0</span><span class="s0">;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">+(</span><span class="s1">t</span><span class="s0">?-</span><span class="s1">r</span><span class="s0">-</span><span class="s1">s</span><span class="s0">:+</span><span class="s1">r</span><span class="s0">+</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Qp</span><span class="s0">({</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldDef2</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">l</span><span class="s0">?</span><span class="s1">l</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;reverse&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">su</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">d</span><span class="s0">});</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">[</span><span class="s1">t</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">m</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">m</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">m</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;translate&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s3">.5</span><span class="s0">;</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?(</span><span class="s1">o</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;binSpacing&quot;</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">a</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s3">0</span><span class="s0">:</span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">y</span><span class="s0">=</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">v</span><span class="s0">=</span><span class="s1">bn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">O</span><span class="s0">=</span><span class="s1">bn</span><span class="s0">(</span><span class="s1">y</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">x</span><span class="s0">}=</span><span class="s1">_p</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s3">0</span><span class="s0">});</span><span class="s4">const </span><span class="s1">w</span><span class="s0">=</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">g</span><span class="s0">)?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`(1-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">g</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">)/2`</span><span class="s0">}:</span><span class="s1">ga</span><span class="s0">(</span><span class="s1">g</span><span class="s0">)?(</span><span class="s3">1</span><span class="s0">-</span><span class="s1">g</span><span class="s0">.</span><span class="s1">band</span><span class="s0">)/</span><span class="s3">2</span><span class="s0">:</span><span class="s3">.5</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">O</span><span class="s0">]:</span><span class="s1">Xp</span><span class="s0">({</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">w</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">Vp</span><span class="s0">(</span><span class="s1">y</span><span class="s0">,</span><span class="s1">b</span><span class="s0">,</span><span class="s1">p</span><span class="s0">,</span><span class="s1">h</span><span class="s0">,</span><span class="s1">x</span><span class="s0">)}),[</span><span class="s1">v</span><span class="s0">]:</span><span class="s1">Xp</span><span class="s0">({</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">w</span><span class="s0">)?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`1-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}:</span><span class="s3">1</span><span class="s0">-</span><span class="s1">w</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">Vp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">b</span><span class="s0">,</span><span class="s1">p</span><span class="s0">,</span><span class="s1">h</span><span class="s0">,</span><span class="s1">x</span><span class="s0">)})}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Da</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,{},{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">Vp</span><span class="s0">(</span><span class="s1">y</span><span class="s0">,</span><span class="s1">b</span><span class="s0">,</span><span class="s1">p</span><span class="s0">,</span><span class="s1">h</span><span class="s0">,</span><span class="s1">x</span><span class="s0">)});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">O</span><span class="s0">]:</span><span class="s1">i</span><span class="s0">,[</span><span class="s1">v</span><span class="s0">]:</span><span class="s1">Da</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,{},{</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">Vp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">b</span><span class="s0">,</span><span class="s1">p</span><span class="s0">,</span><span class="s1">h</span><span class="s0">,</span><span class="s1">x</span><span class="s0">)})}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">.</span><span class="s1">step</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">O</span><span class="s0">]:</span><span class="s1">i</span><span class="s0">,[</span><span class="s1">v</span><span class="s0">]:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`scale(&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">}</span><span class="s2">&quot;, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">})} </span><span class="s2">+ </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">.</span><span class="s1">step</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">Vp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">b</span><span class="s0">,</span><span class="s1">p</span><span class="s0">,</span><span class="s1">h</span><span class="s0">,</span><span class="s1">x</span><span class="s0">)}}}}</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Nr</span><span class="s0">(</span><span class="s1">y</span><span class="s0">));</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Xp</span><span class="s0">({</span><span class="s1">fieldDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">return </span><span class="s1">Aa</span><span class="s0">({</span><span class="s1">scaleName</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})}</span><span class="s4">const </span><span class="s1">Jp</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;aria&quot;</span><span class="s0">,</span><span class="s2">&quot;width&quot;</span><span class="s0">,</span><span class="s2">&quot;height&quot;</span><span class="s0">]);</span><span class="s4">function </span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">fill</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">stroke</span><span class="s0">:</span><span class="s1">i</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">color</span><span class="s0">===</span><span class="s2">&quot;include&quot;</span><span class="s0">?</span><span class="s1">Bp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):{};</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">ng</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)),</span><span class="s1">eg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;fill&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)),</span><span class="s1">eg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;stroke&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;opacity&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;fillOpacity&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;strokeOpacity&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;strokeWidth&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;strokeDash&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">Pp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">$p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">jp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;href&quot;</span><span class="s0">)),</span><span class="s1">kp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">eg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;invalid&quot;</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">===</span><span class="s2">&quot;hide&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">&amp;&amp;!</span><span class="s1">ea</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">tg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">invalid</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">channels</span><span class="s0">:</span><span class="s1">ut</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">n</span><span class="s0">]:[{</span><span class="s1">test</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s4">null</span><span class="s0">},</span><span class="s1">...</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)]}}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">?{[</span><span class="s1">n</span><span class="s0">]:</span><span class="s1">t</span><span class="s0">}:{}}</span><span class="s4">function </span><span class="s1">ng</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">It</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Jp</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]!==</span><span class="s2">&quot;ignore&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}),{})}</span><span class="s4">function </span><span class="s1">tg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">invalid</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s4">false</span><span class="s0">,</span><span class="s1">channels</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}),{});</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s2">&quot;||&quot;</span><span class="s0">:</span><span class="s2">&quot;&amp;&amp;&quot;</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Fa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">` </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ig</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;invalid&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">rg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">channels</span><span class="s0">:</span><span class="s1">Un</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">defined</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}}}</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">function </span><span class="s1">rg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">invalid</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s4">false</span><span class="s0">,</span><span class="s1">channels</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">,</span><span class="s1">binSuffix</span><span class="s0">:((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">)?</span><span class="s2">&quot;mid&quot;</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}),{});</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s2">&quot;||&quot;</span><span class="s0">:</span><span class="s2">&quot;&amp;&amp;&quot;</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Fa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">` </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">sg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">e</span><span class="s0">]:</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">og</span><span class="s0">=</span><span class="s2">&quot;voronoi&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">ag</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;point&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">nearest</span><span class="s0">,</span><span class="s1">parse</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">events</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of n</span><span class="s0">.</span><span class="s1">events</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">markname</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">og</span><span class="s0">)}}},</span><span class="s1">marks</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">x</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasChannel</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ea</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">vi</span><span class="s0">(</span><span class="s1">s</span><span class="s0">));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">og</span><span class="s0">),</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;path&quot;</span><span class="s0">,</span><span class="s1">interactive</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">from</span><span class="s0">:{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;marks&quot;</span><span class="s0">)},</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">fill</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s2">&quot;transparent&quot;</span><span class="s0">},</span><span class="s1">strokeWidth</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s3">.35</span><span class="s0">},</span><span class="s1">stroke</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s2">&quot;transparent&quot;</span><span class="s0">},</span><span class="s1">isVoronoi</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}},</span><span class="s1">$p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">reactiveGeom</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}))},</span><span class="s1">transform</span><span class="s0">:[{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;voronoi&quot;</span><span class="s0">,</span><span class="s1">x</span><span class="s0">:{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">i</span><span class="s0">||!</span><span class="s1">r</span><span class="s0">?</span><span class="s2">&quot;datum.datum.x || 0&quot;</span><span class="s0">:</span><span class="s2">&quot;0&quot;</span><span class="s0">},</span><span class="s1">y</span><span class="s0">:{</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">r</span><span class="s0">||!</span><span class="s1">i</span><span class="s0">?</span><span class="s2">&quot;datum.datum.y || 0&quot;</span><span class="s0">:</span><span class="s2">&quot;0&quot;</span><span class="s0">},</span><span class="s1">size</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s2">&quot;height&quot;</span><span class="s0">)]}]};</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">name</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">og</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s1">u</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}));</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">u</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">a</span><span class="s0">+</span><span class="s3">1</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}};</span><span class="s4">const </span><span class="s1">ug</span><span class="s0">=</span><span class="s1">ag</span><span class="s0">;</span><span class="s4">const </span><span class="s1">cg</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;point&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">===</span><span class="s2">&quot;global&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">!==</span><span class="s2">&quot;scales&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">wl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">),</span><span class="s1">parse</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">Mg</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">topLevelSignals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">init</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">init</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">ug</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s2">&quot;(item().isVoronoi ? datum.datum : datum)&quot;</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">c</span><span class="s0">,</span><span class="s1">l</span><span class="s0">;</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">f</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">d</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">unshift</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">f</span><span class="s0">},</span><span class="s1">a</span><span class="s0">?{</span><span class="s1">init</span><span class="s0">:</span><span class="s1">Hd</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">s</span><span class="s0">])}:{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}),{</span><span class="s1">on</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">events</span><span class="s0">?[{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">events</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`datum &amp;&amp; item().mark.marktype !== 'group' ? </span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">[</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)}</span><span class="s2">] : null`</span><span class="s0">}]:[],</span><span class="s1">bind</span><span class="s0">:(</span><span class="s1">l</span><span class="s0">=(</span><span class="s1">c</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">c</span><span class="s0">:</span><span class="s1">o</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">l</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">l</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}))}}));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">},</span><span class="s1">signals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">i</span><span class="s0">+</span><span class="s1">Sg</span><span class="s0">))[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s1">sp</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">q</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">!== null`</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; &amp;&amp; &quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">update</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">} </span><span class="s2">? {fields: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">, values: [</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s2">]} : null`</span><span class="s0">}</span><span class="s4">delete </span><span class="s1">s</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">s</span><span class="s0">.</span><span class="s1">on</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}};</span><span class="s4">const </span><span class="s1">lg</span><span class="s0">=</span><span class="s1">cg</span><span class="s0">;</span><span class="s4">const </span><span class="s1">fg</span><span class="s0">=</span><span class="s2">&quot;_toggle&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">dg</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;point&quot;</span><span class="s0">&amp;&amp;!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toggle</span><span class="s0">,</span><span class="s1">signals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">fg</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">events</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toggle</span><span class="s0">}]}),</span><span class="s1">modifyExpr</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">Sg</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">fg</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">? null : </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">, `</span><span class="s0">+(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">===</span><span class="s2">&quot;global&quot;</span><span class="s0">?</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">? null : true, `</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">? null : {unit: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ng</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">}, `</span><span class="s0">)+</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">? </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">: null`</span><span class="s0">}};</span><span class="s4">const </span><span class="s1">pg</span><span class="s0">=</span><span class="s1">dg</span><span class="s0">;</span><span class="s4">const </span><span class="s1">gg</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">!==</span><span class="s4">false</span><span class="s0">,</span><span class="s1">parse</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">)?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Id</span><span class="s0">.</span><span class="s1">P</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">,</span><span class="s2">&quot;view&quot;</span><span class="s0">):</span><span class="s1">n</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">}},</span><span class="s1">topLevelSignals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">lg</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">findIndex</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">q</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==-</span><span class="s3">1</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">].</span><span class="s1">on</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">events</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s2">&quot;null&quot;</span><span class="s0">})}}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">},</span><span class="s1">signals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==-</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">on</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">on</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">events</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;interval&quot;</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">findIndex</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">visual</span><span class="s0">));</span><span class="s1">i</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;[0, 0]&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">findIndex</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">data</span><span class="s0">));</span><span class="s1">i</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;null&quot;</span><span class="s0">)}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">findIndex</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">Sg</span><span class="s0">));</span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;null&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">pg</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">findIndex</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">+</span><span class="s1">fg</span><span class="s0">));</span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;false&quot;</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}};</span><span class="s4">const </span><span class="s1">mg</span><span class="s0">=</span><span class="s1">gg</span><span class="s0">;</span><span class="s4">const </span><span class="s1">hg</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">===</span><span class="s2">&quot;global&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">&amp;&amp;</span><span class="s1">wl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">field</span><span class="s0">!==</span><span class="s1">Ol</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;!</span><span class="s1">t</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">ji</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">},</span><span class="s1">parse</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">select</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">select</span><span class="s0">)?{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">select</span><span class="s0">,</span><span class="s1">toggle</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toggle</span><span class="s0">}:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">s</span><span class="s0">.</span><span class="s1">select</span><span class="s0">),{</span><span class="s1">toggle</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">toggle</span><span class="s0">});</span><span class="s1">Mg</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">.</span><span class="s1">isObject</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">select</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">select</span><span class="s0">.</span><span class="s1">on</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">select</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s2">'event.item &amp;&amp; indexof(event.item.mark.role, &quot;legend&quot;) &lt; 0'</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of n</span><span class="s0">.</span><span class="s1">events</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:[]);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">.</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">jl</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">:</span><span class="s2">&quot;click&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">)?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Id</span><span class="s0">.</span><span class="s1">P</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">,</span><span class="s2">&quot;view&quot;</span><span class="s0">):(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">={</span><span class="s1">legend</span><span class="s0">:{</span><span class="s1">merge</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}}},</span><span class="s1">topLevelSignals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">jl</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">markname</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasLegend</span><span class="s0">)</span><span class="s4">continue</span><span class="s0">;</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">q</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)}</span><span class="s2">_legend`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">a</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">s</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">_symbols`</span><span class="s0">)).</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">s</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">_labels`</span><span class="s0">))).</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">s</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">_entries`</span><span class="s0">)));</span><span class="s1">t</span><span class="s0">.</span><span class="s1">unshift</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">a</span><span class="s0">},!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">init</span><span class="s0">?{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}:{}),{</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s2">&quot;datum.value || item().items[0].items[0].datum.value&quot;</span><span class="s0">,</span><span class="s1">force</span><span class="s0">:</span><span class="s4">true</span><span class="s0">},{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`!event.item || !datum ? null : </span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,</span><span class="s1">force</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}]}))}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">},</span><span class="s1">signals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">find</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">i</span><span class="s0">+</span><span class="s1">Sg</span><span class="s0">));</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s1">sp</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hasLegend</span><span class="s0">)).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">q</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)}</span><span class="s2">_legend`</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">!== null`</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; &amp;&amp; &quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">} </span><span class="s2">? {fields: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">, values: [</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s2">]} : null`</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">events</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">on</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">events</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;({</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}))),</span><span class="s1">update</span><span class="s0">:</span><span class="s1">c</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">update</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">s</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">s</span><span class="s0">.</span><span class="s1">on</span><span class="s0">}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">find</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">i</span><span class="s0">+</span><span class="s1">fg</span><span class="s0">));</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">jl</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">events</span><span class="s0">)</span><span class="s1">l</span><span class="s0">.</span><span class="s1">on</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">events</span><span class="s0">=</span><span class="s1">f</span><span class="s0">;</span><span class="s4">else </span><span class="s1">l</span><span class="s0">.</span><span class="s1">on</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">l</span><span class="s0">.</span><span class="s1">on</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]),{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}))}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}};</span><span class="s4">const </span><span class="s1">bg</span><span class="s0">=</span><span class="s1">hg</span><span class="s0">;</span><span class="s4">function </span><span class="s1">yg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">field</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">u of T</span><span class="s0">((</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:{})){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasField</span><span class="s0">[</span><span class="s1">a</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasChannel</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">hg</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;selections&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:[];</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">name</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s2">&quot;selections&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s4">false</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hasLegend</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}}</span><span class="s4">const </span><span class="s1">vg</span><span class="s0">=</span><span class="s2">&quot;_translate_anchor&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Og</span><span class="s0">=</span><span class="s2">&quot;_translate_delta&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">xg</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;interval&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">translate</span><span class="s0">,</span><span class="s1">signals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">lp</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s1">vg</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">x</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasChannel</span><span class="s0">;</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Id</span><span class="s0">.</span><span class="s1">P</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">translate</span><span class="s0">,</span><span class="s2">&quot;scope&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">between</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">markname</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s1">gp</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:{},</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">between</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])),</span><span class="s1">update</span><span class="s0">:</span><span class="s2">&quot;{x: x(unit), y: y(unit)&quot;</span><span class="s0">+(</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s2">`, extent_x: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">?</span><span class="s1">fp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">):</span><span class="s2">`slice(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">visual</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)+(</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s2">`, extent_y: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">?</span><span class="s1">fp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">le</span><span class="s0">):</span><span class="s2">`slice(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">.</span><span class="s1">visual</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)+</span><span class="s2">&quot;}&quot;</span><span class="s0">}]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">i</span><span class="s0">+</span><span class="s1">Og</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:{},</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s2">`{x: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">.x - x(unit), y: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">.y - y(unit)}`</span><span class="s0">}]});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">jg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s2">&quot;width&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">jg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s2">&quot;height&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}};</span><span class="s4">const </span><span class="s1">wg</span><span class="s0">=</span><span class="s1">xg</span><span class="s0">;</span><span class="s4">function </span><span class="s1">jg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">a</span><span class="s0">+</span><span class="s1">vg</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">a</span><span class="s0">+</span><span class="s1">Og</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">;</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">lp</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">[</span><span class="s1">f</span><span class="s0">?</span><span class="s2">&quot;data&quot;</span><span class="s0">:</span><span class="s2">&quot;visual&quot;</span><span class="s0">]))[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s1">i</span><span class="s0">).</span><span class="s1">signal</span><span class="s0">;</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">g</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">g</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;reverse&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=!</span><span class="s1">f</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">l</span><span class="s0">===</span><span class="s1">ce</span><span class="s0">?</span><span class="s1">h</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s2">&quot;-&quot;</span><span class="s0">:</span><span class="s1">h</span><span class="s0">?</span><span class="s2">&quot;-&quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">y</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">.extent_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">v</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">b</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">.</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">} </span><span class="s2">/ </span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">?</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">p</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">`span(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">O</span><span class="s0">=!</span><span class="s1">f</span><span class="s0">?</span><span class="s2">&quot;panLinear&quot;</span><span class="s0">:</span><span class="s1">m</span><span class="s0">===</span><span class="s2">&quot;log&quot;</span><span class="s0">?</span><span class="s2">&quot;panLog&quot;</span><span class="s0">:</span><span class="s1">m</span><span class="s0">===</span><span class="s2">&quot;symlog&quot;</span><span class="s0">?</span><span class="s2">&quot;panSymlog&quot;</span><span class="s0">:</span><span class="s1">m</span><span class="s0">===</span><span class="s2">&quot;pow&quot;</span><span class="s0">?</span><span class="s2">&quot;panPow&quot;</span><span class="s0">:</span><span class="s2">&quot;panLinear&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">x</span><span class="s0">=!</span><span class="s1">f</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">m</span><span class="s0">===</span><span class="s2">&quot;pow&quot;</span><span class="s0">?</span><span class="s2">`, </span><span class="s1">$</span><span class="s0">{(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">g</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;exponent&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s3">1</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s1">m</span><span class="s0">===</span><span class="s2">&quot;symlog&quot;</span><span class="s0">?</span><span class="s2">`, </span><span class="s1">$</span><span class="s0">{(</span><span class="s1">o</span><span class="s0">=</span><span class="s1">g</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;constant&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s3">1</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">w</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">O</span><span class="s0">}</span><span class="s2">(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">v</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">x</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">;</span><span class="s1">d</span><span class="s0">.</span><span class="s1">on</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">events</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">c</span><span class="s0">},</span><span class="s1">update</span><span class="s0">:</span><span class="s1">f</span><span class="s0">?</span><span class="s1">w</span><span class="s0">:</span><span class="s2">`clampRange(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">}</span><span class="s2">, 0, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">p</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">})}</span><span class="s4">const </span><span class="s1">Fg</span><span class="s0">=</span><span class="s2">&quot;_zoom_anchor&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">$g</span><span class="s0">=</span><span class="s2">&quot;_zoom_delta&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Dg</span><span class="s0">={</span><span class="s1">defined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;interval&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">zoom</span><span class="s0">,</span><span class="s1">signals</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">lp</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s1">$g</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">x</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasChannel</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">ce</span><span class="s0">));</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">le</span><span class="s0">));</span><span class="s4">let </span><span class="s1">f</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Id</span><span class="s0">.</span><span class="s1">P</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">zoom</span><span class="s0">,</span><span class="s2">&quot;scope&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">f</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">markname</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s1">gp</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">i</span><span class="s0">+</span><span class="s1">Fg</span><span class="s0">,</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:!</span><span class="s1">s</span><span class="s0">?</span><span class="s2">`{x: x(unit), y: y(unit)}`</span><span class="s0">:</span><span class="s2">&quot;{&quot;</span><span class="s0">+[</span><span class="s1">c</span><span class="s0">?</span><span class="s2">`x: invert(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">, x(unit))`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">l</span><span class="s0">?</span><span class="s2">`y: invert(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">, y(unit))`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">].</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;!!</span><span class="s1">e</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)+</span><span class="s2">&quot;}&quot;</span><span class="s0">}]},{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">events</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">force</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s2">&quot;pow(1.001, event.deltaY * pow(16, event.deltaMode))&quot;</span><span class="s0">}]});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">kg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s2">&quot;width&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">kg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s2">&quot;height&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}};</span><span class="s4">const </span><span class="s1">Ag</span><span class="s0">=</span><span class="s1">Dg</span><span class="s0">;</span><span class="s4">function </span><span class="s1">kg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">lp</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">t</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">[</span><span class="s1">c</span><span class="s0">?</span><span class="s2">&quot;data&quot;</span><span class="s0">:</span><span class="s2">&quot;visual&quot;</span><span class="s0">]))[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s1">i</span><span class="s0">).</span><span class="s1">signal</span><span class="s0">;</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">d</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">c</span><span class="s0">?</span><span class="s1">fp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">u</span><span class="s0">):</span><span class="s1">l</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">a</span><span class="s0">+</span><span class="s1">$g</span><span class="s0">;</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Fg</span><span class="s0">}</span><span class="s2">.</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=!</span><span class="s1">c</span><span class="s0">?</span><span class="s2">&quot;zoomLinear&quot;</span><span class="s0">:</span><span class="s1">p</span><span class="s0">===</span><span class="s2">&quot;log&quot;</span><span class="s0">?</span><span class="s2">&quot;zoomLog&quot;</span><span class="s0">:</span><span class="s1">p</span><span class="s0">===</span><span class="s2">&quot;symlog&quot;</span><span class="s0">?</span><span class="s2">&quot;zoomSymlog&quot;</span><span class="s0">:</span><span class="s1">p</span><span class="s0">===</span><span class="s2">&quot;pow&quot;</span><span class="s0">?</span><span class="s2">&quot;zoomPow&quot;</span><span class="s0">:</span><span class="s2">&quot;zoomLinear&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">y</span><span class="s0">=!</span><span class="s1">c</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">p</span><span class="s0">===</span><span class="s2">&quot;pow&quot;</span><span class="s0">?</span><span class="s2">`, </span><span class="s1">$</span><span class="s0">{(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">d</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;exponent&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s3">1</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s1">p</span><span class="s0">===</span><span class="s2">&quot;symlog&quot;</span><span class="s0">?</span><span class="s2">`, </span><span class="s1">$</span><span class="s0">{(</span><span class="s1">o</span><span class="s0">=</span><span class="s1">d</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;constant&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s3">1</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">v</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">b</span><span class="s0">}</span><span class="s2">(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">g</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">h</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">m</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">y</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">on</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">events</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">m</span><span class="s0">},</span><span class="s1">update</span><span class="s0">:</span><span class="s1">c</span><span class="s0">?</span><span class="s1">v</span><span class="s0">:</span><span class="s2">`clampRange(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">v</span><span class="s0">}</span><span class="s2">, 0, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">})}</span><span class="s4">const </span><span class="s1">Cg</span><span class="s0">=</span><span class="s2">&quot;_store&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Sg</span><span class="s0">=</span><span class="s2">&quot;_tuple&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Eg</span><span class="s0">=</span><span class="s2">&quot;_modify&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Bg</span><span class="s0">=</span><span class="s2">&quot;_selection_domain_&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Pg</span><span class="s0">=</span><span class="s2">&quot;vlSelectionResolve&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">_g</span><span class="s0">=[</span><span class="s1">xp</span><span class="s0">,</span><span class="s1">bp</span><span class="s0">,</span><span class="s1">up</span><span class="s0">,</span><span class="s1">pg</span><span class="s0">,</span><span class="s1">lg</span><span class="s0">,</span><span class="s1">lp</span><span class="s0">,</span><span class="s1">bg</span><span class="s0">,</span><span class="s1">mg</span><span class="s0">,</span><span class="s1">wg</span><span class="s0">,</span><span class="s1">Ag</span><span class="s0">,</span><span class="s1">ug</span><span class="s0">];</span><span class="s4">function </span><span class="s1">zg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ex</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))</span><span class="s4">break</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ng</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">escape</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}={</span><span class="s1">escape</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">):</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">zg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of Je</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s1">t</span><span class="s0">+=</span><span class="s2">` + '__facet_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">_' + (facet[</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}</span><span class="s2">])`</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Tg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">return </span><span class="s1">T</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:{}).</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">e</span><span class="s0">||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">),</span><span class="s4">false</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Mg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">.</span><span class="s1">isString</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">select</span><span class="s0">)||!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">select</span><span class="s0">.</span><span class="s1">on</span><span class="s0">)</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">events</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">.</span><span class="s1">isString</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">select</span><span class="s0">)||!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">select</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">)</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Rs</span><span class="s0">.</span><span class="s1">isString</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">select</span><span class="s0">)||!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">select</span><span class="s0">.</span><span class="s1">toggle</span><span class="s0">)</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">.</span><span class="s1">toggle</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Lg</span><span class="s0">=</span><span class="s2">&quot;RawCode&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">qg</span><span class="s0">=</span><span class="s2">&quot;Literal&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ug</span><span class="s0">=</span><span class="s2">&quot;Property&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Rg</span><span class="s0">=</span><span class="s2">&quot;Identifier&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Ig</span><span class="s0">=</span><span class="s2">&quot;ArrayExpression&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Wg</span><span class="s0">=</span><span class="s2">&quot;BinaryExpression&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Hg</span><span class="s0">=</span><span class="s2">&quot;CallExpression&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Gg</span><span class="s0">=</span><span class="s2">&quot;ConditionalExpression&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Yg</span><span class="s0">=</span><span class="s2">&quot;LogicalExpression&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Kg</span><span class="s0">=</span><span class="s2">&quot;MemberExpression&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Vg</span><span class="s0">=</span><span class="s2">&quot;ObjectExpression&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Qg</span><span class="s0">=</span><span class="s2">&quot;UnaryExpression&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">Xg</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">(</span><span class="s4">this</span><span class="s0">))</span><span class="s4">return </span><span class="s3">1</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Jg</span><span class="s0">(</span><span class="s4">this</span><span class="s0">),</span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">;++</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">visit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))</span><span class="s4">return </span><span class="s3">1</span><span class="s0">}};</span><span class="s4">function </span><span class="s1">Jg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s4">case </span><span class="s1">Ig</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Wg</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Yg</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">left</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">right</span><span class="s0">];</span><span class="s4">case </span><span class="s1">Hg</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">callee</span><span class="s0">].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">arguments</span><span class="s0">);</span><span class="s4">case </span><span class="s1">Gg</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">test</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">consequent</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alternate</span><span class="s0">];</span><span class="s4">case </span><span class="s1">Kg</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">object</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">property</span><span class="s0">];</span><span class="s4">case </span><span class="s1">Vg</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">properties</span><span class="s0">;</span><span class="s4">case </span><span class="s1">Ug</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">key</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">];</span><span class="s4">case </span><span class="s1">Qg</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">argument</span><span class="s0">];</span><span class="s4">case </span><span class="s1">Rg</span><span class="s0">:</span><span class="s4">case </span><span class="s1">qg</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Lg</span><span class="s0">:</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[]}}</span><span class="s4">var </span><span class="s1">Zg</span><span class="s0">,</span><span class="s1">em</span><span class="s0">,</span><span class="s1">nm</span><span class="s0">,</span><span class="s1">tm</span><span class="s0">,</span><span class="s1">im</span><span class="s0">;</span><span class="s4">var </span><span class="s1">rm</span><span class="s0">=</span><span class="s3">1</span><span class="s0">,</span><span class="s1">sm</span><span class="s0">=</span><span class="s3">2</span><span class="s0">,</span><span class="s1">om</span><span class="s0">=</span><span class="s3">3</span><span class="s0">,</span><span class="s1">am</span><span class="s0">=</span><span class="s3">4</span><span class="s0">,</span><span class="s1">um</span><span class="s0">=</span><span class="s3">5</span><span class="s0">,</span><span class="s1">cm</span><span class="s0">=</span><span class="s3">6</span><span class="s0">,</span><span class="s1">lm</span><span class="s0">=</span><span class="s3">7</span><span class="s0">,</span><span class="s1">fm</span><span class="s0">=</span><span class="s3">8</span><span class="s0">,</span><span class="s1">dm</span><span class="s0">=</span><span class="s3">9</span><span class="s0">;</span><span class="s1">Zg</span><span class="s0">={};</span><span class="s1">Zg</span><span class="s0">[</span><span class="s1">rm</span><span class="s0">]=</span><span class="s2">&quot;Boolean&quot;</span><span class="s0">;</span><span class="s1">Zg</span><span class="s0">[</span><span class="s1">sm</span><span class="s0">]=</span><span class="s2">&quot;&lt;end&gt;&quot;</span><span class="s0">;</span><span class="s1">Zg</span><span class="s0">[</span><span class="s1">om</span><span class="s0">]=</span><span class="s2">&quot;Identifier&quot;</span><span class="s0">;</span><span class="s1">Zg</span><span class="s0">[</span><span class="s1">am</span><span class="s0">]=</span><span class="s2">&quot;Keyword&quot;</span><span class="s0">;</span><span class="s1">Zg</span><span class="s0">[</span><span class="s1">um</span><span class="s0">]=</span><span class="s2">&quot;Null&quot;</span><span class="s0">;</span><span class="s1">Zg</span><span class="s0">[</span><span class="s1">cm</span><span class="s0">]=</span><span class="s2">&quot;Numeric&quot;</span><span class="s0">;</span><span class="s1">Zg</span><span class="s0">[</span><span class="s1">lm</span><span class="s0">]=</span><span class="s2">&quot;Punctuator&quot;</span><span class="s0">;</span><span class="s1">Zg</span><span class="s0">[</span><span class="s1">fm</span><span class="s0">]=</span><span class="s2">&quot;String&quot;</span><span class="s0">;</span><span class="s1">Zg</span><span class="s0">[</span><span class="s1">dm</span><span class="s0">]=</span><span class="s2">&quot;RegularExpression&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">pm</span><span class="s0">=</span><span class="s2">&quot;ArrayExpression&quot;</span><span class="s0">,</span><span class="s1">gm</span><span class="s0">=</span><span class="s2">&quot;BinaryExpression&quot;</span><span class="s0">,</span><span class="s1">mm</span><span class="s0">=</span><span class="s2">&quot;CallExpression&quot;</span><span class="s0">,</span><span class="s1">hm</span><span class="s0">=</span><span class="s2">&quot;ConditionalExpression&quot;</span><span class="s0">,</span><span class="s1">bm</span><span class="s0">=</span><span class="s2">&quot;Identifier&quot;</span><span class="s0">,</span><span class="s1">ym</span><span class="s0">=</span><span class="s2">&quot;Literal&quot;</span><span class="s0">,</span><span class="s1">vm</span><span class="s0">=</span><span class="s2">&quot;LogicalExpression&quot;</span><span class="s0">,</span><span class="s1">Om</span><span class="s0">=</span><span class="s2">&quot;MemberExpression&quot;</span><span class="s0">,</span><span class="s1">xm</span><span class="s0">=</span><span class="s2">&quot;ObjectExpression&quot;</span><span class="s0">,</span><span class="s1">wm</span><span class="s0">=</span><span class="s2">&quot;Property&quot;</span><span class="s0">,</span><span class="s1">jm</span><span class="s0">=</span><span class="s2">&quot;UnaryExpression&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Fm</span><span class="s0">=</span><span class="s2">&quot;Unexpected token %0&quot;</span><span class="s0">,</span><span class="s1">$m</span><span class="s0">=</span><span class="s2">&quot;Unexpected number&quot;</span><span class="s0">,</span><span class="s1">Dm</span><span class="s0">=</span><span class="s2">&quot;Unexpected string&quot;</span><span class="s0">,</span><span class="s1">Am</span><span class="s0">=</span><span class="s2">&quot;Unexpected identifier&quot;</span><span class="s0">,</span><span class="s1">km</span><span class="s0">=</span><span class="s2">&quot;Unexpected reserved word&quot;</span><span class="s0">,</span><span class="s1">Cm</span><span class="s0">=</span><span class="s2">&quot;Unexpected end of input&quot;</span><span class="s0">,</span><span class="s1">Sm</span><span class="s0">=</span><span class="s2">&quot;Invalid regular expression&quot;</span><span class="s0">,</span><span class="s1">Em</span><span class="s0">=</span><span class="s2">&quot;Invalid regular expression: missing /&quot;</span><span class="s0">,</span><span class="s1">Bm</span><span class="s0">=</span><span class="s2">&quot;Octal literals are not allowed in strict mode.&quot;</span><span class="s0">,</span><span class="s1">Pm</span><span class="s0">=</span><span class="s2">&quot;Duplicate data property in object literal not allowed in strict mode&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">_m</span><span class="s0">=</span><span class="s2">&quot;ILLEGAL&quot;</span><span class="s0">,</span><span class="s1">zm</span><span class="s0">=</span><span class="s2">&quot;Disabled.&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Nm</span><span class="s0">=</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s2">&quot;[</span><span class="s4">\\</span><span class="s2">xAA</span><span class="s4">\\</span><span class="s2">xB5</span><span class="s4">\\</span><span class="s2">xBA</span><span class="s4">\\</span><span class="s2">xC0-</span><span class="s4">\\</span><span class="s2">xD6</span><span class="s4">\\</span><span class="s2">xD8-</span><span class="s4">\\</span><span class="s2">xF6</span><span class="s4">\\</span><span class="s2">xF8-</span><span class="s4">\\</span><span class="s2">u02C1</span><span class="s4">\\</span><span class="s2">u02C6-</span><span class="s4">\\</span><span class="s2">u02D1</span><span class="s4">\\</span><span class="s2">u02E0-</span><span class="s4">\\</span><span class="s2">u02E4</span><span class="s4">\\</span><span class="s2">u02EC</span><span class="s4">\\</span><span class="s2">u02EE</span><span class="s4">\\</span><span class="s2">u0370-</span><span class="s4">\\</span><span class="s2">u0374</span><span class="s4">\\</span><span class="s2">u0376</span><span class="s4">\\</span><span class="s2">u0377</span><span class="s4">\\</span><span class="s2">u037A-</span><span class="s4">\\</span><span class="s2">u037D</span><span class="s4">\\</span><span class="s2">u037F</span><span class="s4">\\</span><span class="s2">u0386</span><span class="s4">\\</span><span class="s2">u0388-</span><span class="s4">\\</span><span class="s2">u038A</span><span class="s4">\\</span><span class="s2">u038C</span><span class="s4">\\</span><span class="s2">u038E-</span><span class="s4">\\</span><span class="s2">u03A1</span><span class="s4">\\</span><span class="s2">u03A3-</span><span class="s4">\\</span><span class="s2">u03F5</span><span class="s4">\\</span><span class="s2">u03F7-</span><span class="s4">\\</span><span class="s2">u0481</span><span class="s4">\\</span><span class="s2">u048A-</span><span class="s4">\\</span><span class="s2">u052F</span><span class="s4">\\</span><span class="s2">u0531-</span><span class="s4">\\</span><span class="s2">u0556</span><span class="s4">\\</span><span class="s2">u0559</span><span class="s4">\\</span><span class="s2">u0561-</span><span class="s4">\\</span><span class="s2">u0587</span><span class="s4">\\</span><span class="s2">u05D0-</span><span class="s4">\\</span><span class="s2">u05EA</span><span class="s4">\\</span><span class="s2">u05F0-</span><span class="s4">\\</span><span class="s2">u05F2</span><span class="s4">\\</span><span class="s2">u0620-</span><span class="s4">\\</span><span class="s2">u064A</span><span class="s4">\\</span><span class="s2">u066E</span><span class="s4">\\</span><span class="s2">u066F</span><span class="s4">\\</span><span class="s2">u0671-</span><span class="s4">\\</span><span class="s2">u06D3</span><span class="s4">\\</span><span class="s2">u06D5</span><span class="s4">\\</span><span class="s2">u06E5</span><span class="s4">\\</span><span class="s2">u06E6</span><span class="s4">\\</span><span class="s2">u06EE</span><span class="s4">\\</span><span class="s2">u06EF</span><span class="s4">\\</span><span class="s2">u06FA-</span><span class="s4">\\</span><span class="s2">u06FC</span><span class="s4">\\</span><span class="s2">u06FF</span><span class="s4">\\</span><span class="s2">u0710</span><span class="s4">\\</span><span class="s2">u0712-</span><span class="s4">\\</span><span class="s2">u072F</span><span class="s4">\\</span><span class="s2">u074D-</span><span class="s4">\\</span><span class="s2">u07A5</span><span class="s4">\\</span><span class="s2">u07B1</span><span class="s4">\\</span><span class="s2">u07CA-</span><span class="s4">\\</span><span class="s2">u07EA</span><span class="s4">\\</span><span class="s2">u07F4</span><span class="s4">\\</span><span class="s2">u07F5</span><span class="s4">\\</span><span class="s2">u07FA</span><span class="s4">\\</span><span class="s2">u0800-</span><span class="s4">\\</span><span class="s2">u0815</span><span class="s4">\\</span><span class="s2">u081A</span><span class="s4">\\</span><span class="s2">u0824</span><span class="s4">\\</span><span class="s2">u0828</span><span class="s4">\\</span><span class="s2">u0840-</span><span class="s4">\\</span><span class="s2">u0858</span><span class="s4">\\</span><span class="s2">u08A0-</span><span class="s4">\\</span><span class="s2">u08B2</span><span class="s4">\\</span><span class="s2">u0904-</span><span class="s4">\\</span><span class="s2">u0939</span><span class="s4">\\</span><span class="s2">u093D</span><span class="s4">\\</span><span class="s2">u0950</span><span class="s4">\\</span><span class="s2">u0958-</span><span class="s4">\\</span><span class="s2">u0961</span><span class="s4">\\</span><span class="s2">u0971-</span><span class="s4">\\</span><span class="s2">u0980</span><span class="s4">\\</span><span class="s2">u0985-</span><span class="s4">\\</span><span class="s2">u098C</span><span class="s4">\\</span><span class="s2">u098F</span><span class="s4">\\</span><span class="s2">u0990</span><span class="s4">\\</span><span class="s2">u0993-</span><span class="s4">\\</span><span class="s2">u09A8</span><span class="s4">\\</span><span class="s2">u09AA-</span><span class="s4">\\</span><span class="s2">u09B0</span><span class="s4">\\</span><span class="s2">u09B2</span><span class="s4">\\</span><span class="s2">u09B6-</span><span class="s4">\\</span><span class="s2">u09B9</span><span class="s4">\\</span><span class="s2">u09BD</span><span class="s4">\\</span><span class="s2">u09CE</span><span class="s4">\\</span><span class="s2">u09DC</span><span class="s4">\\</span><span class="s2">u09DD</span><span class="s4">\\</span><span class="s2">u09DF-</span><span class="s4">\\</span><span class="s2">u09E1</span><span class="s4">\\</span><span class="s2">u09F0</span><span class="s4">\\</span><span class="s2">u09F1</span><span class="s4">\\</span><span class="s2">u0A05-</span><span class="s4">\\</span><span class="s2">u0A0A</span><span class="s4">\\</span><span class="s2">u0A0F</span><span class="s4">\\</span><span class="s2">u0A10</span><span class="s4">\\</span><span class="s2">u0A13-</span><span class="s4">\\</span><span class="s2">u0A28</span><span class="s4">\\</span><span class="s2">u0A2A-</span><span class="s4">\\</span><span class="s2">u0A30</span><span class="s4">\\</span><span class="s2">u0A32</span><span class="s4">\\</span><span class="s2">u0A33</span><span class="s4">\\</span><span class="s2">u0A35</span><span class="s4">\\</span><span class="s2">u0A36</span><span class="s4">\\</span><span class="s2">u0A38</span><span class="s4">\\</span><span class="s2">u0A39</span><span class="s4">\\</span><span class="s2">u0A59-</span><span class="s4">\\</span><span class="s2">u0A5C</span><span class="s4">\\</span><span class="s2">u0A5E</span><span class="s4">\\</span><span class="s2">u0A72-</span><span class="s4">\\</span><span class="s2">u0A74</span><span class="s4">\\</span><span class="s2">u0A85-</span><span class="s4">\\</span><span class="s2">u0A8D</span><span class="s4">\\</span><span class="s2">u0A8F-</span><span class="s4">\\</span><span class="s2">u0A91</span><span class="s4">\\</span><span class="s2">u0A93-</span><span class="s4">\\</span><span class="s2">u0AA8</span><span class="s4">\\</span><span class="s2">u0AAA-</span><span class="s4">\\</span><span class="s2">u0AB0</span><span class="s4">\\</span><span class="s2">u0AB2</span><span class="s4">\\</span><span class="s2">u0AB3</span><span class="s4">\\</span><span class="s2">u0AB5-</span><span class="s4">\\</span><span class="s2">u0AB9</span><span class="s4">\\</span><span class="s2">u0ABD</span><span class="s4">\\</span><span class="s2">u0AD0</span><span class="s4">\\</span><span class="s2">u0AE0</span><span class="s4">\\</span><span class="s2">u0AE1</span><span class="s4">\\</span><span class="s2">u0B05-</span><span class="s4">\\</span><span class="s2">u0B0C</span><span class="s4">\\</span><span class="s2">u0B0F</span><span class="s4">\\</span><span class="s2">u0B10</span><span class="s4">\\</span><span class="s2">u0B13-</span><span class="s4">\\</span><span class="s2">u0B28</span><span class="s4">\\</span><span class="s2">u0B2A-</span><span class="s4">\\</span><span class="s2">u0B30</span><span class="s4">\\</span><span class="s2">u0B32</span><span class="s4">\\</span><span class="s2">u0B33</span><span class="s4">\\</span><span class="s2">u0B35-</span><span class="s4">\\</span><span class="s2">u0B39</span><span class="s4">\\</span><span class="s2">u0B3D</span><span class="s4">\\</span><span class="s2">u0B5C</span><span class="s4">\\</span><span class="s2">u0B5D</span><span class="s4">\\</span><span class="s2">u0B5F-</span><span class="s4">\\</span><span class="s2">u0B61</span><span class="s4">\\</span><span class="s2">u0B71</span><span class="s4">\\</span><span class="s2">u0B83</span><span class="s4">\\</span><span class="s2">u0B85-</span><span class="s4">\\</span><span class="s2">u0B8A</span><span class="s4">\\</span><span class="s2">u0B8E-</span><span class="s4">\\</span><span class="s2">u0B90</span><span class="s4">\\</span><span class="s2">u0B92-</span><span class="s4">\\</span><span class="s2">u0B95</span><span class="s4">\\</span><span class="s2">u0B99</span><span class="s4">\\</span><span class="s2">u0B9A</span><span class="s4">\\</span><span class="s2">u0B9C</span><span class="s4">\\</span><span class="s2">u0B9E</span><span class="s4">\\</span><span class="s2">u0B9F</span><span class="s4">\\</span><span class="s2">u0BA3</span><span class="s4">\\</span><span class="s2">u0BA4</span><span class="s4">\\</span><span class="s2">u0BA8-</span><span class="s4">\\</span><span class="s2">u0BAA</span><span class="s4">\\</span><span class="s2">u0BAE-</span><span class="s4">\\</span><span class="s2">u0BB9</span><span class="s4">\\</span><span class="s2">u0BD0</span><span class="s4">\\</span><span class="s2">u0C05-</span><span class="s4">\\</span><span class="s2">u0C0C</span><span class="s4">\\</span><span class="s2">u0C0E-</span><span class="s4">\\</span><span class="s2">u0C10</span><span class="s4">\\</span><span class="s2">u0C12-</span><span class="s4">\\</span><span class="s2">u0C28</span><span class="s4">\\</span><span class="s2">u0C2A-</span><span class="s4">\\</span><span class="s2">u0C39</span><span class="s4">\\</span><span class="s2">u0C3D</span><span class="s4">\\</span><span class="s2">u0C58</span><span class="s4">\\</span><span class="s2">u0C59</span><span class="s4">\\</span><span class="s2">u0C60</span><span class="s4">\\</span><span class="s2">u0C61</span><span class="s4">\\</span><span class="s2">u0C85-</span><span class="s4">\\</span><span class="s2">u0C8C</span><span class="s4">\\</span><span class="s2">u0C8E-</span><span class="s4">\\</span><span class="s2">u0C90</span><span class="s4">\\</span><span class="s2">u0C92-</span><span class="s4">\\</span><span class="s2">u0CA8</span><span class="s4">\\</span><span class="s2">u0CAA-</span><span class="s4">\\</span><span class="s2">u0CB3</span><span class="s4">\\</span><span class="s2">u0CB5-</span><span class="s4">\\</span><span class="s2">u0CB9</span><span class="s4">\\</span><span class="s2">u0CBD</span><span class="s4">\\</span><span class="s2">u0CDE</span><span class="s4">\\</span><span class="s2">u0CE0</span><span class="s4">\\</span><span class="s2">u0CE1</span><span class="s4">\\</span><span class="s2">u0CF1</span><span class="s4">\\</span><span class="s2">u0CF2</span><span class="s4">\\</span><span class="s2">u0D05-</span><span class="s4">\\</span><span class="s2">u0D0C</span><span class="s4">\\</span><span class="s2">u0D0E-</span><span class="s4">\\</span><span class="s2">u0D10</span><span class="s4">\\</span><span class="s2">u0D12-</span><span class="s4">\\</span><span class="s2">u0D3A</span><span class="s4">\\</span><span class="s2">u0D3D</span><span class="s4">\\</span><span class="s2">u0D4E</span><span class="s4">\\</span><span class="s2">u0D60</span><span class="s4">\\</span><span class="s2">u0D61</span><span class="s4">\\</span><span class="s2">u0D7A-</span><span class="s4">\\</span><span class="s2">u0D7F</span><span class="s4">\\</span><span class="s2">u0D85-</span><span class="s4">\\</span><span class="s2">u0D96</span><span class="s4">\\</span><span class="s2">u0D9A-</span><span class="s4">\\</span><span class="s2">u0DB1</span><span class="s4">\\</span><span class="s2">u0DB3-</span><span class="s4">\\</span><span class="s2">u0DBB</span><span class="s4">\\</span><span class="s2">u0DBD</span><span class="s4">\\</span><span class="s2">u0DC0-</span><span class="s4">\\</span><span class="s2">u0DC6</span><span class="s4">\\</span><span class="s2">u0E01-</span><span class="s4">\\</span><span class="s2">u0E30</span><span class="s4">\\</span><span class="s2">u0E32</span><span class="s4">\\</span><span class="s2">u0E33</span><span class="s4">\\</span><span class="s2">u0E40-</span><span class="s4">\\</span><span class="s2">u0E46</span><span class="s4">\\</span><span class="s2">u0E81</span><span class="s4">\\</span><span class="s2">u0E82</span><span class="s4">\\</span><span class="s2">u0E84</span><span class="s4">\\</span><span class="s2">u0E87</span><span class="s4">\\</span><span class="s2">u0E88</span><span class="s4">\\</span><span class="s2">u0E8A</span><span class="s4">\\</span><span class="s2">u0E8D</span><span class="s4">\\</span><span class="s2">u0E94-</span><span class="s4">\\</span><span class="s2">u0E97</span><span class="s4">\\</span><span class="s2">u0E99-</span><span class="s4">\\</span><span class="s2">u0E9F</span><span class="s4">\\</span><span class="s2">u0EA1-</span><span class="s4">\\</span><span class="s2">u0EA3</span><span class="s4">\\</span><span class="s2">u0EA5</span><span class="s4">\\</span><span class="s2">u0EA7</span><span class="s4">\\</span><span class="s2">u0EAA</span><span class="s4">\\</span><span class="s2">u0EAB</span><span class="s4">\\</span><span class="s2">u0EAD-</span><span class="s4">\\</span><span class="s2">u0EB0</span><span class="s4">\\</span><span class="s2">u0EB2</span><span class="s4">\\</span><span class="s2">u0EB3</span><span class="s4">\\</span><span class="s2">u0EBD</span><span class="s4">\\</span><span class="s2">u0EC0-</span><span class="s4">\\</span><span class="s2">u0EC4</span><span class="s4">\\</span><span class="s2">u0EC6</span><span class="s4">\\</span><span class="s2">u0EDC-</span><span class="s4">\\</span><span class="s2">u0EDF</span><span class="s4">\\</span><span class="s2">u0F00</span><span class="s4">\\</span><span class="s2">u0F40-</span><span class="s4">\\</span><span class="s2">u0F47</span><span class="s4">\\</span><span class="s2">u0F49-</span><span class="s4">\\</span><span class="s2">u0F6C</span><span class="s4">\\</span><span class="s2">u0F88-</span><span class="s4">\\</span><span class="s2">u0F8C</span><span class="s4">\\</span><span class="s2">u1000-</span><span class="s4">\\</span><span class="s2">u102A</span><span class="s4">\\</span><span class="s2">u103F</span><span class="s4">\\</span><span class="s2">u1050-</span><span class="s4">\\</span><span class="s2">u1055</span><span class="s4">\\</span><span class="s2">u105A-</span><span class="s4">\\</span><span class="s2">u105D</span><span class="s4">\\</span><span class="s2">u1061</span><span class="s4">\\</span><span class="s2">u1065</span><span class="s4">\\</span><span class="s2">u1066</span><span class="s4">\\</span><span class="s2">u106E-</span><span class="s4">\\</span><span class="s2">u1070</span><span class="s4">\\</span><span class="s2">u1075-</span><span class="s4">\\</span><span class="s2">u1081</span><span class="s4">\\</span><span class="s2">u108E</span><span class="s4">\\</span><span class="s2">u10A0-</span><span class="s4">\\</span><span class="s2">u10C5</span><span class="s4">\\</span><span class="s2">u10C7</span><span class="s4">\\</span><span class="s2">u10CD</span><span class="s4">\\</span><span class="s2">u10D0-</span><span class="s4">\\</span><span class="s2">u10FA</span><span class="s4">\\</span><span class="s2">u10FC-</span><span class="s4">\\</span><span class="s2">u1248</span><span class="s4">\\</span><span class="s2">u124A-</span><span class="s4">\\</span><span class="s2">u124D</span><span class="s4">\\</span><span class="s2">u1250-</span><span class="s4">\\</span><span class="s2">u1256</span><span class="s4">\\</span><span class="s2">u1258</span><span class="s4">\\</span><span class="s2">u125A-</span><span class="s4">\\</span><span class="s2">u125D</span><span class="s4">\\</span><span class="s2">u1260-</span><span class="s4">\\</span><span class="s2">u1288</span><span class="s4">\\</span><span class="s2">u128A-</span><span class="s4">\\</span><span class="s2">u128D</span><span class="s4">\\</span><span class="s2">u1290-</span><span class="s4">\\</span><span class="s2">u12B0</span><span class="s4">\\</span><span class="s2">u12B2-</span><span class="s4">\\</span><span class="s2">u12B5</span><span class="s4">\\</span><span class="s2">u12B8-</span><span class="s4">\\</span><span class="s2">u12BE</span><span class="s4">\\</span><span class="s2">u12C0</span><span class="s4">\\</span><span class="s2">u12C2-</span><span class="s4">\\</span><span class="s2">u12C5</span><span class="s4">\\</span><span class="s2">u12C8-</span><span class="s4">\\</span><span class="s2">u12D6</span><span class="s4">\\</span><span class="s2">u12D8-</span><span class="s4">\\</span><span class="s2">u1310</span><span class="s4">\\</span><span class="s2">u1312-</span><span class="s4">\\</span><span class="s2">u1315</span><span class="s4">\\</span><span class="s2">u1318-</span><span class="s4">\\</span><span class="s2">u135A</span><span class="s4">\\</span><span class="s2">u1380-</span><span class="s4">\\</span><span class="s2">u138F</span><span class="s4">\\</span><span class="s2">u13A0-</span><span class="s4">\\</span><span class="s2">u13F4</span><span class="s4">\\</span><span class="s2">u1401-</span><span class="s4">\\</span><span class="s2">u166C</span><span class="s4">\\</span><span class="s2">u166F-</span><span class="s4">\\</span><span class="s2">u167F</span><span class="s4">\\</span><span class="s2">u1681-</span><span class="s4">\\</span><span class="s2">u169A</span><span class="s4">\\</span><span class="s2">u16A0-</span><span class="s4">\\</span><span class="s2">u16EA</span><span class="s4">\\</span><span class="s2">u16EE-</span><span class="s4">\\</span><span class="s2">u16F8</span><span class="s4">\\</span><span class="s2">u1700-</span><span class="s4">\\</span><span class="s2">u170C</span><span class="s4">\\</span><span class="s2">u170E-</span><span class="s4">\\</span><span class="s2">u1711</span><span class="s4">\\</span><span class="s2">u1720-</span><span class="s4">\\</span><span class="s2">u1731</span><span class="s4">\\</span><span class="s2">u1740-</span><span class="s4">\\</span><span class="s2">u1751</span><span class="s4">\\</span><span class="s2">u1760-</span><span class="s4">\\</span><span class="s2">u176C</span><span class="s4">\\</span><span class="s2">u176E-</span><span class="s4">\\</span><span class="s2">u1770</span><span class="s4">\\</span><span class="s2">u1780-</span><span class="s4">\\</span><span class="s2">u17B3</span><span class="s4">\\</span><span class="s2">u17D7</span><span class="s4">\\</span><span class="s2">u17DC</span><span class="s4">\\</span><span class="s2">u1820-</span><span class="s4">\\</span><span class="s2">u1877</span><span class="s4">\\</span><span class="s2">u1880-</span><span class="s4">\\</span><span class="s2">u18A8</span><span class="s4">\\</span><span class="s2">u18AA</span><span class="s4">\\</span><span class="s2">u18B0-</span><span class="s4">\\</span><span class="s2">u18F5</span><span class="s4">\\</span><span class="s2">u1900-</span><span class="s4">\\</span><span class="s2">u191E</span><span class="s4">\\</span><span class="s2">u1950-</span><span class="s4">\\</span><span class="s2">u196D</span><span class="s4">\\</span><span class="s2">u1970-</span><span class="s4">\\</span><span class="s2">u1974</span><span class="s4">\\</span><span class="s2">u1980-</span><span class="s4">\\</span><span class="s2">u19AB</span><span class="s4">\\</span><span class="s2">u19C1-</span><span class="s4">\\</span><span class="s2">u19C7</span><span class="s4">\\</span><span class="s2">u1A00-</span><span class="s4">\\</span><span class="s2">u1A16</span><span class="s4">\\</span><span class="s2">u1A20-</span><span class="s4">\\</span><span class="s2">u1A54</span><span class="s4">\\</span><span class="s2">u1AA7</span><span class="s4">\\</span><span class="s2">u1B05-</span><span class="s4">\\</span><span class="s2">u1B33</span><span class="s4">\\</span><span class="s2">u1B45-</span><span class="s4">\\</span><span class="s2">u1B4B</span><span class="s4">\\</span><span class="s2">u1B83-</span><span class="s4">\\</span><span class="s2">u1BA0</span><span class="s4">\\</span><span class="s2">u1BAE</span><span class="s4">\\</span><span class="s2">u1BAF</span><span class="s4">\\</span><span class="s2">u1BBA-</span><span class="s4">\\</span><span class="s2">u1BE5</span><span class="s4">\\</span><span class="s2">u1C00-</span><span class="s4">\\</span><span class="s2">u1C23</span><span class="s4">\\</span><span class="s2">u1C4D-</span><span class="s4">\\</span><span class="s2">u1C4F</span><span class="s4">\\</span><span class="s2">u1C5A-</span><span class="s4">\\</span><span class="s2">u1C7D</span><span class="s4">\\</span><span class="s2">u1CE9-</span><span class="s4">\\</span><span class="s2">u1CEC</span><span class="s4">\\</span><span class="s2">u1CEE-</span><span class="s4">\\</span><span class="s2">u1CF1</span><span class="s4">\\</span><span class="s2">u1CF5</span><span class="s4">\\</span><span class="s2">u1CF6</span><span class="s4">\\</span><span class="s2">u1D00-</span><span class="s4">\\</span><span class="s2">u1DBF</span><span class="s4">\\</span><span class="s2">u1E00-</span><span class="s4">\\</span><span class="s2">u1F15</span><span class="s4">\\</span><span class="s2">u1F18-</span><span class="s4">\\</span><span class="s2">u1F1D</span><span class="s4">\\</span><span class="s2">u1F20-</span><span class="s4">\\</span><span class="s2">u1F45</span><span class="s4">\\</span><span class="s2">u1F48-</span><span class="s4">\\</span><span class="s2">u1F4D</span><span class="s4">\\</span><span class="s2">u1F50-</span><span class="s4">\\</span><span class="s2">u1F57</span><span class="s4">\\</span><span class="s2">u1F59</span><span class="s4">\\</span><span class="s2">u1F5B</span><span class="s4">\\</span><span class="s2">u1F5D</span><span class="s4">\\</span><span class="s2">u1F5F-</span><span class="s4">\\</span><span class="s2">u1F7D</span><span class="s4">\\</span><span class="s2">u1F80-</span><span class="s4">\\</span><span class="s2">u1FB4</span><span class="s4">\\</span><span class="s2">u1FB6-</span><span class="s4">\\</span><span class="s2">u1FBC</span><span class="s4">\\</span><span class="s2">u1FBE</span><span class="s4">\\</span><span class="s2">u1FC2-</span><span class="s4">\\</span><span class="s2">u1FC4</span><span class="s4">\\</span><span class="s2">u1FC6-</span><span class="s4">\\</span><span class="s2">u1FCC</span><span class="s4">\\</span><span class="s2">u1FD0-</span><span class="s4">\\</span><span class="s2">u1FD3</span><span class="s4">\\</span><span class="s2">u1FD6-</span><span class="s4">\\</span><span class="s2">u1FDB</span><span class="s4">\\</span><span class="s2">u1FE0-</span><span class="s4">\\</span><span class="s2">u1FEC</span><span class="s4">\\</span><span class="s2">u1FF2-</span><span class="s4">\\</span><span class="s2">u1FF4</span><span class="s4">\\</span><span class="s2">u1FF6-</span><span class="s4">\\</span><span class="s2">u1FFC</span><span class="s4">\\</span><span class="s2">u2071</span><span class="s4">\\</span><span class="s2">u207F</span><span class="s4">\\</span><span class="s2">u2090-</span><span class="s4">\\</span><span class="s2">u209C</span><span class="s4">\\</span><span class="s2">u2102</span><span class="s4">\\</span><span class="s2">u2107</span><span class="s4">\\</span><span class="s2">u210A-</span><span class="s4">\\</span><span class="s2">u2113</span><span class="s4">\\</span><span class="s2">u2115</span><span class="s4">\\</span><span class="s2">u2119-</span><span class="s4">\\</span><span class="s2">u211D</span><span class="s4">\\</span><span class="s2">u2124</span><span class="s4">\\</span><span class="s2">u2126</span><span class="s4">\\</span><span class="s2">u2128</span><span class="s4">\\</span><span class="s2">u212A-</span><span class="s4">\\</span><span class="s2">u212D</span><span class="s4">\\</span><span class="s2">u212F-</span><span class="s4">\\</span><span class="s2">u2139</span><span class="s4">\\</span><span class="s2">u213C-</span><span class="s4">\\</span><span class="s2">u213F</span><span class="s4">\\</span><span class="s2">u2145-</span><span class="s4">\\</span><span class="s2">u2149</span><span class="s4">\\</span><span class="s2">u214E</span><span class="s4">\\</span><span class="s2">u2160-</span><span class="s4">\\</span><span class="s2">u2188</span><span class="s4">\\</span><span class="s2">u2C00-</span><span class="s4">\\</span><span class="s2">u2C2E</span><span class="s4">\\</span><span class="s2">u2C30-</span><span class="s4">\\</span><span class="s2">u2C5E</span><span class="s4">\\</span><span class="s2">u2C60-</span><span class="s4">\\</span><span class="s2">u2CE4</span><span class="s4">\\</span><span class="s2">u2CEB-</span><span class="s4">\\</span><span class="s2">u2CEE</span><span class="s4">\\</span><span class="s2">u2CF2</span><span class="s4">\\</span><span class="s2">u2CF3</span><span class="s4">\\</span><span class="s2">u2D00-</span><span class="s4">\\</span><span class="s2">u2D25</span><span class="s4">\\</span><span class="s2">u2D27</span><span class="s4">\\</span><span class="s2">u2D2D</span><span class="s4">\\</span><span class="s2">u2D30-</span><span class="s4">\\</span><span class="s2">u2D67</span><span class="s4">\\</span><span class="s2">u2D6F</span><span class="s4">\\</span><span class="s2">u2D80-</span><span class="s4">\\</span><span class="s2">u2D96</span><span class="s4">\\</span><span class="s2">u2DA0-</span><span class="s4">\\</span><span class="s2">u2DA6</span><span class="s4">\\</span><span class="s2">u2DA8-</span><span class="s4">\\</span><span class="s2">u2DAE</span><span class="s4">\\</span><span class="s2">u2DB0-</span><span class="s4">\\</span><span class="s2">u2DB6</span><span class="s4">\\</span><span class="s2">u2DB8-</span><span class="s4">\\</span><span class="s2">u2DBE</span><span class="s4">\\</span><span class="s2">u2DC0-</span><span class="s4">\\</span><span class="s2">u2DC6</span><span class="s4">\\</span><span class="s2">u2DC8-</span><span class="s4">\\</span><span class="s2">u2DCE</span><span class="s4">\\</span><span class="s2">u2DD0-</span><span class="s4">\\</span><span class="s2">u2DD6</span><span class="s4">\\</span><span class="s2">u2DD8-</span><span class="s4">\\</span><span class="s2">u2DDE</span><span class="s4">\\</span><span class="s2">u2E2F</span><span class="s4">\\</span><span class="s2">u3005-</span><span class="s4">\\</span><span class="s2">u3007</span><span class="s4">\\</span><span class="s2">u3021-</span><span class="s4">\\</span><span class="s2">u3029</span><span class="s4">\\</span><span class="s2">u3031-</span><span class="s4">\\</span><span class="s2">u3035</span><span class="s4">\\</span><span class="s2">u3038-</span><span class="s4">\\</span><span class="s2">u303C</span><span class="s4">\\</span><span class="s2">u3041-</span><span class="s4">\\</span><span class="s2">u3096</span><span class="s4">\\</span><span class="s2">u309D-</span><span class="s4">\\</span><span class="s2">u309F</span><span class="s4">\\</span><span class="s2">u30A1-</span><span class="s4">\\</span><span class="s2">u30FA</span><span class="s4">\\</span><span class="s2">u30FC-</span><span class="s4">\\</span><span class="s2">u30FF</span><span class="s4">\\</span><span class="s2">u3105-</span><span class="s4">\\</span><span class="s2">u312D</span><span class="s4">\\</span><span class="s2">u3131-</span><span class="s4">\\</span><span class="s2">u318E</span><span class="s4">\\</span><span class="s2">u31A0-</span><span class="s4">\\</span><span class="s2">u31BA</span><span class="s4">\\</span><span class="s2">u31F0-</span><span class="s4">\\</span><span class="s2">u31FF</span><span class="s4">\\</span><span class="s2">u3400-</span><span class="s4">\\</span><span class="s2">u4DB5</span><span class="s4">\\</span><span class="s2">u4E00-</span><span class="s4">\\</span><span class="s2">u9FCC</span><span class="s4">\\</span><span class="s2">uA000-</span><span class="s4">\\</span><span class="s2">uA48C</span><span class="s4">\\</span><span class="s2">uA4D0-</span><span class="s4">\\</span><span class="s2">uA4FD</span><span class="s4">\\</span><span class="s2">uA500-</span><span class="s4">\\</span><span class="s2">uA60C</span><span class="s4">\\</span><span class="s2">uA610-</span><span class="s4">\\</span><span class="s2">uA61F</span><span class="s4">\\</span><span class="s2">uA62A</span><span class="s4">\\</span><span class="s2">uA62B</span><span class="s4">\\</span><span class="s2">uA640-</span><span class="s4">\\</span><span class="s2">uA66E</span><span class="s4">\\</span><span class="s2">uA67F-</span><span class="s4">\\</span><span class="s2">uA69D</span><span class="s4">\\</span><span class="s2">uA6A0-</span><span class="s4">\\</span><span class="s2">uA6EF</span><span class="s4">\\</span><span class="s2">uA717-</span><span class="s4">\\</span><span class="s2">uA71F</span><span class="s4">\\</span><span class="s2">uA722-</span><span class="s4">\\</span><span class="s2">uA788</span><span class="s4">\\</span><span class="s2">uA78B-</span><span class="s4">\\</span><span class="s2">uA78E</span><span class="s4">\\</span><span class="s2">uA790-</span><span class="s4">\\</span><span class="s2">uA7AD</span><span class="s4">\\</span><span class="s2">uA7B0</span><span class="s4">\\</span><span class="s2">uA7B1</span><span class="s4">\\</span><span class="s2">uA7F7-</span><span class="s4">\\</span><span class="s2">uA801</span><span class="s4">\\</span><span class="s2">uA803-</span><span class="s4">\\</span><span class="s2">uA805</span><span class="s4">\\</span><span class="s2">uA807-</span><span class="s4">\\</span><span class="s2">uA80A</span><span class="s4">\\</span><span class="s2">uA80C-</span><span class="s4">\\</span><span class="s2">uA822</span><span class="s4">\\</span><span class="s2">uA840-</span><span class="s4">\\</span><span class="s2">uA873</span><span class="s4">\\</span><span class="s2">uA882-</span><span class="s4">\\</span><span class="s2">uA8B3</span><span class="s4">\\</span><span class="s2">uA8F2-</span><span class="s4">\\</span><span class="s2">uA8F7</span><span class="s4">\\</span><span class="s2">uA8FB</span><span class="s4">\\</span><span class="s2">uA90A-</span><span class="s4">\\</span><span class="s2">uA925</span><span class="s4">\\</span><span class="s2">uA930-</span><span class="s4">\\</span><span class="s2">uA946</span><span class="s4">\\</span><span class="s2">uA960-</span><span class="s4">\\</span><span class="s2">uA97C</span><span class="s4">\\</span><span class="s2">uA984-</span><span class="s4">\\</span><span class="s2">uA9B2</span><span class="s4">\\</span><span class="s2">uA9CF</span><span class="s4">\\</span><span class="s2">uA9E0-</span><span class="s4">\\</span><span class="s2">uA9E4</span><span class="s4">\\</span><span class="s2">uA9E6-</span><span class="s4">\\</span><span class="s2">uA9EF</span><span class="s4">\\</span><span class="s2">uA9FA-</span><span class="s4">\\</span><span class="s2">uA9FE</span><span class="s4">\\</span><span class="s2">uAA00-</span><span class="s4">\\</span><span class="s2">uAA28</span><span class="s4">\\</span><span class="s2">uAA40-</span><span class="s4">\\</span><span class="s2">uAA42</span><span class="s4">\\</span><span class="s2">uAA44-</span><span class="s4">\\</span><span class="s2">uAA4B</span><span class="s4">\\</span><span class="s2">uAA60-</span><span class="s4">\\</span><span class="s2">uAA76</span><span class="s4">\\</span><span class="s2">uAA7A</span><span class="s4">\\</span><span class="s2">uAA7E-</span><span class="s4">\\</span><span class="s2">uAAAF</span><span class="s4">\\</span><span class="s2">uAAB1</span><span class="s4">\\</span><span class="s2">uAAB5</span><span class="s4">\\</span><span class="s2">uAAB6</span><span class="s4">\\</span><span class="s2">uAAB9-</span><span class="s4">\\</span><span class="s2">uAABD</span><span class="s4">\\</span><span class="s2">uAAC0</span><span class="s4">\\</span><span class="s2">uAAC2</span><span class="s4">\\</span><span class="s2">uAADB-</span><span class="s4">\\</span><span class="s2">uAADD</span><span class="s4">\\</span><span class="s2">uAAE0-</span><span class="s4">\\</span><span class="s2">uAAEA</span><span class="s4">\\</span><span class="s2">uAAF2-</span><span class="s4">\\</span><span class="s2">uAAF4</span><span class="s4">\\</span><span class="s2">uAB01-</span><span class="s4">\\</span><span class="s2">uAB06</span><span class="s4">\\</span><span class="s2">uAB09-</span><span class="s4">\\</span><span class="s2">uAB0E</span><span class="s4">\\</span><span class="s2">uAB11-</span><span class="s4">\\</span><span class="s2">uAB16</span><span class="s4">\\</span><span class="s2">uAB20-</span><span class="s4">\\</span><span class="s2">uAB26</span><span class="s4">\\</span><span class="s2">uAB28-</span><span class="s4">\\</span><span class="s2">uAB2E</span><span class="s4">\\</span><span class="s2">uAB30-</span><span class="s4">\\</span><span class="s2">uAB5A</span><span class="s4">\\</span><span class="s2">uAB5C-</span><span class="s4">\\</span><span class="s2">uAB5F</span><span class="s4">\\</span><span class="s2">uAB64</span><span class="s4">\\</span><span class="s2">uAB65</span><span class="s4">\\</span><span class="s2">uABC0-</span><span class="s4">\\</span><span class="s2">uABE2</span><span class="s4">\\</span><span class="s2">uAC00-</span><span class="s4">\\</span><span class="s2">uD7A3</span><span class="s4">\\</span><span class="s2">uD7B0-</span><span class="s4">\\</span><span class="s2">uD7C6</span><span class="s4">\\</span><span class="s2">uD7CB-</span><span class="s4">\\</span><span class="s2">uD7FB</span><span class="s4">\\</span><span class="s2">uF900-</span><span class="s4">\\</span><span class="s2">uFA6D</span><span class="s4">\\</span><span class="s2">uFA70-</span><span class="s4">\\</span><span class="s2">uFAD9</span><span class="s4">\\</span><span class="s2">uFB00-</span><span class="s4">\\</span><span class="s2">uFB06</span><span class="s4">\\</span><span class="s2">uFB13-</span><span class="s4">\\</span><span class="s2">uFB17</span><span class="s4">\\</span><span class="s2">uFB1D</span><span class="s4">\\</span><span class="s2">uFB1F-</span><span class="s4">\\</span><span class="s2">uFB28</span><span class="s4">\\</span><span class="s2">uFB2A-</span><span class="s4">\\</span><span class="s2">uFB36</span><span class="s4">\\</span><span class="s2">uFB38-</span><span class="s4">\\</span><span class="s2">uFB3C</span><span class="s4">\\</span><span class="s2">uFB3E</span><span class="s4">\\</span><span class="s2">uFB40</span><span class="s4">\\</span><span class="s2">uFB41</span><span class="s4">\\</span><span class="s2">uFB43</span><span class="s4">\\</span><span class="s2">uFB44</span><span class="s4">\\</span><span class="s2">uFB46-</span><span class="s4">\\</span><span class="s2">uFBB1</span><span class="s4">\\</span><span class="s2">uFBD3-</span><span class="s4">\\</span><span class="s2">uFD3D</span><span class="s4">\\</span><span class="s2">uFD50-</span><span class="s4">\\</span><span class="s2">uFD8F</span><span class="s4">\\</span><span class="s2">uFD92-</span><span class="s4">\\</span><span class="s2">uFDC7</span><span class="s4">\\</span><span class="s2">uFDF0-</span><span class="s4">\\</span><span class="s2">uFDFB</span><span class="s4">\\</span><span class="s2">uFE70-</span><span class="s4">\\</span><span class="s2">uFE74</span><span class="s4">\\</span><span class="s2">uFE76-</span><span class="s4">\\</span><span class="s2">uFEFC</span><span class="s4">\\</span><span class="s2">uFF21-</span><span class="s4">\\</span><span class="s2">uFF3A</span><span class="s4">\\</span><span class="s2">uFF41-</span><span class="s4">\\</span><span class="s2">uFF5A</span><span class="s4">\\</span><span class="s2">uFF66-</span><span class="s4">\\</span><span class="s2">uFFBE</span><span class="s4">\\</span><span class="s2">uFFC2-</span><span class="s4">\\</span><span class="s2">uFFC7</span><span class="s4">\\</span><span class="s2">uFFCA-</span><span class="s4">\\</span><span class="s2">uFFCF</span><span class="s4">\\</span><span class="s2">uFFD2-</span><span class="s4">\\</span><span class="s2">uFFD7</span><span class="s4">\\</span><span class="s2">uFFDA-</span><span class="s4">\\</span><span class="s2">uFFDC]&quot;</span><span class="s0">),</span><span class="s1">Tm</span><span class="s0">=</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s2">&quot;[</span><span class="s4">\\</span><span class="s2">xAA</span><span class="s4">\\</span><span class="s2">xB5</span><span class="s4">\\</span><span class="s2">xBA</span><span class="s4">\\</span><span class="s2">xC0-</span><span class="s4">\\</span><span class="s2">xD6</span><span class="s4">\\</span><span class="s2">xD8-</span><span class="s4">\\</span><span class="s2">xF6</span><span class="s4">\\</span><span class="s2">xF8-</span><span class="s4">\\</span><span class="s2">u02C1</span><span class="s4">\\</span><span class="s2">u02C6-</span><span class="s4">\\</span><span class="s2">u02D1</span><span class="s4">\\</span><span class="s2">u02E0-</span><span class="s4">\\</span><span class="s2">u02E4</span><span class="s4">\\</span><span class="s2">u02EC</span><span class="s4">\\</span><span class="s2">u02EE</span><span class="s4">\\</span><span class="s2">u0300-</span><span class="s4">\\</span><span class="s2">u0374</span><span class="s4">\\</span><span class="s2">u0376</span><span class="s4">\\</span><span class="s2">u0377</span><span class="s4">\\</span><span class="s2">u037A-</span><span class="s4">\\</span><span class="s2">u037D</span><span class="s4">\\</span><span class="s2">u037F</span><span class="s4">\\</span><span class="s2">u0386</span><span class="s4">\\</span><span class="s2">u0388-</span><span class="s4">\\</span><span class="s2">u038A</span><span class="s4">\\</span><span class="s2">u038C</span><span class="s4">\\</span><span class="s2">u038E-</span><span class="s4">\\</span><span class="s2">u03A1</span><span class="s4">\\</span><span class="s2">u03A3-</span><span class="s4">\\</span><span class="s2">u03F5</span><span class="s4">\\</span><span class="s2">u03F7-</span><span class="s4">\\</span><span class="s2">u0481</span><span class="s4">\\</span><span class="s2">u0483-</span><span class="s4">\\</span><span class="s2">u0487</span><span class="s4">\\</span><span class="s2">u048A-</span><span class="s4">\\</span><span class="s2">u052F</span><span class="s4">\\</span><span class="s2">u0531-</span><span class="s4">\\</span><span class="s2">u0556</span><span class="s4">\\</span><span class="s2">u0559</span><span class="s4">\\</span><span class="s2">u0561-</span><span class="s4">\\</span><span class="s2">u0587</span><span class="s4">\\</span><span class="s2">u0591-</span><span class="s4">\\</span><span class="s2">u05BD</span><span class="s4">\\</span><span class="s2">u05BF</span><span class="s4">\\</span><span class="s2">u05C1</span><span class="s4">\\</span><span class="s2">u05C2</span><span class="s4">\\</span><span class="s2">u05C4</span><span class="s4">\\</span><span class="s2">u05C5</span><span class="s4">\\</span><span class="s2">u05C7</span><span class="s4">\\</span><span class="s2">u05D0-</span><span class="s4">\\</span><span class="s2">u05EA</span><span class="s4">\\</span><span class="s2">u05F0-</span><span class="s4">\\</span><span class="s2">u05F2</span><span class="s4">\\</span><span class="s2">u0610-</span><span class="s4">\\</span><span class="s2">u061A</span><span class="s4">\\</span><span class="s2">u0620-</span><span class="s4">\\</span><span class="s2">u0669</span><span class="s4">\\</span><span class="s2">u066E-</span><span class="s4">\\</span><span class="s2">u06D3</span><span class="s4">\\</span><span class="s2">u06D5-</span><span class="s4">\\</span><span class="s2">u06DC</span><span class="s4">\\</span><span class="s2">u06DF-</span><span class="s4">\\</span><span class="s2">u06E8</span><span class="s4">\\</span><span class="s2">u06EA-</span><span class="s4">\\</span><span class="s2">u06FC</span><span class="s4">\\</span><span class="s2">u06FF</span><span class="s4">\\</span><span class="s2">u0710-</span><span class="s4">\\</span><span class="s2">u074A</span><span class="s4">\\</span><span class="s2">u074D-</span><span class="s4">\\</span><span class="s2">u07B1</span><span class="s4">\\</span><span class="s2">u07C0-</span><span class="s4">\\</span><span class="s2">u07F5</span><span class="s4">\\</span><span class="s2">u07FA</span><span class="s4">\\</span><span class="s2">u0800-</span><span class="s4">\\</span><span class="s2">u082D</span><span class="s4">\\</span><span class="s2">u0840-</span><span class="s4">\\</span><span class="s2">u085B</span><span class="s4">\\</span><span class="s2">u08A0-</span><span class="s4">\\</span><span class="s2">u08B2</span><span class="s4">\\</span><span class="s2">u08E4-</span><span class="s4">\\</span><span class="s2">u0963</span><span class="s4">\\</span><span class="s2">u0966-</span><span class="s4">\\</span><span class="s2">u096F</span><span class="s4">\\</span><span class="s2">u0971-</span><span class="s4">\\</span><span class="s2">u0983</span><span class="s4">\\</span><span class="s2">u0985-</span><span class="s4">\\</span><span class="s2">u098C</span><span class="s4">\\</span><span class="s2">u098F</span><span class="s4">\\</span><span class="s2">u0990</span><span class="s4">\\</span><span class="s2">u0993-</span><span class="s4">\\</span><span class="s2">u09A8</span><span class="s4">\\</span><span class="s2">u09AA-</span><span class="s4">\\</span><span class="s2">u09B0</span><span class="s4">\\</span><span class="s2">u09B2</span><span class="s4">\\</span><span class="s2">u09B6-</span><span class="s4">\\</span><span class="s2">u09B9</span><span class="s4">\\</span><span class="s2">u09BC-</span><span class="s4">\\</span><span class="s2">u09C4</span><span class="s4">\\</span><span class="s2">u09C7</span><span class="s4">\\</span><span class="s2">u09C8</span><span class="s4">\\</span><span class="s2">u09CB-</span><span class="s4">\\</span><span class="s2">u09CE</span><span class="s4">\\</span><span class="s2">u09D7</span><span class="s4">\\</span><span class="s2">u09DC</span><span class="s4">\\</span><span class="s2">u09DD</span><span class="s4">\\</span><span class="s2">u09DF-</span><span class="s4">\\</span><span class="s2">u09E3</span><span class="s4">\\</span><span class="s2">u09E6-</span><span class="s4">\\</span><span class="s2">u09F1</span><span class="s4">\\</span><span class="s2">u0A01-</span><span class="s4">\\</span><span class="s2">u0A03</span><span class="s4">\\</span><span class="s2">u0A05-</span><span class="s4">\\</span><span class="s2">u0A0A</span><span class="s4">\\</span><span class="s2">u0A0F</span><span class="s4">\\</span><span class="s2">u0A10</span><span class="s4">\\</span><span class="s2">u0A13-</span><span class="s4">\\</span><span class="s2">u0A28</span><span class="s4">\\</span><span class="s2">u0A2A-</span><span class="s4">\\</span><span class="s2">u0A30</span><span class="s4">\\</span><span class="s2">u0A32</span><span class="s4">\\</span><span class="s2">u0A33</span><span class="s4">\\</span><span class="s2">u0A35</span><span class="s4">\\</span><span class="s2">u0A36</span><span class="s4">\\</span><span class="s2">u0A38</span><span class="s4">\\</span><span class="s2">u0A39</span><span class="s4">\\</span><span class="s2">u0A3C</span><span class="s4">\\</span><span class="s2">u0A3E-</span><span class="s4">\\</span><span class="s2">u0A42</span><span class="s4">\\</span><span class="s2">u0A47</span><span class="s4">\\</span><span class="s2">u0A48</span><span class="s4">\\</span><span class="s2">u0A4B-</span><span class="s4">\\</span><span class="s2">u0A4D</span><span class="s4">\\</span><span class="s2">u0A51</span><span class="s4">\\</span><span class="s2">u0A59-</span><span class="s4">\\</span><span class="s2">u0A5C</span><span class="s4">\\</span><span class="s2">u0A5E</span><span class="s4">\\</span><span class="s2">u0A66-</span><span class="s4">\\</span><span class="s2">u0A75</span><span class="s4">\\</span><span class="s2">u0A81-</span><span class="s4">\\</span><span class="s2">u0A83</span><span class="s4">\\</span><span class="s2">u0A85-</span><span class="s4">\\</span><span class="s2">u0A8D</span><span class="s4">\\</span><span class="s2">u0A8F-</span><span class="s4">\\</span><span class="s2">u0A91</span><span class="s4">\\</span><span class="s2">u0A93-</span><span class="s4">\\</span><span class="s2">u0AA8</span><span class="s4">\\</span><span class="s2">u0AAA-</span><span class="s4">\\</span><span class="s2">u0AB0</span><span class="s4">\\</span><span class="s2">u0AB2</span><span class="s4">\\</span><span class="s2">u0AB3</span><span class="s4">\\</span><span class="s2">u0AB5-</span><span class="s4">\\</span><span class="s2">u0AB9</span><span class="s4">\\</span><span class="s2">u0ABC-</span><span class="s4">\\</span><span class="s2">u0AC5</span><span class="s4">\\</span><span class="s2">u0AC7-</span><span class="s4">\\</span><span class="s2">u0AC9</span><span class="s4">\\</span><span class="s2">u0ACB-</span><span class="s4">\\</span><span class="s2">u0ACD</span><span class="s4">\\</span><span class="s2">u0AD0</span><span class="s4">\\</span><span class="s2">u0AE0-</span><span class="s4">\\</span><span class="s2">u0AE3</span><span class="s4">\\</span><span class="s2">u0AE6-</span><span class="s4">\\</span><span class="s2">u0AEF</span><span class="s4">\\</span><span class="s2">u0B01-</span><span class="s4">\\</span><span class="s2">u0B03</span><span class="s4">\\</span><span class="s2">u0B05-</span><span class="s4">\\</span><span class="s2">u0B0C</span><span class="s4">\\</span><span class="s2">u0B0F</span><span class="s4">\\</span><span class="s2">u0B10</span><span class="s4">\\</span><span class="s2">u0B13-</span><span class="s4">\\</span><span class="s2">u0B28</span><span class="s4">\\</span><span class="s2">u0B2A-</span><span class="s4">\\</span><span class="s2">u0B30</span><span class="s4">\\</span><span class="s2">u0B32</span><span class="s4">\\</span><span class="s2">u0B33</span><span class="s4">\\</span><span class="s2">u0B35-</span><span class="s4">\\</span><span class="s2">u0B39</span><span class="s4">\\</span><span class="s2">u0B3C-</span><span class="s4">\\</span><span class="s2">u0B44</span><span class="s4">\\</span><span class="s2">u0B47</span><span class="s4">\\</span><span class="s2">u0B48</span><span class="s4">\\</span><span class="s2">u0B4B-</span><span class="s4">\\</span><span class="s2">u0B4D</span><span class="s4">\\</span><span class="s2">u0B56</span><span class="s4">\\</span><span class="s2">u0B57</span><span class="s4">\\</span><span class="s2">u0B5C</span><span class="s4">\\</span><span class="s2">u0B5D</span><span class="s4">\\</span><span class="s2">u0B5F-</span><span class="s4">\\</span><span class="s2">u0B63</span><span class="s4">\\</span><span class="s2">u0B66-</span><span class="s4">\\</span><span class="s2">u0B6F</span><span class="s4">\\</span><span class="s2">u0B71</span><span class="s4">\\</span><span class="s2">u0B82</span><span class="s4">\\</span><span class="s2">u0B83</span><span class="s4">\\</span><span class="s2">u0B85-</span><span class="s4">\\</span><span class="s2">u0B8A</span><span class="s4">\\</span><span class="s2">u0B8E-</span><span class="s4">\\</span><span class="s2">u0B90</span><span class="s4">\\</span><span class="s2">u0B92-</span><span class="s4">\\</span><span class="s2">u0B95</span><span class="s4">\\</span><span class="s2">u0B99</span><span class="s4">\\</span><span class="s2">u0B9A</span><span class="s4">\\</span><span class="s2">u0B9C</span><span class="s4">\\</span><span class="s2">u0B9E</span><span class="s4">\\</span><span class="s2">u0B9F</span><span class="s4">\\</span><span class="s2">u0BA3</span><span class="s4">\\</span><span class="s2">u0BA4</span><span class="s4">\\</span><span class="s2">u0BA8-</span><span class="s4">\\</span><span class="s2">u0BAA</span><span class="s4">\\</span><span class="s2">u0BAE-</span><span class="s4">\\</span><span class="s2">u0BB9</span><span class="s4">\\</span><span class="s2">u0BBE-</span><span class="s4">\\</span><span class="s2">u0BC2</span><span class="s4">\\</span><span class="s2">u0BC6-</span><span class="s4">\\</span><span class="s2">u0BC8</span><span class="s4">\\</span><span class="s2">u0BCA-</span><span class="s4">\\</span><span class="s2">u0BCD</span><span class="s4">\\</span><span class="s2">u0BD0</span><span class="s4">\\</span><span class="s2">u0BD7</span><span class="s4">\\</span><span class="s2">u0BE6-</span><span class="s4">\\</span><span class="s2">u0BEF</span><span class="s4">\\</span><span class="s2">u0C00-</span><span class="s4">\\</span><span class="s2">u0C03</span><span class="s4">\\</span><span class="s2">u0C05-</span><span class="s4">\\</span><span class="s2">u0C0C</span><span class="s4">\\</span><span class="s2">u0C0E-</span><span class="s4">\\</span><span class="s2">u0C10</span><span class="s4">\\</span><span class="s2">u0C12-</span><span class="s4">\\</span><span class="s2">u0C28</span><span class="s4">\\</span><span class="s2">u0C2A-</span><span class="s4">\\</span><span class="s2">u0C39</span><span class="s4">\\</span><span class="s2">u0C3D-</span><span class="s4">\\</span><span class="s2">u0C44</span><span class="s4">\\</span><span class="s2">u0C46-</span><span class="s4">\\</span><span class="s2">u0C48</span><span class="s4">\\</span><span class="s2">u0C4A-</span><span class="s4">\\</span><span class="s2">u0C4D</span><span class="s4">\\</span><span class="s2">u0C55</span><span class="s4">\\</span><span class="s2">u0C56</span><span class="s4">\\</span><span class="s2">u0C58</span><span class="s4">\\</span><span class="s2">u0C59</span><span class="s4">\\</span><span class="s2">u0C60-</span><span class="s4">\\</span><span class="s2">u0C63</span><span class="s4">\\</span><span class="s2">u0C66-</span><span class="s4">\\</span><span class="s2">u0C6F</span><span class="s4">\\</span><span class="s2">u0C81-</span><span class="s4">\\</span><span class="s2">u0C83</span><span class="s4">\\</span><span class="s2">u0C85-</span><span class="s4">\\</span><span class="s2">u0C8C</span><span class="s4">\\</span><span class="s2">u0C8E-</span><span class="s4">\\</span><span class="s2">u0C90</span><span class="s4">\\</span><span class="s2">u0C92-</span><span class="s4">\\</span><span class="s2">u0CA8</span><span class="s4">\\</span><span class="s2">u0CAA-</span><span class="s4">\\</span><span class="s2">u0CB3</span><span class="s4">\\</span><span class="s2">u0CB5-</span><span class="s4">\\</span><span class="s2">u0CB9</span><span class="s4">\\</span><span class="s2">u0CBC-</span><span class="s4">\\</span><span class="s2">u0CC4</span><span class="s4">\\</span><span class="s2">u0CC6-</span><span class="s4">\\</span><span class="s2">u0CC8</span><span class="s4">\\</span><span class="s2">u0CCA-</span><span class="s4">\\</span><span class="s2">u0CCD</span><span class="s4">\\</span><span class="s2">u0CD5</span><span class="s4">\\</span><span class="s2">u0CD6</span><span class="s4">\\</span><span class="s2">u0CDE</span><span class="s4">\\</span><span class="s2">u0CE0-</span><span class="s4">\\</span><span class="s2">u0CE3</span><span class="s4">\\</span><span class="s2">u0CE6-</span><span class="s4">\\</span><span class="s2">u0CEF</span><span class="s4">\\</span><span class="s2">u0CF1</span><span class="s4">\\</span><span class="s2">u0CF2</span><span class="s4">\\</span><span class="s2">u0D01-</span><span class="s4">\\</span><span class="s2">u0D03</span><span class="s4">\\</span><span class="s2">u0D05-</span><span class="s4">\\</span><span class="s2">u0D0C</span><span class="s4">\\</span><span class="s2">u0D0E-</span><span class="s4">\\</span><span class="s2">u0D10</span><span class="s4">\\</span><span class="s2">u0D12-</span><span class="s4">\\</span><span class="s2">u0D3A</span><span class="s4">\\</span><span class="s2">u0D3D-</span><span class="s4">\\</span><span class="s2">u0D44</span><span class="s4">\\</span><span class="s2">u0D46-</span><span class="s4">\\</span><span class="s2">u0D48</span><span class="s4">\\</span><span class="s2">u0D4A-</span><span class="s4">\\</span><span class="s2">u0D4E</span><span class="s4">\\</span><span class="s2">u0D57</span><span class="s4">\\</span><span class="s2">u0D60-</span><span class="s4">\\</span><span class="s2">u0D63</span><span class="s4">\\</span><span class="s2">u0D66-</span><span class="s4">\\</span><span class="s2">u0D6F</span><span class="s4">\\</span><span class="s2">u0D7A-</span><span class="s4">\\</span><span class="s2">u0D7F</span><span class="s4">\\</span><span class="s2">u0D82</span><span class="s4">\\</span><span class="s2">u0D83</span><span class="s4">\\</span><span class="s2">u0D85-</span><span class="s4">\\</span><span class="s2">u0D96</span><span class="s4">\\</span><span class="s2">u0D9A-</span><span class="s4">\\</span><span class="s2">u0DB1</span><span class="s4">\\</span><span class="s2">u0DB3-</span><span class="s4">\\</span><span class="s2">u0DBB</span><span class="s4">\\</span><span class="s2">u0DBD</span><span class="s4">\\</span><span class="s2">u0DC0-</span><span class="s4">\\</span><span class="s2">u0DC6</span><span class="s4">\\</span><span class="s2">u0DCA</span><span class="s4">\\</span><span class="s2">u0DCF-</span><span class="s4">\\</span><span class="s2">u0DD4</span><span class="s4">\\</span><span class="s2">u0DD6</span><span class="s4">\\</span><span class="s2">u0DD8-</span><span class="s4">\\</span><span class="s2">u0DDF</span><span class="s4">\\</span><span class="s2">u0DE6-</span><span class="s4">\\</span><span class="s2">u0DEF</span><span class="s4">\\</span><span class="s2">u0DF2</span><span class="s4">\\</span><span class="s2">u0DF3</span><span class="s4">\\</span><span class="s2">u0E01-</span><span class="s4">\\</span><span class="s2">u0E3A</span><span class="s4">\\</span><span class="s2">u0E40-</span><span class="s4">\\</span><span class="s2">u0E4E</span><span class="s4">\\</span><span class="s2">u0E50-</span><span class="s4">\\</span><span class="s2">u0E59</span><span class="s4">\\</span><span class="s2">u0E81</span><span class="s4">\\</span><span class="s2">u0E82</span><span class="s4">\\</span><span class="s2">u0E84</span><span class="s4">\\</span><span class="s2">u0E87</span><span class="s4">\\</span><span class="s2">u0E88</span><span class="s4">\\</span><span class="s2">u0E8A</span><span class="s4">\\</span><span class="s2">u0E8D</span><span class="s4">\\</span><span class="s2">u0E94-</span><span class="s4">\\</span><span class="s2">u0E97</span><span class="s4">\\</span><span class="s2">u0E99-</span><span class="s4">\\</span><span class="s2">u0E9F</span><span class="s4">\\</span><span class="s2">u0EA1-</span><span class="s4">\\</span><span class="s2">u0EA3</span><span class="s4">\\</span><span class="s2">u0EA5</span><span class="s4">\\</span><span class="s2">u0EA7</span><span class="s4">\\</span><span class="s2">u0EAA</span><span class="s4">\\</span><span class="s2">u0EAB</span><span class="s4">\\</span><span class="s2">u0EAD-</span><span class="s4">\\</span><span class="s2">u0EB9</span><span class="s4">\\</span><span class="s2">u0EBB-</span><span class="s4">\\</span><span class="s2">u0EBD</span><span class="s4">\\</span><span class="s2">u0EC0-</span><span class="s4">\\</span><span class="s2">u0EC4</span><span class="s4">\\</span><span class="s2">u0EC6</span><span class="s4">\\</span><span class="s2">u0EC8-</span><span class="s4">\\</span><span class="s2">u0ECD</span><span class="s4">\\</span><span class="s2">u0ED0-</span><span class="s4">\\</span><span class="s2">u0ED9</span><span class="s4">\\</span><span class="s2">u0EDC-</span><span class="s4">\\</span><span class="s2">u0EDF</span><span class="s4">\\</span><span class="s2">u0F00</span><span class="s4">\\</span><span class="s2">u0F18</span><span class="s4">\\</span><span class="s2">u0F19</span><span class="s4">\\</span><span class="s2">u0F20-</span><span class="s4">\\</span><span class="s2">u0F29</span><span class="s4">\\</span><span class="s2">u0F35</span><span class="s4">\\</span><span class="s2">u0F37</span><span class="s4">\\</span><span class="s2">u0F39</span><span class="s4">\\</span><span class="s2">u0F3E-</span><span class="s4">\\</span><span class="s2">u0F47</span><span class="s4">\\</span><span class="s2">u0F49-</span><span class="s4">\\</span><span class="s2">u0F6C</span><span class="s4">\\</span><span class="s2">u0F71-</span><span class="s4">\\</span><span class="s2">u0F84</span><span class="s4">\\</span><span class="s2">u0F86-</span><span class="s4">\\</span><span class="s2">u0F97</span><span class="s4">\\</span><span class="s2">u0F99-</span><span class="s4">\\</span><span class="s2">u0FBC</span><span class="s4">\\</span><span class="s2">u0FC6</span><span class="s4">\\</span><span class="s2">u1000-</span><span class="s4">\\</span><span class="s2">u1049</span><span class="s4">\\</span><span class="s2">u1050-</span><span class="s4">\\</span><span class="s2">u109D</span><span class="s4">\\</span><span class="s2">u10A0-</span><span class="s4">\\</span><span class="s2">u10C5</span><span class="s4">\\</span><span class="s2">u10C7</span><span class="s4">\\</span><span class="s2">u10CD</span><span class="s4">\\</span><span class="s2">u10D0-</span><span class="s4">\\</span><span class="s2">u10FA</span><span class="s4">\\</span><span class="s2">u10FC-</span><span class="s4">\\</span><span class="s2">u1248</span><span class="s4">\\</span><span class="s2">u124A-</span><span class="s4">\\</span><span class="s2">u124D</span><span class="s4">\\</span><span class="s2">u1250-</span><span class="s4">\\</span><span class="s2">u1256</span><span class="s4">\\</span><span class="s2">u1258</span><span class="s4">\\</span><span class="s2">u125A-</span><span class="s4">\\</span><span class="s2">u125D</span><span class="s4">\\</span><span class="s2">u1260-</span><span class="s4">\\</span><span class="s2">u1288</span><span class="s4">\\</span><span class="s2">u128A-</span><span class="s4">\\</span><span class="s2">u128D</span><span class="s4">\\</span><span class="s2">u1290-</span><span class="s4">\\</span><span class="s2">u12B0</span><span class="s4">\\</span><span class="s2">u12B2-</span><span class="s4">\\</span><span class="s2">u12B5</span><span class="s4">\\</span><span class="s2">u12B8-</span><span class="s4">\\</span><span class="s2">u12BE</span><span class="s4">\\</span><span class="s2">u12C0</span><span class="s4">\\</span><span class="s2">u12C2-</span><span class="s4">\\</span><span class="s2">u12C5</span><span class="s4">\\</span><span class="s2">u12C8-</span><span class="s4">\\</span><span class="s2">u12D6</span><span class="s4">\\</span><span class="s2">u12D8-</span><span class="s4">\\</span><span class="s2">u1310</span><span class="s4">\\</span><span class="s2">u1312-</span><span class="s4">\\</span><span class="s2">u1315</span><span class="s4">\\</span><span class="s2">u1318-</span><span class="s4">\\</span><span class="s2">u135A</span><span class="s4">\\</span><span class="s2">u135D-</span><span class="s4">\\</span><span class="s2">u135F</span><span class="s4">\\</span><span class="s2">u1380-</span><span class="s4">\\</span><span class="s2">u138F</span><span class="s4">\\</span><span class="s2">u13A0-</span><span class="s4">\\</span><span class="s2">u13F4</span><span class="s4">\\</span><span class="s2">u1401-</span><span class="s4">\\</span><span class="s2">u166C</span><span class="s4">\\</span><span class="s2">u166F-</span><span class="s4">\\</span><span class="s2">u167F</span><span class="s4">\\</span><span class="s2">u1681-</span><span class="s4">\\</span><span class="s2">u169A</span><span class="s4">\\</span><span class="s2">u16A0-</span><span class="s4">\\</span><span class="s2">u16EA</span><span class="s4">\\</span><span class="s2">u16EE-</span><span class="s4">\\</span><span class="s2">u16F8</span><span class="s4">\\</span><span class="s2">u1700-</span><span class="s4">\\</span><span class="s2">u170C</span><span class="s4">\\</span><span class="s2">u170E-</span><span class="s4">\\</span><span class="s2">u1714</span><span class="s4">\\</span><span class="s2">u1720-</span><span class="s4">\\</span><span class="s2">u1734</span><span class="s4">\\</span><span class="s2">u1740-</span><span class="s4">\\</span><span class="s2">u1753</span><span class="s4">\\</span><span class="s2">u1760-</span><span class="s4">\\</span><span class="s2">u176C</span><span class="s4">\\</span><span class="s2">u176E-</span><span class="s4">\\</span><span class="s2">u1770</span><span class="s4">\\</span><span class="s2">u1772</span><span class="s4">\\</span><span class="s2">u1773</span><span class="s4">\\</span><span class="s2">u1780-</span><span class="s4">\\</span><span class="s2">u17D3</span><span class="s4">\\</span><span class="s2">u17D7</span><span class="s4">\\</span><span class="s2">u17DC</span><span class="s4">\\</span><span class="s2">u17DD</span><span class="s4">\\</span><span class="s2">u17E0-</span><span class="s4">\\</span><span class="s2">u17E9</span><span class="s4">\\</span><span class="s2">u180B-</span><span class="s4">\\</span><span class="s2">u180D</span><span class="s4">\\</span><span class="s2">u1810-</span><span class="s4">\\</span><span class="s2">u1819</span><span class="s4">\\</span><span class="s2">u1820-</span><span class="s4">\\</span><span class="s2">u1877</span><span class="s4">\\</span><span class="s2">u1880-</span><span class="s4">\\</span><span class="s2">u18AA</span><span class="s4">\\</span><span class="s2">u18B0-</span><span class="s4">\\</span><span class="s2">u18F5</span><span class="s4">\\</span><span class="s2">u1900-</span><span class="s4">\\</span><span class="s2">u191E</span><span class="s4">\\</span><span class="s2">u1920-</span><span class="s4">\\</span><span class="s2">u192B</span><span class="s4">\\</span><span class="s2">u1930-</span><span class="s4">\\</span><span class="s2">u193B</span><span class="s4">\\</span><span class="s2">u1946-</span><span class="s4">\\</span><span class="s2">u196D</span><span class="s4">\\</span><span class="s2">u1970-</span><span class="s4">\\</span><span class="s2">u1974</span><span class="s4">\\</span><span class="s2">u1980-</span><span class="s4">\\</span><span class="s2">u19AB</span><span class="s4">\\</span><span class="s2">u19B0-</span><span class="s4">\\</span><span class="s2">u19C9</span><span class="s4">\\</span><span class="s2">u19D0-</span><span class="s4">\\</span><span class="s2">u19D9</span><span class="s4">\\</span><span class="s2">u1A00-</span><span class="s4">\\</span><span class="s2">u1A1B</span><span class="s4">\\</span><span class="s2">u1A20-</span><span class="s4">\\</span><span class="s2">u1A5E</span><span class="s4">\\</span><span class="s2">u1A60-</span><span class="s4">\\</span><span class="s2">u1A7C</span><span class="s4">\\</span><span class="s2">u1A7F-</span><span class="s4">\\</span><span class="s2">u1A89</span><span class="s4">\\</span><span class="s2">u1A90-</span><span class="s4">\\</span><span class="s2">u1A99</span><span class="s4">\\</span><span class="s2">u1AA7</span><span class="s4">\\</span><span class="s2">u1AB0-</span><span class="s4">\\</span><span class="s2">u1ABD</span><span class="s4">\\</span><span class="s2">u1B00-</span><span class="s4">\\</span><span class="s2">u1B4B</span><span class="s4">\\</span><span class="s2">u1B50-</span><span class="s4">\\</span><span class="s2">u1B59</span><span class="s4">\\</span><span class="s2">u1B6B-</span><span class="s4">\\</span><span class="s2">u1B73</span><span class="s4">\\</span><span class="s2">u1B80-</span><span class="s4">\\</span><span class="s2">u1BF3</span><span class="s4">\\</span><span class="s2">u1C00-</span><span class="s4">\\</span><span class="s2">u1C37</span><span class="s4">\\</span><span class="s2">u1C40-</span><span class="s4">\\</span><span class="s2">u1C49</span><span class="s4">\\</span><span class="s2">u1C4D-</span><span class="s4">\\</span><span class="s2">u1C7D</span><span class="s4">\\</span><span class="s2">u1CD0-</span><span class="s4">\\</span><span class="s2">u1CD2</span><span class="s4">\\</span><span class="s2">u1CD4-</span><span class="s4">\\</span><span class="s2">u1CF6</span><span class="s4">\\</span><span class="s2">u1CF8</span><span class="s4">\\</span><span class="s2">u1CF9</span><span class="s4">\\</span><span class="s2">u1D00-</span><span class="s4">\\</span><span class="s2">u1DF5</span><span class="s4">\\</span><span class="s2">u1DFC-</span><span class="s4">\\</span><span class="s2">u1F15</span><span class="s4">\\</span><span class="s2">u1F18-</span><span class="s4">\\</span><span class="s2">u1F1D</span><span class="s4">\\</span><span class="s2">u1F20-</span><span class="s4">\\</span><span class="s2">u1F45</span><span class="s4">\\</span><span class="s2">u1F48-</span><span class="s4">\\</span><span class="s2">u1F4D</span><span class="s4">\\</span><span class="s2">u1F50-</span><span class="s4">\\</span><span class="s2">u1F57</span><span class="s4">\\</span><span class="s2">u1F59</span><span class="s4">\\</span><span class="s2">u1F5B</span><span class="s4">\\</span><span class="s2">u1F5D</span><span class="s4">\\</span><span class="s2">u1F5F-</span><span class="s4">\\</span><span class="s2">u1F7D</span><span class="s4">\\</span><span class="s2">u1F80-</span><span class="s4">\\</span><span class="s2">u1FB4</span><span class="s4">\\</span><span class="s2">u1FB6-</span><span class="s4">\\</span><span class="s2">u1FBC</span><span class="s4">\\</span><span class="s2">u1FBE</span><span class="s4">\\</span><span class="s2">u1FC2-</span><span class="s4">\\</span><span class="s2">u1FC4</span><span class="s4">\\</span><span class="s2">u1FC6-</span><span class="s4">\\</span><span class="s2">u1FCC</span><span class="s4">\\</span><span class="s2">u1FD0-</span><span class="s4">\\</span><span class="s2">u1FD3</span><span class="s4">\\</span><span class="s2">u1FD6-</span><span class="s4">\\</span><span class="s2">u1FDB</span><span class="s4">\\</span><span class="s2">u1FE0-</span><span class="s4">\\</span><span class="s2">u1FEC</span><span class="s4">\\</span><span class="s2">u1FF2-</span><span class="s4">\\</span><span class="s2">u1FF4</span><span class="s4">\\</span><span class="s2">u1FF6-</span><span class="s4">\\</span><span class="s2">u1FFC</span><span class="s4">\\</span><span class="s2">u200C</span><span class="s4">\\</span><span class="s2">u200D</span><span class="s4">\\</span><span class="s2">u203F</span><span class="s4">\\</span><span class="s2">u2040</span><span class="s4">\\</span><span class="s2">u2054</span><span class="s4">\\</span><span class="s2">u2071</span><span class="s4">\\</span><span class="s2">u207F</span><span class="s4">\\</span><span class="s2">u2090-</span><span class="s4">\\</span><span class="s2">u209C</span><span class="s4">\\</span><span class="s2">u20D0-</span><span class="s4">\\</span><span class="s2">u20DC</span><span class="s4">\\</span><span class="s2">u20E1</span><span class="s4">\\</span><span class="s2">u20E5-</span><span class="s4">\\</span><span class="s2">u20F0</span><span class="s4">\\</span><span class="s2">u2102</span><span class="s4">\\</span><span class="s2">u2107</span><span class="s4">\\</span><span class="s2">u210A-</span><span class="s4">\\</span><span class="s2">u2113</span><span class="s4">\\</span><span class="s2">u2115</span><span class="s4">\\</span><span class="s2">u2119-</span><span class="s4">\\</span><span class="s2">u211D</span><span class="s4">\\</span><span class="s2">u2124</span><span class="s4">\\</span><span class="s2">u2126</span><span class="s4">\\</span><span class="s2">u2128</span><span class="s4">\\</span><span class="s2">u212A-</span><span class="s4">\\</span><span class="s2">u212D</span><span class="s4">\\</span><span class="s2">u212F-</span><span class="s4">\\</span><span class="s2">u2139</span><span class="s4">\\</span><span class="s2">u213C-</span><span class="s4">\\</span><span class="s2">u213F</span><span class="s4">\\</span><span class="s2">u2145-</span><span class="s4">\\</span><span class="s2">u2149</span><span class="s4">\\</span><span class="s2">u214E</span><span class="s4">\\</span><span class="s2">u2160-</span><span class="s4">\\</span><span class="s2">u2188</span><span class="s4">\\</span><span class="s2">u2C00-</span><span class="s4">\\</span><span class="s2">u2C2E</span><span class="s4">\\</span><span class="s2">u2C30-</span><span class="s4">\\</span><span class="s2">u2C5E</span><span class="s4">\\</span><span class="s2">u2C60-</span><span class="s4">\\</span><span class="s2">u2CE4</span><span class="s4">\\</span><span class="s2">u2CEB-</span><span class="s4">\\</span><span class="s2">u2CF3</span><span class="s4">\\</span><span class="s2">u2D00-</span><span class="s4">\\</span><span class="s2">u2D25</span><span class="s4">\\</span><span class="s2">u2D27</span><span class="s4">\\</span><span class="s2">u2D2D</span><span class="s4">\\</span><span class="s2">u2D30-</span><span class="s4">\\</span><span class="s2">u2D67</span><span class="s4">\\</span><span class="s2">u2D6F</span><span class="s4">\\</span><span class="s2">u2D7F-</span><span class="s4">\\</span><span class="s2">u2D96</span><span class="s4">\\</span><span class="s2">u2DA0-</span><span class="s4">\\</span><span class="s2">u2DA6</span><span class="s4">\\</span><span class="s2">u2DA8-</span><span class="s4">\\</span><span class="s2">u2DAE</span><span class="s4">\\</span><span class="s2">u2DB0-</span><span class="s4">\\</span><span class="s2">u2DB6</span><span class="s4">\\</span><span class="s2">u2DB8-</span><span class="s4">\\</span><span class="s2">u2DBE</span><span class="s4">\\</span><span class="s2">u2DC0-</span><span class="s4">\\</span><span class="s2">u2DC6</span><span class="s4">\\</span><span class="s2">u2DC8-</span><span class="s4">\\</span><span class="s2">u2DCE</span><span class="s4">\\</span><span class="s2">u2DD0-</span><span class="s4">\\</span><span class="s2">u2DD6</span><span class="s4">\\</span><span class="s2">u2DD8-</span><span class="s4">\\</span><span class="s2">u2DDE</span><span class="s4">\\</span><span class="s2">u2DE0-</span><span class="s4">\\</span><span class="s2">u2DFF</span><span class="s4">\\</span><span class="s2">u2E2F</span><span class="s4">\\</span><span class="s2">u3005-</span><span class="s4">\\</span><span class="s2">u3007</span><span class="s4">\\</span><span class="s2">u3021-</span><span class="s4">\\</span><span class="s2">u302F</span><span class="s4">\\</span><span class="s2">u3031-</span><span class="s4">\\</span><span class="s2">u3035</span><span class="s4">\\</span><span class="s2">u3038-</span><span class="s4">\\</span><span class="s2">u303C</span><span class="s4">\\</span><span class="s2">u3041-</span><span class="s4">\\</span><span class="s2">u3096</span><span class="s4">\\</span><span class="s2">u3099</span><span class="s4">\\</span><span class="s2">u309A</span><span class="s4">\\</span><span class="s2">u309D-</span><span class="s4">\\</span><span class="s2">u309F</span><span class="s4">\\</span><span class="s2">u30A1-</span><span class="s4">\\</span><span class="s2">u30FA</span><span class="s4">\\</span><span class="s2">u30FC-</span><span class="s4">\\</span><span class="s2">u30FF</span><span class="s4">\\</span><span class="s2">u3105-</span><span class="s4">\\</span><span class="s2">u312D</span><span class="s4">\\</span><span class="s2">u3131-</span><span class="s4">\\</span><span class="s2">u318E</span><span class="s4">\\</span><span class="s2">u31A0-</span><span class="s4">\\</span><span class="s2">u31BA</span><span class="s4">\\</span><span class="s2">u31F0-</span><span class="s4">\\</span><span class="s2">u31FF</span><span class="s4">\\</span><span class="s2">u3400-</span><span class="s4">\\</span><span class="s2">u4DB5</span><span class="s4">\\</span><span class="s2">u4E00-</span><span class="s4">\\</span><span class="s2">u9FCC</span><span class="s4">\\</span><span class="s2">uA000-</span><span class="s4">\\</span><span class="s2">uA48C</span><span class="s4">\\</span><span class="s2">uA4D0-</span><span class="s4">\\</span><span class="s2">uA4FD</span><span class="s4">\\</span><span class="s2">uA500-</span><span class="s4">\\</span><span class="s2">uA60C</span><span class="s4">\\</span><span class="s2">uA610-</span><span class="s4">\\</span><span class="s2">uA62B</span><span class="s4">\\</span><span class="s2">uA640-</span><span class="s4">\\</span><span class="s2">uA66F</span><span class="s4">\\</span><span class="s2">uA674-</span><span class="s4">\\</span><span class="s2">uA67D</span><span class="s4">\\</span><span class="s2">uA67F-</span><span class="s4">\\</span><span class="s2">uA69D</span><span class="s4">\\</span><span class="s2">uA69F-</span><span class="s4">\\</span><span class="s2">uA6F1</span><span class="s4">\\</span><span class="s2">uA717-</span><span class="s4">\\</span><span class="s2">uA71F</span><span class="s4">\\</span><span class="s2">uA722-</span><span class="s4">\\</span><span class="s2">uA788</span><span class="s4">\\</span><span class="s2">uA78B-</span><span class="s4">\\</span><span class="s2">uA78E</span><span class="s4">\\</span><span class="s2">uA790-</span><span class="s4">\\</span><span class="s2">uA7AD</span><span class="s4">\\</span><span class="s2">uA7B0</span><span class="s4">\\</span><span class="s2">uA7B1</span><span class="s4">\\</span><span class="s2">uA7F7-</span><span class="s4">\\</span><span class="s2">uA827</span><span class="s4">\\</span><span class="s2">uA840-</span><span class="s4">\\</span><span class="s2">uA873</span><span class="s4">\\</span><span class="s2">uA880-</span><span class="s4">\\</span><span class="s2">uA8C4</span><span class="s4">\\</span><span class="s2">uA8D0-</span><span class="s4">\\</span><span class="s2">uA8D9</span><span class="s4">\\</span><span class="s2">uA8E0-</span><span class="s4">\\</span><span class="s2">uA8F7</span><span class="s4">\\</span><span class="s2">uA8FB</span><span class="s4">\\</span><span class="s2">uA900-</span><span class="s4">\\</span><span class="s2">uA92D</span><span class="s4">\\</span><span class="s2">uA930-</span><span class="s4">\\</span><span class="s2">uA953</span><span class="s4">\\</span><span class="s2">uA960-</span><span class="s4">\\</span><span class="s2">uA97C</span><span class="s4">\\</span><span class="s2">uA980-</span><span class="s4">\\</span><span class="s2">uA9C0</span><span class="s4">\\</span><span class="s2">uA9CF-</span><span class="s4">\\</span><span class="s2">uA9D9</span><span class="s4">\\</span><span class="s2">uA9E0-</span><span class="s4">\\</span><span class="s2">uA9FE</span><span class="s4">\\</span><span class="s2">uAA00-</span><span class="s4">\\</span><span class="s2">uAA36</span><span class="s4">\\</span><span class="s2">uAA40-</span><span class="s4">\\</span><span class="s2">uAA4D</span><span class="s4">\\</span><span class="s2">uAA50-</span><span class="s4">\\</span><span class="s2">uAA59</span><span class="s4">\\</span><span class="s2">uAA60-</span><span class="s4">\\</span><span class="s2">uAA76</span><span class="s4">\\</span><span class="s2">uAA7A-</span><span class="s4">\\</span><span class="s2">uAAC2</span><span class="s4">\\</span><span class="s2">uAADB-</span><span class="s4">\\</span><span class="s2">uAADD</span><span class="s4">\\</span><span class="s2">uAAE0-</span><span class="s4">\\</span><span class="s2">uAAEF</span><span class="s4">\\</span><span class="s2">uAAF2-</span><span class="s4">\\</span><span class="s2">uAAF6</span><span class="s4">\\</span><span class="s2">uAB01-</span><span class="s4">\\</span><span class="s2">uAB06</span><span class="s4">\\</span><span class="s2">uAB09-</span><span class="s4">\\</span><span class="s2">uAB0E</span><span class="s4">\\</span><span class="s2">uAB11-</span><span class="s4">\\</span><span class="s2">uAB16</span><span class="s4">\\</span><span class="s2">uAB20-</span><span class="s4">\\</span><span class="s2">uAB26</span><span class="s4">\\</span><span class="s2">uAB28-</span><span class="s4">\\</span><span class="s2">uAB2E</span><span class="s4">\\</span><span class="s2">uAB30-</span><span class="s4">\\</span><span class="s2">uAB5A</span><span class="s4">\\</span><span class="s2">uAB5C-</span><span class="s4">\\</span><span class="s2">uAB5F</span><span class="s4">\\</span><span class="s2">uAB64</span><span class="s4">\\</span><span class="s2">uAB65</span><span class="s4">\\</span><span class="s2">uABC0-</span><span class="s4">\\</span><span class="s2">uABEA</span><span class="s4">\\</span><span class="s2">uABEC</span><span class="s4">\\</span><span class="s2">uABED</span><span class="s4">\\</span><span class="s2">uABF0-</span><span class="s4">\\</span><span class="s2">uABF9</span><span class="s4">\\</span><span class="s2">uAC00-</span><span class="s4">\\</span><span class="s2">uD7A3</span><span class="s4">\\</span><span class="s2">uD7B0-</span><span class="s4">\\</span><span class="s2">uD7C6</span><span class="s4">\\</span><span class="s2">uD7CB-</span><span class="s4">\\</span><span class="s2">uD7FB</span><span class="s4">\\</span><span class="s2">uF900-</span><span class="s4">\\</span><span class="s2">uFA6D</span><span class="s4">\\</span><span class="s2">uFA70-</span><span class="s4">\\</span><span class="s2">uFAD9</span><span class="s4">\\</span><span class="s2">uFB00-</span><span class="s4">\\</span><span class="s2">uFB06</span><span class="s4">\\</span><span class="s2">uFB13-</span><span class="s4">\\</span><span class="s2">uFB17</span><span class="s4">\\</span><span class="s2">uFB1D-</span><span class="s4">\\</span><span class="s2">uFB28</span><span class="s4">\\</span><span class="s2">uFB2A-</span><span class="s4">\\</span><span class="s2">uFB36</span><span class="s4">\\</span><span class="s2">uFB38-</span><span class="s4">\\</span><span class="s2">uFB3C</span><span class="s4">\\</span><span class="s2">uFB3E</span><span class="s4">\\</span><span class="s2">uFB40</span><span class="s4">\\</span><span class="s2">uFB41</span><span class="s4">\\</span><span class="s2">uFB43</span><span class="s4">\\</span><span class="s2">uFB44</span><span class="s4">\\</span><span class="s2">uFB46-</span><span class="s4">\\</span><span class="s2">uFBB1</span><span class="s4">\\</span><span class="s2">uFBD3-</span><span class="s4">\\</span><span class="s2">uFD3D</span><span class="s4">\\</span><span class="s2">uFD50-</span><span class="s4">\\</span><span class="s2">uFD8F</span><span class="s4">\\</span><span class="s2">uFD92-</span><span class="s4">\\</span><span class="s2">uFDC7</span><span class="s4">\\</span><span class="s2">uFDF0-</span><span class="s4">\\</span><span class="s2">uFDFB</span><span class="s4">\\</span><span class="s2">uFE00-</span><span class="s4">\\</span><span class="s2">uFE0F</span><span class="s4">\\</span><span class="s2">uFE20-</span><span class="s4">\\</span><span class="s2">uFE2D</span><span class="s4">\\</span><span class="s2">uFE33</span><span class="s4">\\</span><span class="s2">uFE34</span><span class="s4">\\</span><span class="s2">uFE4D-</span><span class="s4">\\</span><span class="s2">uFE4F</span><span class="s4">\\</span><span class="s2">uFE70-</span><span class="s4">\\</span><span class="s2">uFE74</span><span class="s4">\\</span><span class="s2">uFE76-</span><span class="s4">\\</span><span class="s2">uFEFC</span><span class="s4">\\</span><span class="s2">uFF10-</span><span class="s4">\\</span><span class="s2">uFF19</span><span class="s4">\\</span><span class="s2">uFF21-</span><span class="s4">\\</span><span class="s2">uFF3A</span><span class="s4">\\</span><span class="s2">uFF3F</span><span class="s4">\\</span><span class="s2">uFF41-</span><span class="s4">\\</span><span class="s2">uFF5A</span><span class="s4">\\</span><span class="s2">uFF66-</span><span class="s4">\\</span><span class="s2">uFFBE</span><span class="s4">\\</span><span class="s2">uFFC2-</span><span class="s4">\\</span><span class="s2">uFFC7</span><span class="s4">\\</span><span class="s2">uFFCA-</span><span class="s4">\\</span><span class="s2">uFFCF</span><span class="s4">\\</span><span class="s2">uFFD2-</span><span class="s4">\\</span><span class="s2">uFFD7</span><span class="s4">\\</span><span class="s2">uFFDA-</span><span class="s4">\\</span><span class="s2">uFFDC]&quot;</span><span class="s0">);</span><span class="s4">function </span><span class="s1">Mm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;ASSERT: &quot;</span><span class="s0">+</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Lm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">48</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">57</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;0123456789abcdefABCDEF&quot;</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Um</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;01234567&quot;</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Rm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s3">32</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">9</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">11</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">12</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">160</span><span class="s0">||</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">5760</span><span class="s0">&amp;&amp;[</span><span class="s3">5760</span><span class="s0">,</span><span class="s3">6158</span><span class="s0">,</span><span class="s3">8192</span><span class="s0">,</span><span class="s3">8193</span><span class="s0">,</span><span class="s3">8194</span><span class="s0">,</span><span class="s3">8195</span><span class="s0">,</span><span class="s3">8196</span><span class="s0">,</span><span class="s3">8197</span><span class="s0">,</span><span class="s3">8198</span><span class="s0">,</span><span class="s3">8199</span><span class="s0">,</span><span class="s3">8200</span><span class="s0">,</span><span class="s3">8201</span><span class="s0">,</span><span class="s3">8202</span><span class="s0">,</span><span class="s3">8239</span><span class="s0">,</span><span class="s3">8287</span><span class="s0">,</span><span class="s3">12288</span><span class="s0">,</span><span class="s3">65279</span><span class="s0">].</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Im</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s3">10</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">13</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">8232</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">8233</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Wm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s3">36</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">95</span><span class="s0">||</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">65</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">90</span><span class="s0">||</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">97</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">122</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">92</span><span class="s0">||</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">128</span><span class="s0">&amp;&amp;</span><span class="s1">Nm</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">Hm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s3">36</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">95</span><span class="s0">||</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">65</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">90</span><span class="s0">||</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">97</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">122</span><span class="s0">||</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">48</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">57</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">92</span><span class="s0">||</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s3">128</span><span class="s0">&amp;&amp;</span><span class="s1">Tm</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">Gm</span><span class="s0">={</span><span class="s4">if</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">in</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">do</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">var</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">for</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">new</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">try</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">let</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">this</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">else</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">case</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">void</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">with</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">enum</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">while</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">break</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">catch</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">throw</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">const</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">yield</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">class</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">super</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">return</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">typeof</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">delete</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">switch</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">export</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">import</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">public</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">static</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">default</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">finally</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">extends</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">package</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">private</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">function</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">continue</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">debugger</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">interface</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">protected</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">instanceof</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s4">implements</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Ym</span><span class="s0">(){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Im</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){++</span><span class="s1">nm</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">break</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">Km</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;u&quot;</span><span class="s0">?</span><span class="s3">4</span><span class="s0">:</span><span class="s3">2</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">;++</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">&amp;&amp;</span><span class="s1">qm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">])){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">*</span><span class="s3">16</span><span class="s0">+</span><span class="s2">&quot;0123456789abcdef&quot;</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">())}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Vm</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">];</span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;}&quot;</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">qm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">break</span><span class="s0">}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">*</span><span class="s3">16</span><span class="s0">+</span><span class="s2">&quot;0123456789abcdef&quot;</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">())}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&gt;</span><span class="s3">1114111</span><span class="s0">||</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;}&quot;</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&lt;=</span><span class="s3">65535</span><span class="s0">){</span><span class="s4">return </span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">t</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">-</span><span class="s3">65536</span><span class="s0">&gt;&gt;</span><span class="s3">10</span><span class="s0">)+</span><span class="s3">55296</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">-</span><span class="s3">65536</span><span class="s0">&amp;</span><span class="s3">1023</span><span class="s0">)+</span><span class="s3">56320</span><span class="s0">;</span><span class="s4">return </span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Qm</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">++);</span><span class="s1">n</span><span class="s0">=</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s3">92</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">)!==</span><span class="s3">117</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}++</span><span class="s1">nm</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Km</span><span class="s0">(</span><span class="s2">&quot;u&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">||!</span><span class="s1">Wm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Hm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">break</span><span class="s0">}++</span><span class="s1">nm</span><span class="s0">;</span><span class="s1">n</span><span class="s0">+=</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s3">92</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">)!==</span><span class="s3">117</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}++</span><span class="s1">nm</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Km</span><span class="s0">(</span><span class="s2">&quot;u&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">||!</span><span class="s1">Hm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Xm</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">nm</span><span class="s0">++;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s3">92</span><span class="s0">){</span><span class="s1">nm</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Qm</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Hm</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){++</span><span class="s1">nm</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">em</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">nm</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Jm</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">nm</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">)===</span><span class="s3">92</span><span class="s0">?</span><span class="s1">Qm</span><span class="s0">():</span><span class="s1">Xm</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">om</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Gm</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">am</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;null&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">um</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;true&quot;</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;false&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">rm</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s1">om</span><span class="s0">}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Zm</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">=</span><span class="s1">nm</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">),</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">],</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case </span><span class="s3">46</span><span class="s0">:</span><span class="s4">case </span><span class="s3">40</span><span class="s0">:</span><span class="s4">case </span><span class="s3">41</span><span class="s0">:</span><span class="s4">case </span><span class="s3">59</span><span class="s0">:</span><span class="s4">case </span><span class="s3">44</span><span class="s0">:</span><span class="s4">case </span><span class="s3">123</span><span class="s0">:</span><span class="s4">case </span><span class="s3">125</span><span class="s0">:</span><span class="s4">case </span><span class="s3">91</span><span class="s0">:</span><span class="s4">case </span><span class="s3">93</span><span class="s0">:</span><span class="s4">case </span><span class="s3">58</span><span class="s0">:</span><span class="s4">case </span><span class="s3">63</span><span class="s0">:</span><span class="s4">case </span><span class="s3">126</span><span class="s0">:++</span><span class="s1">nm</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">lm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">};</span><span class="s4">default</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s3">61</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case </span><span class="s3">43</span><span class="s0">:</span><span class="s4">case </span><span class="s3">45</span><span class="s0">:</span><span class="s4">case </span><span class="s3">47</span><span class="s0">:</span><span class="s4">case </span><span class="s3">60</span><span class="s0">:</span><span class="s4">case </span><span class="s3">62</span><span class="s0">:</span><span class="s4">case </span><span class="s3">94</span><span class="s0">:</span><span class="s4">case </span><span class="s3">124</span><span class="s0">:</span><span class="s4">case </span><span class="s3">37</span><span class="s0">:</span><span class="s4">case </span><span class="s3">38</span><span class="s0">:</span><span class="s4">case </span><span class="s3">42</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">+=</span><span class="s3">2</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">lm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)+</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">};</span><span class="s4">case </span><span class="s3">33</span><span class="s0">:</span><span class="s4">case </span><span class="s3">61</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">+=</span><span class="s3">2</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">)===</span><span class="s3">61</span><span class="s0">){++</span><span class="s1">nm</span><span class="s0">}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">lm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">em</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">nm</span><span class="s0">),</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}}}</span><span class="s1">o</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">,</span><span class="s3">4</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;&gt;&gt;&gt;=&quot;</span><span class="s0">){</span><span class="s1">nm</span><span class="s0">+=</span><span class="s3">4</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">lm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s1">s</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">3</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;&gt;&gt;&gt;&quot;</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;&lt;&lt;=&quot;</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;&gt;&gt;=&quot;</span><span class="s0">){</span><span class="s1">nm</span><span class="s0">+=</span><span class="s3">3</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">lm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">2</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">r</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]&amp;&amp;</span><span class="s2">&quot;+-&lt;&gt;&amp;|&quot;</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;=&gt;&quot;</span><span class="s0">){</span><span class="s1">nm</span><span class="s0">+=</span><span class="s3">2</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">lm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;//&quot;</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;&lt;&gt;=!+-*%&amp;|^/&quot;</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">){++</span><span class="s1">nm</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">lm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">eh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">qm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">])){</span><span class="s4">break</span><span class="s0">}</span><span class="s1">n</span><span class="s0">+=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Wm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">))){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">cm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">parseInt</span><span class="s0">(</span><span class="s2">&quot;0x&quot;</span><span class="s0">+</span><span class="s1">n</span><span class="s0">,</span><span class="s3">16</span><span class="s0">),</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">nh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;0&quot;</span><span class="s0">+</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s4">while</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Um</span><span class="s0">(</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">])){</span><span class="s4">break</span><span class="s0">}</span><span class="s1">n</span><span class="s0">+=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Wm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">))||</span><span class="s1">Lm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">))){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">cm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">parseInt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">8</span><span class="s0">),</span><span class="s1">octal</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">th</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">];</span><span class="s1">Mm</span><span class="s0">(</span><span class="s1">Lm</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))||</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;.&quot;</span><span class="s0">,</span><span class="s2">&quot;Numeric literal must start with a decimal digit or a decimal point&quot;</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s1">nm</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;.&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s1">t</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;0&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;X&quot;</span><span class="s0">){++</span><span class="s1">nm</span><span class="s0">;</span><span class="s4">return </span><span class="s1">eh</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Um</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">nh</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">Lm</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}}</span><span class="s4">while</span><span class="s0">(</span><span class="s1">Lm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">))){</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++]}</span><span class="s1">t</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;.&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s4">while</span><span class="s0">(</span><span class="s1">Lm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">))){</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++]}</span><span class="s1">t</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;e&quot;</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;E&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s1">t</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;+&quot;</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;-&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Lm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">))){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">Lm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">))){</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Wm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">))){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">cm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">parseFloat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">start</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">ih</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">];</span><span class="s1">Mm</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;'&quot;</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s2">'&quot;'</span><span class="s0">,</span><span class="s2">&quot;String literal must starts with a quote&quot;</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=</span><span class="s1">nm</span><span class="s0">;++</span><span class="s1">nm</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">n</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">||!</span><span class="s1">Im</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;u&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">]===</span><span class="s2">&quot;{&quot;</span><span class="s0">){++</span><span class="s1">nm</span><span class="s0">;</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">Vm</span><span class="s0">()}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">Km</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;n&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;r&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;t&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;</span><span class="s4">\t</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;b&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;</span><span class="s4">\b</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;f&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;</span><span class="s4">\f</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;v&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">&quot;</span><span class="s4">\v</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Um</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s2">&quot;01234567&quot;</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">&amp;&amp;</span><span class="s1">Um</span><span class="s0">(</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">])){</span><span class="s1">s</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">*</span><span class="s3">8</span><span class="s0">+</span><span class="s2">&quot;01234567&quot;</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++]);</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;0123&quot;</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">&amp;&amp;</span><span class="s1">Um</span><span class="s0">(</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">])){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">r</span><span class="s0">*</span><span class="s3">8</span><span class="s0">+</span><span class="s2">&quot;01234567&quot;</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++])}}</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">String</span><span class="s0">.</span><span class="s1">fromCharCode</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\r</span><span class="s2">&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">]===</span><span class="s2">&quot;</span><span class="s4">\n</span><span class="s2">&quot;</span><span class="s0">){++</span><span class="s1">nm</span><span class="s0">}}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Im</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))){</span><span class="s4">break</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">+=</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s2">&quot;&quot;</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">fm</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">octal</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">start</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">rh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s2">&quot;u&quot;</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/\\u\{([0-9a-fA-F]+)\}/g</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">parseInt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">16</span><span class="s0">)&lt;=</span><span class="s3">1114111</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;x&quot;</span><span class="s0">}</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Sm</span><span class="s0">)})).</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/[\uD800-\uDBFF][\uDC00-\uDFFF]/g</span><span class="s0">,</span><span class="s2">&quot;x&quot;</span><span class="s0">)}</span><span class="s4">try</span><span class="s0">{</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Sm</span><span class="s0">)}</span><span class="s4">try</span><span class="s0">{</span><span class="s4">return new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">sh</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">];</span><span class="s1">Mm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;/&quot;</span><span class="s0">,</span><span class="s2">&quot;Regular expression literal must start with a slash&quot;</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s1">n</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">++];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Im</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Em</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Im</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Em</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;]&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;/&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;[&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Em</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">2</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">literal</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">oh</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">[</span><span class="s1">nm</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Hm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">))){</span><span class="s4">break</span><span class="s0">}++</span><span class="s1">nm</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">_m</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">n</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">search</span><span class="s0">(</span><span class="s5">/[^gimuy]/g</span><span class="s0">)&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Sm</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">literal</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">ah</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s1">im</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s1">Ym</span><span class="s0">();</span><span class="s1">e</span><span class="s0">=</span><span class="s1">nm</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s1">sh</span><span class="s0">();</span><span class="s1">t</span><span class="s0">=</span><span class="s1">oh</span><span class="s0">();</span><span class="s1">i</span><span class="s0">=</span><span class="s1">rh</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">literal</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">literal</span><span class="s0">+</span><span class="s1">t</span><span class="s0">.</span><span class="s1">literal</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">regex</span><span class="s0">:{</span><span class="s1">pattern</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">flags</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">},</span><span class="s1">start</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">uh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">om</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">am</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">rm</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">um</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ch</span><span class="s0">(){</span><span class="s1">Ym</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&gt;=</span><span class="s1">tm</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">sm</span><span class="s0">,</span><span class="s1">start</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s1">nm</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Wm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Jm</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s3">40</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">41</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">59</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Zm</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s3">39</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s3">34</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ih</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s3">46</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Lm</span><span class="s0">(</span><span class="s1">em</span><span class="s0">.</span><span class="s1">charCodeAt</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">+</span><span class="s3">1</span><span class="s0">))){</span><span class="s4">return </span><span class="s1">th</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">Zm</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Lm</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">th</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">Zm</span><span class="s0">()}</span><span class="s4">function </span><span class="s1">lh</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">im</span><span class="s0">;</span><span class="s1">nm</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">;</span><span class="s1">im</span><span class="s0">=</span><span class="s1">ch</span><span class="s0">();</span><span class="s1">nm</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">fh</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">nm</span><span class="s0">;</span><span class="s1">im</span><span class="s0">=</span><span class="s1">ch</span><span class="s0">();</span><span class="s1">nm</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">dh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">pm</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ph</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;||&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;&amp;&amp;&quot;</span><span class="s0">?</span><span class="s1">vm</span><span class="s0">:</span><span class="s1">gm</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">operator</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">left</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">right</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">gh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">mm</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">callee</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arguments</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">mh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">hm</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">test</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">consequent</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">alternate</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">hh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">bm</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">bh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">ym</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">raw</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">start</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">end</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">regex</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">raw</span><span class="s0">===</span><span class="s2">&quot;//&quot;</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">raw</span><span class="s0">=</span><span class="s2">&quot;/(?:)/&quot;</span><span class="s0">}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">regex</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">regex</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">yh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">Om</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">computed</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;[&quot;</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">object</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">property</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">computed</span><span class="s0">)</span><span class="s1">t</span><span class="s0">.</span><span class="s1">member</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">vh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">xm</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">properties</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Oh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">wm</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">key</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">value</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">xh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Xg</span><span class="s0">(</span><span class="s1">jm</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">operator</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">argument</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">prefix</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">wh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">arguments</span><span class="s0">,</span><span class="s3">2</span><span class="s0">),</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/%(\d)/g</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s1">Mm</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s2">&quot;Message reference must be in range&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}));</span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">index</span><span class="s0">=</span><span class="s1">nm</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">description</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">throw </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">jh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">sm</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Cm</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">cm</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">$m</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">fm</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Dm</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">om</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Am</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">am</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">km</span><span class="s0">)}</span><span class="s1">wh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Fm</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Fh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">lh</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s1">lm</span><span class="s0">||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">){</span><span class="s1">jh</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">$h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">im</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">lm</span><span class="s0">&amp;&amp;</span><span class="s1">im</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Dh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">im</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">am</span><span class="s0">&amp;&amp;</span><span class="s1">im</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ah</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s1">nm</span><span class="s0">=</span><span class="s1">im</span><span class="s0">.</span><span class="s1">start</span><span class="s0">;</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;[&quot;</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;]&quot;</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)){</span><span class="s1">lh</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">null</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Ih</span><span class="s0">());</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;]&quot;</span><span class="s0">)){</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)}}}</span><span class="s1">lh</span><span class="s0">();</span><span class="s4">return </span><span class="s1">dh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">kh</span><span class="s0">(){</span><span class="s1">nm</span><span class="s0">=</span><span class="s1">im</span><span class="s0">.</span><span class="s1">start</span><span class="s0">;</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">lh</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">fm</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">cm</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">octal</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Bm</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">bh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">hh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ch</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s1">nm</span><span class="s0">=</span><span class="s1">im</span><span class="s0">.</span><span class="s1">start</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">im</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">om</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">kh</span><span class="s0">();</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;:&quot;</span><span class="s0">);</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Ih</span><span class="s0">();</span><span class="s4">return </span><span class="s1">Oh</span><span class="s0">(</span><span class="s2">&quot;init&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">sm</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">lm</span><span class="s0">){</span><span class="s1">jh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">kh</span><span class="s0">();</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;:&quot;</span><span class="s0">);</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Ih</span><span class="s0">();</span><span class="s4">return </span><span class="s1">Oh</span><span class="s0">(</span><span class="s2">&quot;init&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Sh</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">=[],</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">={},</span><span class="s1">s</span><span class="s0">=</span><span class="s1">String</span><span class="s0">;</span><span class="s1">nm</span><span class="s0">=</span><span class="s1">im</span><span class="s0">.</span><span class="s1">start</span><span class="s0">;</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;{&quot;</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;}&quot;</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ch</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">key</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">bm</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">key</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">key</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;$&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">wh</span><span class="s0">({},</span><span class="s1">Pm</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;}&quot;</span><span class="s0">)){</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)}}</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;}&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">vh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Eh</span><span class="s0">(){</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;(&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Wh</span><span class="s0">();</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;)&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Bh</span><span class="s0">={</span><span class="s4">if</span><span class="s0">:</span><span class="s3">1</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Ph</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;(&quot;</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Eh</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;[&quot;</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Ah</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;{&quot;</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Sh</span><span class="s0">()}</span><span class="s1">e</span><span class="s0">=</span><span class="s1">im</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s1">nm</span><span class="s0">=</span><span class="s1">im</span><span class="s0">.</span><span class="s1">start</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">om</span><span class="s0">||</span><span class="s1">Bh</span><span class="s0">[</span><span class="s1">im</span><span class="s0">.</span><span class="s1">value</span><span class="s0">]){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">hh</span><span class="s0">(</span><span class="s1">lh</span><span class="s0">().</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">fm</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s1">cm</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">im</span><span class="s0">.</span><span class="s1">octal</span><span class="s0">){</span><span class="s1">wh</span><span class="s0">(</span><span class="s1">im</span><span class="s0">,</span><span class="s1">Bm</span><span class="s0">)}</span><span class="s1">t</span><span class="s0">=</span><span class="s1">bh</span><span class="s0">(</span><span class="s1">lh</span><span class="s0">())}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">am</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">zm</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">rm</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">lh</span><span class="s0">();</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s2">&quot;true&quot;</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">bh</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">um</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">lh</span><span class="s0">();</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">bh</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;/&quot;</span><span class="s0">)||</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;/=&quot;</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">bh</span><span class="s0">(</span><span class="s1">ah</span><span class="s0">());</span><span class="s1">fh</span><span class="s0">()}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">jh</span><span class="s0">(</span><span class="s1">lh</span><span class="s0">())}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">_h</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;(&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;)&quot;</span><span class="s0">)){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">nm</span><span class="s0">&lt;</span><span class="s1">tm</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Ih</span><span class="s0">());</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;)&quot;</span><span class="s0">)){</span><span class="s4">break</span><span class="s0">}</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)}}</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;)&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">zh</span><span class="s0">(){</span><span class="s1">nm</span><span class="s0">=</span><span class="s1">im</span><span class="s0">.</span><span class="s1">start</span><span class="s0">;</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">lh</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">uh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">jh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">hh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Nh</span><span class="s0">(){</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;.&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">zh</span><span class="s0">()}</span><span class="s4">function </span><span class="s1">Th</span><span class="s0">(){</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;[&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Wh</span><span class="s0">();</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;]&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Mh</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Ph</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(;;){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;.&quot;</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Nh</span><span class="s0">();</span><span class="s1">e</span><span class="s0">=</span><span class="s1">yh</span><span class="s0">(</span><span class="s2">&quot;.&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;(&quot;</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">_h</span><span class="s0">();</span><span class="s1">e</span><span class="s0">=</span><span class="s1">gh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;[&quot;</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Th</span><span class="s0">();</span><span class="s1">e</span><span class="s0">=</span><span class="s1">yh</span><span class="s0">(</span><span class="s2">&quot;[&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Lh</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Mh</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">im</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">lm</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;++&quot;</span><span class="s0">)||</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;--&quot;</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">zm</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qh</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">im</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s1">lm</span><span class="s0">&amp;&amp;</span><span class="s1">im</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s1">am</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Lh</span><span class="s0">()}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;++&quot;</span><span class="s0">)||</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;--&quot;</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">zm</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;+&quot;</span><span class="s0">)||</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;-&quot;</span><span class="s0">)||</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;~&quot;</span><span class="s0">)||</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;!&quot;</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">lh</span><span class="s0">();</span><span class="s1">n</span><span class="s0">=</span><span class="s1">qh</span><span class="s0">();</span><span class="s1">n</span><span class="s0">=</span><span class="s1">xh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Dh</span><span class="s0">(</span><span class="s2">&quot;delete&quot;</span><span class="s0">)||</span><span class="s1">Dh</span><span class="s0">(</span><span class="s2">&quot;void&quot;</span><span class="s0">)||</span><span class="s1">Dh</span><span class="s0">(</span><span class="s2">&quot;typeof&quot;</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">zm</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Lh</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Uh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s1">lm</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s1">am</span><span class="s0">){</span><span class="s4">return </span><span class="s3">0</span><span class="s0">}</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;||&quot;</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;&amp;&amp;&quot;</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">2</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;|&quot;</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">3</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;^&quot;</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">4</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;&amp;&quot;</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">5</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;==&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;!=&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;===&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;!==&quot;</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">6</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;&lt;&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;&gt;&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;&lt;=&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;&gt;=&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;instanceof&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;in&quot;</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">7</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;&lt;&lt;&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;&gt;&gt;&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;&gt;&gt;&gt;&quot;</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">8</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;+&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;-&quot;</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">9</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;*&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;/&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;%&quot;</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">11</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Rh</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">c</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">im</span><span class="s0">;</span><span class="s1">u</span><span class="s0">=</span><span class="s1">qh</span><span class="s0">();</span><span class="s1">i</span><span class="s0">=</span><span class="s1">im</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Uh</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">u</span><span class="s0">}</span><span class="s1">i</span><span class="s0">.</span><span class="s1">prec</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">lh</span><span class="s0">();</span><span class="s1">n</span><span class="s0">=[</span><span class="s1">e</span><span class="s0">,</span><span class="s1">im</span><span class="s0">];</span><span class="s1">o</span><span class="s0">=</span><span class="s1">qh</span><span class="s0">();</span><span class="s1">s</span><span class="s0">=[</span><span class="s1">u</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">o</span><span class="s0">];</span><span class="s4">while</span><span class="s0">((</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Uh</span><span class="s0">(</span><span class="s1">im</span><span class="s0">))&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">while</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">2</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">&lt;=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">2</span><span class="s0">].</span><span class="s1">prec</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">().</span><span class="s1">value</span><span class="s0">;</span><span class="s1">u</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s1">n</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s1">t</span><span class="s0">=</span><span class="s1">ph</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">i</span><span class="s0">=</span><span class="s1">lh</span><span class="s0">();</span><span class="s1">i</span><span class="s0">.</span><span class="s1">prec</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">im</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=</span><span class="s1">qh</span><span class="s0">();</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">c</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">c</span><span class="s0">];</span><span class="s1">n</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(</span><span class="s1">c</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s1">t</span><span class="s0">=</span><span class="s1">ph</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s1">c</span><span class="s0">-</span><span class="s3">1</span><span class="s0">].</span><span class="s1">value</span><span class="s0">,</span><span class="s1">s</span><span class="s0">[</span><span class="s1">c</span><span class="s0">-</span><span class="s3">2</span><span class="s0">],</span><span class="s1">t</span><span class="s0">);</span><span class="s1">c</span><span class="s0">-=</span><span class="s3">2</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ih</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Rh</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;?&quot;</span><span class="s0">)){</span><span class="s1">lh</span><span class="s0">();</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ih</span><span class="s0">();</span><span class="s1">Fh</span><span class="s0">(</span><span class="s2">&quot;:&quot;</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ih</span><span class="s0">();</span><span class="s1">e</span><span class="s0">=</span><span class="s1">mh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Wh</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Ih</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$h</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">zm</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Hh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">em</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">nm</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">tm</span><span class="s0">=</span><span class="s1">em</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">im</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s1">fh</span><span class="s0">();</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Wh</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">im</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s1">sm</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Unexpect token after expression.&quot;</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Gh</span><span class="s0">={</span><span class="s1">NaN</span><span class="s0">:</span><span class="s2">&quot;NaN&quot;</span><span class="s0">,</span><span class="s1">E</span><span class="s0">:</span><span class="s2">&quot;Math.E&quot;</span><span class="s0">,</span><span class="s1">LN2</span><span class="s0">:</span><span class="s2">&quot;Math.LN2&quot;</span><span class="s0">,</span><span class="s1">LN10</span><span class="s0">:</span><span class="s2">&quot;Math.LN10&quot;</span><span class="s0">,</span><span class="s1">LOG2E</span><span class="s0">:</span><span class="s2">&quot;Math.LOG2E&quot;</span><span class="s0">,</span><span class="s1">LOG10E</span><span class="s0">:</span><span class="s2">&quot;Math.LOG10E&quot;</span><span class="s0">,</span><span class="s1">PI</span><span class="s0">:</span><span class="s2">&quot;Math.PI&quot;</span><span class="s0">,</span><span class="s1">SQRT1_2</span><span class="s0">:</span><span class="s2">&quot;Math.SQRT1_2&quot;</span><span class="s0">,</span><span class="s1">SQRT2</span><span class="s0">:</span><span class="s2">&quot;Math.SQRT2&quot;</span><span class="s0">,</span><span class="s1">MIN_VALUE</span><span class="s0">:</span><span class="s2">&quot;Number.MIN_VALUE&quot;</span><span class="s0">,</span><span class="s1">MAX_VALUE</span><span class="s0">:</span><span class="s2">&quot;Number.MAX_VALUE&quot;</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Yh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">+</span><span class="s2">&quot;(&quot;</span><span class="s0">+</span><span class="s1">s</span><span class="s0">+</span><span class="s2">&quot;)&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">lastIndexOf</span><span class="s0">(</span><span class="s2">&quot;new &quot;</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)===</span><span class="s3">0</span><span class="s0">)</span><span class="s1">s</span><span class="s0">=</span><span class="s2">&quot;(&quot;</span><span class="s0">+</span><span class="s1">s</span><span class="s0">+</span><span class="s2">&quot;)&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">+</span><span class="s2">&quot;.&quot;</span><span class="s0">+</span><span class="s1">n</span><span class="s0">+(</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;&quot;</span><span class="s0">:</span><span class="s1">r</span><span class="s0">===</span><span class="s3">0</span><span class="s0">?</span><span class="s2">&quot;()&quot;</span><span class="s0">:</span><span class="s2">&quot;(&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">1</span><span class="s0">).</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)+</span><span class="s2">&quot;)&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;new Date&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s2">&quot;String&quot;</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s2">&quot;RegExp&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">isNaN</span><span class="s0">:</span><span class="s2">&quot;Number.isNaN&quot;</span><span class="s0">,</span><span class="s1">isFinite</span><span class="s0">:</span><span class="s2">&quot;Number.isFinite&quot;</span><span class="s0">,</span><span class="s1">abs</span><span class="s0">:</span><span class="s2">&quot;Math.abs&quot;</span><span class="s0">,</span><span class="s1">acos</span><span class="s0">:</span><span class="s2">&quot;Math.acos&quot;</span><span class="s0">,</span><span class="s1">asin</span><span class="s0">:</span><span class="s2">&quot;Math.asin&quot;</span><span class="s0">,</span><span class="s1">atan</span><span class="s0">:</span><span class="s2">&quot;Math.atan&quot;</span><span class="s0">,</span><span class="s1">atan2</span><span class="s0">:</span><span class="s2">&quot;Math.atan2&quot;</span><span class="s0">,</span><span class="s1">ceil</span><span class="s0">:</span><span class="s2">&quot;Math.ceil&quot;</span><span class="s0">,</span><span class="s1">cos</span><span class="s0">:</span><span class="s2">&quot;Math.cos&quot;</span><span class="s0">,</span><span class="s1">exp</span><span class="s0">:</span><span class="s2">&quot;Math.exp&quot;</span><span class="s0">,</span><span class="s1">floor</span><span class="s0">:</span><span class="s2">&quot;Math.floor&quot;</span><span class="s0">,</span><span class="s1">log</span><span class="s0">:</span><span class="s2">&quot;Math.log&quot;</span><span class="s0">,</span><span class="s1">max</span><span class="s0">:</span><span class="s2">&quot;Math.max&quot;</span><span class="s0">,</span><span class="s1">min</span><span class="s0">:</span><span class="s2">&quot;Math.min&quot;</span><span class="s0">,</span><span class="s1">pow</span><span class="s0">:</span><span class="s2">&quot;Math.pow&quot;</span><span class="s0">,</span><span class="s1">random</span><span class="s0">:</span><span class="s2">&quot;Math.random&quot;</span><span class="s0">,</span><span class="s1">round</span><span class="s0">:</span><span class="s2">&quot;Math.round&quot;</span><span class="s0">,</span><span class="s1">sin</span><span class="s0">:</span><span class="s2">&quot;Math.sin&quot;</span><span class="s0">,</span><span class="s1">sqrt</span><span class="s0">:</span><span class="s2">&quot;Math.sqrt&quot;</span><span class="s0">,</span><span class="s1">tan</span><span class="s0">:</span><span class="s2">&quot;Math.tan&quot;</span><span class="s0">,</span><span class="s1">clamp</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s3">3</span><span class="s0">)</span><span class="s1">error</span><span class="s0">(</span><span class="s2">&quot;Missing arguments to clamp function.&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">3</span><span class="s0">)</span><span class="s1">error</span><span class="s0">(</span><span class="s2">&quot;Too many arguments to clamp function.&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s2">&quot;Math.max(&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]+</span><span class="s2">&quot;, Math.min(&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">[</span><span class="s3">2</span><span class="s0">]+</span><span class="s2">&quot;,&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]+</span><span class="s2">&quot;))&quot;</span><span class="s0">},</span><span class="s1">now</span><span class="s0">:</span><span class="s2">&quot;Date.now&quot;</span><span class="s0">,</span><span class="s1">utc</span><span class="s0">:</span><span class="s2">&quot;Date.UTC&quot;</span><span class="s0">,</span><span class="s1">datetime</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">date</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getDate&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">day</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getDay&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">year</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getFullYear&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">month</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getMonth&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">hours</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getHours&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">minutes</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getMinutes&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">seconds</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getSeconds&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">milliseconds</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getMilliseconds&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">time</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getTime&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">timezoneoffset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getTimezoneOffset&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">utcdate</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getUTCDate&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">utcday</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getUTCDay&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">utcyear</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getUTCFullYear&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">utcmonth</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getUTCMonth&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">utchours</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getUTCHours&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">utcminutes</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getUTCMinutes&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">utcseconds</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getUTCSeconds&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">utcmilliseconds</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;getUTCMilliseconds&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">length</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;length&quot;</span><span class="s0">,</span><span class="s4">null</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">),</span><span class="s1">parseFloat</span><span class="s0">:</span><span class="s2">&quot;parseFloat&quot;</span><span class="s0">,</span><span class="s1">parseInt</span><span class="s0">:</span><span class="s2">&quot;parseInt&quot;</span><span class="s0">,</span><span class="s1">upper</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;toUpperCase&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">lower</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;toLowerCase&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">substring</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;substring&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">),</span><span class="s1">split</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;split&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">),</span><span class="s1">trim</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;trim&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">regexp</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">test</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s2">&quot;test&quot;</span><span class="s0">,</span><span class="s1">s</span><span class="s0">),</span><span class="s4">if</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s3">3</span><span class="s0">)</span><span class="s1">error</span><span class="s0">(</span><span class="s2">&quot;Missing arguments to if function.&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">3</span><span class="s0">)</span><span class="s1">error</span><span class="s0">(</span><span class="s2">&quot;Too many arguments to if function.&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s2">&quot;(&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]+</span><span class="s2">&quot;?&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]+</span><span class="s2">&quot;:&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">[</span><span class="s3">2</span><span class="s0">]+</span><span class="s2">&quot;)&quot;</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">Kh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">&amp;&amp;(</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]===</span><span class="s2">'&quot;'</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s2">'&quot;'</span><span class="s0">||</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]===</span><span class="s2">&quot;'&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s2">&quot;'&quot;</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">):</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Vh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">||{};</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">allowed</span><span class="s0">?</span><span class="s1">toSet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">allowed</span><span class="s0">):{},</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">forbidden</span><span class="s0">?</span><span class="s1">toSet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">forbidden</span><span class="s0">):{},</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">constants</span><span class="s0">||</span><span class="s1">Gh</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">functions</span><span class="s0">||</span><span class="s1">Yh</span><span class="s0">)(</span><span class="s1">f</span><span class="s0">),</span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">globalvar</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldvar</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s1">isFunction</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot;]`</span><span class="s0">;</span><span class="s4">let </span><span class="s1">u</span><span class="s0">={},</span><span class="s1">c</span><span class="s0">={},</span><span class="s1">l</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">isString</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))</span><span class="s4">return </span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">d</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">==</span><span class="s4">null</span><span class="s0">)</span><span class="s1">error</span><span class="s0">(</span><span class="s2">&quot;Unsupported type: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">d</span><span class="s0">={</span><span class="s1">Literal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">raw</span><span class="s0">,</span><span class="s1">Identifier</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">hasOwnProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">error</span><span class="s0">(</span><span class="s2">&quot;Illegal identifier: &quot;</span><span class="s0">+</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">hasOwnProperty</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">hasOwnProperty</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">u</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return </span><span class="s1">a</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}},</span><span class="s1">MemberExpression</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">computed</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">object</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)</span><span class="s1">l</span><span class="s0">+=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">property</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">o</span><span class="s0">){</span><span class="s1">c</span><span class="s0">[</span><span class="s1">Kh</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)]=</span><span class="s3">1</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)</span><span class="s1">l</span><span class="s0">-=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">+(</span><span class="s1">n</span><span class="s0">?</span><span class="s2">&quot;.&quot;</span><span class="s0">+</span><span class="s1">i</span><span class="s0">:</span><span class="s2">&quot;[&quot;</span><span class="s0">+</span><span class="s1">i</span><span class="s0">+</span><span class="s2">&quot;]&quot;</span><span class="s0">)},</span><span class="s1">CallExpression</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">callee</span><span class="s0">.</span><span class="s1">type</span><span class="s0">!==</span><span class="s2">&quot;Identifier&quot;</span><span class="s0">){</span><span class="s1">error</span><span class="s0">(</span><span class="s2">&quot;Illegal callee type: &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">callee</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">callee</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">arguments</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">hasOwnProperty</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">)</span><span class="s1">error</span><span class="s0">(</span><span class="s2">&quot;Unrecognized function: &quot;</span><span class="s0">+</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">isFunction</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)?</span><span class="s1">i</span><span class="s0">(</span><span class="s1">t</span><span class="s0">):</span><span class="s1">i</span><span class="s0">+</span><span class="s2">&quot;(&quot;</span><span class="s0">+</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">f</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)+</span><span class="s2">&quot;)&quot;</span><span class="s0">},</span><span class="s1">ArrayExpression</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">&quot;[&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">elements</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">f</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)+</span><span class="s2">&quot;]&quot;</span><span class="s0">,</span><span class="s1">BinaryExpression</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">&quot;(&quot;</span><span class="s0">+</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">left</span><span class="s0">)+</span><span class="s2">&quot; &quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">operator</span><span class="s0">+</span><span class="s2">&quot; &quot;</span><span class="s0">+</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">right</span><span class="s0">)+</span><span class="s2">&quot;)&quot;</span><span class="s0">,</span><span class="s1">UnaryExpression</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">&quot;(&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">operator</span><span class="s0">+</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">argument</span><span class="s0">)+</span><span class="s2">&quot;)&quot;</span><span class="s0">,</span><span class="s1">ConditionalExpression</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">&quot;(&quot;</span><span class="s0">+</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">test</span><span class="s0">)+</span><span class="s2">&quot;?&quot;</span><span class="s0">+</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">consequent</span><span class="s0">)+</span><span class="s2">&quot;:&quot;</span><span class="s0">+</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">alternate</span><span class="s0">)+</span><span class="s2">&quot;)&quot;</span><span class="s0">,</span><span class="s1">LogicalExpression</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">&quot;(&quot;</span><span class="s0">+</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">left</span><span class="s0">)+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">operator</span><span class="s0">+</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">right</span><span class="s0">)+</span><span class="s2">&quot;)&quot;</span><span class="s0">,</span><span class="s1">ObjectExpression</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">&quot;{&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">properties</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">f</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)+</span><span class="s2">&quot;}&quot;</span><span class="s0">,</span><span class="s1">Property</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">l</span><span class="s0">+=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">key</span><span class="s0">);</span><span class="s1">l</span><span class="s0">-=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">+</span><span class="s2">&quot;:&quot;</span><span class="s0">+</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}};</span><span class="s4">function </span><span class="s1">p</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">code</span><span class="s0">:</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">globals</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">u</span><span class="s0">),</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)};</span><span class="s1">u</span><span class="s0">={};</span><span class="s1">c</span><span class="s0">={};</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">p</span><span class="s0">.</span><span class="s1">functions</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">p</span><span class="s0">.</span><span class="s1">constants</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">return </span><span class="s1">p</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Qh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;Identifier&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;Literal&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;MemberExpression&quot;</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...Qh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">object</span><span class="s0">));</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...Qh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">property</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Xh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">object</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;MemberExpression&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Xh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">object</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">object</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s2">&quot;datum&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Hh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">visit</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;MemberExpression&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">Xh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">Qh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">1</span><span class="s0">).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;.&quot;</span><span class="s0">))}}));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">class </span><span class="s1">Zh </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Zh</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">expr</span><span class="s0">=</span><span class="s1">rb</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">,</span><span class="s4">this</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_dependentFields</span><span class="s0">=</span><span class="s1">Jh</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">expr</span><span class="s0">)}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_dependentFields</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">expr</span><span class="s0">}}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Filter </span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">expr</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">eb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">||!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)</span><span class="s4">return </span><span class="s1">i</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">name</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">select</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">)?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">a</span><span class="s0">)?</span><span class="s1">b</span><span class="s0">(</span><span class="s1">a</span><span class="s0">):{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">u</span><span class="s0">};</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s1">u</span><span class="s0">];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e </span><span class="s4">in </span><span class="s1">l</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;fields&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;encodings&quot;</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;mark&quot;</span><span class="s0">){</span><span class="s1">c</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">l</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]),</span><span class="s1">c</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">c</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]===</span><span class="s4">true</span><span class="s0">){</span><span class="s1">c</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">l</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">c</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}}</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">c</span><span class="s0">),{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">init</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">bind</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">,</span><span class="s1">events</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">on</span><span class="s0">)?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Id</span><span class="s0">.</span><span class="s1">P</span><span class="s0">)(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">on</span><span class="s0">,</span><span class="s2">&quot;scope&quot;</span><span class="s0">):(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">b</span><span class="s0">(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">on</span><span class="s0">))});</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of _g</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">defined</span><span class="s0">(</span><span class="s1">f</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">nb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;datum&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">param</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">+</span><span class="s1">Cg</span><span class="s0">);</span><span class="s4">let </span><span class="s1">u</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSelectionComponent</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">p</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`!!</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">raw</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">.</span><span class="s1">clone</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">insertAsParentOf</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">hasSelectionId</span><span class="s0">?</span><span class="s2">&quot;vlSelectionIdTest(&quot;</span><span class="s0">:</span><span class="s2">&quot;vlSelectionTest(&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">===</span><span class="s2">&quot;global&quot;</span><span class="s0">?</span><span class="s2">&quot;)&quot;</span><span class="s0">:</span><span class="s2">`, </span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s2">`length(data(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">}</span><span class="s2">))`</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">empty</span><span class="s0">===</span><span class="s4">false</span><span class="s0">?</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">d</span><span class="s0">} </span><span class="s2">&amp;&amp; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">}</span><span class="s2">`</span><span class="s0">:</span><span class="s2">`!</span><span class="s1">$</span><span class="s0">{</span><span class="s1">d</span><span class="s0">} </span><span class="s2">|| </span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">tb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">q</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s2">&quot;encoding&quot;</span><span class="s0">];</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s2">&quot;field&quot;</span><span class="s0">];</span><span class="s4">let </span><span class="s1">a</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSelectionComponent</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">&amp;&amp;!</span><span class="s1">o</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">field</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s2">'A &quot;field&quot; or &quot;encoding&quot; must be specified when using a selection as a scale domain. '</span><span class="s0">+</span><span class="s2">`Using &quot;field&quot;: </span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">)}</span><span class="s2">.`</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;!</span><span class="s1">o</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">===</span><span class="s1">s</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">field</span><span class="s0">;</span><span class="s1">Vr</span><span class="s0">((!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?</span><span class="s2">&quot;No &quot;</span><span class="s0">:</span><span class="s2">&quot;Multiple &quot;</span><span class="s0">)+</span><span class="s2">`matching </span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">)} </span><span class="s2">encoding found for selection </span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">param</span><span class="s0">)}</span><span class="s2">. `</span><span class="s0">+</span><span class="s2">`Using &quot;field&quot;: </span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">o</span><span class="s0">)}</span><span class="s2">.`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">field</span><span class="s0">}}</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">a</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">[</span><span class="s1">$</span><span class="s0">{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">o</span><span class="s0">))}</span><span class="s2">]`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ib</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">]</span><span class="s1">of M</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{})){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`lookup_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">`</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">outputNodes</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">materialized</span><span class="s0">=</span><span class="s4">new </span><span class="s1">np</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Zh</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">param</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}),</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Lookup</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">outputNodeRefCounts</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">rb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">U</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">As</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">nb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Ls</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}))}</span><span class="s4">var </span><span class="s1">sb</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">ob</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Mu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ab</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">;</span><span class="s4">var </span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">;(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">={};(</span><span class="s1">s</span><span class="s0">=(</span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)[</span><span class="s1">n</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">a</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]={};(</span><span class="s1">o</span><span class="s0">=(</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]).</span><span class="s1">update</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">update</span><span class="s0">={};</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">update</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ub</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">={</span><span class="s1">header</span><span class="s0">:</span><span class="s4">false</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">combine</span><span class="s0">(),{</span><span class="s1">disable</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">labelExpr</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">title</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">zindex</span><span class="s0">:</span><span class="s1">p</span><span class="s0">}=</span><span class="s1">a</span><span class="s0">,</span><span class="s1">g</span><span class="s0">=</span><span class="s1">sb</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,[</span><span class="s2">&quot;disable&quot;</span><span class="s0">,</span><span class="s2">&quot;orient&quot;</span><span class="s0">,</span><span class="s2">&quot;scale&quot;</span><span class="s0">,</span><span class="s2">&quot;labelExpr&quot;</span><span class="s0">,</span><span class="s2">&quot;title&quot;</span><span class="s0">,</span><span class="s2">&quot;zindex&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">m </span><span class="s4">in </span><span class="s1">g</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">rc</span><span class="s0">[</span><span class="s1">m</span><span class="s0">];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">g</span><span class="s0">[</span><span class="s1">m</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;both&quot;</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">g</span><span class="s0">[</span><span class="s1">m</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">tc</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">condition</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">sb</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,[</span><span class="s2">&quot;condition&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">nc</span><span class="s0">[</span><span class="s1">m</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">part</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[</span><span class="s1">...i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">test</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">sb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;test&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">test</span><span class="s0">:</span><span class="s1">rb</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)},</span><span class="s1">t</span><span class="s0">)})),</span><span class="s1">n</span><span class="s0">];</span><span class="s1">ab</span><span class="s0">(</span><span class="s1">g</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">delete </span><span class="s1">g</span><span class="s0">[</span><span class="s1">m</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">test</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">sb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;test&quot;</span><span class="s0">]);</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">rb</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)} </span><span class="s2">? </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Zt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)} </span><span class="s2">: `</span><span class="s0">})).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">)+</span><span class="s1">Zt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)};</span><span class="s1">g</span><span class="s0">[</span><span class="s1">m</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">nc</span><span class="s0">[</span><span class="s1">m</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">vgProp</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">part</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">ab</span><span class="s0">(</span><span class="s1">g</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">delete </span><span class="s1">g</span><span class="s0">[</span><span class="s1">m</span><span class="s0">]}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;labelAlign&quot;</span><span class="s0">,</span><span class="s2">&quot;labelBaseline&quot;</span><span class="s0">],</span><span class="s1">m</span><span class="s0">)&amp;&amp;</span><span class="s1">g</span><span class="s0">[</span><span class="s1">m</span><span class="s0">]===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">g</span><span class="s0">[</span><span class="s1">m</span><span class="s0">]}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;grid&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">g</span><span class="s0">.</span><span class="s1">grid</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">grid</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">;</span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">?{</span><span class="s1">grid</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}:{});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">z</span><span class="s0">(</span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)){</span><span class="s4">delete </span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">c</span><span class="s0">},</span><span class="s1">g</span><span class="s0">),{</span><span class="s1">domain</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">labels</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">aria</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">maxExtent</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">minExtent</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">ticks</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">zindex</span><span class="s0">:</span><span class="s1">X</span><span class="s0">(</span><span class="s1">p</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">header</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mainExtracted</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">f</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(((</span><span class="s1">o</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">labels</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">update</span><span class="s0">)&amp;&amp;</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">labels</span><span class="s0">.</span><span class="s1">update</span><span class="s0">.</span><span class="s1">text</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">K</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s2">&quot;datum.label&quot;</span><span class="s0">,</span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">labels</span><span class="s0">.</span><span class="s1">update</span><span class="s0">.</span><span class="s1">text</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">)}</span><span class="s1">ab</span><span class="s0">(</span><span class="s1">g</span><span class="s0">,</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s2">&quot;text&quot;</span><span class="s0">,{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">g</span><span class="s0">.</span><span class="s1">labelAlign</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">g</span><span class="s0">.</span><span class="s1">labelAlign</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of ic</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hasAxisPart</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">delete </span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">z</span><span class="s0">(</span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)){</span><span class="s4">delete </span><span class="s1">g</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">ob</span><span class="s0">(</span><span class="s1">d</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">scale</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">grid</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},</span><span class="s1">n</span><span class="s0">?{</span><span class="s1">title</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}:{}),</span><span class="s1">g</span><span class="s0">),</span><span class="s1">t</span><span class="s0">.</span><span class="s1">aria</span><span class="s0">===</span><span class="s4">false</span><span class="s0">?{</span><span class="s1">aria</span><span class="s0">:</span><span class="s4">false</span><span class="s0">}:{}),{</span><span class="s1">zindex</span><span class="s0">:</span><span class="s1">X</span><span class="s0">(</span><span class="s1">p</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)})}}</span><span class="s4">function </span><span class="s1">cb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">axes</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of Un</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;disable&quot;</span><span class="s0">)&amp;&amp;!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;gridScale&quot;</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;height&quot;</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">).</span><span class="s1">signal</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">r</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s1">r</span><span class="s0">})}}}}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">lb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">x</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=[],</span><span class="s1">y</span><span class="s0">:</span><span class="s1">i</span><span class="s0">=[]}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s0">[</span><span class="s1">...t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">ub</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))),</span><span class="s1">...i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">ub</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))),</span><span class="s1">...t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">ub</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))),</span><span class="s1">...i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">ub</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)))].</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">fb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,[{},</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;axisOrient&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;bottom&quot;</span><span class="s0">:</span><span class="s2">&quot;left&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;axisBottom&quot;</span><span class="s0">:</span><span class="s2">&quot;axisLeft&quot;</span><span class="s0">]||{};</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;axisTop&quot;</span><span class="s0">:</span><span class="s2">&quot;axisRight&quot;</span><span class="s0">]||{};</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">...N</span><span class="s0">(</span><span class="s1">r</span><span class="s0">),</span><span class="s1">...N</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)]);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of o</span><span class="s0">.</span><span class="s1">values</span><span class="s0">()){</span><span class="s1">a</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]={</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">[</span><span class="s2">&quot;signal&quot;</span><span class="s0">]} </span><span class="s2">=== &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">&quot; ? </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])} </span><span class="s2">: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])}</span><span class="s2">`</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}))])}</span><span class="s4">function </span><span class="s1">db</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;band&quot;</span><span class="s0">?[</span><span class="s2">&quot;axisDiscrete&quot;</span><span class="s0">,</span><span class="s2">&quot;axisBand&quot;</span><span class="s0">]:</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;point&quot;</span><span class="s0">?[</span><span class="s2">&quot;axisDiscrete&quot;</span><span class="s0">,</span><span class="s2">&quot;axisPoint&quot;</span><span class="s0">]:</span><span class="s1">co</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?[</span><span class="s2">&quot;axisQuantitative&quot;</span><span class="s0">]:</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;time&quot;</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;utc&quot;</span><span class="s0">?[</span><span class="s2">&quot;axisTemporal&quot;</span><span class="s0">]:[];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;axisX&quot;</span><span class="s0">:</span><span class="s2">&quot;axisY&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s2">&quot;axisOrient&quot;</span><span class="s0">:</span><span class="s2">`axis</span><span class="s1">$</span><span class="s0">{</span><span class="s1">I</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[</span><span class="s1">...r</span><span class="s0">,</span><span class="s1">...r</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">s</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">4</span><span class="s0">)))];</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=[</span><span class="s2">&quot;axis&quot;</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">];</span><span class="s4">return</span><span class="s0">{</span><span class="s1">vlOnlyAxisConfig</span><span class="s0">:</span><span class="s1">fb</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">vgAxisConfig</span><span class="s0">:</span><span class="s1">fb</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">axisConfigStyle</span><span class="s0">:</span><span class="s1">pb</span><span class="s0">([</span><span class="s1">...u</span><span class="s0">,</span><span class="s1">...a</span><span class="s0">],</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">pb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[{}];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">s</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">style</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">style</span><span class="s0">[</span><span class="s1">t</span><span class="s0">])}}}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">gb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">={}){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">oi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">configFrom</span><span class="s0">:</span><span class="s2">&quot;style&quot;</span><span class="s0">,</span><span class="s1">configValue</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of</span><span class="s0">[</span><span class="s2">&quot;vlOnlyAxisConfig&quot;</span><span class="s0">,</span><span class="s2">&quot;vgAxisConfig&quot;</span><span class="s0">,</span><span class="s2">&quot;axisConfigStyle&quot;</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(((</span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">o</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">configFrom</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">configValue</span><span class="s0">:</span><span class="s1">i</span><span class="s0">[</span><span class="s1">o</span><span class="s0">][</span><span class="s1">e</span><span class="s0">]}}}</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">const </span><span class="s1">mb</span><span class="s0">={</span><span class="s1">scale</span><span class="s0">:({</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">format</span><span class="s0">:({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Na</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)},</span><span class="s1">formatType</span><span class="s0">:({</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Ta</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)},</span><span class="s1">grid</span><span class="s0">:({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">grid</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">hb</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)},</span><span class="s1">gridScale</span><span class="s0">:({</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})=&gt;</span><span class="s1">bb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">),</span><span class="s1">labelAlign</span><span class="s0">:({</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">labelAngle</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">labelAlign</span><span class="s0">||</span><span class="s1">xb</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">),</span><span class="s1">labelAngle</span><span class="s0">:({</span><span class="s1">labelAngle</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})=&gt;</span><span class="s1">e</span><span class="s0">,</span><span class="s1">labelBaseline</span><span class="s0">:({</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">labelAngle</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">labelBaseline</span><span class="s0">||</span><span class="s1">Ob</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">),</span><span class="s1">labelFlush</span><span class="s0">:({</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">labelFlush</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">wb</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)},</span><span class="s1">labelOverlap</span><span class="s0">:({</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">labelOverlap</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">jb</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;!!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">,</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">)},</span><span class="s1">orient</span><span class="s0">:({</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})=&gt;</span><span class="s1">e</span><span class="s0">,</span><span class="s1">tickCount</span><span class="s0">:({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">})=&gt;{</span><span class="s4">var </span><span class="s1">s</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;width&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;y&quot;</span><span class="s0">?</span><span class="s2">&quot;height&quot;</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">o</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s1">o</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tickCount</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">$b</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">values</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">values</span><span class="s0">})},</span><span class="s1">title</span><span class="s0">:({</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Db</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">typedFieldDef</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;x2&quot;</span><span class="s0">:</span><span class="s2">&quot;y2&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">return </span><span class="s1">ui</span><span class="s0">(</span><span class="s1">r</span><span class="s0">?[</span><span class="s1">tu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)]:[],</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)?[</span><span class="s1">tu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)]:[])},</span><span class="s1">values</span><span class="s0">:({</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})=&gt;</span><span class="s1">Ab</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">),</span><span class="s1">zindex</span><span class="s0">:({</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">zindex</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">kb</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}};</span><span class="s4">function </span><span class="s1">hb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;!</span><span class="s1">At</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)&amp;&amp;!</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">bb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s2">&quot;x&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">yb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">labelAngle</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">ie</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">configValue</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">gb</span><span class="s0">(</span><span class="s2">&quot;labelAngle&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">style</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ie</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">ce</span><span class="s0">&amp;&amp;</span><span class="s1">F</span><span class="s0">([</span><span class="s1">Qs</span><span class="s0">,</span><span class="s1">Ks</span><span class="s0">],</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)&amp;&amp;!(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">)){</span><span class="s4">return </span><span class="s3">270</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">vb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`(((</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s2">% 360) + 360) % 360)`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ob</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">vb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s2">=== &quot;top&quot;)`</span><span class="s0">:</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;top&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`(45 &lt; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&amp;&amp; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&lt; 135) || (225 &lt; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&amp;&amp; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&lt; 315) ? &quot;middle&quot; :`</span><span class="s0">+</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&lt;= 45 || 315 &lt;= </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">) === </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">? &quot;bottom&quot; : &quot;top&quot;`</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s3">45</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s3">135</span><span class="s0">||</span><span class="s3">225</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s3">315</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;middle&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">45</span><span class="s0">||</span><span class="s3">315</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">?</span><span class="s2">&quot;===&quot;</span><span class="s0">:</span><span class="s2">&quot;!==&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&quot;top&quot; ? &quot;bottom&quot; : &quot;top&quot;`</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">45</span><span class="s0">||</span><span class="s3">315</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">)===(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;top&quot;</span><span class="s0">)?</span><span class="s2">&quot;bottom&quot;</span><span class="s0">:</span><span class="s2">&quot;top&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">vb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s2">=== &quot;left&quot;)`</span><span class="s0">:</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;left&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s2">'&quot;middle&quot;'</span><span class="s0">:</span><span class="s2">&quot;null&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&lt;= 45 || 315 &lt;= </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">|| (135 &lt;= </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&amp;&amp; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&lt;= 225) ? </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">} </span><span class="s2">: (45 &lt;= </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&amp;&amp; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&lt;= 135) === </span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">} </span><span class="s2">? &quot;top&quot; : &quot;bottom&quot;`</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">45</span><span class="s0">||</span><span class="s3">315</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">||</span><span class="s3">135</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">225</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">?</span><span class="s2">&quot;middle&quot;</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s3">45</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">135</span><span class="s0">?</span><span class="s2">&quot;===&quot;</span><span class="s0">:</span><span class="s2">&quot;!==&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&quot;left&quot; ? &quot;top&quot; : &quot;bottom&quot;`</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">45</span><span class="s0">&lt;=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">135</span><span class="s0">)===(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;left&quot;</span><span class="s0">)?</span><span class="s2">&quot;top&quot;</span><span class="s0">:</span><span class="s2">&quot;bottom&quot;</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">xb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s3">90</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s2">&quot;bottom&quot;</span><span class="s0">:</span><span class="s2">&quot;left&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">vb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s2">=== &quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">&quot;)`</span><span class="s0">:</span><span class="s1">n</span><span class="s0">===</span><span class="s1">s</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">?</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">+ 90)`</span><span class="s0">:</span><span class="s1">t</span><span class="s0">} </span><span class="s2">% 180 === 0) ? </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">?</span><span class="s4">null</span><span class="s0">:</span><span class="s2">'&quot;center&quot;'</span><span class="s0">} </span><span class="s2">:`</span><span class="s0">+</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">} </span><span class="s2">&lt; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&amp;&amp; </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&lt; </span><span class="s1">$</span><span class="s0">{</span><span class="s3">180</span><span class="s0">+</span><span class="s1">r</span><span class="s0">}</span><span class="s2">) === </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">} </span><span class="s2">? &quot;left&quot; : &quot;right&quot;`</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">((</span><span class="s1">e</span><span class="s0">+</span><span class="s1">r</span><span class="s0">)%</span><span class="s3">180</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">?</span><span class="s4">null</span><span class="s0">:</span><span class="s2">&quot;center&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s3">180</span><span class="s0">+</span><span class="s1">r</span><span class="s0">?</span><span class="s2">&quot;===&quot;</span><span class="s0">:</span><span class="s2">&quot;!==&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">&quot;`</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">? &quot;left&quot; : &quot;right&quot;`</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">((</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s3">180</span><span class="s0">+</span><span class="s1">r</span><span class="s0">)===(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;left&quot;</span><span class="s0">}</span><span class="s4">return</span><span class="s2">&quot;right&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">wb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">,</span><span class="s2">&quot;temporal&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">jb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;nominal&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;log&quot;</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;symlog&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;greedy&quot;</span><span class="s0">}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Fb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;bottom&quot;</span><span class="s0">:</span><span class="s2">&quot;left&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$b</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">values</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">&amp;&amp;!</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s2">&quot;log&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`ceil(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">/10)`</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">&amp;&amp;</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;month&quot;</span><span class="s0">,</span><span class="s2">&quot;hours&quot;</span><span class="s0">,</span><span class="s2">&quot;day&quot;</span><span class="s0">,</span><span class="s2">&quot;quarter&quot;</span><span class="s0">],(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`ceil(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">/40)`</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Db</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;x2&quot;</span><span class="s0">:</span><span class="s2">&quot;y2&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">title</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">?</span><span class="s1">r</span><span class="s0">.</span><span class="s1">title</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ci</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ab</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">values</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Zu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">kb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;rect&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">Au</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s3">1</span><span class="s0">}</span><span class="s4">return </span><span class="s3">0</span><span class="s0">}</span><span class="s4">class </span><span class="s1">Cb </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Cb</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_dependentFields</span><span class="s0">=</span><span class="s1">Jh</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">calculate</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">parseAllForSortIndex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">forEachFieldDef</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Ou</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Va</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Ls</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">equal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})} </span><span class="s2">? </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">} </span><span class="s2">: `</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">)+</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Cb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">calculate</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,as:</span><span class="s1">Sb</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})})}}));</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">])}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_dependentFields</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;formula&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">calculate</span><span class="s0">,as:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">}}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Calculate </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Sb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">prefix</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;sort_index&quot;</span><span class="s0">},</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{}))}</span><span class="s4">function </span><span class="s1">Eb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;top&quot;</span><span class="s0">,</span><span class="s2">&quot;bottom&quot;</span><span class="s0">],</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;column&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;left&quot;</span><span class="s0">,</span><span class="s2">&quot;right&quot;</span><span class="s0">],</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;row&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s2">&quot;row&quot;</span><span class="s0">:</span><span class="s2">&quot;column&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Bb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">headerRow</span><span class="s0">:</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;column&quot;</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">headerColumn</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">headerFacet</span><span class="s0">;</span><span class="s4">return </span><span class="s1">X</span><span class="s0">((</span><span class="s1">n</span><span class="s0">||{})[</span><span class="s1">e</span><span class="s0">],</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">],</span><span class="s1">t</span><span class="s0">.</span><span class="s1">header</span><span class="s0">[</span><span class="s1">e</span><span class="s0">])}</span><span class="s4">function </span><span class="s1">Pb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Bb</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">||{},</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">const </span><span class="s1">_b</span><span class="s0">=[</span><span class="s2">&quot;row&quot;</span><span class="s0">,</span><span class="s2">&quot;column&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">zb</span><span class="s0">=[</span><span class="s2">&quot;header&quot;</span><span class="s0">,</span><span class="s2">&quot;footer&quot;</span><span class="s0">];</span><span class="s4">function </span><span class="s1">Nb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutHeaders</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">title</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutHeaders</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">facetFieldDef</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutHeaders</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">facetFieldDef</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">titleAnchor</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">titleAngle</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">titleOrient</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">Pb</span><span class="s0">([</span><span class="s2">&quot;titleAnchor&quot;</span><span class="s0">,</span><span class="s2">&quot;titleAngle&quot;</span><span class="s0">,</span><span class="s2">&quot;titleOrient&quot;</span><span class="s0">],</span><span class="s1">r</span><span class="s0">.</span><span class="s1">header</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">Eb</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">ie</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">-title`</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;group&quot;</span><span class="s0">,</span><span class="s1">role</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">-title`</span><span class="s0">,</span><span class="s1">title</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">text</span><span class="s0">:</span><span class="s1">t</span><span class="s0">},</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?{</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;left&quot;</span><span class="s0">}:{}),{</span><span class="s1">style</span><span class="s0">:</span><span class="s2">&quot;guide-title&quot;</span><span class="s0">}),</span><span class="s1">Mb</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)),</span><span class="s1">Tb</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)),</span><span class="s1">Gb</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">dl</span><span class="s0">,</span><span class="s1">ll</span><span class="s0">))}}</span><span class="s4">function </span><span class="s1">Tb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;middle&quot;</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;start&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;left&quot;</span><span class="s0">};</span><span class="s4">case</span><span class="s2">&quot;end&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;right&quot;</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">xb</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s2">&quot;left&quot;</span><span class="s0">:</span><span class="s2">&quot;top&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s2">&quot;x&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">?{</span><span class="s1">align</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}:{}}</span><span class="s4">function </span><span class="s1">Mb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ob</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s2">&quot;left&quot;</span><span class="s0">:</span><span class="s2">&quot;top&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s4">true</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">?{</span><span class="s1">baseline</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{}}</span><span class="s4">function </span><span class="s1">Lb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutHeaders</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of zb</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Rb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)}}}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">}),</span><span class="s1">order</span><span class="s0">:(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">order</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s2">&quot;ascending&quot;</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Sb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">}),</span><span class="s1">order</span><span class="s0">:</span><span class="s2">&quot;ascending&quot;</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">}),</span><span class="s1">order</span><span class="s0">:</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s2">&quot;ascending&quot;</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">Ub</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">labelAngle</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">labelAnchor</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">labelOrient</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">labelExpr</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">Pb</span><span class="s0">([</span><span class="s2">&quot;format&quot;</span><span class="s0">,</span><span class="s2">&quot;formatType&quot;</span><span class="s0">,</span><span class="s2">&quot;labelAngle&quot;</span><span class="s0">,</span><span class="s2">&quot;labelAnchor&quot;</span><span class="s0">,</span><span class="s2">&quot;labelOrient&quot;</span><span class="s0">,</span><span class="s2">&quot;labelExpr&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">.</span><span class="s1">header</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">Pa</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;parent&quot;</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}).</span><span class="s1">signal</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">Eb</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">text</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">u</span><span class="s0">?</span><span class="s1">K</span><span class="s0">(</span><span class="s1">K</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s2">&quot;datum.label&quot;</span><span class="s0">,</span><span class="s1">c</span><span class="s0">),</span><span class="s2">&quot;datum.value&quot;</span><span class="s0">,</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;parent&quot;</span><span class="s0">})):</span><span class="s1">c</span><span class="s0">}},</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?{</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;left&quot;</span><span class="s0">}:{}),{</span><span class="s1">style</span><span class="s0">:</span><span class="s2">&quot;guide-label&quot;</span><span class="s0">,</span><span class="s1">frame</span><span class="s0">:</span><span class="s2">&quot;group&quot;</span><span class="s0">}),</span><span class="s1">Mb</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">l</span><span class="s0">)),</span><span class="s1">Tb</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)),</span><span class="s1">Gb</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">pl</span><span class="s0">,</span><span class="s1">fl</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">Rb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">facetFieldDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">labels</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">labelOrient</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s1">Pb</span><span class="s0">([</span><span class="s2">&quot;labelOrient&quot;</span><span class="s0">],</span><span class="s1">o</span><span class="s0">.</span><span class="s1">header</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;top&quot;</span><span class="s0">,</span><span class="s2">&quot;bottom&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;column&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;left&quot;</span><span class="s0">,</span><span class="s2">&quot;right&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">Ub</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">ex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;!</span><span class="s1">Qa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=(</span><span class="s1">c</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">c</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">c</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)&gt;</span><span class="s3">0</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">||</span><span class="s1">l</span><span class="s0">){</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s2">&quot;height&quot;</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">),</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;group&quot;</span><span class="s0">,</span><span class="s1">role</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">},</span><span class="s1">i</span><span class="s0">.</span><span class="s1">facetFieldDef</span><span class="s0">?{</span><span class="s1">from</span><span class="s0">:{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">_domain`</span><span class="s0">)},</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">qb</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}:{}),</span><span class="s1">l</span><span class="s0">&amp;&amp;</span><span class="s1">u</span><span class="s0">?{</span><span class="s1">from</span><span class="s0">:{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`facet_domain_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}}:{}),</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">title</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{}),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sizeSignal</span><span class="s0">?{</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:{[</span><span class="s1">a</span><span class="s0">]:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sizeSignal</span><span class="s0">}}}:{}),</span><span class="s1">l</span><span class="s0">?{</span><span class="s1">axes</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}:{})}}</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Ib</span><span class="s0">={</span><span class="s1">column</span><span class="s0">:{</span><span class="s1">start</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s3">1</span><span class="s0">},</span><span class="s1">row</span><span class="s0">:{</span><span class="s1">start</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}};</span><span class="s4">function </span><span class="s1">Wb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ib</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">Hb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of Je</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">facetFieldDef</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">titleAnchor</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">titleOrient</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">Pb</span><span class="s0">([</span><span class="s2">&quot;titleAnchor&quot;</span><span class="s0">,</span><span class="s2">&quot;titleOrient&quot;</span><span class="s0">],</span><span class="s1">r</span><span class="s0">.</span><span class="s1">facetFieldDef</span><span class="s0">.</span><span class="s1">header</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Eb</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Wb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s1">a</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">z</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Gb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Bb</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">header</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">s</span><span class="s0">[</span><span class="s1">r</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]]=</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Yb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">...Kb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;width&quot;</span><span class="s0">),</span><span class="s1">...Kb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;height&quot;</span><span class="s0">),</span><span class="s1">...Kb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;childWidth&quot;</span><span class="s0">),</span><span class="s1">...Kb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;childHeight&quot;</span><span class="s0">)]}</span><span class="s4">function </span><span class="s1">Kb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;width&quot;</span><span class="s0">?</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutSize</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;merged&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">).</span><span class="s1">signal</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;step&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;range&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]===</span><span class="s2">&quot;independent&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Vb</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)]}}</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Vb</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">),{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s1">Qb</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s2">`domain('</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">').length`</span><span class="s0">)}]}}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;layout size is step although width/height is not step.&quot;</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">==</span><span class="s2">&quot;container&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">endsWith</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s2">&quot;containerSize()[0]&quot;</span><span class="s0">:</span><span class="s2">&quot;containerSize()[1]&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Ll</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">view</span><span class="s0">,</span><span class="s1">n</span><span class="s0">?</span><span class="s2">&quot;width&quot;</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s2">`isFinite(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">) ? </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">return</span><span class="s0">[{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">init</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">on</span><span class="s0">:[{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">events</span><span class="s0">:</span><span class="s2">&quot;window:resize&quot;</span><span class="s0">}]}]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">[{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}]}}</span><span class="s4">function </span><span class="s1">Vb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">_step`</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">step</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">update</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">step</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">step</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">Qb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;padding&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">X</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;paddingOuter&quot;</span><span class="s0">),</span><span class="s1">r</span><span class="s0">);</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;paddingInner&quot;</span><span class="s0">);</span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;band&quot;</span><span class="s0">?</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">r</span><span class="s0">:</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`bandspace(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s2">) * </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">_step`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Xb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;childWidth&quot;</span><span class="s0">?</span><span class="s2">&quot;width&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;childHeight&quot;</span><span class="s0">?</span><span class="s2">&quot;height&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">),</span><span class="s1">wp</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">))))}),{})}</span><span class="s4">function </span><span class="s1">Zb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ex</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;theta&quot;</span><span class="s0">?</span><span class="s2">&quot;independent&quot;</span><span class="s0">:</span><span class="s2">&quot;shared&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">tx</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;shared&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">nx</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;theta&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;radius&quot;</span><span class="s0">?</span><span class="s2">&quot;independent&quot;</span><span class="s0">:</span><span class="s2">&quot;shared&quot;</span><span class="s0">}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;invalid model type for resolve&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ey</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s2">&quot;axis&quot;</span><span class="s0">:</span><span class="s2">&quot;legend&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;independent&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">][</span><span class="s1">n</span><span class="s0">]===</span><span class="s2">&quot;shared&quot;</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Or</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">return</span><span class="s2">&quot;independent&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">][</span><span class="s1">n</span><span class="s0">]||</span><span class="s2">&quot;shared&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">ny</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">yl</span><span class="s0">),{</span><span class="s1">disable</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">labelExpr</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">selections</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">opacity</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">shape</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">stroke</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">fill</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeWidth</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">strokeDash</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">encode</span><span class="s0">:</span><span class="s3">1</span><span class="s0">});</span><span class="s4">const </span><span class="s1">ty</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">ny</span><span class="s0">);</span><span class="s4">class </span><span class="s1">iy </span><span class="s4">extends </span><span class="s1">kd</span><span class="s0">{}</span><span class="s4">const </span><span class="s1">ry</span><span class="s0">={</span><span class="s1">symbols</span><span class="s0">:</span><span class="s1">sy</span><span class="s0">,</span><span class="s1">gradient</span><span class="s0">:</span><span class="s1">oy</span><span class="s0">,</span><span class="s1">labels</span><span class="s0">:</span><span class="s1">ay</span><span class="s0">,</span><span class="s1">entries</span><span class="s0">:</span><span class="s1">uy</span><span class="s0">};</span><span class="s4">function </span><span class="s1">sy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">legendCmpt</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">legendType</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">l</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">d</span><span class="s0">,</span><span class="s1">p</span><span class="s0">,</span><span class="s1">g</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s2">&quot;symbol&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">h</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">b</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">y</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">v</span><span class="s0">=</span><span class="s1">m</span><span class="s0">.</span><span class="s1">filled</span><span class="s0">&amp;&amp;</span><span class="s1">y</span><span class="s0">!==</span><span class="s2">&quot;trail&quot;</span><span class="s0">;</span><span class="s4">let </span><span class="s1">O</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">ni</span><span class="s0">({},</span><span class="s1">t</span><span class="s0">,</span><span class="s1">aa</span><span class="s0">)),</span><span class="s1">Bp</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">filled</span><span class="s0">:</span><span class="s1">v</span><span class="s0">}));</span><span class="s4">const </span><span class="s1">x</span><span class="s0">=(</span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;symbolOpacity&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">b</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">.</span><span class="s1">symbolOpacity</span><span class="s0">;</span><span class="s4">const </span><span class="s1">w</span><span class="s0">=(</span><span class="s1">u</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;symbolFillColor&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">u</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">u</span><span class="s0">:</span><span class="s1">b</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">.</span><span class="s1">symbolFillColor</span><span class="s0">;</span><span class="s4">const </span><span class="s1">j</span><span class="s0">=(</span><span class="s1">c</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;symbolStrokeColor&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">c</span><span class="s0">:</span><span class="s1">b</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">.</span><span class="s1">symbolStrokeColor</span><span class="s0">;</span><span class="s4">const </span><span class="s1">F</span><span class="s0">=</span><span class="s1">x</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?(</span><span class="s1">l</span><span class="s0">=</span><span class="s1">cy</span><span class="s0">(</span><span class="s1">h</span><span class="s0">.</span><span class="s1">opacity</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">l</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">l</span><span class="s0">:</span><span class="s1">m</span><span class="s0">.</span><span class="s1">opacity</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">O</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;fill&quot;</span><span class="s0">||</span><span class="s1">v</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">===</span><span class="s1">je</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">O</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">O</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">[</span><span class="s2">&quot;field&quot;</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">w</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">O</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">O</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">=</span><span class="s1">Xt</span><span class="s0">((</span><span class="s1">f</span><span class="s0">=</span><span class="s1">b</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">.</span><span class="s1">symbolBaseFillColor</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">f</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">f</span><span class="s0">:</span><span class="s2">&quot;black&quot;</span><span class="s0">);</span><span class="s1">O</span><span class="s0">.</span><span class="s1">fillOpacity</span><span class="s0">=</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">F</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">F</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">F</span><span class="s0">:</span><span class="s3">1</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">O</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s1">g</span><span class="s0">=(</span><span class="s1">p</span><span class="s0">=</span><span class="s1">ly</span><span class="s0">((</span><span class="s1">d</span><span class="s0">=</span><span class="s1">h</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">d</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">d</span><span class="s0">:</span><span class="s1">h</span><span class="s0">.</span><span class="s1">color</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">p</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">p</span><span class="s0">:</span><span class="s1">m</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">g</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">g</span><span class="s0">:</span><span class="s1">v</span><span class="s0">&amp;&amp;</span><span class="s1">m</span><span class="s0">.</span><span class="s1">color</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">O</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">=</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">O</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;stroke&quot;</span><span class="s0">||!</span><span class="s1">v</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">===</span><span class="s1">je</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">O</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">O</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">[</span><span class="s2">&quot;field&quot;</span><span class="s0">]||</span><span class="s1">j</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">O</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">O</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">X</span><span class="s0">(</span><span class="s1">ly</span><span class="s0">(</span><span class="s1">h</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">||</span><span class="s1">h</span><span class="s0">.</span><span class="s1">color</span><span class="s0">),</span><span class="s1">m</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">,</span><span class="s1">v</span><span class="s0">?</span><span class="s1">m</span><span class="s0">.</span><span class="s1">color</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">O</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">={</span><span class="s1">value</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">Ce</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">dy</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">O</span><span class="s0">.</span><span class="s1">opacity</span><span class="s0">=[</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">test</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">F</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">F</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">F</span><span class="s0">:</span><span class="s3">1</span><span class="s0">)),</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">b</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">.</span><span class="s1">unselectedOpacity</span><span class="s0">)]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">){</span><span class="s1">O</span><span class="s0">.</span><span class="s1">opacity</span><span class="s0">=</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">F</span><span class="s0">)}}</span><span class="s1">O</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">O</span><span class="s0">),</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">z</span><span class="s0">(</span><span class="s1">O</span><span class="s0">)?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">O</span><span class="s0">}</span><span class="s4">function </span><span class="s1">oy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">model</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">legendType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">legendCmpt</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;gradient&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">let </span><span class="s1">u</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;gradientOpacity&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">.</span><span class="s1">gradientOpacity</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">c</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">cy</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">opacity</span><span class="s0">)||</span><span class="s1">o</span><span class="s0">.</span><span class="s1">opacity</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">opacity</span><span class="s0">=</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)}</span><span class="s1">u</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">u</span><span class="s0">),</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">z</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ay</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">legendCmpt</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)||{};</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">config</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">dy</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">a</span><span class="s0">?[{</span><span class="s1">test</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s3">1</span><span class="s0">},{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">.</span><span class="s1">unselectedOpacity</span><span class="s0">}]:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">let </span><span class="s1">f</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Sa</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s2">&quot;datum.value&quot;</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">l</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">customFormatTypes</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">numberFormatType</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s2">&quot;datum.value&quot;</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">numberFormat</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">numberFormatType</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;temporal&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">timeFormatType</span><span class="s0">&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s2">&quot;datum.value&quot;</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">timeFormat</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">timeFormatType</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">o</span><span class="s0">})}}</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">u</span><span class="s0">?{</span><span class="s1">opacity</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}:{}),</span><span class="s1">f</span><span class="s0">?{</span><span class="s1">text</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}:{}),</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">z</span><span class="s0">(</span><span class="s1">d</span><span class="s0">)?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}</span><span class="s4">function </span><span class="s1">uy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">legendCmpt</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;selections&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">fill</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s2">&quot;transparent&quot;</span><span class="s0">}}):</span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">cy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">fy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">ly</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">fy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">fy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">lu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">condition</span><span class="s0">).</span><span class="s1">reduce</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">dy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;selections&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">i</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">))</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">r$</span><span class="s0">)(</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)+</span><span class="s1">Cg</span><span class="s0">);</span><span class="s4">return</span><span class="s2">`(!length(data(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">)) || (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">] &amp;&amp; indexof(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">], datum.value) &gt;= 0))`</span><span class="s0">})).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; || &quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">py</span><span class="s0">={</span><span class="s1">direction</span><span class="s0">:({</span><span class="s1">direction</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})=&gt;</span><span class="s1">e</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Na</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)},</span><span class="s1">formatType</span><span class="s0">:({</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Ta</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)},</span><span class="s1">gradientLength</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">legendConfig</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">gradientLength</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">gradientLength</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">xy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)},</span><span class="s1">labelOverlap</span><span class="s0">:({</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">legendConfig</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">labelOverlap</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">labelOverlap</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">jy</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)},</span><span class="s1">symbolType</span><span class="s0">:({</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})=&gt;{</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">symbolType</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">my</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">shape</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">shape</span><span class="s0">)},</span><span class="s1">title</span><span class="s0">:({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})=&gt;</span><span class="s1">Nu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">allowDisabling</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}),</span><span class="s1">type</span><span class="s0">:({</span><span class="s1">legendType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qe</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">bo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;gradient&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;symbol&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">},</span><span class="s1">values</span><span class="s0">:({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})=&gt;</span><span class="s1">gy</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">function </span><span class="s1">gy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">values</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Zu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">my</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s2">&quot;shape&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">ly</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;bar&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;rect&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;image&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;square&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;square&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;line&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;trail&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;rule&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;stroke&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;arc&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;point&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;circle&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;tick&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;geoshape&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;area&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;text&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;circle&quot;</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">hy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;gradient&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s3">20</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">by</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">X</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">yy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">yy</span><span class="s0">({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;quarter&quot;</span><span class="s0">,</span><span class="s2">&quot;month&quot;</span><span class="s0">,</span><span class="s2">&quot;day&quot;</span><span class="s0">],</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;symbol&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bo</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;gradient&quot;</span><span class="s0">}}</span><span class="s4">return</span><span class="s2">&quot;symbol&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">vy</span><span class="s0">({</span><span class="s1">legendConfig</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">legendType</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">s</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">direction</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">?</span><span class="s2">&quot;gradientDirection&quot;</span><span class="s0">:</span><span class="s2">&quot;symbolDirection&quot;</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">Oy</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Oy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;top&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;bottom&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;left&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;right&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;none&quot;</span><span class="s0">:</span><span class="s4">case </span><span class="s1">undefined</span><span class="s0">:</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;gradient&quot;</span><span class="s0">?</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">xy</span><span class="s0">({</span><span class="s1">legendConfig</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">direction</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">gradientHorizontalMaxLength</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">gradientHorizontalMinLength</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">gradientVerticalMaxLength</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">gradientVerticalMinLength</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bo</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;top&quot;</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;bottom&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">wy</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;width&quot;</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">wy</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;height&quot;</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">wy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">).</span><span class="s1">signal</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`clamp(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">jy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;quantile&quot;</span><span class="s0">,</span><span class="s2">&quot;threshold&quot;</span><span class="s0">,</span><span class="s2">&quot;log&quot;</span><span class="s0">,</span><span class="s2">&quot;symlog&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;greedy&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Fy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">$y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">Cy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">legends</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of</span><span class="s0">[</span><span class="s1">je</span><span class="s0">,</span><span class="s1">...hl</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">||!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">De</span><span class="s0">&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">Xs</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">ky</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Dy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">===</span><span class="s2">&quot;trail&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;color&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">stroke</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;size&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">strokeWidth</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;color&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">.</span><span class="s1">filled</span><span class="s0">?{</span><span class="s1">fill</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{</span><span class="s1">stroke</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">{[</span><span class="s1">n</span><span class="s0">]:</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Ay</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;disable&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;values&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">!!(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">values</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;title&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;title&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">===(</span><span class="s1">i</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">title</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===(</span><span class="s1">t</span><span class="s0">||{})[</span><span class="s1">n</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">ky</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s4">new </span><span class="s1">iy</span><span class="s0">({},</span><span class="s1">Dy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">));</span><span class="s1">yg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">l</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?!</span><span class="s1">s</span><span class="s0">:</span><span class="s1">c</span><span class="s0">.</span><span class="s1">disable</span><span class="s0">;</span><span class="s1">l</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s2">&quot;disable&quot;</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">){</span><span class="s4">return </span><span class="s1">l</span><span class="s0">}</span><span class="s1">s</span><span class="s0">=</span><span class="s1">s</span><span class="s0">||{};</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">n</span><span class="s0">).</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">a</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">p</span><span class="s0">)?(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">p</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">||</span><span class="s1">u</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">||</span><span class="s2">&quot;right&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">by</span><span class="s0">({</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">d</span><span class="s0">});</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=</span><span class="s1">vy</span><span class="s0">({</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">legendType</span><span class="s0">:</span><span class="s1">h</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">legendConfig</span><span class="s0">:</span><span class="s1">c</span><span class="s0">});</span><span class="s4">const </span><span class="s1">y</span><span class="s0">={</span><span class="s1">legend</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">legendConfig</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">legendType</span><span class="s0">:</span><span class="s1">h</span><span class="s0">,</span><span class="s1">direction</span><span class="s0">:</span><span class="s1">b</span><span class="s0">};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">j of ty</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">===</span><span class="s2">&quot;gradient&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">j</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;symbol&quot;</span><span class="s0">)||</span><span class="s1">h</span><span class="s0">===</span><span class="s2">&quot;symbol&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">j</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;gradient&quot;</span><span class="s0">)){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">j </span><span class="s4">in </span><span class="s1">py</span><span class="s0">?</span><span class="s1">py</span><span class="s0">[</span><span class="s1">j</span><span class="s0">](</span><span class="s1">y</span><span class="s0">):</span><span class="s1">s</span><span class="s0">[</span><span class="s1">j</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Ay</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">j</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">||</span><span class="s1">u</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">[</span><span class="s1">j</span><span class="s0">]===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">l</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">j</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}}</span><span class="s4">const </span><span class="s1">v</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:{};</span><span class="s4">const </span><span class="s1">O</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;selections&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">x</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">w</span><span class="s0">={</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">legendCmpt</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">legendType</span><span class="s0">:</span><span class="s1">h</span><span class="s0">};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">j of</span><span class="s0">[</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s2">&quot;legend&quot;</span><span class="s0">,</span><span class="s2">&quot;title&quot;</span><span class="s0">,</span><span class="s2">&quot;symbols&quot;</span><span class="s0">,</span><span class="s2">&quot;gradient&quot;</span><span class="s0">,</span><span class="s2">&quot;entries&quot;</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Jb</span><span class="s0">((</span><span class="s1">r</span><span class="s0">=</span><span class="s1">v</span><span class="s0">[</span><span class="s1">j</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:{},</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">j </span><span class="s4">in </span><span class="s1">ry</span><span class="s0">?</span><span class="s1">ry</span><span class="s0">[</span><span class="s1">j</span><span class="s0">](</span><span class="s1">n</span><span class="s0">,</span><span class="s1">w</span><span class="s0">):</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">x</span><span class="s0">[</span><span class="s1">j</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},(</span><span class="s1">O</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">O</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">O</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">p</span><span class="s0">)?{</span><span class="s1">name</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">q</span><span class="s0">(</span><span class="s1">p</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)}</span><span class="s2">_legend_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">j</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}:{}),(</span><span class="s1">O</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">O</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">O</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)?{</span><span class="s1">interactive</span><span class="s0">:!!</span><span class="s1">O</span><span class="s0">}:{}),{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">x</span><span class="s0">)){</span><span class="s1">l</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s2">&quot;encode&quot;</span><span class="s0">,</span><span class="s1">x</span><span class="s0">,!!(</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">l</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Cy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">legends</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">resolve</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">Fy</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of N</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">legends</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">ey</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]===</span><span class="s2">&quot;shared&quot;</span><span class="s0">){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">Sy</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">],</span><span class="s1">i</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">legends</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s2">&quot;independent&quot;</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]}}}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">legends</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]===</span><span class="s2">&quot;shared&quot;</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">legends</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]}}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Sy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">clone</span><span class="s0">()}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s2">&quot;orient&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s2">&quot;orient&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">value</span><span class="s0">!==</span><span class="s1">a</span><span class="s0">.</span><span class="s1">value</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">c of ty</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Pd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s1">c</span><span class="s0">),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s1">c</span><span class="s0">),</span><span class="s1">c</span><span class="s0">,</span><span class="s2">&quot;legend&quot;</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">c</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;symbolType&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">Ey</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;title&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">li</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;type&quot;</span><span class="s0">:</span><span class="s1">u</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">(</span><span class="s2">&quot;symbol&quot;</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Bd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s2">&quot;legend&quot;</span><span class="s0">)}));</span><span class="s1">e</span><span class="s0">.</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">gradient</span><span class="s0">){</span><span class="s1">R</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">,[</span><span class="s2">&quot;encode&quot;</span><span class="s0">,</span><span class="s2">&quot;gradient&quot;</span><span class="s0">])}</span><span class="s4">if</span><span class="s0">((</span><span class="s1">s</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">gradient</span><span class="s0">){</span><span class="s1">R</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,[</span><span class="s2">&quot;encode&quot;</span><span class="s0">,</span><span class="s2">&quot;gradient&quot;</span><span class="s0">])}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ey</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s2">&quot;circle&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">var </span><span class="s1">By</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Py</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">;</span><span class="s4">var </span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">;(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">={};(</span><span class="s1">s</span><span class="s0">=(</span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)[</span><span class="s1">n</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">a</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]={};(</span><span class="s1">o</span><span class="s0">=(</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]).</span><span class="s1">update</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">update</span><span class="s0">={};</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">update</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">_y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">legends</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">x</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;domains&quot;</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Sy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">].</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]=[</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">].</span><span class="s1">clone</span><span class="s0">()]}}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">T</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">flat</span><span class="s0">().</span><span class="s1">map</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">zy</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">))).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">zy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">combine</span><span class="s0">(),{</span><span class="s1">disable</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">labelExpr</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">selections</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">s</span><span class="s0">,</span><span class="s1">c</span><span class="s0">=</span><span class="s1">By</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,[</span><span class="s2">&quot;disable&quot;</span><span class="s0">,</span><span class="s2">&quot;labelExpr&quot;</span><span class="s0">,</span><span class="s2">&quot;selections&quot;</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">aria</span><span class="s0">===</span><span class="s4">false</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">aria</span><span class="s0">==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">c</span><span class="s0">.</span><span class="s1">aria</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">symbols</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">symbols</span><span class="s0">.</span><span class="s1">update</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fill</span><span class="s0">[</span><span class="s2">&quot;value&quot;</span><span class="s0">]!==</span><span class="s2">&quot;transparent&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">&amp;&amp;!</span><span class="s1">c</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">={</span><span class="s1">value</span><span class="s0">:</span><span class="s2">&quot;transparent&quot;</span><span class="s0">}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of hl</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">c</span><span class="s0">.</span><span class="s1">title</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">c</span><span class="s0">.</span><span class="s1">title</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(((</span><span class="s1">r</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">labels</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">update</span><span class="s0">)&amp;&amp;</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">labels</span><span class="s0">.</span><span class="s1">update</span><span class="s0">.</span><span class="s1">text</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">K</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s2">&quot;datum.label&quot;</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">labels</span><span class="s0">.</span><span class="s1">update</span><span class="s0">.</span><span class="s1">text</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">)}</span><span class="s1">Py</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s2">&quot;labels&quot;</span><span class="s0">,</span><span class="s2">&quot;text&quot;</span><span class="s0">,{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">c</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ny</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">tx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">nx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Ty</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">My</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Ty</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">assembleProjections</span><span class="s0">())),</span><span class="s1">My</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">My</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">combine</span><span class="s0">();</span><span class="s4">const</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">data</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">i</span><span class="s0">},{</span><span class="s1">translate</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">&quot;[width / 2, height / 2]&quot;</span><span class="s0">}}),</span><span class="s1">t</span><span class="s0">)]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">size</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s2">]`</span><span class="s0">};</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`data('</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookupDataSource</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">')`</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">F</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}),[]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Projection's fit didn't find any data sources&quot;</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">fit</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">?</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s2">]`</span><span class="s0">:</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}},</span><span class="s1">t</span><span class="s0">)]}}</span><span class="s4">const </span><span class="s1">Ly</span><span class="s0">=[</span><span class="s2">&quot;type&quot;</span><span class="s0">,</span><span class="s2">&quot;clipAngle&quot;</span><span class="s0">,</span><span class="s2">&quot;clipExtent&quot;</span><span class="s0">,</span><span class="s2">&quot;center&quot;</span><span class="s0">,</span><span class="s2">&quot;rotate&quot;</span><span class="s0">,</span><span class="s2">&quot;precision&quot;</span><span class="s0">,</span><span class="s2">&quot;reflectX&quot;</span><span class="s0">,</span><span class="s2">&quot;reflectY&quot;</span><span class="s0">,</span><span class="s2">&quot;coefficient&quot;</span><span class="s0">,</span><span class="s2">&quot;distance&quot;</span><span class="s0">,</span><span class="s2">&quot;fraction&quot;</span><span class="s0">,</span><span class="s2">&quot;lobes&quot;</span><span class="s0">,</span><span class="s2">&quot;parallel&quot;</span><span class="s0">,</span><span class="s2">&quot;radius&quot;</span><span class="s0">,</span><span class="s2">&quot;ratio&quot;</span><span class="s0">,</span><span class="s2">&quot;spacing&quot;</span><span class="s0">,</span><span class="s2">&quot;tilt&quot;</span><span class="s0">];</span><span class="s4">class </span><span class="s1">qy </span><span class="s4">extends </span><span class="s1">kd</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">specifiedProjection</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">get isFit</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">!!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Uy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">=</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">Ry</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">Hy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ry</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hasProjection</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">specifiedProjection</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=!(</span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">translate</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s2">&quot;height&quot;</span><span class="s0">)]:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s1">Iy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">new </span><span class="s1">qy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">projectionName</span><span class="s0">(</span><span class="s4">true</span><span class="s0">),</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:{}),</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{}),</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">,</span><span class="s2">&quot;equalEarth&quot;</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Iy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of</span><span class="s0">[[</span><span class="s1">Oe</span><span class="s0">,</span><span class="s1">ve</span><span class="s0">],[</span><span class="s1">we</span><span class="s0">,</span><span class="s1">xe</span><span class="s0">]]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]])||</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]])){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`geojson_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)})}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">channelHasField</span><span class="s0">(</span><span class="s1">De</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">typedFieldDef</span><span class="s0">(</span><span class="s1">De</span><span class="s0">).</span><span class="s1">type</span><span class="s0">===</span><span class="s1">Xs</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`geojson_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Wy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">D</span><span class="s0">(</span><span class="s1">Ly</span><span class="s0">,(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">mQ</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)&amp;&amp;!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">mQ</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">mQ</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">mQ</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}));</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">size</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">size</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,{})){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,{})){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Hy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">Uy</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">D</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Wy</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">e</span><span class="s0">}}));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">projectionName</span><span class="s0">(</span><span class="s4">true</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">qy</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">specifiedProjection</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">size</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">data</span><span class="s0">));</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">isFit</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">renameProjection</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;name&quot;</span><span class="s0">),</span><span class="s1">t</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Gy</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Yy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ec</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?(</span><span class="s1">s</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:{}:{};</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">});</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">,</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">});</span><span class="s4">return</span><span class="s0">{</span><span class="s1">formulaAs</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;range&quot;</span><span class="s0">,</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}),</span><span class="s1">formula</span><span class="s0">:</span><span class="s1">Ra</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">format</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">formatType</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">function </span><span class="s1">Ky</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Dt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Vy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">_bins`</span><span class="s0">),</span><span class="s1">extentSignal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">_extent`</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Qy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Yu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:{};</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Ky</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">_bins`</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Xy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;as&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Xy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)?[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">,</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">}</span><span class="s2">_end`</span><span class="s0">]:[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=[</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}),</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">,</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})]}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Yu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">));</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Ky</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">extentSignal</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}=</span><span class="s1">Vy</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">a</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">St</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">;</span><span class="s1">s</span><span class="s0">=</span><span class="s1">tb</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">param</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">delete </span><span class="s1">o</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,as:[</span><span class="s1">i</span><span class="s0">]},</span><span class="s1">u</span><span class="s0">?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}:{}),</span><span class="s1">c</span><span class="s0">?{</span><span class="s1">extentSignal</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}:{}),</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">span</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{});</span><span class="s4">return</span><span class="s0">{</span><span class="s1">key</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">binComponent</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Zy </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Zy</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">static </span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">reduceFieldDef</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">At</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">key</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">binComponent</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">Jy</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">s</span><span class="s0">),</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]),</span><span class="s1">Yy</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">config</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">z</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">return new </span><span class="s1">Zy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">makeFromTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">key</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">binComponent</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">Jy</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return new </span><span class="s1">Zy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{[</span><span class="s1">i</span><span class="s0">]:</span><span class="s1">r</span><span class="s0">})}</span><span class="s1">merge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">in this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">){</span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">signal</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">signal</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">as</span><span class="s0">=</span><span class="s1">C</span><span class="s0">([</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">as</span><span class="s0">,</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">as</span><span class="s0">],</span><span class="s1">w</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s4">this</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">()}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s1">T</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)).</span><span class="s1">flat</span><span class="s0">(</span><span class="s3">2</span><span class="s0">))}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s1">T</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)))}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Bin </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">T</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">bins</span><span class="s0">).</span><span class="s1">flatMap</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">const</span><span class="s0">[</span><span class="s1">t</span><span class="s0">,</span><span class="s1">...i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">,{</span><span class="s1">extent</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">r</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Gy</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,[</span><span class="s2">&quot;extent&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;bin&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">),as:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">},!</span><span class="s1">St</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)?{</span><span class="s1">extent</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{</span><span class="s1">extent</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">span</span><span class="s0">?{</span><span class="s1">span</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`span(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">span</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}}:{}),</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extentSignal</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;extent&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">),</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extentSignal</span><span class="s0">});</span><span class="s1">a</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">={</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">extentSignal</span><span class="s0">}}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">u of i</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s3">2</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;formula&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]},{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">}),as:</span><span class="s1">u</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]})}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;formula&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">formula</span><span class="s0">,as:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">formulaAs</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}))}}</span><span class="s4">function </span><span class="s1">ev</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">[</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)]:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">ou</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">config</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{}));</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">}));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">&amp;&amp;</span><span class="s1">ec</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;range&quot;</span><span class="s0">}))}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ye</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ge</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ou</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">jo</span><span class="s0">((</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">range</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">range</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">nv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of N</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">][</span><span class="s1">n</span><span class="s0">]=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">...</span><span class="s0">(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">][</span><span class="s1">n</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[],</span><span class="s1">...r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]])}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]={[</span><span class="s1">n</span><span class="s0">]:</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}}}}</span><span class="s4">class </span><span class="s1">tv </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">tv</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dimensions</span><span class="s0">),</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dimensions</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">get groupBy</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">dimensions</span><span class="s0">}</span><span class="s4">static </span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">forEachFieldDef</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}));</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">forEachFieldDef</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">===</span><span class="s2">&quot;count&quot;</span><span class="s0">){(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s2">&quot;*&quot;</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">i</span><span class="s0">[</span><span class="s2">&quot;*&quot;</span><span class="s0">]={};</span><span class="s1">i</span><span class="s0">[</span><span class="s2">&quot;*&quot;</span><span class="s0">][</span><span class="s2">&quot;count&quot;</span><span class="s0">]=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})])}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)||</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">yt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)?</span><span class="s2">&quot;argmin&quot;</span><span class="s0">:</span><span class="s2">&quot;argmax&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">c</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];(</span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">i</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]={};</span><span class="s1">i</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">e</span><span class="s0">]=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">Du</span><span class="s0">({</span><span class="s1">op</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})])}</span><span class="s4">else</span><span class="s0">{(</span><span class="s1">a</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">l</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">i</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]={};</span><span class="s1">i</span><span class="s0">[</span><span class="s1">l</span><span class="s0">][</span><span class="s1">c</span><span class="s0">]=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})])}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ct</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">scaleDomain</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)===</span><span class="s2">&quot;unaggregated&quot;</span><span class="s0">){(</span><span class="s1">u</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">l</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">u</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">u</span><span class="s0">:</span><span class="s1">i</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]={};</span><span class="s1">i</span><span class="s0">[</span><span class="s1">l</span><span class="s0">][</span><span class="s2">&quot;min&quot;</span><span class="s0">]=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">Du</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">},{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})]);</span><span class="s1">i</span><span class="s0">[</span><span class="s1">l</span><span class="s0">][</span><span class="s2">&quot;max&quot;</span><span class="s0">]=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">Du</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s2">&quot;max&quot;</span><span class="s0">},{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})])}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">ev</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">size</span><span class="s0">+</span><span class="s1">N</span><span class="s0">(</span><span class="s1">i</span><span class="s0">).</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">return new </span><span class="s1">tv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">makeFromTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">a of n</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">op</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,as:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;count&quot;</span><span class="s0">){(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s2">&quot;*&quot;</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">o</span><span class="s0">[</span><span class="s2">&quot;*&quot;</span><span class="s0">]={};</span><span class="s1">o</span><span class="s0">[</span><span class="s2">&quot;*&quot;</span><span class="s0">][</span><span class="s2">&quot;count&quot;</span><span class="s0">]=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">r</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})])}</span><span class="s4">else</span><span class="s0">{(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]={};</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">e</span><span class="s0">]=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">r</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})])}}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">a of</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:[]){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">size</span><span class="s0">+</span><span class="s1">N</span><span class="s0">(</span><span class="s1">o</span><span class="s0">).</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">return new </span><span class="s1">tv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s1">merge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">E</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dimensions</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">dimensions</span><span class="s0">)){</span><span class="s1">nv</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">);</span><span class="s4">return true</span><span class="s0">}</span><span class="s1">Xr</span><span class="s0">(</span><span class="s2">&quot;different dimensions, cannot merge&quot;</span><span class="s0">);</span><span class="s4">return false</span><span class="s0">}</span><span class="s1">addDimensions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dimensions</span><span class="s0">.</span><span class="s1">add</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dimensions</span><span class="s0">)}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dimensions</span><span class="s0">,</span><span class="s1">...N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">)])}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">size</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Aggregate </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">({</span><span class="s1">dimensions</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dimensions</span><span class="s0">,</span><span class="s1">measures</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">})}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">)){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">measures</span><span class="s0">[</span><span class="s1">r</span><span class="s0">][</span><span class="s1">i</span><span class="s0">]){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;*&quot;</span><span class="s0">?</span><span class="s4">null</span><span class="s0">:</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">r</span><span class="s0">))}}}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;aggregate&quot;</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:[</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dimensions</span><span class="s0">].</span><span class="s1">map</span><span class="s0">(</span><span class="s1">Y</span><span class="s0">),</span><span class="s1">ops</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,as:</span><span class="s1">t</span><span class="s0">};</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">iv </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of Je</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">_domain`</span><span class="s0">),</span><span class="s1">fields</span><span class="s0">:[</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">...At</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?[</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">})]:[]]},</span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)?{</span><span class="s1">sortField</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)?{</span><span class="s1">sortIndexField</span><span class="s0">:</span><span class="s1">Sb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}:{})}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">childModel</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">child</span><span class="s0">}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s2">`Facet`</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of Je</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s1">e</span><span class="s0">+=</span><span class="s2">` </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">charAt</span><span class="s0">(</span><span class="s3">0</span><span class="s0">)}</span><span class="s2">:</span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])}</span><span class="s2">`</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">get fields</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of Je</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">[</span><span class="s1">t</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...</span><span class="s4">this</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">fields</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of Je</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">sortField</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s4">this</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">sortField</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">sortIndexField</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s4">this</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">sortIndexField</span><span class="s0">)}}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">getSource</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s1">getChildIndependentFieldsWithStep</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of Un</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">childModel</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;range&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">cO</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">childModel</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">uO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">hi</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}}}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">assembleRowColumnHeaderData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">row</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">`distinct_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]}</span><span class="s2">`</span><span class="s0">);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">&quot;max&quot;</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">&quot;distinct&quot;</span><span class="s0">)}</span><span class="s1">o</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">`distinct_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">sortField</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">sortIndexField</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">op</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Wa</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">a</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">&quot;max&quot;</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s4">this</span><span class="s0">[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">name</span><span class="s0">,</span><span class="s1">source</span><span class="s0">:</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">,</span><span class="s1">transform</span><span class="s0">:[</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;aggregate&quot;</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s4">this</span><span class="s0">[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">fields</span><span class="s0">},</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?{</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">ops</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,as:</span><span class="s1">o</span><span class="s0">}:{})]}}</span><span class="s1">assembleFacetHeaderData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">columns</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">.</span><span class="s1">layout</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">layoutHeaders</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">.</span><span class="s1">component</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">c of _b</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of zb</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">c</span><span class="s0">]&amp;&amp;</span><span class="s1">r</span><span class="s0">[</span><span class="s1">c</span><span class="s0">][</span><span class="s1">e</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">o</span><span class="s0">[</span><span class="s1">c</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">[</span><span class="s1">c</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s2">`length(data(&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">&quot;))`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">c</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`ceil(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">/ </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}:</span><span class="s3">1</span><span class="s0">:</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`min(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">};</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,</span><span class="s1">transform</span><span class="s0">:[{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;sequence&quot;</span><span class="s0">,</span><span class="s1">start</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">stop</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}]})}}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">row</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">||</span><span class="s1">u</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">unshift</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleRowColumnHeaderData</span><span class="s0">(</span><span class="s2">&quot;facet&quot;</span><span class="s0">,</span><span class="s4">null</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getChildIndependentFieldsWithStep</span><span class="s0">();</span><span class="s4">const</span><span class="s0">{</span><span class="s1">column</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">row</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">x</span><span class="s0">||</span><span class="s1">r</span><span class="s0">.</span><span class="s1">y</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s2">`cross_</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">column</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">_</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">row</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[].</span><span class="s1">concat</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">x</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[],(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">y</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:[]);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((()=&gt;</span><span class="s2">&quot;distinct&quot;</span><span class="s0">));</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">source</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">,</span><span class="s1">transform</span><span class="s0">:[{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;aggregate&quot;</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">ops</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}]})}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">u of</span><span class="s0">[</span><span class="s1">ae</span><span class="s0">,</span><span class="s1">oe</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleRowColumnHeaderData</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">))}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleFacetHeaderData</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">rv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;'&quot;</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endsWith</span><span class="s0">(</span><span class="s2">&quot;'&quot;</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">'&quot;'</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">endsWith</span><span class="s0">(</span><span class="s2">'&quot;'</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">1</span><span class="s0">,-</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">sv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">W</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`toNumber(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;boolean&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`toBoolean(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`toString(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;date&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s2">`toDate(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;flatten&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;date:&quot;</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">rv</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">5</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">));</span><span class="s4">return</span><span class="s2">`timeParse(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">,'</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">')`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">startsWith</span><span class="s0">(</span><span class="s2">&quot;utc:&quot;</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">rv</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">4</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">));</span><span class="s4">return</span><span class="s2">`utcParse(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">,'</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">')`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ei</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">return null</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">ov</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};</span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ns</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ks</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">equal</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ss</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lte</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Cs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lt</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Es</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">gt</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Bs</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">gte</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ps</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">range</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">_s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">oneOf</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;in&quot;</span><span class="s0">])[</span><span class="s3">0</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s2">&quot;date&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s2">&quot;number&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s2">&quot;string&quot;</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s2">&quot;date&quot;</span><span class="s0">}}}));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">av</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s2">&quot;date&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">jt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s2">&quot;number&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field </span><span class="s4">in </span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s2">&quot;flatten&quot;</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ou</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">)&amp;&amp;</span><span class="s1">Q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">.</span><span class="s1">field </span><span class="s4">in </span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s2">&quot;flatten&quot;</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">ex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">forEachFieldDef</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">hn</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">t</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">type</span><span class="s0">}))}}))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ea</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">order</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">?</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s2">&quot;x&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">&amp;&amp;!(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field </span><span class="s4">in </span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s2">&quot;number&quot;</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">uv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of i</span><span class="s0">.</span><span class="s1">project</span><span class="s0">.</span><span class="s1">items</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">channel</span><span class="s0">&amp;&amp;</span><span class="s1">Q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s2">&quot;flatten&quot;</span><span class="s0">}}}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">class </span><span class="s1">cv </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">cv</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Parse </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">static </span><span class="s1">makeExplicit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">data</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Md</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)&amp;&amp;((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">format</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">format</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">makeWithAncestors</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,{},</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">makeWithAncestors</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of N</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s1">t</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s2">&quot;derived&quot;</span><span class="s0">||</span><span class="s1">t</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]===</span><span class="s2">&quot;flatten&quot;</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">t</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Bi</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s1">o</span><span class="s0">],</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">))}}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">n</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]){</span><span class="s4">delete </span><span class="s1">n</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Bi</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">[</span><span class="s1">o</span><span class="s0">],</span><span class="s1">e</span><span class="s0">))}}}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">kd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">copyAll</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of N</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">combine</span><span class="s0">())){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">s</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">N</span><span class="s0">(</span><span class="s1">s</span><span class="s0">).</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">parseNothing</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">return new </span><span class="s1">cv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s1">get parse</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">}</span><span class="s1">merge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">()}</span><span class="s1">assembleFormatParse</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Q</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)===</span><span class="s3">1</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s1">N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">))}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s1">N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">))}</span><span class="s1">assembleTransforms</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">return </span><span class="s1">N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">?</span><span class="s1">Q</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&gt;</span><span class="s3">1</span><span class="s0">:</span><span class="s4">true</span><span class="s0">)).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">sv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parse</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;formula&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,as:</span><span class="s1">V</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">return </span><span class="s1">t</span><span class="s0">})).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">))}}</span><span class="s4">class </span><span class="s1">lv </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">lv</span><span class="s0">(</span><span class="s4">null</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">Ol</span><span class="s0">])}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">&quot;Identifier&quot;</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;identifier&quot;</span><span class="s0">,as:</span><span class="s1">Ol</span><span class="s0">}}}</span><span class="s4">class </span><span class="s1">fv </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">fv</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">params</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Graticule </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;graticule&quot;</span><span class="s0">},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">params</span><span class="s0">===</span><span class="s4">true</span><span class="s0">?{}:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">dv </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">dv</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">params</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">params</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s2">&quot;data&quot;</span><span class="s0">])}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Hash </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;sequence&quot;</span><span class="s0">},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">pv </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s4">null</span><span class="s0">);</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">e</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;source&quot;</span><span class="s0">};</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Md</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">format</span><span class="s0">?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">format</span><span class="s0">,[</span><span class="s2">&quot;parse&quot;</span><span class="s0">])):{}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Nd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_data</span><span class="s0">={</span><span class="s1">values</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">values</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">zd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_data</span><span class="s0">={</span><span class="s1">url</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">url</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s5">/(?:\.([^.]+))?$/</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">url</span><span class="s0">)[</span><span class="s3">1</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;json&quot;</span><span class="s0">,</span><span class="s2">&quot;csv&quot;</span><span class="s0">,</span><span class="s2">&quot;tsv&quot;</span><span class="s0">,</span><span class="s2">&quot;dsv&quot;</span><span class="s0">,</span><span class="s2">&quot;topojson&quot;</span><span class="s0">],</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;json&quot;</span><span class="s0">}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">qd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_data</span><span class="s0">={</span><span class="s1">values</span><span class="s0">:[{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;Sphere&quot;</span><span class="s0">}]}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Td</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Md</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_data</span><span class="s0">={}}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_generator</span><span class="s0">=</span><span class="s1">Md</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_data</span><span class="s0">.</span><span class="s1">format</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">get data</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_data</span><span class="s0">}</span><span class="s1">hasName</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">!!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">}</span><span class="s1">get isGenerator</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_generator</span><span class="s0">}</span><span class="s1">get dataName</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">}</span><span class="s1">set dataName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">set parent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Source nodes have to be roots.&quot;</span><span class="s0">)}</span><span class="s1">remove</span><span class="s0">(){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Source nodes are roots and cannot be removed.&quot;</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Cannot hash sources&quot;</span><span class="s0">)}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_name</span><span class="s0">},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_data</span><span class="s0">),{</span><span class="s1">transform</span><span class="s0">:[]})}}</span><span class="s4">var </span><span class="s1">gv</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__classPrivateFieldSet</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;m&quot;</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Private method is not writable&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;a&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">r</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Private accessor was defined without a setter&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">?</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">||!</span><span class="s1">r</span><span class="s0">:!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Cannot write private member to an object whose class did not declare it&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;a&quot;</span><span class="s0">?</span><span class="s1">r</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">):</span><span class="s1">r</span><span class="s0">?</span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">=</span><span class="s1">t</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s1">t</span><span class="s0">};</span><span class="s4">var </span><span class="s1">mv</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__classPrivateFieldGet</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;a&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">i</span><span class="s0">)</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Private accessor was defined without a getter&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">?</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">||!</span><span class="s1">i</span><span class="s0">:!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))</span><span class="s4">throw new </span><span class="s1">TypeError</span><span class="s0">(</span><span class="s2">&quot;Cannot read private member from an object whose class did not declare it&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;m&quot;</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;a&quot;</span><span class="s0">?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">i</span><span class="s0">?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">var </span><span class="s1">hv</span><span class="s0">;</span><span class="s4">function </span><span class="s1">bv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">pv</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">fv</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">dv</span><span class="s0">}</span><span class="s4">class </span><span class="s1">yv</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s1">hv</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s4">void </span><span class="s3">0</span><span class="s0">);</span><span class="s1">gv</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">hv</span><span class="s0">,</span><span class="s4">false</span><span class="s0">,</span><span class="s2">&quot;f&quot;</span><span class="s0">)}</span><span class="s1">setModified</span><span class="s0">(){</span><span class="s1">gv</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">hv</span><span class="s0">,</span><span class="s4">true</span><span class="s0">,</span><span class="s2">&quot;f&quot;</span><span class="s0">)}</span><span class="s1">get modifiedFlag</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">mv</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">hv</span><span class="s0">,</span><span class="s2">&quot;f&quot;</span><span class="s0">)}}</span><span class="s1">hv</span><span class="s0">=</span><span class="s4">new </span><span class="s1">WeakMap</span><span class="s0">;</span><span class="s4">class </span><span class="s1">vv </span><span class="s4">extends </span><span class="s1">yv</span><span class="s0">{</span><span class="s1">getNodeDepths</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getNodeDepths</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">+</span><span class="s3">1</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">optimize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getNodeDepths</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[</span><span class="s1">...n</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">()].</span><span class="s1">sort</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">n</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]-</span><span class="s1">e</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]));</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">run</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">modifiedFlag</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Ov </span><span class="s4">extends </span><span class="s1">yv</span><span class="s0">{</span><span class="s1">optimize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">optimize</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">modifiedFlag</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">xv </span><span class="s4">extends </span><span class="s1">Ov</span><span class="s0">{</span><span class="s1">mergeNodes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">shift</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">()}}</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hash</span><span class="s0">()));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]]===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]]=[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]].</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of N</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">].</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mergeNodes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])}}}}</span><span class="s4">class </span><span class="s1">wv </span><span class="s4">extends </span><span class="s1">Ov</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">requiresSelectionId</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">Tg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">lv</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">requiresSelectionId</span><span class="s0">&amp;&amp;(</span><span class="s1">bv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">)||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent </span><span class="s4">instanceof </span><span class="s1">tv</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent </span><span class="s4">instanceof </span><span class="s1">cv</span><span class="s0">))){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">()}}}}</span><span class="s4">class </span><span class="s1">jv </span><span class="s4">extends </span><span class="s1">yv</span><span class="s0">{</span><span class="s1">optimize</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">modifiedFlag</span><span class="s0">}</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ip</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">producedFields</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">removeFormulas</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">producedFields</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">()}}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">run</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">...n</span><span class="s0">,</span><span class="s1">...t</span><span class="s0">]))}}}</span><span class="s4">class </span><span class="s1">Fv </span><span class="s4">extends </span><span class="s1">Ov</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">super</span><span class="s0">()}</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">isRequired</span><span class="s0">()){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">()}}}</span><span class="s4">class </span><span class="s1">$v </span><span class="s4">extends </span><span class="s1">vv</span><span class="s0">{</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">cv</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">cv</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">_</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">producedFields</span><span class="s0">(),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">dependentFields</span><span class="s0">())){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s1">n</span><span class="s0">.</span><span class="s1">swapWithParent</span><span class="s0">()}}}</span><span class="s4">return</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Dv </span><span class="s4">extends </span><span class="s1">vv</span><span class="s0">{</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">cv</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()&gt;</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;=</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">e </span><span class="s4">in </span><span class="s1">i</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of r</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">i</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">cv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r </span><span class="s4">instanceof </span><span class="s1">cv</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of N</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">delete </span><span class="s1">r</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r </span><span class="s4">instanceof </span><span class="s1">cv</span><span class="s0">&amp;&amp;</span><span class="s1">N</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">).</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">()}}}}}}</span><span class="s4">class </span><span class="s1">Av </span><span class="s4">extends </span><span class="s1">vv</span><span class="s0">{</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()&gt;</span><span class="s3">0</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">iv</span><span class="s0">){}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">pv</span><span class="s0">){}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s1">e</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">()}}}</span><span class="s4">class </span><span class="s1">kv </span><span class="s4">extends </span><span class="s1">vv</span><span class="s0">{</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">ip</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s1">t</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}}}</span><span class="s4">class </span><span class="s1">Cv </span><span class="s4">extends </span><span class="s1">vv</span><span class="s0">{</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">tv</span><span class="s0">));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">w</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">groupBy</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">e </span><span class="s4">in </span><span class="s1">t</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=[]}</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of N</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">()}}}}}}</span><span class="s4">class </span><span class="s1">Sv </span><span class="s4">extends </span><span class="s1">vv</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=!(</span><span class="s1">bv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Zh</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">cv</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">lv</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r </span><span class="s4">instanceof </span><span class="s1">Zy</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;!</span><span class="s1">_</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">producedFields</span><span class="s0">(),</span><span class="s1">r</span><span class="s0">.</span><span class="s1">dependentFields</span><span class="s0">())){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of t</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">.</span><span class="s1">renameSignal</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">))}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Zy</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">.</span><span class="s1">renameSignal</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">swapWithParent</span><span class="s0">()}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of i</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">merge</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">.</span><span class="s1">renameSignal</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">model</span><span class="s0">))}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">()}}}</span><span class="s4">class </span><span class="s1">Ev </span><span class="s4">extends </span><span class="s1">vv</span><span class="s0">{</span><span class="s1">run</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">$</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()&lt;=</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s </span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">children</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">break</span><span class="s0">}}</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...n</span><span class="s0">.</span><span class="s1">children</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">()}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setModified</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of i</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">removeChild</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}}}}</span><span class="s4">class </span><span class="s1">Bv </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Bv</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">addDimensions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">=</span><span class="s1">C</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">))}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">joinaggregate</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)).</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">joinaggregate</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getDefaultName</span><span class="s0">))}</span><span class="s1">getDefaultName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`JoinAggregateTransform </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">joinaggregate</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">op</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getDefaultName</span><span class="s0">(</span><span class="s1">r</span><span class="s0">));</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">field</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s4">null</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;joinaggregate&quot;</span><span class="s0">,as:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">ops</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">e</span><span class="s0">},</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}:{})}}</span><span class="s4">function </span><span class="s1">Pv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">stackBy</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),[])}</span><span class="s4">function </span><span class="s1">_v</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">every</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)))&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">}</span><span class="s4">class </span><span class="s1">zv </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">zv</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">static </span><span class="s1">makeFromTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,as:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">o</span><span class="s0">=</span><span class="s2">&quot;zero&quot;</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of n</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">);</span><span class="s1">u</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">order</span><span class="s0">,</span><span class="s2">&quot;ascending&quot;</span><span class="s0">))}}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">={</span><span class="s1">field</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">order</span><span class="s0">:</span><span class="s1">u</span><span class="s0">};</span><span class="s4">let </span><span class="s1">l</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">_v</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">l</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">l</span><span class="s0">=[</span><span class="s1">s</span><span class="s0">,</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">_end`</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">l</span><span class="s0">=[</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">}</span><span class="s2">_start`</span><span class="s0">,</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">}</span><span class="s2">_end`</span><span class="s0">]}</span><span class="s4">return new </span><span class="s1">zv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">dimensionFieldDefs</span><span class="s0">:[],</span><span class="s1">stackField</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">facetby</span><span class="s0">:[],as:</span><span class="s1">l</span><span class="s0">})}</span><span class="s4">static </span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">groupbyChannels</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">fieldChannel</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">impute</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">return </span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)})).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;!!</span><span class="s1">e</span><span class="s0">));</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">Pv</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">order</span><span class="s0">;</span><span class="s4">let </span><span class="s1">d</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">f</span><span class="s0">)||</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">f</span><span class="s0">)){</span><span class="s1">d</span><span class="s0">=</span><span class="s1">ai</span><span class="s0">(</span><span class="s1">f</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">d</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">order</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;y&quot;</span><span class="s0">?</span><span class="s2">&quot;descending&quot;</span><span class="s0">:</span><span class="s2">&quot;ascending&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{</span><span class="s1">field</span><span class="s0">:[],</span><span class="s1">order</span><span class="s0">:[]})}</span><span class="s4">return new </span><span class="s1">zv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">dimensionFieldDefs</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">stackField</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">o</span><span class="s0">),</span><span class="s1">facetby</span><span class="s0">:[],</span><span class="s1">stackby</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">impute</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,as:[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,{</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;start&quot;</span><span class="s0">,</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,{</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">,</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})]})}</span><span class="s1">get stack</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">}</span><span class="s1">addDimensions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">.</span><span class="s1">facetby</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">)}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">.</span><span class="s1">stackField</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getGroupbyFields</span><span class="s0">().</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">.</span><span class="s1">facetby</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">.</span><span class="s1">field</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Stack </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">getGroupbyFields</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">dimensionFieldDefs</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">impute</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})]}</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{}),</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">})]}</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)]})).</span><span class="s1">flat</span><span class="s0">()}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[]}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">const</span><span class="s0">{</span><span class="s1">facetby</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">dimensionFieldDefs</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">stackField</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">stackby</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">impute</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,as:</span><span class="s1">u</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_stack</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of t</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bandPosition</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s3">.5</span><span class="s0">,</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">});</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">,</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">});</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;formula&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">*</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">+</span><span class="s1">$</span><span class="s0">{</span><span class="s3">1</span><span class="s0">-</span><span class="s1">t</span><span class="s0">}</span><span class="s2">*</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,as:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">,</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})})}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;impute&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:[</span><span class="s1">...r</span><span class="s0">,</span><span class="s1">...n</span><span class="s0">],</span><span class="s1">key</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">}),</span><span class="s1">method</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s3">0</span><span class="s0">})}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;stack&quot;</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:[</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getGroupbyFields</span><span class="s0">(),</span><span class="s1">...n</span><span class="s0">],</span><span class="s1">field</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,as:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">offset</span><span class="s0">:</span><span class="s1">o</span><span class="s0">});</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Nv </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Nv</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">addDimensions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">=</span><span class="s1">C</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">))}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;((</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[]).</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">add</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);((</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:[]).</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">window</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)).</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">add</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">window</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getDefaultName</span><span class="s0">))}</span><span class="s1">getDefaultName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`WindowTransform </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">f of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">window</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">f</span><span class="s0">.</span><span class="s1">op</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getDefaultName</span><span class="s0">(</span><span class="s1">f</span><span class="s0">));</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">f</span><span class="s0">.</span><span class="s1">param</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s4">null</span><span class="s0">:</span><span class="s1">f</span><span class="s0">.</span><span class="s1">param</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">f</span><span class="s0">.</span><span class="s1">field</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s4">null</span><span class="s0">:</span><span class="s1">f</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">frame</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]===</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]===</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">every</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Ot</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;joinaggregate&quot;</span><span class="s0">,as:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">ops</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}:{})}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">);</span><span class="s1">u</span><span class="s0">.</span><span class="s1">push</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">order</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s2">&quot;ascending&quot;</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">={</span><span class="s1">field</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">order</span><span class="s0">:</span><span class="s1">u</span><span class="s0">};</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">ignorePeers</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;window&quot;</span><span class="s0">,</span><span class="s1">params</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,as:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">ops</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">c</span><span class="s0">},</span><span class="s1">l</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">ignorePeers</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}:{}),</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}:{}),</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">frame</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{})}}</span><span class="s4">function </span><span class="s1">Tv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">iv</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">clone</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">qv</span><span class="s0">+</span><span class="s1">i</span><span class="s0">.</span><span class="s1">getSource</span><span class="s0">();</span><span class="s1">i</span><span class="s0">.</span><span class="s1">setSource</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">model</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">outputNodes</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">tv</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">zv</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Nv</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Bv</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">addDimensions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of t</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">flatMap</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">return</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">flatMap</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Mv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">iv</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()===</span><span class="s3">1</span><span class="s0">&amp;&amp;!(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]</span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">tv</span><span class="s0">||</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">zv</span><span class="s0">||</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">Nv</span><span class="s0">||</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">Bv</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">addDimensions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">swapWithParent</span><span class="s0">();</span><span class="s1">Mv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">model</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">main</span><span class="s0">;</span><span class="s1">Lv</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Tv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">flat</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of i</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">Mv</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Lv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">n </span><span class="s4">instanceof </span><span class="s1">iv</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">swapWithParent</span><span class="s0">();</span><span class="s1">Lv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}}}</span><span class="s4">const </span><span class="s1">qv</span><span class="s0">=</span><span class="s2">&quot;scale_&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">Uv</span><span class="s0">=</span><span class="s3">5</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Rv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of n</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Rv</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">children</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Iv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">optimize</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Wv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sources</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Fv</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">wv</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()&gt;</span><span class="s3">0</span><span class="s0">));</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Av</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()&gt;</span><span class="s3">0</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">$v</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Sv</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">jv</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Dv</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Cv</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">kv</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">xv</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Iv</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Ev</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sources</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Hv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">Rv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sources</span><span class="s0">);</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">Uv</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Wv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)){</span><span class="s4">break</span><span class="s0">}</span><span class="s1">t</span><span class="s0">++}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sources</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">Mv</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">Uv</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Wv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)){</span><span class="s4">break</span><span class="s0">}</span><span class="s1">i</span><span class="s0">++}</span><span class="s1">Rv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sources</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)===</span><span class="s1">Uv</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s2">`Maximum optimization runs(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Uv</span><span class="s0">}</span><span class="s2">) reached.`</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">Gv</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s2">&quot;signal&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})}</span><span class="s4">static </span><span class="s1">fromName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">Gv</span><span class="s0">((()=&gt;</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)))}}</span><span class="s4">var </span><span class="s1">Yv</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Kv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">Vv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Qv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Vv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Jv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s1">r</span><span class="s0">.</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s2">&quot;domains&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s1">iO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">isFaceted</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(!</span><span class="s1">ex</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;shared&quot;</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of i</span><span class="s0">.</span><span class="s1">value</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">qv</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">replace</span><span class="s0">(</span><span class="s1">qv</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">)}}}}}}</span><span class="s4">function </span><span class="s1">Qv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">Kv</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s2">&quot;domains&quot;</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Pd</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s2">&quot;domains&quot;</span><span class="s0">),</span><span class="s2">&quot;domains&quot;</span><span class="s0">,</span><span class="s2">&quot;scale&quot;</span><span class="s0">,</span><span class="s1">oO</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;selectionExtent&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">param</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">.</span><span class="s1">param</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Di</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s2">&quot;domains&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">set</span><span class="s0">(</span><span class="s2">&quot;selectionExtent&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">Xv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;unaggregated&quot;</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">valid</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">reason</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">sO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">useUnaggregatedDomain</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">valid</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s1">sO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;unaggregated&quot;</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">n</span><span class="s0">).</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Xv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleDomain</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">typedFieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleDomain</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">specifiedScales</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">specifiedScales</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]),{</span><span class="s1">domain</span><span class="s0">:</span><span class="s1">r</span><span class="s0">})}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">x2</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">x</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Pd</span><span class="s0">(</span><span class="s1">nO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;x&quot;</span><span class="s0">),</span><span class="s1">nO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;x2&quot;</span><span class="s0">),</span><span class="s2">&quot;domain&quot;</span><span class="s0">,</span><span class="s2">&quot;scale&quot;</span><span class="s0">,</span><span class="s1">oO</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">nO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;x2&quot;</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;y&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">y2</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">y</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Pd</span><span class="s0">(</span><span class="s1">nO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;y&quot;</span><span class="s0">),</span><span class="s1">nO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;y2&quot;</span><span class="s0">),</span><span class="s2">&quot;domain&quot;</span><span class="s0">,</span><span class="s2">&quot;scale&quot;</span><span class="s0">,</span><span class="s1">oO</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">nO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;y2&quot;</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">nO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Zv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Ju</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">n</span><span class="s0">});</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`{data: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">}`</span><span class="s0">}}))}</span><span class="s4">function </span><span class="s1">eO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">t</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">unit</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;temporal&quot;</span><span class="s0">||</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Zv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">nO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s2">&quot;timeUnit&quot;</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">wo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">nO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">eO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">unionWith</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Cd</span><span class="s0">([</span><span class="s1">...s</span><span class="s0">,</span><span class="s1">...r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">])}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Cd</span><span class="s0">([</span><span class="s1">n</span><span class="s0">])}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s2">&quot;unaggregated&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">xo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Cd</span><span class="s0">(</span><span class="s1">eO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">===</span><span class="s1">c</span><span class="s0">.</span><span class="s1">fieldChannel</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">===</span><span class="s2">&quot;normalize&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">([[</span><span class="s3">0</span><span class="s0">,</span><span class="s3">1</span><span class="s0">]])}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">([{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,{</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;start&quot;</span><span class="s0">})},{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,{</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">})}])}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">ct</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)?</span><span class="s1">rO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">pu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">eO</span><span class="s0">([</span><span class="s1">o</span><span class="s0">.</span><span class="s1">datum</span><span class="s0">],</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;unaggregated&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">([{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">})},{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s2">&quot;max&quot;</span><span class="s0">})}])}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">f</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;bin-ordinal&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">([])}</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">([{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">L</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">):</span><span class="s1">t</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Raw</span><span class="s0">),</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">ec</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)?{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;range&quot;</span><span class="s0">}:{}),</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">l</span><span class="s0">===</span><span class="s4">true</span><span class="s0">||!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">l</span><span class="s0">)?{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,{}),</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">}:</span><span class="s1">l</span><span class="s0">}])}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s1">f</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Qy</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">f</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">([</span><span class="s4">new </span><span class="s1">Gv</span><span class="s0">((()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">getSignalName</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return</span><span class="s2">`[</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">.start, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">.stop]`</span><span class="s0">}))])}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">([{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">),</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,{})}])}}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">&amp;&amp;</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;time&quot;</span><span class="s0">,</span><span class="s2">&quot;utc&quot;</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">ou</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">[</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)]:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">config</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">([{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)},{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,{</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">})}])}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">([{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">L</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">):</span><span class="s1">t</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Raw</span><span class="s0">),</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">i</span><span class="s0">),</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}])}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">([{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">),</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}])}}</span><span class="s4">function </span><span class="s1">tO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">op</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">order</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">op</span><span class="s0">:</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">n</span><span class="s0">?</span><span class="s2">&quot;sum&quot;</span><span class="s0">:</span><span class="s1">Wa</span><span class="s0">},</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}:{}),</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">order</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{})}</span><span class="s4">function </span><span class="s1">iO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">specifiedScales</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">domain</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">xo</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)&amp;&amp;</span><span class="s1">St</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">extent</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">||</span><span class="s1">a</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s2">&quot;selectionExtent&quot;</span><span class="s0">,</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">rO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Va</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Sb</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">),</span><span class="s1">order</span><span class="s0">:</span><span class="s2">&quot;ascending&quot;</span><span class="s0">}}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">?</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">...s</span><span class="s0">.</span><span class="s1">groupbyFields</span><span class="s0">,</span><span class="s1">...s</span><span class="s0">.</span><span class="s1">stackBy</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">.</span><span class="s1">field</span><span class="s0">))]):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">s</span><span class="s0">&amp;&amp;!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">field</span><span class="s0">);</span><span class="s4">return </span><span class="s1">tO</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ya</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">order</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">s</span><span class="s0">&amp;&amp;!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)||</span><span class="s1">vt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">tO</span><span class="s0">({</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">i</span><span class="s0">),</span><span class="s1">order</span><span class="s0">:</span><span class="s1">t</span><span class="s0">},</span><span class="s1">c</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ot</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)||!</span><span class="s1">a</span><span class="s0">){</span><span class="s4">return </span><span class="s1">tO</span><span class="s0">({</span><span class="s1">op</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">order</span><span class="s0">:</span><span class="s1">t</span><span class="s0">},</span><span class="s1">c</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;descending&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">n</span><span class="s0">),</span><span class="s1">order</span><span class="s0">:</span><span class="s2">&quot;descending&quot;</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;ascending&quot;</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">],</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">sO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">valid</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">reason</span><span class="s0">:</span><span class="s1">cr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)&amp;&amp;!</span><span class="s1">$t</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">valid</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">reason</span><span class="s0">:</span><span class="s1">lr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;log&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">valid</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">reason</span><span class="s0">:</span><span class="s1">fr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">valid</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">oO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">vr</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">))}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:[</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">...n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">]}}</span><span class="s4">function </span><span class="s1">aO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">C</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Yv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;sort&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">})),</span><span class="s1">w</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">C</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;!</span><span class="s1">L</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;op&quot;</span><span class="s4">in </span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">op</span><span class="s0">===</span><span class="s2">&quot;count&quot;</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">order</span><span class="s0">===</span><span class="s2">&quot;ascending&quot;</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">n</span><span class="s0">.</span><span class="s1">order</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">})).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)),</span><span class="s1">w</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">wr</span><span class="s0">);</span><span class="s1">e</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s2">&quot;field&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">===</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">order</span><span class="s0">?{</span><span class="s1">order</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">order</span><span class="s0">}:</span><span class="s4">true</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">C</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">L</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||!(</span><span class="s2">&quot;op&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">op</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">op </span><span class="s4">in </span><span class="s1">bt</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">xr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s4">return true</span><span class="s0">})),</span><span class="s1">w</span><span class="s0">);</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">wr</span><span class="s0">);</span><span class="s1">s</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">C</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">}</span><span class="s4">return null</span><span class="s0">})),(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]!==</span><span class="s4">null</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">data</span><span class="s0">:</span><span class="s1">o</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">))},</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{});</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{})}</span><span class="s4">function </span><span class="s1">uO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Lt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">jr</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}}</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Fr</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">qt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">$r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">cO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;domains&quot;</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">lookupDataSource</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}));</span><span class="s4">return </span><span class="s1">aO</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">var </span><span class="s1">lO</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">fO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">tx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">nx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">fO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))),</span><span class="s1">dO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">dO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">dO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">).</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">combine</span><span class="s0">();</span><span class="s4">const</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">selectionExtent</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">domains</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">reverse</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}=</span><span class="s1">r</span><span class="s0">,</span><span class="s1">f</span><span class="s0">=</span><span class="s1">lO</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,[</span><span class="s2">&quot;name&quot;</span><span class="s0">,</span><span class="s2">&quot;type&quot;</span><span class="s0">,</span><span class="s2">&quot;selectionExtent&quot;</span><span class="s0">,</span><span class="s2">&quot;domains&quot;</span><span class="s0">,</span><span class="s2">&quot;range&quot;</span><span class="s0">,</span><span class="s2">&quot;reverse&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">pO</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">range</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">cO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">a</span><span class="s0">?</span><span class="s1">Jd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">p</span><span class="s0">):</span><span class="s4">null</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">o</span><span class="s0">},</span><span class="s1">p</span><span class="s0">?{</span><span class="s1">domain</span><span class="s0">:</span><span class="s1">p</span><span class="s0">}:{}),</span><span class="s1">g</span><span class="s0">?{</span><span class="s1">domainRaw</span><span class="s0">:</span><span class="s1">g</span><span class="s0">}:{}),{</span><span class="s1">range</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}),</span><span class="s1">l</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">reverse</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}:{}),</span><span class="s1">f</span><span class="s0">));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}),[])}</span><span class="s4">function </span><span class="s1">pO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">step</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">_step`</span><span class="s0">}}}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">),{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">lookupDataSource</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)})}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">class </span><span class="s1">gO </span><span class="s4">extends </span><span class="s1">kd</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">({},{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">domainDefinitelyIncludesZero</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;zero&quot;</span><span class="s0">)!==</span><span class="s4">false</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return </span><span class="s1">$</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;domains&quot;</span><span class="s0">),(</span><span class="s1">e</span><span class="s0">=&gt;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">2</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]&lt;=</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]&gt;=</span><span class="s3">0</span><span class="s0">))}}</span><span class="s4">const </span><span class="s1">mO</span><span class="s0">=[</span><span class="s2">&quot;range&quot;</span><span class="s0">,</span><span class="s2">&quot;scheme&quot;</span><span class="s0">];</span><span class="s4">function </span><span class="s1">hO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of ut</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">yO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s2">&quot;range&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">bO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">binned</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">step</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">Gv</span><span class="s0">((()=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s2">`(domain(&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&quot;)[1] - domain(&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">&quot;)[0]) / </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">step</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSignalName</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)} </span><span class="s2">/ (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Qy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return new </span><span class="s1">Gv</span><span class="s0">((()=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSignalName</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">.stop - </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">.start) / </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">.step`</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSignalName</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)} </span><span class="s2">/ (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}))}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">yO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">specifiedScales</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">const</span><span class="s0">{</span><span class="s1">size</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">d of mO</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">d</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">_o</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">d</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">zo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">d</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">mr</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">d</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">d</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;range&quot;</span><span class="s0">:{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">range</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Cd</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;width&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;height&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getSignalName</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Gv</span><span class="s0">.</span><span class="s1">fromName</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">})))}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Gv</span><span class="s0">)(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Cd</span><span class="s0">({</span><span class="s1">data</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">),</span><span class="s1">field</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,</span><span class="s1">sort</span><span class="s0">:{</span><span class="s1">op</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}})}</span><span class="s4">return </span><span class="s1">Cd</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">case</span><span class="s2">&quot;scheme&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">Cd</span><span class="s0">(</span><span class="s1">vO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">d</span><span class="s0">]))}}}}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">ce</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;xOffset&quot;</span><span class="s0">?</span><span class="s2">&quot;width&quot;</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">a</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">xO</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Cd</span><span class="s0">({</span><span class="s1">step</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">br</span><span class="s0">(</span><span class="s1">a</span><span class="s0">))}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Kn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">pe</span><span class="s0">?</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;band&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">wO</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Cd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}}}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">rangeMin</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">rangeMax</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">OO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s1">c</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">l</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)&amp;&amp;</span><span class="s1">_o</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s2">&quot;rangeMin&quot;</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">f</span><span class="s0">)&amp;&amp;</span><span class="s1">f</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">2</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Cd</span><span class="s0">([</span><span class="s1">c</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">c</span><span class="s0">:</span><span class="s1">f</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">l</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">l</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">l</span><span class="s0">:</span><span class="s1">f</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]])}</span><span class="s4">return </span><span class="s1">Sd</span><span class="s0">(</span><span class="s1">f</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">vO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Oo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">scheme</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">},</span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;name&quot;</span><span class="s0">]))}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">scheme</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">OO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">size</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getSignalName</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">domain</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">domainMid</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">specifiedScales</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">le</span><span class="s0">:{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;point&quot;</span><span class="s0">,</span><span class="s2">&quot;band&quot;</span><span class="s0">],</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">FO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">view</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">xO</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">step</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">le</span><span class="s0">&amp;&amp;</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Gv</span><span class="s0">.</span><span class="s1">fromName</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">),</span><span class="s3">0</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">[</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Gv</span><span class="s0">.</span><span class="s1">fromName</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)]}}</span><span class="s4">case </span><span class="s1">pe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">ge</span><span class="s0">:</span><span class="s4">return </span><span class="s1">jO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s4">case </span><span class="s1">Ae</span><span class="s0">:{</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;zero&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">AO</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">CO</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yo</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">DO</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">$O</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">l</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">[</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">]}}</span><span class="s4">case </span><span class="s1">be</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s3">0</span><span class="s0">,</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">PI</span><span class="s0">*</span><span class="s3">2</span><span class="s0">];</span><span class="s4">case </span><span class="s1">ke</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s3">0</span><span class="s0">,</span><span class="s3">360</span><span class="s0">];</span><span class="s4">case </span><span class="s1">me</span><span class="s0">:{</span><span class="s4">return</span><span class="s0">[</span><span class="s3">0</span><span class="s0">,</span><span class="s4">new </span><span class="s1">Gv</span><span class="s0">((()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getSignalName</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getSignalName</span><span class="s0">(</span><span class="s2">&quot;height&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s2">`min(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">,</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">)/2`</span><span class="s0">}))]}</span><span class="s4">case </span><span class="s1">Be</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">minStrokeWidth</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">maxStrokeWidth</span><span class="s0">];</span><span class="s4">case </span><span class="s1">Pe</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[[</span><span class="s3">1</span><span class="s0">,</span><span class="s3">0</span><span class="s0">],[</span><span class="s3">4</span><span class="s0">,</span><span class="s3">2</span><span class="s0">],[</span><span class="s3">2</span><span class="s0">,</span><span class="s3">1</span><span class="s0">],[</span><span class="s3">1</span><span class="s0">,</span><span class="s3">1</span><span class="s0">],[</span><span class="s3">1</span><span class="s0">,</span><span class="s3">2</span><span class="s0">,</span><span class="s3">4</span><span class="s0">,</span><span class="s3">2</span><span class="s0">]];</span><span class="s4">case </span><span class="s1">De</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;symbol&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">je</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Fe</span><span class="s0">:</span><span class="s4">case </span><span class="s1">$e</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">===</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">a</span><span class="s0">===</span><span class="s2">&quot;nominal&quot;</span><span class="s0">?</span><span class="s2">&quot;category&quot;</span><span class="s0">:</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;diverging&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;rect&quot;</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;geoshape&quot;</span><span class="s0">?</span><span class="s2">&quot;heatmap&quot;</span><span class="s0">:</span><span class="s2">&quot;ramp&quot;</span><span class="s0">}}</span><span class="s4">case </span><span class="s1">Ce</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Se</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ee</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">minOpacity</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">maxOpacity</span><span class="s0">]}}</span><span class="s4">function </span><span class="s1">xO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">xn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">u</span><span class="s0">[</span><span class="s1">l</span><span class="s0">];</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">El</span><span class="s0">({</span><span class="s1">step</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">offsetIsDiscrete</span><span class="s0">:</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">f</span><span class="s0">)&amp;&amp;</span><span class="s1">Gs</span><span class="s0">(</span><span class="s1">f</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">===</span><span class="s2">&quot;offset&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">mc</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">l</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">let </span><span class="s1">f</span><span class="s0">=</span><span class="s2">`domain('</span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">').length`</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">)===</span><span class="s2">&quot;band&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;paddingInner&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;padding&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s1">o</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;paddingOuter&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;padding&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s3">0</span><span class="s0">;</span><span class="s1">f</span><span class="s0">=</span><span class="s2">`bandspace(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=(</span><span class="s1">a</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;paddingInner&quot;</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">c</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;padding&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">} </span><span class="s2">* </span><span class="s1">$</span><span class="s0">{</span><span class="s1">f</span><span class="s0">} </span><span class="s2">/ (1-</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Jt</span><span class="s0">(</span><span class="s1">d</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">wO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">El</span><span class="s0">({</span><span class="s1">step</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">offsetIsDiscrete</span><span class="s0">:</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;offset&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">step</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">jO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">pe</span><span class="s0">?</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;band&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">FO</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">size</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">view</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">wO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">[</span><span class="s3">0</span><span class="s0">,{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`bandwidth('</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">}</span><span class="s2">')`</span><span class="s0">}]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">y</span><span class="s0">(</span><span class="s2">`Cannot use </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">scale if </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">scale is not discrete.`</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">FO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s1">ce</span><span class="s0">?</span><span class="s2">&quot;width&quot;</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">return </span><span class="s1">Ul</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">$O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;quantile&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">quantileCount</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;quantize&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">quantizeCount</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;threshold&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">+</span><span class="s3">1</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Mr</span><span class="s0">(</span><span class="s1">i</span><span class="s0">));</span><span class="s4">return </span><span class="s3">3</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">DO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=()=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">ei</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s2">`(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">- </span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">) / (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">- 1)`</span><span class="s0">;</span><span class="s4">return</span><span class="s2">`sequence(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">} </span><span class="s2">+ </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">, </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return new </span><span class="s1">Gv</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">i</span><span class="s0">()}}}</span><span class="s4">function </span><span class="s1">AO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s2">? 0 : </span><span class="s1">$</span><span class="s0">{</span><span class="s1">AO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">false</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s3">0</span><span class="s0">}}</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;bar&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;tick&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">minBandSize</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;line&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;trail&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;rule&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">minStrokeWidth</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;text&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">minFontSize</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;point&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;square&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;circle&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">minSize</span><span class="s0">}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">Qi</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">const </span><span class="s1">kO</span><span class="s0">=</span><span class="s3">.95</span><span class="s0">;</span><span class="s4">function </span><span class="s1">CO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">={</span><span class="s1">x</span><span class="s0">:</span><span class="s1">bO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;x&quot;</span><span class="s0">),</span><span class="s1">y</span><span class="s0">:</span><span class="s1">bO</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;y&quot;</span><span class="s0">)};</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;bar&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;tick&quot;</span><span class="s0">:{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">maxBandSize</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">maxBandSize</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">SO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">view</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return new </span><span class="s1">Gv</span><span class="s0">((()=&gt;</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s2">- 1`</span><span class="s0">))}}</span><span class="s4">case</span><span class="s2">&quot;line&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;trail&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;rule&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">maxStrokeWidth</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;text&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">maxFontSize</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;point&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;square&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;circle&quot;</span><span class="s0">:{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">maxSize</span><span class="s0">){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">maxSize</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">SO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">view</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Math</span><span class="s0">.</span><span class="s1">pow</span><span class="s0">(</span><span class="s1">kO</span><span class="s0">*</span><span class="s1">e</span><span class="s0">,</span><span class="s3">2</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return new </span><span class="s1">Gv</span><span class="s0">((()=&gt;</span><span class="s2">`pow(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">kO</span><span class="s0">} </span><span class="s2">* </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">, 2)`</span><span class="s0">))}}}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">Qi</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">SO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">width</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">width</span><span class="s0">.</span><span class="s1">step</span><span class="s0">:</span><span class="s1">ql</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;width&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">height</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">height</span><span class="s0">.</span><span class="s1">step</span><span class="s0">:</span><span class="s1">ql</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;height&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">x</span><span class="s0">||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">y</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">Gv</span><span class="s0">((()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">x</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">x</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">y</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">y</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">r</span><span class="s0">];</span><span class="s4">return</span><span class="s2">`min(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">}))}</span><span class="s4">return </span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">EO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">BO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">zO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">BO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">specifiedScales</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">a of N</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s1">a</span><span class="s0">];</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">a</span><span class="s0">];</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">a</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">u</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;padding&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;paddingInner&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">_o</span><span class="s0">(</span><span class="s1">p</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=</span><span class="s1">zo</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">h</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">mr</span><span class="s0">(</span><span class="s1">p</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">b</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">b</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">&amp;&amp;</span><span class="s1">b</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">f</span><span class="s0">[</span><span class="s2">&quot;timeUnit&quot;</span><span class="s0">];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">f</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;domainMax&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;domainMin&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Jr</span><span class="s0">(</span><span class="s1">u</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])||</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;temporal&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">){</span><span class="s1">c</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">Ju</span><span class="s0">(</span><span class="s1">u</span><span class="s0">[</span><span class="s1">n</span><span class="s0">],{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">timeUnit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})},</span><span class="s4">true</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">c</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">u</span><span class="s0">[</span><span class="s1">n</span><span class="s0">],</span><span class="s4">true</span><span class="s0">)}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s1">c</span><span class="s0">.</span><span class="s1">copyKeyFromObject</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">u</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n </span><span class="s4">in </span><span class="s1">PO</span><span class="s0">?</span><span class="s1">PO</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]({</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">scalePadding</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">scalePaddingInner</span><span class="s0">:</span><span class="s1">m</span><span class="s0">,</span><span class="s1">domain</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">domain</span><span class="s0">,</span><span class="s1">domainMin</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">domainMin</span><span class="s0">,</span><span class="s1">domainMax</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">domainMax</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">hasNestedOffsetScale</span><span class="s0">:</span><span class="s1">hc</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">a</span><span class="s0">),</span><span class="s1">hasSecondaryRangeChannel</span><span class="s0">:!!</span><span class="s1">r</span><span class="s0">[</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)]}):</span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">c</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)}}}}}</span><span class="s4">const </span><span class="s1">PO</span><span class="s0">={</span><span class="s1">bins</span><span class="s0">:({</span><span class="s1">model</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})=&gt;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">NO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">interpolate</span><span class="s0">:({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})=&gt;</span><span class="s1">TO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">),</span><span class="s1">nice</span><span class="s0">:({</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">domain</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">domainMin</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">domainMax</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})=&gt;</span><span class="s1">MO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">),</span><span class="s1">padding</span><span class="s0">:({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">})=&gt;</span><span class="s1">LO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">bar</span><span class="s0">),</span><span class="s1">paddingInner</span><span class="s0">:({</span><span class="s1">scalePadding</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">hasNestedOffsetScale</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})=&gt;</span><span class="s1">qO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">,</span><span class="s1">s</span><span class="s0">),</span><span class="s1">paddingOuter</span><span class="s0">:({</span><span class="s1">scalePadding</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">scalePaddingInner</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">hasNestedOffsetScale</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})=&gt;</span><span class="s1">UO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">,</span><span class="s1">s</span><span class="s0">),</span><span class="s1">reverse</span><span class="s0">:({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">return </span><span class="s1">RO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)},</span><span class="s1">zero</span><span class="s0">:({</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">domain</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">hasSecondaryRangeChannel</span><span class="s0">:</span><span class="s1">o</span><span class="s0">})=&gt;</span><span class="s1">IO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)};</span><span class="s4">function </span><span class="s1">_O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">hO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">zO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;range&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">zO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;range&quot;</span><span class="s0">){</span><span class="s1">_O</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">EO</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of N</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Pd</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;scale&quot;</span><span class="s0">,</span><span class="s1">Ed</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;range&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">step</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">-</span><span class="s1">t</span><span class="s0">.</span><span class="s1">step</span><span class="s0">}</span><span class="s4">return </span><span class="s3">0</span><span class="s0">}</span><span class="s4">return </span><span class="s3">0</span><span class="s0">})))}}</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">].</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">NO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Qy</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return new </span><span class="s1">Gv</span><span class="s0">((()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getSignalName</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">step</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">step</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">step</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">TO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s1">je</span><span class="s0">,</span><span class="s1">Fe</span><span class="s0">,</span><span class="s1">$e</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s2">&quot;nominal&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;hcl&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">MO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">){</span><span class="s4">var </span><span class="s1">a</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(((</span><span class="s1">a</span><span class="s0">=</span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">))===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">s</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">||</span><span class="s1">F</span><span class="s0">([</span><span class="s1">no</span><span class="s0">.</span><span class="s1">TIME</span><span class="s0">,</span><span class="s1">no</span><span class="s0">.</span><span class="s1">UTC</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s4">true</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">LO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">continuousPadding</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">continuousPadding</span><span class="s0">}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;bar&quot;</span><span class="s0">&amp;&amp;!(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">))){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;vertical&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;y&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">.</span><span class="s1">continuousBandSize</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">no</span><span class="s0">.</span><span class="s1">POINT</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">pointPadding</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bandPaddingInner</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">barBandPaddingInner</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">rectBandPaddingInner</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">bandWithNestedOffsetPaddingInner</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">return </span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;bar&quot;</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Kn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">no</span><span class="s0">.</span><span class="s1">BAND</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">offsetBandPaddingInner</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">UO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bandPaddingOuter</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">bandWithNestedOffsetPaddingOuter</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">no</span><span class="s0">.</span><span class="s1">BAND</span><span class="s0">){</span><span class="s4">return </span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)?{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">/2`</span><span class="s0">}:</span><span class="s1">i</span><span class="s0">/</span><span class="s3">2</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Kn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">no</span><span class="s0">.</span><span class="s1">POINT</span><span class="s0">){</span><span class="s4">return</span><span class="s3">.5</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">no</span><span class="s0">.</span><span class="s1">BAND</span><span class="s0">){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">offsetBandPaddingOuter</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">RO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">xReverse</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;descending&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">xReverse</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`!</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">xReverse</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">xReverse</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">xReverse</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;descending&quot;</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">IO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">){</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=!!</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;unaggregated&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">&gt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;size&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">yo</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)&amp;&amp;</span><span class="s1">F</span><span class="s0">([</span><span class="s1">...Un</span><span class="s0">,</span><span class="s1">...Wn</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;bar&quot;</span><span class="s0">,</span><span class="s2">&quot;area&quot;</span><span class="s0">,</span><span class="s2">&quot;line&quot;</span><span class="s0">,</span><span class="s2">&quot;trail&quot;</span><span class="s0">],</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;y&quot;</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;vertical&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;bar&quot;</span><span class="s0">,</span><span class="s2">&quot;area&quot;</span><span class="s0">],</span><span class="s1">t</span><span class="s0">)&amp;&amp;!</span><span class="s1">a</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">zero</span><span class="s0">}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">WO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">HO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">ct</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">To</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">pr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">));</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;!</span><span class="s1">No</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">gr</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">));</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">function </span><span class="s1">HO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;nominal&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">:{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;discrete&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;shape&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">tr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">))}</span><span class="s4">return</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Rn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Kn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;rect&quot;</span><span class="s0">,</span><span class="s2">&quot;bar&quot;</span><span class="s0">,</span><span class="s2">&quot;image&quot;</span><span class="s0">,</span><span class="s2">&quot;rule&quot;</span><span class="s0">],</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;band&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;band&quot;</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;arc&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e </span><span class="s4">in </span><span class="s1">In</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;band&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ga</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;band&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">xu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;((</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">tickBand</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;band&quot;</span><span class="s0">}</span><span class="s4">return</span><span class="s2">&quot;point&quot;</span><span class="s0">}</span><span class="s4">case</span><span class="s2">&quot;temporal&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;time&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;discrete&quot;</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">tr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;temporal&quot;</span><span class="s0">));</span><span class="s4">return</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">&amp;&amp;</span><span class="s1">$s</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">).</span><span class="s1">utc</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;utc&quot;</span><span class="s0">}</span><span class="s4">return</span><span class="s2">&quot;time&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Qe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">At</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;bin-ordinal&quot;</span><span class="s0">}</span><span class="s4">return</span><span class="s2">&quot;linear&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;discrete&quot;</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">tr</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">));</span><span class="s4">return</span><span class="s2">&quot;ordinal&quot;</span><span class="s0">}</span><span class="s4">return</span><span class="s2">&quot;linear&quot;</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;geojson&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">Ri</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">GO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">ignoreRange</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}={}){</span><span class="s1">YO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">Kv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of Po</span><span class="s0">){</span><span class="s1">EO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s1">_O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">YO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">=</span><span class="s1">KO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">=</span><span class="s1">QO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">KO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of ut</span><span class="s0">){</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">===</span><span class="s1">Jo</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">===</span><span class="s1">De</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">Xs</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">[</span><span class="s2">&quot;scale&quot;</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Kn</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">wn</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">hc</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Xi</span><span class="s0">(</span><span class="s1">s</span><span class="s0">))}</span><span class="s4">continue</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s4">false</span><span class="s0">){</span><span class="s1">a</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">a</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">hc</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">WO</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]=</span><span class="s4">new </span><span class="s1">gO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,</span><span class="s4">true</span><span class="s0">),{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">u</span><span class="s0">})}}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">const </span><span class="s1">VO</span><span class="s0">=</span><span class="s1">Ed</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">oo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)-</span><span class="s1">oo</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)));</span><span class="s4">function </span><span class="s1">QO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={};</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">YO</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of N</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">)){(</span><span class="s1">n</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)[</span><span class="s1">i</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">Zb</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]===</span><span class="s2">&quot;shared&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">i</span><span class="s0">].</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ro</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">Pd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s2">&quot;type&quot;</span><span class="s0">,</span><span class="s2">&quot;scale&quot;</span><span class="s0">,</span><span class="s1">VO</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s2">&quot;independent&quot;</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">}}}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of N</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s4">true</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s1">i</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]=</span><span class="s4">new </span><span class="s1">gO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">renameScale</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;name&quot;</span><span class="s0">),</span><span class="s1">n</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">var </span><span class="s1">XO</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">class </span><span class="s1">JO</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameMap</span><span class="s0">={}}</span><span class="s1">rename</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameMap</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">nameMap</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameMap</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameMap</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nameMap</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)===</span><span class="s2">&quot;unit&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)===</span><span class="s2">&quot;facet&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">nx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)===</span><span class="s2">&quot;concat&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">tx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)===</span><span class="s2">&quot;layer&quot;</span><span class="s0">}</span><span class="s4">class </span><span class="s1">ix</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">){</span><span class="s4">var </span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">correctDataNames</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">from</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">data</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">from</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lookupDataSource</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">from</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">((</span><span class="s1">i</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">from</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">data</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">from</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">lookupDataSource</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">from</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">view</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=(</span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">i</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">title</span><span class="s0">=</span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">)?{</span><span class="s1">text</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">}:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">?</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">title</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scaleNameMap</span><span class="s0">=</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">scaleNameMap</span><span class="s0">:</span><span class="s4">new </span><span class="s1">JO</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">projectionNameMap</span><span class="s0">=</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">projectionNameMap</span><span class="s0">:</span><span class="s4">new </span><span class="s1">JO</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">signalNameMap</span><span class="s0">=</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">signalNameMap</span><span class="s0">:</span><span class="s4">new </span><span class="s1">JO</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">description</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">description</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transforms</span><span class="s0">=</span><span class="s1">ud</span><span class="s0">((</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">u</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">u</span><span class="s0">:[]);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">layout</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;layer&quot;</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;unit&quot;</span><span class="s0">?{}:</span><span class="s1">Tl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">={</span><span class="s1">data</span><span class="s0">:{</span><span class="s1">sources</span><span class="s0">:</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">sources</span><span class="s0">:[],</span><span class="s1">outputNodes</span><span class="s0">:</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">outputNodes</span><span class="s0">:{},</span><span class="s1">outputNodeRefCounts</span><span class="s0">:</span><span class="s1">t</span><span class="s0">?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">outputNodeRefCounts</span><span class="s0">:{},</span><span class="s1">isFaceted</span><span class="s0">:</span><span class="s1">Ja</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">isFaceted</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">},</span><span class="s1">layoutSize</span><span class="s0">:</span><span class="s4">new </span><span class="s1">kd</span><span class="s0">,</span><span class="s1">layoutHeaders</span><span class="s0">:{</span><span class="s1">row</span><span class="s0">:{},</span><span class="s1">column</span><span class="s0">:{},</span><span class="s1">facet</span><span class="s0">:{}},</span><span class="s1">mark</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">resolve</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">scale</span><span class="s0">:{},</span><span class="s1">axis</span><span class="s0">:{},</span><span class="s1">legend</span><span class="s0">:{}},</span><span class="s1">s</span><span class="s0">?</span><span class="s1">b</span><span class="s0">(</span><span class="s1">s</span><span class="s0">):{}),</span><span class="s1">selection</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">scales</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">axes</span><span class="s0">:{},</span><span class="s1">legends</span><span class="s0">:{}}}</span><span class="s1">get width</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">)}</span><span class="s1">get height</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s2">&quot;height&quot;</span><span class="s0">)}</span><span class="s1">parse</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parseScale</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parseLayoutSize</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">renameTopLevelLayoutSizeSignal</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parseSelections</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parseProjection</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parseData</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parseAxesAndHeaders</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parseLegends</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parseMarkGroup</span><span class="s0">()}</span><span class="s1">parseScale</span><span class="s0">(){</span><span class="s1">GO</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">parseProjection</span><span class="s0">(){</span><span class="s1">Uy</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">renameTopLevelLayoutSizeSignal</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">)!==</span><span class="s2">&quot;width&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">renameSignal</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">),</span><span class="s2">&quot;width&quot;</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;height&quot;</span><span class="s0">)!==</span><span class="s2">&quot;height&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">renameSignal</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;height&quot;</span><span class="s0">),</span><span class="s2">&quot;height&quot;</span><span class="s0">)}}</span><span class="s1">parseLegends</span><span class="s0">(){</span><span class="s1">Fy</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">assembleEncodeFromView</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">style</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">XO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;style&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of N</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">assembleGroupEncodeEntry</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">={};</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">view</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleEncodeFromView</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">view</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">description</span><span class="s0">){</span><span class="s1">n</span><span class="s0">[</span><span class="s2">&quot;description&quot;</span><span class="s0">]=</span><span class="s1">Xt</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">description</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;unit&quot;</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;layer&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">width</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">),</span><span class="s1">height</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s2">&quot;height&quot;</span><span class="s0">)},</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:{})}}</span><span class="s4">return </span><span class="s1">z</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}</span><span class="s1">assembleLayout</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">layout</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">layout</span><span class="s0">,{</span><span class="s1">spacing</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">XO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;spacing&quot;</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">component</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Hb</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">layoutHeaders</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">padding</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleDefaultLayout</span><span class="s0">()),</span><span class="s1">t</span><span class="s0">),</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">titleBand</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{})}</span><span class="s1">assembleDefaultLayout</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">{}}</span><span class="s1">assembleHeaderMarks</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">layoutHeaders</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of Je</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">title</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Nb</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of _b</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">Lb</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">assembleAxes</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">lb</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">)}</span><span class="s1">assembleLegends</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">_y</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">assembleProjections</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Ny</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">assembleTitle</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">title</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:{},{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s1">XO</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,[</span><span class="s2">&quot;encoding&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">zt</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">.</span><span class="s1">title</span><span class="s0">).</span><span class="s1">nonMarkTitleProperties</span><span class="s0">),</span><span class="s1">s</span><span class="s0">),</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}}:{});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">text</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;unit&quot;</span><span class="s0">,</span><span class="s2">&quot;layer&quot;</span><span class="s0">],</span><span class="s4">this</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;middle&quot;</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">],</span><span class="s1">o</span><span class="s0">.</span><span class="s1">anchor</span><span class="s0">)){(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">frame</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">frame</span><span class="s0">=</span><span class="s2">&quot;group&quot;</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">anchor</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">anchor</span><span class="s0">=</span><span class="s2">&quot;start&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">z</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">assembleGroup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=[]){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={};</span><span class="s1">e</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleSignals</span><span class="s0">());</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">signals</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleLayout</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">layout</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">n</span><span class="s0">.</span><span class="s1">marks</span><span class="s0">=[].</span><span class="s1">concat</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleHeaderMarks</span><span class="s0">(),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleMarks</span><span class="s0">());</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">||</span><span class="s1">ex</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">)?</span><span class="s1">fO</span><span class="s0">(</span><span class="s4">this</span><span class="s0">):[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleAxes</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleLegends</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">legends</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">q</span><span class="s0">((</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">?</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s2">_`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">)+</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">getDataName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">[</span><span class="s1">e</span><span class="s0">].</span><span class="s1">toLowerCase</span><span class="s0">())}</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getDataName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">outputNodeRefCounts</span><span class="s0">;</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]||</span><span class="s3">0</span><span class="s0">)+</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ex</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Xb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Hn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;range&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;name&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">cO</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">uO</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">({</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s2">&quot;distinct&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">r</span><span class="s0">},{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">});</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">Qb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">hi</span><span class="s0">(</span><span class="s1">t</span><span class="s0">));</span><span class="s4">return null</span><span class="s0">}}}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">signalNameMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}}</span><span class="s1">lookupDataSource</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">outputNodes</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">getSource</span><span class="s0">()}</span><span class="s1">getSignalName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">signalNameMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">renameSignal</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">signalNameMap</span><span class="s0">.</span><span class="s1">rename</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">renameScale</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scaleNameMap</span><span class="s0">.</span><span class="s1">rename</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">renameProjection</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">projectionNameMap</span><span class="s0">.</span><span class="s1">rename</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">pn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">scaleNameMap</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">scaleNameMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">projectionName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;projection&quot;</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">projectionNameMap</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;projection&quot;</span><span class="s0">))){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">projectionNameMap</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;projection&quot;</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().&quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">getSelectionComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">getSelectionComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">xi</span><span class="s0">(</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">hasAxisOrientSignalRef</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">.</span><span class="s1">x</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">some</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hasOrientSignalRef</span><span class="s0">())))||((</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">.</span><span class="s1">y</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">some</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hasOrientSignalRef</span><span class="s0">())))}}</span><span class="s4">class </span><span class="s1">rx </span><span class="s4">extends </span><span class="s1">ix</span><span class="s0">{</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">={}){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">reduceFieldDef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Fc</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getMapping</span><span class="s0">(),((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}),</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">forEachFieldDef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">jc</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getMapping</span><span class="s0">(),((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">e</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}),</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">var </span><span class="s1">sx</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">class </span><span class="s1">ox </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">ox</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">=[(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">,(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">1</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s2">&quot;density&quot;</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">minsteps</span><span class="s0">==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">maxsteps</span><span class="s0">==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">steps</span><span class="s0">==</span><span class="s4">null</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">steps</span><span class="s0">=</span><span class="s3">200</span><span class="s0">}}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">density</span><span class="s0">,</span><span class="s1">...</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[]])}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`DensityTransform </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">,{</span><span class="s1">density</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">sx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;density&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;kde&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">ax </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">ax</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s4">static </span><span class="s1">make</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;invalid&quot;</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">!==</span><span class="s2">&quot;filter&quot;</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">reduceFieldDef</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">ct</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ho</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">!==</span><span class="s2">&quot;count&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">ea</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{});</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">N</span><span class="s0">(</span><span class="s1">o</span><span class="s0">).</span><span class="s1">length</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">return new </span><span class="s1">ax</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s1">N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">))}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`FilterInvalid </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">).</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;temporal&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">`(isDate(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">) || (isValid(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">) &amp;&amp; isFinite(+</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">)))`</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">`isValid(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">`isFinite(+</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),[]);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot; &amp;&amp; &quot;</span><span class="s0">)}:</span><span class="s4">null</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">ux </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">ux</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">flatten</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,as:</span><span class="s1">i</span><span class="s0">=[]}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}))}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">flatten</span><span class="s0">)}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`FlattenTransform </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">flatten</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,as:</span><span class="s1">n</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;flatten&quot;</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,as:</span><span class="s1">n</span><span class="s0">};</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">cx </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">cx</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">=[(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s2">&quot;key&quot;</span><span class="s0">,(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">1</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">]}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">fold</span><span class="s0">)}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`FoldTransform </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">fold</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,as:</span><span class="s1">n</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;fold&quot;</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,as:</span><span class="s1">n</span><span class="s0">};</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">lx </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">lx</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">geojson</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">parseAll</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">&amp;&amp;!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">.</span><span class="s1">isFit</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of</span><span class="s0">[[</span><span class="s1">Oe</span><span class="s0">,</span><span class="s1">ve</span><span class="s0">],[</span><span class="s1">we</span><span class="s0">,</span><span class="s1">xe</span><span class="s0">]]){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">:</span><span class="s1">pu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">datum</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}:</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">[</span><span class="s2">&quot;value&quot;</span><span class="s0">]}</span><span class="s2">`</span><span class="s0">}:</span><span class="s1">undefined</span><span class="s0">}));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]||</span><span class="s1">r</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">lx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s4">null</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`geojson_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">++}</span><span class="s2">`</span><span class="s0">))}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">channelHasField</span><span class="s0">(</span><span class="s1">De</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">typedFieldDef</span><span class="s0">(</span><span class="s1">De</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">Xs</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">lx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">null</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`geojson_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">++}</span><span class="s2">`</span><span class="s0">))}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">geojson</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=((</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[]).</span><span class="s1">filter</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">);</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">geojson</span><span class="s0">?[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">geojson</span><span class="s0">]:[],</span><span class="s1">...n</span><span class="s0">])}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`GeoJSON </span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">geojson</span><span class="s0">} </span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">...</span><span class="s4">this</span><span class="s0">.</span><span class="s1">geojson</span><span class="s0">?[{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;filter&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">`isValid(datum[&quot;</span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">geojson</span><span class="s0">}</span><span class="s2">&quot;])`</span><span class="s0">}]:[],</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;geojson&quot;</span><span class="s0">},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">?{</span><span class="s1">fields</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">}:{}),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">geojson</span><span class="s0">?{</span><span class="s1">geojson</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">geojson</span><span class="s0">}:{}),{</span><span class="s1">signal</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">signal</span><span class="s0">})]}}</span><span class="s4">class </span><span class="s1">fx </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">fx</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">),</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">as</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">as</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s4">static </span><span class="s1">parseAll</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">projectionName</span><span class="s0">()){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of</span><span class="s0">[[</span><span class="s1">Oe</span><span class="s0">,</span><span class="s1">ve</span><span class="s0">],[</span><span class="s1">we</span><span class="s0">,</span><span class="s1">xe</span><span class="s0">]]){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">:</span><span class="s1">pu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">datum</span><span class="s0">}</span><span class="s2">`</span><span class="s0">}:</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">[</span><span class="s2">&quot;value&quot;</span><span class="s0">]}</span><span class="s2">`</span><span class="s0">}:</span><span class="s1">undefined</span><span class="s0">}));</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]===</span><span class="s1">we</span><span class="s0">?</span><span class="s2">&quot;2&quot;</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]||</span><span class="s1">i</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">fx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">projectionName</span><span class="s0">(),</span><span class="s1">i</span><span class="s0">,[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`x</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">`</span><span class="s0">),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`y</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)])}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">))}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Geopoint </span><span class="s1">$</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">)} </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;geopoint&quot;</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">,as:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">as</span><span class="s0">}}}</span><span class="s4">class </span><span class="s1">dx </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">dx</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">key</span><span class="s0">,</span><span class="s1">...</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[]])}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">])}</span><span class="s1">processSequence</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">start</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">stop</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">step</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">...i</span><span class="s0">?[</span><span class="s1">i</span><span class="s0">]:[]].</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`sequence(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">r</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">}}</span><span class="s4">static </span><span class="s1">makeFromTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">dx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">static </span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">x</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">y</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">method</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">frame</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">keyvals</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">;</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">$c</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return new </span><span class="s1">dx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">impute</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,</span><span class="s1">key</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">field</span><span class="s0">},</span><span class="s1">a</span><span class="s0">?{</span><span class="s1">method</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}:{}),</span><span class="s1">u</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}:{}),</span><span class="s1">c</span><span class="s0">?{</span><span class="s1">frame</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}:{}),</span><span class="s1">l</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">keyvals</span><span class="s0">:</span><span class="s1">l</span><span class="s0">}:{}),</span><span class="s1">f</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?{</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}:{}))}</span><span class="s4">return null</span><span class="s0">}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Impute </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">impute</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">key</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">keyvals</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">method</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">frame</span><span class="s0">:</span><span class="s1">o</span><span class="s0">=[</span><span class="s4">null</span><span class="s0">,</span><span class="s4">null</span><span class="s0">]}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;impute&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">key</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">t</span><span class="s0">?{</span><span class="s1">keyvals</span><span class="s0">:</span><span class="s1">Rf</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">processSequence</span><span class="s0">(</span><span class="s1">t</span><span class="s0">):</span><span class="s1">t</span><span class="s0">}:{}),{</span><span class="s1">method</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{}),{</span><span class="s1">value</span><span class="s0">:!</span><span class="s1">i</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;value&quot;</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s4">null</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s2">&quot;value&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;window&quot;</span><span class="s0">,as:[</span><span class="s2">`imputed_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">_value`</span><span class="s0">],</span><span class="s1">ops</span><span class="s0">:[</span><span class="s1">i</span><span class="s0">],</span><span class="s1">fields</span><span class="s0">:[</span><span class="s1">e</span><span class="s0">],</span><span class="s1">frame</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">ignorePeers</span><span class="s0">:</span><span class="s4">false</span><span class="s0">},</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{});</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;formula&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">`datum.</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">} </span><span class="s2">=== null ? datum.imputed_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">_value : datum.</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,as:</span><span class="s1">e</span><span class="s0">};</span><span class="s4">return</span><span class="s0">[</span><span class="s1">a</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">]}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">[</span><span class="s1">a</span><span class="s0">]}}}</span><span class="s4">var </span><span class="s1">px</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">class </span><span class="s1">gx </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">gx</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">=[(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">on</span><span class="s0">,(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">1</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">loess</span><span class="s0">]}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">loess</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">on</span><span class="s0">,</span><span class="s1">...</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[]])}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`LoessTransform </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">,{</span><span class="s1">loess</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">on</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">px</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;loess&quot;</span><span class="s0">,</span><span class="s2">&quot;on&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;loess&quot;</span><span class="s0">,</span><span class="s1">x</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">mx </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">mx</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">secondary</span><span class="s0">)}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">secondary</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">static </span><span class="s1">make</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">sources</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">from</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Wf</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Lx</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">data</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">pv</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">data</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`lookup_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">`</span><span class="s0">);</span><span class="s1">o</span><span class="s0">=</span><span class="s4">new </span><span class="s1">np</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Lookup</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">outputNodeRefCounts</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">outputNodes</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">o</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Hf</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">param</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({as:</span><span class="s1">e</span><span class="s0">},</span><span class="s1">t</span><span class="s0">);</span><span class="s4">let </span><span class="s1">i</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getSelectionComponent</span><span class="s0">(</span><span class="s1">q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">Fi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">materialized</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">$i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}}</span><span class="s4">return new </span><span class="s1">mx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">getSource</span><span class="s0">())}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">lookup</span><span class="s0">])}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">?(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">):</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">from</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`Lookup </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">({</span><span class="s1">transform</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">,</span><span class="s1">secondary</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">secondary</span><span class="s0">})}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">from</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">values</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">from</span><span class="s0">.</span><span class="s1">fields</span><span class="s0">},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">?{as:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)}:{})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">zi</span><span class="s0">);</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;_lookup&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">={as:[</span><span class="s1">n</span><span class="s0">]}}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;lookup&quot;</span><span class="s0">,</span><span class="s1">from</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">secondary</span><span class="s0">,</span><span class="s1">key</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">from</span><span class="s0">.</span><span class="s1">key</span><span class="s0">,</span><span class="s1">fields</span><span class="s0">:[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">lookup</span><span class="s0">]},</span><span class="s1">e</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">default</span><span class="s0">?{</span><span class="s4">default</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">default</span><span class="s0">}:{})}}</span><span class="s4">var </span><span class="s1">hx</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">class </span><span class="s1">bx </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">bx</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">=[(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s2">&quot;prob&quot;</span><span class="s0">,(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">1</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s2">&quot;value&quot;</span><span class="s0">]}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">quantile</span><span class="s0">,</span><span class="s1">...</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[]])}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`QuantileTransform </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">,{</span><span class="s1">quantile</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">hx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;quantile&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;quantile&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">yx</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">class </span><span class="s1">vx </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">vx</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">b</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">=[(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">on</span><span class="s0">,(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">[</span><span class="s3">1</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">regression</span><span class="s0">]}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">regression</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">on</span><span class="s0">,</span><span class="s1">...</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[]])}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">as</span><span class="s0">)}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`RegressionTransform </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">,{</span><span class="s1">regression</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">on</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">yx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,[</span><span class="s2">&quot;regression&quot;</span><span class="s0">,</span><span class="s2">&quot;on&quot;</span><span class="s0">]);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;regression&quot;</span><span class="s0">,</span><span class="s1">x</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">i</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">Ox </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Ox</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">addDimensions</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">=</span><span class="s1">C</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:[]).</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">))}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">([</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">pivot</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">...</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">groupby</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[]])}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`PivotTransform </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">pivot</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">limit</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">op</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;pivot&quot;</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">},</span><span class="s1">i</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">limit</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}:{}),</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">op</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{}),</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?{</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{})}}</span><span class="s4">class </span><span class="s1">xx </span><span class="s4">extends </span><span class="s1">ep</span><span class="s0">{</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">xx</span><span class="s0">(</span><span class="s4">null</span><span class="s0">,</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">))}</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}</span><span class="s1">dependentFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">producedFields</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Set</span><span class="s0">}</span><span class="s1">hash</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">`SampleTransform </span><span class="s1">$</span><span class="s0">{</span><span class="s1">w</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">assemble</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;sample&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">sample</span><span class="s0">}}}</span><span class="s4">function </span><span class="s1">wx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">pv</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">isGenerator</span><span class="s0">&amp;&amp;!</span><span class="s1">zd</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">source</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">transform</span><span class="s0">:[]};</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">cv</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">parent </span><span class="s4">instanceof </span><span class="s1">pv</span><span class="s0">&amp;&amp;!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">format</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">format</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:{}),{</span><span class="s1">parse</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">assembleFormatParse</span><span class="s0">()});</span><span class="s1">r</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...i</span><span class="s0">.</span><span class="s1">assembleTransforms</span><span class="s0">(</span><span class="s4">true</span><span class="s0">))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...i</span><span class="s0">.</span><span class="s1">assembleTransforms</span><span class="s0">())}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">iv</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s2">`data_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">++}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">||</span><span class="s1">r</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">i</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...i</span><span class="s0">.</span><span class="s1">assemble</span><span class="s0">());</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">fv</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">dv</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">ax</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Zh</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Cb</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">fx</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">tv</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">mx</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Nv</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Bv</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">cx</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">ux</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">ox</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">gx</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">bx</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">vx</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">lv</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">xx</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Ox</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">assemble</span><span class="s0">())}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">Zy</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">ip</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">dx</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">zv</span><span class="s0">||</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">lx</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...i</span><span class="s0">.</span><span class="s1">assemble</span><span class="s0">())}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">setSource</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">parent </span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">setSource</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s2">`data_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">++}</span><span class="s2">`</span><span class="s0">}</span><span class="s1">i</span><span class="s0">.</span><span class="s1">setSource</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()===</span><span class="s3">1</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">source</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">transform</span><span class="s0">:[]};</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}}</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">numChildren</span><span class="s0">()){</span><span class="s4">case </span><span class="s3">0</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i </span><span class="s4">instanceof </span><span class="s1">np</span><span class="s0">&amp;&amp;(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">||</span><span class="s1">r</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case </span><span class="s3">1</span><span class="s0">:</span><span class="s1">t</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">children</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">r</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:{</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">=</span><span class="s2">`data_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">++}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">name</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">||</span><span class="s1">r</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">source</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of i</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">source</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">transform</span><span class="s0">:[]};</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">break</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">jx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">wx</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">t</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,{</span><span class="s1">source</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">name</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">transform</span><span class="s0">:[]})}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Fx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">wx</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">u of e</span><span class="s0">.</span><span class="s1">sources</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">u</span><span class="s0">.</span><span class="s1">hasName</span><span class="s0">()){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">dataName</span><span class="s0">=</span><span class="s2">`source_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">++}</span><span class="s2">`</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">assemble</span><span class="s0">();</span><span class="s1">s</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">u of r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">u</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">}}</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">u</span><span class="s0">,</span><span class="s1">c</span><span class="s0">]</span><span class="s1">of r</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">()){</span><span class="s4">if</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:[]).</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">&amp;&amp;!</span><span class="s1">c</span><span class="s0">.</span><span class="s1">source</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">a</span><span class="s0">++,</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)[</span><span class="s3">0</span><span class="s0">])}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">u of r</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of</span><span class="s0">(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">transform</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:[]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;lookup&quot;</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">from</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">outputNodes</span><span class="s0">[</span><span class="s1">n</span><span class="s0">.</span><span class="s1">from</span><span class="s0">].</span><span class="s1">getSource</span><span class="s0">()}}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">u of r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">name </span><span class="s4">in </span><span class="s1">n</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">values</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">u</span><span class="s0">.</span><span class="s1">name</span><span class="s0">]}}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;top&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;left&quot;</span><span class="s0">||</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;header&quot;</span><span class="s0">}</span><span class="s4">return</span><span class="s2">&quot;footer&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Dx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of Je</span><span class="s0">){</span><span class="s1">Ax</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">Cx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;x&quot;</span><span class="s0">);</span><span class="s1">Cx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;y&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ax</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">child</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">component</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">channelHasField</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">Bb</span><span class="s0">(</span><span class="s2">&quot;title&quot;</span><span class="s0">,</span><span class="s4">null</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">let </span><span class="s1">l</span><span class="s0">=</span><span class="s1">Nu</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">allowDisabling</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">includeDefault</span><span class="s0">:</span><span class="s1">c</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||!!</span><span class="s1">c</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutHeaders</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">title</span><span class="s0">){</span><span class="s1">l</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">l</span><span class="s0">)?</span><span class="s1">l</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;, &quot;</span><span class="s0">):</span><span class="s1">l</span><span class="s0">;</span><span class="s1">l</span><span class="s0">+=</span><span class="s2">` / </span><span class="s1">$</span><span class="s0">{</span><span class="s1">o</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutHeaders</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">title</span><span class="s0">}</span><span class="s2">`</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutHeaders</span><span class="s0">[</span><span class="s1">n</span><span class="s0">].</span><span class="s1">title</span><span class="s0">=</span><span class="s4">null</span><span class="s0">}</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">Bb</span><span class="s0">(</span><span class="s2">&quot;labelOrient&quot;</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">header</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">header</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">?</span><span class="s1">X</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">header</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">labels</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">header</span><span class="s0">.</span><span class="s1">labels</span><span class="s0">,</span><span class="s4">true</span><span class="s0">):</span><span class="s4">false</span><span class="s0">;</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">F</span><span class="s0">([</span><span class="s2">&quot;bottom&quot;</span><span class="s0">,</span><span class="s2">&quot;right&quot;</span><span class="s0">],</span><span class="s1">f</span><span class="s0">)?</span><span class="s2">&quot;footer&quot;</span><span class="s0">:</span><span class="s2">&quot;header&quot;</span><span class="s0">;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">layoutHeaders</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]={</span><span class="s1">title</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">header</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">?</span><span class="s1">l</span><span class="s0">:</span><span class="s4">null</span><span class="s0">,</span><span class="s1">facetFieldDef</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,[</span><span class="s1">p</span><span class="s0">]:</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;facet&quot;</span><span class="s0">?[]:[</span><span class="s1">kx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">d</span><span class="s0">)]}}}</span><span class="s4">function </span><span class="s1">kx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s2">&quot;height&quot;</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s0">{</span><span class="s1">labels</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">sizeSignal</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutSize</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">getSizeSignalRef</span><span class="s0">(</span><span class="s1">i</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">axes</span><span class="s0">:[]}}</span><span class="s4">function </span><span class="s1">Cx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">child</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">layoutHeaders</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">resolve</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">ey</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s2">&quot;shared&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;column&quot;</span><span class="s0">:</span><span class="s2">&quot;row&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of i</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">$x</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;orient&quot;</span><span class="s0">));(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=[</span><span class="s1">kx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)];</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">ub</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s2">&quot;main&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">,{</span><span class="s1">header</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">o</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s3">0</span><span class="s0">].</span><span class="s1">axes</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">mainExtracted</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{}}}</span><span class="s4">function </span><span class="s1">Sx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">Bx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">Px</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;width&quot;</span><span class="s0">);</span><span class="s1">Px</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;height&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">Bx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">layout</span><span class="s0">.</span><span class="s1">columns</span><span class="s0">===</span><span class="s3">1</span><span class="s0">?</span><span class="s2">&quot;width&quot;</span><span class="s0">:</span><span class="s2">&quot;childWidth&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">layout</span><span class="s0">.</span><span class="s1">columns</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s2">&quot;height&quot;</span><span class="s0">:</span><span class="s2">&quot;childHeight&quot;</span><span class="s0">;</span><span class="s1">Px</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s1">Px</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Bx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parseLayoutSize</span><span class="s0">()}}</span><span class="s4">function </span><span class="s1">Px</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Xb</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Hn</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutSize</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">u of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutSize</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">Zb</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;independent&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s2">&quot;step&quot;</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;independent&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">value</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">break</span><span class="s0">}</span><span class="s1">a</span><span class="s0">=</span><span class="s1">Pd</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">renameSignal</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">i</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s1">t</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutSize</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s2">&quot;merged&quot;</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)}</span><span class="s1">o</span><span class="s0">.</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">.</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">})}}</span><span class="s4">function </span><span class="s1">_x</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">size</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">component</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of Un</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s1">t</span><span class="s0">.</span><span class="s1">layoutSize</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s2">&quot;step&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">zx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">layoutSize</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">zx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;width&quot;</span><span class="s0">?</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;range&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Ul</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">view</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)||</span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;step&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">Ll</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">view</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">hasProjection</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">===</span><span class="s2">&quot;arc&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ll</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">view</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Ul</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">view</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Nx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Du</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">`by_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">},</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:{}))}</span><span class="s4">class </span><span class="s1">Tx </span><span class="s4">extends </span><span class="s1">rx</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;facet&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">=</span><span class="s1">Uw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">spec</span><span class="s0">,</span><span class="s4">this</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;child&quot;</span><span class="s0">),</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">=[</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initFacet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">)}</span><span class="s1">initFacet</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Qa</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">facet</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initFacetFieldDef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;facet&quot;</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(![</span><span class="s1">oe</span><span class="s0">,</span><span class="s1">ae</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Qi</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s2">&quot;facet&quot;</span><span class="s0">));</span><span class="s4">break</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">field</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Ki</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">));</span><span class="s4">break</span><span class="s0">}</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initFacetFieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">initFacetFieldDef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Gu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">header</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">header</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">header</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">header</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">header</span><span class="s0">=</span><span class="s4">null</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">channelHasField</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s1">parseData</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">Rx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">parseData</span><span class="s0">()}</span><span class="s1">parseLayoutSize</span><span class="s0">(){</span><span class="s1">Bx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">parseSelections</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">parseSelections</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">}</span><span class="s1">parseMarkGroup</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">parseMarkGroup</span><span class="s0">()}</span><span class="s1">parseAxesAndHeaders</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">parseAxesAndHeaders</span><span class="s0">();</span><span class="s1">Dx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">assembleSelectionTopLevelSignals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">assembleSelectionTopLevelSignals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">assembleSignals</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">assembleSignals</span><span class="s0">();</span><span class="s4">return</span><span class="s0">[]}</span><span class="s1">assembleSelectionData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">assembleSelectionData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">getHeaderLayoutMixins</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of Je</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of zb</span><span class="s0">){</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutHeaders</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s1">s</span><span class="s0">];</span><span class="s4">const</span><span class="s0">{</span><span class="s1">facetFieldDef</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Bb</span><span class="s0">(</span><span class="s2">&quot;titleOrient&quot;</span><span class="s0">,</span><span class="s1">u</span><span class="s0">.</span><span class="s1">header</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">config</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">([</span><span class="s2">&quot;right&quot;</span><span class="s0">,</span><span class="s2">&quot;bottom&quot;</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Eb</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">titleAnchor</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">titleAnchor</span><span class="s0">={};</span><span class="s1">i</span><span class="s0">.</span><span class="s1">titleAnchor</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s2">&quot;end&quot;</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">a</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s2">&quot;height&quot;</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;header&quot;</span><span class="s0">?</span><span class="s2">&quot;headerBand&quot;</span><span class="s0">:</span><span class="s2">&quot;footerBand&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s2">&quot;facet&quot;</span><span class="s0">&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutSize</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">[</span><span class="s1">a</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">i</span><span class="s0">[</span><span class="s1">a</span><span class="s0">]={};</span><span class="s1">i</span><span class="s0">[</span><span class="s1">a</span><span class="s0">][</span><span class="s1">r</span><span class="s0">]=</span><span class="s3">.5</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">title</span><span class="s0">){(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">={};</span><span class="s1">i</span><span class="s0">.</span><span class="s1">offset</span><span class="s0">[</span><span class="s1">r</span><span class="s0">===</span><span class="s2">&quot;row&quot;</span><span class="s0">?</span><span class="s2">&quot;rowTitle&quot;</span><span class="s0">:</span><span class="s2">&quot;columnTitle&quot;</span><span class="s0">]=</span><span class="s3">10</span><span class="s0">}}}}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">assembleDefaultLayout</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">column</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">row</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">columnDistinctSignal</span><span class="s0">():</span><span class="s1">n</span><span class="s0">?</span><span class="s3">1</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;all&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">x</span><span class="s0">===</span><span class="s2">&quot;independent&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;none&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">.</span><span class="s1">y</span><span class="s0">===</span><span class="s2">&quot;independent&quot;</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s2">&quot;none&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getHeaderLayoutMixins</span><span class="s0">()),</span><span class="s1">t</span><span class="s0">?{</span><span class="s1">columns</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{}),{</span><span class="s1">bounds</span><span class="s0">:</span><span class="s2">&quot;full&quot;</span><span class="s0">,</span><span class="s1">align</span><span class="s0">:</span><span class="s1">i</span><span class="s0">})}</span><span class="s1">assembleLayoutSignals</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">assembleLayoutSignals</span><span class="s0">()}</span><span class="s1">columnDistinctSignal</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent </span><span class="s4">instanceof </span><span class="s1">Tx</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;column_domain&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">signal</span><span class="s0">:</span><span class="s2">`length(data('</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">'))`</span><span class="s0">}}}</span><span class="s1">assembleGroupStyle</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">assembleGroup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent </span><span class="s4">instanceof </span><span class="s1">Tx</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s4">this</span><span class="s0">.</span><span class="s1">channelHasField</span><span class="s0">(</span><span class="s2">&quot;column&quot;</span><span class="s0">)?{</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:{</span><span class="s1">columns</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">.</span><span class="s1">column</span><span class="s0">,{</span><span class="s1">prefix</span><span class="s0">:</span><span class="s2">&quot;distinct&quot;</span><span class="s0">})}}}}:{}),</span><span class="s4">super</span><span class="s0">.</span><span class="s1">assembleGroup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">assembleGroup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">getCardinalityAggregateForChild</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child </span><span class="s4">instanceof </span><span class="s1">Tx</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">channelHasField</span><span class="s0">(</span><span class="s2">&quot;column&quot;</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">.</span><span class="s1">column</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">&quot;distinct&quot;</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">`distinct_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of Un</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">merged</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;range&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">mo</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)&amp;&amp;</span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">cO</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">child</span><span class="s0">,</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">uO</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">&quot;distinct&quot;</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">`distinct_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">hi</span><span class="s0">(</span><span class="s1">i</span><span class="s0">))}}}}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ops</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,as:</span><span class="s1">t</span><span class="s0">}}</span><span class="s1">assembleFacet</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">data</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">facetRoot</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">row</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">ops</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,as:</span><span class="s1">a</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getCardinalityAggregateForChild</span><span class="s0">();</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">l of Je</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">[</span><span class="s1">l</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s4">const</span><span class="s0">{</span><span class="s1">bin</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">}))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">op</span><span class="s0">:</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Wa</span><span class="s0">}=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">Nx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">c</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">&quot;max&quot;</span><span class="s0">);</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Sb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">l</span><span class="s0">);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s2">&quot;max&quot;</span><span class="s0">);</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=!!</span><span class="s1">t</span><span class="s0">&amp;&amp;!!</span><span class="s1">i</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">data</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">u</span><span class="s0">},</span><span class="s1">c</span><span class="s0">||</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?{</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">c</span><span class="s0">?{</span><span class="s1">cross</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}:{}),</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">?{</span><span class="s1">fields</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">ops</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,as:</span><span class="s1">a</span><span class="s0">}:{})}:{})}</span><span class="s1">facetSortFields</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Nx</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">})]}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Sb</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">})]}</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">})]}</span><span class="s4">return</span><span class="s0">[]}</span><span class="s1">facetSortOrder</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=(</span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">order</span><span class="s0">:!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">)||</span><span class="s2">&quot;ascending&quot;</span><span class="s0">;</span><span class="s4">return</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}</span><span class="s4">return</span><span class="s0">[]}</span><span class="s1">assembleLabelTitle</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">facet</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ub</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">,</span><span class="s2">&quot;facet&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">row</span><span class="s0">:[</span><span class="s2">&quot;top&quot;</span><span class="s0">,</span><span class="s2">&quot;bottom&quot;</span><span class="s0">],</span><span class="s1">column</span><span class="s0">:[</span><span class="s2">&quot;left&quot;</span><span class="s0">,</span><span class="s2">&quot;right&quot;</span><span class="s0">]};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of _b</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Bb</span><span class="s0">(</span><span class="s2">&quot;labelOrient&quot;</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">header</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">].</span><span class="s1">includes</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Ub</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">],</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">assembleMarks</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">child</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">facetRoot</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">jx</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleGroupEncodeEntry</span><span class="s0">(</span><span class="s4">false</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleLabelTitle</span><span class="s0">()||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleTitle</span><span class="s0">();</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleGroupStyle</span><span class="s0">();</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;cell&quot;</span><span class="s0">),</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;group&quot;</span><span class="s0">},</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">title</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{}),</span><span class="s1">s</span><span class="s0">?{</span><span class="s1">style</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}:{}),{</span><span class="s1">from</span><span class="s0">:{</span><span class="s1">facet</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">assembleFacet</span><span class="s0">()},</span><span class="s1">sort</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Je</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">facetSortFields</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">flat</span><span class="s0">(),</span><span class="s1">order</span><span class="s0">:</span><span class="s1">Je</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">facetSortOrder</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))).</span><span class="s1">flat</span><span class="s0">()}}),</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{}),</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}}:{}),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleGroup</span><span class="s0">(</span><span class="s1">Yd</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,[])));</span><span class="s4">return</span><span class="s0">[</span><span class="s1">o</span><span class="s0">]}</span><span class="s1">getMapping</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Mx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">row</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">column</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">r of</span><span class="s0">[</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">)){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">op</span><span class="s0">:</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Wa</span><span class="s0">}=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Bv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">joinaggregate</span><span class="s0">:[{</span><span class="s1">op</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,as:</span><span class="s1">Nx</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">,{</span><span class="s1">forAs</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}],</span><span class="s1">groupby</span><span class="s0">:[</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)]})}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Lx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">data</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasName</span><span class="s0">()&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">!==</span><span class="s1">o</span><span class="s0">.</span><span class="s1">dataName</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;format&quot;</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">mesh</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">format</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">feature</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">&amp;&amp;</span><span class="s1">u</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;format&quot;</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">feature</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s1">c</span><span class="s0">||</span><span class="s1">u</span><span class="s0">)&amp;&amp;</span><span class="s1">c</span><span class="s0">!==</span><span class="s1">u</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">format</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">mesh</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s1">a</span><span class="s0">||</span><span class="s1">l</span><span class="s0">)&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">l</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Nd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">Nd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">values</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">values</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">zd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">zd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">url</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">url</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Td</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s1">o</span><span class="s0">.</span><span class="s1">dataName</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}}}</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">||!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">pv</span><span class="s0">({</span><span class="s1">values</span><span class="s0">:[]});</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Lx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Md</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">format</span><span class="s0">=</span><span class="s1">A</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">format</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">format</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">hasName</span><span class="s0">()&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">name</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">dataName</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">name</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">pv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">facetRoot</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">facetRoot</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">main</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Ux</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of n</span><span class="s0">.</span><span class="s1">transforms</span><span class="s0">){</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">let </span><span class="s1">u</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">nd</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Cb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Uf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">ov</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">cv</span><span class="s0">.</span><span class="s1">makeWithAncestors</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{},</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">e</span><span class="s0">;</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Zh</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">td</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s1">Zy</span><span class="s0">.</span><span class="s1">makeFromTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;number&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">rd</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;date&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">field</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">cv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{[</span><span class="s1">o</span><span class="s0">.</span><span class="s1">field</span><span class="s0">]:</span><span class="s1">a</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">field</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)}</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s1">ip</span><span class="s0">.</span><span class="s1">makeFromTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">sd</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s1">tv</span><span class="s0">.</span><span class="s1">makeFromTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;number&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tg</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">lv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">If</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s1">mx</span><span class="s0">.</span><span class="s1">make</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">s</span><span class="s0">++);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Jf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Nv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;number&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Zf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Bv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;number&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">od</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s1">zv</span><span class="s0">.</span><span class="s1">makeFromTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">ad</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">cx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">ed</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">ux</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Gf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Ox</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Xf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">xx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">id</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s1">dx</span><span class="s0">.</span><span class="s1">makeFromTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Yf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">ox</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Kf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">bx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Vf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">vx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Qf</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">gx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;derived&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">_i</span><span class="s0">(</span><span class="s1">o</span><span class="s0">));</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of</span><span class="s0">(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">producedFields</span><span class="s0">())!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:[]){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)}}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Rx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">l</span><span class="s0">;</span><span class="s4">let </span><span class="s1">f</span><span class="s0">=</span><span class="s1">qx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">sources</span><span class="s0">);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">outputNodes</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">outputNodeRefCounts</span><span class="s0">:</span><span class="s1">p</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">;</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">;</span><span class="s4">const </span><span class="s1">m</span><span class="s0">=</span><span class="s1">g</span><span class="s0">&amp;&amp;(</span><span class="s1">Md</span><span class="s0">(</span><span class="s1">g</span><span class="s0">)||</span><span class="s1">zd</span><span class="s0">(</span><span class="s1">g</span><span class="s0">)||</span><span class="s1">Nd</span><span class="s0">(</span><span class="s1">g</span><span class="s0">));</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=!</span><span class="s1">m</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">.</span><span class="s1">ancestorParse</span><span class="s0">.</span><span class="s1">clone</span><span class="s0">():</span><span class="s4">new </span><span class="s1">_d</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Md</span><span class="s0">(</span><span class="s1">g</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ld</span><span class="s0">(</span><span class="s1">g</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=</span><span class="s4">new </span><span class="s1">dv</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">g</span><span class="s0">.</span><span class="s1">sequence</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ud</span><span class="s0">(</span><span class="s1">g</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=</span><span class="s4">new </span><span class="s1">fv</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">g</span><span class="s0">.</span><span class="s1">graticule</span><span class="s0">)}</span><span class="s1">h</span><span class="s0">.</span><span class="s1">parseNothing</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">=</span><span class="s1">g</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">g</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">g</span><span class="s0">.</span><span class="s1">format</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">){</span><span class="s1">h</span><span class="s0">.</span><span class="s1">parseNothing</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s1">f</span><span class="s0">=(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">cv</span><span class="s0">.</span><span class="s1">makeExplicit</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">h</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">t</span><span class="s0">:</span><span class="s1">f</span><span class="s0">;</span><span class="s1">f</span><span class="s0">=</span><span class="s4">new </span><span class="s1">lv</span><span class="s0">(</span><span class="s1">f</span><span class="s0">);</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">&amp;&amp;</span><span class="s1">tx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">ex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">b</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Zy</span><span class="s0">.</span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">transforms</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">Ux</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">h</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">y</span><span class="s0">=</span><span class="s1">uv</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">v</span><span class="s0">=</span><span class="s1">av</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">f</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">cv</span><span class="s0">.</span><span class="s1">makeWithAncestors</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,{},</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">y</span><span class="s0">),</span><span class="s1">v</span><span class="s0">),</span><span class="s1">h</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">f</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">lx</span><span class="s0">.</span><span class="s1">parseAll</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s1">f</span><span class="s0">=</span><span class="s1">fx</span><span class="s0">.</span><span class="s1">parseAll</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">ex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">b</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">=</span><span class="s1">Zy</span><span class="s0">.</span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}</span><span class="s1">f</span><span class="s0">=(</span><span class="s1">o</span><span class="s0">=</span><span class="s1">ip</span><span class="s0">.</span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">o</span><span class="s0">:</span><span class="s1">f</span><span class="s0">;</span><span class="s1">f</span><span class="s0">=</span><span class="s1">Cb</span><span class="s0">.</span><span class="s1">parseAllForSortIndex</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">O</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Raw</span><span class="s0">);</span><span class="s4">const </span><span class="s1">x</span><span class="s0">=</span><span class="s4">new </span><span class="s1">np</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">O</span><span class="s0">,</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Raw</span><span class="s0">,</span><span class="s1">p</span><span class="s0">);</span><span class="s1">d</span><span class="s0">[</span><span class="s1">O</span><span class="s0">]=</span><span class="s1">x</span><span class="s0">;</span><span class="s1">f</span><span class="s0">=</span><span class="s1">x</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">tv</span><span class="s0">.</span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tg</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=</span><span class="s4">new </span><span class="s1">lv</span><span class="s0">(</span><span class="s1">f</span><span class="s0">)}}</span><span class="s1">f</span><span class="s0">=(</span><span class="s1">a</span><span class="s0">=</span><span class="s1">dx</span><span class="s0">.</span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">a</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">f</span><span class="s0">;</span><span class="s1">f</span><span class="s0">=(</span><span class="s1">u</span><span class="s0">=</span><span class="s1">zv</span><span class="s0">.</span><span class="s1">makeFromEncoding</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">u</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">u</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=(</span><span class="s1">c</span><span class="s0">=</span><span class="s1">ax</span><span class="s0">.</span><span class="s1">make</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">c</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}</span><span class="s4">const </span><span class="s1">w</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">);</span><span class="s4">const </span><span class="s1">j</span><span class="s0">=</span><span class="s4">new </span><span class="s1">np</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">w</span><span class="s0">,</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">,</span><span class="s1">p</span><span class="s0">);</span><span class="s1">d</span><span class="s0">[</span><span class="s1">w</span><span class="s0">]=</span><span class="s1">j</span><span class="s0">;</span><span class="s1">f</span><span class="s0">=</span><span class="s1">j</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ZO</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">ib</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">j</span><span class="s0">)}</span><span class="s4">let </span><span class="s1">F</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ex</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;facet&quot;</span><span class="s0">);</span><span class="s1">f</span><span class="s0">=(</span><span class="s1">l</span><span class="s0">=</span><span class="s1">Mx</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">facet</span><span class="s0">))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">l</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">l</span><span class="s0">:</span><span class="s1">f</span><span class="s0">;</span><span class="s1">F</span><span class="s0">=</span><span class="s4">new </span><span class="s1">iv</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">j</span><span class="s0">.</span><span class="s1">getSource</span><span class="s0">());</span><span class="s1">d</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">F</span><span class="s0">}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">),{</span><span class="s1">outputNodes</span><span class="s0">:</span><span class="s1">d</span><span class="s0">,</span><span class="s1">outputNodeRefCounts</span><span class="s0">:</span><span class="s1">p</span><span class="s0">,</span><span class="s1">raw</span><span class="s0">:</span><span class="s1">x</span><span class="s0">,</span><span class="s1">main</span><span class="s0">:</span><span class="s1">j</span><span class="s0">,</span><span class="s1">facetRoot</span><span class="s0">:</span><span class="s1">F</span><span class="s0">,</span><span class="s1">ancestorParse</span><span class="s0">:</span><span class="s1">h</span><span class="s0">})}</span><span class="s4">class </span><span class="s1">Ix </span><span class="s4">extends </span><span class="s1">ix</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">;</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;concat&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(((</span><span class="s1">s</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">x</span><span class="s0">)===</span><span class="s2">&quot;shared&quot;</span><span class="s0">||((</span><span class="s1">a</span><span class="s0">=(</span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">a</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">a</span><span class="s0">.</span><span class="s1">y</span><span class="s0">)===</span><span class="s2">&quot;shared&quot;</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">Si</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getChildren</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">map</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">Uw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`concat_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">),</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)))}</span><span class="s1">parseData</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">Rx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseData</span><span class="s0">()}}</span><span class="s1">parseSelections</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseSelections</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}}</span><span class="s1">parseMarkGroup</span><span class="s0">(){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseMarkGroup</span><span class="s0">()}}</span><span class="s1">parseAxesAndHeaders</span><span class="s0">(){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseAxesAndHeaders</span><span class="s0">()}}</span><span class="s1">getChildren</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Cl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">vconcat</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Sl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">hconcat</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">}</span><span class="s1">parseLayoutSize</span><span class="s0">(){</span><span class="s1">Ex</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">parseAxisGroup</span><span class="s0">(){</span><span class="s4">return null</span><span class="s0">}</span><span class="s1">assembleSelectionTopLevelSignals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">assembleSelectionTopLevelSignals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">assembleSignals</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleSignals</span><span class="s0">()));</span><span class="s4">return</span><span class="s0">[]}</span><span class="s1">assembleLayoutSignals</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">Yb</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">...n</span><span class="s0">.</span><span class="s1">assembleLayoutSignals</span><span class="s0">())}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">assembleSelectionData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">assembleSelectionData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">assembleMarks</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleTitle</span><span class="s0">();</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleGroupStyle</span><span class="s0">();</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleGroupEncodeEntry</span><span class="s0">(</span><span class="s4">false</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;group&quot;</span><span class="s0">,</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;group&quot;</span><span class="s0">)},</span><span class="s1">n</span><span class="s0">?{</span><span class="s1">title</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}:{}),</span><span class="s1">t</span><span class="s0">?{</span><span class="s1">style</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}:{}),</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}}:{}),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleGroup</span><span class="s0">())}))}</span><span class="s1">assembleGroupStyle</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">assembleDefaultLayout</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">layout</span><span class="s0">.</span><span class="s1">columns</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">?{</span><span class="s1">columns</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}:{}),{</span><span class="s1">bounds</span><span class="s0">:</span><span class="s2">&quot;full&quot;</span><span class="s0">,</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;each&quot;</span><span class="s0">})}}</span><span class="s4">function </span><span class="s1">Wx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">false</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Hx</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">disable</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">gridScale</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">scale</span><span class="s0">:</span><span class="s3">1</span><span class="s0">},</span><span class="s1">sc</span><span class="s0">),{</span><span class="s1">labelExpr</span><span class="s0">:</span><span class="s3">1</span><span class="s0">,</span><span class="s1">encode</span><span class="s0">:</span><span class="s3">1</span><span class="s0">});</span><span class="s4">const </span><span class="s1">Gx</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">Hx</span><span class="s0">);</span><span class="s4">class </span><span class="s1">Yx </span><span class="s4">extends </span><span class="s1">kd</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">={},</span><span class="s1">n</span><span class="s0">={},</span><span class="s1">t</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mainExtracted</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">clone</span><span class="s0">(){</span><span class="s4">return new </span><span class="s1">Yx</span><span class="s0">(</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">),</span><span class="s1">b</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mainExtracted</span><span class="s0">)}</span><span class="s1">hasAxisPart</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;axis&quot;</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;grid&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;title&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">!</span><span class="s1">Wx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s1">hasOrientSignalRef</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Tt</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Kx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=(</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">yn</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)]);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)||{};</span><span class="s4">const</span><span class="s0">{</span><span class="s1">format</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Sa</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">text</span><span class="s0">:</span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s2">&quot;datum.value&quot;</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">c</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})},</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">customFormatTypes</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">du</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)===</span><span class="s2">&quot;quantitative&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">xu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)&amp;&amp;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">===</span><span class="s2">&quot;normalize&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">normalizedNumberFormatType</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">text</span><span class="s0">:</span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s2">&quot;datum.value&quot;</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">normalizedNumberFormat</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">normalizedNumberFormatType</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})},</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">numberFormatType</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">text</span><span class="s0">:</span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s2">&quot;datum.value&quot;</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">numberFormat</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">numberFormatType</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})},</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">du</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)===</span><span class="s2">&quot;temporal&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">timeFormatType</span><span class="s0">&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">o</span><span class="s0">)&amp;&amp;!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">text</span><span class="s0">:</span><span class="s1">za</span><span class="s0">({</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s2">&quot;datum.value&quot;</span><span class="s0">,</span><span class="s1">format</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">timeFormat</span><span class="s0">,</span><span class="s1">formatType</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">timeFormatType</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">})},</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Vx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Un</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">scales</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=[</span><span class="s1">tw</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)]}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}),{})}</span><span class="s4">const </span><span class="s1">Qx</span><span class="s0">={</span><span class="s1">bottom</span><span class="s0">:</span><span class="s2">&quot;top&quot;</span><span class="s0">,</span><span class="s1">top</span><span class="s0">:</span><span class="s2">&quot;bottom&quot;</span><span class="s0">,</span><span class="s1">left</span><span class="s0">:</span><span class="s2">&quot;right&quot;</span><span class="s0">,</span><span class="s1">right</span><span class="s0">:</span><span class="s2">&quot;left&quot;</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Xx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">axes</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">resolve</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">top</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">bottom</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">right</span><span class="s0">:</span><span class="s3">0</span><span class="s0">,</span><span class="s1">left</span><span class="s0">:</span><span class="s3">0</span><span class="s0">};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">parseAxesAndHeaders</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of N</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">ey</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s2">&quot;shared&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">Jx</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">],</span><span class="s1">s</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s2">&quot;independent&quot;</span><span class="s0">;</span><span class="s4">delete </span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}}}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">s of Un</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">o of e</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]===</span><span class="s2">&quot;independent&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]=((</span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:[]).</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of o</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s2">&quot;orient&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">continue</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]&gt;</span><span class="s3">0</span><span class="s0">&amp;&amp;!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Qx</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]&gt;</span><span class="s1">r</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s2">&quot;orient&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)}}</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]++}}</span><span class="s4">delete </span><span class="s1">o</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]===</span><span class="s2">&quot;independent&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]&amp;&amp;</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">].</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]){</span><span class="s4">if</span><span class="s0">(!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;grid&quot;</span><span class="s0">)&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">.</span><span class="s1">grid</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">implicit</span><span class="s0">.</span><span class="s1">grid</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}}}}}</span><span class="s4">function </span><span class="s1">Jx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!!</span><span class="s1">t</span><span class="s0">!==!!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s2">&quot;orient&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s2">&quot;orient&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">!==</span><span class="s1">s</span><span class="s0">.</span><span class="s1">value</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">Zx</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">clone</span><span class="s0">()))}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Zx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of Gx</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Pd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getWithExplicit</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;axis&quot;</span><span class="s0">,((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;title&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">li</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">case</span><span class="s2">&quot;gridScale&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">{</span><span class="s1">explicit</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">explicit</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">Bd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;axis&quot;</span><span class="s0">)}));</span><span class="s1">e</span><span class="s0">.</span><span class="s1">setWithExplicit</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ew</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;disable&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">||{};</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;titleAngle&quot;</span><span class="s0">:</span><span class="s4">case</span><span class="s2">&quot;labelAngle&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===(</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">labelAngle</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">labelAngle</span><span class="s0">:</span><span class="s1">ie</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">labelAngle</span><span class="s0">));</span><span class="s4">case</span><span class="s2">&quot;values&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">values</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;encode&quot;</span><span class="s0">:</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">||!!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">labelAngle</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;title&quot;</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">Db</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return true</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s1">t</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}</span><span class="s4">const </span><span class="s1">nw</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">([</span><span class="s2">&quot;grid&quot;</span><span class="s0">,</span><span class="s2">&quot;translate&quot;</span><span class="s0">,</span><span class="s2">&quot;format&quot;</span><span class="s0">,</span><span class="s2">&quot;formatType&quot;</span><span class="s0">,</span><span class="s2">&quot;orient&quot;</span><span class="s0">,</span><span class="s2">&quot;labelExpr&quot;</span><span class="s0">,</span><span class="s2">&quot;tickCount&quot;</span><span class="s0">,</span><span class="s2">&quot;position&quot;</span><span class="s0">,</span><span class="s2">&quot;tickMinStep&quot;</span><span class="s0">]);</span><span class="s4">function </span><span class="s1">tw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Yx</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]);</span><span class="s4">const</span><span class="s0">{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=(</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">)||((</span><span class="s1">t</span><span class="s0">=</span><span class="s1">c</span><span class="s0">[</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">?</span><span class="s2">&quot;axisX&quot;</span><span class="s0">:</span><span class="s2">&quot;axisY&quot;</span><span class="s0">])===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">)||((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">i</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">)||</span><span class="s1">Fb</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">e</span><span class="s0">).</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;type&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">db</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">f</span><span class="s0">,</span><span class="s1">l</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">config</span><span class="s0">);</span><span class="s4">const </span><span class="s1">p</span><span class="s0">=</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?!</span><span class="s1">s</span><span class="s0">:</span><span class="s1">gb</span><span class="s0">(</span><span class="s2">&quot;disable&quot;</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">style</span><span class="s0">,</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">s</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">style</span><span class="s0">,</span><span class="s1">d</span><span class="s0">).</span><span class="s1">configValue</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s2">&quot;disable&quot;</span><span class="s0">,</span><span class="s1">p</span><span class="s0">,</span><span class="s1">s</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s1">s</span><span class="s0">=</span><span class="s1">s</span><span class="s0">||{};</span><span class="s4">const </span><span class="s1">g</span><span class="s0">=</span><span class="s1">yb</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">style</span><span class="s0">,</span><span class="s1">d</span><span class="s0">);</span><span class="s4">const </span><span class="s1">m</span><span class="s0">={</span><span class="s1">fieldOrDatumDef</span><span class="s0">:</span><span class="s1">a</span><span class="s0">,</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">channel</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">model</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">scaleType</span><span class="s0">:</span><span class="s1">f</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">l</span><span class="s0">,</span><span class="s1">labelAngle</span><span class="s0">:</span><span class="s1">g</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">c</span><span class="s0">};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">y of Gx</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">y </span><span class="s4">in </span><span class="s1">mb</span><span class="s0">?</span><span class="s1">mb</span><span class="s0">[</span><span class="s1">y</span><span class="s0">](</span><span class="s1">m</span><span class="s0">):</span><span class="s1">ac</span><span class="s0">(</span><span class="s1">y</span><span class="s0">)?</span><span class="s1">s</span><span class="s0">[</span><span class="s1">y</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">ew</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">y</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">y</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">configValue</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">configFrom</span><span class="s0">:</span><span class="s1">n</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}=</span><span class="s1">ac</span><span class="s0">(</span><span class="s1">y</span><span class="s0">)&amp;&amp;</span><span class="s1">y</span><span class="s0">!==</span><span class="s2">&quot;values&quot;</span><span class="s0">?</span><span class="s1">gb</span><span class="s0">(</span><span class="s1">y</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">style</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">style</span><span class="s0">,</span><span class="s1">d</span><span class="s0">):{};</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;!</span><span class="s1">a</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">y</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(!(</span><span class="s1">n</span><span class="s0">===</span><span class="s2">&quot;vgAxisConfig&quot;</span><span class="s0">)||</span><span class="s1">nw</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">y</span><span class="s0">)&amp;&amp;</span><span class="s1">a</span><span class="s0">||</span><span class="s1">tc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">y</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)}}}</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:{};</span><span class="s4">const </span><span class="s1">b</span><span class="s0">=</span><span class="s1">ic</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">.</span><span class="s1">hasAxisPart</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Jb</span><span class="s0">((</span><span class="s1">r</span><span class="s0">=</span><span class="s1">h</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">r</span><span class="s0">:{},</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;labels&quot;</span><span class="s0">?</span><span class="s1">Kx</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">):</span><span class="s1">s</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]={</span><span class="s1">update</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}),{});</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">z</span><span class="s0">(</span><span class="s1">b</span><span class="s0">)){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s2">&quot;encode&quot;</span><span class="s0">,</span><span class="s1">b</span><span class="s0">,!!</span><span class="s1">s</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">||</span><span class="s1">s</span><span class="s0">.</span><span class="s1">labelAngle</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">o</span><span class="s0">}</span><span class="s4">function </span><span class="s1">iw</span><span class="s0">({</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of Un</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">vn</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Bl</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">])){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">gu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">])){</span><span class="s4">delete </span><span class="s1">n</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">br</span><span class="s0">(</span><span class="s1">i</span><span class="s0">))}}}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">rw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;orient&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">=</span><span class="s1">uw</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">i</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">sr</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">,</span><span class="s1">r</span><span class="s0">))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;bar&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;cornerRadiusEnd&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">x2</span><span class="s0">||</span><span class="s1">i</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">===</span><span class="s2">&quot;vertical&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">y2</span><span class="s0">?[</span><span class="s2">&quot;cornerRadius&quot;</span><span class="s0">]:</span><span class="s1">ma</span><span class="s0">[</span><span class="s1">i</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of t</span><span class="s0">){</span><span class="s1">i</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">cornerRadiusEnd</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">delete </span><span class="s1">i</span><span class="s0">.</span><span class="s1">cornerRadiusEnd</span><span class="s0">}}}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;opacity&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">opacity</span><span class="s0">=</span><span class="s1">ow</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;cursor&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">cursor</span><span class="s0">=</span><span class="s1">sw</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">function </span><span class="s1">sw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">href</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">href</span><span class="s0">||</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;href&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;pointer&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">cursor</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ow</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s1">Wo</span><span class="s0">,</span><span class="s1">Ko</span><span class="s0">,</span><span class="s1">Qo</span><span class="s0">,</span><span class="s1">Xo</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">bc</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return</span><span class="s3">.7</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">aw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">graticule</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">ri</span><span class="s0">(</span><span class="s2">&quot;filled&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s4">return </span><span class="s1">X</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">Wo</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">Io</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">Go</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">uw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">Wo</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Qo</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Xo</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Yo</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ho</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ro</span><span class="s0">:</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const</span><span class="s0">{</span><span class="s1">x</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">y</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">x2</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">y2</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">Uo</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;(</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">&amp;&amp;!</span><span class="s1">i</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;(</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">&amp;&amp;!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">||</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">Ys</span><span class="s0">&amp;&amp;!</span><span class="s1">At</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||</span><span class="s1">hu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}}</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">o</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">Ys</span><span class="s0">&amp;&amp;!</span><span class="s1">At</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||</span><span class="s1">hu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}}</span><span class="s4">return</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}}</span><span class="s4">case </span><span class="s1">Go</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;!(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">))&amp;&amp;</span><span class="s1">o</span><span class="s0">&amp;&amp;!(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">))){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">case </span><span class="s1">qo</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">kt</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)){</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">Go</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&amp;&amp;!</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}}</span><span class="s4">case </span><span class="s1">Io</span><span class="s0">:</span><span class="s4">case </span><span class="s1">Ko</span><span class="s0">:{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">gu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">gu</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;!</span><span class="s1">s</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;tick&quot;</span><span class="s0">?</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">:</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;tick&quot;</span><span class="s0">?</span><span class="s2">&quot;vertical&quot;</span><span class="s0">:</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">Vs</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">Vs</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;!</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;tick&quot;</span><span class="s0">?</span><span class="s2">&quot;vertical&quot;</span><span class="s0">:</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;tick&quot;</span><span class="s0">?</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">:</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;tick&quot;</span><span class="s0">?</span><span class="s2">&quot;vertical&quot;</span><span class="s0">:</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">&amp;&amp;!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">aggregate</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;tick&quot;</span><span class="s0">?</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">:</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s4">return</span><span class="s2">&quot;vertical&quot;</span><span class="s0">}</span><span class="s4">const </span><span class="s1">cw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;arc&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})),</span><span class="s1">Gp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;radius&quot;</span><span class="s0">)),</span><span class="s1">Gp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;theta&quot;</span><span class="s0">))};</span><span class="s4">const </span><span class="s1">lw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;area&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">Up</span><span class="s0">(</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;zeroOrMin&quot;</span><span class="s0">,</span><span class="s1">defaultPos2</span><span class="s0">:</span><span class="s2">&quot;zeroOrMin&quot;</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">})),</span><span class="s1">Up</span><span class="s0">(</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;zeroOrMin&quot;</span><span class="s0">,</span><span class="s1">defaultPos2</span><span class="s0">:</span><span class="s2">&quot;zeroOrMin&quot;</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">===</span><span class="s2">&quot;vertical&quot;</span><span class="s0">})),</span><span class="s1">ig</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))};</span><span class="s4">const </span><span class="s1">fw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;rect&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">Gp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;x&quot;</span><span class="s0">)),</span><span class="s1">Gp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;y&quot;</span><span class="s0">))};</span><span class="s4">const </span><span class="s1">dw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;shape&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">postEncodingTransform</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">shape</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;geoshape&quot;</span><span class="s0">,</span><span class="s1">projection</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">projectionName</span><span class="s0">()},</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s1">Xs</span><span class="s0">?{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">})}:{});</span><span class="s4">return</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]}};</span><span class="s4">const </span><span class="s1">pw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;image&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">Gp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;x&quot;</span><span class="s0">)),</span><span class="s1">Gp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;y&quot;</span><span class="s0">)),</span><span class="s1">jp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;url&quot;</span><span class="s0">))};</span><span class="s4">const </span><span class="s1">gw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;line&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s2">&quot;strokeWidth&quot;</span><span class="s0">})),</span><span class="s1">ig</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))};</span><span class="s4">const </span><span class="s1">mw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;trail&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">ig</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))};</span><span class="s4">function </span><span class="s1">hw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;angle&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">bw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">bw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">shape</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}}}</span><span class="s4">return </span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;shape&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">yw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;symbol&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">hw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)};</span><span class="s4">const </span><span class="s1">vw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;symbol&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">hw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;circle&quot;</span><span class="s0">)};</span><span class="s4">const </span><span class="s1">Ow</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;symbol&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">hw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;square&quot;</span><span class="s0">)};</span><span class="s4">const </span><span class="s1">xw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;rect&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">Gp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;x&quot;</span><span class="s0">)),</span><span class="s1">Gp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;y&quot;</span><span class="s0">))};</span><span class="s4">const </span><span class="s1">ww</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;rule&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">x</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">y</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">latitude</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">longitude</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">Up</span><span class="s0">(</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">?</span><span class="s2">&quot;zeroOrMax&quot;</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">,</span><span class="s1">defaultPos2</span><span class="s0">:</span><span class="s2">&quot;zeroOrMin&quot;</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;vertical&quot;</span><span class="s0">})),</span><span class="s1">Up</span><span class="s0">(</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;vertical&quot;</span><span class="s0">?</span><span class="s2">&quot;zeroOrMax&quot;</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">,</span><span class="s1">defaultPos2</span><span class="s0">:</span><span class="s2">&quot;zeroOrMin&quot;</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">})),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s2">&quot;strokeWidth&quot;</span><span class="s0">}))}};</span><span class="s4">const </span><span class="s1">jw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;text&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">})),</span><span class="s1">jp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s2">&quot;fontSize&quot;</span><span class="s0">})),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;angle&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">sg</span><span class="s0">(</span><span class="s2">&quot;align&quot;</span><span class="s0">,</span><span class="s1">Fw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))),</span><span class="s1">sg</span><span class="s0">(</span><span class="s2">&quot;baseline&quot;</span><span class="s0">,</span><span class="s1">$w</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;radius&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s4">null</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;theta&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s4">null</span><span class="s0">}))}};</span><span class="s4">function </span><span class="s1">Fw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;align&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;center&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">$w</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;baseline&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;middle&quot;</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Dw</span><span class="s0">={</span><span class="s1">vgMark</span><span class="s0">:</span><span class="s2">&quot;rect&quot;</span><span class="s0">,</span><span class="s1">encodeEntry</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">?</span><span class="s2">&quot;width&quot;</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">?</span><span class="s2">&quot;height&quot;</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">;</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">Zp</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">align</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">baseline</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">color</span><span class="s0">:</span><span class="s2">&quot;include&quot;</span><span class="s0">,</span><span class="s1">orient</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">,</span><span class="s1">theta</span><span class="s0">:</span><span class="s2">&quot;ignore&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">,</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s2">&quot;xc&quot;</span><span class="s0">})),</span><span class="s1">zp</span><span class="s0">(</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultPos</span><span class="s0">:</span><span class="s2">&quot;mid&quot;</span><span class="s0">,</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s2">&quot;yc&quot;</span><span class="s0">})),</span><span class="s1">Ep</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">defaultValue</span><span class="s0">:</span><span class="s1">Aw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">r</span><span class="s0">})),{[</span><span class="s1">s</span><span class="s0">]:</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;thickness&quot;</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">))})}};</span><span class="s4">function </span><span class="s1">Aw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">orient</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">?</span><span class="s2">&quot;width&quot;</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">?</span><span class="s2">&quot;x&quot;</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">vgChannel</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}))!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">tick</span><span class="s0">.</span><span class="s1">bandSize</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">u</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">a</span><span class="s0">?</span><span class="s1">a</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;range&quot;</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Et</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">step</span><span class="s0">*</span><span class="s3">3</span><span class="s0">/</span><span class="s3">4</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">ql</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">view</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">*</span><span class="s3">3</span><span class="s0">/</span><span class="s3">4</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">kw</span><span class="s0">={</span><span class="s1">arc</span><span class="s0">:</span><span class="s1">cw</span><span class="s0">,</span><span class="s1">area</span><span class="s0">:</span><span class="s1">lw</span><span class="s0">,</span><span class="s1">bar</span><span class="s0">:</span><span class="s1">fw</span><span class="s0">,</span><span class="s1">circle</span><span class="s0">:</span><span class="s1">vw</span><span class="s0">,</span><span class="s1">geoshape</span><span class="s0">:</span><span class="s1">dw</span><span class="s0">,</span><span class="s1">image</span><span class="s0">:</span><span class="s1">pw</span><span class="s0">,</span><span class="s1">line</span><span class="s0">:</span><span class="s1">gw</span><span class="s0">,</span><span class="s1">point</span><span class="s0">:</span><span class="s1">yw</span><span class="s0">,</span><span class="s1">rect</span><span class="s0">:</span><span class="s1">xw</span><span class="s0">,</span><span class="s1">rule</span><span class="s0">:</span><span class="s1">ww</span><span class="s0">,</span><span class="s1">square</span><span class="s0">:</span><span class="s1">Ow</span><span class="s0">,</span><span class="s1">text</span><span class="s0">:</span><span class="s1">jw</span><span class="s0">,</span><span class="s1">tick</span><span class="s0">:</span><span class="s1">Dw</span><span class="s0">,</span><span class="s1">trail</span><span class="s0">:</span><span class="s1">mw</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Cw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">F</span><span class="s0">([</span><span class="s1">Io</span><span class="s0">,</span><span class="s1">qo</span><span class="s0">,</span><span class="s1">Vo</span><span class="s0">],</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">$c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ew</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">===</span><span class="s1">Uo</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ht</span><span class="s0">.</span><span class="s1">some</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">ii</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">)));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s2">&quot;size&quot;</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Pw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">zw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">Sw</span><span class="s0">=</span><span class="s2">&quot;faceted_path_&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ew</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;pathgroup&quot;</span><span class="s0">),</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;group&quot;</span><span class="s0">,</span><span class="s1">from</span><span class="s0">:{</span><span class="s1">facet</span><span class="s0">:{</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Sw</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">),</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">),</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}},</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:{</span><span class="s1">width</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">}},</span><span class="s1">height</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">}}}},</span><span class="s1">marks</span><span class="s0">:</span><span class="s1">zw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">fromPrefix</span><span class="s0">:</span><span class="s1">Sw</span><span class="s0">})}]}</span><span class="s4">const </span><span class="s1">Bw</span><span class="s0">=</span><span class="s2">&quot;stack_group_&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Pw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">const</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">zw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">fromPrefix</span><span class="s0">:</span><span class="s1">Bw</span><span class="s0">});</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">scaleName</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">fieldChannel</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s1">n</span><span class="s0">={})=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">vgField</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">fieldChannel</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[</span><span class="s1">r</span><span class="s0">({</span><span class="s1">prefix</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;start&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">({</span><span class="s1">prefix</span><span class="s0">:</span><span class="s2">&quot;max&quot;</span><span class="s0">,</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;start&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">({</span><span class="s1">prefix</span><span class="s0">:</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">({</span><span class="s1">prefix</span><span class="s0">:</span><span class="s2">&quot;max&quot;</span><span class="s0">,</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s1">n</span><span class="s0">})];</span><span class="s4">return</span><span class="s2">`</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s2">`scale('</span><span class="s1">$</span><span class="s0">{</span><span class="s1">i</span><span class="s0">}</span><span class="s2">',</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">)`</span><span class="s0">)).</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;,&quot;</span><span class="s0">)}</span><span class="s2">)`</span><span class="s0">};</span><span class="s4">let </span><span class="s1">o</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">fieldChannel</span><span class="s0">===</span><span class="s2">&quot;x&quot;</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">v</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">,[</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s2">&quot;yc&quot;</span><span class="s0">,</span><span class="s2">&quot;y2&quot;</span><span class="s0">,</span><span class="s2">&quot;height&quot;</span><span class="s0">,</span><span class="s1">...Ht</span><span class="s0">])),{</span><span class="s1">x</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">s</span><span class="s0">(</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s2">&quot;datum&quot;</span><span class="s0">)},</span><span class="s1">x2</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">s</span><span class="s0">(</span><span class="s2">&quot;max&quot;</span><span class="s0">,</span><span class="s2">&quot;datum&quot;</span><span class="s0">)},</span><span class="s1">clip</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}});</span><span class="s1">a</span><span class="s0">={</span><span class="s1">x</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;x&quot;</span><span class="s0">},</span><span class="s1">mult</span><span class="s0">:-</span><span class="s3">1</span><span class="s0">},</span><span class="s1">height</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">}}};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">O</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">,[</span><span class="s2">&quot;y&quot;</span><span class="s0">,</span><span class="s2">&quot;yc&quot;</span><span class="s0">,</span><span class="s2">&quot;y2&quot;</span><span class="s0">])),{</span><span class="s1">height</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">}}})}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">v</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">,[</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s2">&quot;xc&quot;</span><span class="s0">,</span><span class="s2">&quot;x2&quot;</span><span class="s0">,</span><span class="s2">&quot;width&quot;</span><span class="s0">])),{</span><span class="s1">y</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">s</span><span class="s0">(</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s2">&quot;datum&quot;</span><span class="s0">)},</span><span class="s1">y2</span><span class="s0">:{</span><span class="s1">signal</span><span class="s0">:</span><span class="s1">s</span><span class="s0">(</span><span class="s2">&quot;max&quot;</span><span class="s0">,</span><span class="s2">&quot;datum&quot;</span><span class="s0">)},</span><span class="s1">clip</span><span class="s0">:{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}});</span><span class="s1">a</span><span class="s0">={</span><span class="s1">y</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;y&quot;</span><span class="s0">},</span><span class="s1">mult</span><span class="s0">:-</span><span class="s3">1</span><span class="s0">},</span><span class="s1">width</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">}}};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">O</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">,[</span><span class="s2">&quot;x&quot;</span><span class="s0">,</span><span class="s2">&quot;xc&quot;</span><span class="s0">,</span><span class="s2">&quot;x2&quot;</span><span class="s0">])),{</span><span class="s1">width</span><span class="s0">:{</span><span class="s1">field</span><span class="s0">:{</span><span class="s1">group</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">}}})}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">l of Ht</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">ri</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]){</span><span class="s1">o</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">[</span><span class="s1">l</span><span class="s0">];</span><span class="s4">delete </span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">o</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]=</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]={</span><span class="s1">value</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}}}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">groupbyChannels</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">.</span><span class="s1">groupbyChannels</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">((</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">bin</span><span class="s0">)||(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">timeUnit</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">}))}}}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=[</span><span class="s2">&quot;stroke&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeWidth&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeJoin&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeCap&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeDash&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeDashOffset&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeMiterLimit&quot;</span><span class="s0">,</span><span class="s2">&quot;strokeOpacity&quot;</span><span class="s0">];</span><span class="s1">o</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{[</span><span class="s1">i</span><span class="s0">]:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">.</span><span class="s1">update</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">ri</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">n</span><span class="s0">),{[</span><span class="s1">i</span><span class="s0">]:</span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}}),</span><span class="s1">o</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">stroke</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">strokeForeground</span><span class="s0">={</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">};</span><span class="s1">o</span><span class="s0">.</span><span class="s1">strokeOffset</span><span class="s0">={</span><span class="s1">value</span><span class="s0">:</span><span class="s3">0</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">[{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;group&quot;</span><span class="s0">,</span><span class="s1">from</span><span class="s0">:{</span><span class="s1">facet</span><span class="s0">:{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">),</span><span class="s1">name</span><span class="s0">:</span><span class="s1">Bw</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">),</span><span class="s1">groupby</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">aggregate</span><span class="s0">:{</span><span class="s1">fields</span><span class="s0">:[</span><span class="s1">r</span><span class="s0">({</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;start&quot;</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">({</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;start&quot;</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">({</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">}),</span><span class="s1">r</span><span class="s0">({</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;end&quot;</span><span class="s0">})],</span><span class="s1">ops</span><span class="s0">:[</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s2">&quot;max&quot;</span><span class="s0">,</span><span class="s2">&quot;min&quot;</span><span class="s0">,</span><span class="s2">&quot;max&quot;</span><span class="s0">]}}},</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">o</span><span class="s0">},</span><span class="s1">marks</span><span class="s0">:[{</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;group&quot;</span><span class="s0">,</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">a</span><span class="s0">},</span><span class="s1">marks</span><span class="s0">:[</span><span class="s1">t</span><span class="s0">]}]}]}</span><span class="s4">function </span><span class="s1">_w</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">stack</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">order</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">)&amp;&amp;</span><span class="s1">vu</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)&amp;&amp;</span><span class="s1">j</span><span class="s0">(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)||!</span><span class="s1">u</span><span class="s0">&amp;&amp;</span><span class="s1">j</span><span class="s0">(</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;order&quot;</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">))){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">u</span><span class="s0">)||</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">u</span><span class="s0">))&amp;&amp;!</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ai</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">ea</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">orient</span><span class="s0">===</span><span class="s2">&quot;horizontal&quot;</span><span class="s0">?</span><span class="s2">&quot;y&quot;</span><span class="s0">:</span><span class="s2">&quot;x&quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">fu</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">sort</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">prefix</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">suffix</span><span class="s0">:</span><span class="s2">&quot;sort_index&quot;</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">})}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ka</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">({</span><span class="s1">aggregate</span><span class="s0">:</span><span class="s1">bc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">.</span><span class="s1">op</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">field</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">field</span><span class="s0">},{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">})}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Ya</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,{</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">}),</span><span class="s1">order</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">order</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">field</span><span class="s0">:</span><span class="s1">Du</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,{</span><span class="s1">binSuffix</span><span class="s0">:((</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">)===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">impute</span><span class="s0">)?</span><span class="s2">&quot;mid&quot;</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">expr</span><span class="s0">:</span><span class="s2">&quot;datum&quot;</span><span class="s0">})}}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">zw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">={</span><span class="s1">fromPrefix</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">mark</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">markDef</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">config</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">X</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">clip</span><span class="s0">,</span><span class="s1">Nw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">Tw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">ti</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">key</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">_w</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">Mw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">ii</span><span class="s0">(</span><span class="s2">&quot;aria&quot;</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">kw</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">postEncodingTransform</span><span class="s0">?</span><span class="s1">kw</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">postEncodingTransform</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s4">null</span><span class="s0">;</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">&quot;marks&quot;</span><span class="s0">),</span><span class="s1">type</span><span class="s0">:</span><span class="s1">kw</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">vgMark</span><span class="s0">},</span><span class="s1">o</span><span class="s0">?{</span><span class="s1">clip</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}:{}),</span><span class="s1">a</span><span class="s0">?{</span><span class="s1">style</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}:{}),</span><span class="s1">u</span><span class="s0">?{</span><span class="s1">key</span><span class="s0">:</span><span class="s1">u</span><span class="s0">.</span><span class="s1">field</span><span class="s0">}:{}),</span><span class="s1">c</span><span class="s0">?{</span><span class="s1">sort</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}:{}),</span><span class="s1">l</span><span class="s0">?</span><span class="s1">l</span><span class="s0">:{}),</span><span class="s1">f</span><span class="s0">===</span><span class="s4">false</span><span class="s0">?{</span><span class="s1">aria</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}:{}),{</span><span class="s1">from</span><span class="s0">:{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">fromPrefix</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">requestDataName</span><span class="s0">(</span><span class="s1">Rd</span><span class="s0">.</span><span class="s1">Main</span><span class="s0">)},</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">kw</span><span class="s0">[</span><span class="s1">t</span><span class="s0">].</span><span class="s1">encodeEntry</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}),</span><span class="s1">d</span><span class="s0">?{</span><span class="s1">transform</span><span class="s0">:</span><span class="s1">d</span><span class="s0">}:{})]}</span><span class="s4">function </span><span class="s1">Nw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s2">&quot;x&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">getScaleComponent</span><span class="s0">(</span><span class="s2">&quot;y&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">n</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;selectionExtent&quot;</span><span class="s0">))||(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">||</span><span class="s1">t</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s4">void </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;selectionExtent&quot;</span><span class="s0">))?</span><span class="s4">true</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Tw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">&amp;&amp;!</span><span class="s1">n</span><span class="s0">.</span><span class="s1">isFit</span><span class="s0">?</span><span class="s4">true</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Mw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)</span><span class="s4">return null</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">).</span><span class="s1">length</span><span class="s0">;</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">).</span><span class="s1">length</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">?{</span><span class="s1">interactive</span><span class="s0">:</span><span class="s1">n</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">||!!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">tooltip</span><span class="s0">}:</span><span class="s4">null</span><span class="s0">}</span><span class="s4">class </span><span class="s1">Lw </span><span class="s4">extends </span><span class="s1">rx</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">={},</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">s</span><span class="s0">;</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;unit&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">Pl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">view</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">specifiedScales</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">specifiedAxes</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">specifiedLegends</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">specifiedProjection</span><span class="s0">={};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">=[];</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">ia</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">)?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">):{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">};</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">filled</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">filled</span><span class="s0">=</span><span class="s1">aw</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,{</span><span class="s1">graticule</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">&amp;&amp;</span><span class="s1">Ud</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)})}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">=</span><span class="s1">Oc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">||{},</span><span class="s1">a</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">filled</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">=</span><span class="s1">rw</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">=</span><span class="s1">iw</span><span class="s0">({</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">size</span><span class="s0">:</span><span class="s1">Pl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">i</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">width</span><span class="s0">?{</span><span class="s1">width</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">width</span><span class="s0">}:{}),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">height</span><span class="s0">?{</span><span class="s1">height</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">height</span><span class="s0">}:{}):</span><span class="s1">i</span><span class="s0">});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">stack</span><span class="s0">=</span><span class="s1">xf</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">specifiedScales</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initScales</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">specifiedAxes</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initAxes</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">specifiedLegends</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initLegends</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">specifiedProjection</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">projection</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">=((</span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:[]).</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Fl</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">get hasProjection</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">encoding</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">===</span><span class="s1">Jo</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">Ke</span><span class="s0">.</span><span class="s1">some</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">])));</span><span class="s4">return </span><span class="s1">n</span><span class="s0">||</span><span class="s1">t</span><span class="s0">}</span><span class="s1">scaleDomain</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">specifiedScales</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">return </span><span class="s1">n</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">domain</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">axis</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">specifiedAxes</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s1">legend</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">specifiedLegends</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]}</span><span class="s1">initScales</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ut</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initScale</span><span class="s0">((</span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">scale</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">i</span><span class="s0">:{})}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}),{})}</span><span class="s1">initScale</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">domain</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">range</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">domain</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">Vt</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">cy</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">range</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s1">Vt</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s1">initAxes</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Un</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)||</span><span class="s1">t</span><span class="s0">===</span><span class="s1">ce</span><span class="s0">&amp;&amp;</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">x2</span><span class="s0">)||</span><span class="s1">t</span><span class="s0">===</span><span class="s1">le</span><span class="s0">&amp;&amp;</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">y2</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">bu</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">axis</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">initAxis</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">e</span><span class="s0">)):</span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}),{})}</span><span class="s1">initAxis</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">i of n</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">tc</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)?</span><span class="s1">Kt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">):</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">initLegends</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">rt</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">Ru</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">ot</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">legend</span><span class="s0">;</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">?</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}),{})}</span><span class="s1">parseData</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">Rx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">parseLayoutSize</span><span class="s0">(){</span><span class="s1">_x</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">parseSelections</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">=</span><span class="s1">eb</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)}</span><span class="s1">parseMarkGroup</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">=</span><span class="s1">Cw</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">parseAxesAndHeaders</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">axes</span><span class="s0">=</span><span class="s1">Vx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">assembleSelectionTopLevelSignals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Kd</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">assembleSignals</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">[</span><span class="s1">...cb</span><span class="s0">(</span><span class="s4">this</span><span class="s0">),</span><span class="s1">...Gd</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,[])]}</span><span class="s1">assembleSelectionData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Vd</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">assembleLayout</span><span class="s0">(){</span><span class="s4">return null</span><span class="s0">}</span><span class="s1">assembleLayoutSignals</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Yb</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">assembleMarks</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">mark</span><span class="s0">)!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">?</span><span class="s1">e</span><span class="s0">:[];</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">||!</span><span class="s1">tx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">parent</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Qd</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">correctDataNames</span><span class="s0">)}</span><span class="s1">assembleGroupStyle</span><span class="s0">(){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">style</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">view</span><span class="s0">||{};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">x</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">.</span><span class="s1">y</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;cell&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s1">getMapping</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">}</span><span class="s1">get mark</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">markDef</span><span class="s0">.</span><span class="s1">type</span><span class="s0">}</span><span class="s1">channelHasField</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">gc</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">encoding</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">return </span><span class="s1">Uu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">typedFieldDef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fieldDef</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">yu</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">return null</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">qw </span><span class="s4">extends </span><span class="s1">ix</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;layer&quot;</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">view</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">i</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">width</span><span class="s0">?{</span><span class="s1">width</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">width</span><span class="s0">}:{}),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">height</span><span class="s0">?{</span><span class="s1">height</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">height</span><span class="s0">}:{});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">layer</span><span class="s0">.</span><span class="s1">map</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">cf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return new </span><span class="s1">qw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`layer_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">),</span><span class="s1">s</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return new </span><span class="s1">Lw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">getName</span><span class="s0">(</span><span class="s2">`layer_</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">),</span><span class="s1">s</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">fi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}))}</span><span class="s1">parseData</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">Rx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseData</span><span class="s0">()}}</span><span class="s1">parseLayoutSize</span><span class="s0">(){</span><span class="s1">Sx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">parseSelections</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseSelections</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">selection</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]}}}</span><span class="s1">parseMarkGroup</span><span class="s0">(){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parseMarkGroup</span><span class="s0">()}}</span><span class="s1">parseAxesAndHeaders</span><span class="s0">(){</span><span class="s1">Xx</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s1">assembleSelectionTopLevelSignals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">assembleSelectionTopLevelSignals</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">assembleSignals</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">assembleSignals</span><span class="s0">())),</span><span class="s1">cb</span><span class="s0">(</span><span class="s4">this</span><span class="s0">))}</span><span class="s1">assembleLayoutSignals</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">assembleLayoutSignals</span><span class="s0">())),</span><span class="s1">Yb</span><span class="s0">(</span><span class="s4">this</span><span class="s0">))}</span><span class="s1">assembleSelectionData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">assembleSelectionData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)),</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">assembleGroupStyle</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">YO</span><span class="s0">)(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">assembleGroupStyle</span><span class="s0">())){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">from</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">?</span><span class="s1">n</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">?</span><span class="s1">n</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">assembleTitle</span><span class="s0">(){</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s4">super</span><span class="s0">.</span><span class="s1">assembleTitle</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">n of </span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">){</span><span class="s1">e</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">assembleTitle</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s1">assembleLayout</span><span class="s0">(){</span><span class="s4">return null</span><span class="s0">}</span><span class="s1">assembleMarks</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Xd</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">flatMap</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleMarks</span><span class="s0">())))}</span><span class="s1">assembleLegends</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">children</span><span class="s0">.</span><span class="s1">reduce</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">assembleLegends</span><span class="s0">())),</span><span class="s1">_y</span><span class="s0">(</span><span class="s4">this</span><span class="s0">))}}</span><span class="s4">function </span><span class="s1">Uw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ja</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return new </span><span class="s1">Tx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">cf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return new </span><span class="s1">qw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">fc</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return new </span><span class="s1">Lw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Al</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return new </span><span class="s1">Ix</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s1">fi</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">var </span><span class="s1">Rw</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">undefined</span><span class="s0">.</span><span class="s1">__rest</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">={};</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">i </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)&lt;</span><span class="s3">0</span><span class="s0">)</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">)</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">])&lt;</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]))</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">i</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">Iw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">={}){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">logger</span><span class="s0">){</span><span class="s1">Gr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">logger</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">fieldTitle</span><span class="s0">){</span><span class="s1">_u</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">fieldTitle</span><span class="s0">)}</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">nf</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">io</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">config</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">));</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">bd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Uw</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s4">null</span><span class="s0">,</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">s</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">();</span><span class="s1">Hv</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">Hw</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">Ww</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">autosize</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">datasets</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">usermeta</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">spec</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">normalized</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}}</span><span class="s4">finally</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">logger</span><span class="s0">){</span><span class="s1">Yr</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">fieldTitle</span><span class="s0">){</span><span class="s1">zu</span><span class="s0">()}}}</span><span class="s4">function </span><span class="s1">Ww</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutSize</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;width&quot;</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">layoutSize</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;height&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s2">&quot;pad&quot;</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">hasAxisOrientSignalRef</span><span class="s0">()){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">resize</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}</span><span class="s4">else if</span><span class="s0">((</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">Kg</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">={</span><span class="s1">type</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">Fd</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;step&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;step&quot;</span><span class="s0">){</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">mi</span><span class="s0">());</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s2">&quot;pad&quot;</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;step&quot;</span><span class="s0">||</span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;step&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">s</span><span class="s0">===</span><span class="s2">&quot;step&quot;</span><span class="s0">?</span><span class="s2">&quot;width&quot;</span><span class="s0">:</span><span class="s2">&quot;height&quot;</span><span class="s0">;</span><span class="s1">Vr</span><span class="s0">(</span><span class="s1">mi</span><span class="s0">(</span><span class="s1">Hn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;width&quot;</span><span class="s0">?</span><span class="s2">&quot;height&quot;</span><span class="s0">:</span><span class="s2">&quot;width&quot;</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s1">$d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({},</span><span class="s1">N</span><span class="s0">(</span><span class="s1">n</span><span class="s0">).</span><span class="s1">length</span><span class="s0">===</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">?</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">===</span><span class="s2">&quot;pad&quot;</span><span class="s0">?{}:{</span><span class="s1">autosize</span><span class="s0">:</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">}:{</span><span class="s1">autosize</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}),</span><span class="s1">Ad</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s4">false</span><span class="s0">)),</span><span class="s1">Ad</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">true</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">Hw</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">t</span><span class="s0">={},</span><span class="s1">i</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">?</span><span class="s1">of</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">config</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=[].</span><span class="s1">concat</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleSelectionData</span><span class="s0">([]),</span><span class="s1">Fx</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">component</span><span class="s0">.</span><span class="s1">data</span><span class="s0">,</span><span class="s1">t</span><span class="s0">));</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleProjections</span><span class="s0">();</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleTitle</span><span class="s0">();</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleGroupStyle</span><span class="s0">();</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleGroupEncodeEntry</span><span class="s0">(</span><span class="s4">true</span><span class="s0">);</span><span class="s4">let </span><span class="s1">l</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleLayoutSignals</span><span class="s0">();</span><span class="s1">l</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">filter</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">((</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s2">&quot;width&quot;</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">===</span><span class="s2">&quot;height&quot;</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">e</span><span class="s0">.</span><span class="s1">name</span><span class="s0">]=+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">;</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">return true</span><span class="s0">}));</span><span class="s4">const</span><span class="s0">{</span><span class="s1">params</span><span class="s0">:</span><span class="s1">f</span><span class="s0">}=</span><span class="s1">n</span><span class="s0">,</span><span class="s1">d</span><span class="s0">=</span><span class="s1">Rw</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,[</span><span class="s2">&quot;params&quot;</span><span class="s0">]);</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">assign</span><span class="s0">({</span><span class="s1">$schema</span><span class="s0">:</span><span class="s2">&quot;https://vega.github.io/schema/vega/v5.json&quot;</span><span class="s0">},</span><span class="s1">e</span><span class="s0">.</span><span class="s1">description</span><span class="s0">?{</span><span class="s1">description</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">description</span><span class="s0">}:{}),</span><span class="s1">d</span><span class="s0">),</span><span class="s1">a</span><span class="s0">?{</span><span class="s1">title</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}:{}),</span><span class="s1">u</span><span class="s0">?{</span><span class="s1">style</span><span class="s0">:</span><span class="s1">u</span><span class="s0">}:{}),</span><span class="s1">c</span><span class="s0">?{</span><span class="s1">encode</span><span class="s0">:{</span><span class="s1">update</span><span class="s0">:</span><span class="s1">c</span><span class="s0">}}:{}),{</span><span class="s1">data</span><span class="s0">:</span><span class="s1">s</span><span class="s0">}),</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">?{</span><span class="s1">projections</span><span class="s0">:</span><span class="s1">o</span><span class="s0">}:{}),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">assembleGroup</span><span class="s0">([</span><span class="s1">...l</span><span class="s0">,</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">assembleSelectionTopLevelSignals</span><span class="s0">([]),</span><span class="s1">...Dl</span><span class="s0">(</span><span class="s1">f</span><span class="s0">)])),</span><span class="s1">r</span><span class="s0">?{</span><span class="s1">config</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}:{}),</span><span class="s1">i</span><span class="s0">?{</span><span class="s1">usermeta</span><span class="s0">:</span><span class="s1">i</span><span class="s0">}:{})}</span><span class="s4">const </span><span class="s1">Gw</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">rE</span><span class="s0">},</span><span class="s3">18729</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s4">function </span><span class="s1">e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">n</span><span class="s0">}</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Map</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){}}</span><span class="s4">var </span><span class="s1">t</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Set</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){}}</span><span class="s4">var </span><span class="s1">i</span><span class="s0">;</span><span class="s4">try</span><span class="s0">{</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Promise</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s1">i</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){}}</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">u</span><span class="s0">,</span><span class="s1">l</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">o</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">depth</span><span class="s0">;</span><span class="s1">u</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">;</span><span class="s1">l</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">includeNonEnumerable</span><span class="s0">;</span><span class="s1">o</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">circular</span><span class="s0">}</span><span class="s4">var </span><span class="s1">f</span><span class="s0">=[];</span><span class="s4">var </span><span class="s1">d</span><span class="s0">=[];</span><span class="s4">var </span><span class="s1">p</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">Buffer</span><span class="s0">!=</span><span class="s2">&quot;undefined&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">o</span><span class="s0">==</span><span class="s2">&quot;undefined&quot;</span><span class="s0">)</span><span class="s1">o</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">a</span><span class="s0">==</span><span class="s2">&quot;undefined&quot;</span><span class="s0">)</span><span class="s1">a</span><span class="s0">=</span><span class="s1">Infinity</span><span class="s0">;</span><span class="s4">function </span><span class="s1">g</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">===</span><span class="s4">null</span><span class="s0">)</span><span class="s4">return null</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">===</span><span class="s3">0</span><span class="s0">)</span><span class="s4">return </span><span class="s1">s</span><span class="s0">;</span><span class="s4">var </span><span class="s1">m</span><span class="s0">;</span><span class="s4">var </span><span class="s1">h</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">s</span><span class="s0">!=</span><span class="s2">&quot;object&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">m</span><span class="s0">=</span><span class="s4">new </span><span class="s1">n</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">m</span><span class="s0">=</span><span class="s4">new </span><span class="s1">t</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">m</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">then</span><span class="s0">((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">e</span><span class="s0">(</span><span class="s1">g</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">))}),(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">n</span><span class="s0">(</span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">))}))}))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">__isArray</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">m</span><span class="s0">=[]}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">__isRegExp</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">m</span><span class="s0">=</span><span class="s4">new </span><span class="s1">RegExp</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">source</span><span class="s0">,</span><span class="s1">c</span><span class="s0">(</span><span class="s1">s</span><span class="s0">));</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">)</span><span class="s1">m</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">lastIndex</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">__isDate</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">m</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Date</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">getTime</span><span class="s0">())}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">&amp;&amp;</span><span class="s1">Buffer</span><span class="s0">.</span><span class="s1">isBuffer</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Buffer</span><span class="s0">.</span><span class="s1">allocUnsafe</span><span class="s0">){</span><span class="s1">m</span><span class="s0">=</span><span class="s1">Buffer</span><span class="s0">.</span><span class="s1">allocUnsafe</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">m</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Buffer</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)}</span><span class="s1">s</span><span class="s0">.</span><span class="s1">copy</span><span class="s0">(</span><span class="s1">m</span><span class="s0">);</span><span class="s4">return </span><span class="s1">m</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">Error</span><span class="s0">)){</span><span class="s1">m</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">u</span><span class="s0">==</span><span class="s2">&quot;undefined&quot;</span><span class="s0">){</span><span class="s1">h</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getPrototypeOf</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s1">m</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">h</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">m</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s1">h</span><span class="s0">=</span><span class="s1">u</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">){</span><span class="s4">var </span><span class="s1">b</span><span class="s0">=</span><span class="s1">f</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">b</span><span class="s0">!=-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">[</span><span class="s1">b</span><span class="s0">]}</span><span class="s1">f</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s1">d</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">m</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">g</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">);</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">);</span><span class="s1">m</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">g</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">);</span><span class="s1">m</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}))}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">y </span><span class="s4">in </span><span class="s1">s</span><span class="s0">){</span><span class="s4">var </span><span class="s1">v</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">){</span><span class="s1">v</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertyDescriptor</span><span class="s0">(</span><span class="s1">h</span><span class="s0">,</span><span class="s1">y</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">v</span><span class="s0">&amp;&amp;</span><span class="s1">v</span><span class="s0">.</span><span class="s1">set</span><span class="s0">==</span><span class="s4">null</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s1">m</span><span class="s0">[</span><span class="s1">y</span><span class="s0">]=</span><span class="s1">g</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s1">y</span><span class="s0">],</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">){</span><span class="s4">var </span><span class="s1">O</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertySymbols</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">y</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">y</span><span class="s0">&lt;</span><span class="s1">O</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">y</span><span class="s0">++){</span><span class="s4">var </span><span class="s1">x</span><span class="s0">=</span><span class="s1">O</span><span class="s0">[</span><span class="s1">y</span><span class="s0">];</span><span class="s4">var </span><span class="s1">w</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertyDescriptor</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">x</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">w</span><span class="s0">&amp;&amp;!</span><span class="s1">w</span><span class="s0">.</span><span class="s1">enumerable</span><span class="s0">&amp;&amp;!</span><span class="s1">l</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s1">m</span><span class="s0">[</span><span class="s1">x</span><span class="s0">]=</span><span class="s1">g</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s1">x</span><span class="s0">],</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">w</span><span class="s0">.</span><span class="s1">enumerable</span><span class="s0">){</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">m</span><span class="s0">,</span><span class="s1">x</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">false</span><span class="s0">})}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s4">var </span><span class="s1">j</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertyNames</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">y</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">y</span><span class="s0">&lt;</span><span class="s1">j</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">y</span><span class="s0">++){</span><span class="s4">var </span><span class="s1">F</span><span class="s0">=</span><span class="s1">j</span><span class="s0">[</span><span class="s1">y</span><span class="s0">];</span><span class="s4">var </span><span class="s1">w</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertyDescriptor</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">F</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">w</span><span class="s0">&amp;&amp;</span><span class="s1">w</span><span class="s0">.</span><span class="s1">enumerable</span><span class="s0">){</span><span class="s4">continue</span><span class="s0">}</span><span class="s1">m</span><span class="s0">[</span><span class="s1">F</span><span class="s0">]=</span><span class="s1">g</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s1">F</span><span class="s0">],</span><span class="s1">a</span><span class="s0">-</span><span class="s3">1</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">m</span><span class="s0">,</span><span class="s1">F</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">false</span><span class="s0">})}}</span><span class="s4">return </span><span class="s1">m</span><span class="s0">}</span><span class="s4">return </span><span class="s1">g</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">clonePrototype</span><span class="s0">=</span><span class="s4">function </span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s4">null</span><span class="s0">)</span><span class="s4">return null</span><span class="s0">;</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){};</span><span class="s1">t</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">t</span><span class="s0">};</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">__objToStr</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;[object Date]&quot;</span><span class="s0">}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">__isDate</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;[object Array]&quot;</span><span class="s0">}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">__isArray</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)===</span><span class="s2">&quot;[object RegExp]&quot;</span><span class="s0">}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">__isRegExp</span><span class="s0">=</span><span class="s1">u</span><span class="s0">;</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">global</span><span class="s0">)</span><span class="s1">n</span><span class="s0">+=</span><span class="s2">&quot;g&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ignoreCase</span><span class="s0">)</span><span class="s1">n</span><span class="s0">+=</span><span class="s2">&quot;i&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">multiline</span><span class="s0">)</span><span class="s1">n</span><span class="s0">+=</span><span class="s2">&quot;m&quot;</span><span class="s0">;</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">__getRegExpFlags</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">true</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">=</span><span class="s1">n</span><span class="s0">}}}]);</span></pre>
</body>
</html>