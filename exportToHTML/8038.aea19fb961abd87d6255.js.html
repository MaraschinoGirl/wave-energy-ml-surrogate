<html>
<head>
<title>8038.aea19fb961abd87d6255.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #6aab73;}
.s1 { color: #bcbec4;}
.s2 { color: #bcbec4;}
.s3 { color: #2aacb8;}
.s4 { color: #cf8e6d;}
.s5 { color: #42c3d4;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
8038.aea19fb961abd87d6255.js</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">&quot;use strict&quot;</span><span class="s1">;(</span><span class="s2">self</span><span class="s1">[</span><span class="s0">&quot;webpackChunk_jupyterlab_application_top&quot;</span><span class="s1">]=</span><span class="s2">self</span><span class="s1">[</span><span class="s0">&quot;webpackChunk_jupyterlab_application_top&quot;</span><span class="s1">]||[]).</span><span class="s2">push</span><span class="s1">([[</span><span class="s3">8038</span><span class="s1">],{</span><span class="s3">60148</span><span class="s1">:(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)=&gt;{</span><span class="s2">a</span><span class="s1">.</span><span class="s2">d</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,{</span><span class="s2">CP</span><span class="s1">:()=&gt;</span><span class="s2">l</span><span class="s1">,</span><span class="s2">HT</span><span class="s1">:()=&gt;</span><span class="s2">h</span><span class="s1">,</span><span class="s2">PB</span><span class="s1">:()=&gt;</span><span class="s2">d</span><span class="s1">,</span><span class="s2">aC</span><span class="s1">:()=&gt;</span><span class="s2">c</span><span class="s1">,</span><span class="s2">lC</span><span class="s1">:()=&gt;</span><span class="s2">n</span><span class="s1">,</span><span class="s2">m</span><span class="s1">:()=&gt;</span><span class="s2">o</span><span class="s1">,</span><span class="s2">tk</span><span class="s1">:()=&gt;</span><span class="s2">i</span><span class="s1">});</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">(</span><span class="s3">75905</span><span class="s1">);</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s2">a</span><span class="s1">(</span><span class="s3">16750</span><span class="s1">);</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;fill&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fill</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stroke</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;name&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;rx&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;ry&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attrs</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">t </span><span class="s4">in </span><span class="s2">e</span><span class="s1">.</span><span class="s2">attrs</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">attrs</span><span class="s1">[</span><span class="s2">t</span><span class="s1">])}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">)}</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}),</span><span class="s0">&quot;drawRect&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">a</span><span class="s1">={</span><span class="s2">x</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">fill</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fill</span><span class="s1">,</span><span class="s2">stroke</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stroke</span><span class="s1">,</span><span class="s4">class</span><span class="s1">:</span><span class="s0">&quot;rect&quot;</span><span class="s1">};</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">i</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s2">s</span><span class="s1">.</span><span class="s2">lower</span><span class="s1">()}),</span><span class="s0">&quot;drawBackgroundRect&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">o</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">text</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">H1</span><span class="s1">,</span><span class="s0">&quot; &quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;text&quot;</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;legend&quot;</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;text-anchor&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;tspan&quot;</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">*</span><span class="s3">2</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">text</span><span class="s1">(</span><span class="s2">a</span><span class="s1">);</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;drawText&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">c</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;image&quot;</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">J</span><span class="s1">)(</span><span class="s2">s</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;xlink:href&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">)}),</span><span class="s0">&quot;drawImage&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">l</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)=&gt;{</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;use&quot;</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">J</span><span class="s1">)(</span><span class="s2">s</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;xlink:href&quot;</span><span class="s1">,</span><span class="s0">`#</span><span class="s2">$</span><span class="s1">{</span><span class="s2">n</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)}),</span><span class="s0">&quot;drawEmbeddedImage&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">d</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;{</span><span class="s4">const </span><span class="s2">t</span><span class="s1">={</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s3">100</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s3">100</span><span class="s1">,</span><span class="s2">fill</span><span class="s1">:</span><span class="s0">&quot;#EDF2AE&quot;</span><span class="s1">,</span><span class="s2">stroke</span><span class="s1">:</span><span class="s0">&quot;#666&quot;</span><span class="s1">,</span><span class="s2">anchor</span><span class="s1">:</span><span class="s0">&quot;start&quot;</span><span class="s1">,</span><span class="s2">rx</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">ry</span><span class="s1">:</span><span class="s3">0</span><span class="s1">};</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}),</span><span class="s0">&quot;getNoteRect&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">h</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;{</span><span class="s4">const </span><span class="s2">t</span><span class="s1">={</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s3">100</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s3">100</span><span class="s1">,</span><span class="s0">&quot;text-anchor&quot;</span><span class="s1">:</span><span class="s0">&quot;start&quot;</span><span class="s1">,</span><span class="s2">style</span><span class="s1">:</span><span class="s0">&quot;#666&quot;</span><span class="s1">,</span><span class="s2">textMargin</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">rx</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">ry</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">tspan</span><span class="s1">:</span><span class="s4">true</span><span class="s1">};</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}),</span><span class="s0">&quot;getTextObj&quot;</span><span class="s1">)},</span><span class="s3">13249</span><span class="s1">:(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)=&gt;{</span><span class="s2">a</span><span class="s1">.</span><span class="s2">d</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,{</span><span class="s2">m</span><span class="s1">:()=&gt;</span><span class="s2">r</span><span class="s1">});</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">(</span><span class="s3">75905</span><span class="s1">);</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s4">class</span><span class="s1">{</span><span class="s2">constructor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">init</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">records</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">init</span><span class="s1">()}</span><span class="s4">static</span><span class="s1">{(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s4">this</span><span class="s1">,</span><span class="s0">&quot;ImperativeState&quot;</span><span class="s1">)}</span><span class="s2">reset</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">records</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">init</span><span class="s1">()}}},</span><span class="s3">38038</span><span class="s1">:(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)=&gt;{</span><span class="s2">a</span><span class="s1">.</span><span class="s2">d</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,{</span><span class="s2">diagram</span><span class="s1">:()=&gt;</span><span class="s2">Tt</span><span class="s1">});</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">(</span><span class="s3">60148</span><span class="s1">);</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s2">a</span><span class="s1">(</span><span class="s3">13249</span><span class="s1">);</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s2">a</span><span class="s1">(</span><span class="s3">96049</span><span class="s1">);</span><span class="s4">var </span><span class="s2">n</span><span class="s1">=</span><span class="s2">a</span><span class="s1">(</span><span class="s3">75905</span><span class="s1">);</span><span class="s4">var </span><span class="s2">o</span><span class="s1">=</span><span class="s2">a</span><span class="s1">(</span><span class="s3">24982</span><span class="s1">);</span><span class="s4">var </span><span class="s2">c</span><span class="s1">=</span><span class="s2">a</span><span class="s1">(</span><span class="s3">16750</span><span class="s1">);</span><span class="s4">var </span><span class="s2">l</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s2">a</span><span class="s1">=</span><span class="s2">a</span><span class="s1">||{},</span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">s</span><span class="s1">--;</span><span class="s2">a</span><span class="s1">[</span><span class="s2">t</span><span class="s1">[</span><span class="s2">s</span><span class="s1">]]=</span><span class="s2">e</span><span class="s1">);</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}),</span><span class="s0">&quot;o&quot;</span><span class="s1">),</span><span class="s2">e</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],</span><span class="s2">a</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],</span><span class="s2">s</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],</span><span class="s2">r</span><span class="s1">=[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],</span><span class="s2">i</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">9</span><span class="s1">],</span><span class="s2">o</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">11</span><span class="s1">],</span><span class="s2">c</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">13</span><span class="s1">],</span><span class="s2">l</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">14</span><span class="s1">],</span><span class="s2">d</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">16</span><span class="s1">],</span><span class="s2">h</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">17</span><span class="s1">],</span><span class="s2">p</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">18</span><span class="s1">],</span><span class="s2">g</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">24</span><span class="s1">],</span><span class="s2">u</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">25</span><span class="s1">],</span><span class="s2">f</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">26</span><span class="s1">],</span><span class="s2">x</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">27</span><span class="s1">],</span><span class="s2">y</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">28</span><span class="s1">],</span><span class="s2">b</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">29</span><span class="s1">],</span><span class="s2">m</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">30</span><span class="s1">],</span><span class="s2">T</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">31</span><span class="s1">],</span><span class="s2">E</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">32</span><span class="s1">],</span><span class="s2">w</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">33</span><span class="s1">],</span><span class="s2">v</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">34</span><span class="s1">],</span><span class="s2">k</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">35</span><span class="s1">],</span><span class="s2">I</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">36</span><span class="s1">],</span><span class="s2">L</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">37</span><span class="s1">],</span><span class="s2">_</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">38</span><span class="s1">],</span><span class="s2">P</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">39</span><span class="s1">],</span><span class="s2">A</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">41</span><span class="s1">],</span><span class="s2">N</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">42</span><span class="s1">],</span><span class="s2">M</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">43</span><span class="s1">],</span><span class="s2">D</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">44</span><span class="s1">],</span><span class="s2">S</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">45</span><span class="s1">],</span><span class="s2">O</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">46</span><span class="s1">],</span><span class="s2">R</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">4</span><span class="s1">,</span><span class="s3">5</span><span class="s1">,</span><span class="s3">13</span><span class="s1">,</span><span class="s3">14</span><span class="s1">,</span><span class="s3">16</span><span class="s1">,</span><span class="s3">18</span><span class="s1">,</span><span class="s3">21</span><span class="s1">,</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">31</span><span class="s1">,</span><span class="s3">33</span><span class="s1">,</span><span class="s3">35</span><span class="s1">,</span><span class="s3">36</span><span class="s1">,</span><span class="s3">37</span><span class="s1">,</span><span class="s3">38</span><span class="s1">,</span><span class="s3">39</span><span class="s1">,</span><span class="s3">41</span><span class="s1">,</span><span class="s3">43</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">46</span><span class="s1">,</span><span class="s3">47</span><span class="s1">,</span><span class="s3">48</span><span class="s1">,</span><span class="s3">49</span><span class="s1">,</span><span class="s3">50</span><span class="s1">,</span><span class="s3">52</span><span class="s1">,</span><span class="s3">53</span><span class="s1">,</span><span class="s3">54</span><span class="s1">,</span><span class="s3">59</span><span class="s1">,</span><span class="s3">60</span><span class="s1">,</span><span class="s3">61</span><span class="s1">,</span><span class="s3">62</span><span class="s1">,</span><span class="s3">70</span><span class="s1">],</span><span class="s2">Y</span><span class="s1">=[</span><span class="s3">4</span><span class="s1">,</span><span class="s3">5</span><span class="s1">,</span><span class="s3">16</span><span class="s1">,</span><span class="s3">50</span><span class="s1">,</span><span class="s3">52</span><span class="s1">,</span><span class="s3">53</span><span class="s1">],</span><span class="s2">K</span><span class="s1">=[</span><span class="s3">4</span><span class="s1">,</span><span class="s3">5</span><span class="s1">,</span><span class="s3">13</span><span class="s1">,</span><span class="s3">14</span><span class="s1">,</span><span class="s3">16</span><span class="s1">,</span><span class="s3">18</span><span class="s1">,</span><span class="s3">21</span><span class="s1">,</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">31</span><span class="s1">,</span><span class="s3">33</span><span class="s1">,</span><span class="s3">35</span><span class="s1">,</span><span class="s3">36</span><span class="s1">,</span><span class="s3">37</span><span class="s1">,</span><span class="s3">38</span><span class="s1">,</span><span class="s3">39</span><span class="s1">,</span><span class="s3">41</span><span class="s1">,</span><span class="s3">43</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">46</span><span class="s1">,</span><span class="s3">50</span><span class="s1">,</span><span class="s3">52</span><span class="s1">,</span><span class="s3">53</span><span class="s1">,</span><span class="s3">54</span><span class="s1">,</span><span class="s3">59</span><span class="s1">,</span><span class="s3">60</span><span class="s1">,</span><span class="s3">61</span><span class="s1">,</span><span class="s3">62</span><span class="s1">,</span><span class="s3">70</span><span class="s1">],</span><span class="s2">C</span><span class="s1">=[</span><span class="s3">4</span><span class="s1">,</span><span class="s3">5</span><span class="s1">,</span><span class="s3">13</span><span class="s1">,</span><span class="s3">14</span><span class="s1">,</span><span class="s3">16</span><span class="s1">,</span><span class="s3">18</span><span class="s1">,</span><span class="s3">21</span><span class="s1">,</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">31</span><span class="s1">,</span><span class="s3">33</span><span class="s1">,</span><span class="s3">35</span><span class="s1">,</span><span class="s3">36</span><span class="s1">,</span><span class="s3">37</span><span class="s1">,</span><span class="s3">38</span><span class="s1">,</span><span class="s3">39</span><span class="s1">,</span><span class="s3">41</span><span class="s1">,</span><span class="s3">43</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">46</span><span class="s1">,</span><span class="s3">49</span><span class="s1">,</span><span class="s3">50</span><span class="s1">,</span><span class="s3">52</span><span class="s1">,</span><span class="s3">53</span><span class="s1">,</span><span class="s3">54</span><span class="s1">,</span><span class="s3">59</span><span class="s1">,</span><span class="s3">60</span><span class="s1">,</span><span class="s3">61</span><span class="s1">,</span><span class="s3">62</span><span class="s1">,</span><span class="s3">70</span><span class="s1">],</span><span class="s2">B</span><span class="s1">=[</span><span class="s3">4</span><span class="s1">,</span><span class="s3">5</span><span class="s1">,</span><span class="s3">13</span><span class="s1">,</span><span class="s3">14</span><span class="s1">,</span><span class="s3">16</span><span class="s1">,</span><span class="s3">18</span><span class="s1">,</span><span class="s3">21</span><span class="s1">,</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">31</span><span class="s1">,</span><span class="s3">33</span><span class="s1">,</span><span class="s3">35</span><span class="s1">,</span><span class="s3">36</span><span class="s1">,</span><span class="s3">37</span><span class="s1">,</span><span class="s3">38</span><span class="s1">,</span><span class="s3">39</span><span class="s1">,</span><span class="s3">41</span><span class="s1">,</span><span class="s3">43</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">46</span><span class="s1">,</span><span class="s3">48</span><span class="s1">,</span><span class="s3">50</span><span class="s1">,</span><span class="s3">52</span><span class="s1">,</span><span class="s3">53</span><span class="s1">,</span><span class="s3">54</span><span class="s1">,</span><span class="s3">59</span><span class="s1">,</span><span class="s3">60</span><span class="s1">,</span><span class="s3">61</span><span class="s1">,</span><span class="s3">62</span><span class="s1">,</span><span class="s3">70</span><span class="s1">],</span><span class="s2">$</span><span class="s1">=[</span><span class="s3">4</span><span class="s1">,</span><span class="s3">5</span><span class="s1">,</span><span class="s3">13</span><span class="s1">,</span><span class="s3">14</span><span class="s1">,</span><span class="s3">16</span><span class="s1">,</span><span class="s3">18</span><span class="s1">,</span><span class="s3">21</span><span class="s1">,</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">31</span><span class="s1">,</span><span class="s3">33</span><span class="s1">,</span><span class="s3">35</span><span class="s1">,</span><span class="s3">36</span><span class="s1">,</span><span class="s3">37</span><span class="s1">,</span><span class="s3">38</span><span class="s1">,</span><span class="s3">39</span><span class="s1">,</span><span class="s3">41</span><span class="s1">,</span><span class="s3">43</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">46</span><span class="s1">,</span><span class="s3">47</span><span class="s1">,</span><span class="s3">50</span><span class="s1">,</span><span class="s3">52</span><span class="s1">,</span><span class="s3">53</span><span class="s1">,</span><span class="s3">54</span><span class="s1">,</span><span class="s3">59</span><span class="s1">,</span><span class="s3">60</span><span class="s1">,</span><span class="s3">61</span><span class="s1">,</span><span class="s3">62</span><span class="s1">,</span><span class="s3">70</span><span class="s1">],</span><span class="s2">V</span><span class="s1">=[</span><span class="s3">68</span><span class="s1">,</span><span class="s3">69</span><span class="s1">,</span><span class="s3">70</span><span class="s1">],</span><span class="s2">F</span><span class="s1">=[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">122</span><span class="s1">];</span><span class="s4">var </span><span class="s2">W</span><span class="s1">={</span><span class="s2">trace</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(){}),</span><span class="s0">&quot;trace&quot;</span><span class="s1">),</span><span class="s2">yy</span><span class="s1">:{},</span><span class="s2">symbols_</span><span class="s1">:{</span><span class="s2">error</span><span class="s1">:</span><span class="s3">2</span><span class="s1">,</span><span class="s2">start</span><span class="s1">:</span><span class="s3">3</span><span class="s1">,</span><span class="s2">SPACE</span><span class="s1">:</span><span class="s3">4</span><span class="s1">,</span><span class="s2">NEWLINE</span><span class="s1">:</span><span class="s3">5</span><span class="s1">,</span><span class="s2">SD</span><span class="s1">:</span><span class="s3">6</span><span class="s1">,</span><span class="s2">document</span><span class="s1">:</span><span class="s3">7</span><span class="s1">,</span><span class="s2">line</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s2">statement</span><span class="s1">:</span><span class="s3">9</span><span class="s1">,</span><span class="s2">box_section</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s2">box_line</span><span class="s1">:</span><span class="s3">11</span><span class="s1">,</span><span class="s2">participant_statement</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s2">create</span><span class="s1">:</span><span class="s3">13</span><span class="s1">,</span><span class="s2">box</span><span class="s1">:</span><span class="s3">14</span><span class="s1">,</span><span class="s2">restOfLine</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s2">end</span><span class="s1">:</span><span class="s3">16</span><span class="s1">,</span><span class="s2">signal</span><span class="s1">:</span><span class="s3">17</span><span class="s1">,</span><span class="s2">autonumber</span><span class="s1">:</span><span class="s3">18</span><span class="s1">,</span><span class="s2">NUM</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s2">off</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s2">activate</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s2">deactivate</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s2">note_statement</span><span class="s1">:</span><span class="s3">24</span><span class="s1">,</span><span class="s2">links_statement</span><span class="s1">:</span><span class="s3">25</span><span class="s1">,</span><span class="s2">link_statement</span><span class="s1">:</span><span class="s3">26</span><span class="s1">,</span><span class="s2">properties_statement</span><span class="s1">:</span><span class="s3">27</span><span class="s1">,</span><span class="s2">details_statement</span><span class="s1">:</span><span class="s3">28</span><span class="s1">,</span><span class="s2">title</span><span class="s1">:</span><span class="s3">29</span><span class="s1">,</span><span class="s2">legacy_title</span><span class="s1">:</span><span class="s3">30</span><span class="s1">,</span><span class="s2">acc_title</span><span class="s1">:</span><span class="s3">31</span><span class="s1">,</span><span class="s2">acc_title_value</span><span class="s1">:</span><span class="s3">32</span><span class="s1">,</span><span class="s2">acc_descr</span><span class="s1">:</span><span class="s3">33</span><span class="s1">,</span><span class="s2">acc_descr_value</span><span class="s1">:</span><span class="s3">34</span><span class="s1">,</span><span class="s2">acc_descr_multiline_value</span><span class="s1">:</span><span class="s3">35</span><span class="s1">,</span><span class="s2">loop</span><span class="s1">:</span><span class="s3">36</span><span class="s1">,</span><span class="s2">rect</span><span class="s1">:</span><span class="s3">37</span><span class="s1">,</span><span class="s2">opt</span><span class="s1">:</span><span class="s3">38</span><span class="s1">,</span><span class="s2">alt</span><span class="s1">:</span><span class="s3">39</span><span class="s1">,</span><span class="s2">else_sections</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s2">par</span><span class="s1">:</span><span class="s3">41</span><span class="s1">,</span><span class="s2">par_sections</span><span class="s1">:</span><span class="s3">42</span><span class="s1">,</span><span class="s2">par_over</span><span class="s1">:</span><span class="s3">43</span><span class="s1">,</span><span class="s2">critical</span><span class="s1">:</span><span class="s3">44</span><span class="s1">,</span><span class="s2">option_sections</span><span class="s1">:</span><span class="s3">45</span><span class="s1">,</span><span class="s4">break</span><span class="s1">:</span><span class="s3">46</span><span class="s1">,</span><span class="s2">option</span><span class="s1">:</span><span class="s3">47</span><span class="s1">,</span><span class="s2">and</span><span class="s1">:</span><span class="s3">48</span><span class="s1">,</span><span class="s4">else</span><span class="s1">:</span><span class="s3">49</span><span class="s1">,</span><span class="s2">participant</span><span class="s1">:</span><span class="s3">50</span><span class="s1">,</span><span class="s2">AS</span><span class="s1">:</span><span class="s3">51</span><span class="s1">,</span><span class="s2">participant_actor</span><span class="s1">:</span><span class="s3">52</span><span class="s1">,</span><span class="s2">destroy</span><span class="s1">:</span><span class="s3">53</span><span class="s1">,</span><span class="s2">note</span><span class="s1">:</span><span class="s3">54</span><span class="s1">,</span><span class="s2">placement</span><span class="s1">:</span><span class="s3">55</span><span class="s1">,</span><span class="s2">text2</span><span class="s1">:</span><span class="s3">56</span><span class="s1">,</span><span class="s2">over</span><span class="s1">:</span><span class="s3">57</span><span class="s1">,</span><span class="s2">actor_pair</span><span class="s1">:</span><span class="s3">58</span><span class="s1">,</span><span class="s2">links</span><span class="s1">:</span><span class="s3">59</span><span class="s1">,</span><span class="s2">link</span><span class="s1">:</span><span class="s3">60</span><span class="s1">,</span><span class="s2">properties</span><span class="s1">:</span><span class="s3">61</span><span class="s1">,</span><span class="s2">details</span><span class="s1">:</span><span class="s3">62</span><span class="s1">,</span><span class="s2">spaceList</span><span class="s1">:</span><span class="s3">63</span><span class="s1">,</span><span class="s0">&quot;,&quot;</span><span class="s1">:</span><span class="s3">64</span><span class="s1">,</span><span class="s2">left_of</span><span class="s1">:</span><span class="s3">65</span><span class="s1">,</span><span class="s2">right_of</span><span class="s1">:</span><span class="s3">66</span><span class="s1">,</span><span class="s2">signaltype</span><span class="s1">:</span><span class="s3">67</span><span class="s1">,</span><span class="s0">&quot;+&quot;</span><span class="s1">:</span><span class="s3">68</span><span class="s1">,</span><span class="s0">&quot;-&quot;</span><span class="s1">:</span><span class="s3">69</span><span class="s1">,</span><span class="s2">ACTOR</span><span class="s1">:</span><span class="s3">70</span><span class="s1">,</span><span class="s2">SOLID_OPEN_ARROW</span><span class="s1">:</span><span class="s3">71</span><span class="s1">,</span><span class="s2">DOTTED_OPEN_ARROW</span><span class="s1">:</span><span class="s3">72</span><span class="s1">,</span><span class="s2">SOLID_ARROW</span><span class="s1">:</span><span class="s3">73</span><span class="s1">,</span><span class="s2">BIDIRECTIONAL_SOLID_ARROW</span><span class="s1">:</span><span class="s3">74</span><span class="s1">,</span><span class="s2">DOTTED_ARROW</span><span class="s1">:</span><span class="s3">75</span><span class="s1">,</span><span class="s2">BIDIRECTIONAL_DOTTED_ARROW</span><span class="s1">:</span><span class="s3">76</span><span class="s1">,</span><span class="s2">SOLID_CROSS</span><span class="s1">:</span><span class="s3">77</span><span class="s1">,</span><span class="s2">DOTTED_CROSS</span><span class="s1">:</span><span class="s3">78</span><span class="s1">,</span><span class="s2">SOLID_POINT</span><span class="s1">:</span><span class="s3">79</span><span class="s1">,</span><span class="s2">DOTTED_POINT</span><span class="s1">:</span><span class="s3">80</span><span class="s1">,</span><span class="s2">TXT</span><span class="s1">:</span><span class="s3">81</span><span class="s1">,</span><span class="s2">$accept</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">$end</span><span class="s1">:</span><span class="s3">1</span><span class="s1">},</span><span class="s2">terminals_</span><span class="s1">:{</span><span class="s3">2</span><span class="s1">:</span><span class="s0">&quot;error&quot;</span><span class="s1">,</span><span class="s3">4</span><span class="s1">:</span><span class="s0">&quot;SPACE&quot;</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s0">&quot;NEWLINE&quot;</span><span class="s1">,</span><span class="s3">6</span><span class="s1">:</span><span class="s0">&quot;SD&quot;</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s0">&quot;create&quot;</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s0">&quot;box&quot;</span><span class="s1">,</span><span class="s3">15</span><span class="s1">:</span><span class="s0">&quot;restOfLine&quot;</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:</span><span class="s0">&quot;end&quot;</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s0">&quot;autonumber&quot;</span><span class="s1">,</span><span class="s3">19</span><span class="s1">:</span><span class="s0">&quot;NUM&quot;</span><span class="s1">,</span><span class="s3">20</span><span class="s1">:</span><span class="s0">&quot;off&quot;</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s0">&quot;activate&quot;</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s0">&quot;deactivate&quot;</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s0">&quot;title&quot;</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s0">&quot;legacy_title&quot;</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s0">&quot;acc_title&quot;</span><span class="s1">,</span><span class="s3">32</span><span class="s1">:</span><span class="s0">&quot;acc_title_value&quot;</span><span class="s1">,</span><span class="s3">33</span><span class="s1">:</span><span class="s0">&quot;acc_descr&quot;</span><span class="s1">,</span><span class="s3">34</span><span class="s1">:</span><span class="s0">&quot;acc_descr_value&quot;</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s0">&quot;acc_descr_multiline_value&quot;</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s0">&quot;loop&quot;</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s0">&quot;rect&quot;</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s0">&quot;opt&quot;</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s0">&quot;alt&quot;</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s0">&quot;par&quot;</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s0">&quot;par_over&quot;</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s0">&quot;critical&quot;</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s0">&quot;break&quot;</span><span class="s1">,</span><span class="s3">47</span><span class="s1">:</span><span class="s0">&quot;option&quot;</span><span class="s1">,</span><span class="s3">48</span><span class="s1">:</span><span class="s0">&quot;and&quot;</span><span class="s1">,</span><span class="s3">49</span><span class="s1">:</span><span class="s0">&quot;else&quot;</span><span class="s1">,</span><span class="s3">50</span><span class="s1">:</span><span class="s0">&quot;participant&quot;</span><span class="s1">,</span><span class="s3">51</span><span class="s1">:</span><span class="s0">&quot;AS&quot;</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s0">&quot;participant_actor&quot;</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s0">&quot;destroy&quot;</span><span class="s1">,</span><span class="s3">54</span><span class="s1">:</span><span class="s0">&quot;note&quot;</span><span class="s1">,</span><span class="s3">57</span><span class="s1">:</span><span class="s0">&quot;over&quot;</span><span class="s1">,</span><span class="s3">59</span><span class="s1">:</span><span class="s0">&quot;links&quot;</span><span class="s1">,</span><span class="s3">60</span><span class="s1">:</span><span class="s0">&quot;link&quot;</span><span class="s1">,</span><span class="s3">61</span><span class="s1">:</span><span class="s0">&quot;properties&quot;</span><span class="s1">,</span><span class="s3">62</span><span class="s1">:</span><span class="s0">&quot;details&quot;</span><span class="s1">,</span><span class="s3">64</span><span class="s1">:</span><span class="s0">&quot;,&quot;</span><span class="s1">,</span><span class="s3">65</span><span class="s1">:</span><span class="s0">&quot;left_of&quot;</span><span class="s1">,</span><span class="s3">66</span><span class="s1">:</span><span class="s0">&quot;right_of&quot;</span><span class="s1">,</span><span class="s3">68</span><span class="s1">:</span><span class="s0">&quot;+&quot;</span><span class="s1">,</span><span class="s3">69</span><span class="s1">:</span><span class="s0">&quot;-&quot;</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s0">&quot;ACTOR&quot;</span><span class="s1">,</span><span class="s3">71</span><span class="s1">:</span><span class="s0">&quot;SOLID_OPEN_ARROW&quot;</span><span class="s1">,</span><span class="s3">72</span><span class="s1">:</span><span class="s0">&quot;DOTTED_OPEN_ARROW&quot;</span><span class="s1">,</span><span class="s3">73</span><span class="s1">:</span><span class="s0">&quot;SOLID_ARROW&quot;</span><span class="s1">,</span><span class="s3">74</span><span class="s1">:</span><span class="s0">&quot;BIDIRECTIONAL_SOLID_ARROW&quot;</span><span class="s1">,</span><span class="s3">75</span><span class="s1">:</span><span class="s0">&quot;DOTTED_ARROW&quot;</span><span class="s1">,</span><span class="s3">76</span><span class="s1">:</span><span class="s0">&quot;BIDIRECTIONAL_DOTTED_ARROW&quot;</span><span class="s1">,</span><span class="s3">77</span><span class="s1">:</span><span class="s0">&quot;SOLID_CROSS&quot;</span><span class="s1">,</span><span class="s3">78</span><span class="s1">:</span><span class="s0">&quot;DOTTED_CROSS&quot;</span><span class="s1">,</span><span class="s3">79</span><span class="s1">:</span><span class="s0">&quot;SOLID_POINT&quot;</span><span class="s1">,</span><span class="s3">80</span><span class="s1">:</span><span class="s0">&quot;DOTTED_POINT&quot;</span><span class="s1">,</span><span class="s3">81</span><span class="s1">:</span><span class="s0">&quot;TXT&quot;</span><span class="s1">},</span><span class="s2">productions_</span><span class="s1">:[</span><span class="s3">0</span><span class="s1">,[</span><span class="s3">3</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">3</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">3</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">7</span><span class="s1">,</span><span class="s3">0</span><span class="s1">],[</span><span class="s3">7</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">8</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">8</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">8</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">10</span><span class="s1">,</span><span class="s3">0</span><span class="s1">],[</span><span class="s3">10</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">11</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">11</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">11</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">9</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">45</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">45</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">42</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">42</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">40</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">40</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">12</span><span class="s1">,</span><span class="s3">5</span><span class="s1">],[</span><span class="s3">12</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">12</span><span class="s1">,</span><span class="s3">5</span><span class="s1">],[</span><span class="s3">12</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">12</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">24</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">24</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">25</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">26</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">27</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">28</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">63</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],[</span><span class="s3">63</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">58</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],[</span><span class="s3">58</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">55</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">55</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">17</span><span class="s1">,</span><span class="s3">5</span><span class="s1">],[</span><span class="s3">17</span><span class="s1">,</span><span class="s3">5</span><span class="s1">],[</span><span class="s3">17</span><span class="s1">,</span><span class="s3">4</span><span class="s1">],[</span><span class="s3">22</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">67</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">67</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">67</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">67</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">67</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">67</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">67</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">67</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">67</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">67</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],[</span><span class="s3">56</span><span class="s1">,</span><span class="s3">1</span><span class="s1">]],</span><span class="s2">performAction</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s1">){</span><span class="s4">var </span><span class="s2">c</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">;</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">i</span><span class="s1">){</span><span class="s4">case </span><span class="s3">3</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">apply</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]);</span><span class="s4">return </span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">4</span><span class="s1">:</span><span class="s4">case </span><span class="s3">9</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">5</span><span class="s1">:</span><span class="s4">case </span><span class="s3">10</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">push</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">6</span><span class="s1">:</span><span class="s4">case </span><span class="s3">7</span><span class="s1">:</span><span class="s4">case </span><span class="s3">11</span><span class="s1">:</span><span class="s4">case </span><span class="s3">12</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">8</span><span class="s1">:</span><span class="s4">case </span><span class="s3">13</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">15</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">].</span><span class="s2">type</span><span class="s1">=</span><span class="s0">&quot;createParticipant&quot;</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">16</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">unshift</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;boxStart&quot;</span><span class="s1">,</span><span class="s2">boxData</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseBoxData</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">])});</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">push</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;boxEnd&quot;</span><span class="s1">,</span><span class="s2">boxText</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]});</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">18</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;sequenceIndex&quot;</span><span class="s1">,</span><span class="s2">sequenceIndex</span><span class="s1">:</span><span class="s2">Number</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">sequenceIndexStep</span><span class="s1">:</span><span class="s2">Number</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]),</span><span class="s2">sequenceVisible</span><span class="s1">:</span><span class="s4">true</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">AUTONUMBER</span><span class="s1">};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">19</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;sequenceIndex&quot;</span><span class="s1">,</span><span class="s2">sequenceIndex</span><span class="s1">:</span><span class="s2">Number</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]),</span><span class="s2">sequenceIndexStep</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">sequenceVisible</span><span class="s1">:</span><span class="s4">true</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">AUTONUMBER</span><span class="s1">};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">20</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;sequenceIndex&quot;</span><span class="s1">,</span><span class="s2">sequenceVisible</span><span class="s1">:</span><span class="s4">false</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">AUTONUMBER</span><span class="s1">};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">21</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;sequenceIndex&quot;</span><span class="s1">,</span><span class="s2">sequenceVisible</span><span class="s1">:</span><span class="s4">true</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">AUTONUMBER</span><span class="s1">};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">22</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;activeStart&quot;</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_START</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">23</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;activeEnd&quot;</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_END</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">29</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">setDiagramTitle</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">].</span><span class="s2">substring</span><span class="s1">(</span><span class="s3">6</span><span class="s1">));</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">].</span><span class="s2">substring</span><span class="s1">(</span><span class="s3">6</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">30</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">setDiagramTitle</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">].</span><span class="s2">substring</span><span class="s1">(</span><span class="s3">7</span><span class="s1">));</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">].</span><span class="s2">substring</span><span class="s1">(</span><span class="s3">7</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">31</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">();</span><span class="s2">r</span><span class="s1">.</span><span class="s2">setAccTitle</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">32</span><span class="s1">:</span><span class="s4">case </span><span class="s3">33</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">();</span><span class="s2">r</span><span class="s1">.</span><span class="s2">setAccDescription</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">34</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">unshift</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;loopStart&quot;</span><span class="s1">,</span><span class="s2">loopText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">LOOP_START</span><span class="s1">});</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">push</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;loopEnd&quot;</span><span class="s1">,</span><span class="s2">loopText</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">LOOP_END</span><span class="s1">});</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">35</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">unshift</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;rectStart&quot;</span><span class="s1">,</span><span class="s2">color</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">RECT_START</span><span class="s1">});</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">push</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;rectEnd&quot;</span><span class="s1">,</span><span class="s2">color</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">RECT_END</span><span class="s1">});</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">36</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">unshift</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;optStart&quot;</span><span class="s1">,</span><span class="s2">optText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">OPT_START</span><span class="s1">});</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">push</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;optEnd&quot;</span><span class="s1">,</span><span class="s2">optText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">OPT_END</span><span class="s1">});</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">37</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">unshift</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;altStart&quot;</span><span class="s1">,</span><span class="s2">altText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ALT_START</span><span class="s1">});</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">push</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;altEnd&quot;</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ALT_END</span><span class="s1">});</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">38</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">unshift</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;parStart&quot;</span><span class="s1">,</span><span class="s2">parText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_START</span><span class="s1">});</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">push</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;parEnd&quot;</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_END</span><span class="s1">});</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">39</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">unshift</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;parStart&quot;</span><span class="s1">,</span><span class="s2">parText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_OVER_START</span><span class="s1">});</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">push</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;parEnd&quot;</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_END</span><span class="s1">});</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">40</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">unshift</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;criticalStart&quot;</span><span class="s1">,</span><span class="s2">criticalText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">CRITICAL_START</span><span class="s1">});</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">push</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;criticalEnd&quot;</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">CRITICAL_END</span><span class="s1">});</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">41</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">unshift</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;breakStart&quot;</span><span class="s1">,</span><span class="s2">breakText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BREAK_START</span><span class="s1">});</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">push</span><span class="s1">({</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;breakEnd&quot;</span><span class="s1">,</span><span class="s2">optText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BREAK_END</span><span class="s1">});</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">43</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">].</span><span class="s2">concat</span><span class="s1">([{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;option&quot;</span><span class="s1">,</span><span class="s2">optionText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">CRITICAL_OPTION</span><span class="s1">},</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]]);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">45</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">].</span><span class="s2">concat</span><span class="s1">([{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;and&quot;</span><span class="s1">,</span><span class="s2">parText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_AND</span><span class="s1">},</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]]);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">47</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">].</span><span class="s2">concat</span><span class="s1">([{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;else&quot;</span><span class="s1">,</span><span class="s2">altText</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]),</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ALT_ELSE</span><span class="s1">},</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]]);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">48</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">].</span><span class="s2">draw</span><span class="s1">=</span><span class="s0">&quot;participant&quot;</span><span class="s1">;</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">].</span><span class="s2">type</span><span class="s1">=</span><span class="s0">&quot;addParticipant&quot;</span><span class="s1">;</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">].</span><span class="s2">description</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">49</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">draw</span><span class="s1">=</span><span class="s0">&quot;participant&quot;</span><span class="s1">;</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">type</span><span class="s1">=</span><span class="s0">&quot;addParticipant&quot;</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">50</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">].</span><span class="s2">draw</span><span class="s1">=</span><span class="s0">&quot;actor&quot;</span><span class="s1">;</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">].</span><span class="s2">type</span><span class="s1">=</span><span class="s0">&quot;addParticipant&quot;</span><span class="s1">;</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">].</span><span class="s2">description</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">51</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">draw</span><span class="s1">=</span><span class="s0">&quot;actor&quot;</span><span class="s1">;</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">type</span><span class="s1">=</span><span class="s0">&quot;addParticipant&quot;</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">52</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">type</span><span class="s1">=</span><span class="s0">&quot;destroyParticipant&quot;</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">53</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;addNote&quot;</span><span class="s1">,</span><span class="s2">placement</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">text</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]}];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">54</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]=[].</span><span class="s2">concat</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]).</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s3">2</span><span class="s1">);</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">][</span><span class="s3">0</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">][</span><span class="s3">0</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">;</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">][</span><span class="s3">1</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">][</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;addNote&quot;</span><span class="s1">,</span><span class="s2">placement</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">.</span><span class="s2">OVER</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">].</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s3">2</span><span class="s1">),</span><span class="s2">text</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]}];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">55</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;addLinks&quot;</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">text</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]}];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">56</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;addALink&quot;</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">text</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]}];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">57</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;addProperties&quot;</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">text</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]}];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">58</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;addDetails&quot;</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">text</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]}];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">61</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">62</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">63</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">.</span><span class="s2">LEFTOF</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">64</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">.</span><span class="s2">RIGHTOF</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">65</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">4</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;addMessage&quot;</span><span class="s1">,</span><span class="s2">from</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">4</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">to</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">],</span><span class="s2">msg</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">],</span><span class="s2">activate</span><span class="s1">:</span><span class="s4">true</span><span class="s1">},{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;activeStart&quot;</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_START</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">}];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">66</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">4</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;addMessage&quot;</span><span class="s1">,</span><span class="s2">from</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">4</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">to</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">],</span><span class="s2">msg</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]},{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;activeEnd&quot;</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_END</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">4</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">}];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">67</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=[</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">],</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">],{</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;addMessage&quot;</span><span class="s1">,</span><span class="s2">from</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">3</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">to</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">signalType</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">-</span><span class="s3">2</span><span class="s1">],</span><span class="s2">msg</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]}];</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">68</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">={</span><span class="s2">type</span><span class="s1">:</span><span class="s0">&quot;addParticipant&quot;</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">]};</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">69</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_OPEN</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">70</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_OPEN</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">71</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">72</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_SOLID</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">73</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">74</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_DOTTED</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">75</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_CROSS</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">76</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_CROSS</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">77</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_POINT</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">78</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_POINT</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">79</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">n</span><span class="s1">[</span><span class="s2">c</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">().</span><span class="s2">substring</span><span class="s1">(</span><span class="s3">1</span><span class="s1">));</span><span class="s4">break</span><span class="s1">}}),</span><span class="s0">&quot;anonymous&quot;</span><span class="s1">),</span><span class="s2">table</span><span class="s1">:[{</span><span class="s3">3</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s3">4</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s3">6</span><span class="s1">:</span><span class="s2">s</span><span class="s1">},{</span><span class="s3">1</span><span class="s1">:[</span><span class="s3">3</span><span class="s1">]},{</span><span class="s3">3</span><span class="s1">:</span><span class="s3">5</span><span class="s1">,</span><span class="s3">4</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s3">6</span><span class="s1">:</span><span class="s2">s</span><span class="s1">},{</span><span class="s3">3</span><span class="s1">:</span><span class="s3">6</span><span class="s1">,</span><span class="s3">4</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s3">6</span><span class="s1">:</span><span class="s2">s</span><span class="s1">},</span><span class="s2">t</span><span class="s1">([</span><span class="s3">1</span><span class="s1">,</span><span class="s3">4</span><span class="s1">,</span><span class="s3">5</span><span class="s1">,</span><span class="s3">13</span><span class="s1">,</span><span class="s3">14</span><span class="s1">,</span><span class="s3">18</span><span class="s1">,</span><span class="s3">21</span><span class="s1">,</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">31</span><span class="s1">,</span><span class="s3">33</span><span class="s1">,</span><span class="s3">35</span><span class="s1">,</span><span class="s3">36</span><span class="s1">,</span><span class="s3">37</span><span class="s1">,</span><span class="s3">38</span><span class="s1">,</span><span class="s3">39</span><span class="s1">,</span><span class="s3">41</span><span class="s1">,</span><span class="s3">43</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">46</span><span class="s1">,</span><span class="s3">50</span><span class="s1">,</span><span class="s3">52</span><span class="s1">,</span><span class="s3">53</span><span class="s1">,</span><span class="s3">54</span><span class="s1">,</span><span class="s3">59</span><span class="s1">,</span><span class="s3">60</span><span class="s1">,</span><span class="s3">61</span><span class="s1">,</span><span class="s3">62</span><span class="s1">,</span><span class="s3">70</span><span class="s1">],</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">7</span><span class="s1">:</span><span class="s3">7</span><span class="s1">}),{</span><span class="s3">1</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">1</span><span class="s1">]},{</span><span class="s3">1</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">2</span><span class="s1">]},{</span><span class="s3">1</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">3</span><span class="s1">],</span><span class="s3">4</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s3">8</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">9</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">12</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">17</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s3">27</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s3">33</span><span class="s1">:</span><span class="s2">x</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">y</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s2">T</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s2">E</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s2">w</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s2">v</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">k</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s2">I</span><span class="s1">,</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">,</span><span class="s3">54</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s3">59</span><span class="s1">:</span><span class="s2">N</span><span class="s1">,</span><span class="s3">60</span><span class="s1">:</span><span class="s2">M</span><span class="s1">,</span><span class="s3">61</span><span class="s1">:</span><span class="s2">D</span><span class="s1">,</span><span class="s3">62</span><span class="s1">:</span><span class="s2">S</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">5</span><span class="s1">]),{</span><span class="s3">9</span><span class="s1">:</span><span class="s3">47</span><span class="s1">,</span><span class="s3">12</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">17</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s3">27</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s3">33</span><span class="s1">:</span><span class="s2">x</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">y</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s2">T</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s2">E</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s2">w</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s2">v</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">k</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s2">I</span><span class="s1">,</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">,</span><span class="s3">54</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s3">59</span><span class="s1">:</span><span class="s2">N</span><span class="s1">,</span><span class="s3">60</span><span class="s1">:</span><span class="s2">M</span><span class="s1">,</span><span class="s3">61</span><span class="s1">:</span><span class="s2">D</span><span class="s1">,</span><span class="s3">62</span><span class="s1">:</span><span class="s2">S</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">7</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">8</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">14</span><span class="s1">]),{</span><span class="s3">12</span><span class="s1">:</span><span class="s3">48</span><span class="s1">,</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">},{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">49</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">50</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">53</span><span class="s1">],</span><span class="s3">19</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">51</span><span class="s1">],</span><span class="s3">20</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">52</span><span class="s1">]},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">54</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">55</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">56</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">57</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">58</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">59</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">60</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">29</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">30</span><span class="s1">]),{</span><span class="s3">32</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">61</span><span class="s1">]},{</span><span class="s3">34</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">62</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">33</span><span class="s1">]),{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">63</span><span class="s1">]},{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">64</span><span class="s1">]},{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">65</span><span class="s1">]},{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">66</span><span class="s1">]},{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">67</span><span class="s1">]},{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">68</span><span class="s1">]},{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">69</span><span class="s1">]},{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">70</span><span class="s1">]},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">71</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">72</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">73</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">67</span><span class="s1">:</span><span class="s3">74</span><span class="s1">,</span><span class="s3">71</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">75</span><span class="s1">],</span><span class="s3">72</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">76</span><span class="s1">],</span><span class="s3">73</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">77</span><span class="s1">],</span><span class="s3">74</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">78</span><span class="s1">],</span><span class="s3">75</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">79</span><span class="s1">],</span><span class="s3">76</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">80</span><span class="s1">],</span><span class="s3">77</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">81</span><span class="s1">],</span><span class="s3">78</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">82</span><span class="s1">],</span><span class="s3">79</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">83</span><span class="s1">],</span><span class="s3">80</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">84</span><span class="s1">]},{</span><span class="s3">55</span><span class="s1">:</span><span class="s3">85</span><span class="s1">,</span><span class="s3">57</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">86</span><span class="s1">],</span><span class="s3">65</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">87</span><span class="s1">],</span><span class="s3">66</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">88</span><span class="s1">]},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">89</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">90</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">91</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">92</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},</span><span class="s2">t</span><span class="s1">([</span><span class="s3">5</span><span class="s1">,</span><span class="s3">51</span><span class="s1">,</span><span class="s3">64</span><span class="s1">,</span><span class="s3">71</span><span class="s1">,</span><span class="s3">72</span><span class="s1">,</span><span class="s3">73</span><span class="s1">,</span><span class="s3">74</span><span class="s1">,</span><span class="s3">75</span><span class="s1">,</span><span class="s3">76</span><span class="s1">,</span><span class="s3">77</span><span class="s1">,</span><span class="s3">78</span><span class="s1">,</span><span class="s3">79</span><span class="s1">,</span><span class="s3">80</span><span class="s1">,</span><span class="s3">81</span><span class="s1">],[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">68</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">6</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">15</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">Y</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">9</span><span class="s1">],{</span><span class="s3">10</span><span class="s1">:</span><span class="s3">93</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">17</span><span class="s1">]),{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">95</span><span class="s1">],</span><span class="s3">19</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">94</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">96</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">21</span><span class="s1">]),{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">97</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">98</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">24</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">25</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">26</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">27</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">28</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">31</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">32</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">K</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">7</span><span class="s1">:</span><span class="s3">99</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">K</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">7</span><span class="s1">:</span><span class="s3">100</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">K</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">7</span><span class="s1">:</span><span class="s3">101</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">C</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">40</span><span class="s1">:</span><span class="s3">102</span><span class="s1">,</span><span class="s3">7</span><span class="s1">:</span><span class="s3">103</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">B</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">42</span><span class="s1">:</span><span class="s3">104</span><span class="s1">,</span><span class="s3">7</span><span class="s1">:</span><span class="s3">105</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">B</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">7</span><span class="s1">:</span><span class="s3">105</span><span class="s1">,</span><span class="s3">42</span><span class="s1">:</span><span class="s3">106</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">$</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">45</span><span class="s1">:</span><span class="s3">107</span><span class="s1">,</span><span class="s3">7</span><span class="s1">:</span><span class="s3">108</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">K</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">7</span><span class="s1">:</span><span class="s3">109</span><span class="s1">}),{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">111</span><span class="s1">],</span><span class="s3">51</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">110</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">113</span><span class="s1">],</span><span class="s3">51</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">112</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">114</span><span class="s1">]},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">117</span><span class="s1">,</span><span class="s3">68</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">115</span><span class="s1">],</span><span class="s3">69</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">116</span><span class="s1">],</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">V</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">69</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">V</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">70</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">V</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">71</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">V</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">72</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">V</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">73</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">V</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">74</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">V</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">75</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">V</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">76</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">V</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">77</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">V</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">78</span><span class="s1">]),{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">118</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">120</span><span class="s1">,</span><span class="s3">58</span><span class="s1">:</span><span class="s3">119</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">70</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">63</span><span class="s1">]},{</span><span class="s3">70</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">64</span><span class="s1">]},{</span><span class="s3">56</span><span class="s1">:</span><span class="s3">121</span><span class="s1">,</span><span class="s3">81</span><span class="s1">:</span><span class="s2">F</span><span class="s1">},{</span><span class="s3">56</span><span class="s1">:</span><span class="s3">123</span><span class="s1">,</span><span class="s3">81</span><span class="s1">:</span><span class="s2">F</span><span class="s1">},{</span><span class="s3">56</span><span class="s1">:</span><span class="s3">124</span><span class="s1">,</span><span class="s3">81</span><span class="s1">:</span><span class="s2">F</span><span class="s1">},{</span><span class="s3">56</span><span class="s1">:</span><span class="s3">125</span><span class="s1">,</span><span class="s3">81</span><span class="s1">:</span><span class="s2">F</span><span class="s1">},{</span><span class="s3">4</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">128</span><span class="s1">],</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">130</span><span class="s1">],</span><span class="s3">11</span><span class="s1">:</span><span class="s3">127</span><span class="s1">,</span><span class="s3">12</span><span class="s1">:</span><span class="s3">129</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">126</span><span class="s1">],</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">131</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">19</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">20</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">22</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">23</span><span class="s1">]),{</span><span class="s3">4</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s3">8</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">9</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">12</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">132</span><span class="s1">],</span><span class="s3">17</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s3">27</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s3">33</span><span class="s1">:</span><span class="s2">x</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">y</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s2">T</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s2">E</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s2">w</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s2">v</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">k</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s2">I</span><span class="s1">,</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">,</span><span class="s3">54</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s3">59</span><span class="s1">:</span><span class="s2">N</span><span class="s1">,</span><span class="s3">60</span><span class="s1">:</span><span class="s2">M</span><span class="s1">,</span><span class="s3">61</span><span class="s1">:</span><span class="s2">D</span><span class="s1">,</span><span class="s3">62</span><span class="s1">:</span><span class="s2">S</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">4</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s3">8</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">9</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">12</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">133</span><span class="s1">],</span><span class="s3">17</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s3">27</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s3">33</span><span class="s1">:</span><span class="s2">x</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">y</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s2">T</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s2">E</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s2">w</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s2">v</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">k</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s2">I</span><span class="s1">,</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">,</span><span class="s3">54</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s3">59</span><span class="s1">:</span><span class="s2">N</span><span class="s1">,</span><span class="s3">60</span><span class="s1">:</span><span class="s2">M</span><span class="s1">,</span><span class="s3">61</span><span class="s1">:</span><span class="s2">D</span><span class="s1">,</span><span class="s3">62</span><span class="s1">:</span><span class="s2">S</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">4</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s3">8</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">9</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">12</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">134</span><span class="s1">],</span><span class="s3">17</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s3">27</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s3">33</span><span class="s1">:</span><span class="s2">x</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">y</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s2">T</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s2">E</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s2">w</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s2">v</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">k</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s2">I</span><span class="s1">,</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">,</span><span class="s3">54</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s3">59</span><span class="s1">:</span><span class="s2">N</span><span class="s1">,</span><span class="s3">60</span><span class="s1">:</span><span class="s2">M</span><span class="s1">,</span><span class="s3">61</span><span class="s1">:</span><span class="s2">D</span><span class="s1">,</span><span class="s3">62</span><span class="s1">:</span><span class="s2">S</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">135</span><span class="s1">]},{</span><span class="s3">4</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s3">8</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">9</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">12</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">46</span><span class="s1">],</span><span class="s3">17</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s3">27</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s3">33</span><span class="s1">:</span><span class="s2">x</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">y</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s2">T</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s2">E</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s2">w</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s2">v</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">k</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s2">I</span><span class="s1">,</span><span class="s3">49</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">136</span><span class="s1">],</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">,</span><span class="s3">54</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s3">59</span><span class="s1">:</span><span class="s2">N</span><span class="s1">,</span><span class="s3">60</span><span class="s1">:</span><span class="s2">M</span><span class="s1">,</span><span class="s3">61</span><span class="s1">:</span><span class="s2">D</span><span class="s1">,</span><span class="s3">62</span><span class="s1">:</span><span class="s2">S</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">137</span><span class="s1">]},{</span><span class="s3">4</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s3">8</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">9</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">12</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">44</span><span class="s1">],</span><span class="s3">17</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s3">27</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s3">33</span><span class="s1">:</span><span class="s2">x</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">y</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s2">T</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s2">E</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s2">w</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s2">v</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">k</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s2">I</span><span class="s1">,</span><span class="s3">48</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">138</span><span class="s1">],</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">,</span><span class="s3">54</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s3">59</span><span class="s1">:</span><span class="s2">N</span><span class="s1">,</span><span class="s3">60</span><span class="s1">:</span><span class="s2">M</span><span class="s1">,</span><span class="s3">61</span><span class="s1">:</span><span class="s2">D</span><span class="s1">,</span><span class="s3">62</span><span class="s1">:</span><span class="s2">S</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">139</span><span class="s1">]},{</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">140</span><span class="s1">]},{</span><span class="s3">4</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s3">8</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">9</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">12</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">42</span><span class="s1">],</span><span class="s3">17</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s3">27</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s3">33</span><span class="s1">:</span><span class="s2">x</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">y</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s2">T</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s2">E</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s2">w</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s2">v</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">k</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s2">I</span><span class="s1">,</span><span class="s3">47</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">141</span><span class="s1">],</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">,</span><span class="s3">54</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s3">59</span><span class="s1">:</span><span class="s2">N</span><span class="s1">,</span><span class="s3">60</span><span class="s1">:</span><span class="s2">M</span><span class="s1">,</span><span class="s3">61</span><span class="s1">:</span><span class="s2">D</span><span class="s1">,</span><span class="s3">62</span><span class="s1">:</span><span class="s2">S</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">4</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s3">5</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s3">8</span><span class="s1">:</span><span class="s3">8</span><span class="s1">,</span><span class="s3">9</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s3">12</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s3">13</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s3">14</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">142</span><span class="s1">],</span><span class="s3">17</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s3">18</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s3">21</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s3">22</span><span class="s1">:</span><span class="s3">40</span><span class="s1">,</span><span class="s3">23</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s3">24</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s3">25</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s3">26</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s3">27</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s3">28</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s3">29</span><span class="s1">:</span><span class="s2">g</span><span class="s1">,</span><span class="s3">30</span><span class="s1">:</span><span class="s2">u</span><span class="s1">,</span><span class="s3">31</span><span class="s1">:</span><span class="s2">f</span><span class="s1">,</span><span class="s3">33</span><span class="s1">:</span><span class="s2">x</span><span class="s1">,</span><span class="s3">35</span><span class="s1">:</span><span class="s2">y</span><span class="s1">,</span><span class="s3">36</span><span class="s1">:</span><span class="s2">b</span><span class="s1">,</span><span class="s3">37</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s3">38</span><span class="s1">:</span><span class="s2">T</span><span class="s1">,</span><span class="s3">39</span><span class="s1">:</span><span class="s2">E</span><span class="s1">,</span><span class="s3">41</span><span class="s1">:</span><span class="s2">w</span><span class="s1">,</span><span class="s3">43</span><span class="s1">:</span><span class="s2">v</span><span class="s1">,</span><span class="s3">44</span><span class="s1">:</span><span class="s2">k</span><span class="s1">,</span><span class="s3">46</span><span class="s1">:</span><span class="s2">I</span><span class="s1">,</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">,</span><span class="s3">54</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s3">59</span><span class="s1">:</span><span class="s2">N</span><span class="s1">,</span><span class="s3">60</span><span class="s1">:</span><span class="s2">M</span><span class="s1">,</span><span class="s3">61</span><span class="s1">:</span><span class="s2">D</span><span class="s1">,</span><span class="s3">62</span><span class="s1">:</span><span class="s2">S</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">143</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">49</span><span class="s1">]),{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">144</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">51</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">52</span><span class="s1">]),{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">145</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">146</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},{</span><span class="s3">56</span><span class="s1">:</span><span class="s3">147</span><span class="s1">,</span><span class="s3">81</span><span class="s1">:</span><span class="s2">F</span><span class="s1">},{</span><span class="s3">56</span><span class="s1">:</span><span class="s3">148</span><span class="s1">,</span><span class="s3">81</span><span class="s1">:</span><span class="s2">F</span><span class="s1">},{</span><span class="s3">56</span><span class="s1">:</span><span class="s3">149</span><span class="s1">,</span><span class="s3">81</span><span class="s1">:</span><span class="s2">F</span><span class="s1">},{</span><span class="s3">64</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">150</span><span class="s1">],</span><span class="s3">81</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">62</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">55</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">79</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">56</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">57</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">58</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">16</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">Y</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">10</span><span class="s1">]),{</span><span class="s3">12</span><span class="s1">:</span><span class="s3">151</span><span class="s1">,</span><span class="s3">50</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s3">52</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s3">53</span><span class="s1">:</span><span class="s2">P</span><span class="s1">},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">Y</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">12</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">Y</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">13</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">18</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">34</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">35</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">36</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">37</span><span class="s1">]),{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">152</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">38</span><span class="s1">]),{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">153</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">39</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">40</span><span class="s1">]),{</span><span class="s3">15</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">154</span><span class="s1">]},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">41</span><span class="s1">]),{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">155</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">1</span><span class="s1">,</span><span class="s3">156</span><span class="s1">]},{</span><span class="s3">56</span><span class="s1">:</span><span class="s3">157</span><span class="s1">,</span><span class="s3">81</span><span class="s1">:</span><span class="s2">F</span><span class="s1">},{</span><span class="s3">56</span><span class="s1">:</span><span class="s3">158</span><span class="s1">,</span><span class="s3">81</span><span class="s1">:</span><span class="s2">F</span><span class="s1">},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">67</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">53</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">54</span><span class="s1">]},{</span><span class="s3">22</span><span class="s1">:</span><span class="s3">159</span><span class="s1">,</span><span class="s3">70</span><span class="s1">:</span><span class="s2">O</span><span class="s1">},</span><span class="s2">t</span><span class="s1">(</span><span class="s2">Y</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">11</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">C</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">7</span><span class="s1">:</span><span class="s3">103</span><span class="s1">,</span><span class="s3">40</span><span class="s1">:</span><span class="s3">160</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">B</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">7</span><span class="s1">:</span><span class="s3">105</span><span class="s1">,</span><span class="s3">42</span><span class="s1">:</span><span class="s3">161</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">$</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,{</span><span class="s3">7</span><span class="s1">:</span><span class="s3">108</span><span class="s1">,</span><span class="s3">45</span><span class="s1">:</span><span class="s3">162</span><span class="s1">}),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">48</span><span class="s1">]),</span><span class="s2">t</span><span class="s1">(</span><span class="s2">R</span><span class="s1">,[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">50</span><span class="s1">]),{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">65</span><span class="s1">]},{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">66</span><span class="s1">]},{</span><span class="s3">81</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">61</span><span class="s1">]},{</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">47</span><span class="s1">]},{</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">45</span><span class="s1">]},{</span><span class="s3">16</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">43</span><span class="s1">]}],</span><span class="s2">defaultActions</span><span class="s1">:{</span><span class="s3">5</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">1</span><span class="s1">],</span><span class="s3">6</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">2</span><span class="s1">],</span><span class="s3">87</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">63</span><span class="s1">],</span><span class="s3">88</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">64</span><span class="s1">],</span><span class="s3">121</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">55</span><span class="s1">],</span><span class="s3">122</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">79</span><span class="s1">],</span><span class="s3">123</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">56</span><span class="s1">],</span><span class="s3">124</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">57</span><span class="s1">],</span><span class="s3">125</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">58</span><span class="s1">],</span><span class="s3">147</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">67</span><span class="s1">],</span><span class="s3">148</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">53</span><span class="s1">],</span><span class="s3">149</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">54</span><span class="s1">],</span><span class="s3">157</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">65</span><span class="s1">],</span><span class="s3">158</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">66</span><span class="s1">],</span><span class="s3">159</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">61</span><span class="s1">],</span><span class="s3">160</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">47</span><span class="s1">],</span><span class="s3">161</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">45</span><span class="s1">],</span><span class="s3">162</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">43</span><span class="s1">]},</span><span class="s2">parseError</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">recoverable</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">trace</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Error</span><span class="s1">(</span><span class="s2">e</span><span class="s1">);</span><span class="s2">s</span><span class="s1">.</span><span class="s2">hash</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s4">throw </span><span class="s2">s</span><span class="s1">}}),</span><span class="s0">&quot;parseError&quot;</span><span class="s1">),</span><span class="s2">parse</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s4">this</span><span class="s1">,</span><span class="s2">s</span><span class="s1">=[</span><span class="s3">0</span><span class="s1">],</span><span class="s2">r</span><span class="s1">=[],</span><span class="s2">i</span><span class="s1">=[</span><span class="s4">null</span><span class="s1">],</span><span class="s2">o</span><span class="s1">=[],</span><span class="s2">c</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">table</span><span class="s1">,</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">d</span><span class="s1">=</span><span class="s3">0</span><span class="s1">,</span><span class="s2">h</span><span class="s1">=</span><span class="s3">0</span><span class="s1">,</span><span class="s2">p</span><span class="s1">=</span><span class="s3">0</span><span class="s1">,</span><span class="s2">g</span><span class="s1">=</span><span class="s3">2</span><span class="s1">,</span><span class="s2">u</span><span class="s1">=</span><span class="s3">1</span><span class="s1">;</span><span class="s4">var </span><span class="s2">f</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s2">arguments</span><span class="s1">,</span><span class="s3">1</span><span class="s1">);</span><span class="s4">var </span><span class="s2">x</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">create</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">lexer</span><span class="s1">);</span><span class="s4">var </span><span class="s2">y</span><span class="s1">={</span><span class="s2">yy</span><span class="s1">:{}};</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s2">b </span><span class="s4">in this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">,</span><span class="s2">b</span><span class="s1">)){</span><span class="s2">y</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">[</span><span class="s2">b</span><span class="s1">]=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">[</span><span class="s2">b</span><span class="s1">]}}</span><span class="s2">x</span><span class="s1">.</span><span class="s2">setInput</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">y</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">);</span><span class="s2">y</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">lexer</span><span class="s1">=</span><span class="s2">x</span><span class="s1">;</span><span class="s2">y</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">parser</span><span class="s1">=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">x</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">==</span><span class="s0">&quot;undefined&quot;</span><span class="s1">){</span><span class="s2">x</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">={}}</span><span class="s4">var </span><span class="s2">m</span><span class="s1">=</span><span class="s2">x</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">m</span><span class="s1">);</span><span class="s4">var </span><span class="s2">T</span><span class="s1">=</span><span class="s2">x</span><span class="s1">.</span><span class="s2">options</span><span class="s1">&amp;&amp;</span><span class="s2">x</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">y</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">===</span><span class="s0">&quot;function&quot;</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">=</span><span class="s2">y</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">=</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">getPrototypeOf</span><span class="s1">(</span><span class="s4">this</span><span class="s1">).</span><span class="s2">parseError</span><span class="s1">}</span><span class="s4">function </span><span class="s2">E</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">t</span><span class="s1">;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">length</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">t</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">t</span><span class="s1">}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">E</span><span class="s1">,</span><span class="s0">&quot;popStack&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">w</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">;</span><span class="s2">t</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">pop</span><span class="s1">()||</span><span class="s2">x</span><span class="s1">.</span><span class="s2">lex</span><span class="s1">()||</span><span class="s2">u</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">t</span><span class="s1">!==</span><span class="s0">&quot;number&quot;</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t </span><span class="s4">instanceof </span><span class="s2">Array</span><span class="s1">){</span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s2">t</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">pop</span><span class="s1">()}</span><span class="s2">t</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">symbols_</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]||</span><span class="s2">t</span><span class="s1">}</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">w</span><span class="s1">,</span><span class="s0">&quot;lex&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">v</span><span class="s1">,</span><span class="s2">k</span><span class="s1">,</span><span class="s2">I</span><span class="s1">,</span><span class="s2">L</span><span class="s1">,</span><span class="s2">_</span><span class="s1">,</span><span class="s2">P</span><span class="s1">,</span><span class="s2">A</span><span class="s1">={},</span><span class="s2">N</span><span class="s1">,</span><span class="s2">M</span><span class="s1">,</span><span class="s2">D</span><span class="s1">,</span><span class="s2">S</span><span class="s1">;</span><span class="s4">while</span><span class="s1">(</span><span class="s4">true</span><span class="s1">){</span><span class="s2">I</span><span class="s1">=</span><span class="s2">s</span><span class="s1">[</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">];</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">defaultActions</span><span class="s1">[</span><span class="s2">I</span><span class="s1">]){</span><span class="s2">L</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">defaultActions</span><span class="s1">[</span><span class="s2">I</span><span class="s1">]}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">if</span><span class="s1">(</span><span class="s2">v</span><span class="s1">===</span><span class="s4">null</span><span class="s1">||</span><span class="s4">typeof </span><span class="s2">v</span><span class="s1">==</span><span class="s0">&quot;undefined&quot;</span><span class="s1">){</span><span class="s2">v</span><span class="s1">=</span><span class="s2">w</span><span class="s1">()}</span><span class="s2">L</span><span class="s1">=</span><span class="s2">c</span><span class="s1">[</span><span class="s2">I</span><span class="s1">]&amp;&amp;</span><span class="s2">c</span><span class="s1">[</span><span class="s2">I</span><span class="s1">][</span><span class="s2">v</span><span class="s1">]}</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">L</span><span class="s1">===</span><span class="s0">&quot;undefined&quot;</span><span class="s1">||!</span><span class="s2">L</span><span class="s1">.</span><span class="s2">length</span><span class="s1">||!</span><span class="s2">L</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]){</span><span class="s4">var </span><span class="s2">O</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s2">S</span><span class="s1">=[];</span><span class="s4">for</span><span class="s1">(</span><span class="s2">N </span><span class="s4">in </span><span class="s2">c</span><span class="s1">[</span><span class="s2">I</span><span class="s1">]){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">terminals_</span><span class="s1">[</span><span class="s2">N</span><span class="s1">]&amp;&amp;</span><span class="s2">N</span><span class="s1">&gt;</span><span class="s2">g</span><span class="s1">){</span><span class="s2">S</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s0">&quot;'&quot;</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">terminals_</span><span class="s1">[</span><span class="s2">N</span><span class="s1">]+</span><span class="s0">&quot;'&quot;</span><span class="s1">)}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">x</span><span class="s1">.</span><span class="s2">showPosition</span><span class="s1">){</span><span class="s2">O</span><span class="s1">=</span><span class="s0">&quot;Parse error on line &quot;</span><span class="s1">+(</span><span class="s2">d</span><span class="s1">+</span><span class="s3">1</span><span class="s1">)+</span><span class="s0">&quot;:</span><span class="s4">\n</span><span class="s0">&quot;</span><span class="s1">+</span><span class="s2">x</span><span class="s1">.</span><span class="s2">showPosition</span><span class="s1">()+</span><span class="s0">&quot;</span><span class="s4">\n</span><span class="s0">Expecting &quot;</span><span class="s1">+</span><span class="s2">S</span><span class="s1">.</span><span class="s2">join</span><span class="s1">(</span><span class="s0">&quot;, &quot;</span><span class="s1">)+</span><span class="s0">&quot;, got '&quot;</span><span class="s1">+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">terminals_</span><span class="s1">[</span><span class="s2">v</span><span class="s1">]||</span><span class="s2">v</span><span class="s1">)+</span><span class="s0">&quot;'&quot;</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">O</span><span class="s1">=</span><span class="s0">&quot;Parse error on line &quot;</span><span class="s1">+(</span><span class="s2">d</span><span class="s1">+</span><span class="s3">1</span><span class="s1">)+</span><span class="s0">&quot;: Unexpected &quot;</span><span class="s1">+(</span><span class="s2">v</span><span class="s1">==</span><span class="s2">u</span><span class="s1">?</span><span class="s0">&quot;end of input&quot;</span><span class="s1">:</span><span class="s0">&quot;'&quot;</span><span class="s1">+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">terminals_</span><span class="s1">[</span><span class="s2">v</span><span class="s1">]||</span><span class="s2">v</span><span class="s1">)+</span><span class="s0">&quot;'&quot;</span><span class="s1">)}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">(</span><span class="s2">O</span><span class="s1">,{</span><span class="s2">text</span><span class="s1">:</span><span class="s2">x</span><span class="s1">.</span><span class="s2">match</span><span class="s1">,</span><span class="s2">token</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">terminals_</span><span class="s1">[</span><span class="s2">v</span><span class="s1">]||</span><span class="s2">v</span><span class="s1">,</span><span class="s2">line</span><span class="s1">:</span><span class="s2">x</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">,</span><span class="s2">loc</span><span class="s1">:</span><span class="s2">m</span><span class="s1">,</span><span class="s2">expected</span><span class="s1">:</span><span class="s2">S</span><span class="s1">})}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">L</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]</span><span class="s4">instanceof </span><span class="s2">Array</span><span class="s1">&amp;&amp;</span><span class="s2">L</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">1</span><span class="s1">){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Parse Error: multiple actions possible at state: &quot;</span><span class="s1">+</span><span class="s2">I</span><span class="s1">+</span><span class="s0">&quot;, token: &quot;</span><span class="s1">+</span><span class="s2">v</span><span class="s1">)}</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">L</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]){</span><span class="s4">case </span><span class="s3">1</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">v</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">x</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">x</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">);</span><span class="s2">s</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">L</span><span class="s1">[</span><span class="s3">1</span><span class="s1">]);</span><span class="s2">v</span><span class="s1">=</span><span class="s4">null</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">k</span><span class="s1">){</span><span class="s2">h</span><span class="s1">=</span><span class="s2">x</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">;</span><span class="s2">l</span><span class="s1">=</span><span class="s2">x</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">;</span><span class="s2">d</span><span class="s1">=</span><span class="s2">x</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">;</span><span class="s2">m</span><span class="s1">=</span><span class="s2">x</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">p</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s2">p</span><span class="s1">--}}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">v</span><span class="s1">=</span><span class="s2">k</span><span class="s1">;</span><span class="s2">k</span><span class="s1">=</span><span class="s4">null</span><span class="s1">}</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">2</span><span class="s1">:</span><span class="s2">M</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">productions_</span><span class="s1">[</span><span class="s2">L</span><span class="s1">[</span><span class="s3">1</span><span class="s1">]][</span><span class="s3">1</span><span class="s1">];</span><span class="s2">A</span><span class="s1">.</span><span class="s2">$</span><span class="s1">=</span><span class="s2">i</span><span class="s1">[</span><span class="s2">i</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">M</span><span class="s1">];</span><span class="s2">A</span><span class="s1">.</span><span class="s2">_$</span><span class="s1">={</span><span class="s2">first_line</span><span class="s1">:</span><span class="s2">o</span><span class="s1">[</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-(</span><span class="s2">M</span><span class="s1">||</span><span class="s3">1</span><span class="s1">)].</span><span class="s2">first_line</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s2">o</span><span class="s1">[</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">last_line</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s2">o</span><span class="s1">[</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-(</span><span class="s2">M</span><span class="s1">||</span><span class="s3">1</span><span class="s1">)].</span><span class="s2">first_column</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s2">o</span><span class="s1">[</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">last_column</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s2">T</span><span class="s1">){</span><span class="s2">A</span><span class="s1">.</span><span class="s2">_$</span><span class="s1">.</span><span class="s2">range</span><span class="s1">=[</span><span class="s2">o</span><span class="s1">[</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-(</span><span class="s2">M</span><span class="s1">||</span><span class="s3">1</span><span class="s1">)].</span><span class="s2">range</span><span class="s1">[</span><span class="s3">0</span><span class="s1">],</span><span class="s2">o</span><span class="s1">[</span><span class="s2">o</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">range</span><span class="s1">[</span><span class="s3">1</span><span class="s1">]]}</span><span class="s2">P</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">performAction</span><span class="s1">.</span><span class="s2">apply</span><span class="s1">(</span><span class="s2">A</span><span class="s1">,[</span><span class="s2">l</span><span class="s1">,</span><span class="s2">h</span><span class="s1">,</span><span class="s2">d</span><span class="s1">,</span><span class="s2">y</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">,</span><span class="s2">L</span><span class="s1">[</span><span class="s3">1</span><span class="s1">],</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s1">].</span><span class="s2">concat</span><span class="s1">(</span><span class="s2">f</span><span class="s1">));</span><span class="s4">if</span><span class="s1">(</span><span class="s4">typeof </span><span class="s2">P</span><span class="s1">!==</span><span class="s0">&quot;undefined&quot;</span><span class="s1">){</span><span class="s4">return </span><span class="s2">P</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">M</span><span class="s1">){</span><span class="s2">s</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">M</span><span class="s1">*</span><span class="s3">2</span><span class="s1">);</span><span class="s2">i</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">M</span><span class="s1">);</span><span class="s2">o</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,-</span><span class="s3">1</span><span class="s1">*</span><span class="s2">M</span><span class="s1">)}</span><span class="s2">s</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">productions_</span><span class="s1">[</span><span class="s2">L</span><span class="s1">[</span><span class="s3">1</span><span class="s1">]][</span><span class="s3">0</span><span class="s1">]);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">A</span><span class="s1">.</span><span class="s2">$</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">A</span><span class="s1">.</span><span class="s2">_$</span><span class="s1">);</span><span class="s2">D</span><span class="s1">=</span><span class="s2">c</span><span class="s1">[</span><span class="s2">s</span><span class="s1">[</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">2</span><span class="s1">]][</span><span class="s2">s</span><span class="s1">[</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]];</span><span class="s2">s</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">D</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">3</span><span class="s1">:</span><span class="s4">return true</span><span class="s1">}}</span><span class="s4">return true</span><span class="s1">}),</span><span class="s0">&quot;parse&quot;</span><span class="s1">)};</span><span class="s4">var </span><span class="s2">q</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">={</span><span class="s2">EOF</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">parseError</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">parser</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">.</span><span class="s2">parser</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}}),</span><span class="s0">&quot;parseError&quot;</span><span class="s1">),</span><span class="s2">setInput</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">=</span><span class="s2">e</span><span class="s1">||</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">||{};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_more</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_backtrack</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">=[</span><span class="s0">&quot;INITIAL&quot;</span><span class="s1">];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">={</span><span class="s2">first_line</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s3">0</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">=[</span><span class="s3">0</span><span class="s1">,</span><span class="s3">0</span><span class="s1">]}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}),</span><span class="s0">&quot;setInput&quot;</span><span class="s1">),</span><span class="s2">input</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">++;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">++;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">match</span><span class="s1">(</span><span class="s5">/(?:\r\n?|\n).*/g</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">++;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_line</span><span class="s1">++}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_column</span><span class="s1">++}</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">[</span><span class="s3">1</span><span class="s1">]++}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">1</span><span class="s1">);</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}),</span><span class="s0">&quot;input&quot;</span><span class="s1">),</span><span class="s2">unput</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s4">var </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s5">/(?:\r\n?|\n)/g</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">=</span><span class="s2">t</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">e</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">-=</span><span class="s2">e</span><span class="s1">;</span><span class="s4">var </span><span class="s2">s</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s5">/(?:\r\n?|\n)/g</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">-=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">}</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">={</span><span class="s2">first_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_line</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">+</span><span class="s3">1</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_column</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s2">a</span><span class="s1">?(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">?</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_column</span><span class="s1">:</span><span class="s3">0</span><span class="s1">)+</span><span class="s2">s</span><span class="s1">[</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">length</span><span class="s1">].</span><span class="s2">length</span><span class="s1">-</span><span class="s2">a</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_column</span><span class="s1">-</span><span class="s2">e</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">=[</span><span class="s2">r</span><span class="s1">[</span><span class="s3">0</span><span class="s1">],</span><span class="s2">r</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">-</span><span class="s2">e</span><span class="s1">]}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}),</span><span class="s0">&quot;unput&quot;</span><span class="s1">),</span><span class="s2">more</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_more</span><span class="s1">=</span><span class="s4">true</span><span class="s1">;</span><span class="s4">return this</span><span class="s1">}),</span><span class="s0">&quot;more&quot;</span><span class="s1">),</span><span class="s2">reject</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">backtrack_lexer</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_backtrack</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">(</span><span class="s0">&quot;Lexical error on line &quot;</span><span class="s1">+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">+</span><span class="s3">1</span><span class="s1">)+</span><span class="s0">&quot;. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).</span><span class="s4">\n</span><span class="s0">&quot;</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">showPosition</span><span class="s1">(),{</span><span class="s2">text</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">token</span><span class="s1">:</span><span class="s4">null</span><span class="s1">,</span><span class="s2">line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">})}</span><span class="s4">return this</span><span class="s1">}),</span><span class="s0">&quot;reject&quot;</span><span class="s1">),</span><span class="s2">less</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">unput</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s2">t</span><span class="s1">))}),</span><span class="s0">&quot;less&quot;</span><span class="s1">),</span><span class="s2">pastInput</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">.</span><span class="s2">length</span><span class="s1">);</span><span class="s4">return</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">20</span><span class="s1">?</span><span class="s0">&quot;...&quot;</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">)+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(-</span><span class="s3">20</span><span class="s1">).</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/\n/g</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">)}),</span><span class="s0">&quot;pastInput&quot;</span><span class="s1">),</span><span class="s2">upcomingInput</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&lt;</span><span class="s3">20</span><span class="s1">){</span><span class="s2">t</span><span class="s1">+=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s3">20</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">)}</span><span class="s4">return</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s3">20</span><span class="s1">)+(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">20</span><span class="s1">?</span><span class="s0">&quot;...&quot;</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">)).</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/\n/g</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">)}),</span><span class="s0">&quot;upcomingInput&quot;</span><span class="s1">),</span><span class="s2">showPosition</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">pastInput</span><span class="s1">();</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Array</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">length</span><span class="s1">+</span><span class="s3">1</span><span class="s1">).</span><span class="s2">join</span><span class="s1">(</span><span class="s0">&quot;-&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s2">t</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">upcomingInput</span><span class="s1">()+</span><span class="s0">&quot;</span><span class="s4">\n</span><span class="s0">&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot;^&quot;</span><span class="s1">}),</span><span class="s0">&quot;showPosition&quot;</span><span class="s1">),</span><span class="s2">test_match</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">var </span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">backtrack_lexer</span><span class="s1">){</span><span class="s2">r</span><span class="s1">={</span><span class="s2">yylineno</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">,</span><span class="s2">yylloc</span><span class="s1">:{</span><span class="s2">first_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_line</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">last_line</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">first_column</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_column</span><span class="s1">},</span><span class="s2">yytext</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">,</span><span class="s2">match</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">,</span><span class="s2">matches</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matches</span><span class="s1">,</span><span class="s2">matched</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">,</span><span class="s2">yyleng</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">,</span><span class="s2">offset</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">,</span><span class="s2">_more</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_more</span><span class="s1">,</span><span class="s2">_input</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">,</span><span class="s2">yy</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">,</span><span class="s2">conditionStack</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">),</span><span class="s2">done</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">)}}</span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">match</span><span class="s1">(</span><span class="s5">/(?:\r\n?|\n).*/g</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">+=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">={</span><span class="s2">first_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_line</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">+</span><span class="s3">1</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_column</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s2">s</span><span class="s1">?</span><span class="s2">s</span><span class="s1">[</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">length</span><span class="s1">-</span><span class="s2">s</span><span class="s1">[</span><span class="s2">s</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">match</span><span class="s1">(</span><span class="s5">/\r?\n?/</span><span class="s1">)[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">last_column</span><span class="s1">+</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matches</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">ranges</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylloc</span><span class="s1">.</span><span class="s2">range</span><span class="s1">=[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">offset</span><span class="s1">+=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yyleng</span><span class="s1">]}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_more</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_backtrack</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">matched</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">[</span><span class="s3">0</span><span class="s1">];</span><span class="s2">a</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">performAction</span><span class="s1">.</span><span class="s2">call</span><span class="s1">(</span><span class="s4">this</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">,</span><span class="s4">this</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]);</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">&amp;&amp;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">=</span><span class="s4">false</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">){</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}</span><span class="s4">else if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_backtrack</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s2">i </span><span class="s4">in </span><span class="s2">r</span><span class="s1">){</span><span class="s4">this</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]=</span><span class="s2">r</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]}</span><span class="s4">return false</span><span class="s1">}</span><span class="s4">return false</span><span class="s1">}),</span><span class="s0">&quot;test_match&quot;</span><span class="s1">),</span><span class="s2">next</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">EOF</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">done</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}</span><span class="s4">var </span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_more</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">match</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">}</span><span class="s4">var </span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_currentRules</span><span class="s1">();</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">i</span><span class="s1">&lt;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">i</span><span class="s1">++){</span><span class="s2">a</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">.</span><span class="s2">match</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">rules</span><span class="s1">[</span><span class="s2">r</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]]);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">&amp;&amp;(!</span><span class="s2">e</span><span class="s1">||</span><span class="s2">a</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s2">e</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">length</span><span class="s1">)){</span><span class="s2">e</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">backtrack_lexer</span><span class="s1">){</span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">test_match</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">r</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">!==</span><span class="s4">false</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}</span><span class="s4">else if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_backtrack</span><span class="s1">){</span><span class="s2">e</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return false</span><span class="s1">}}</span><span class="s4">else if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.</span><span class="s2">options</span><span class="s1">.</span><span class="s2">flex</span><span class="s1">){</span><span class="s4">break</span><span class="s1">}}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s2">t</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">test_match</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">r</span><span class="s1">[</span><span class="s2">s</span><span class="s1">]);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">!==</span><span class="s4">false</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}</span><span class="s4">return false</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">_input</span><span class="s1">===</span><span class="s0">&quot;&quot;</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">EOF</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">parseError</span><span class="s1">(</span><span class="s0">&quot;Lexical error on line &quot;</span><span class="s1">+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">+</span><span class="s3">1</span><span class="s1">)+</span><span class="s0">&quot;. Unrecognized text.</span><span class="s4">\n</span><span class="s0">&quot;</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">showPosition</span><span class="s1">(),{</span><span class="s2">text</span><span class="s1">:</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">token</span><span class="s1">:</span><span class="s4">null</span><span class="s1">,</span><span class="s2">line</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yylineno</span><span class="s1">})}}),</span><span class="s0">&quot;next&quot;</span><span class="s1">),</span><span class="s2">lex</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">next</span><span class="s1">();</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">e</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">lex</span><span class="s1">()}}),</span><span class="s0">&quot;lex&quot;</span><span class="s1">),</span><span class="s2">begin</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}),</span><span class="s0">&quot;begin&quot;</span><span class="s1">),</span><span class="s2">popState</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(){</span><span class="s4">var </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">pop</span><span class="s1">()}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">[</span><span class="s3">0</span><span class="s1">]}}),</span><span class="s0">&quot;popState&quot;</span><span class="s1">),</span><span class="s2">_currentRules</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&amp;&amp;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditions</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]].</span><span class="s2">rules</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditions</span><span class="s1">[</span><span class="s0">&quot;INITIAL&quot;</span><span class="s1">].</span><span class="s2">rules</span><span class="s1">}}),</span><span class="s0">&quot;_currentRules&quot;</span><span class="s1">),</span><span class="s2">topState</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">-</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">e</span><span class="s1">||</span><span class="s3">0</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">&gt;=</span><span class="s3">0</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">return</span><span class="s0">&quot;INITIAL&quot;</span><span class="s1">}}),</span><span class="s0">&quot;topState&quot;</span><span class="s1">),</span><span class="s2">pushState</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}),</span><span class="s0">&quot;pushState&quot;</span><span class="s1">),</span><span class="s2">stateStackSize</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">conditionStack</span><span class="s1">.</span><span class="s2">length</span><span class="s1">}),</span><span class="s0">&quot;stateStackSize&quot;</span><span class="s1">),</span><span class="s2">options</span><span class="s1">:{</span><span class="s0">&quot;case-insensitive&quot;</span><span class="s1">:</span><span class="s4">true</span><span class="s1">},</span><span class="s2">performAction</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">var </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">;</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">s</span><span class="s1">){</span><span class="s4">case </span><span class="s3">0</span><span class="s1">:</span><span class="s4">return </span><span class="s3">5</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">1</span><span class="s1">:</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">2</span><span class="s1">:</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">3</span><span class="s1">:</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">4</span><span class="s1">:</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">5</span><span class="s1">:</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">6</span><span class="s1">:</span><span class="s4">return </span><span class="s3">19</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">7</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">14</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">8</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;ID&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">50</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">9</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;ID&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">52</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">10</span><span class="s1">:</span><span class="s4">return </span><span class="s3">13</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">11</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;ID&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">53</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">12</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">trim</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;ALIAS&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">70</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">13</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">51</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">14</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">return </span><span class="s3">5</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">15</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">36</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">16</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">37</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">17</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">38</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">18</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">39</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">19</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">49</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">20</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">41</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">21</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">43</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">22</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">48</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">23</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">44</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">24</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">47</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">25</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;LINE&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">46</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">26</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">return </span><span class="s3">15</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">27</span><span class="s1">:</span><span class="s4">return </span><span class="s3">16</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">28</span><span class="s1">:</span><span class="s4">return </span><span class="s3">65</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">29</span><span class="s1">:</span><span class="s4">return </span><span class="s3">66</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">30</span><span class="s1">:</span><span class="s4">return </span><span class="s3">59</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">31</span><span class="s1">:</span><span class="s4">return </span><span class="s3">60</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">32</span><span class="s1">:</span><span class="s4">return </span><span class="s3">61</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">33</span><span class="s1">:</span><span class="s4">return </span><span class="s3">62</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">34</span><span class="s1">:</span><span class="s4">return </span><span class="s3">57</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">35</span><span class="s1">:</span><span class="s4">return </span><span class="s3">54</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">36</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;ID&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">21</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">37</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;ID&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">23</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">38</span><span class="s1">:</span><span class="s4">return </span><span class="s3">29</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">39</span><span class="s1">:</span><span class="s4">return </span><span class="s3">30</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">40</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;acc_title&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">31</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">41</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">return</span><span class="s0">&quot;acc_title_value&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">42</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;acc_descr&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s3">33</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">43</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">return</span><span class="s0">&quot;acc_descr_value&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">44</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">begin</span><span class="s1">(</span><span class="s0">&quot;acc_descr_multiline&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">45</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">popState</span><span class="s1">();</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">46</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;acc_descr_multiline_value&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">47</span><span class="s1">:</span><span class="s4">return </span><span class="s3">6</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">48</span><span class="s1">:</span><span class="s4">return </span><span class="s3">18</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">49</span><span class="s1">:</span><span class="s4">return </span><span class="s3">20</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">50</span><span class="s1">:</span><span class="s4">return </span><span class="s3">64</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">51</span><span class="s1">:</span><span class="s4">return </span><span class="s3">5</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">52</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">yytext</span><span class="s1">.</span><span class="s2">trim</span><span class="s1">();</span><span class="s4">return </span><span class="s3">70</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">53</span><span class="s1">:</span><span class="s4">return </span><span class="s3">73</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">54</span><span class="s1">:</span><span class="s4">return </span><span class="s3">74</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">55</span><span class="s1">:</span><span class="s4">return </span><span class="s3">75</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">56</span><span class="s1">:</span><span class="s4">return </span><span class="s3">76</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">57</span><span class="s1">:</span><span class="s4">return </span><span class="s3">71</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">58</span><span class="s1">:</span><span class="s4">return </span><span class="s3">72</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">59</span><span class="s1">:</span><span class="s4">return </span><span class="s3">77</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">60</span><span class="s1">:</span><span class="s4">return </span><span class="s3">78</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">61</span><span class="s1">:</span><span class="s4">return </span><span class="s3">79</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">62</span><span class="s1">:</span><span class="s4">return </span><span class="s3">80</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">63</span><span class="s1">:</span><span class="s4">return </span><span class="s3">81</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">64</span><span class="s1">:</span><span class="s4">return </span><span class="s3">68</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">65</span><span class="s1">:</span><span class="s4">return </span><span class="s3">69</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">66</span><span class="s1">:</span><span class="s4">return </span><span class="s3">5</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s3">67</span><span class="s1">:</span><span class="s4">return</span><span class="s0">&quot;INVALID&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">}}),</span><span class="s0">&quot;anonymous&quot;</span><span class="s1">),</span><span class="s2">rules</span><span class="s1">:[</span><span class="s5">/^(?:[\n]+)/i</span><span class="s1">,</span><span class="s5">/^(?:\s+)/i</span><span class="s1">,</span><span class="s5">/^(?:((?!\n)\s)+)/i</span><span class="s1">,</span><span class="s5">/^(?:#[^\n]*)/i</span><span class="s1">,</span><span class="s5">/^(?:%(?!\{)[^\n]*)/i</span><span class="s1">,</span><span class="s5">/^(?:[^\}]%%[^\n]*)/i</span><span class="s1">,</span><span class="s5">/^(?:[0-9]+(?=[ \n]+))/i</span><span class="s1">,</span><span class="s5">/^(?:box\b)/i</span><span class="s1">,</span><span class="s5">/^(?:participant\b)/i</span><span class="s1">,</span><span class="s5">/^(?:actor\b)/i</span><span class="s1">,</span><span class="s5">/^(?:create\b)/i</span><span class="s1">,</span><span class="s5">/^(?:destroy\b)/i</span><span class="s1">,</span><span class="s5">/^(?:[^\&lt;-&gt;\-&gt;:\n,;]+?([\-]*[^\&lt;-&gt;\-&gt;:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i</span><span class="s1">,</span><span class="s5">/^(?:as\b)/i</span><span class="s1">,</span><span class="s5">/^(?:(?:))/i</span><span class="s1">,</span><span class="s5">/^(?:loop\b)/i</span><span class="s1">,</span><span class="s5">/^(?:rect\b)/i</span><span class="s1">,</span><span class="s5">/^(?:opt\b)/i</span><span class="s1">,</span><span class="s5">/^(?:alt\b)/i</span><span class="s1">,</span><span class="s5">/^(?:else\b)/i</span><span class="s1">,</span><span class="s5">/^(?:par\b)/i</span><span class="s1">,</span><span class="s5">/^(?:par_over\b)/i</span><span class="s1">,</span><span class="s5">/^(?:and\b)/i</span><span class="s1">,</span><span class="s5">/^(?:critical\b)/i</span><span class="s1">,</span><span class="s5">/^(?:option\b)/i</span><span class="s1">,</span><span class="s5">/^(?:break\b)/i</span><span class="s1">,</span><span class="s5">/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i</span><span class="s1">,</span><span class="s5">/^(?:end\b)/i</span><span class="s1">,</span><span class="s5">/^(?:left of\b)/i</span><span class="s1">,</span><span class="s5">/^(?:right of\b)/i</span><span class="s1">,</span><span class="s5">/^(?:links\b)/i</span><span class="s1">,</span><span class="s5">/^(?:link\b)/i</span><span class="s1">,</span><span class="s5">/^(?:properties\b)/i</span><span class="s1">,</span><span class="s5">/^(?:details\b)/i</span><span class="s1">,</span><span class="s5">/^(?:over\b)/i</span><span class="s1">,</span><span class="s5">/^(?:note\b)/i</span><span class="s1">,</span><span class="s5">/^(?:activate\b)/i</span><span class="s1">,</span><span class="s5">/^(?:deactivate\b)/i</span><span class="s1">,</span><span class="s5">/^(?:title\s[^#\n;]+)/i</span><span class="s1">,</span><span class="s5">/^(?:title:\s[^#\n;]+)/i</span><span class="s1">,</span><span class="s5">/^(?:accTitle\s*:\s*)/i</span><span class="s1">,</span><span class="s5">/^(?:(?!\n||)*[^\n]*)/i</span><span class="s1">,</span><span class="s5">/^(?:accDescr\s*:\s*)/i</span><span class="s1">,</span><span class="s5">/^(?:(?!\n||)*[^\n]*)/i</span><span class="s1">,</span><span class="s5">/^(?:accDescr\s*\{\s*)/i</span><span class="s1">,</span><span class="s5">/^(?:[\}])/i</span><span class="s1">,</span><span class="s5">/^(?:[^\}]*)/i</span><span class="s1">,</span><span class="s5">/^(?:sequenceDiagram\b)/i</span><span class="s1">,</span><span class="s5">/^(?:autonumber\b)/i</span><span class="s1">,</span><span class="s5">/^(?:off\b)/i</span><span class="s1">,</span><span class="s5">/^(?:,)/i</span><span class="s1">,</span><span class="s5">/^(?:;)/i</span><span class="s1">,</span><span class="s5">/^(?:[^\+\&lt;-&gt;\-&gt;:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\&lt;-&gt;\-&gt;:\n,;]+)*)/i</span><span class="s1">,</span><span class="s5">/^(?:-&gt;&gt;)/i</span><span class="s1">,</span><span class="s5">/^(?:&lt;&lt;-&gt;&gt;)/i</span><span class="s1">,</span><span class="s5">/^(?:--&gt;&gt;)/i</span><span class="s1">,</span><span class="s5">/^(?:&lt;&lt;--&gt;&gt;)/i</span><span class="s1">,</span><span class="s5">/^(?:-&gt;)/i</span><span class="s1">,</span><span class="s5">/^(?:--&gt;)/i</span><span class="s1">,</span><span class="s5">/^(?:-[x])/i</span><span class="s1">,</span><span class="s5">/^(?:--[x])/i</span><span class="s1">,</span><span class="s5">/^(?:-[\)])/i</span><span class="s1">,</span><span class="s5">/^(?:--[\)])/i</span><span class="s1">,</span><span class="s5">/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i</span><span class="s1">,</span><span class="s5">/^(?:\+)/i</span><span class="s1">,</span><span class="s5">/^(?:-)/i</span><span class="s1">,</span><span class="s5">/^(?:$)/i</span><span class="s1">,</span><span class="s5">/^(?:.)/i</span><span class="s1">],</span><span class="s2">conditions</span><span class="s1">:{</span><span class="s2">acc_descr_multiline</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">45</span><span class="s1">,</span><span class="s3">46</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">acc_descr</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">43</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">acc_title</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">41</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">ID</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">3</span><span class="s1">,</span><span class="s3">12</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">ALIAS</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">3</span><span class="s1">,</span><span class="s3">13</span><span class="s1">,</span><span class="s3">14</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">LINE</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">2</span><span class="s1">,</span><span class="s3">3</span><span class="s1">,</span><span class="s3">26</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">false</span><span class="s1">},</span><span class="s2">INITIAL</span><span class="s1">:{</span><span class="s2">rules</span><span class="s1">:[</span><span class="s3">0</span><span class="s1">,</span><span class="s3">1</span><span class="s1">,</span><span class="s3">3</span><span class="s1">,</span><span class="s3">4</span><span class="s1">,</span><span class="s3">5</span><span class="s1">,</span><span class="s3">6</span><span class="s1">,</span><span class="s3">7</span><span class="s1">,</span><span class="s3">8</span><span class="s1">,</span><span class="s3">9</span><span class="s1">,</span><span class="s3">10</span><span class="s1">,</span><span class="s3">11</span><span class="s1">,</span><span class="s3">15</span><span class="s1">,</span><span class="s3">16</span><span class="s1">,</span><span class="s3">17</span><span class="s1">,</span><span class="s3">18</span><span class="s1">,</span><span class="s3">19</span><span class="s1">,</span><span class="s3">20</span><span class="s1">,</span><span class="s3">21</span><span class="s1">,</span><span class="s3">22</span><span class="s1">,</span><span class="s3">23</span><span class="s1">,</span><span class="s3">24</span><span class="s1">,</span><span class="s3">25</span><span class="s1">,</span><span class="s3">27</span><span class="s1">,</span><span class="s3">28</span><span class="s1">,</span><span class="s3">29</span><span class="s1">,</span><span class="s3">30</span><span class="s1">,</span><span class="s3">31</span><span class="s1">,</span><span class="s3">32</span><span class="s1">,</span><span class="s3">33</span><span class="s1">,</span><span class="s3">34</span><span class="s1">,</span><span class="s3">35</span><span class="s1">,</span><span class="s3">36</span><span class="s1">,</span><span class="s3">37</span><span class="s1">,</span><span class="s3">38</span><span class="s1">,</span><span class="s3">39</span><span class="s1">,</span><span class="s3">40</span><span class="s1">,</span><span class="s3">42</span><span class="s1">,</span><span class="s3">44</span><span class="s1">,</span><span class="s3">47</span><span class="s1">,</span><span class="s3">48</span><span class="s1">,</span><span class="s3">49</span><span class="s1">,</span><span class="s3">50</span><span class="s1">,</span><span class="s3">51</span><span class="s1">,</span><span class="s3">52</span><span class="s1">,</span><span class="s3">53</span><span class="s1">,</span><span class="s3">54</span><span class="s1">,</span><span class="s3">55</span><span class="s1">,</span><span class="s3">56</span><span class="s1">,</span><span class="s3">57</span><span class="s1">,</span><span class="s3">58</span><span class="s1">,</span><span class="s3">59</span><span class="s1">,</span><span class="s3">60</span><span class="s1">,</span><span class="s3">61</span><span class="s1">,</span><span class="s3">62</span><span class="s1">,</span><span class="s3">63</span><span class="s1">,</span><span class="s3">64</span><span class="s1">,</span><span class="s3">65</span><span class="s1">,</span><span class="s3">66</span><span class="s1">,</span><span class="s3">67</span><span class="s1">],</span><span class="s2">inclusive</span><span class="s1">:</span><span class="s4">true</span><span class="s1">}}};</span><span class="s4">return </span><span class="s2">t</span><span class="s1">}();</span><span class="s2">W</span><span class="s1">.</span><span class="s2">lexer</span><span class="s1">=</span><span class="s2">q</span><span class="s1">;</span><span class="s4">function </span><span class="s2">z</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">yy</span><span class="s1">={}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">z</span><span class="s1">,</span><span class="s0">&quot;Parser&quot;</span><span class="s1">);</span><span class="s2">z</span><span class="s1">.</span><span class="s2">prototype</span><span class="s1">=</span><span class="s2">W</span><span class="s1">;</span><span class="s2">W</span><span class="s1">.</span><span class="s2">Parser</span><span class="s1">=</span><span class="s2">z</span><span class="s1">;</span><span class="s4">return new </span><span class="s2">z</span><span class="s1">}();</span><span class="s2">l</span><span class="s1">.</span><span class="s2">parser</span><span class="s1">=</span><span class="s2">l</span><span class="s1">;</span><span class="s4">var </span><span class="s2">d</span><span class="s1">=</span><span class="s2">l</span><span class="s1">;</span><span class="s4">var </span><span class="s2">h</span><span class="s1">={</span><span class="s2">SOLID</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">DOTTED</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">NOTE</span><span class="s1">:</span><span class="s3">2</span><span class="s1">,</span><span class="s2">SOLID_CROSS</span><span class="s1">:</span><span class="s3">3</span><span class="s1">,</span><span class="s2">DOTTED_CROSS</span><span class="s1">:</span><span class="s3">4</span><span class="s1">,</span><span class="s2">SOLID_OPEN</span><span class="s1">:</span><span class="s3">5</span><span class="s1">,</span><span class="s2">DOTTED_OPEN</span><span class="s1">:</span><span class="s3">6</span><span class="s1">,</span><span class="s2">LOOP_START</span><span class="s1">:</span><span class="s3">10</span><span class="s1">,</span><span class="s2">LOOP_END</span><span class="s1">:</span><span class="s3">11</span><span class="s1">,</span><span class="s2">ALT_START</span><span class="s1">:</span><span class="s3">12</span><span class="s1">,</span><span class="s2">ALT_ELSE</span><span class="s1">:</span><span class="s3">13</span><span class="s1">,</span><span class="s2">ALT_END</span><span class="s1">:</span><span class="s3">14</span><span class="s1">,</span><span class="s2">OPT_START</span><span class="s1">:</span><span class="s3">15</span><span class="s1">,</span><span class="s2">OPT_END</span><span class="s1">:</span><span class="s3">16</span><span class="s1">,</span><span class="s2">ACTIVE_START</span><span class="s1">:</span><span class="s3">17</span><span class="s1">,</span><span class="s2">ACTIVE_END</span><span class="s1">:</span><span class="s3">18</span><span class="s1">,</span><span class="s2">PAR_START</span><span class="s1">:</span><span class="s3">19</span><span class="s1">,</span><span class="s2">PAR_AND</span><span class="s1">:</span><span class="s3">20</span><span class="s1">,</span><span class="s2">PAR_END</span><span class="s1">:</span><span class="s3">21</span><span class="s1">,</span><span class="s2">RECT_START</span><span class="s1">:</span><span class="s3">22</span><span class="s1">,</span><span class="s2">RECT_END</span><span class="s1">:</span><span class="s3">23</span><span class="s1">,</span><span class="s2">SOLID_POINT</span><span class="s1">:</span><span class="s3">24</span><span class="s1">,</span><span class="s2">DOTTED_POINT</span><span class="s1">:</span><span class="s3">25</span><span class="s1">,</span><span class="s2">AUTONUMBER</span><span class="s1">:</span><span class="s3">26</span><span class="s1">,</span><span class="s2">CRITICAL_START</span><span class="s1">:</span><span class="s3">27</span><span class="s1">,</span><span class="s2">CRITICAL_OPTION</span><span class="s1">:</span><span class="s3">28</span><span class="s1">,</span><span class="s2">CRITICAL_END</span><span class="s1">:</span><span class="s3">29</span><span class="s1">,</span><span class="s2">BREAK_START</span><span class="s1">:</span><span class="s3">30</span><span class="s1">,</span><span class="s2">BREAK_END</span><span class="s1">:</span><span class="s3">31</span><span class="s1">,</span><span class="s2">PAR_OVER_START</span><span class="s1">:</span><span class="s3">32</span><span class="s1">,</span><span class="s2">BIDIRECTIONAL_SOLID</span><span class="s1">:</span><span class="s3">33</span><span class="s1">,</span><span class="s2">BIDIRECTIONAL_DOTTED</span><span class="s1">:</span><span class="s3">34</span><span class="s1">};</span><span class="s4">var </span><span class="s2">p</span><span class="s1">={</span><span class="s2">FILLED</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">OPEN</span><span class="s1">:</span><span class="s3">1</span><span class="s1">};</span><span class="s4">var </span><span class="s2">g</span><span class="s1">={</span><span class="s2">LEFTOF</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">RIGHTOF</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">OVER</span><span class="s1">:</span><span class="s3">2</span><span class="s1">};</span><span class="s4">var </span><span class="s2">u</span><span class="s1">=</span><span class="s4">class</span><span class="s1">{</span><span class="s2">constructor</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">=</span><span class="s4">new </span><span class="s2">r</span><span class="s1">.</span><span class="s2">m</span><span class="s1">((()=&gt;({</span><span class="s2">prevActor</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">actors</span><span class="s1">:</span><span class="s4">new </span><span class="s2">Map</span><span class="s1">,</span><span class="s2">createdActors</span><span class="s1">:</span><span class="s4">new </span><span class="s2">Map</span><span class="s1">,</span><span class="s2">destroyedActors</span><span class="s1">:</span><span class="s4">new </span><span class="s2">Map</span><span class="s1">,</span><span class="s2">boxes</span><span class="s1">:[],</span><span class="s2">messages</span><span class="s1">:[],</span><span class="s2">notes</span><span class="s1">:[],</span><span class="s2">sequenceNumbersEnabled</span><span class="s1">:</span><span class="s4">false</span><span class="s1">,</span><span class="s2">wrapEnabled</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">currentBox</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">lastCreated</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">lastDestroyed</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">})));</span><span class="s4">this</span><span class="s1">.</span><span class="s2">setAccTitle</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">SV</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">setAccDescription</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">EI</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">setDiagramTitle</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">ke</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">getAccTitle</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">iN</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">getAccDescription</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">m7</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">getDiagramTitle</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">ab</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">apply</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">apply</span><span class="s1">.</span><span class="s2">bind</span><span class="s1">(</span><span class="s4">this</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parseBoxData</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parseBoxData</span><span class="s1">.</span><span class="s2">bind</span><span class="s1">(</span><span class="s4">this</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">parseMessage</span><span class="s1">.</span><span class="s2">bind</span><span class="s1">(</span><span class="s4">this</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">clear</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">setWrap</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">wrap</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">=</span><span class="s2">h</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">ARROWTYPE</span><span class="s1">=</span><span class="s2">p</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">=</span><span class="s2">g</span><span class="s1">}</span><span class="s4">static</span><span class="s1">{(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s4">this</span><span class="s1">,</span><span class="s0">&quot;SequenceDB&quot;</span><span class="s1">)}</span><span class="s2">addBox</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">boxes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span><span class="s2">name</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">text</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">??</span><span class="s4">this</span><span class="s1">.</span><span class="s2">autoWrap</span><span class="s1">(),</span><span class="s2">fill</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">color</span><span class="s1">,</span><span class="s2">actorKeys</span><span class="s1">:[]});</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">currentBox</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">boxes</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(-</span><span class="s3">1</span><span class="s1">)[</span><span class="s3">0</span><span class="s1">]}</span><span class="s2">addActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">let </span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">currentBox</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">currentBox</span><span class="s1">&amp;&amp;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">box</span><span class="s1">&amp;&amp;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">currentBox</span><span class="s1">!==</span><span class="s2">i</span><span class="s1">.</span><span class="s2">box</span><span class="s1">){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">`A same participant should only be defined in one Box: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">i</span><span class="s1">.</span><span class="s2">name</span><span class="s1">} </span><span class="s0">can't be in '</span><span class="s2">$</span><span class="s1">{</span><span class="s2">i</span><span class="s1">.</span><span class="s2">box</span><span class="s1">.</span><span class="s2">name</span><span class="s1">}</span><span class="s0">' and in '</span><span class="s2">$</span><span class="s1">{</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">currentBox</span><span class="s1">.</span><span class="s2">name</span><span class="s1">}</span><span class="s0">' at the same time.`</span><span class="s1">)}</span><span class="s2">r</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">box</span><span class="s1">?</span><span class="s2">i</span><span class="s1">.</span><span class="s2">box</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">currentBox</span><span class="s1">;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">box</span><span class="s1">=</span><span class="s2">r</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">===</span><span class="s2">i</span><span class="s1">.</span><span class="s2">name</span><span class="s1">&amp;&amp;</span><span class="s2">a</span><span class="s1">==</span><span class="s4">null</span><span class="s1">){</span><span class="s4">return</span><span class="s1">}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">?.</span><span class="s2">text</span><span class="s1">==</span><span class="s4">null</span><span class="s1">){</span><span class="s2">a</span><span class="s1">={</span><span class="s2">text</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">==</span><span class="s4">null</span><span class="s1">||</span><span class="s2">a</span><span class="s1">.</span><span class="s2">text</span><span class="s1">==</span><span class="s4">null</span><span class="s1">){</span><span class="s2">a</span><span class="s1">={</span><span class="s2">text</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,{</span><span class="s2">box</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">name</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">description</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">text</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">??</span><span class="s4">this</span><span class="s1">.</span><span class="s2">autoWrap</span><span class="s1">(),</span><span class="s2">prevActor</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">,</span><span class="s2">links</span><span class="s1">:{},</span><span class="s2">properties</span><span class="s1">:{},</span><span class="s2">actorCnt</span><span class="s1">:</span><span class="s4">null</span><span class="s1">,</span><span class="s2">rectData</span><span class="s1">:</span><span class="s4">null</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">s</span><span class="s1">??</span><span class="s0">&quot;participant&quot;</span><span class="s1">});</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">nextActor</span><span class="s1">=</span><span class="s2">t</span><span class="s1">}}</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">currentBox</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">currentBox</span><span class="s1">.</span><span class="s2">actorKeys</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">=</span><span class="s2">t</span><span class="s1">}</span><span class="s2">activationCount</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">let </span><span class="s2">e</span><span class="s1">;</span><span class="s4">let </span><span class="s2">a</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s3">0</span><span class="s1">}</span><span class="s4">for</span><span class="s1">(</span><span class="s2">e</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">e</span><span class="s1">&lt;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">e</span><span class="s1">++){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">[</span><span class="s2">e</span><span class="s1">].</span><span class="s2">type</span><span class="s1">===</span><span class="s4">this</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_START</span><span class="s1">&amp;&amp;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">[</span><span class="s2">e</span><span class="s1">].</span><span class="s2">from</span><span class="s1">===</span><span class="s2">t</span><span class="s1">){</span><span class="s2">a</span><span class="s1">++}</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">[</span><span class="s2">e</span><span class="s1">].</span><span class="s2">type</span><span class="s1">===</span><span class="s4">this</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_END</span><span class="s1">&amp;&amp;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">[</span><span class="s2">e</span><span class="s1">].</span><span class="s2">from</span><span class="s1">===</span><span class="s2">t</span><span class="s1">){</span><span class="s2">a</span><span class="s1">--}}</span><span class="s4">return </span><span class="s2">a</span><span class="s1">}</span><span class="s2">addMessage</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span><span class="s2">id</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">length</span><span class="s1">.</span><span class="s2">toString</span><span class="s1">(),</span><span class="s2">from</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">to</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">message</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">text</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">??</span><span class="s4">this</span><span class="s1">.</span><span class="s2">autoWrap</span><span class="s1">(),</span><span class="s2">answer</span><span class="s1">:</span><span class="s2">s</span><span class="s1">})}</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">=</span><span class="s4">false</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">===</span><span class="s4">this</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_END</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">activationCount</span><span class="s1">(</span><span class="s2">t</span><span class="s1">??</span><span class="s0">&quot;&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">&lt;</span><span class="s3">1</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;Trying to inactivate an inactive participant (&quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">+</span><span class="s0">&quot;)&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">hash</span><span class="s1">={</span><span class="s2">text</span><span class="s1">:</span><span class="s0">&quot;-&gt;&gt;-&quot;</span><span class="s1">,</span><span class="s2">token</span><span class="s1">:</span><span class="s0">&quot;-&gt;&gt;-&quot;</span><span class="s1">,</span><span class="s2">line</span><span class="s1">:</span><span class="s0">&quot;1&quot;</span><span class="s1">,</span><span class="s2">loc</span><span class="s1">:{</span><span class="s2">first_line</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">last_line</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">first_column</span><span class="s1">:</span><span class="s3">1</span><span class="s1">,</span><span class="s2">last_column</span><span class="s1">:</span><span class="s3">1</span><span class="s1">},</span><span class="s2">expected</span><span class="s1">:[</span><span class="s0">&quot;'ACTIVE_PARTICIPANT'&quot;</span><span class="s1">]};</span><span class="s4">throw </span><span class="s2">e</span><span class="s1">}}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span><span class="s2">id</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">length</span><span class="s1">.</span><span class="s2">toString</span><span class="s1">(),</span><span class="s2">from</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">to</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">message</span><span class="s1">:</span><span class="s2">a</span><span class="s1">?.</span><span class="s2">text</span><span class="s1">??</span><span class="s0">&quot;&quot;</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">a</span><span class="s1">?.</span><span class="s2">wrap</span><span class="s1">??</span><span class="s4">this</span><span class="s1">.</span><span class="s2">autoWrap</span><span class="s1">(),</span><span class="s2">type</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">activate</span><span class="s1">:</span><span class="s2">r</span><span class="s1">});</span><span class="s4">return true</span><span class="s1">}</span><span class="s2">hasAtLeastOneBox</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">boxes</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">}</span><span class="s2">hasAtLeastOneBoxWithTitle</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">boxes</span><span class="s1">.</span><span class="s2">some</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">name</span><span class="s1">))}</span><span class="s2">getMessages</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">}</span><span class="s2">getBoxes</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">boxes</span><span class="s1">}</span><span class="s2">getActors</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">}</span><span class="s2">getCreatedActors</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">createdActors</span><span class="s1">}</span><span class="s2">getDestroyedActors</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">destroyedActors</span><span class="s1">}</span><span class="s2">getActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}</span><span class="s2">getActorKeys</span><span class="s1">(){</span><span class="s4">return</span><span class="s1">[</span><span class="s2">...</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">.</span><span class="s2">keys</span><span class="s1">()]}</span><span class="s2">enableSequenceNumbers</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">sequenceNumbersEnabled</span><span class="s1">=</span><span class="s4">true</span><span class="s1">}</span><span class="s2">disableSequenceNumbers</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">sequenceNumbersEnabled</span><span class="s1">=</span><span class="s4">false</span><span class="s1">}</span><span class="s2">showSequenceNumbers</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">sequenceNumbersEnabled</span><span class="s1">}</span><span class="s2">setWrap</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">wrapEnabled</span><span class="s1">=</span><span class="s2">t</span><span class="s1">}</span><span class="s2">extractWrap</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s4">return</span><span class="s1">{}}</span><span class="s2">t</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">trim</span><span class="s1">();</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s5">/^:?wrap:/</span><span class="s1">.</span><span class="s2">exec</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)!==</span><span class="s4">null</span><span class="s1">?</span><span class="s4">true</span><span class="s1">:</span><span class="s5">/^:?nowrap:/</span><span class="s1">.</span><span class="s2">exec</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)!==</span><span class="s4">null</span><span class="s1">?</span><span class="s4">false</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=(</span><span class="s2">e</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">?</span><span class="s2">t</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/^:?(?:no)?wrap:/</span><span class="s1">,</span><span class="s0">&quot;&quot;</span><span class="s1">)).</span><span class="s2">trim</span><span class="s1">();</span><span class="s4">return</span><span class="s1">{</span><span class="s2">cleanedText</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">e</span><span class="s1">}}</span><span class="s2">autoWrap</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">wrapEnabled</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">wrapEnabled</span><span class="s1">}</span><span class="s4">return</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">sequence</span><span class="s1">?.</span><span class="s2">wrap</span><span class="s1">??</span><span class="s4">false</span><span class="s1">}</span><span class="s2">clear</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">reset</span><span class="s1">();(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">IU</span><span class="s1">)()}</span><span class="s2">parseMessage</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">trim</span><span class="s1">();</span><span class="s4">const</span><span class="s1">{</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">cleanedText</span><span class="s1">:</span><span class="s2">s</span><span class="s1">}=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">extractWrap</span><span class="s1">(</span><span class="s2">e</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">={</span><span class="s2">text</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">a</span><span class="s1">};</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`parseMessage: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">stringify</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)}</span><span class="s0">`</span><span class="s1">);</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}</span><span class="s2">parseBoxData</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s5">/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/</span><span class="s1">.</span><span class="s2">exec</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">let </span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">?.[</span><span class="s3">1</span><span class="s1">]?</span><span class="s2">e</span><span class="s1">[</span><span class="s3">1</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">():</span><span class="s0">&quot;transparent&quot;</span><span class="s1">;</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">?.[</span><span class="s3">2</span><span class="s1">]?</span><span class="s2">e</span><span class="s1">[</span><span class="s3">2</span><span class="s1">].</span><span class="s2">trim</span><span class="s1">():</span><span class="s4">void </span><span class="s3">0</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">window</span><span class="s1">?.</span><span class="s2">CSS</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">window</span><span class="s1">.</span><span class="s2">CSS</span><span class="s1">.</span><span class="s2">supports</span><span class="s1">(</span><span class="s0">&quot;color&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)){</span><span class="s2">a</span><span class="s1">=</span><span class="s0">&quot;transparent&quot;</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">trim</span><span class="s1">()}}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=(</span><span class="s4">new </span><span class="s2">Option</span><span class="s1">).</span><span class="s2">style</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">color</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">color</span><span class="s1">!==</span><span class="s2">a</span><span class="s1">){</span><span class="s2">a</span><span class="s1">=</span><span class="s0">&quot;transparent&quot;</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">trim</span><span class="s1">()}}</span><span class="s4">const</span><span class="s1">{</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">cleanedText</span><span class="s1">:</span><span class="s2">i</span><span class="s1">}=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">extractWrap</span><span class="s1">(</span><span class="s2">s</span><span class="s1">);</span><span class="s4">return</span><span class="s1">{</span><span class="s2">text</span><span class="s1">:</span><span class="s2">i</span><span class="s1">?(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">jZ</span><span class="s1">)(</span><span class="s2">i</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)()):</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">color</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">r</span><span class="s1">}}</span><span class="s2">addNote</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">s</span><span class="s1">={</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">placement</span><span class="s1">:</span><span class="s2">e</span><span class="s1">,</span><span class="s2">message</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">text</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">??</span><span class="s4">this</span><span class="s1">.</span><span class="s2">autoWrap</span><span class="s1">()};</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=[].</span><span class="s2">concat</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">notes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">s</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span><span class="s2">id</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">length</span><span class="s1">.</span><span class="s2">toString</span><span class="s1">(),</span><span class="s2">from</span><span class="s1">:</span><span class="s2">r</span><span class="s1">[</span><span class="s3">0</span><span class="s1">],</span><span class="s2">to</span><span class="s1">:</span><span class="s2">r</span><span class="s1">[</span><span class="s3">1</span><span class="s1">],</span><span class="s2">message</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">text</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">a</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">??</span><span class="s4">this</span><span class="s1">.</span><span class="s2">autoWrap</span><span class="s1">(),</span><span class="s2">type</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">NOTE</span><span class="s1">,</span><span class="s2">placement</span><span class="s1">:</span><span class="s2">e</span><span class="s1">})}</span><span class="s2">addLinks</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">getActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">try</span><span class="s1">{</span><span class="s4">let </span><span class="s2">t</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">jZ</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">text</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)());</span><span class="s2">t</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/&amp;equals;/g</span><span class="s1">,</span><span class="s0">&quot;=&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/&amp;amp;/g</span><span class="s1">,</span><span class="s0">&quot;&amp;&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">parse</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">insertLinks</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}</span><span class="s4">catch</span><span class="s1">(</span><span class="s2">s</span><span class="s1">){</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">error</span><span class="s1">(</span><span class="s0">&quot;error while parsing actor link text&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}}</span><span class="s2">addALink</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">getActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">try</span><span class="s1">{</span><span class="s4">const </span><span class="s2">t</span><span class="s1">={};</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">jZ</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">text</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)());</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">indexOf</span><span class="s1">(</span><span class="s0">&quot;@&quot;</span><span class="s1">);</span><span class="s2">s</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/&amp;equals;/g</span><span class="s1">,</span><span class="s0">&quot;=&quot;</span><span class="s1">);</span><span class="s2">s</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/&amp;amp;/g</span><span class="s1">,</span><span class="s0">&quot;&amp;&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">r</span><span class="s1">-</span><span class="s3">1</span><span class="s1">).</span><span class="s2">trim</span><span class="s1">();</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">slice</span><span class="s1">(</span><span class="s2">r</span><span class="s1">+</span><span class="s3">1</span><span class="s1">).</span><span class="s2">trim</span><span class="s1">();</span><span class="s2">t</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]=</span><span class="s2">o</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">insertLinks</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)}</span><span class="s4">catch</span><span class="s1">(</span><span class="s2">s</span><span class="s1">){</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">error</span><span class="s1">(</span><span class="s0">&quot;error while parsing actor link text&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}}</span><span class="s2">insertLinks</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">links</span><span class="s1">==</span><span class="s4">null</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">links</span><span class="s1">=</span><span class="s2">e</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">a </span><span class="s4">in </span><span class="s2">e</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">links</span><span class="s1">[</span><span class="s2">a</span><span class="s1">]=</span><span class="s2">e</span><span class="s1">[</span><span class="s2">a</span><span class="s1">]}}}</span><span class="s2">addProperties</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">getActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">try</span><span class="s1">{</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">jZ</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">text</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)());</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">parse</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">insertProperties</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}</span><span class="s4">catch</span><span class="s1">(</span><span class="s2">s</span><span class="s1">){</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">error</span><span class="s1">(</span><span class="s0">&quot;error while parsing actor properties text&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}}</span><span class="s2">insertProperties</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">properties</span><span class="s1">==</span><span class="s4">null</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">properties</span><span class="s1">=</span><span class="s2">e</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">a </span><span class="s4">in </span><span class="s2">e</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">properties</span><span class="s1">[</span><span class="s2">a</span><span class="s1">]=</span><span class="s2">e</span><span class="s1">[</span><span class="s2">a</span><span class="s1">]}}}</span><span class="s2">boxEnd</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">currentBox</span><span class="s1">=</span><span class="s4">void </span><span class="s3">0</span><span class="s1">}</span><span class="s2">addDetails</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">getActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">document</span><span class="s1">.</span><span class="s2">getElementById</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">text</span><span class="s1">);</span><span class="s4">try</span><span class="s1">{</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">innerHTML</span><span class="s1">;</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">JSON</span><span class="s1">.</span><span class="s2">parse</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">properties</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">insertProperties</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">properties</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">links</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">insertLinks</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">links</span><span class="s1">)}}</span><span class="s4">catch</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">error</span><span class="s1">(</span><span class="s0">&quot;error while parsing actor details text&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">)}}</span><span class="s2">getActorProperty</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">?.</span><span class="s2">properties</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">.</span><span class="s2">properties</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]}</span><span class="s4">return void </span><span class="s3">0</span><span class="s1">}</span><span class="s2">apply</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">Array</span><span class="s1">.</span><span class="s2">isArray</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">this</span><span class="s1">.</span><span class="s2">apply</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}))}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">type</span><span class="s1">){</span><span class="s4">case</span><span class="s0">&quot;sequenceIndex&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span><span class="s2">id</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">length</span><span class="s1">.</span><span class="s2">toString</span><span class="s1">(),</span><span class="s2">from</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">to</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">message</span><span class="s1">:{</span><span class="s2">start</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">sequenceIndex</span><span class="s1">,</span><span class="s2">step</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">sequenceIndexStep</span><span class="s1">,</span><span class="s2">visible</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">sequenceVisible</span><span class="s1">},</span><span class="s2">wrap</span><span class="s1">:</span><span class="s4">false</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">});</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;addParticipant&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">description</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">draw</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;createParticipant&quot;</span><span class="s1">:</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">)){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior&quot;</span><span class="s1">)}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastCreated</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">description</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">draw</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">createdActors</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">length</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;destroyParticipant&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastDestroyed</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">destroyedActors</span><span class="s1">.</span><span class="s2">set</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">length</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;activeStart&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;activeEnd&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;addNote&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addNote</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">placement</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">text</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;addLinks&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addLinks</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">text</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;addALink&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addALink</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">text</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;addProperties&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addProperties</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">text</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;addDetails&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addDetails</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">text</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;addMessage&quot;</span><span class="s1">:</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastCreated</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">!==</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastCreated</span><span class="s1">){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;The created participant &quot;</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastCreated</span><span class="s1">.</span><span class="s2">name</span><span class="s1">+</span><span class="s0">&quot; does not have an associated creating message after its declaration. Please check the sequence diagram.&quot;</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastCreated</span><span class="s1">=</span><span class="s4">void </span><span class="s3">0</span><span class="s1">}}</span><span class="s4">else if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastDestroyed</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">!==</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastDestroyed</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">!==</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastDestroyed</span><span class="s1">){</span><span class="s4">throw new </span><span class="s2">Error</span><span class="s1">(</span><span class="s0">&quot;The destroyed participant &quot;</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastDestroyed</span><span class="s1">.</span><span class="s2">name</span><span class="s1">+</span><span class="s0">&quot; does not have an associated destroying message after its declaration. Please check the sequence diagram.&quot;</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">this</span><span class="s1">.</span><span class="s2">state</span><span class="s1">.</span><span class="s2">records</span><span class="s1">.</span><span class="s2">lastDestroyed</span><span class="s1">=</span><span class="s4">void </span><span class="s3">0</span><span class="s1">}}</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">msg</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">activate</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;boxStart&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addBox</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">boxData</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;boxEnd&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">boxEnd</span><span class="s1">();</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;loopStart&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">loopText</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;loopEnd&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;rectStart&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">color</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;rectEnd&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;optStart&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">optText</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;optEnd&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;altStart&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">altText</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;else&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">altText</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;altEnd&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;setAccTitle&quot;</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">SV</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">text</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;parStart&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">parText</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;and&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">parText</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;parEnd&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;criticalStart&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">criticalText</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;option&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">optionText</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;criticalEnd&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;breakStart&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">breakText</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;breakEnd&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">addSignal</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalType</span><span class="s1">);</span><span class="s4">break</span><span class="s1">}}}</span><span class="s2">getConfig</span><span class="s1">(){</span><span class="s4">return</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)().</span><span class="s2">sequence</span><span class="s1">}};</span><span class="s4">var </span><span class="s2">f</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s0">`.actor {</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorBorder</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorBkg</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">text.actor &gt; tspan {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorTextColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: none;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.actor-line {</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorLineColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.messageLine0 {</span><span class="s4">\n    </span><span class="s0">stroke-width: 1.5;</span><span class="s4">\n    </span><span class="s0">stroke-dasharray: none;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.messageLine1 {</span><span class="s4">\n    </span><span class="s0">stroke-width: 1.5;</span><span class="s4">\n    </span><span class="s0">stroke-dasharray: 2, 2;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">#arrowhead path {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.sequenceNumber {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">sequenceNumberColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">#sequencenumber {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">#crosshead path {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.messageText {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">signalTextColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: none;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.labelBox {</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">labelBoxBorderColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">labelBoxBkgColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.labelText, .labelText &gt; tspan {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">labelTextColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: none;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.loopText, .loopText &gt; tspan {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">loopTextColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: none;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.loopLine {</span><span class="s4">\n    </span><span class="s0">stroke-width: 2px;</span><span class="s4">\n    </span><span class="s0">stroke-dasharray: 2, 2;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">labelBoxBorderColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">labelBoxBorderColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.note {</span><span class="s4">\n    </span><span class="s0">//stroke: #decc93;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">noteBorderColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">noteBkgColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.noteText, .noteText &gt; tspan {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">noteTextColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: none;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.activation0 {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">activationBkgColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">activationBorderColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.activation1 {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">activationBkgColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">activationBorderColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.activation2 {</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">activationBkgColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">activationBorderColor</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.actorPopupMenu {</span><span class="s4">\n    </span><span class="s0">position: absolute;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n\n  </span><span class="s0">.actorPopupMenuPanel {</span><span class="s4">\n    </span><span class="s0">position: absolute;</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorBkg</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);</span><span class="s4">\n    </span><span class="s0">filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));</span><span class="s4">\n</span><span class="s0">}</span><span class="s4">\n  </span><span class="s0">.actor-man line {</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorBorder</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorBkg</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n  </span><span class="s0">.actor-man circle, line {</span><span class="s4">\n    </span><span class="s0">stroke: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorBorder</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">fill: </span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorBkg</span><span class="s1">}</span><span class="s0">;</span><span class="s4">\n    </span><span class="s0">stroke-width: 2px;</span><span class="s4">\n  </span><span class="s0">}</span><span class="s4">\n</span><span class="s0">`</span><span class="s1">),</span><span class="s0">&quot;getStyles&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">x</span><span class="s1">=</span><span class="s2">f</span><span class="s1">;</span><span class="s4">var </span><span class="s2">y</span><span class="s1">=</span><span class="s3">18</span><span class="s1">*</span><span class="s3">2</span><span class="s1">;</span><span class="s4">var </span><span class="s2">b</span><span class="s1">=</span><span class="s0">&quot;actor-top&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s2">m</span><span class="s1">=</span><span class="s0">&quot;actor-bottom&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s2">T</span><span class="s1">=</span><span class="s0">&quot;actor-box&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s2">E</span><span class="s1">=</span><span class="s0">&quot;actor-man&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s2">w</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">tk</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)}),</span><span class="s0">&quot;drawRect&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">v</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">links</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">||</span><span class="s2">e</span><span class="s1">.</span><span class="s2">links</span><span class="s1">===</span><span class="s4">null</span><span class="s1">||</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">links</span><span class="s1">).</span><span class="s2">length</span><span class="s1">===</span><span class="s3">0</span><span class="s1">){</span><span class="s4">return</span><span class="s1">{</span><span class="s2">height</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s3">0</span><span class="s1">}}</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">links</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">actorCnt</span><span class="s1">;</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rectData</span><span class="s1">;</span><span class="s4">var </span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;none&quot;</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s2">l</span><span class="s1">=</span><span class="s0">&quot;block !important&quot;</span><span class="s1">}</span><span class="s4">const </span><span class="s2">d</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">);</span><span class="s2">d</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;actor&quot;</span><span class="s1">+</span><span class="s2">n</span><span class="s1">+</span><span class="s0">&quot;_popup&quot;</span><span class="s1">);</span><span class="s2">d</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;actorPopupMenu&quot;</span><span class="s1">);</span><span class="s2">d</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;display&quot;</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s4">var </span><span class="s2">h</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">class</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">h</span><span class="s1">=</span><span class="s0">&quot; &quot;</span><span class="s1">+</span><span class="s2">o</span><span class="s1">.</span><span class="s2">class</span><span class="s1">}</span><span class="s4">let </span><span class="s2">p</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">&gt;</span><span class="s2">a</span><span class="s1">?</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">:</span><span class="s2">a</span><span class="s1">;</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=</span><span class="s2">d</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;rect&quot;</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;actorPopupMenuPanel&quot;</span><span class="s1">+</span><span class="s2">h</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">x</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">height</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;fill&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">fill</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">stroke</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">p</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">height</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;rx&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;ry&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">!=</span><span class="s4">null</span><span class="s1">){</span><span class="s4">var </span><span class="s2">u</span><span class="s1">=</span><span class="s3">20</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">let </span><span class="s2">t </span><span class="s4">in </span><span class="s2">i</span><span class="s1">){</span><span class="s4">var </span><span class="s2">f</span><span class="s1">=</span><span class="s2">d</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;a&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">x</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">c</span><span class="s1">.</span><span class="s2">J</span><span class="s1">)(</span><span class="s2">i</span><span class="s1">[</span><span class="s2">t</span><span class="s1">]);</span><span class="s2">f</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;xlink:href&quot;</span><span class="s1">,</span><span class="s2">x</span><span class="s1">);</span><span class="s2">f</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;target&quot;</span><span class="s1">,</span><span class="s0">&quot;_blank&quot;</span><span class="s1">);</span><span class="s2">U</span><span class="s1">(</span><span class="s2">s</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">f</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s3">10</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">u</span><span class="s1">,</span><span class="s2">p</span><span class="s1">,</span><span class="s3">20</span><span class="s1">,{</span><span class="s4">class</span><span class="s1">:</span><span class="s0">&quot;actor&quot;</span><span class="s1">},</span><span class="s2">s</span><span class="s1">);</span><span class="s2">u</span><span class="s1">+=</span><span class="s3">30</span><span class="s1">}}</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">);</span><span class="s4">return</span><span class="s1">{</span><span class="s2">height</span><span class="s1">:</span><span class="s2">o</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s2">u</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s2">p</span><span class="s1">}}),</span><span class="s0">&quot;drawPopup&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">k</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return</span><span class="s0">&quot;var pu = document.getElementById('&quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">+</span><span class="s0">&quot;'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }&quot;</span><span class="s1">}),</span><span class="s0">&quot;popupMenuToggle&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">I</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async </span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">=</span><span class="s4">null</span><span class="s1">){</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;foreignObject&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s4">await</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">VJ</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">text</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">zj</span><span class="s1">)());</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;xhtml:div&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;style&quot;</span><span class="s1">,</span><span class="s0">&quot;width: fit-content;&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;xmlns&quot;</span><span class="s1">,</span><span class="s0">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="s1">).</span><span class="s2">html</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">getBoundingClientRect</span><span class="s1">();</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">));</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">===</span><span class="s0">&quot;noteText&quot;</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">firstChild</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">setAttribute</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">o</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">))}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">){</span><span class="s4">let</span><span class="s1">{</span><span class="s2">startx</span><span class="s1">:</span><span class="s2">t</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">starty</span><span class="s1">:</span><span class="s2">i</span><span class="s1">}=</span><span class="s2">a</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">&gt;</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s2">t</span><span class="s1">=</span><span class="s2">r</span><span class="s1">;</span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">}</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">t</span><span class="s1">+</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">t</span><span class="s1">-</span><span class="s2">r</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">));</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">===</span><span class="s0">&quot;loopText&quot;</span><span class="s1">){</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">i</span><span class="s1">))}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">i</span><span class="s1">-</span><span class="s2">o</span><span class="s1">.</span><span class="s2">height</span><span class="s1">))}}</span><span class="s4">return</span><span class="s1">[</span><span class="s2">s</span><span class="s1">]}),</span><span class="s0">&quot;drawKatex&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">L</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">let </span><span class="s2">a</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">text</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">lineBreakRegex</span><span class="s1">);</span><span class="s4">const</span><span class="s1">[</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">]=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">I5</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">);</span><span class="s4">let </span><span class="s2">l</span><span class="s1">=[];</span><span class="s4">let </span><span class="s2">d</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">let </span><span class="s2">h</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">),</span><span class="s0">&quot;yfunc&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">valign</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">valign</span><span class="s1">){</span><span class="s4">case</span><span class="s0">&quot;top&quot;</span><span class="s1">:</span><span class="s4">case</span><span class="s0">&quot;start&quot;</span><span class="s1">:</span><span class="s2">h</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">)),</span><span class="s0">&quot;yfunc&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;middle&quot;</span><span class="s1">:</span><span class="s4">case</span><span class="s0">&quot;center&quot;</span><span class="s1">:</span><span class="s2">h</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+(</span><span class="s2">a</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">)),</span><span class="s0">&quot;yfunc&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;bottom&quot;</span><span class="s1">:</span><span class="s4">case</span><span class="s0">&quot;end&quot;</span><span class="s1">:</span><span class="s2">h</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((()=&gt;</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+(</span><span class="s2">a</span><span class="s1">+</span><span class="s2">s</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">)-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">)),</span><span class="s0">&quot;yfunc&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">){</span><span class="s4">case</span><span class="s0">&quot;left&quot;</span><span class="s1">:</span><span class="s4">case</span><span class="s0">&quot;start&quot;</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">=</span><span class="s0">&quot;start&quot;</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">dominantBaseline</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">alignmentBaseline</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;middle&quot;</span><span class="s1">:</span><span class="s4">case</span><span class="s0">&quot;center&quot;</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">dominantBaseline</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">alignmentBaseline</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case</span><span class="s0">&quot;right&quot;</span><span class="s1">:</span><span class="s4">case</span><span class="s0">&quot;end&quot;</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">=</span><span class="s0">&quot;end&quot;</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">dominantBaseline</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">alignmentBaseline</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s4">break</span><span class="s1">}}</span><span class="s4">for</span><span class="s1">(</span><span class="s4">let</span><span class="s1">[</span><span class="s2">n</span><span class="s1">,</span><span class="s2">p</span><span class="s1">]</span><span class="s2">of r</span><span class="s1">.</span><span class="s2">entries</span><span class="s1">()){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">===</span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">o</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">d</span><span class="s1">=</span><span class="s2">n</span><span class="s1">*</span><span class="s2">o</span><span class="s1">}</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;text&quot;</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">h</span><span class="s1">());</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;text-anchor&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;dominant-baseline&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">dominantBaseline</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;alignment-baseline&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">alignmentBaseline</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;font-family&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">c</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;font-size&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fontWeight</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;font-weight&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fontWeight</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fill</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;fill&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fill</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">class</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">dy</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;dy&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">dy</span><span class="s1">)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">d</span><span class="s1">!==</span><span class="s3">0</span><span class="s1">){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;dy&quot;</span><span class="s1">,</span><span class="s2">d</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=</span><span class="s2">p</span><span class="s1">||</span><span class="s2">i</span><span class="s1">.</span><span class="s2">pe</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">tspan</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;tspan&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fill</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;fill&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fill</span><span class="s1">)}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">text</span><span class="s1">(</span><span class="s2">g</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">r</span><span class="s1">.</span><span class="s2">text</span><span class="s1">(</span><span class="s2">g</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">valign</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s2">s</span><span class="s1">+=(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">_groups</span><span class="s1">||</span><span class="s2">r</span><span class="s1">)[</span><span class="s3">0</span><span class="s1">][</span><span class="s3">0</span><span class="s1">].</span><span class="s2">getBBox</span><span class="s1">().</span><span class="s2">height</span><span class="s1">;</span><span class="s2">a</span><span class="s1">=</span><span class="s2">s</span><span class="s1">}</span><span class="s2">l</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">return </span><span class="s2">l</span><span class="s1">}),</span><span class="s0">&quot;drawText&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">_</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">function </span><span class="s2">a</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot; &quot;</span><span class="s1">+(</span><span class="s2">t</span><span class="s1">+</span><span class="s2">a</span><span class="s1">)+</span><span class="s0">&quot;,&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">+</span><span class="s0">&quot; &quot;</span><span class="s1">+(</span><span class="s2">t</span><span class="s1">+</span><span class="s2">a</span><span class="s1">)+</span><span class="s0">&quot;,&quot;</span><span class="s1">+(</span><span class="s2">e</span><span class="s1">+</span><span class="s2">s</span><span class="s1">-</span><span class="s2">r</span><span class="s1">)+</span><span class="s0">&quot; &quot;</span><span class="s1">+(</span><span class="s2">t</span><span class="s1">+</span><span class="s2">a</span><span class="s1">-</span><span class="s2">r</span><span class="s1">*</span><span class="s3">1.2</span><span class="s1">)+</span><span class="s0">&quot;,&quot;</span><span class="s1">+(</span><span class="s2">e</span><span class="s1">+</span><span class="s2">s</span><span class="s1">)+</span><span class="s0">&quot; &quot;</span><span class="s1">+</span><span class="s2">t</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+(</span><span class="s2">e</span><span class="s1">+</span><span class="s2">s</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">a</span><span class="s1">,</span><span class="s0">&quot;genPoints&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;polygon&quot;</span><span class="s1">);</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;points&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">,</span><span class="s3">7</span><span class="s1">));</span><span class="s2">s</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;labelBox&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">L</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">return </span><span class="s2">s</span><span class="s1">}),</span><span class="s0">&quot;drawLabel&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">P</span><span class="s1">=-</span><span class="s3">1</span><span class="s1">;</span><span class="s4">var </span><span class="s2">A</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)=&gt;{</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">select</span><span class="s1">){</span><span class="s4">return</span><span class="s1">}</span><span class="s2">a</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">a</span><span class="s1">=&gt;{</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">a</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">select</span><span class="s1">(</span><span class="s0">&quot;#actor&quot;</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">actorCnt</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">s</span><span class="s1">.</span><span class="s2">mirrorActors</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">){</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">mirrorActors</span><span class="s1">){</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">)}}))}),</span><span class="s0">&quot;fixLifeLineHeights&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">N</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">;</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">i</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">lower</span><span class="s1">();</span><span class="s4">var </span><span class="s2">d</span><span class="s1">=</span><span class="s2">l</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">r</span><span class="s1">){</span><span class="s2">P</span><span class="s1">++;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">Object</span><span class="s1">.</span><span class="s2">keys</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">links</span><span class="s1">||{}).</span><span class="s2">length</span><span class="s1">&amp;&amp;!</span><span class="s2">a</span><span class="s1">.</span><span class="s2">forceMenus</span><span class="s1">){</span><span class="s2">d</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;onclick&quot;</span><span class="s1">,</span><span class="s2">k</span><span class="s1">(</span><span class="s0">`actor</span><span class="s2">$</span><span class="s1">{</span><span class="s2">P</span><span class="s1">}</span><span class="s0">_popup`</span><span class="s1">)).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cursor&quot;</span><span class="s1">,</span><span class="s0">&quot;pointer&quot;</span><span class="s1">)}</span><span class="s2">d</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;actor&quot;</span><span class="s1">+</span><span class="s2">P</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,</span><span class="s3">2e3</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;actor-line 200&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke-width&quot;</span><span class="s1">,</span><span class="s0">&quot;0.5px&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke&quot;</span><span class="s1">,</span><span class="s0">&quot;#999&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;name&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span><span class="s2">d</span><span class="s1">=</span><span class="s2">l</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">actorCnt</span><span class="s1">=</span><span class="s2">P</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">links</span><span class="s1">!=</span><span class="s4">null</span><span class="s1">){</span><span class="s2">d</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;root-&quot;</span><span class="s1">+</span><span class="s2">P</span><span class="s1">)}}</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">PB</span><span class="s1">)();</span><span class="s4">var </span><span class="s2">p</span><span class="s1">=</span><span class="s0">&quot;actor&quot;</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">properties</span><span class="s1">?.</span><span class="s2">class</span><span class="s1">){</span><span class="s2">p</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">properties</span><span class="s1">.</span><span class="s2">class</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">h</span><span class="s1">.</span><span class="s2">fill</span><span class="s1">=</span><span class="s0">&quot;#eaeaea&quot;</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s2">p</span><span class="s1">+=</span><span class="s0">` </span><span class="s2">$</span><span class="s1">{</span><span class="s2">m</span><span class="s1">}</span><span class="s0">`</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">p</span><span class="s1">+=</span><span class="s0">` </span><span class="s2">$</span><span class="s1">{</span><span class="s2">b</span><span class="s1">}</span><span class="s0">`</span><span class="s1">}</span><span class="s2">h</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">h</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s2">h</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s2">h</span><span class="s1">.</span><span class="s2">class</span><span class="s1">=</span><span class="s2">p</span><span class="s1">;</span><span class="s2">h</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">=</span><span class="s3">3</span><span class="s1">;</span><span class="s2">h</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">=</span><span class="s3">3</span><span class="s1">;</span><span class="s2">h</span><span class="s1">.</span><span class="s2">name</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">;</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=</span><span class="s2">w</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,</span><span class="s2">h</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">rectData</span><span class="s1">=</span><span class="s2">h</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">properties</span><span class="s1">?.</span><span class="s2">icon</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">properties</span><span class="s1">.</span><span class="s2">icon</span><span class="s1">.</span><span class="s2">trim</span><span class="s1">();</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">charAt</span><span class="s1">(</span><span class="s3">0</span><span class="s1">)===</span><span class="s0">&quot;@&quot;</span><span class="s1">){(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">CP</span><span class="s1">)(</span><span class="s2">d</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">-</span><span class="s3">20</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s3">10</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">substr</span><span class="s1">(</span><span class="s3">1</span><span class="s1">))}</span><span class="s4">else</span><span class="s1">{(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">aC</span><span class="s1">)(</span><span class="s2">d</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">-</span><span class="s3">20</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s3">10</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)}}</span><span class="s2">j</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Wi</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">description</span><span class="s1">))(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">description</span><span class="s1">,</span><span class="s2">d</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">y</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">height</span><span class="s1">,{</span><span class="s4">class</span><span class="s1">:</span><span class="s0">`actor </span><span class="s2">$</span><span class="s1">{</span><span class="s2">T</span><span class="s1">}</span><span class="s0">`</span><span class="s1">},</span><span class="s2">a</span><span class="s1">);</span><span class="s4">let </span><span class="s2">u</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">g</span><span class="s1">.</span><span class="s2">node</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">g</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s2">u</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">}</span><span class="s4">return </span><span class="s2">u</span><span class="s1">}),</span><span class="s0">&quot;drawActorTypeParticipant&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">M</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">r</span><span class="s1">?</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">;</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">i</span><span class="s1">+</span><span class="s3">80</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">).</span><span class="s2">lower</span><span class="s1">();</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">r</span><span class="s1">){</span><span class="s2">P</span><span class="s1">++;</span><span class="s2">l</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;actor&quot;</span><span class="s1">+</span><span class="s2">P</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,</span><span class="s3">2e3</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;actor-line 200&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke-width&quot;</span><span class="s1">,</span><span class="s0">&quot;0.5px&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke&quot;</span><span class="s1">,</span><span class="s0">&quot;#999&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;name&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">actorCnt</span><span class="s1">=</span><span class="s2">P</span><span class="s1">}</span><span class="s4">const </span><span class="s2">d</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">);</span><span class="s4">let </span><span class="s2">h</span><span class="s1">=</span><span class="s2">E</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">){</span><span class="s2">h</span><span class="s1">+=</span><span class="s0">` </span><span class="s2">$</span><span class="s1">{</span><span class="s2">m</span><span class="s1">}</span><span class="s0">`</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">h</span><span class="s1">+=</span><span class="s0">` </span><span class="s2">$</span><span class="s1">{</span><span class="s2">b</span><span class="s1">}</span><span class="s0">`</span><span class="s1">}</span><span class="s2">d</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s2">h</span><span class="s1">);</span><span class="s2">d</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;name&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">);</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">PB</span><span class="s1">)();</span><span class="s2">p</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">p</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s2">p</span><span class="s1">.</span><span class="s2">fill</span><span class="s1">=</span><span class="s0">&quot;#eaeaea&quot;</span><span class="s1">;</span><span class="s2">p</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s2">p</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s2">p</span><span class="s1">.</span><span class="s2">class</span><span class="s1">=</span><span class="s0">&quot;actor&quot;</span><span class="s1">;</span><span class="s2">p</span><span class="s1">.</span><span class="s2">rx</span><span class="s1">=</span><span class="s3">3</span><span class="s1">;</span><span class="s2">p</span><span class="s1">.</span><span class="s2">ry</span><span class="s1">=</span><span class="s3">3</span><span class="s1">;</span><span class="s2">d</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;actor-man-torso&quot;</span><span class="s1">+</span><span class="s2">P</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">+</span><span class="s3">25</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">+</span><span class="s3">45</span><span class="s1">);</span><span class="s2">d</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;actor-man-arms&quot;</span><span class="s1">+</span><span class="s2">P</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">-</span><span class="s2">y</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">+</span><span class="s3">33</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">+</span><span class="s2">y</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">+</span><span class="s3">33</span><span class="s1">);</span><span class="s2">d</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">-</span><span class="s2">y</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">+</span><span class="s3">60</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">+</span><span class="s3">45</span><span class="s1">);</span><span class="s2">d</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">+</span><span class="s3">45</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">+</span><span class="s2">y</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">+</span><span class="s3">60</span><span class="s1">);</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=</span><span class="s2">d</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cx&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cy&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">+</span><span class="s3">10</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s3">15</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">g</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">);</span><span class="s4">const </span><span class="s2">u</span><span class="s1">=</span><span class="s2">d</span><span class="s1">.</span><span class="s2">node</span><span class="s1">().</span><span class="s2">getBBox</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s2">j</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Wi</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">description</span><span class="s1">))(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">description</span><span class="s1">,</span><span class="s2">d</span><span class="s1">,</span><span class="s2">p</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">p</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+</span><span class="s3">35</span><span class="s1">,</span><span class="s2">p</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">p</span><span class="s1">.</span><span class="s2">height</span><span class="s1">,{</span><span class="s4">class</span><span class="s1">:</span><span class="s0">`actor </span><span class="s2">$</span><span class="s1">{</span><span class="s2">E</span><span class="s1">}</span><span class="s0">`</span><span class="s1">},</span><span class="s2">a</span><span class="s1">);</span><span class="s4">return </span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">}),</span><span class="s0">&quot;drawActorTypeActor&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">D</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async </span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">type</span><span class="s1">){</span><span class="s4">case</span><span class="s0">&quot;actor&quot;</span><span class="s1">:</span><span class="s4">return await </span><span class="s2">M</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s4">case</span><span class="s0">&quot;participant&quot;</span><span class="s1">:</span><span class="s4">return await </span><span class="s2">N</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}}),</span><span class="s0">&quot;drawActor&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">S</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">s</span><span class="s1">;</span><span class="s2">K</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">){</span><span class="s2">j</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">y</span><span class="s1">+(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">textMaxHeight</span><span class="s1">||</span><span class="s3">0</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s3">0</span><span class="s1">,{</span><span class="s4">class</span><span class="s1">:</span><span class="s0">&quot;text&quot;</span><span class="s1">},</span><span class="s2">a</span><span class="s1">)}</span><span class="s2">r</span><span class="s1">.</span><span class="s2">lower</span><span class="s1">()}),</span><span class="s0">&quot;drawBox&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">O</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">)}),</span><span class="s0">&quot;anchorElement&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">R</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">){</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">PB</span><span class="s1">)();</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">anchored</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">class</span><span class="s1">=</span><span class="s0">&quot;activation&quot;</span><span class="s1">+</span><span class="s2">i</span><span class="s1">%</span><span class="s3">3</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">a</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">;</span><span class="s2">w</span><span class="s1">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">n</span><span class="s1">)}),</span><span class="s0">&quot;drawActivation&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Y</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async </span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const</span><span class="s1">{</span><span class="s2">boxMargin</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">boxTextMargin</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">labelBoxHeight</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s2">labelBoxWidth</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s2">messageFontFamily</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s2">messageFontSize</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s2">messageFontWeight</span><span class="s1">:</span><span class="s2">p</span><span class="s1">}=</span><span class="s2">r</span><span class="s1">;</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">u</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">return </span><span class="s2">g</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;loopLine&quot;</span><span class="s1">)}),</span><span class="s0">&quot;drawLoopLine&quot;</span><span class="s1">);</span><span class="s2">u</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">);</span><span class="s2">u</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">);</span><span class="s2">u</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">);</span><span class="s2">u</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sections</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sections</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">u</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">y</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-dasharray&quot;</span><span class="s1">,</span><span class="s0">&quot;3, 3&quot;</span><span class="s1">)}))}</span><span class="s4">let </span><span class="s2">f</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">HT</span><span class="s1">)();</span><span class="s2">f</span><span class="s1">.</span><span class="s2">text</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">=</span><span class="s2">d</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">=</span><span class="s2">h</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontWeight</span><span class="s1">=</span><span class="s2">p</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">valign</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">tspan</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">l</span><span class="s1">||</span><span class="s3">50</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">c</span><span class="s1">||</span><span class="s3">20</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">class</span><span class="s1">=</span><span class="s0">&quot;labelText&quot;</span><span class="s1">;</span><span class="s2">_</span><span class="s1">(</span><span class="s2">g</span><span class="s1">,</span><span class="s2">f</span><span class="s1">);</span><span class="s2">f</span><span class="s1">=</span><span class="s2">z</span><span class="s1">();</span><span class="s2">f</span><span class="s1">.</span><span class="s2">text</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">title</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">+</span><span class="s2">l</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">+</span><span class="s2">i</span><span class="s1">+</span><span class="s2">o</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">valign</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">class</span><span class="s1">=</span><span class="s0">&quot;loopText&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">=</span><span class="s2">d</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">=</span><span class="s2">h</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontWeight</span><span class="s1">=</span><span class="s2">p</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">=</span><span class="s4">true</span><span class="s1">;</span><span class="s4">let </span><span class="s2">x</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Wi</span><span class="s1">)(</span><span class="s2">f</span><span class="s1">.</span><span class="s2">text</span><span class="s1">)?</span><span class="s4">await </span><span class="s2">I</span><span class="s1">(</span><span class="s2">g</span><span class="s1">,</span><span class="s2">f</span><span class="s1">,</span><span class="s2">e</span><span class="s1">):</span><span class="s2">L</span><span class="s1">(</span><span class="s2">g</span><span class="s1">,</span><span class="s2">f</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sectionTitles</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const</span><span class="s1">[</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">]</span><span class="s2">of Object</span><span class="s1">.</span><span class="s2">entries</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sectionTitles</span><span class="s1">)){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">message</span><span class="s1">){</span><span class="s2">f</span><span class="s1">.</span><span class="s2">text</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">message</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">+(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sections</span><span class="s1">[</span><span class="s2">t</span><span class="s1">].</span><span class="s2">y</span><span class="s1">+</span><span class="s2">i</span><span class="s1">+</span><span class="s2">o</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">class</span><span class="s1">=</span><span class="s0">&quot;loopText&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">valign</span><span class="s1">=</span><span class="s0">&quot;middle&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">tspan</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">=</span><span class="s2">d</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">=</span><span class="s2">h</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontWeight</span><span class="s1">=</span><span class="s2">p</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">;</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Wi</span><span class="s1">)(</span><span class="s2">f</span><span class="s1">.</span><span class="s2">text</span><span class="s1">)){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sections</span><span class="s1">[</span><span class="s2">t</span><span class="s1">].</span><span class="s2">y</span><span class="s1">;</span><span class="s4">await </span><span class="s2">I</span><span class="s1">(</span><span class="s2">g</span><span class="s1">,</span><span class="s2">f</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">L</span><span class="s1">(</span><span class="s2">g</span><span class="s1">,</span><span class="s2">f</span><span class="s1">)}</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">x</span><span class="s1">.</span><span class="s2">map</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">_groups</span><span class="s1">||</span><span class="s2">t</span><span class="s1">)[</span><span class="s3">0</span><span class="s1">][</span><span class="s3">0</span><span class="s1">].</span><span class="s2">getBBox</span><span class="s1">().</span><span class="s2">height</span><span class="s1">)).</span><span class="s2">reduce</span><span class="s1">(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;</span><span class="s2">t</span><span class="s1">+</span><span class="s2">e</span><span class="s1">)));</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sections</span><span class="s1">[</span><span class="s2">t</span><span class="s1">].</span><span class="s2">height</span><span class="s1">+=</span><span class="s2">s</span><span class="s1">-(</span><span class="s2">i</span><span class="s1">+</span><span class="s2">o</span><span class="s1">)}}}</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">);</span><span class="s4">return </span><span class="s2">g</span><span class="s1">}),</span><span class="s0">&quot;drawLoop&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">K</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">lC</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)}),</span><span class="s0">&quot;drawBackgroundRect&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">C</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;symbol&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;database&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;fill-rule&quot;</span><span class="s1">,</span><span class="s0">&quot;evenodd&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;clip-rule&quot;</span><span class="s1">,</span><span class="s0">&quot;evenodd&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;scale(.5)&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z&quot;</span><span class="s1">)}),</span><span class="s0">&quot;insertDatabaseIcon&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">B</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;symbol&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;computer&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s0">&quot;24&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s0">&quot;24&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;scale(.5)&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z&quot;</span><span class="s1">)}),</span><span class="s0">&quot;insertComputerIcon&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">$</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;symbol&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;clock&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s0">&quot;24&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s0">&quot;24&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;transform&quot;</span><span class="s1">,</span><span class="s0">&quot;scale(.5)&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z&quot;</span><span class="s1">)}),</span><span class="s0">&quot;insertClockIcon&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">V</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;arrowhead&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">7.9</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">5</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerUnits&quot;</span><span class="s1">,</span><span class="s0">&quot;userSpaceOnUse&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">12</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">12</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto-start-reverse&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M -1 0 L 10 5 L 0 10 z&quot;</span><span class="s1">)}),</span><span class="s0">&quot;insertArrowHead&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">F</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;filled-head&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">15.5</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">7</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">20</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">28</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 18,7 L9,13 L14,7 L9,1 Z&quot;</span><span class="s1">)}),</span><span class="s0">&quot;insertArrowFilledHead&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">W</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;sequencenumber&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">15</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">15</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">60</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">40</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;circle&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cx&quot;</span><span class="s1">,</span><span class="s3">15</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;cy&quot;</span><span class="s1">,</span><span class="s3">15</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;r&quot;</span><span class="s1">,</span><span class="s3">6</span><span class="s1">)}),</span><span class="s0">&quot;insertSequenceNumber&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">q</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;defs&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;marker&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;id&quot;</span><span class="s1">,</span><span class="s0">&quot;crosshead&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerWidth&quot;</span><span class="s1">,</span><span class="s3">15</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;markerHeight&quot;</span><span class="s1">,</span><span class="s3">8</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;orient&quot;</span><span class="s1">,</span><span class="s0">&quot;auto&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refX&quot;</span><span class="s1">,</span><span class="s3">4</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;refY&quot;</span><span class="s1">,</span><span class="s3">4.5</span><span class="s1">);</span><span class="s2">a</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;fill&quot;</span><span class="s1">,</span><span class="s0">&quot;none&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke&quot;</span><span class="s1">,</span><span class="s0">&quot;#000000&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-dasharray&quot;</span><span class="s1">,</span><span class="s0">&quot;0, 0&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke-width&quot;</span><span class="s1">,</span><span class="s0">&quot;1pt&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M 1,2 L 6,7 M 6,2 L 1,7&quot;</span><span class="s1">)}),</span><span class="s0">&quot;insertArrowCrossHead&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">z</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return</span><span class="s1">{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">fill</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">anchor</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">style</span><span class="s1">:</span><span class="s0">&quot;#666&quot;</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">textMargin</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">rx</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">ry</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">tspan</span><span class="s1">:</span><span class="s4">true</span><span class="s1">,</span><span class="s2">valign</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">}}),</span><span class="s0">&quot;getTextObj&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">H</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return</span><span class="s1">{</span><span class="s2">x</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">fill</span><span class="s1">:</span><span class="s0">&quot;#EDF2AE&quot;</span><span class="s1">,</span><span class="s2">stroke</span><span class="s1">:</span><span class="s0">&quot;#666&quot;</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s3">100</span><span class="s1">,</span><span class="s2">anchor</span><span class="s1">:</span><span class="s0">&quot;start&quot;</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s3">100</span><span class="s1">,</span><span class="s2">rx</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">ry</span><span class="s1">:</span><span class="s3">0</span><span class="s1">}}),</span><span class="s0">&quot;getNoteRect&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">j</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s1">){</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;text&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">+</span><span class="s2">i</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">+</span><span class="s2">n</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s3">5</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;text-anchor&quot;</span><span class="s1">,</span><span class="s0">&quot;middle&quot;</span><span class="s1">).</span><span class="s2">text</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s2">r</span><span class="s1">(</span><span class="s2">c</span><span class="s1">,</span><span class="s2">o</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;byText&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">e</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s2">d</span><span class="s1">){</span><span class="s4">const</span><span class="s1">{</span><span class="s2">actorFontSize</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s2">actorFontFamily</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s2">actorFontWeight</span><span class="s1">:</span><span class="s2">g</span><span class="s1">}=</span><span class="s2">d</span><span class="s1">;</span><span class="s4">const</span><span class="s1">[</span><span class="s2">u</span><span class="s1">,</span><span class="s2">f</span><span class="s1">]=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">i</span><span class="s1">.</span><span class="s2">I5</span><span class="s1">)(</span><span class="s2">h</span><span class="s1">);</span><span class="s4">const </span><span class="s2">x</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">lineBreakRegex</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">let </span><span class="s2">i</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">i</span><span class="s1">&lt;</span><span class="s2">x</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">i</span><span class="s1">++){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">i</span><span class="s1">*</span><span class="s2">u</span><span class="s1">-</span><span class="s2">u</span><span class="s1">*(</span><span class="s2">x</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">n</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;text&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">+</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;text-anchor&quot;</span><span class="s1">,</span><span class="s0">&quot;middle&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;font-size&quot;</span><span class="s1">,</span><span class="s2">f</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;font-weight&quot;</span><span class="s1">,</span><span class="s2">g</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;font-family&quot;</span><span class="s1">,</span><span class="s2">p</span><span class="s1">);</span><span class="s2">n</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;tspan&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">+</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;dy&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">).</span><span class="s2">text</span><span class="s1">(</span><span class="s2">x</span><span class="s1">[</span><span class="s2">i</span><span class="s1">]);</span><span class="s2">n</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">+</span><span class="s2">c</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;dominant-baseline&quot;</span><span class="s1">,</span><span class="s0">&quot;central&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;alignment-baseline&quot;</span><span class="s1">,</span><span class="s0">&quot;central&quot;</span><span class="s1">);</span><span class="s2">r</span><span class="s1">(</span><span class="s2">n</span><span class="s1">,</span><span class="s2">l</span><span class="s1">)}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;byTspan&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">a</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">){</span><span class="s4">const </span><span class="s2">d</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;switch&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s2">d</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;foreignObject&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">);</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">h</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;xhtml:div&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;display&quot;</span><span class="s1">,</span><span class="s0">&quot;table&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s0">&quot;100%&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s0">&quot;100%&quot;</span><span class="s1">);</span><span class="s2">p</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;div&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;display&quot;</span><span class="s1">,</span><span class="s0">&quot;table-cell&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;text-align&quot;</span><span class="s1">,</span><span class="s0">&quot;center&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;vertical-align&quot;</span><span class="s1">,</span><span class="s0">&quot;middle&quot;</span><span class="s1">).</span><span class="s2">text</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s2">e</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">d</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s2">r</span><span class="s1">(</span><span class="s2">p</span><span class="s1">,</span><span class="s2">c</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">a</span><span class="s1">,</span><span class="s0">&quot;byFo&quot;</span><span class="s1">);</span><span class="s2">async </span><span class="s4">function </span><span class="s2">s</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s2">d</span><span class="s1">){</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s4">await</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Dl</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">zj</span><span class="s1">)());</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;switch&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=</span><span class="s2">p</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;foreignObject&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">+</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">+</span><span class="s2">c</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">h</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">height</span><span class="s1">);</span><span class="s4">const </span><span class="s2">u</span><span class="s1">=</span><span class="s2">g</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;xhtml:div&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s0">&quot;100%&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s0">&quot;100%&quot;</span><span class="s1">);</span><span class="s2">u</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;div&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;text-align&quot;</span><span class="s1">,</span><span class="s0">&quot;center&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;vertical-align&quot;</span><span class="s1">,</span><span class="s0">&quot;middle&quot;</span><span class="s1">).</span><span class="s2">html</span><span class="s1">(</span><span class="s4">await</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">VJ</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">zj</span><span class="s1">)()));</span><span class="s2">e</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">p</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">,</span><span class="s2">d</span><span class="s1">);</span><span class="s2">r</span><span class="s1">(</span><span class="s2">u</span><span class="s1">,</span><span class="s2">l</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">s</span><span class="s1">,</span><span class="s0">&quot;byKatex&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">r</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">a </span><span class="s4">in </span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">e</span><span class="s1">[</span><span class="s2">a</span><span class="s1">])}}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">r</span><span class="s1">,</span><span class="s0">&quot;_setTextAttrs&quot;</span><span class="s1">);</span><span class="s4">return function</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">=</span><span class="s4">false</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">){</span><span class="s4">return </span><span class="s2">s</span><span class="s1">}</span><span class="s4">return </span><span class="s2">r</span><span class="s1">.</span><span class="s2">textPlacement</span><span class="s1">===</span><span class="s0">&quot;fo&quot;</span><span class="s1">?</span><span class="s2">a</span><span class="s1">:</span><span class="s2">r</span><span class="s1">.</span><span class="s2">textPlacement</span><span class="s1">===</span><span class="s0">&quot;old&quot;</span><span class="s1">?</span><span class="s2">t</span><span class="s1">:</span><span class="s2">e</span><span class="s1">}}();</span><span class="s4">var </span><span class="s2">U</span><span class="s1">=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">function </span><span class="s2">t</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s1">){</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;text&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;text-anchor&quot;</span><span class="s1">,</span><span class="s0">&quot;start&quot;</span><span class="s1">).</span><span class="s2">text</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s2">s</span><span class="s1">(</span><span class="s2">c</span><span class="s1">,</span><span class="s2">o</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;byText&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">e</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">){</span><span class="s4">const</span><span class="s1">{</span><span class="s2">actorFontSize</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s2">actorFontFamily</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s2">actorFontWeight</span><span class="s1">:</span><span class="s2">p</span><span class="s1">}=</span><span class="s2">l</span><span class="s1">;</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">split</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">lineBreakRegex</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">let </span><span class="s2">n</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">n</span><span class="s1">&lt;</span><span class="s2">g</span><span class="s1">.</span><span class="s2">length</span><span class="s1">;</span><span class="s2">n</span><span class="s1">++){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">n</span><span class="s1">*</span><span class="s2">d</span><span class="s1">-</span><span class="s2">d</span><span class="s1">*(</span><span class="s2">g</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;text&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;text-anchor&quot;</span><span class="s1">,</span><span class="s0">&quot;start&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;font-size&quot;</span><span class="s1">,</span><span class="s2">d</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;font-weight&quot;</span><span class="s1">,</span><span class="s2">p</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;font-family&quot;</span><span class="s1">,</span><span class="s2">h</span><span class="s1">);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;tspan&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;dy&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">).</span><span class="s2">text</span><span class="s1">(</span><span class="s2">g</span><span class="s1">[</span><span class="s2">n</span><span class="s1">]);</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">+</span><span class="s2">o</span><span class="s1">/</span><span class="s3">2</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;dominant-baseline&quot;</span><span class="s1">,</span><span class="s0">&quot;central&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;alignment-baseline&quot;</span><span class="s1">,</span><span class="s0">&quot;central&quot;</span><span class="s1">);</span><span class="s2">s</span><span class="s1">(</span><span class="s2">i</span><span class="s1">,</span><span class="s2">c</span><span class="s1">)}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">,</span><span class="s0">&quot;byTspan&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">a</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">){</span><span class="s4">const </span><span class="s2">d</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;switch&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s2">d</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;foreignObject&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s2">n</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">);</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">h</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;xhtml:div&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;display&quot;</span><span class="s1">,</span><span class="s0">&quot;table&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s0">&quot;100%&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;width&quot;</span><span class="s1">,</span><span class="s0">&quot;100%&quot;</span><span class="s1">);</span><span class="s2">p</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;div&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;display&quot;</span><span class="s1">,</span><span class="s0">&quot;table-cell&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;text-align&quot;</span><span class="s1">,</span><span class="s0">&quot;center&quot;</span><span class="s1">).</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;vertical-align&quot;</span><span class="s1">,</span><span class="s0">&quot;middle&quot;</span><span class="s1">).</span><span class="s2">text</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s2">e</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">d</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s2">s</span><span class="s1">(</span><span class="s2">p</span><span class="s1">,</span><span class="s2">c</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">a</span><span class="s1">,</span><span class="s0">&quot;byFo&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">s</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">a </span><span class="s4">in </span><span class="s2">e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">hasOwnProperty</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">e</span><span class="s1">[</span><span class="s2">a</span><span class="s1">])}}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">s</span><span class="s1">,</span><span class="s0">&quot;_setTextAttrs&quot;</span><span class="s1">);</span><span class="s4">return function</span><span class="s1">(</span><span class="s2">s</span><span class="s1">){</span><span class="s4">return </span><span class="s2">s</span><span class="s1">.</span><span class="s2">textPlacement</span><span class="s1">===</span><span class="s0">&quot;fo&quot;</span><span class="s1">?</span><span class="s2">a</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">textPlacement</span><span class="s1">===</span><span class="s0">&quot;old&quot;</span><span class="s1">?</span><span class="s2">t</span><span class="s1">:</span><span class="s2">e</span><span class="s1">}}();</span><span class="s4">var </span><span class="s2">X</span><span class="s1">={</span><span class="s2">drawRect</span><span class="s1">:</span><span class="s2">w</span><span class="s1">,</span><span class="s2">drawText</span><span class="s1">:</span><span class="s2">L</span><span class="s1">,</span><span class="s2">drawLabel</span><span class="s1">:</span><span class="s2">_</span><span class="s1">,</span><span class="s2">drawActor</span><span class="s1">:</span><span class="s2">D</span><span class="s1">,</span><span class="s2">drawBox</span><span class="s1">:</span><span class="s2">S</span><span class="s1">,</span><span class="s2">drawPopup</span><span class="s1">:</span><span class="s2">v</span><span class="s1">,</span><span class="s2">anchorElement</span><span class="s1">:</span><span class="s2">O</span><span class="s1">,</span><span class="s2">drawActivation</span><span class="s1">:</span><span class="s2">R</span><span class="s1">,</span><span class="s2">drawLoop</span><span class="s1">:</span><span class="s2">Y</span><span class="s1">,</span><span class="s2">drawBackgroundRect</span><span class="s1">:</span><span class="s2">K</span><span class="s1">,</span><span class="s2">insertArrowHead</span><span class="s1">:</span><span class="s2">V</span><span class="s1">,</span><span class="s2">insertArrowFilledHead</span><span class="s1">:</span><span class="s2">F</span><span class="s1">,</span><span class="s2">insertSequenceNumber</span><span class="s1">:</span><span class="s2">W</span><span class="s1">,</span><span class="s2">insertArrowCrossHead</span><span class="s1">:</span><span class="s2">q</span><span class="s1">,</span><span class="s2">insertDatabaseIcon</span><span class="s1">:</span><span class="s2">C</span><span class="s1">,</span><span class="s2">insertComputerIcon</span><span class="s1">:</span><span class="s2">B</span><span class="s1">,</span><span class="s2">insertClockIcon</span><span class="s1">:</span><span class="s2">$</span><span class="s1">,</span><span class="s2">getTextObj</span><span class="s1">:</span><span class="s2">z</span><span class="s1">,</span><span class="s2">getNoteRect</span><span class="s1">:</span><span class="s2">H</span><span class="s1">,</span><span class="s2">fixLifeLineHeights</span><span class="s1">:</span><span class="s2">A</span><span class="s1">,</span><span class="s2">sanitizeUrl</span><span class="s1">:</span><span class="s2">c</span><span class="s1">.</span><span class="s2">J</span><span class="s1">};</span><span class="s4">var </span><span class="s2">J</span><span class="s1">={};</span><span class="s4">var </span><span class="s2">G</span><span class="s1">={</span><span class="s2">data</span><span class="s1">:{</span><span class="s2">startx</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">starty</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">stopy</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">},</span><span class="s2">verticalPos</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">sequenceItems</span><span class="s1">:[],</span><span class="s2">activations</span><span class="s1">:[],</span><span class="s2">models</span><span class="s1">:{</span><span class="s2">getHeight</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return </span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s1">.</span><span class="s2">apply</span><span class="s1">(</span><span class="s4">null</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s3">0</span><span class="s1">?[</span><span class="s3">0</span><span class="s1">]:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">.</span><span class="s2">map</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">||</span><span class="s3">0</span><span class="s1">)))+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">loops</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s3">0</span><span class="s1">?</span><span class="s3">0</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">loops</span><span class="s1">.</span><span class="s2">map</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">||</span><span class="s3">0</span><span class="s1">)).</span><span class="s2">reduce</span><span class="s1">(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;</span><span class="s2">t</span><span class="s1">+</span><span class="s2">e</span><span class="s1">)))+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s3">0</span><span class="s1">?</span><span class="s3">0</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">map</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">||</span><span class="s3">0</span><span class="s1">)).</span><span class="s2">reduce</span><span class="s1">(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;</span><span class="s2">t</span><span class="s1">+</span><span class="s2">e</span><span class="s1">)))+(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">notes</span><span class="s1">.</span><span class="s2">length</span><span class="s1">===</span><span class="s3">0</span><span class="s1">?</span><span class="s3">0</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">notes</span><span class="s1">.</span><span class="s2">map</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">||</span><span class="s3">0</span><span class="s1">)).</span><span class="s2">reduce</span><span class="s1">(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;</span><span class="s2">t</span><span class="s1">+</span><span class="s2">e</span><span class="s1">)))}),</span><span class="s0">&quot;getHeight&quot;</span><span class="s1">),</span><span class="s2">clear</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">=[];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">boxes</span><span class="s1">=[];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">loops</span><span class="s1">=[];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">=[];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">notes</span><span class="s1">=[]}),</span><span class="s0">&quot;clear&quot;</span><span class="s1">),</span><span class="s2">addBox</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">boxes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}),</span><span class="s0">&quot;addBox&quot;</span><span class="s1">),</span><span class="s2">addActor</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}),</span><span class="s0">&quot;addActor&quot;</span><span class="s1">),</span><span class="s2">addLoop</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">loops</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}),</span><span class="s0">&quot;addLoop&quot;</span><span class="s1">),</span><span class="s2">addMessage</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}),</span><span class="s0">&quot;addMessage&quot;</span><span class="s1">),</span><span class="s2">addNote</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">notes</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}),</span><span class="s0">&quot;addNote&quot;</span><span class="s1">),</span><span class="s2">lastActor</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">actors</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]}),</span><span class="s0">&quot;lastActor&quot;</span><span class="s1">),</span><span class="s2">lastLoop</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">loops</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">loops</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]}),</span><span class="s0">&quot;lastLoop&quot;</span><span class="s1">),</span><span class="s2">lastMessage</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">messages</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]}),</span><span class="s0">&quot;lastMessage&quot;</span><span class="s1">),</span><span class="s2">lastNote</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">notes</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">notes</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">]}),</span><span class="s0">&quot;lastNote&quot;</span><span class="s1">),</span><span class="s2">actors</span><span class="s1">:[],</span><span class="s2">boxes</span><span class="s1">:[],</span><span class="s2">loops</span><span class="s1">:[],</span><span class="s2">messages</span><span class="s1">:[],</span><span class="s2">notes</span><span class="s1">:[]},</span><span class="s2">init</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">sequenceItems</span><span class="s1">=[];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">activations</span><span class="s1">=[];</span><span class="s4">this</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">clear</span><span class="s1">();</span><span class="s4">this</span><span class="s1">.</span><span class="s2">data</span><span class="s1">={</span><span class="s2">startx</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">starty</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">stopy</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">};</span><span class="s4">this</span><span class="s1">.</span><span class="s2">verticalPos</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">ot</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)())}),</span><span class="s0">&quot;init&quot;</span><span class="s1">),</span><span class="s2">updateVal</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]=</span><span class="s2">a</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">]=</span><span class="s2">s</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">])}}),</span><span class="s0">&quot;updateVal&quot;</span><span class="s1">),</span><span class="s2">updateBounds</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">let </span><span class="s2">i</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">function </span><span class="s2">o</span><span class="s1">(</span><span class="s2">o</span><span class="s1">){</span><span class="s4">return</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function </span><span class="s2">n</span><span class="s1">(</span><span class="s2">c</span><span class="s1">){</span><span class="s2">i</span><span class="s1">++;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">sequenceItems</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s2">i</span><span class="s1">+</span><span class="s3">1</span><span class="s1">;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">c</span><span class="s1">,</span><span class="s0">&quot;starty&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">-</span><span class="s2">l</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">c</span><span class="s1">,</span><span class="s0">&quot;stopy&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">+</span><span class="s2">l</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">G</span><span class="s1">.</span><span class="s2">data</span><span class="s1">,</span><span class="s0">&quot;startx&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">-</span><span class="s2">l</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">G</span><span class="s1">.</span><span class="s2">data</span><span class="s1">,</span><span class="s0">&quot;stopx&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">+</span><span class="s2">l</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!(</span><span class="s2">o</span><span class="s1">===</span><span class="s0">&quot;activation&quot;</span><span class="s1">)){</span><span class="s2">r</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">c</span><span class="s1">,</span><span class="s0">&quot;startx&quot;</span><span class="s1">,</span><span class="s2">t</span><span class="s1">-</span><span class="s2">l</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">c</span><span class="s1">,</span><span class="s0">&quot;stopx&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">+</span><span class="s2">l</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">G</span><span class="s1">.</span><span class="s2">data</span><span class="s1">,</span><span class="s0">&quot;starty&quot;</span><span class="s1">,</span><span class="s2">e</span><span class="s1">-</span><span class="s2">l</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">);</span><span class="s2">r</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">G</span><span class="s1">.</span><span class="s2">data</span><span class="s1">,</span><span class="s0">&quot;stopy&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">+</span><span class="s2">l</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s1">)}}),</span><span class="s0">&quot;updateItemBounds&quot;</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">o</span><span class="s1">,</span><span class="s0">&quot;updateFn&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">sequenceItems</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">(</span><span class="s2">o</span><span class="s1">());</span><span class="s4">this</span><span class="s1">.</span><span class="s2">activations</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">(</span><span class="s2">o</span><span class="s1">(</span><span class="s0">&quot;activation&quot;</span><span class="s1">))}),</span><span class="s0">&quot;updateBounds&quot;</span><span class="s1">),</span><span class="s2">insert</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMin</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMin</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">G</span><span class="s1">.</span><span class="s2">data</span><span class="s1">,</span><span class="s0">&quot;startx&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">G</span><span class="s1">.</span><span class="s2">data</span><span class="s1">,</span><span class="s0">&quot;starty&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">G</span><span class="s1">.</span><span class="s2">data</span><span class="s1">,</span><span class="s0">&quot;stopx&quot;</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">updateVal</span><span class="s1">(</span><span class="s2">G</span><span class="s1">.</span><span class="s2">data</span><span class="s1">,</span><span class="s0">&quot;stopy&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">updateBounds</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">c</span><span class="s1">)}),</span><span class="s0">&quot;insert&quot;</span><span class="s1">),</span><span class="s2">newActivation</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">ct</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">).</span><span class="s2">length</span><span class="s1">||</span><span class="s3">0</span><span class="s1">;</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+(</span><span class="s2">r</span><span class="s1">-</span><span class="s3">1</span><span class="s1">)*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">activationWidth</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">activations</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span><span class="s2">startx</span><span class="s1">:</span><span class="s2">i</span><span class="s1">,</span><span class="s2">starty</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">verticalPos</span><span class="s1">+</span><span class="s3">2</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s2">i</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">activationWidth</span><span class="s1">,</span><span class="s2">stopy</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">,</span><span class="s2">anchored</span><span class="s1">:</span><span class="s2">X</span><span class="s1">.</span><span class="s2">anchorElement</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)})}),</span><span class="s0">&quot;newActivation&quot;</span><span class="s1">),</span><span class="s2">endActivation</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">activations</span><span class="s1">.</span><span class="s2">map</span><span class="s1">((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">})).</span><span class="s2">lastIndexOf</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">);</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">activations</span><span class="s1">.</span><span class="s2">splice</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s3">1</span><span class="s1">)[</span><span class="s3">0</span><span class="s1">]}),</span><span class="s0">&quot;endActivation&quot;</span><span class="s1">),</span><span class="s2">createLoop</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">={</span><span class="s2">message</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s4">false</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">},</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return</span><span class="s1">{</span><span class="s2">startx</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">starty</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">verticalPos</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">stopy</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">title</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">height</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">fill</span><span class="s1">:</span><span class="s2">e</span><span class="s1">}}),</span><span class="s0">&quot;createLoop&quot;</span><span class="s1">),</span><span class="s2">newLoop</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">={</span><span class="s2">message</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s4">false</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s4">void </span><span class="s3">0</span><span class="s1">},</span><span class="s2">e</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">sequenceItems</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">createLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">))}),</span><span class="s0">&quot;newLoop&quot;</span><span class="s1">),</span><span class="s2">endLoop</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">sequenceItems</span><span class="s1">.</span><span class="s2">pop</span><span class="s1">()}),</span><span class="s0">&quot;endLoop&quot;</span><span class="s1">),</span><span class="s2">isLoopOverlap</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">sequenceItems</span><span class="s1">.</span><span class="s2">length</span><span class="s1">?</span><span class="s4">this</span><span class="s1">.</span><span class="s2">sequenceItems</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.</span><span class="s2">sequenceItems</span><span class="s1">.</span><span class="s2">length</span><span class="s1">-</span><span class="s3">1</span><span class="s1">].</span><span class="s2">overlap</span><span class="s1">:</span><span class="s4">false</span><span class="s1">}),</span><span class="s0">&quot;isLoopOverlap&quot;</span><span class="s1">),</span><span class="s2">addSectionToLoop</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">sequenceItems</span><span class="s1">.</span><span class="s2">pop</span><span class="s1">();</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sections</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sections</span><span class="s1">||[];</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sectionTitles</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sectionTitles</span><span class="s1">||[];</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sections</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span><span class="s2">y</span><span class="s1">:</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">(),</span><span class="s2">height</span><span class="s1">:</span><span class="s3">0</span><span class="s1">});</span><span class="s2">e</span><span class="s1">.</span><span class="s2">sectionTitles</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.</span><span class="s2">sequenceItems</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}),</span><span class="s0">&quot;addSectionToLoop&quot;</span><span class="s1">),</span><span class="s2">saveVerticalPos</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">isLoopOverlap</span><span class="s1">()){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">savedVerticalPos</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">verticalPos</span><span class="s1">}}),</span><span class="s0">&quot;saveVerticalPos&quot;</span><span class="s1">),</span><span class="s2">resetVerticalPos</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">isLoopOverlap</span><span class="s1">()){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">verticalPos</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">savedVerticalPos</span><span class="s1">}}),</span><span class="s0">&quot;resetVerticalPos&quot;</span><span class="s1">),</span><span class="s2">bumpVerticalPos</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">this</span><span class="s1">.</span><span class="s2">verticalPos</span><span class="s1">=</span><span class="s4">this</span><span class="s1">.</span><span class="s2">verticalPos</span><span class="s1">+</span><span class="s2">t</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.</span><span class="s2">data</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.</span><span class="s2">data</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.</span><span class="s2">verticalPos</span><span class="s1">)}),</span><span class="s0">&quot;bumpVerticalPos&quot;</span><span class="s1">),</span><span class="s2">getVerticalPos</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.</span><span class="s2">verticalPos</span><span class="s1">}),</span><span class="s0">&quot;getVerticalPos&quot;</span><span class="s1">),</span><span class="s2">getBounds</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return</span><span class="s1">{</span><span class="s2">bounds</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">data</span><span class="s1">,</span><span class="s2">models</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.</span><span class="s2">models</span><span class="s1">}}),</span><span class="s0">&quot;getBounds&quot;</span><span class="s1">)};</span><span class="s4">var </span><span class="s2">Z</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async </span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">();</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">PB</span><span class="s1">)();</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">||</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">class</span><span class="s1">=</span><span class="s0">&quot;note&quot;</span><span class="s1">;</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;g&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawRect</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">HT</span><span class="s1">)();</span><span class="s2">o</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">dy</span><span class="s1">=</span><span class="s0">&quot;1em&quot;</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">text</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">class</span><span class="s1">=</span><span class="s0">&quot;noteText&quot;</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteFontFamily</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteFontSize</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">fontWeight</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteFontWeight</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteAlign</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">valign</span><span class="s1">=</span><span class="s0">&quot;center&quot;</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Wi</span><span class="s1">)(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">text</span><span class="s1">)?</span><span class="s4">await </span><span class="s2">I</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s1">):</span><span class="s2">L</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s1">);</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">round</span><span class="s1">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">map</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">_groups</span><span class="s1">||</span><span class="s2">t</span><span class="s1">)[</span><span class="s3">0</span><span class="s1">][</span><span class="s3">0</span><span class="s1">].</span><span class="s2">getBBox</span><span class="s1">().</span><span class="s2">height</span><span class="s1">)).</span><span class="s2">reduce</span><span class="s1">(((</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)=&gt;</span><span class="s2">t</span><span class="s1">+</span><span class="s2">e</span><span class="s1">)));</span><span class="s2">i</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;height&quot;</span><span class="s1">,</span><span class="s2">l</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+=</span><span class="s2">l</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">l</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">+</span><span class="s2">l</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">+</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addNote</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)}),</span><span class="s0">&quot;drawNote&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">Q</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;({</span><span class="s2">fontFamily</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">messageFontFamily</span><span class="s1">,</span><span class="s2">fontSize</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">messageFontSize</span><span class="s1">,</span><span class="s2">fontWeight</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">messageFontWeight</span><span class="s1">})),</span><span class="s0">&quot;messageFont&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">tt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;({</span><span class="s2">fontFamily</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">noteFontFamily</span><span class="s1">,</span><span class="s2">fontSize</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">noteFontSize</span><span class="s1">,</span><span class="s2">fontWeight</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">noteFontWeight</span><span class="s1">})),</span><span class="s0">&quot;noteFont&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">et</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;({</span><span class="s2">fontFamily</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorFontFamily</span><span class="s1">,</span><span class="s2">fontSize</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorFontSize</span><span class="s1">,</span><span class="s2">fontWeight</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actorFontWeight</span><span class="s1">})),</span><span class="s0">&quot;actorFont&quot;</span><span class="s1">);</span><span class="s2">async </span><span class="s4">function </span><span class="s2">at</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s3">10</span><span class="s1">);</span><span class="s4">const</span><span class="s1">{</span><span class="s2">startx</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">message</span><span class="s1">:</span><span class="s2">r</span><span class="s1">}=</span><span class="s2">e</span><span class="s1">;</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">splitBreaks</span><span class="s1">(</span><span class="s2">r</span><span class="s1">).</span><span class="s2">length</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Wi</span><span class="s1">)(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">c</span><span class="s1">?</span><span class="s4">await</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Dl</span><span class="s1">)(</span><span class="s2">r</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)()):</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calculateTextDimensions</span><span class="s1">(</span><span class="s2">r</span><span class="s1">,</span><span class="s2">Q</span><span class="s1">(</span><span class="s2">J</span><span class="s1">));</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">c</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">l</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s2">o</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}</span><span class="s4">let </span><span class="s2">d</span><span class="s1">;</span><span class="s4">let </span><span class="s2">h</span><span class="s1">=</span><span class="s2">l</span><span class="s1">.</span><span class="s2">height</span><span class="s1">-</span><span class="s3">10</span><span class="s1">;</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">l</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">===</span><span class="s2">s</span><span class="s1">){</span><span class="s2">d</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">()+</span><span class="s2">h</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">J</span><span class="s1">.</span><span class="s2">rightAngles</span><span class="s1">){</span><span class="s2">h</span><span class="s1">+=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">;</span><span class="s2">d</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">()+</span><span class="s2">h</span><span class="s1">}</span><span class="s2">h</span><span class="s1">+=</span><span class="s3">30</span><span class="s1">;</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">p</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">a</span><span class="s1">-</span><span class="s2">t</span><span class="s1">,</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">()-</span><span class="s3">10</span><span class="s1">+</span><span class="s2">h</span><span class="s1">,</span><span class="s2">s</span><span class="s1">+</span><span class="s2">t</span><span class="s1">,</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">()+</span><span class="s3">30</span><span class="s1">+</span><span class="s2">h</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">h</span><span class="s1">+=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">;</span><span class="s2">d</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">()+</span><span class="s2">h</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">d</span><span class="s1">-</span><span class="s3">10</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">d</span><span class="s1">)}</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">h</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">+=</span><span class="s2">h</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">+</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">fromBounds</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">toBounds</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">);</span><span class="s4">return </span><span class="s2">d</span><span class="s1">}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">at</span><span class="s1">,</span><span class="s0">&quot;boundMessage&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">st</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async </span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s4">const</span><span class="s1">{</span><span class="s2">startx</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s2">starty</span><span class="s1">:</span><span class="s2">l</span><span class="s1">,</span><span class="s2">message</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s2">sequenceIndex</span><span class="s1">:</span><span class="s2">p</span><span class="s1">,</span><span class="s2">sequenceVisible</span><span class="s1">:</span><span class="s2">g</span><span class="s1">}=</span><span class="s2">e</span><span class="s1">;</span><span class="s4">const </span><span class="s2">u</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calculateTextDimensions</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,</span><span class="s2">Q</span><span class="s1">(</span><span class="s2">J</span><span class="s1">));</span><span class="s4">const </span><span class="s2">f</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">HT</span><span class="s1">)();</span><span class="s2">f</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">l</span><span class="s1">+</span><span class="s3">10</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">c</span><span class="s1">-</span><span class="s2">o</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">class</span><span class="s1">=</span><span class="s0">&quot;messageText&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">dy</span><span class="s1">=</span><span class="s0">&quot;1em&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">text</span><span class="s1">=</span><span class="s2">d</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">messageFontFamily</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">messageFontSize</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">fontWeight</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">messageFontWeight</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">anchor</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">messageAlign</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">valign</span><span class="s1">=</span><span class="s0">&quot;center&quot;</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">textMargin</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">;</span><span class="s2">f</span><span class="s1">.</span><span class="s2">tspan</span><span class="s1">=</span><span class="s4">false</span><span class="s1">;</span><span class="s4">if</span><span class="s1">((</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Wi</span><span class="s1">)(</span><span class="s2">f</span><span class="s1">.</span><span class="s2">text</span><span class="s1">)){</span><span class="s4">await </span><span class="s2">I</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">f</span><span class="s1">,{</span><span class="s2">startx</span><span class="s1">:</span><span class="s2">o</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s2">c</span><span class="s1">,</span><span class="s2">starty</span><span class="s1">:</span><span class="s2">a</span><span class="s1">})}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">L</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">f</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">x</span><span class="s1">=</span><span class="s2">u</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s4">let </span><span class="s2">y</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">o</span><span class="s1">===</span><span class="s2">c</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">rightAngles</span><span class="s1">){</span><span class="s2">y</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">`M  </span><span class="s2">$</span><span class="s1">{</span><span class="s2">o</span><span class="s1">}</span><span class="s0">,</span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">} </span><span class="s0">H </span><span class="s2">$</span><span class="s1">{</span><span class="s2">o</span><span class="s1">+</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">x</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)} </span><span class="s0">V </span><span class="s2">$</span><span class="s1">{</span><span class="s2">a</span><span class="s1">+</span><span class="s3">25</span><span class="s1">} </span><span class="s0">H </span><span class="s2">$</span><span class="s1">{</span><span class="s2">o</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">y</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;path&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;d&quot;</span><span class="s1">,</span><span class="s0">&quot;M &quot;</span><span class="s1">+</span><span class="s2">o</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+</span><span class="s2">a</span><span class="s1">+</span><span class="s0">&quot; C &quot;</span><span class="s1">+(</span><span class="s2">o</span><span class="s1">+</span><span class="s3">60</span><span class="s1">)+</span><span class="s0">&quot;,&quot;</span><span class="s1">+(</span><span class="s2">a</span><span class="s1">-</span><span class="s3">10</span><span class="s1">)+</span><span class="s0">&quot; &quot;</span><span class="s1">+(</span><span class="s2">o</span><span class="s1">+</span><span class="s3">60</span><span class="s1">)+</span><span class="s0">&quot;,&quot;</span><span class="s1">+(</span><span class="s2">a</span><span class="s1">+</span><span class="s3">30</span><span class="s1">)+</span><span class="s0">&quot; &quot;</span><span class="s1">+</span><span class="s2">o</span><span class="s1">+</span><span class="s0">&quot;,&quot;</span><span class="s1">+(</span><span class="s2">a</span><span class="s1">+</span><span class="s3">20</span><span class="s1">))}}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">y</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;line&quot;</span><span class="s1">);</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x1&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">);</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y1&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x2&quot;</span><span class="s1">,</span><span class="s2">c</span><span class="s1">);</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y2&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED</span><span class="s1">||</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_CROSS</span><span class="s1">||</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_POINT</span><span class="s1">||</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_OPEN</span><span class="s1">||</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_DOTTED</span><span class="s1">){</span><span class="s2">y</span><span class="s1">.</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;stroke-dasharray&quot;</span><span class="s1">,</span><span class="s0">&quot;3, 3&quot;</span><span class="s1">);</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;messageLine1&quot;</span><span class="s1">)}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;messageLine0&quot;</span><span class="s1">)}</span><span class="s4">let </span><span class="s2">b</span><span class="s1">=</span><span class="s0">&quot;&quot;</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">arrowMarkerAbsolute</span><span class="s1">){</span><span class="s2">b</span><span class="s1">=</span><span class="s2">window</span><span class="s1">.</span><span class="s2">location</span><span class="s1">.</span><span class="s2">protocol</span><span class="s1">+</span><span class="s0">&quot;//&quot;</span><span class="s1">+</span><span class="s2">window</span><span class="s1">.</span><span class="s2">location</span><span class="s1">.</span><span class="s2">host</span><span class="s1">+</span><span class="s2">window</span><span class="s1">.</span><span class="s2">location</span><span class="s1">.</span><span class="s2">pathname</span><span class="s1">+</span><span class="s2">window</span><span class="s1">.</span><span class="s2">location</span><span class="s1">.</span><span class="s2">search</span><span class="s1">;</span><span class="s2">b</span><span class="s1">=</span><span class="s2">b</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/\(/g</span><span class="s1">,</span><span class="s0">&quot;</span><span class="s4">\\</span><span class="s0">(&quot;</span><span class="s1">);</span><span class="s2">b</span><span class="s1">=</span><span class="s2">b</span><span class="s1">.</span><span class="s2">replace</span><span class="s1">(</span><span class="s5">/\)/g</span><span class="s1">,</span><span class="s0">&quot;</span><span class="s4">\\</span><span class="s0">)&quot;</span><span class="s1">)}</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke-width&quot;</span><span class="s1">,</span><span class="s3">2</span><span class="s1">);</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;stroke&quot;</span><span class="s1">,</span><span class="s0">&quot;none&quot;</span><span class="s1">);</span><span class="s2">y</span><span class="s1">.</span><span class="s2">style</span><span class="s1">(</span><span class="s0">&quot;fill&quot;</span><span class="s1">,</span><span class="s0">&quot;none&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID</span><span class="s1">||</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED</span><span class="s1">){</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;marker-end&quot;</span><span class="s1">,</span><span class="s0">&quot;url(&quot;</span><span class="s1">+</span><span class="s2">b</span><span class="s1">+</span><span class="s0">&quot;#arrowhead)&quot;</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_SOLID</span><span class="s1">||</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_DOTTED</span><span class="s1">){</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;marker-start&quot;</span><span class="s1">,</span><span class="s0">&quot;url(&quot;</span><span class="s1">+</span><span class="s2">b</span><span class="s1">+</span><span class="s0">&quot;#arrowhead)&quot;</span><span class="s1">);</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;marker-end&quot;</span><span class="s1">,</span><span class="s0">&quot;url(&quot;</span><span class="s1">+</span><span class="s2">b</span><span class="s1">+</span><span class="s0">&quot;#arrowhead)&quot;</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_POINT</span><span class="s1">||</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_POINT</span><span class="s1">){</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;marker-end&quot;</span><span class="s1">,</span><span class="s0">&quot;url(&quot;</span><span class="s1">+</span><span class="s2">b</span><span class="s1">+</span><span class="s0">&quot;#filled-head)&quot;</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_CROSS</span><span class="s1">||</span><span class="s2">h</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_CROSS</span><span class="s1">){</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;marker-end&quot;</span><span class="s1">,</span><span class="s0">&quot;url(&quot;</span><span class="s1">+</span><span class="s2">b</span><span class="s1">+</span><span class="s0">&quot;#crosshead)&quot;</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">g</span><span class="s1">||</span><span class="s2">J</span><span class="s1">.</span><span class="s2">showSequenceNumbers</span><span class="s1">){</span><span class="s2">y</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;marker-start&quot;</span><span class="s1">,</span><span class="s0">&quot;url(&quot;</span><span class="s1">+</span><span class="s2">b</span><span class="s1">+</span><span class="s0">&quot;#sequencenumber)&quot;</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;text&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,</span><span class="s2">o</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,</span><span class="s2">a</span><span class="s1">+</span><span class="s3">4</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;font-family&quot;</span><span class="s1">,</span><span class="s0">&quot;sans-serif&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;font-size&quot;</span><span class="s1">,</span><span class="s0">&quot;12px&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;text-anchor&quot;</span><span class="s1">,</span><span class="s0">&quot;middle&quot;</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;class&quot;</span><span class="s1">,</span><span class="s0">&quot;sequenceNumber&quot;</span><span class="s1">).</span><span class="s2">text</span><span class="s1">(</span><span class="s2">p</span><span class="s1">)}}),</span><span class="s0">&quot;drawMessage&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">rt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s1">){</span><span class="s4">let </span><span class="s2">c</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">let </span><span class="s2">l</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">let </span><span class="s2">d</span><span class="s1">=</span><span class="s4">void </span><span class="s3">0</span><span class="s1">;</span><span class="s4">let </span><span class="s2">h</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">p of s</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">p</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">box</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">d</span><span class="s1">&amp;&amp;</span><span class="s2">d</span><span class="s1">!=</span><span class="s2">s</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">o</span><span class="s1">){</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addBox</span><span class="s1">(</span><span class="s2">d</span><span class="s1">)}</span><span class="s2">l</span><span class="s1">+=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">d</span><span class="s1">.</span><span class="s2">margin</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">&amp;&amp;</span><span class="s2">s</span><span class="s1">!=</span><span class="s2">d</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">o</span><span class="s1">){</span><span class="s2">s</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">c</span><span class="s1">+</span><span class="s2">l</span><span class="s1">;</span><span class="s2">s</span><span class="s1">.</span><span class="s2">y</span><span class="s1">=</span><span class="s2">r</span><span class="s1">}</span><span class="s2">l</span><span class="s1">+=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">margin</span><span class="s1">}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">||</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">||</span><span class="s2">J</span><span class="s1">.</span><span class="s2">height</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">height</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">margin</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">margin</span><span class="s1">||</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorMargin</span><span class="s1">;</span><span class="s2">h</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">name</span><span class="s1">)){</span><span class="s2">l</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">=</span><span class="s2">c</span><span class="s1">+</span><span class="s2">l</span><span class="s1">;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">();</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">height</span><span class="s1">);</span><span class="s2">c</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">l</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">box</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">box</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">c</span><span class="s1">+</span><span class="s2">s</span><span class="s1">.</span><span class="s2">margin</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">box</span><span class="s1">.</span><span class="s2">x</span><span class="s1">}</span><span class="s2">l</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">margin</span><span class="s1">;</span><span class="s2">d</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">box</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">d</span><span class="s1">&amp;&amp;!</span><span class="s2">o</span><span class="s1">){</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addBox</span><span class="s1">(</span><span class="s2">d</span><span class="s1">)}</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">h</span><span class="s1">)}),</span><span class="s0">&quot;addActorRenderingData&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">it</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async </span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">s</span><span class="s1">){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">s of a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">s</span><span class="s1">);</span><span class="s4">await </span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">J</span><span class="s1">,</span><span class="s4">false</span><span class="s1">)}}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">*</span><span class="s3">2</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">r of a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">r</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">a</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">()}</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s4">await </span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawActor</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">J</span><span class="s1">,</span><span class="s4">true</span><span class="s1">);</span><span class="s2">s</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">i</span><span class="s1">)}</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">s</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">)}}),</span><span class="s0">&quot;drawActors&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">nt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">let </span><span class="s2">r</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">let </span><span class="s2">i</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">n of a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">n</span><span class="s1">);</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">ut</span><span class="s1">(</span><span class="s2">a</span><span class="s1">);</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawPopup</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">forceMenus</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">height</span><span class="s1">&gt;</span><span class="s2">r</span><span class="s1">){</span><span class="s2">r</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">height</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">&gt;</span><span class="s2">i</span><span class="s1">){</span><span class="s2">i</span><span class="s1">=</span><span class="s2">c</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">}}</span><span class="s4">return</span><span class="s1">{</span><span class="s2">maxHeight</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">maxWidth</span><span class="s1">:</span><span class="s2">i</span><span class="s1">}}),</span><span class="s0">&quot;drawActorsPopup&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ot</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">hH</span><span class="s1">)(</span><span class="s2">J</span><span class="s1">,</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">){</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorFontFamily</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteFontFamily</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">messageFontFamily</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fontFamily</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">){</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorFontSize</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteFontSize</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">messageFontSize</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fontSize</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fontWeight</span><span class="s1">){</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorFontWeight</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteFontWeight</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">messageFontWeight</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">fontWeight</span><span class="s1">}}),</span><span class="s0">&quot;setConf&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ct</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">return </span><span class="s2">G</span><span class="s1">.</span><span class="s2">activations</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">e</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">===</span><span class="s2">t</span><span class="s1">}))}),</span><span class="s0">&quot;actorActivations&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">lt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">ct</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">reduce</span><span class="s1">((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMin</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">)}),</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s3">1</span><span class="s1">);</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">reduce</span><span class="s1">((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">return </span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">)}),</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s3">1</span><span class="s1">);</span><span class="s4">return</span><span class="s1">[</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">]}),</span><span class="s0">&quot;activationBounds&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">dt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">){</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">a</span><span class="s1">);</span><span class="s4">let </span><span class="s2">o</span><span class="s1">=</span><span class="s2">s</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">&amp;&amp;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">id</span><span class="s1">].</span><span class="s2">width</span><span class="s1">;</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">Q</span><span class="s1">(</span><span class="s2">J</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">wrapLabel</span><span class="s1">(</span><span class="s0">`[</span><span class="s2">$</span><span class="s1">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">}</span><span class="s0">]`</span><span class="s1">,</span><span class="s2">a</span><span class="s1">-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">a</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">=</span><span class="s4">true</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calculateTextDimensions</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">height</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">labelBoxHeight</span><span class="s1">);</span><span class="s2">o</span><span class="s1">=</span><span class="s2">s</span><span class="s1">+</span><span class="s2">l</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`</span><span class="s2">$</span><span class="s1">{</span><span class="s2">l</span><span class="s1">} </span><span class="s0">- </span><span class="s2">$</span><span class="s1">{</span><span class="s2">e</span><span class="s1">.</span><span class="s2">message</span><span class="s1">}</span><span class="s0">`</span><span class="s1">)}</span><span class="s2">r</span><span class="s1">(</span><span class="s2">e</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">o</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">dt</span><span class="s1">,</span><span class="s0">&quot;adjustLoopHeightForWrap&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">ht</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">i</span><span class="s1">,</span><span class="s2">o</span><span class="s1">){</span><span class="s4">function </span><span class="s2">c</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">&lt;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">).</span><span class="s2">x</span><span class="s1">){</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">-</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">+</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">+</span><span class="s2">s</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">+</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">+</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">-</span><span class="s2">s</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">c</span><span class="s1">,</span><span class="s0">&quot;receiverAdjustment&quot;</span><span class="s1">);</span><span class="s4">function </span><span class="s2">l</span><span class="s1">(</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">&lt;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">).</span><span class="s2">x</span><span class="s1">){</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">-</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">+</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">+</span><span class="s2">s</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">+</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">+</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">-</span><span class="s2">s</span><span class="s1">}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">l</span><span class="s1">,</span><span class="s0">&quot;senderAdjustment&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">i</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">)==</span><span class="s2">s</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">);</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">type</span><span class="s1">==</span><span class="s0">&quot;actor&quot;</span><span class="s1">?</span><span class="s2">y</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s3">3</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s3">3</span><span class="s1">;</span><span class="s2">c</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">=</span><span class="s2">a</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">)==</span><span class="s2">s</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">mirrorActors</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">type</span><span class="s1">==</span><span class="s0">&quot;actor&quot;</span><span class="s1">?</span><span class="s2">y</span><span class="s1">/</span><span class="s3">2</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">l</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)}</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">=</span><span class="s2">a</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">)==</span><span class="s2">s</span><span class="s1">){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">mirrorActors</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">type</span><span class="s1">==</span><span class="s0">&quot;actor&quot;</span><span class="s1">?</span><span class="s2">y</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s3">3</span><span class="s1">:</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s3">3</span><span class="s1">;</span><span class="s2">c</span><span class="s1">(</span><span class="s2">e</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)}</span><span class="s2">e</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">=</span><span class="s2">a</span><span class="s1">-</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)}}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">ht</span><span class="s1">,</span><span class="s0">&quot;adjustCreatedDestroyedData&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">pt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async </span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">const</span><span class="s1">{</span><span class="s2">securityLevel</span><span class="s1">:</span><span class="s2">r</span><span class="s1">,</span><span class="s2">sequence</span><span class="s1">:</span><span class="s2">i</span><span class="s1">}=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)();</span><span class="s2">J</span><span class="s1">=</span><span class="s2">i</span><span class="s1">;</span><span class="s4">let </span><span class="s2">c</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">===</span><span class="s0">&quot;sandbox&quot;</span><span class="s1">){</span><span class="s2">c</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s0">&quot;#i&quot;</span><span class="s1">+</span><span class="s2">e</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">r</span><span class="s1">===</span><span class="s0">&quot;sandbox&quot;</span><span class="s1">?(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s2">c</span><span class="s1">.</span><span class="s2">nodes</span><span class="s1">()[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">contentDocument</span><span class="s1">.</span><span class="s2">body</span><span class="s1">):(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s0">&quot;body&quot;</span><span class="s1">);</span><span class="s4">const </span><span class="s2">d</span><span class="s1">=</span><span class="s2">r</span><span class="s1">===</span><span class="s0">&quot;sandbox&quot;</span><span class="s1">?</span><span class="s2">c</span><span class="s1">.</span><span class="s2">nodes</span><span class="s1">()[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">contentDocument</span><span class="s1">:</span><span class="s2">document</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">init</span><span class="s1">();</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">);</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=</span><span class="s2">r</span><span class="s1">===</span><span class="s0">&quot;sandbox&quot;</span><span class="s1">?</span><span class="s2">l</span><span class="s1">.</span><span class="s2">select</span><span class="s1">(</span><span class="s0">`[id=&quot;</span><span class="s2">$</span><span class="s1">{</span><span class="s2">e</span><span class="s1">}</span><span class="s0">&quot;]`</span><span class="s1">):(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">Ltv</span><span class="s1">)(</span><span class="s0">`[id=&quot;</span><span class="s2">$</span><span class="s1">{</span><span class="s2">e</span><span class="s1">}</span><span class="s0">&quot;]`</span><span class="s1">);</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">getActors</span><span class="s1">();</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">getCreatedActors</span><span class="s1">();</span><span class="s4">const </span><span class="s2">u</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">getDestroyedActors</span><span class="s1">();</span><span class="s4">const </span><span class="s2">f</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">getBoxes</span><span class="s1">();</span><span class="s4">let </span><span class="s2">x</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">getActorKeys</span><span class="s1">();</span><span class="s4">const </span><span class="s2">y</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">getMessages</span><span class="s1">();</span><span class="s4">const </span><span class="s2">b</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">getDiagramTitle</span><span class="s1">();</span><span class="s4">const </span><span class="s2">m</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">hasAtLeastOneBox</span><span class="s1">();</span><span class="s4">const </span><span class="s2">T</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">hasAtLeastOneBoxWithTitle</span><span class="s1">();</span><span class="s4">const </span><span class="s2">E</span><span class="s1">=</span><span class="s4">await </span><span class="s2">gt</span><span class="s1">(</span><span class="s2">p</span><span class="s1">,</span><span class="s2">y</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s2">J</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s4">await </span><span class="s2">ft</span><span class="s1">(</span><span class="s2">p</span><span class="s1">,</span><span class="s2">E</span><span class="s1">,</span><span class="s2">f</span><span class="s1">);</span><span class="s2">X</span><span class="s1">.</span><span class="s2">insertComputerIcon</span><span class="s1">(</span><span class="s2">h</span><span class="s1">);</span><span class="s2">X</span><span class="s1">.</span><span class="s2">insertDatabaseIcon</span><span class="s1">(</span><span class="s2">h</span><span class="s1">);</span><span class="s2">X</span><span class="s1">.</span><span class="s2">insertClockIcon</span><span class="s1">(</span><span class="s2">h</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">m</span><span class="s1">){</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">T</span><span class="s1">){</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">f</span><span class="s1">[</span><span class="s3">0</span><span class="s1">].</span><span class="s2">textMaxHeight</span><span class="s1">)}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">hideUnusedParticipants</span><span class="s1">===</span><span class="s4">true</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s4">new </span><span class="s2">Set</span><span class="s1">;</span><span class="s2">y</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">e</span><span class="s1">=&gt;{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">add</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">from</span><span class="s1">);</span><span class="s2">t</span><span class="s1">.</span><span class="s2">add</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">to</span><span class="s1">)}));</span><span class="s2">x</span><span class="s1">=</span><span class="s2">x</span><span class="s1">.</span><span class="s2">filter</span><span class="s1">((</span><span class="s2">e</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">has</span><span class="s1">(</span><span class="s2">e</span><span class="s1">)))}</span><span class="s2">rt</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">p</span><span class="s1">,</span><span class="s2">g</span><span class="s1">,</span><span class="s2">x</span><span class="s1">,</span><span class="s3">0</span><span class="s1">,</span><span class="s2">y</span><span class="s1">,</span><span class="s4">false</span><span class="s1">);</span><span class="s4">const </span><span class="s2">w</span><span class="s1">=</span><span class="s4">await </span><span class="s2">bt</span><span class="s1">(</span><span class="s2">y</span><span class="s1">,</span><span class="s2">p</span><span class="s1">,</span><span class="s2">E</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s2">X</span><span class="s1">.</span><span class="s2">insertArrowHead</span><span class="s1">(</span><span class="s2">h</span><span class="s1">);</span><span class="s2">X</span><span class="s1">.</span><span class="s2">insertArrowCrossHead</span><span class="s1">(</span><span class="s2">h</span><span class="s1">);</span><span class="s2">X</span><span class="s1">.</span><span class="s2">insertArrowFilledHead</span><span class="s1">(</span><span class="s2">h</span><span class="s1">);</span><span class="s2">X</span><span class="s1">.</span><span class="s2">insertSequenceNumber</span><span class="s1">(</span><span class="s2">h</span><span class="s1">);</span><span class="s4">function </span><span class="s2">v</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">endActivation</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">+</span><span class="s3">18</span><span class="s1">&gt;</span><span class="s2">e</span><span class="s1">){</span><span class="s2">a</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">=</span><span class="s2">e</span><span class="s1">-</span><span class="s3">6</span><span class="s1">;</span><span class="s2">e</span><span class="s1">+=</span><span class="s3">12</span><span class="s1">}</span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawActivation</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">J</span><span class="s1">,</span><span class="s2">ct</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">).</span><span class="s2">length</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">-</span><span class="s3">10</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">,</span><span class="s2">e</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">v</span><span class="s1">,</span><span class="s0">&quot;activeEnd&quot;</span><span class="s1">);</span><span class="s4">let </span><span class="s2">k</span><span class="s1">=</span><span class="s3">1</span><span class="s1">;</span><span class="s4">let </span><span class="s2">I</span><span class="s1">=</span><span class="s3">1</span><span class="s1">;</span><span class="s4">const </span><span class="s2">L</span><span class="s1">=[];</span><span class="s4">const </span><span class="s2">_</span><span class="s1">=[];</span><span class="s4">let </span><span class="s2">P</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">o of y</span><span class="s1">){</span><span class="s4">let </span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">;</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">type</span><span class="s1">){</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">NOTE</span><span class="s1">:</span><span class="s2">G</span><span class="s1">.</span><span class="s2">resetVerticalPos</span><span class="s1">();</span><span class="s2">e</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">noteModel</span><span class="s1">;</span><span class="s4">await </span><span class="s2">Z</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_START</span><span class="s1">:</span><span class="s2">G</span><span class="s1">.</span><span class="s2">newActivation</span><span class="s1">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">h</span><span class="s1">,</span><span class="s2">p</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_END</span><span class="s1">:</span><span class="s2">v</span><span class="s1">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">());</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">LOOP_START</span><span class="s1">:</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">,(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">newLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)));</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">LOOP_END</span><span class="s1">:</span><span class="s2">t</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">endLoop</span><span class="s1">();</span><span class="s4">await </span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawLoop</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;loop&quot;</span><span class="s1">,</span><span class="s2">J</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">-</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">());</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">RECT_START</span><span class="s1">:</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">newLoop</span><span class="s1">(</span><span class="s4">void </span><span class="s3">0</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">)));</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">RECT_END</span><span class="s1">:</span><span class="s2">t</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">endLoop</span><span class="s1">();</span><span class="s2">_</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">-</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">());</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">OPT_START</span><span class="s1">:</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">,(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">newLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)));</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">OPT_END</span><span class="s1">:</span><span class="s2">t</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">endLoop</span><span class="s1">();</span><span class="s4">await </span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawLoop</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;opt&quot;</span><span class="s1">,</span><span class="s2">J</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">-</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">());</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ALT_START</span><span class="s1">:</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">,(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">newLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)));</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ALT_ELSE</span><span class="s1">:</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">addSectionToLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)));</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ALT_END</span><span class="s1">:</span><span class="s2">t</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">endLoop</span><span class="s1">();</span><span class="s4">await </span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawLoop</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;alt&quot;</span><span class="s1">,</span><span class="s2">J</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">-</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">());</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_START</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_OVER_START</span><span class="s1">:</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">,(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">newLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)));</span><span class="s2">G</span><span class="s1">.</span><span class="s2">saveVerticalPos</span><span class="s1">();</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_AND</span><span class="s1">:</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">addSectionToLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)));</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_END</span><span class="s1">:</span><span class="s2">t</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">endLoop</span><span class="s1">();</span><span class="s4">await </span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawLoop</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;par&quot;</span><span class="s1">,</span><span class="s2">J</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">-</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">());</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">AUTONUMBER</span><span class="s1">:</span><span class="s2">k</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">start</span><span class="s1">||</span><span class="s2">k</span><span class="s1">;</span><span class="s2">I</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">step</span><span class="s1">||</span><span class="s2">I</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">message</span><span class="s1">.</span><span class="s2">visible</span><span class="s1">){</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">enableSequenceNumbers</span><span class="s1">()}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">disableSequenceNumbers</span><span class="s1">()}</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">CRITICAL_START</span><span class="s1">:</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">,(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">newLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)));</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">CRITICAL_OPTION</span><span class="s1">:</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">addSectionToLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)));</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">CRITICAL_END</span><span class="s1">:</span><span class="s2">t</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">endLoop</span><span class="s1">();</span><span class="s4">await </span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawLoop</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;critical&quot;</span><span class="s1">,</span><span class="s2">J</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">-</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">());</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BREAK_START</span><span class="s1">:</span><span class="s2">dt</span><span class="s1">(</span><span class="s2">w</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">,(</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">newLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">)));</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BREAK_END</span><span class="s1">:</span><span class="s2">t</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">endLoop</span><span class="s1">();</span><span class="s4">await </span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawLoop</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s0">&quot;break&quot;</span><span class="s1">,</span><span class="s2">J</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">-</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">());</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addLoop</span><span class="s1">(</span><span class="s2">t</span><span class="s1">);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">default</span><span class="s1">:</span><span class="s4">try</span><span class="s1">{</span><span class="s2">a</span><span class="s1">=</span><span class="s2">o</span><span class="s1">.</span><span class="s2">msgModel</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">();</span><span class="s2">a</span><span class="s1">.</span><span class="s2">sequenceIndex</span><span class="s1">=</span><span class="s2">k</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">sequenceVisible</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">showSequenceNumbers</span><span class="s1">();</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s4">await </span><span class="s2">at</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s2">ht</span><span class="s1">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">t</span><span class="s1">,</span><span class="s2">P</span><span class="s1">,</span><span class="s2">p</span><span class="s1">,</span><span class="s2">g</span><span class="s1">,</span><span class="s2">u</span><span class="s1">);</span><span class="s2">L</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span><span class="s2">messageModel</span><span class="s1">:</span><span class="s2">a</span><span class="s1">,</span><span class="s2">lineStartY</span><span class="s1">:</span><span class="s2">t</span><span class="s1">});</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">addMessage</span><span class="s1">(</span><span class="s2">a</span><span class="s1">)}</span><span class="s4">catch</span><span class="s1">(</span><span class="s2">K</span><span class="s1">){</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">error</span><span class="s1">(</span><span class="s0">&quot;error while drawing message&quot;</span><span class="s1">,</span><span class="s2">K</span><span class="s1">)}}</span><span class="s4">if</span><span class="s1">([</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_OPEN</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_OPEN</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_CROSS</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_CROSS</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_POINT</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_POINT</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_SOLID</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_DOTTED</span><span class="s1">].</span><span class="s2">includes</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">type</span><span class="s1">)){</span><span class="s2">k</span><span class="s1">=</span><span class="s2">k</span><span class="s1">+</span><span class="s2">I</span><span class="s1">}</span><span class="s2">P</span><span class="s1">++}</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;createdActors&quot;</span><span class="s1">,</span><span class="s2">g</span><span class="s1">);</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;destroyedActors&quot;</span><span class="s1">,</span><span class="s2">u</span><span class="s1">);</span><span class="s4">await </span><span class="s2">it</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">p</span><span class="s1">,</span><span class="s2">x</span><span class="s1">,</span><span class="s4">false</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">n of L</span><span class="s1">){</span><span class="s4">await </span><span class="s2">st</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">messageModel</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">lineStartY</span><span class="s1">,</span><span class="s2">s</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">mirrorActors</span><span class="s1">){</span><span class="s4">await </span><span class="s2">it</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">p</span><span class="s1">,</span><span class="s2">x</span><span class="s1">,</span><span class="s4">true</span><span class="s1">)}</span><span class="s2">_</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawBackgroundRect</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">t</span><span class="s1">)));</span><span class="s2">A</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">p</span><span class="s1">,</span><span class="s2">x</span><span class="s1">,</span><span class="s2">J</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">n of G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">.</span><span class="s2">boxes</span><span class="s1">){</span><span class="s2">n</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getVerticalPos</span><span class="s1">()-</span><span class="s2">n</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s2">G</span><span class="s1">.</span><span class="s2">insert</span><span class="s1">(</span><span class="s2">n</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">y</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">height</span><span class="s1">);</span><span class="s2">n</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">y</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">+</span><span class="s2">n</span><span class="s1">.</span><span class="s2">width</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">+</span><span class="s2">n</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s2">n</span><span class="s1">.</span><span class="s2">stroke</span><span class="s1">=</span><span class="s0">&quot;rgb(0,0,0, 0.5)&quot;</span><span class="s1">;</span><span class="s2">X</span><span class="s1">.</span><span class="s2">drawBox</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">n</span><span class="s1">,</span><span class="s2">J</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">m</span><span class="s1">){</span><span class="s2">G</span><span class="s1">.</span><span class="s2">bumpVerticalPos</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">N</span><span class="s1">=</span><span class="s2">nt</span><span class="s1">(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">p</span><span class="s1">,</span><span class="s2">x</span><span class="s1">,</span><span class="s2">d</span><span class="s1">);</span><span class="s4">const</span><span class="s1">{</span><span class="s2">bounds</span><span class="s1">:</span><span class="s2">M</span><span class="s1">}=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">getBounds</span><span class="s1">();</span><span class="s4">if</span><span class="s1">(</span><span class="s2">M</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">M</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">=</span><span class="s3">0</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">M</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">M</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">=</span><span class="s3">0</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">M</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">M</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">=</span><span class="s3">0</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">M</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">===</span><span class="s4">void </span><span class="s3">0</span><span class="s1">){</span><span class="s2">M</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">=</span><span class="s3">0</span><span class="s1">}</span><span class="s4">let </span><span class="s2">D</span><span class="s1">=</span><span class="s2">M</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">-</span><span class="s2">M</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">D</span><span class="s1">&lt;</span><span class="s2">N</span><span class="s1">.</span><span class="s2">maxHeight</span><span class="s1">){</span><span class="s2">D</span><span class="s1">=</span><span class="s2">N</span><span class="s1">.</span><span class="s2">maxHeight</span><span class="s1">}</span><span class="s4">let </span><span class="s2">S</span><span class="s1">=</span><span class="s2">D</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">diagramMarginY</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">mirrorActors</span><span class="s1">){</span><span class="s2">S</span><span class="s1">=</span><span class="s2">S</span><span class="s1">-</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">bottomMarginAdj</span><span class="s1">}</span><span class="s4">let </span><span class="s2">O</span><span class="s1">=</span><span class="s2">M</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">-</span><span class="s2">M</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">O</span><span class="s1">&lt;</span><span class="s2">N</span><span class="s1">.</span><span class="s2">maxWidth</span><span class="s1">){</span><span class="s2">O</span><span class="s1">=</span><span class="s2">N</span><span class="s1">.</span><span class="s2">maxWidth</span><span class="s1">}</span><span class="s4">const </span><span class="s2">R</span><span class="s1">=</span><span class="s2">O</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">diagramMarginX</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">b</span><span class="s1">){</span><span class="s2">h</span><span class="s1">.</span><span class="s2">append</span><span class="s1">(</span><span class="s0">&quot;text&quot;</span><span class="s1">).</span><span class="s2">text</span><span class="s1">(</span><span class="s2">b</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;x&quot;</span><span class="s1">,(</span><span class="s2">M</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">-</span><span class="s2">M</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">diagramMarginX</span><span class="s1">).</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;y&quot;</span><span class="s1">,-</span><span class="s3">25</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">a$</span><span class="s1">)(</span><span class="s2">h</span><span class="s1">,</span><span class="s2">S</span><span class="s1">,</span><span class="s2">R</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">useMaxWidth</span><span class="s1">);</span><span class="s4">const </span><span class="s2">Y</span><span class="s1">=</span><span class="s2">b</span><span class="s1">?</span><span class="s3">40</span><span class="s1">:</span><span class="s3">0</span><span class="s1">;</span><span class="s2">h</span><span class="s1">.</span><span class="s2">attr</span><span class="s1">(</span><span class="s0">&quot;viewBox&quot;</span><span class="s1">,</span><span class="s2">M</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">-</span><span class="s2">J</span><span class="s1">.</span><span class="s2">diagramMarginX</span><span class="s1">+</span><span class="s0">&quot; -&quot;</span><span class="s1">+(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">diagramMarginY</span><span class="s1">+</span><span class="s2">Y</span><span class="s1">)+</span><span class="s0">&quot; &quot;</span><span class="s1">+</span><span class="s2">R</span><span class="s1">+</span><span class="s0">&quot; &quot;</span><span class="s1">+(</span><span class="s2">S</span><span class="s1">+</span><span class="s2">Y</span><span class="s1">));</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`models:`</span><span class="s1">,</span><span class="s2">G</span><span class="s1">.</span><span class="s2">models</span><span class="s1">)}),</span><span class="s0">&quot;draw&quot;</span><span class="s1">);</span><span class="s2">async </span><span class="s4">function </span><span class="s2">gt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">s</span><span class="s1">={};</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">r of e</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">to</span><span class="s1">)&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">)){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">to</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">placement</span><span class="s1">===</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">.</span><span class="s2">LEFTOF</span><span class="s1">&amp;&amp;!</span><span class="s2">e</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">){</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">placement</span><span class="s1">===</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">.</span><span class="s2">RIGHTOF</span><span class="s1">&amp;&amp;!</span><span class="s2">e</span><span class="s1">.</span><span class="s2">nextActor</span><span class="s1">){</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">placement</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=!</span><span class="s2">o</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">o</span><span class="s1">?</span><span class="s2">tt</span><span class="s1">(</span><span class="s2">J</span><span class="s1">):</span><span class="s2">Q</span><span class="s1">(</span><span class="s2">J</span><span class="s1">);</span><span class="s4">const </span><span class="s2">d</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">?</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">wrapLabel</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">,</span><span class="s2">l</span><span class="s1">):</span><span class="s2">r</span><span class="s1">.</span><span class="s2">message</span><span class="s1">;</span><span class="s4">const </span><span class="s2">h</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Wi</span><span class="s1">)(</span><span class="s2">d</span><span class="s1">)?</span><span class="s4">await</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Dl</span><span class="s1">)(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)()):</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calculateTextDimensions</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,</span><span class="s2">l</span><span class="s1">);</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">c</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">nextActor</span><span class="s1">){</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">to</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">to</span><span class="s1">]||</span><span class="s3">0</span><span class="s1">,</span><span class="s2">p</span><span class="s1">)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">c</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">===</span><span class="s2">e</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">){</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">]||</span><span class="s3">0</span><span class="s1">,</span><span class="s2">p</span><span class="s1">)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">c</span><span class="s1">&amp;&amp;</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">===</span><span class="s2">r</span><span class="s1">.</span><span class="s2">to</span><span class="s1">){</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">]||</span><span class="s3">0</span><span class="s1">,</span><span class="s2">p</span><span class="s1">/</span><span class="s3">2</span><span class="s1">);</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">to</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">to</span><span class="s1">]||</span><span class="s3">0</span><span class="s1">,</span><span class="s2">p</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">placement</span><span class="s1">===</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">.</span><span class="s2">RIGHTOF</span><span class="s1">){</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">]||</span><span class="s3">0</span><span class="s1">,</span><span class="s2">p</span><span class="s1">)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">placement</span><span class="s1">===</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">.</span><span class="s2">LEFTOF</span><span class="s1">){</span><span class="s2">s</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">]||</span><span class="s3">0</span><span class="s1">,</span><span class="s2">p</span><span class="s1">)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">r</span><span class="s1">.</span><span class="s2">placement</span><span class="s1">===</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">.</span><span class="s2">OVER</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">){</span><span class="s2">s</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">[</span><span class="s2">e</span><span class="s1">.</span><span class="s2">prevActor</span><span class="s1">]||</span><span class="s3">0</span><span class="s1">,</span><span class="s2">p</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">nextActor</span><span class="s1">){</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">]=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">[</span><span class="s2">r</span><span class="s1">.</span><span class="s2">from</span><span class="s1">]||</span><span class="s3">0</span><span class="s1">,</span><span class="s2">p</span><span class="s1">/</span><span class="s3">2</span><span class="s1">)}}}}</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;maxMessageWidthPerActor:&quot;</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s4">return </span><span class="s2">s</span><span class="s1">}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">gt</span><span class="s1">,</span><span class="s0">&quot;getMaxMessageWidthPerActor&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">ut</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s4">let </span><span class="s2">e</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">et</span><span class="s1">(</span><span class="s2">J</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">s </span><span class="s4">in </span><span class="s2">t</span><span class="s1">.</span><span class="s2">links</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calculateTextDimensions</span><span class="s1">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxMargin</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">&lt;</span><span class="s2">r</span><span class="s1">){</span><span class="s2">e</span><span class="s1">=</span><span class="s2">r</span><span class="s1">}}</span><span class="s4">return </span><span class="s2">e</span><span class="s1">}),</span><span class="s0">&quot;getRequiredPopupWidth&quot;</span><span class="s1">);</span><span class="s2">async </span><span class="s4">function </span><span class="s2">ft</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">o of t</span><span class="s1">.</span><span class="s2">keys</span><span class="s1">()){</span><span class="s4">const </span><span class="s2">e</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">o</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">description</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">wrapLabel</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">description</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">,</span><span class="s2">et</span><span class="s1">(</span><span class="s2">J</span><span class="s1">))}</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Wi</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">description</span><span class="s1">)?</span><span class="s4">await</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Dl</span><span class="s1">)(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">description</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)()):</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calculateTextDimensions</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">description</span><span class="s1">,</span><span class="s2">et</span><span class="s1">(</span><span class="s2">J</span><span class="s1">));</span><span class="s2">e</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">?</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">height</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">height</span><span class="s1">):</span><span class="s2">J</span><span class="s1">.</span><span class="s2">height</span><span class="s1">;</span><span class="s2">s</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">e</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)}</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">i </span><span class="s4">in </span><span class="s2">e</span><span class="s1">){</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">i</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">a</span><span class="s1">){</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">nextActor</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">s</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">[</span><span class="s2">i</span><span class="s1">];</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorMargin</span><span class="s1">-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">margin</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorMargin</span><span class="s1">);</span><span class="s4">continue</span><span class="s1">}</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">[</span><span class="s2">i</span><span class="s1">];</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">r</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorMargin</span><span class="s1">-</span><span class="s2">a</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">margin</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">o</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorMargin</span><span class="s1">)}</span><span class="s4">let </span><span class="s2">r</span><span class="s1">=</span><span class="s3">0</span><span class="s1">;</span><span class="s2">a</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">e</span><span class="s1">=&gt;{</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">Q</span><span class="s1">(</span><span class="s2">J</span><span class="s1">);</span><span class="s4">let </span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">actorKeys</span><span class="s1">.</span><span class="s2">reduce</span><span class="s1">(((</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)=&gt;</span><span class="s2">e</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">a</span><span class="s1">).</span><span class="s2">width</span><span class="s1">+(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">a</span><span class="s1">).</span><span class="s2">margin</span><span class="s1">||</span><span class="s3">0</span><span class="s1">)),</span><span class="s3">0</span><span class="s1">);</span><span class="s2">s</span><span class="s1">-=</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">){</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">wrapLabel</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">,</span><span class="s2">s</span><span class="s1">-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">,</span><span class="s2">a</span><span class="s1">)}</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calculateTextDimensions</span><span class="s1">(</span><span class="s2">e</span><span class="s1">.</span><span class="s2">name</span><span class="s1">,</span><span class="s2">a</span><span class="s1">);</span><span class="s2">r</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">height</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">);</span><span class="s2">e</span><span class="s1">.</span><span class="s2">margin</span><span class="s1">=</span><span class="s2">J</span><span class="s1">.</span><span class="s2">boxTextMargin</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">s</span><span class="s1">&lt;</span><span class="s2">c</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=(</span><span class="s2">c</span><span class="s1">-</span><span class="s2">s</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">;</span><span class="s2">e</span><span class="s1">.</span><span class="s2">margin</span><span class="s1">+=</span><span class="s2">t</span><span class="s1">}}));</span><span class="s2">a</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">textMaxHeight</span><span class="s1">=</span><span class="s2">r</span><span class="s1">));</span><span class="s4">return </span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">height</span><span class="s1">)}(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)(</span><span class="s2">ft</span><span class="s1">,</span><span class="s0">&quot;calculateActorMargins&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">xt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async </span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">);</span><span class="s4">const </span><span class="s2">r</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">);</span><span class="s4">const </span><span class="s2">o</span><span class="s1">=</span><span class="s2">s</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">const </span><span class="s2">c</span><span class="s1">=</span><span class="s2">r</span><span class="s1">.</span><span class="s2">x</span><span class="s1">;</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">;</span><span class="s4">let </span><span class="s2">d</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Wi</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">)?</span><span class="s4">await</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Dl</span><span class="s1">)(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">D7</span><span class="s1">)()):</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calculateTextDimensions</span><span class="s1">(</span><span class="s2">l</span><span class="s1">?</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">wrapLabel</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">tt</span><span class="s1">(</span><span class="s2">J</span><span class="s1">)):</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">tt</span><span class="s1">(</span><span class="s2">J</span><span class="s1">));</span><span class="s4">const </span><span class="s2">h</span><span class="s1">={</span><span class="s2">width</span><span class="s1">:</span><span class="s2">l</span><span class="s1">?</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">),</span><span class="s2">height</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">startx</span><span class="s1">:</span><span class="s2">s</span><span class="s1">.</span><span class="s2">x</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">starty</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">stopy</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">message</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">};</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">placement</span><span class="s1">===</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">.</span><span class="s2">RIGHTOF</span><span class="s1">){</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">l</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">width</span><span class="s1">):</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">);</span><span class="s2">h</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">=</span><span class="s2">o</span><span class="s1">+(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorMargin</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">placement</span><span class="s1">===</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">PLACEMENT</span><span class="s1">.</span><span class="s2">LEFTOF</span><span class="s1">){</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">l</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">):</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">);</span><span class="s2">h</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">=</span><span class="s2">o</span><span class="s1">-</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">-</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorMargin</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">){</span><span class="s2">d</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calculateTextDimensions</span><span class="s1">(</span><span class="s2">l</span><span class="s1">?</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">wrapLabel</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">),</span><span class="s2">tt</span><span class="s1">(</span><span class="s2">J</span><span class="s1">)):</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">tt</span><span class="s1">(</span><span class="s2">J</span><span class="s1">));</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">l</span><span class="s1">?</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">):</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">d</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">noteMargin</span><span class="s1">);</span><span class="s2">h</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">=</span><span class="s2">o</span><span class="s1">+(</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">-</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">)/</span><span class="s3">2</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">o</span><span class="s1">+</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-(</span><span class="s2">c</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">))+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorMargin</span><span class="s1">;</span><span class="s2">h</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">=</span><span class="s2">o</span><span class="s1">&lt;</span><span class="s2">c</span><span class="s1">?</span><span class="s2">o</span><span class="s1">+</span><span class="s2">s</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorMargin</span><span class="s1">/</span><span class="s3">2</span><span class="s1">:</span><span class="s2">c</span><span class="s1">+</span><span class="s2">r</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s2">J</span><span class="s1">.</span><span class="s2">actorMargin</span><span class="s1">/</span><span class="s3">2</span><span class="s1">}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">l</span><span class="s1">){</span><span class="s2">h</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">wrapLabel</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">-</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">,</span><span class="s2">tt</span><span class="s1">(</span><span class="s2">J</span><span class="s1">))}</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">`NM:[</span><span class="s2">$</span><span class="s1">{</span><span class="s2">h</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">}</span><span class="s0">,</span><span class="s2">$</span><span class="s1">{</span><span class="s2">h</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">}</span><span class="s0">,</span><span class="s2">$</span><span class="s1">{</span><span class="s2">h</span><span class="s1">.</span><span class="s2">starty</span><span class="s1">}</span><span class="s0">,</span><span class="s2">$</span><span class="s1">{</span><span class="s2">h</span><span class="s1">.</span><span class="s2">stopy</span><span class="s1">}</span><span class="s0">:</span><span class="s2">$</span><span class="s1">{</span><span class="s2">h</span><span class="s1">.</span><span class="s2">width</span><span class="s1">}</span><span class="s0">,</span><span class="s2">$</span><span class="s1">{</span><span class="s2">h</span><span class="s1">.</span><span class="s2">height</span><span class="s1">}</span><span class="s0">=</span><span class="s2">$</span><span class="s1">{</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">}</span><span class="s0">]`</span><span class="s1">);</span><span class="s4">return </span><span class="s2">h</span><span class="s1">}),</span><span class="s0">&quot;buildNoteModel&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">yt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">){</span><span class="s4">if</span><span class="s1">(![</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_OPEN</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_OPEN</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_CROSS</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_CROSS</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_POINT</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_POINT</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_SOLID</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_DOTTED</span><span class="s1">].</span><span class="s2">includes</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">type</span><span class="s1">)){</span><span class="s4">return</span><span class="s1">{}}</span><span class="s4">const</span><span class="s1">[</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">]=</span><span class="s2">lt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">const</span><span class="s1">[</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">]=</span><span class="s2">lt</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">,</span><span class="s2">e</span><span class="s1">);</span><span class="s4">const </span><span class="s2">l</span><span class="s1">=</span><span class="s2">s</span><span class="s1">&lt;=</span><span class="s2">o</span><span class="s1">;</span><span class="s4">let </span><span class="s2">d</span><span class="s1">=</span><span class="s2">l</span><span class="s1">?</span><span class="s2">r</span><span class="s1">:</span><span class="s2">s</span><span class="s1">;</span><span class="s4">let </span><span class="s2">h</span><span class="s1">=</span><span class="s2">l</span><span class="s1">?</span><span class="s2">o</span><span class="s1">:</span><span class="s2">c</span><span class="s1">;</span><span class="s4">const </span><span class="s2">p</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">o</span><span class="s1">-</span><span class="s2">c</span><span class="s1">)&gt;</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">g</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">l</span><span class="s1">?-</span><span class="s2">t</span><span class="s1">:</span><span class="s2">t</span><span class="s1">),</span><span class="s0">&quot;adjustValue&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">from</span><span class="s1">===</span><span class="s2">t</span><span class="s1">.</span><span class="s2">to</span><span class="s1">){</span><span class="s2">h</span><span class="s1">=</span><span class="s2">d</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">activate</span><span class="s1">&amp;&amp;!</span><span class="s2">p</span><span class="s1">){</span><span class="s2">h</span><span class="s1">+=</span><span class="s2">g</span><span class="s1">(</span><span class="s2">J</span><span class="s1">.</span><span class="s2">activationWidth</span><span class="s1">/</span><span class="s3">2</span><span class="s1">-</span><span class="s3">1</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">(![</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">SOLID_OPEN</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">DOTTED_OPEN</span><span class="s1">].</span><span class="s2">includes</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">type</span><span class="s1">)){</span><span class="s2">h</span><span class="s1">+=</span><span class="s2">g</span><span class="s1">(</span><span class="s3">3</span><span class="s1">)}</span><span class="s4">if</span><span class="s1">([</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_SOLID</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BIDIRECTIONAL_DOTTED</span><span class="s1">].</span><span class="s2">includes</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">type</span><span class="s1">)){</span><span class="s2">d</span><span class="s1">-=</span><span class="s2">g</span><span class="s1">(</span><span class="s3">3</span><span class="s1">)}}</span><span class="s4">const </span><span class="s2">u</span><span class="s1">=[</span><span class="s2">s</span><span class="s1">,</span><span class="s2">r</span><span class="s1">,</span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">];</span><span class="s4">const </span><span class="s2">f</span><span class="s1">=</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">d</span><span class="s1">-</span><span class="s2">h</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">&amp;&amp;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">wrapLabel</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">f</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">),</span><span class="s2">Q</span><span class="s1">(</span><span class="s2">J</span><span class="s1">))}</span><span class="s4">const </span><span class="s2">x</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">_K</span><span class="s1">.</span><span class="s2">calculateTextDimensions</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">Q</span><span class="s1">(</span><span class="s2">J</span><span class="s1">));</span><span class="s4">return</span><span class="s1">{</span><span class="s2">width</span><span class="s1">:</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">?</span><span class="s3">0</span><span class="s1">:</span><span class="s2">x</span><span class="s1">.</span><span class="s2">width</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">,</span><span class="s2">f</span><span class="s1">+</span><span class="s3">2</span><span class="s1">*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">wrapPadding</span><span class="s1">,</span><span class="s2">J</span><span class="s1">.</span><span class="s2">width</span><span class="s1">),</span><span class="s2">height</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">startx</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s2">h</span><span class="s1">,</span><span class="s2">starty</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">stopy</span><span class="s1">:</span><span class="s3">0</span><span class="s1">,</span><span class="s2">message</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">type</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">type</span><span class="s1">,</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">,</span><span class="s2">fromBounds</span><span class="s1">:</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">min</span><span class="s1">.</span><span class="s2">apply</span><span class="s1">(</span><span class="s4">null</span><span class="s1">,</span><span class="s2">u</span><span class="s1">),</span><span class="s2">toBounds</span><span class="s1">:</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">max</span><span class="s1">.</span><span class="s2">apply</span><span class="s1">(</span><span class="s4">null</span><span class="s1">,</span><span class="s2">u</span><span class="s1">)}}),</span><span class="s0">&quot;buildMessageModel&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">bt</span><span class="s1">=(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">async </span><span class="s4">function</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">a</span><span class="s1">,</span><span class="s2">s</span><span class="s1">){</span><span class="s4">const </span><span class="s2">r</span><span class="s1">={};</span><span class="s4">const </span><span class="s2">i</span><span class="s1">=[];</span><span class="s4">let </span><span class="s2">o</span><span class="s1">,</span><span class="s2">c</span><span class="s1">,</span><span class="s2">l</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">const </span><span class="s2">d of t</span><span class="s1">){</span><span class="s4">switch</span><span class="s1">(</span><span class="s2">d</span><span class="s1">.</span><span class="s2">type</span><span class="s1">){</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">LOOP_START</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ALT_START</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">OPT_START</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_START</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_OVER_START</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">CRITICAL_START</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BREAK_START</span><span class="s1">:</span><span class="s2">i</span><span class="s1">.</span><span class="s2">push</span><span class="s1">({</span><span class="s2">id</span><span class="s1">:</span><span class="s2">d</span><span class="s1">.</span><span class="s2">id</span><span class="s1">,</span><span class="s2">msg</span><span class="s1">:</span><span class="s2">d</span><span class="s1">.</span><span class="s2">message</span><span class="s1">,</span><span class="s2">from</span><span class="s1">:</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">MAX_SAFE_INTEGER</span><span class="s1">,</span><span class="s2">to</span><span class="s1">:</span><span class="s2">Number</span><span class="s1">.</span><span class="s2">MIN_SAFE_INTEGER</span><span class="s1">,</span><span class="s2">width</span><span class="s1">:</span><span class="s3">0</span><span class="s1">});</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ALT_ELSE</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_AND</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">CRITICAL_OPTION</span><span class="s1">:</span><span class="s4">if</span><span class="s1">(</span><span class="s2">d</span><span class="s1">.</span><span class="s2">message</span><span class="s1">){</span><span class="s2">o</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">pop</span><span class="s1">();</span><span class="s2">r</span><span class="s1">[</span><span class="s2">o</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">r</span><span class="s1">[</span><span class="s2">d</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]=</span><span class="s2">o</span><span class="s1">;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">o</span><span class="s1">)}</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">LOOP_END</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ALT_END</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">OPT_END</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">PAR_END</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">CRITICAL_END</span><span class="s1">:</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">BREAK_END</span><span class="s1">:</span><span class="s2">o</span><span class="s1">=</span><span class="s2">i</span><span class="s1">.</span><span class="s2">pop</span><span class="s1">();</span><span class="s2">r</span><span class="s1">[</span><span class="s2">o</span><span class="s1">.</span><span class="s2">id</span><span class="s1">]=</span><span class="s2">o</span><span class="s1">;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_START</span><span class="s1">:{</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">d</span><span class="s1">.</span><span class="s2">from</span><span class="s1">?</span><span class="s2">d</span><span class="s1">.</span><span class="s2">from</span><span class="s1">:</span><span class="s2">d</span><span class="s1">.</span><span class="s2">to</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">ct</span><span class="s1">(</span><span class="s2">d</span><span class="s1">.</span><span class="s2">from</span><span class="s1">?</span><span class="s2">d</span><span class="s1">.</span><span class="s2">from</span><span class="s1">:</span><span class="s2">d</span><span class="s1">.</span><span class="s2">to</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">).</span><span class="s2">length</span><span class="s1">;</span><span class="s4">const </span><span class="s2">s</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">+(</span><span class="s2">a</span><span class="s1">-</span><span class="s3">1</span><span class="s1">)*</span><span class="s2">J</span><span class="s1">.</span><span class="s2">activationWidth</span><span class="s1">/</span><span class="s3">2</span><span class="s1">;</span><span class="s4">const </span><span class="s2">r</span><span class="s1">={</span><span class="s2">startx</span><span class="s1">:</span><span class="s2">s</span><span class="s1">,</span><span class="s2">stopx</span><span class="s1">:</span><span class="s2">s</span><span class="s1">+</span><span class="s2">J</span><span class="s1">.</span><span class="s2">activationWidth</span><span class="s1">,</span><span class="s2">actor</span><span class="s1">:</span><span class="s2">d</span><span class="s1">.</span><span class="s2">from</span><span class="s1">,</span><span class="s2">enabled</span><span class="s1">:</span><span class="s4">true</span><span class="s1">};</span><span class="s2">G</span><span class="s1">.</span><span class="s2">activations</span><span class="s1">.</span><span class="s2">push</span><span class="s1">(</span><span class="s2">r</span><span class="s1">)}</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">s</span><span class="s1">.</span><span class="s2">db</span><span class="s1">.</span><span class="s2">LINETYPE</span><span class="s1">.</span><span class="s2">ACTIVE_END</span><span class="s1">:{</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">G</span><span class="s1">.</span><span class="s2">activations</span><span class="s1">.</span><span class="s2">map</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;</span><span class="s2">t</span><span class="s1">.</span><span class="s2">actor</span><span class="s1">)).</span><span class="s2">lastIndexOf</span><span class="s1">(</span><span class="s2">d</span><span class="s1">.</span><span class="s2">from</span><span class="s1">);</span><span class="s2">G</span><span class="s1">.</span><span class="s2">activations</span><span class="s1">.</span><span class="s2">splice</span><span class="s1">(</span><span class="s2">t</span><span class="s1">,</span><span class="s3">1</span><span class="s1">).</span><span class="s2">splice</span><span class="s1">(</span><span class="s3">0</span><span class="s1">,</span><span class="s3">1</span><span class="s1">)}</span><span class="s4">break</span><span class="s1">}</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">d</span><span class="s1">.</span><span class="s2">placement</span><span class="s1">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">){</span><span class="s2">c</span><span class="s1">=</span><span class="s4">await </span><span class="s2">xt</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s2">d</span><span class="s1">.</span><span class="s2">noteModel</span><span class="s1">=</span><span class="s2">c</span><span class="s1">;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s2">o</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s2">o</span><span class="s1">.</span><span class="s2">from</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMin</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">from</span><span class="s1">,</span><span class="s2">c</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">to</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">to</span><span class="s1">,</span><span class="s2">c</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">+</span><span class="s2">c</span><span class="s1">.</span><span class="s2">width</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">from</span><span class="s1">-</span><span class="s2">o</span><span class="s1">.</span><span class="s2">to</span><span class="s1">))-</span><span class="s2">J</span><span class="s1">.</span><span class="s2">labelBoxWidth</span><span class="s1">}))}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">l</span><span class="s1">=</span><span class="s2">yt</span><span class="s1">(</span><span class="s2">d</span><span class="s1">,</span><span class="s2">e</span><span class="s1">,</span><span class="s2">s</span><span class="s1">);</span><span class="s2">d</span><span class="s1">.</span><span class="s2">msgModel</span><span class="s1">=</span><span class="s2">l</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">l</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">&amp;&amp;</span><span class="s2">l</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">&amp;&amp;</span><span class="s2">i</span><span class="s1">.</span><span class="s2">length</span><span class="s1">&gt;</span><span class="s3">0</span><span class="s1">){</span><span class="s2">i</span><span class="s1">.</span><span class="s2">forEach</span><span class="s1">((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s2">o</span><span class="s1">=</span><span class="s2">t</span><span class="s1">;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">l</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">===</span><span class="s2">l</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">){</span><span class="s4">const </span><span class="s2">t</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">d</span><span class="s1">.</span><span class="s2">from</span><span class="s1">);</span><span class="s4">const </span><span class="s2">a</span><span class="s1">=</span><span class="s2">e</span><span class="s1">.</span><span class="s2">get</span><span class="s1">(</span><span class="s2">d</span><span class="s1">.</span><span class="s2">to</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">from</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMin</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">l</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">t</span><span class="s1">.</span><span class="s2">x</span><span class="s1">-</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">from</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">to</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">l</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">a</span><span class="s1">.</span><span class="s2">x</span><span class="s1">+</span><span class="s2">t</span><span class="s1">.</span><span class="s2">width</span><span class="s1">/</span><span class="s3">2</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">to</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">Math</span><span class="s1">.</span><span class="s2">abs</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">to</span><span class="s1">-</span><span class="s2">o</span><span class="s1">.</span><span class="s2">from</span><span class="s1">))-</span><span class="s2">J</span><span class="s1">.</span><span class="s2">labelBoxWidth</span><span class="s1">}</span><span class="s4">else</span><span class="s1">{</span><span class="s2">o</span><span class="s1">.</span><span class="s2">from</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMin</span><span class="s1">(</span><span class="s2">l</span><span class="s1">.</span><span class="s2">startx</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">from</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">to</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">l</span><span class="s1">.</span><span class="s2">stopx</span><span class="s1">,</span><span class="s2">o</span><span class="s1">.</span><span class="s2">to</span><span class="s1">);</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">=</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Y2</span><span class="s1">.</span><span class="s2">getMax</span><span class="s1">(</span><span class="s2">o</span><span class="s1">.</span><span class="s2">width</span><span class="s1">,</span><span class="s2">l</span><span class="s1">.</span><span class="s2">width</span><span class="s1">)-</span><span class="s2">J</span><span class="s1">.</span><span class="s2">labelBoxWidth</span><span class="s1">}}))}}}</span><span class="s2">G</span><span class="s1">.</span><span class="s2">activations</span><span class="s1">=[];</span><span class="s2">n</span><span class="s1">.</span><span class="s2">Rm</span><span class="s1">.</span><span class="s2">debug</span><span class="s1">(</span><span class="s0">&quot;Loop type widths:&quot;</span><span class="s1">,</span><span class="s2">r</span><span class="s1">);</span><span class="s4">return </span><span class="s2">r</span><span class="s1">}),</span><span class="s0">&quot;calculateLoopBounds&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s2">mt</span><span class="s1">={</span><span class="s2">bounds</span><span class="s1">:</span><span class="s2">G</span><span class="s1">,</span><span class="s2">drawActors</span><span class="s1">:</span><span class="s2">it</span><span class="s1">,</span><span class="s2">drawActorsPopup</span><span class="s1">:</span><span class="s2">nt</span><span class="s1">,</span><span class="s2">setConf</span><span class="s1">:</span><span class="s2">ot</span><span class="s1">,</span><span class="s2">draw</span><span class="s1">:</span><span class="s2">pt</span><span class="s1">};</span><span class="s4">var </span><span class="s2">Tt</span><span class="s1">={</span><span class="s2">parser</span><span class="s1">:</span><span class="s2">d</span><span class="s1">,</span><span class="s2">get db</span><span class="s1">(){</span><span class="s4">return new </span><span class="s2">u</span><span class="s1">},</span><span class="s2">renderer</span><span class="s1">:</span><span class="s2">mt</span><span class="s1">,</span><span class="s2">styles</span><span class="s1">:</span><span class="s2">x</span><span class="s1">,</span><span class="s2">init</span><span class="s1">:(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">K2</span><span class="s1">)((</span><span class="s2">t</span><span class="s1">=&gt;{</span><span class="s4">if</span><span class="s1">(!</span><span class="s2">t</span><span class="s1">.</span><span class="s2">sequence</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">sequence</span><span class="s1">={}}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">t</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">){</span><span class="s2">t</span><span class="s1">.</span><span class="s2">sequence</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">=</span><span class="s2">t</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">;(</span><span class="s3">0</span><span class="s1">,</span><span class="s2">n</span><span class="s1">.</span><span class="s2">XV</span><span class="s1">)({</span><span class="s2">sequence</span><span class="s1">:{</span><span class="s2">wrap</span><span class="s1">:</span><span class="s2">t</span><span class="s1">.</span><span class="s2">wrap</span><span class="s1">}})}}),</span><span class="s0">&quot;init&quot;</span><span class="s1">)}}}]);</span></pre>
</body>
</html>