<html>
<head>
<title>2641.e77441e7a3e0d12834c5.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #bcbec4;}
.s1 { color: #bcbec4;}
.s2 { color: #6aab73;}
.s3 { color: #2aacb8;}
.s4 { color: #cf8e6d;}
.s5 { color: #42c3d4;}
.ln { color: #4b5059; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#1e1f22">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
2641.e77441e7a3e0d12834c5.js</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">(</span><span class="s1">self</span><span class="s0">[</span><span class="s2">&quot;webpackChunk_jupyterlab_application_top&quot;</span><span class="s0">]=</span><span class="s1">self</span><span class="s0">[</span><span class="s2">&quot;webpackChunk_jupyterlab_application_top&quot;</span><span class="s0">]||[]).</span><span class="s1">push</span><span class="s0">([[</span><span class="s3">2641</span><span class="s0">],{</span><span class="s3">8394</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s1">e</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">nmd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s3">200</span><span class="s0">;</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s2">&quot;__lodash_hash_undefined__&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=</span><span class="s3">800</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s3">16</span><span class="s0">;</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s3">9007199254740991</span><span class="s0">;</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s2">&quot;[object Arguments]&quot;</span><span class="s0">,</span><span class="s1">u</span><span class="s0">=</span><span class="s2">&quot;[object Array]&quot;</span><span class="s0">,</span><span class="s1">f</span><span class="s0">=</span><span class="s2">&quot;[object AsyncFunction]&quot;</span><span class="s0">,</span><span class="s1">l</span><span class="s0">=</span><span class="s2">&quot;[object Boolean]&quot;</span><span class="s0">,</span><span class="s1">d</span><span class="s0">=</span><span class="s2">&quot;[object Date]&quot;</span><span class="s0">,</span><span class="s1">h</span><span class="s0">=</span><span class="s2">&quot;[object Error]&quot;</span><span class="s0">,</span><span class="s1">p</span><span class="s0">=</span><span class="s2">&quot;[object Function]&quot;</span><span class="s0">,</span><span class="s1">g</span><span class="s0">=</span><span class="s2">&quot;[object GeneratorFunction]&quot;</span><span class="s0">,</span><span class="s1">m</span><span class="s0">=</span><span class="s2">&quot;[object Map]&quot;</span><span class="s0">,</span><span class="s1">y</span><span class="s0">=</span><span class="s2">&quot;[object Number]&quot;</span><span class="s0">,</span><span class="s1">b</span><span class="s0">=</span><span class="s2">&quot;[object Null]&quot;</span><span class="s0">,</span><span class="s1">v</span><span class="s0">=</span><span class="s2">&quot;[object Object]&quot;</span><span class="s0">,</span><span class="s1">_</span><span class="s0">=</span><span class="s2">&quot;[object Proxy]&quot;</span><span class="s0">,</span><span class="s1">w</span><span class="s0">=</span><span class="s2">&quot;[object RegExp]&quot;</span><span class="s0">,</span><span class="s1">T</span><span class="s0">=</span><span class="s2">&quot;[object Set]&quot;</span><span class="s0">,</span><span class="s1">E</span><span class="s0">=</span><span class="s2">&quot;[object String]&quot;</span><span class="s0">,</span><span class="s1">S</span><span class="s0">=</span><span class="s2">&quot;[object Undefined]&quot;</span><span class="s0">,</span><span class="s1">k</span><span class="s0">=</span><span class="s2">&quot;[object WeakMap]&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">C</span><span class="s0">=</span><span class="s2">&quot;[object ArrayBuffer]&quot;</span><span class="s0">,</span><span class="s1">R</span><span class="s0">=</span><span class="s2">&quot;[object DataView]&quot;</span><span class="s0">,</span><span class="s1">M</span><span class="s0">=</span><span class="s2">&quot;[object Float32Array]&quot;</span><span class="s0">,</span><span class="s1">j</span><span class="s0">=</span><span class="s2">&quot;[object Float64Array]&quot;</span><span class="s0">,</span><span class="s1">O</span><span class="s0">=</span><span class="s2">&quot;[object Int8Array]&quot;</span><span class="s0">,</span><span class="s1">P</span><span class="s0">=</span><span class="s2">&quot;[object Int16Array]&quot;</span><span class="s0">,</span><span class="s1">N</span><span class="s0">=</span><span class="s2">&quot;[object Int32Array]&quot;</span><span class="s0">,</span><span class="s1">x</span><span class="s0">=</span><span class="s2">&quot;[object Uint8Array]&quot;</span><span class="s0">,</span><span class="s1">L</span><span class="s0">=</span><span class="s2">&quot;[object Uint8ClampedArray]&quot;</span><span class="s0">,</span><span class="s1">q</span><span class="s0">=</span><span class="s2">&quot;[object Uint16Array]&quot;</span><span class="s0">,</span><span class="s1">A</span><span class="s0">=</span><span class="s2">&quot;[object Uint32Array]&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">$</span><span class="s0">=</span><span class="s5">/[\\^$.*+?()[\]{}|]/g</span><span class="s0">;</span><span class="s4">var </span><span class="s1">D</span><span class="s0">=</span><span class="s5">/^\[object .+?Constructor\]$/</span><span class="s0">;</span><span class="s4">var </span><span class="s1">z</span><span class="s0">=</span><span class="s5">/^(?:0|[1-9]\d*)$/</span><span class="s0">;</span><span class="s4">var </span><span class="s1">I</span><span class="s0">={};</span><span class="s1">I</span><span class="s0">[</span><span class="s1">M</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">j</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">O</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">P</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">N</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">x</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">L</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">q</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">A</span><span class="s0">]=</span><span class="s4">true</span><span class="s0">;</span><span class="s1">I</span><span class="s0">[</span><span class="s1">c</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">C</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">l</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">R</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">d</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">h</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">p</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">m</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">y</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">v</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">w</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">T</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">E</span><span class="s0">]=</span><span class="s1">I</span><span class="s0">[</span><span class="s1">k</span><span class="s0">]=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">var </span><span class="s1">B</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">r</span><span class="s0">.</span><span class="s1">g</span><span class="s0">==</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">g</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">g</span><span class="s0">.</span><span class="s1">Object</span><span class="s0">===</span><span class="s1">Object</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">g</span><span class="s0">;</span><span class="s4">var </span><span class="s1">W</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">self</span><span class="s0">==</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">self</span><span class="s0">&amp;&amp;</span><span class="s1">self</span><span class="s0">.</span><span class="s1">Object</span><span class="s0">===</span><span class="s1">Object</span><span class="s0">&amp;&amp;</span><span class="s1">self</span><span class="s0">;</span><span class="s4">var </span><span class="s1">U</span><span class="s0">=</span><span class="s1">B</span><span class="s0">||</span><span class="s1">W</span><span class="s0">||</span><span class="s1">Function</span><span class="s0">(</span><span class="s2">&quot;return this&quot;</span><span class="s0">)();</span><span class="s4">var </span><span class="s1">F</span><span class="s0">=</span><span class="s4">true</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">&amp;&amp;!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">nodeType</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">;</span><span class="s4">var </span><span class="s1">J</span><span class="s0">=</span><span class="s1">F</span><span class="s0">&amp;&amp;</span><span class="s2">&quot;object&quot;</span><span class="s0">==</span><span class="s2">&quot;object&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&amp;&amp;!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">nodeType</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">;</span><span class="s4">var </span><span class="s1">V</span><span class="s0">=</span><span class="s1">J</span><span class="s0">&amp;&amp;</span><span class="s1">J</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">===</span><span class="s1">F</span><span class="s0">;</span><span class="s4">var </span><span class="s1">H</span><span class="s0">=</span><span class="s1">V</span><span class="s0">&amp;&amp;</span><span class="s1">B</span><span class="s0">.</span><span class="s1">process</span><span class="s0">;</span><span class="s4">var </span><span class="s1">G</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">var </span><span class="s1">e</span><span class="s0">=</span><span class="s1">J</span><span class="s0">&amp;&amp;</span><span class="s1">J</span><span class="s0">.</span><span class="s1">require</span><span class="s0">&amp;&amp;</span><span class="s1">J</span><span class="s0">.</span><span class="s1">require</span><span class="s0">(</span><span class="s2">&quot;util&quot;</span><span class="s0">).</span><span class="s1">types</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">return </span><span class="s1">H</span><span class="s0">&amp;&amp;</span><span class="s1">H</span><span class="s0">.</span><span class="s1">binding</span><span class="s0">&amp;&amp;</span><span class="s1">H</span><span class="s0">.</span><span class="s1">binding</span><span class="s0">(</span><span class="s2">&quot;util&quot;</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){}}();</span><span class="s4">var </span><span class="s1">K</span><span class="s0">=</span><span class="s1">G</span><span class="s0">&amp;&amp;</span><span class="s1">G</span><span class="s0">.</span><span class="s1">isTypedArray</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">case </span><span class="s3">0</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s3">1</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]);</span><span class="s4">case </span><span class="s3">2</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">r</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]);</span><span class="s4">case </span><span class="s3">3</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">r</span><span class="s0">[</span><span class="s3">1</span><span class="s0">],</span><span class="s1">r</span><span class="s0">[</span><span class="s3">2</span><span class="s0">])}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">){</span><span class="s1">n</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Y</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Z</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">ee</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">(</span><span class="s1">r</span><span class="s0">))}}</span><span class="s4">var </span><span class="s1">te</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">,</span><span class="s1">re</span><span class="s0">=</span><span class="s1">Function</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">,</span><span class="s1">ne</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">;</span><span class="s4">var </span><span class="s1">se</span><span class="s0">=</span><span class="s1">U</span><span class="s0">[</span><span class="s2">&quot;__core-js_shared__&quot;</span><span class="s0">];</span><span class="s4">var </span><span class="s1">ie</span><span class="s0">=</span><span class="s1">re</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">;</span><span class="s4">var </span><span class="s1">oe</span><span class="s0">=</span><span class="s1">ne</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">;</span><span class="s4">var </span><span class="s1">ae</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">e</span><span class="s0">=</span><span class="s5">/[^.]+$/</span><span class="s0">.</span><span class="s1">exec</span><span class="s0">(</span><span class="s1">se</span><span class="s0">&amp;&amp;</span><span class="s1">se</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">&amp;&amp;</span><span class="s1">se</span><span class="s0">.</span><span class="s1">keys</span><span class="s0">.</span><span class="s1">IE_PROTO</span><span class="s0">||</span><span class="s2">&quot;&quot;</span><span class="s0">);</span><span class="s4">return </span><span class="s1">e</span><span class="s0">?</span><span class="s2">&quot;Symbol(src)_1.&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">}();</span><span class="s4">var </span><span class="s1">ce</span><span class="s0">=</span><span class="s1">ne</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">;</span><span class="s4">var </span><span class="s1">ue</span><span class="s0">=</span><span class="s1">ie</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">);</span><span class="s4">var </span><span class="s1">fe</span><span class="s0">=</span><span class="s1">RegExp</span><span class="s0">(</span><span class="s2">&quot;^&quot;</span><span class="s0">+</span><span class="s1">ie</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">oe</span><span class="s0">).</span><span class="s1">replace</span><span class="s0">(</span><span class="s1">$</span><span class="s0">,</span><span class="s2">&quot;</span><span class="s4">\\</span><span class="s2">$&amp;&quot;</span><span class="s0">).</span><span class="s1">replace</span><span class="s0">(</span><span class="s5">/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g</span><span class="s0">,</span><span class="s2">&quot;$1.*?&quot;</span><span class="s0">)+</span><span class="s2">&quot;$&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">le</span><span class="s0">=</span><span class="s1">V</span><span class="s0">?</span><span class="s1">U</span><span class="s0">.</span><span class="s1">Buffer</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">de</span><span class="s0">=</span><span class="s1">U</span><span class="s0">.</span><span class="s1">Symbol</span><span class="s0">,</span><span class="s1">he</span><span class="s0">=</span><span class="s1">U</span><span class="s0">.</span><span class="s1">Uint8Array</span><span class="s0">,</span><span class="s1">pe</span><span class="s0">=</span><span class="s1">le</span><span class="s0">?</span><span class="s1">le</span><span class="s0">.</span><span class="s1">allocUnsafe</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">ge</span><span class="s0">=</span><span class="s1">ee</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getPrototypeOf</span><span class="s0">,</span><span class="s1">Object</span><span class="s0">),</span><span class="s1">me</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">create</span><span class="s0">,</span><span class="s1">ye</span><span class="s0">=</span><span class="s1">ne</span><span class="s0">.</span><span class="s1">propertyIsEnumerable</span><span class="s0">,</span><span class="s1">be</span><span class="s0">=</span><span class="s1">te</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">,</span><span class="s1">ve</span><span class="s0">=</span><span class="s1">de</span><span class="s0">?</span><span class="s1">de</span><span class="s0">.</span><span class="s1">toStringTag</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">var </span><span class="s1">_e</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">var </span><span class="s1">e</span><span class="s0">=</span><span class="s1">_t</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">,</span><span class="s2">&quot;defineProperty&quot;</span><span class="s0">);</span><span class="s1">e</span><span class="s0">({},</span><span class="s2">&quot;&quot;</span><span class="s0">,{});</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){}}();</span><span class="s4">var </span><span class="s1">we</span><span class="s0">=</span><span class="s1">le</span><span class="s0">?</span><span class="s1">le</span><span class="s0">.</span><span class="s1">isBuffer</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">Te</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">,</span><span class="s1">Ee</span><span class="s0">=</span><span class="s1">Date</span><span class="s0">.</span><span class="s1">now</span><span class="s0">;</span><span class="s4">var </span><span class="s1">Se</span><span class="s0">=</span><span class="s1">_t</span><span class="s0">(</span><span class="s1">U</span><span class="s0">,</span><span class="s2">&quot;Map&quot;</span><span class="s0">),</span><span class="s1">ke</span><span class="s0">=</span><span class="s1">_t</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">,</span><span class="s2">&quot;create&quot;</span><span class="s0">);</span><span class="s4">var </span><span class="s1">Ce</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">function </span><span class="s1">e</span><span class="s0">(){}</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return</span><span class="s0">{}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">me</span><span class="s0">){</span><span class="s4">return </span><span class="s1">me</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">e</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}();</span><span class="s4">function </span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">n</span><span class="s0">[</span><span class="s3">1</span><span class="s0">])}}</span><span class="s4">function </span><span class="s1">Me</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">=</span><span class="s1">ke</span><span class="s0">?</span><span class="s1">ke</span><span class="s0">(</span><span class="s4">null</span><span class="s0">):{};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">function </span><span class="s1">je</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s4">delete this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">-=</span><span class="s1">t</span><span class="s0">?</span><span class="s3">1</span><span class="s0">:</span><span class="s3">0</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Oe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ke</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">];</span><span class="s4">return </span><span class="s1">r</span><span class="s0">===</span><span class="s1">s</span><span class="s0">?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}</span><span class="s4">return </span><span class="s1">oe</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Pe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">;</span><span class="s4">return </span><span class="s1">ke</span><span class="s0">?</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]!==</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">oe</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ne</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">+=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s3">0</span><span class="s0">:</span><span class="s3">1</span><span class="s0">;</span><span class="s1">r</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]=</span><span class="s1">ke</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">s</span><span class="s0">:</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">Re</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">=</span><span class="s1">Me</span><span class="s0">;</span><span class="s1">Re</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">[</span><span class="s2">&quot;delete&quot;</span><span class="s0">]=</span><span class="s1">je</span><span class="s0">;</span><span class="s1">Re</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">get</span><span class="s0">=</span><span class="s1">Oe</span><span class="s0">;</span><span class="s1">Re</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">has</span><span class="s0">=</span><span class="s1">Pe</span><span class="s0">;</span><span class="s1">Re</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">set</span><span class="s0">=</span><span class="s1">Ne</span><span class="s0">;</span><span class="s4">function </span><span class="s1">xe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">n</span><span class="s0">[</span><span class="s3">1</span><span class="s0">])}}</span><span class="s4">function </span><span class="s1">Le</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">et</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">==</span><span class="s1">n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">()}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">be</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}--</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">;</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ae</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">et</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">][</span><span class="s3">1</span><span class="s0">]}</span><span class="s4">function </span><span class="s1">$e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">et</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)&gt;-</span><span class="s3">1</span><span class="s0">}</span><span class="s4">function </span><span class="s1">De</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">et</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s3">0</span><span class="s0">){++</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">([</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">])}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">][</span><span class="s3">1</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">xe</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">=</span><span class="s1">Le</span><span class="s0">;</span><span class="s1">xe</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">[</span><span class="s2">&quot;delete&quot;</span><span class="s0">]=</span><span class="s1">qe</span><span class="s0">;</span><span class="s1">xe</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">get</span><span class="s0">=</span><span class="s1">Ae</span><span class="s0">;</span><span class="s1">xe</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">has</span><span class="s0">=</span><span class="s1">$e</span><span class="s0">;</span><span class="s1">xe</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">set</span><span class="s0">=</span><span class="s1">De</span><span class="s0">;</span><span class="s4">function </span><span class="s1">ze</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">();</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">t</span><span class="s0">&lt;</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">n</span><span class="s0">[</span><span class="s3">1</span><span class="s0">])}}</span><span class="s4">function </span><span class="s1">Ie</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">={</span><span class="s1">hash</span><span class="s0">:</span><span class="s4">new </span><span class="s1">Re</span><span class="s0">,</span><span class="s1">map</span><span class="s0">:</span><span class="s4">new</span><span class="s0">(</span><span class="s1">Se</span><span class="s0">||</span><span class="s1">xe</span><span class="s0">),</span><span class="s1">string</span><span class="s0">:</span><span class="s4">new </span><span class="s1">Re</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Be</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)[</span><span class="s2">&quot;delete&quot;</span><span class="s0">](</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">-=</span><span class="s1">t</span><span class="s0">?</span><span class="s3">1</span><span class="s0">:</span><span class="s3">0</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">We</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">vt</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">).</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ue</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">vt</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">).</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Fe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">vt</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">e</span><span class="s0">),</span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">size</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">+=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">size</span><span class="s0">==</span><span class="s1">n</span><span class="s0">?</span><span class="s3">0</span><span class="s0">:</span><span class="s3">1</span><span class="s0">;</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">ze</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">=</span><span class="s1">Ie</span><span class="s0">;</span><span class="s1">ze</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">[</span><span class="s2">&quot;delete&quot;</span><span class="s0">]=</span><span class="s1">Be</span><span class="s0">;</span><span class="s1">ze</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">get</span><span class="s0">=</span><span class="s1">We</span><span class="s0">;</span><span class="s1">ze</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">has</span><span class="s0">=</span><span class="s1">Ue</span><span class="s0">;</span><span class="s1">ze</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">set</span><span class="s0">=</span><span class="s1">Fe</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Je</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">=</span><span class="s4">new </span><span class="s1">xe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">size</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ve</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">=</span><span class="s4">new </span><span class="s1">xe</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">function </span><span class="s1">He</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s2">&quot;delete&quot;</span><span class="s0">](</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">size</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ke</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Qe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r </span><span class="s4">instanceof </span><span class="s1">xe</span><span class="s0">){</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Se</span><span class="s0">||</span><span class="s1">s</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">-</span><span class="s3">1</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">push</span><span class="s0">([</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">]);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">=++</span><span class="s1">r</span><span class="s0">.</span><span class="s1">size</span><span class="s0">;</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">=</span><span class="s4">new </span><span class="s1">ze</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">size</span><span class="s0">;</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">Je</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">=</span><span class="s1">Ve</span><span class="s0">;</span><span class="s1">Je</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">[</span><span class="s2">&quot;delete&quot;</span><span class="s0">]=</span><span class="s1">He</span><span class="s0">;</span><span class="s1">Je</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">get</span><span class="s0">=</span><span class="s1">Ge</span><span class="s0">;</span><span class="s1">Je</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">has</span><span class="s0">=</span><span class="s1">Ke</span><span class="s0">;</span><span class="s1">Je</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">set</span><span class="s0">=</span><span class="s1">Qe</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Xe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">$t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">n</span><span class="s0">=!</span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">At</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">s</span><span class="s0">=!</span><span class="s1">r</span><span class="s0">&amp;&amp;!</span><span class="s1">n</span><span class="s0">&amp;&amp;</span><span class="s1">It</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">i</span><span class="s0">=!</span><span class="s1">r</span><span class="s0">&amp;&amp;!</span><span class="s1">n</span><span class="s0">&amp;&amp;!</span><span class="s1">s</span><span class="s0">&amp;&amp;</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">||</span><span class="s1">n</span><span class="s0">||</span><span class="s1">s</span><span class="s0">||</span><span class="s1">i</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s1">o</span><span class="s0">?</span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">String</span><span class="s0">):[],</span><span class="s1">c</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">u </span><span class="s4">in </span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">((</span><span class="s1">t</span><span class="s0">||</span><span class="s1">oe</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">u</span><span class="s0">))&amp;&amp;!(</span><span class="s1">o</span><span class="s0">&amp;&amp;(</span><span class="s1">u</span><span class="s0">==</span><span class="s2">&quot;length&quot;</span><span class="s0">||</span><span class="s1">s</span><span class="s0">&amp;&amp;(</span><span class="s1">u</span><span class="s0">==</span><span class="s2">&quot;offset&quot;</span><span class="s0">||</span><span class="s1">u</span><span class="s0">==</span><span class="s2">&quot;parent&quot;</span><span class="s0">)||</span><span class="s1">i</span><span class="s0">&amp;&amp;(</span><span class="s1">u</span><span class="s0">==</span><span class="s2">&quot;buffer&quot;</span><span class="s0">||</span><span class="s1">u</span><span class="s0">==</span><span class="s2">&quot;byteLength&quot;</span><span class="s0">||</span><span class="s1">u</span><span class="s0">==</span><span class="s2">&quot;byteOffset&quot;</span><span class="s0">)||</span><span class="s1">Et</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)))){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">u</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ye</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;!</span><span class="s1">qt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">r</span><span class="s0">)||</span><span class="s1">r</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;!(</span><span class="s1">t </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)){</span><span class="s1">tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Ze</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">oe</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)&amp;&amp;</span><span class="s1">qt</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">r</span><span class="s0">))||</span><span class="s1">r</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">&amp;&amp;!(</span><span class="s1">t </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)){</span><span class="s1">tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">et</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">r</span><span class="s0">--){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">qt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">][</span><span class="s3">0</span><span class="s0">],</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">-</span><span class="s3">1</span><span class="s0">}</span><span class="s4">function </span><span class="s1">tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;__proto__&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">_e</span><span class="s0">){</span><span class="s1">_e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">configurable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">,</span><span class="s1">writable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">rt</span><span class="s0">=</span><span class="s1">bt</span><span class="s0">();</span><span class="s4">function </span><span class="s1">nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">==</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">S</span><span class="s0">:</span><span class="s1">b</span><span class="s0">}</span><span class="s4">return </span><span class="s1">ve</span><span class="s0">&amp;&amp;</span><span class="s1">ve </span><span class="s4">in </span><span class="s1">Object</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">wt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">jt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">st</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ft</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)==</span><span class="s1">c</span><span class="s0">}</span><span class="s4">function </span><span class="s1">it</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">fe</span><span class="s0">:</span><span class="s1">D</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">Lt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">ot</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ft</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">Wt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)&amp;&amp;!!</span><span class="s1">I</span><span class="s0">[</span><span class="s1">nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)]}</span><span class="s4">function </span><span class="s1">at</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">Rt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">r</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">n </span><span class="s4">in </span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">n</span><span class="s0">==</span><span class="s2">&quot;constructor&quot;</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">||!</span><span class="s1">oe</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)))){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s1">rt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">o</span><span class="s0">){</span><span class="s1">s</span><span class="s0">||(</span><span class="s1">s</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Je</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)){</span><span class="s1">ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">ct</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">n</span><span class="s0">(</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">),</span><span class="s1">i</span><span class="s0">,</span><span class="s1">o</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">s</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">a</span><span class="s0">=</span><span class="s1">i</span><span class="s0">}</span><span class="s1">Ye</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">o</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}}),</span><span class="s1">Gt</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">o</span><span class="s0">){</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">),</span><span class="s1">c</span><span class="s0">=</span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">),</span><span class="s1">u</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">c</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s1">Ye</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">var </span><span class="s1">f</span><span class="s0">=</span><span class="s1">i</span><span class="s0">?</span><span class="s1">i</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">r</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">o</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">var </span><span class="s1">l</span><span class="s0">=</span><span class="s1">f</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s4">var </span><span class="s1">d</span><span class="s0">=</span><span class="s1">$t</span><span class="s0">(</span><span class="s1">c</span><span class="s0">),</span><span class="s1">h</span><span class="s0">=!</span><span class="s1">d</span><span class="s0">&amp;&amp;</span><span class="s1">It</span><span class="s0">(</span><span class="s1">c</span><span class="s0">),</span><span class="s1">p</span><span class="s0">=!</span><span class="s1">d</span><span class="s0">&amp;&amp;!</span><span class="s1">h</span><span class="s0">&amp;&amp;</span><span class="s1">Vt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">);</span><span class="s1">f</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">||</span><span class="s1">h</span><span class="s0">||</span><span class="s1">p</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">$t</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">a</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">zt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">gt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">){</span><span class="s1">l</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">f</span><span class="s0">=</span><span class="s1">dt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">p</span><span class="s0">){</span><span class="s1">l</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s1">f</span><span class="s0">=</span><span class="s1">pt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s4">true</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">f</span><span class="s0">=[]}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Jt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)||</span><span class="s1">At</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">At</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">Ht</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)||</span><span class="s1">Bt</span><span class="s0">(</span><span class="s1">a</span><span class="s0">)){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">l</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s1">f</span><span class="s0">);</span><span class="s1">s</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">c</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">,</span><span class="s1">o</span><span class="s0">);</span><span class="s1">o</span><span class="s0">[</span><span class="s2">&quot;delete&quot;</span><span class="s0">](</span><span class="s1">c</span><span class="s0">)}</span><span class="s1">Ye</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">ft</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Nt</span><span class="s0">(</span><span class="s1">Ot</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">Xt</span><span class="s0">),</span><span class="s1">e</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">)}</span><span class="s4">var </span><span class="s1">lt</span><span class="s0">=!</span><span class="s1">_e</span><span class="s0">?</span><span class="s1">Xt</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">_e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;toString&quot;</span><span class="s0">,{</span><span class="s1">configurable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">Qt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">writable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">})};</span><span class="s4">function </span><span class="s1">dt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">()}</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">pe</span><span class="s0">?</span><span class="s1">pe</span><span class="s0">(</span><span class="s1">r</span><span class="s0">):</span><span class="s4">new </span><span class="s1">e</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">copy</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ht</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">e</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">byteLength</span><span class="s0">);</span><span class="s4">new </span><span class="s1">he</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">set</span><span class="s0">(</span><span class="s4">new </span><span class="s1">he</span><span class="s0">(</span><span class="s1">e</span><span class="s0">));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">?</span><span class="s1">ht</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">buffer</span><span class="s0">):</span><span class="s1">e</span><span class="s0">.</span><span class="s1">buffer</span><span class="s0">;</span><span class="s4">return new </span><span class="s1">e</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">byteOffset</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">gt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">t</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">(</span><span class="s1">n</span><span class="s0">));</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">){</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=!</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">||(</span><span class="s1">r</span><span class="s0">={});</span><span class="s4">var </span><span class="s1">i</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s1">o</span><span class="s0">){</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">n</span><span class="s0">?</span><span class="s1">n</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">a</span><span class="s0">],</span><span class="s1">e</span><span class="s0">[</span><span class="s1">a</span><span class="s0">],</span><span class="s1">a</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">e</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">c</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">a</span><span class="s0">]}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">tt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Ze</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">c</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">yt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ft</span><span class="s0">((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">&gt;</span><span class="s3">1</span><span class="s0">?</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">-</span><span class="s3">1</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">o</span><span class="s0">=</span><span class="s1">s</span><span class="s0">&gt;</span><span class="s3">2</span><span class="s0">?</span><span class="s1">r</span><span class="s0">[</span><span class="s3">2</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&gt;</span><span class="s3">3</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">i</span><span class="s0">==</span><span class="s2">&quot;function&quot;</span><span class="s0">?(</span><span class="s1">s</span><span class="s0">--,</span><span class="s1">i</span><span class="s0">):</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">&amp;&amp;</span><span class="s1">St</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">r</span><span class="s0">[</span><span class="s3">1</span><span class="s0">],</span><span class="s1">o</span><span class="s0">)){</span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s3">3</span><span class="s0">?</span><span class="s1">undefined</span><span class="s0">:</span><span class="s1">i</span><span class="s0">;</span><span class="s1">s</span><span class="s0">=</span><span class="s3">1</span><span class="s0">}</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">){</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s1">e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">a</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}))}</span><span class="s4">function </span><span class="s1">bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">o</span><span class="s0">=</span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">a</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">a</span><span class="s0">--){</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">o</span><span class="s0">[</span><span class="s1">e</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:++</span><span class="s1">s</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">(</span><span class="s1">i</span><span class="s0">[</span><span class="s1">c</span><span class="s0">],</span><span class="s1">c</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)===</span><span class="s4">false</span><span class="s0">){</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">vt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">__data__</span><span class="s0">;</span><span class="s4">return </span><span class="s1">kt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)?</span><span class="s1">r</span><span class="s0">[</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;string&quot;</span><span class="s0">?</span><span class="s2">&quot;string&quot;</span><span class="s0">:</span><span class="s2">&quot;hash&quot;</span><span class="s0">]:</span><span class="s1">r</span><span class="s0">.</span><span class="s1">map</span><span class="s0">}</span><span class="s4">function </span><span class="s1">_t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">Z</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">return </span><span class="s1">it</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)?</span><span class="s1">r</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">wt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">oe</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ve</span><span class="s0">),</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">ve</span><span class="s0">];</span><span class="s4">try</span><span class="s0">{</span><span class="s1">e</span><span class="s0">[</span><span class="s1">ve</span><span class="s0">]=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){}</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">ce</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">ve</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">delete </span><span class="s1">e</span><span class="s0">[</span><span class="s1">ve</span><span class="s0">]}}</span><span class="s4">return </span><span class="s1">s</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Tt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">==</span><span class="s2">&quot;function&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">Rt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)):{}}</span><span class="s4">function </span><span class="s1">Et</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">==</span><span class="s4">null</span><span class="s0">?</span><span class="s1">a</span><span class="s0">:</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">==</span><span class="s2">&quot;number&quot;</span><span class="s0">||</span><span class="s1">r</span><span class="s0">!=</span><span class="s2">&quot;symbol&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">z</span><span class="s0">.</span><span class="s1">test</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))&amp;&amp;(</span><span class="s1">e</span><span class="s0">&gt;-</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">%</span><span class="s3">1</span><span class="s0">==</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">St</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">==</span><span class="s2">&quot;number&quot;</span><span class="s0">?</span><span class="s1">Dt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)&amp;&amp;</span><span class="s1">Et</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">):</span><span class="s1">n</span><span class="s0">==</span><span class="s2">&quot;string&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t </span><span class="s4">in </span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">qt</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">t</span><span class="s0">],</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">function </span><span class="s1">kt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;string&quot;</span><span class="s0">||</span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;number&quot;</span><span class="s0">||</span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;symbol&quot;</span><span class="s0">||</span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;boolean&quot;</span><span class="s0">?</span><span class="s1">e</span><span class="s0">!==</span><span class="s2">&quot;__proto__&quot;</span><span class="s0">:</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s1">ae</span><span class="s0">&amp;&amp;</span><span class="s1">ae </span><span class="s4">in </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Rt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;function&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">||</span><span class="s1">ne</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s1">r</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=[];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r </span><span class="s4">in </span><span class="s1">Object</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s4">function </span><span class="s1">jt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">ce</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ot</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">Te</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s3">0</span><span class="s0">);</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">arguments</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">,</span><span class="s1">i</span><span class="s0">=</span><span class="s1">Te</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s1">t</span><span class="s0">,</span><span class="s3">0</span><span class="s0">),</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">(</span><span class="s1">i</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s1">i</span><span class="s0">){</span><span class="s1">o</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">t</span><span class="s0">+</span><span class="s1">s</span><span class="s0">]}</span><span class="s1">s</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">var </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">(</span><span class="s1">t</span><span class="s0">+</span><span class="s3">1</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(++</span><span class="s1">s</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">){</span><span class="s1">a</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]}</span><span class="s1">a</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]=</span><span class="s1">r</span><span class="s0">(</span><span class="s1">o</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Pt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;constructor&quot;</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]===</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;__proto__&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">[</span><span class="s1">t</span><span class="s0">]}</span><span class="s4">var </span><span class="s1">Nt</span><span class="s0">=</span><span class="s1">xt</span><span class="s0">(</span><span class="s1">lt</span><span class="s0">);</span><span class="s4">function </span><span class="s1">xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Ee</span><span class="s0">(),</span><span class="s1">s</span><span class="s0">=</span><span class="s1">o</span><span class="s0">-(</span><span class="s1">n</span><span class="s0">-</span><span class="s1">r</span><span class="s0">);</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(++</span><span class="s1">t</span><span class="s0">&gt;=</span><span class="s1">i</span><span class="s0">){</span><span class="s4">return </span><span class="s1">arguments</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">apply</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">arguments</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Lt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">return </span><span class="s1">ie</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){}</span><span class="s4">try</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">+</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){}}</span><span class="s4">return</span><span class="s2">&quot;&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">qt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s1">t</span><span class="s0">||</span><span class="s1">e</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">t</span><span class="s0">}</span><span class="s4">var </span><span class="s1">At</span><span class="s0">=</span><span class="s1">st</span><span class="s0">(</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">arguments</span><span class="s0">}())?</span><span class="s1">st</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ft</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">oe</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;callee&quot;</span><span class="s0">)&amp;&amp;!</span><span class="s1">ye</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s2">&quot;callee&quot;</span><span class="s0">)};</span><span class="s4">var </span><span class="s1">$t</span><span class="s0">=</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Dt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">Wt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">)&amp;&amp;!</span><span class="s1">Bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">zt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Ft</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">Dt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">var </span><span class="s1">It</span><span class="s0">=</span><span class="s1">we</span><span class="s0">||</span><span class="s1">Yt</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Bt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">t</span><span class="s0">==</span><span class="s1">p</span><span class="s0">||</span><span class="s1">t</span><span class="s0">==</span><span class="s1">g</span><span class="s0">||</span><span class="s1">t</span><span class="s0">==</span><span class="s1">f</span><span class="s0">||</span><span class="s1">t</span><span class="s0">==</span><span class="s1">_</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Wt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">==</span><span class="s2">&quot;number&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&gt;-</span><span class="s3">1</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">%</span><span class="s3">1</span><span class="s0">==</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s1">a</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Ut</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;object&quot;</span><span class="s0">||</span><span class="s1">t</span><span class="s0">==</span><span class="s2">&quot;function&quot;</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ft</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!=</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">==</span><span class="s2">&quot;object&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Jt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Ft</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">nt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)!=</span><span class="s1">v</span><span class="s0">){</span><span class="s4">return false</span><span class="s0">}</span><span class="s4">var </span><span class="s1">t</span><span class="s0">=</span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return true</span><span class="s0">}</span><span class="s4">var </span><span class="s1">r</span><span class="s0">=</span><span class="s1">oe</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;constructor&quot;</span><span class="s0">)&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">constructor</span><span class="s0">;</span><span class="s4">return typeof </span><span class="s1">r</span><span class="s0">==</span><span class="s2">&quot;function&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">r </span><span class="s4">instanceof </span><span class="s1">r</span><span class="s0">&amp;&amp;</span><span class="s1">ie</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)==</span><span class="s1">ue</span><span class="s0">}</span><span class="s4">var </span><span class="s1">Vt</span><span class="s0">=</span><span class="s1">K</span><span class="s0">?</span><span class="s1">Y</span><span class="s0">(</span><span class="s1">K</span><span class="s0">):</span><span class="s1">ot</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Ht</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">mt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">Gt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">function </span><span class="s1">Gt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Dt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">Xe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">true</span><span class="s0">):</span><span class="s1">at</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">var </span><span class="s1">Kt</span><span class="s0">=</span><span class="s1">yt</span><span class="s0">((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s1">ct</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}));</span><span class="s4">function </span><span class="s1">Qt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Xt</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">function </span><span class="s1">Yt</span><span class="s0">(){</span><span class="s4">return false</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">exports</span><span class="s0">=</span><span class="s1">Kt</span><span class="s0">},</span><span class="s3">76439</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__createBinding</span><span class="s0">||(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">create</span><span class="s0">?</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">)</span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">getOwnPropertyDescriptor</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">||(</span><span class="s2">&quot;get&quot;</span><span class="s4">in </span><span class="s1">s</span><span class="s0">?!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">__esModule</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">writable</span><span class="s0">||</span><span class="s1">s</span><span class="s0">.</span><span class="s1">configurable</span><span class="s0">)){</span><span class="s1">s</span><span class="s0">={</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]}}}</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}:</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">)</span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]});</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">__exportStar</span><span class="s0">||</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">var </span><span class="s1">r </span><span class="s4">in </span><span class="s1">e</span><span class="s0">)</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s2">&quot;default&quot;</span><span class="s0">&amp;&amp;!</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">.</span><span class="s1">hasOwnProperty</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">))</span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)};</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">createMessageConnection</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">BrowserMessageWriter</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">BrowserMessageReader</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">54615</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">default</span><span class="s0">.</span><span class="s1">install</span><span class="s0">();</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">53281</span><span class="s0">);</span><span class="s1">s</span><span class="s0">(</span><span class="s1">r</span><span class="s0">(</span><span class="s3">53281</span><span class="s0">),</span><span class="s1">t</span><span class="s0">);</span><span class="s4">class </span><span class="s1">a </span><span class="s4">extends </span><span class="s1">o</span><span class="s0">.</span><span class="s1">AbstractMessageReader</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_onData</span><span class="s0">=</span><span class="s4">new </span><span class="s1">o</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_messageListener</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_onData</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)};</span><span class="s1">e</span><span class="s0">.</span><span class="s1">addEventListener</span><span class="s0">(</span><span class="s2">&quot;error&quot;</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s1">e</span><span class="s0">.</span><span class="s1">onmessage</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_messageListener</span><span class="s0">}</span><span class="s1">listen</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_onData</span><span class="s0">.</span><span class="s1">event</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">BrowserMessageReader</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">class </span><span class="s1">c </span><span class="s4">extends </span><span class="s1">o</span><span class="s0">.</span><span class="s1">AbstractMessageWriter</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">port</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorCount</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">addEventListener</span><span class="s0">(</span><span class="s2">&quot;error&quot;</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">write</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">port</span><span class="s0">.</span><span class="s1">postMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">()}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">handleError</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">handleError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorCount</span><span class="s0">++;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorCount</span><span class="s0">)}</span><span class="s1">end</span><span class="s0">(){}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">BrowserMessageWriter</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">NullLogger</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">ConnectionStrategy</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">={</span><span class="s1">connectionStrategy</span><span class="s0">:</span><span class="s1">n</span><span class="s0">}}</span><span class="s4">return</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">o</span><span class="s0">.</span><span class="s1">createMessageConnection</span><span class="s0">)(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">createMessageConnection</span><span class="s0">=</span><span class="s1">u</span><span class="s0">},</span><span class="s3">54615</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">53281</span><span class="s0">);</span><span class="s4">class </span><span class="s1">s </span><span class="s4">extends </span><span class="s1">n</span><span class="s0">.</span><span class="s1">AbstractMessageBuffer</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;utf-8&quot;</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">asciiDecoder</span><span class="s0">=</span><span class="s4">new </span><span class="s1">TextDecoder</span><span class="s0">(</span><span class="s2">&quot;ascii&quot;</span><span class="s0">)}</span><span class="s1">emptyBuffer</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">.</span><span class="s1">emptyBuffer</span><span class="s0">}</span><span class="s1">fromString</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return</span><span class="s0">(</span><span class="s4">new </span><span class="s1">TextEncoder</span><span class="s0">).</span><span class="s1">encode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">toString</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;ascii&quot;</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">asciiDecoder</span><span class="s0">.</span><span class="s1">decode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return new </span><span class="s1">TextDecoder</span><span class="s0">(</span><span class="s1">t</span><span class="s0">).</span><span class="s1">decode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">asNative</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">allocNative</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">Uint8Array</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">s</span><span class="s0">.</span><span class="s1">emptyBuffer</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Uint8Array</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s4">class </span><span class="s1">i</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_onData</span><span class="s0">=</span><span class="s4">new </span><span class="s1">n</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_messageListener</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">arrayBuffer</span><span class="s0">().</span><span class="s1">then</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_onData</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Uint8Array</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}),(()=&gt;{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">RAL</span><span class="s0">)().</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Converting blob to array buffer failed.`</span><span class="s0">)}))};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">addEventListener</span><span class="s0">(</span><span class="s2">&quot;message&quot;</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_messageListener</span><span class="s0">)}</span><span class="s1">onClose</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">addEventListener</span><span class="s0">(</span><span class="s2">&quot;close&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">Disposable</span><span class="s0">.</span><span class="s1">create</span><span class="s0">((()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">removeEventListener</span><span class="s0">(</span><span class="s2">&quot;close&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">onError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">addEventListener</span><span class="s0">(</span><span class="s2">&quot;error&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">Disposable</span><span class="s0">.</span><span class="s1">create</span><span class="s0">((()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">removeEventListener</span><span class="s0">(</span><span class="s2">&quot;error&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">onEnd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">addEventListener</span><span class="s0">(</span><span class="s2">&quot;end&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">Disposable</span><span class="s0">.</span><span class="s1">create</span><span class="s0">((()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">removeEventListener</span><span class="s0">(</span><span class="s2">&quot;end&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">onData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_onData</span><span class="s0">.</span><span class="s1">event</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">o</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">onClose</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">addEventListener</span><span class="s0">(</span><span class="s2">&quot;close&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">Disposable</span><span class="s0">.</span><span class="s1">create</span><span class="s0">((()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">removeEventListener</span><span class="s0">(</span><span class="s2">&quot;close&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">onError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">addEventListener</span><span class="s0">(</span><span class="s2">&quot;error&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">Disposable</span><span class="s0">.</span><span class="s1">create</span><span class="s0">((()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">removeEventListener</span><span class="s0">(</span><span class="s2">&quot;error&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">onEnd</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">addEventListener</span><span class="s0">(</span><span class="s2">&quot;end&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">Disposable</span><span class="s0">.</span><span class="s1">create</span><span class="s0">((()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">removeEventListener</span><span class="s0">(</span><span class="s2">&quot;end&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">write</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s2">&quot;utf-8&quot;</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`In a Browser environments only utf-8 text encoding is supported. But got encoding: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">send</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">send</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">()}</span><span class="s1">end</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">close</span><span class="s0">()}}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">new </span><span class="s1">TextEncoder</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">messageBuffer</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">create</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}),</span><span class="s1">applicationJson</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">encoder</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;application/json&quot;</span><span class="s0">,</span><span class="s1">encode</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">charset</span><span class="s0">!==</span><span class="s2">&quot;utf-8&quot;</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`In a Browser environments only utf-8 text encoding is supported. But got encoding: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">charset</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">(</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)))}}),</span><span class="s1">decoder</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;application/json&quot;</span><span class="s0">,</span><span class="s1">decode</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(!(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Uint8Array</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`In a Browser environments only Uint8Arrays are supported.`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s4">new </span><span class="s1">TextDecoder</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">charset</span><span class="s0">).</span><span class="s1">decode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))}})}),</span><span class="s1">stream</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">asReadableStream</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">asWritableStream</span><span class="s0">:</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">new </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}),</span><span class="s1">console</span><span class="s0">,</span><span class="s1">timer</span><span class="s0">:</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">setTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">...r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">setTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">...r</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">:()=&gt;</span><span class="s1">clearTimeout</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}},</span><span class="s1">setImmediate</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">...t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">setTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s1">...t</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">:()=&gt;</span><span class="s1">clearTimeout</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}},</span><span class="s1">setInterval</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">...r</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">setInterval</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">...r</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">:()=&gt;</span><span class="s1">clearInterval</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}})});</span><span class="s4">function </span><span class="s1">u</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">}(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">RAL</span><span class="s0">.</span><span class="s1">install</span><span class="s0">(</span><span class="s1">c</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">install</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">u</span><span class="s0">||(</span><span class="s1">u</span><span class="s0">={}));</span><span class="s1">t</span><span class="s0">[</span><span class="s2">&quot;default&quot;</span><span class="s0">]=</span><span class="s1">u</span><span class="s0">},</span><span class="s3">53281</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ProgressType</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ProgressToken</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">createMessageConnection</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NullLogger</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionOptions</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageBuffer</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">WriteableStreamMessageWriter</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageWriter</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">MessageWriter</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ReadableStreamMessageReader</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageReader</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">MessageReader</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SharedArrayReceiverStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SharedArraySenderStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationTokenSource</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Disposable</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LRUCache</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Touch</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LinkedMap</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType9</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType8</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType7</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType6</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType5</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType4</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType3</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType2</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType1</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType0</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType9</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType8</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType7</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType6</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType5</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType4</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType3</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType2</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType1</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType0</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RAL</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">MessageStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationSenderStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationReceiverStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionError</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionErrors</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LogTraceNotification</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SetTraceNotification</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">TraceFormat</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">TraceValues</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Trace</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">96177</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;Message&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType0&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType0</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType1&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType1</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType2&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType2</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType3&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType3</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType4&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType4</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType5&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType5</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType6&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType6</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType7&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType7</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType8&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType8</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;RequestType9&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">RequestType9</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ResponseError&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ErrorCodes&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType0&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType0</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType1&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType1</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType2&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType2</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType3&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType3</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType4&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType4</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType5&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType5</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType6&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType6</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType7&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType7</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType8&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType8</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NotificationType9&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">NotificationType9</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ParameterStructures&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">n</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">}});</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">93352</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;LinkedMap&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">.</span><span class="s1">LinkedMap</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;LRUCache&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">.</span><span class="s1">LRUCache</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;Touch&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">.</span><span class="s1">Touch</span><span class="s0">}});</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">34019</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;Disposable&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Disposable</span><span class="s0">}});</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">62676</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;Event&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;Emitter&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">}});</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">59850</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;CancellationTokenSource&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">CancellationTokenSource</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;CancellationToken&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">a</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">}});</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">74996</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;SharedArraySenderStrategy&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">.</span><span class="s1">SharedArraySenderStrategy</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;SharedArrayReceiverStrategy&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">c</span><span class="s0">.</span><span class="s1">SharedArrayReceiverStrategy</span><span class="s0">}});</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">59085</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;MessageReader&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">u</span><span class="s0">.</span><span class="s1">MessageReader</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;AbstractMessageReader&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">u</span><span class="s0">.</span><span class="s1">AbstractMessageReader</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ReadableStreamMessageReader&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">u</span><span class="s0">.</span><span class="s1">ReadableStreamMessageReader</span><span class="s0">}});</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">23193</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;MessageWriter&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">f</span><span class="s0">.</span><span class="s1">MessageWriter</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;AbstractMessageWriter&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">f</span><span class="s0">.</span><span class="s1">AbstractMessageWriter</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;WriteableStreamMessageWriter&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">f</span><span class="s0">.</span><span class="s1">WriteableStreamMessageWriter</span><span class="s0">}});</span><span class="s4">const </span><span class="s1">l</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">89244</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;AbstractMessageBuffer&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">l</span><span class="s0">.</span><span class="s1">AbstractMessageBuffer</span><span class="s0">}});</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">90577</span><span class="s0">);</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ConnectionStrategy&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">ConnectionStrategy</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ConnectionOptions&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">ConnectionOptions</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;NullLogger&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">NullLogger</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;createMessageConnection&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">createMessageConnection</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ProgressToken&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">ProgressToken</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ProgressType&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">ProgressType</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;Trace&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">Trace</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;TraceValues&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">TraceValues</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;TraceFormat&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">TraceFormat</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;SetTraceNotification&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">SetTraceNotification</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;LogTraceNotification&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">LogTraceNotification</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ConnectionErrors&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">ConnectionErrors</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;ConnectionError&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">ConnectionError</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;CancellationReceiverStrategy&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">CancellationReceiverStrategy</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;CancellationSenderStrategy&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">CancellationSenderStrategy</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;CancellationStrategy&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">CancellationStrategy</span><span class="s0">}});</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;MessageStrategy&quot;</span><span class="s0">,{</span><span class="s1">enumerable</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">get</span><span class="s0">:</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">d</span><span class="s0">.</span><span class="s1">MessageStrategy</span><span class="s0">}});</span><span class="s4">const </span><span class="s1">h</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">69590</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RAL</span><span class="s0">=</span><span class="s1">h</span><span class="s0">.</span><span class="s1">default</span><span class="s0">},</span><span class="s3">59850</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationTokenSource</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">69590</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">78585</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">62676</span><span class="s0">);</span><span class="s4">var </span><span class="s1">o</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">None</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">isCancellationRequested</span><span class="s0">:</span><span class="s4">false</span><span class="s0">,</span><span class="s1">onCancellationRequested</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">.</span><span class="s1">None</span><span class="s0">});</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Cancelled</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">isCancellationRequested</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">onCancellationRequested</span><span class="s0">:</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">.</span><span class="s1">None</span><span class="s0">});</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">&amp;&amp;(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">None</span><span class="s0">||</span><span class="s1">r</span><span class="s0">===</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Cancelled</span><span class="s0">||</span><span class="s1">s</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">isCancellationRequested</span><span class="s0">)&amp;&amp;!!</span><span class="s1">r</span><span class="s0">.</span><span class="s1">onCancellationRequested</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">o</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">=</span><span class="s1">o</span><span class="s0">={}));</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">((</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">timer</span><span class="s0">.</span><span class="s1">setTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s3">0</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()}}}));</span><span class="s4">class </span><span class="s1">c</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_isCancelled</span><span class="s0">=</span><span class="s4">false</span><span class="s0">}</span><span class="s1">cancel</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_isCancelled</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_isCancelled</span><span class="s0">=</span><span class="s4">true</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()}}}</span><span class="s1">get isCancellationRequested</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_isCancelled</span><span class="s0">}</span><span class="s1">get onCancellationRequested</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_isCancelled</span><span class="s0">){</span><span class="s4">return </span><span class="s1">a</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">.</span><span class="s1">event</span><span class="s0">}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_emitter</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s4">class </span><span class="s1">u</span><span class="s0">{</span><span class="s1">get token</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">=</span><span class="s4">new </span><span class="s1">c</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">}</span><span class="s1">cancel</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">Cancelled</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">.</span><span class="s1">cancel</span><span class="s0">()}}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">None</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token </span><span class="s4">instanceof </span><span class="s1">c</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_token</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationTokenSource</span><span class="s0">=</span><span class="s1">u</span><span class="s0">},</span><span class="s3">90577</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">createMessageConnection</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionOptions</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">MessageStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationSenderStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationReceiverStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestCancellationReceiverStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">IdCancellationReceiverStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionError</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionErrors</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LogTraceNotification</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SetTraceNotification</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">TraceFormat</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">TraceValues</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Trace</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NullLogger</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ProgressType</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ProgressToken</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">69590</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">78585</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">96177</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">93352</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">62676</span><span class="s0">);</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">59850</span><span class="s0">);</span><span class="s4">var </span><span class="s1">u</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">NotificationType</span><span class="s0">(</span><span class="s2">&quot;$/cancelRequest&quot;</span><span class="s0">)})(</span><span class="s1">u</span><span class="s0">||(</span><span class="s1">u</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">f</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">||</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">f</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ProgressToken</span><span class="s0">=</span><span class="s1">f</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">l</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">NotificationType</span><span class="s0">(</span><span class="s2">&quot;$/progress&quot;</span><span class="s0">)})(</span><span class="s1">l</span><span class="s0">||(</span><span class="s1">l</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">d</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ProgressType</span><span class="s0">=</span><span class="s1">d</span><span class="s0">;</span><span class="s4">var </span><span class="s1">h</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">h</span><span class="s0">||(</span><span class="s1">h</span><span class="s0">={}));</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NullLogger</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">error</span><span class="s0">:()=&gt;{},</span><span class="s1">warn</span><span class="s0">:()=&gt;{},</span><span class="s1">info</span><span class="s0">:()=&gt;{},</span><span class="s1">log</span><span class="s0">:()=&gt;{}});</span><span class="s4">var </span><span class="s1">p</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Off&quot;</span><span class="s0">]=</span><span class="s3">0</span><span class="s0">]=</span><span class="s2">&quot;Off&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Messages&quot;</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">]=</span><span class="s2">&quot;Messages&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Compact&quot;</span><span class="s0">]=</span><span class="s3">2</span><span class="s0">]=</span><span class="s2">&quot;Compact&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Verbose&quot;</span><span class="s0">]=</span><span class="s3">3</span><span class="s0">]=</span><span class="s2">&quot;Verbose&quot;</span><span class="s0">})(</span><span class="s1">p</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Trace</span><span class="s0">=</span><span class="s1">p</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">g</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">=</span><span class="s2">&quot;off&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Messages</span><span class="s0">=</span><span class="s2">&quot;messages&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">=</span><span class="s2">&quot;compact&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">=</span><span class="s2">&quot;verbose&quot;</span><span class="s0">})(</span><span class="s1">g</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">TraceValues</span><span class="s0">=</span><span class="s1">g</span><span class="s0">={}));(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">}</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">();</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">case</span><span class="s2">&quot;off&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;messages&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Messages</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;compact&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">;</span><span class="s4">case</span><span class="s2">&quot;verbose&quot;</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fromString</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">case </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;off&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Messages</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;messages&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;compact&quot;</span><span class="s0">;</span><span class="s4">case </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;verbose&quot;</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return</span><span class="s2">&quot;off&quot;</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">=</span><span class="s1">r</span><span class="s0">})(</span><span class="s1">p</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Trace</span><span class="s0">=</span><span class="s1">p</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">m</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Text&quot;</span><span class="s0">]=</span><span class="s2">&quot;text&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;JSON&quot;</span><span class="s0">]=</span><span class="s2">&quot;json&quot;</span><span class="s0">})(</span><span class="s1">m</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">TraceFormat</span><span class="s0">=</span><span class="s1">m</span><span class="s0">={}));(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">}</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s2">&quot;json&quot;</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">JSON</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fromString</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">m</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">TraceFormat</span><span class="s0">=</span><span class="s1">m</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">y</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">NotificationType</span><span class="s0">(</span><span class="s2">&quot;$/setTrace&quot;</span><span class="s0">)})(</span><span class="s1">y</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SetTraceNotification</span><span class="s0">=</span><span class="s1">y</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">b</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">type</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">NotificationType</span><span class="s0">(</span><span class="s2">&quot;$/logTrace&quot;</span><span class="s0">)})(</span><span class="s1">b</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LogTraceNotification</span><span class="s0">=</span><span class="s1">b</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">v</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Closed&quot;</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">]=</span><span class="s2">&quot;Closed&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Disposed&quot;</span><span class="s0">]=</span><span class="s3">2</span><span class="s0">]=</span><span class="s2">&quot;Disposed&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;AlreadyListening&quot;</span><span class="s0">]=</span><span class="s3">3</span><span class="s0">]=</span><span class="s2">&quot;AlreadyListening&quot;</span><span class="s0">})(</span><span class="s1">v</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionErrors</span><span class="s0">=</span><span class="s1">v</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">_ </span><span class="s4">extends </span><span class="s1">Error</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">code</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">setPrototypeOf</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">_</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionError</span><span class="s0">=</span><span class="s1">_</span><span class="s0">;</span><span class="s4">var </span><span class="s1">w</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cancelUndispatched</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">w</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionStrategy</span><span class="s0">=</span><span class="s1">w</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">T</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">===</span><span class="s2">&quot;id&quot;</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">createCancellationTokenSource</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">T</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">IdCancellationReceiverStrategy</span><span class="s0">=</span><span class="s1">T</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">E</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">===</span><span class="s2">&quot;request&quot;</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">createCancellationTokenSource</span><span class="s0">)&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">E</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestCancellationReceiverStrategy</span><span class="s0">=</span><span class="s1">E</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">S</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">createCancellationTokenSource</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">c</span><span class="s0">.</span><span class="s1">CancellationTokenSource</span><span class="s0">}});</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">T</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)||</span><span class="s1">E</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">S</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationReceiverStrategy</span><span class="s0">=</span><span class="s1">S</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">k</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">sendCancellation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">sendNotification</span><span class="s0">(</span><span class="s1">u</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,{</span><span class="s1">id</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})},</span><span class="s1">cleanup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){}});</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">sendCancellation</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cleanup</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">k</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationSenderStrategy</span><span class="s0">=</span><span class="s1">k</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">C</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">=</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">freeze</span><span class="s0">({</span><span class="s1">receiver</span><span class="s0">:</span><span class="s1">S</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">,</span><span class="s1">sender</span><span class="s0">:</span><span class="s1">k</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">});</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">S</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">receiver</span><span class="s0">)&amp;&amp;</span><span class="s1">k</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">sender</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">C</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">CancellationStrategy</span><span class="s0">=</span><span class="s1">C</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">R</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">handleMessage</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">R</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">MessageStrategy</span><span class="s0">=</span><span class="s1">R</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">M</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">C</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">cancellationStrategy</span><span class="s0">)||</span><span class="s1">w</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">connectionStrategy</span><span class="s0">)||</span><span class="s1">R</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">messageStrategy</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">M</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ConnectionOptions</span><span class="s0">=</span><span class="s1">M</span><span class="s0">={}));</span><span class="s4">var </span><span class="s1">j</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;New&quot;</span><span class="s0">]=</span><span class="s3">1</span><span class="s0">]=</span><span class="s2">&quot;New&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Listening&quot;</span><span class="s0">]=</span><span class="s3">2</span><span class="s0">]=</span><span class="s2">&quot;Listening&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Closed&quot;</span><span class="s0">]=</span><span class="s3">3</span><span class="s0">]=</span><span class="s2">&quot;Closed&quot;</span><span class="s0">;</span><span class="s1">e</span><span class="s0">[</span><span class="s1">e</span><span class="s0">[</span><span class="s2">&quot;Disposed&quot;</span><span class="s0">]=</span><span class="s3">4</span><span class="s0">]=</span><span class="s2">&quot;Disposed&quot;</span><span class="s0">})(</span><span class="s1">j</span><span class="s0">||(</span><span class="s1">j</span><span class="s0">={}));</span><span class="s4">function </span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">d</span><span class="s0">,</span><span class="s1">g</span><span class="s0">){</span><span class="s4">const </span><span class="s1">w</span><span class="s0">=</span><span class="s1">d</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s1">d</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NullLogger</span><span class="s0">;</span><span class="s4">let </span><span class="s1">E</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">S</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">k</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">M</span><span class="s0">=</span><span class="s2">&quot;2.0&quot;</span><span class="s0">;</span><span class="s4">let </span><span class="s1">O</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">P</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">let </span><span class="s1">N</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">const </span><span class="s1">x</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">const </span><span class="s1">L</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">let </span><span class="s1">q</span><span class="s0">;</span><span class="s4">let </span><span class="s1">A</span><span class="s0">=</span><span class="s4">new </span><span class="s1">o</span><span class="s0">.</span><span class="s1">LinkedMap</span><span class="s0">;</span><span class="s4">let </span><span class="s1">$</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">let </span><span class="s1">D</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s4">let </span><span class="s1">z</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">let </span><span class="s1">I</span><span class="s0">=</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">;</span><span class="s4">let </span><span class="s1">B</span><span class="s0">=</span><span class="s1">m</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">;</span><span class="s4">let </span><span class="s1">W</span><span class="s0">;</span><span class="s4">let </span><span class="s1">U</span><span class="s0">=</span><span class="s1">j</span><span class="s0">.</span><span class="s1">New</span><span class="s0">;</span><span class="s4">const </span><span class="s1">F</span><span class="s0">=</span><span class="s4">new </span><span class="s1">a</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">const </span><span class="s1">J</span><span class="s0">=</span><span class="s4">new </span><span class="s1">a</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">const </span><span class="s1">V</span><span class="s0">=</span><span class="s4">new </span><span class="s1">a</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">const </span><span class="s1">H</span><span class="s0">=</span><span class="s4">new </span><span class="s1">a</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">const </span><span class="s1">G</span><span class="s0">=</span><span class="s4">new </span><span class="s1">a</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">const </span><span class="s1">K</span><span class="s0">=</span><span class="s1">g</span><span class="s0">&amp;&amp;</span><span class="s1">g</span><span class="s0">.</span><span class="s1">cancellationStrategy</span><span class="s0">?</span><span class="s1">g</span><span class="s0">.</span><span class="s1">cancellationStrategy</span><span class="s0">:</span><span class="s1">C</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">;</span><span class="s4">function </span><span class="s1">Q</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Can't send requests with id null since the response can't be correlated.`</span><span class="s0">)}</span><span class="s4">return</span><span class="s2">&quot;req-&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}</span><span class="s4">function </span><span class="s1">X</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return</span><span class="s2">&quot;res-unknown-&quot;</span><span class="s0">+(++</span><span class="s1">k</span><span class="s0">).</span><span class="s1">toString</span><span class="s0">()}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s2">&quot;res-&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}}</span><span class="s4">function </span><span class="s1">Y</span><span class="s0">(){</span><span class="s4">return</span><span class="s2">&quot;not-&quot;</span><span class="s0">+(++</span><span class="s1">S</span><span class="s0">).</span><span class="s1">toString</span><span class="s0">()}</span><span class="s4">function </span><span class="s1">Z</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">.</span><span class="s1">isRequest</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">Q</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">id</span><span class="s0">),</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">.</span><span class="s1">isResponse</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">X</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">id</span><span class="s0">),</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">Y</span><span class="s0">(),</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">ee</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">function </span><span class="s1">te</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">U</span><span class="s0">===</span><span class="s1">j</span><span class="s0">.</span><span class="s1">Listening</span><span class="s0">}</span><span class="s4">function </span><span class="s1">re</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">U</span><span class="s0">===</span><span class="s1">j</span><span class="s0">.</span><span class="s1">Closed</span><span class="s0">}</span><span class="s4">function </span><span class="s1">ne</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">U</span><span class="s0">===</span><span class="s1">j</span><span class="s0">.</span><span class="s1">Disposed</span><span class="s0">}</span><span class="s4">function </span><span class="s1">se</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">U</span><span class="s0">===</span><span class="s1">j</span><span class="s0">.</span><span class="s1">New</span><span class="s0">||</span><span class="s1">U</span><span class="s0">===</span><span class="s1">j</span><span class="s0">.</span><span class="s1">Listening</span><span class="s0">){</span><span class="s1">U</span><span class="s0">=</span><span class="s1">j</span><span class="s0">.</span><span class="s1">Closed</span><span class="s0">;</span><span class="s1">J</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">ie</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">F</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">([</span><span class="s1">e</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">])}</span><span class="s4">function </span><span class="s1">oe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">F</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">onClose</span><span class="s0">(</span><span class="s1">se</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">onError</span><span class="s0">(</span><span class="s1">ie</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">onClose</span><span class="s0">(</span><span class="s1">se</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">onError</span><span class="s0">(</span><span class="s1">oe</span><span class="s0">);</span><span class="s4">function </span><span class="s1">ae</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">q</span><span class="s0">||</span><span class="s1">A</span><span class="s0">.</span><span class="s1">size</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s1">q</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">timer</span><span class="s0">.</span><span class="s1">setImmediate</span><span class="s0">((()=&gt;{</span><span class="s1">q</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">ue</span><span class="s0">()}))}</span><span class="s4">function </span><span class="s1">ce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">.</span><span class="s1">isRequest</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">le</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">.</span><span class="s1">isNotification</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">he</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">.</span><span class="s1">isResponse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">de</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">pe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">ue</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">A</span><span class="s0">.</span><span class="s1">size</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">A</span><span class="s0">.</span><span class="s1">shift</span><span class="s0">();</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">g</span><span class="s0">?.</span><span class="s1">messageStrategy</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">R</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">handleMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">ce</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">ce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">finally</span><span class="s0">{</span><span class="s1">ae</span><span class="s0">()}}</span><span class="s4">const </span><span class="s1">fe</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">try</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">.</span><span class="s1">isNotification</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">===</span><span class="s1">u</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">method</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">.</span><span class="s1">id</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">Q</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">A</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">.</span><span class="s1">isRequest</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">g</span><span class="s0">?.</span><span class="s1">connectionStrategy</span><span class="s0">;</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">i</span><span class="s0">&amp;&amp;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">cancelUndispatched</span><span class="s0">?</span><span class="s1">i</span><span class="s0">.</span><span class="s1">cancelUndispatched</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">ee</span><span class="s0">):</span><span class="s1">ee</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">&amp;&amp;(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">error</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">o</span><span class="s0">.</span><span class="s1">result</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">)){</span><span class="s1">A</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">n</span><span class="s0">);</span><span class="s1">z</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">id</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">id</span><span class="s0">;</span><span class="s1">be</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">Date</span><span class="s0">.</span><span class="s1">now</span><span class="s0">());</span><span class="s1">r</span><span class="s0">.</span><span class="s1">write</span><span class="s0">(</span><span class="s1">o</span><span class="s0">).</span><span class="s1">catch</span><span class="s0">((()=&gt;</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Sending response for canceled message failed.`</span><span class="s0">)));</span><span class="s4">return</span><span class="s0">}}</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">z</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">cancel</span><span class="s0">();</span><span class="s1">_e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">D</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">Z</span><span class="s0">(</span><span class="s1">A</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">finally</span><span class="s0">{</span><span class="s1">ae</span><span class="s0">()}};</span><span class="s4">function </span><span class="s1">le</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ne</span><span class="s0">()){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">o</span><span class="s0">={</span><span class="s1">jsonrpc</span><span class="s0">:</span><span class="s1">M</span><span class="s0">,</span><span class="s1">id</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">){</span><span class="s1">o</span><span class="s0">.</span><span class="s1">error</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">toJson</span><span class="s0">()}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">o</span><span class="s0">.</span><span class="s1">result</span><span class="s0">=</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">?</span><span class="s4">null</span><span class="s0">:</span><span class="s1">t</span><span class="s0">}</span><span class="s1">be</span><span class="s0">(</span><span class="s1">o</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">write</span><span class="s0">(</span><span class="s1">o</span><span class="s0">).</span><span class="s1">catch</span><span class="s0">((()=&gt;</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Sending response failed.`</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">jsonrpc</span><span class="s0">:</span><span class="s1">M</span><span class="s0">,</span><span class="s1">id</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">,</span><span class="s1">error</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">toJson</span><span class="s0">()};</span><span class="s1">be</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">write</span><span class="s0">(</span><span class="s1">i</span><span class="s0">).</span><span class="s1">catch</span><span class="s0">((()=&gt;</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Sending response failed.`</span><span class="s0">)))}</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s4">null</span><span class="s0">}</span><span class="s4">const </span><span class="s1">i</span><span class="s0">={</span><span class="s1">jsonrpc</span><span class="s0">:</span><span class="s1">M</span><span class="s0">,</span><span class="s1">id</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">,</span><span class="s1">result</span><span class="s0">:</span><span class="s1">t</span><span class="s0">};</span><span class="s1">be</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">n</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">write</span><span class="s0">(</span><span class="s1">i</span><span class="s0">).</span><span class="s1">catch</span><span class="s0">((()=&gt;</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Sending response failed.`</span><span class="s0">)))}</span><span class="s1">ve</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">P</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">);</span><span class="s4">let </span><span class="s1">c</span><span class="s0">;</span><span class="s4">let </span><span class="s1">u</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s1">c</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">type</span><span class="s0">;</span><span class="s1">u</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">handler</span><span class="s0">}</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s1">Date</span><span class="s0">.</span><span class="s1">now</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">||</span><span class="s1">O</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">??</span><span class="s1">String</span><span class="s0">(</span><span class="s1">Date</span><span class="s0">.</span><span class="s1">now</span><span class="s0">());</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s1">T</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">K</span><span class="s0">.</span><span class="s1">receiver</span><span class="s0">)?</span><span class="s1">K</span><span class="s0">.</span><span class="s1">receiver</span><span class="s0">.</span><span class="s1">createCancellationTokenSource</span><span class="s0">(</span><span class="s1">r</span><span class="s0">):</span><span class="s1">K</span><span class="s0">.</span><span class="s1">receiver</span><span class="s0">.</span><span class="s1">createCancellationTokenSource</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;</span><span class="s1">D</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">)){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">cancel</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">){</span><span class="s1">z</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}</span><span class="s4">try</span><span class="s0">{</span><span class="s4">let </span><span class="s1">l</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">numberOfParams</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">){</span><span class="s1">n</span><span class="s0">(</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">.</span><span class="s1">InvalidParams</span><span class="s0">,</span><span class="s2">`Request </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">defines </span><span class="s1">$</span><span class="s0">{</span><span class="s1">c</span><span class="s0">.</span><span class="s1">numberOfParams</span><span class="s0">} </span><span class="s2">params but received none.`</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s1">l</span><span class="s0">=</span><span class="s1">u</span><span class="s0">(</span><span class="s1">a</span><span class="s0">.</span><span class="s1">token</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">parameterStructures</span><span class="s0">===</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">byName</span><span class="s0">){</span><span class="s1">n</span><span class="s0">(</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">.</span><span class="s1">InvalidParams</span><span class="s0">,</span><span class="s2">`Request </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">defines parameters by name but received parameters by position`</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s1">l</span><span class="s0">=</span><span class="s1">u</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">token</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">c</span><span class="s0">.</span><span class="s1">parameterStructures</span><span class="s0">===</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">byPosition</span><span class="s0">){</span><span class="s1">n</span><span class="s0">(</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">.</span><span class="s1">InvalidParams</span><span class="s0">,</span><span class="s2">`Request </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">defines parameters by position but received parameters by name`</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s1">l</span><span class="s0">=</span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">token</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">O</span><span class="s0">){</span><span class="s1">l</span><span class="s0">=</span><span class="s1">O</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">,</span><span class="s1">a</span><span class="s0">.</span><span class="s1">token</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">l</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">l</span><span class="s0">){</span><span class="s1">z</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">o</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">d</span><span class="s0">.</span><span class="s1">then</span><span class="s0">){</span><span class="s1">d</span><span class="s0">.</span><span class="s1">then</span><span class="s0">((</span><span class="s1">n</span><span class="s0">=&gt;{</span><span class="s1">z</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">t</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}),(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">z</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">){</span><span class="s1">n</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">(</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">.</span><span class="s1">InternalError</span><span class="s0">,</span><span class="s2">`Request </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">failed with message: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">message</span><span class="s0">}</span><span class="s2">`</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">(</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">.</span><span class="s1">InternalError</span><span class="s0">,</span><span class="s2">`Request </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">failed unexpectedly without providing any details.`</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}}))}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">z</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">t</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">l</span><span class="s0">){</span><span class="s1">z</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">l </span><span class="s4">instanceof </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">){</span><span class="s1">t</span><span class="s0">(</span><span class="s1">l</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">l</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">l</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">(</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">.</span><span class="s1">InternalError</span><span class="s0">,</span><span class="s2">`Request </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">failed with message: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">l</span><span class="s0">.</span><span class="s1">message</span><span class="s0">}</span><span class="s2">`</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">(</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">.</span><span class="s1">InternalError</span><span class="s0">,</span><span class="s2">`Request </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">failed unexpectedly without providing any details.`</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">(</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">.</span><span class="s1">MethodNotFound</span><span class="s0">,</span><span class="s2">`Unhandled method </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">}</span><span class="s2">`</span><span class="s0">),</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">f</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">de</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ne</span><span class="s0">()){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">){</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Received response message without id: Error is: </span><span class="s4">\n</span><span class="s1">$</span><span class="s0">{</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">,</span><span class="s1">undefined</span><span class="s0">,</span><span class="s3">4</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Received response message without id. No further error information provided.`</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">$</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s1">we</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">$</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">r</span><span class="s0">);</span><span class="s4">try</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">code</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">message</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">data</span><span class="s0">))}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">result</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">result</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Should never happen.&quot;</span><span class="s0">)}}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">message</span><span class="s0">){</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Response handler '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">method</span><span class="s0">}</span><span class="s2">' failed with message: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">message</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Response handler '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">method</span><span class="s0">}</span><span class="s2">' failed unexpectedly.`</span><span class="s0">)}}}}}</span><span class="s4">function </span><span class="s1">he</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ne</span><span class="s0">()){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">===</span><span class="s1">u</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">method</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">.</span><span class="s1">id</span><span class="s0">;</span><span class="s1">D</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">_e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">x</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">handler</span><span class="s0">;</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">type</span><span class="s0">}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">||</span><span class="s1">N</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s1">_e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">numberOfParams</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">parameterStructures</span><span class="s0">!==</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">byName</span><span class="s0">){</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Notification </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">defines </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">numberOfParams</span><span class="s0">} </span><span class="s2">params but received none.`</span><span class="s0">)}}</span><span class="s1">r</span><span class="s0">()}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">===</span><span class="s1">l</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">method</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">2</span><span class="s0">&amp;&amp;</span><span class="s1">f</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">n</span><span class="s0">[</span><span class="s3">0</span><span class="s0">])){</span><span class="s1">r</span><span class="s0">({</span><span class="s1">token</span><span class="s0">:</span><span class="s1">n</span><span class="s0">[</span><span class="s3">0</span><span class="s0">],</span><span class="s1">value</span><span class="s0">:</span><span class="s1">n</span><span class="s0">[</span><span class="s3">1</span><span class="s0">]})}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">parameterStructures</span><span class="s0">===</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">byName</span><span class="s0">){</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Notification </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">defines parameters by name but received parameters by position`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">numberOfParams</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Notification </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">defines </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">numberOfParams</span><span class="s0">} </span><span class="s2">params but received </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">length</span><span class="s0">} </span><span class="s2">arguments`</span><span class="s0">)}}</span><span class="s1">r</span><span class="s0">(</span><span class="s1">...n</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">parameterStructures</span><span class="s0">===</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">byPosition</span><span class="s0">){</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Notification </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">defines parameters by position but received parameters by name`</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">N</span><span class="s0">){</span><span class="s1">N</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">message</span><span class="s0">){</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Notification handler '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">}</span><span class="s2">' failed with message: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">.</span><span class="s1">message</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Notification handler '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">}</span><span class="s2">' failed unexpectedly.`</span><span class="s0">)}}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">V</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">pe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">&quot;Received empty message.&quot;</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Received message which is neither a response nor a notification message:</span><span class="s4">\n</span><span class="s1">$</span><span class="s0">{</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">null</span><span class="s0">,</span><span class="s3">4</span><span class="s0">)}</span><span class="s2">`</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">id</span><span class="s0">)||</span><span class="s1">s</span><span class="s0">.</span><span class="s1">number</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">id</span><span class="s0">)){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">id</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">$</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;The received response has neither a result nor an error property.&quot;</span><span class="s0">))}}}</span><span class="s4">function </span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">I</span><span class="s0">){</span><span class="s4">case </span><span class="s1">p</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">:</span><span class="s4">return </span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">null</span><span class="s0">,</span><span class="s3">4</span><span class="s0">);</span><span class="s4">case </span><span class="s1">p</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">:</span><span class="s4">return </span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">default</span><span class="s0">:</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">me</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">||!</span><span class="s1">W</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">===</span><span class="s1">m</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">||</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s2">`Params: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}</span><span class="s4">\n\n</span><span class="s2">`</span><span class="s0">}</span><span class="s1">W</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`Sending request '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">- (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">}</span><span class="s2">)'.`</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Te</span><span class="s0">(</span><span class="s2">&quot;send-request&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">ye</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">||!</span><span class="s1">W</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">===</span><span class="s1">m</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">||</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s2">`Params: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}</span><span class="s4">\n\n</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;No parameters provided.</span><span class="s4">\n\n</span><span class="s2">&quot;</span><span class="s0">}}</span><span class="s1">W</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`Sending notification '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">}</span><span class="s2">'.`</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Te</span><span class="s0">(</span><span class="s2">&quot;send-notification&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">be</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">||!</span><span class="s1">W</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">===</span><span class="s1">m</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">){</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">||</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">.</span><span class="s1">data</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s2">`Error data: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)}</span><span class="s4">\n\n</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">result</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s2">`Result: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">result</span><span class="s0">)}</span><span class="s4">\n\n</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">n</span><span class="s0">=</span><span class="s2">&quot;No result returned.</span><span class="s4">\n\n</span><span class="s2">&quot;</span><span class="s0">}}}</span><span class="s1">W</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`Sending response '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">- (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">}</span><span class="s2">)'. Processing request took </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Date</span><span class="s0">.</span><span class="s1">now</span><span class="s0">()-</span><span class="s1">r</span><span class="s0">}</span><span class="s2">ms`</span><span class="s0">,</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Te</span><span class="s0">(</span><span class="s2">&quot;send-response&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">ve</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">||!</span><span class="s1">W</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">===</span><span class="s1">m</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">((</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">||</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s2">`Params: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}</span><span class="s4">\n\n</span><span class="s2">`</span><span class="s0">}</span><span class="s1">W</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`Received request '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">- (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">}</span><span class="s2">)'.`</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Te</span><span class="s0">(</span><span class="s2">&quot;receive-request&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">_e</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">||!</span><span class="s1">W</span><span class="s0">||</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">===</span><span class="s1">b</span><span class="s0">.</span><span class="s1">type</span><span class="s0">.</span><span class="s1">method</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">===</span><span class="s1">m</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">||</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s2">`Params: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">params</span><span class="s0">)}</span><span class="s4">\n\n</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s2">&quot;No parameters provided.</span><span class="s4">\n\n</span><span class="s2">&quot;</span><span class="s0">}}</span><span class="s1">W</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`Received notification '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">}</span><span class="s2">'.`</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Te</span><span class="s0">(</span><span class="s2">&quot;receive-notification&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">we</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">||!</span><span class="s1">W</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">B</span><span class="s0">===</span><span class="s1">m</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">||</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">.</span><span class="s1">data</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s2">`Error data: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)}</span><span class="s4">\n\n</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">result</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s2">`Result: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">ge</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">result</span><span class="s0">)}</span><span class="s4">\n\n</span><span class="s2">`</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s2">&quot;No result returned.</span><span class="s4">\n\n</span><span class="s2">&quot;</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">?</span><span class="s2">` Request failed: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">.</span><span class="s1">message</span><span class="s0">} </span><span class="s2">(</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">.</span><span class="s1">code</span><span class="s0">}</span><span class="s2">).`</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">;</span><span class="s1">W</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`Received response '</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">method</span><span class="s0">} </span><span class="s2">- (</span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">}</span><span class="s2">)' in </span><span class="s1">$</span><span class="s0">{</span><span class="s1">Date</span><span class="s0">.</span><span class="s1">now</span><span class="s0">()-</span><span class="s1">t</span><span class="s0">.</span><span class="s1">timerStart</span><span class="s0">}</span><span class="s2">ms.</span><span class="s1">$</span><span class="s0">{</span><span class="s1">n</span><span class="s0">}</span><span class="s2">`</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">W</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`Received response </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">} </span><span class="s2">without active response promise.`</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">Te</span><span class="s0">(</span><span class="s2">&quot;receive-response&quot;</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Te</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">W</span><span class="s0">||</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">isLSPMessage</span><span class="s0">:</span><span class="s4">true</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">message</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">timestamp</span><span class="s0">:</span><span class="s1">Date</span><span class="s0">.</span><span class="s1">now</span><span class="s0">()};</span><span class="s1">W</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">function </span><span class="s1">Ee</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">re</span><span class="s0">()){</span><span class="s4">throw new </span><span class="s1">_</span><span class="s0">(</span><span class="s1">v</span><span class="s0">.</span><span class="s1">Closed</span><span class="s0">,</span><span class="s2">&quot;Connection is closed.&quot;</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ne</span><span class="s0">()){</span><span class="s4">throw new </span><span class="s1">_</span><span class="s0">(</span><span class="s1">v</span><span class="s0">.</span><span class="s1">Disposed</span><span class="s0">,</span><span class="s2">&quot;Connection is disposed.&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Se</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">te</span><span class="s0">()){</span><span class="s4">throw new </span><span class="s1">_</span><span class="s0">(</span><span class="s1">v</span><span class="s0">.</span><span class="s1">AlreadyListening</span><span class="s0">,</span><span class="s2">&quot;Connection is already listening&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">ke</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">te</span><span class="s0">()){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Call listen() first.&quot;</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return null</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Re</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s4">function </span><span class="s1">Me</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">!==</span><span class="s4">null</span><span class="s0">&amp;&amp;!</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;object&quot;</span><span class="s0">}</span><span class="s4">function </span><span class="s1">je</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">case </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">auto</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Me</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">return </span><span class="s1">Re</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)]}</span><span class="s4">case </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">byName</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">Me</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Received parameters by name but param is not an object literal.`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">Re</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">case </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">byPosition</span><span class="s0">:</span><span class="s4">return</span><span class="s0">[</span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)];</span><span class="s4">default</span><span class="s0">:</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Unknown parameter structure </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">()}</span><span class="s2">`</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">Oe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numberOfParams</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">case </span><span class="s3">0</span><span class="s0">:</span><span class="s1">r</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case </span><span class="s3">1</span><span class="s0">:</span><span class="s1">r</span><span class="s0">=</span><span class="s1">je</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">parameterStructures</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s1">r</span><span class="s0">=[];</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">t</span><span class="s0">[</span><span class="s1">e</span><span class="s0">]))}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">e</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">e</span><span class="s0">&lt;</span><span class="s1">n</span><span class="s0">;</span><span class="s1">e</span><span class="s0">++){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s4">null</span><span class="s0">)}}</span><span class="s4">break</span><span class="s0">}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">const </span><span class="s1">Pe</span><span class="s0">={</span><span class="s1">sendNotification</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">...t</span><span class="s0">)=&gt;{</span><span class="s1">Ee</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">let </span><span class="s1">o</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">auto</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">s</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">let </span><span class="s1">c</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">c</span><span class="s0">-</span><span class="s1">s</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">u</span><span class="s0">){</span><span class="s4">case </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case </span><span class="s3">1</span><span class="s0">:</span><span class="s1">o</span><span class="s0">=</span><span class="s1">je</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">===</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">byName</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Received </span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">} </span><span class="s2">parameters for 'by Name' notification parameter structure.`</span><span class="s0">)}</span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">c</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">;</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Oe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">a</span><span class="s0">={</span><span class="s1">jsonrpc</span><span class="s0">:</span><span class="s1">M</span><span class="s0">,</span><span class="s1">method</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">params</span><span class="s0">:</span><span class="s1">o</span><span class="s0">};</span><span class="s1">ye</span><span class="s0">(</span><span class="s1">a</span><span class="s0">);</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">write</span><span class="s0">(</span><span class="s1">a</span><span class="s0">).</span><span class="s1">catch</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Sending notification failed.`</span><span class="s0">);</span><span class="s4">throw </span><span class="s1">e</span><span class="s0">}))},</span><span class="s1">onNotification</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s1">Ee</span><span class="s0">();</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">N</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">x</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">handler</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">;</span><span class="s1">x</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">handler</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">:()=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">x</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">N</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}}},</span><span class="s1">onProgress</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">L</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Progress handler for token </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">} </span><span class="s2">already registered`</span><span class="s0">)}</span><span class="s1">L</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">:()=&gt;{</span><span class="s1">L</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}},</span><span class="s1">sendProgress</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;</span><span class="s1">Pe</span><span class="s0">.</span><span class="s1">sendNotification</span><span class="s0">(</span><span class="s1">l</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,{</span><span class="s1">token</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}),</span><span class="s1">onUnhandledProgress</span><span class="s0">:</span><span class="s1">H</span><span class="s0">.</span><span class="s1">event</span><span class="s0">,</span><span class="s1">sendRequest</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">...t</span><span class="s0">)=&gt;{</span><span class="s1">Ee</span><span class="s0">();</span><span class="s1">ke</span><span class="s0">();</span><span class="s4">let </span><span class="s1">n</span><span class="s0">;</span><span class="s4">let </span><span class="s1">o</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">1</span><span class="s0">];</span><span class="s4">let </span><span class="s1">u</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">f</span><span class="s0">=</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">auto</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">u</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">f</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">let </span><span class="s1">l</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">c</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)){</span><span class="s1">l</span><span class="s0">=</span><span class="s1">l</span><span class="s0">-</span><span class="s3">1</span><span class="s0">;</span><span class="s1">a</span><span class="s0">=</span><span class="s1">s</span><span class="s0">}</span><span class="s4">const </span><span class="s1">d</span><span class="s0">=</span><span class="s1">l</span><span class="s0">-</span><span class="s1">u</span><span class="s0">;</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">d</span><span class="s0">){</span><span class="s4">case </span><span class="s3">0</span><span class="s0">:</span><span class="s1">o</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case </span><span class="s3">1</span><span class="s0">:</span><span class="s1">o</span><span class="s0">=</span><span class="s1">je</span><span class="s0">(</span><span class="s1">f</span><span class="s0">,</span><span class="s1">t</span><span class="s0">[</span><span class="s1">u</span><span class="s0">]);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">===</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">.</span><span class="s1">byName</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Received </span><span class="s1">$</span><span class="s0">{</span><span class="s1">d</span><span class="s0">} </span><span class="s2">parameters for 'by Name' request parameter structure.`</span><span class="s0">)}</span><span class="s1">o</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">l</span><span class="s0">).</span><span class="s1">map</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">Ce</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">break</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">;</span><span class="s1">o</span><span class="s0">=</span><span class="s1">Oe</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">numberOfParams</span><span class="s0">;</span><span class="s1">a</span><span class="s0">=</span><span class="s1">c</span><span class="s0">.</span><span class="s1">CancellationToken</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">])?</span><span class="s1">r</span><span class="s0">[</span><span class="s1">s</span><span class="s0">]:</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s1">E</span><span class="s0">++;</span><span class="s4">let </span><span class="s1">f</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">a</span><span class="s0">){</span><span class="s1">f</span><span class="s0">=</span><span class="s1">a</span><span class="s0">.</span><span class="s1">onCancellationRequested</span><span class="s0">((()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">K</span><span class="s0">.</span><span class="s1">sender</span><span class="s0">.</span><span class="s1">sendCancellation</span><span class="s0">(</span><span class="s1">Pe</span><span class="s0">,</span><span class="s1">u</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">w</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`Received no promise from cancellation strategy when cancelling id </span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">}</span><span class="s2">`</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">()}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">catch</span><span class="s0">((()=&gt;{</span><span class="s1">w</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">`Sending cancellation messages for id </span><span class="s1">$</span><span class="s0">{</span><span class="s1">u</span><span class="s0">} </span><span class="s2">failed`</span><span class="s0">)}))}}))}</span><span class="s4">const </span><span class="s1">l</span><span class="s0">={</span><span class="s1">jsonrpc</span><span class="s0">:</span><span class="s1">M</span><span class="s0">,</span><span class="s1">id</span><span class="s0">:</span><span class="s1">u</span><span class="s0">,</span><span class="s1">method</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">params</span><span class="s0">:</span><span class="s1">o</span><span class="s0">};</span><span class="s1">me</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s4">typeof </span><span class="s1">K</span><span class="s0">.</span><span class="s1">sender</span><span class="s0">.</span><span class="s1">enableCancellation</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">){</span><span class="s1">K</span><span class="s0">.</span><span class="s1">sender</span><span class="s0">.</span><span class="s1">enableCancellation</span><span class="s0">(</span><span class="s1">l</span><span class="s0">)}</span><span class="s4">return new </span><span class="s1">Promise</span><span class="s0">((</span><span class="s1">async</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s1">K</span><span class="s0">.</span><span class="s1">sender</span><span class="s0">.</span><span class="s1">cleanup</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s1">f</span><span class="s0">?.</span><span class="s1">dispose</span><span class="s0">()};</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s1">K</span><span class="s0">.</span><span class="s1">sender</span><span class="s0">.</span><span class="s1">cleanup</span><span class="s0">(</span><span class="s1">u</span><span class="s0">);</span><span class="s1">f</span><span class="s0">?.</span><span class="s1">dispose</span><span class="s0">()};</span><span class="s4">const </span><span class="s1">a</span><span class="s0">={</span><span class="s1">method</span><span class="s0">:</span><span class="s1">n</span><span class="s0">,</span><span class="s1">timerStart</span><span class="s0">:</span><span class="s1">Date</span><span class="s0">.</span><span class="s1">now</span><span class="s0">(),</span><span class="s1">resolve</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">reject</span><span class="s0">:</span><span class="s1">o</span><span class="s0">};</span><span class="s4">try</span><span class="s0">{</span><span class="s4">await </span><span class="s1">r</span><span class="s0">.</span><span class="s1">write</span><span class="s0">(</span><span class="s1">l</span><span class="s0">);</span><span class="s1">$</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">u</span><span class="s0">,</span><span class="s1">a</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">c</span><span class="s0">){</span><span class="s1">w</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s2">`Sending request failed.`</span><span class="s0">);</span><span class="s1">a</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">.</span><span class="s1">MessageWriteError</span><span class="s0">,</span><span class="s1">c</span><span class="s0">.</span><span class="s1">message</span><span class="s0">?</span><span class="s1">c</span><span class="s0">.</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;Unknown reason&quot;</span><span class="s0">));</span><span class="s4">throw </span><span class="s1">c</span><span class="s0">}}))},</span><span class="s1">onRequest</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s1">Ee</span><span class="s0">();</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">h</span><span class="s0">.</span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">O</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">=</span><span class="s4">null</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">P</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,{</span><span class="s1">handler</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">type</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">})}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">;</span><span class="s1">P</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">method</span><span class="s0">,{</span><span class="s1">type</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">handler</span><span class="s0">:</span><span class="s1">t</span><span class="s0">})}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">:()=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">P</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">O</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}}},</span><span class="s1">hasPendingResponse</span><span class="s0">:()=&gt;</span><span class="s1">$</span><span class="s0">.</span><span class="s1">size</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">,</span><span class="s1">trace</span><span class="s0">:</span><span class="s1">async</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s1">m</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">sendNotification</span><span class="s0">||</span><span class="s4">false</span><span class="s0">;</span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">traceFormat</span><span class="s0">||</span><span class="s1">m</span><span class="s0">.</span><span class="s1">Text</span><span class="s0">}}</span><span class="s1">I</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">B</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">){</span><span class="s1">W</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">W</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">&amp;&amp;!</span><span class="s1">re</span><span class="s0">()&amp;&amp;!</span><span class="s1">ne</span><span class="s0">()){</span><span class="s4">await </span><span class="s1">Pe</span><span class="s0">.</span><span class="s1">sendNotification</span><span class="s0">(</span><span class="s1">y</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">p</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)})}},</span><span class="s1">onError</span><span class="s0">:</span><span class="s1">F</span><span class="s0">.</span><span class="s1">event</span><span class="s0">,</span><span class="s1">onClose</span><span class="s0">:</span><span class="s1">J</span><span class="s0">.</span><span class="s1">event</span><span class="s0">,</span><span class="s1">onUnhandledNotification</span><span class="s0">:</span><span class="s1">V</span><span class="s0">.</span><span class="s1">event</span><span class="s0">,</span><span class="s1">onDispose</span><span class="s0">:</span><span class="s1">G</span><span class="s0">.</span><span class="s1">event</span><span class="s0">,</span><span class="s1">end</span><span class="s0">:()=&gt;{</span><span class="s1">r</span><span class="s0">.</span><span class="s1">end</span><span class="s0">()},</span><span class="s1">dispose</span><span class="s0">:()=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">ne</span><span class="s0">()){</span><span class="s4">return</span><span class="s0">}</span><span class="s1">U</span><span class="s0">=</span><span class="s1">j</span><span class="s0">.</span><span class="s1">Disposed</span><span class="s0">;</span><span class="s1">G</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">);</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">(</span><span class="s1">i</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">.</span><span class="s1">PendingResponseRejected</span><span class="s0">,</span><span class="s2">&quot;Pending response rejected since connection got disposed&quot;</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">e of $</span><span class="s0">.</span><span class="s1">values</span><span class="s0">()){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">$</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s1">z</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s1">D</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Set</span><span class="s0">;</span><span class="s1">A</span><span class="s0">=</span><span class="s4">new </span><span class="s1">o</span><span class="s0">.</span><span class="s1">LinkedMap</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">r</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">)){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()}},</span><span class="s1">listen</span><span class="s0">:()=&gt;{</span><span class="s1">Ee</span><span class="s0">();</span><span class="s1">Se</span><span class="s0">();</span><span class="s1">U</span><span class="s0">=</span><span class="s1">j</span><span class="s0">.</span><span class="s1">Listening</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">listen</span><span class="s0">(</span><span class="s1">fe</span><span class="s0">)},</span><span class="s1">inspect</span><span class="s0">:()=&gt;{(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">console</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s2">&quot;inspect&quot;</span><span class="s0">)}};</span><span class="s1">Pe</span><span class="s0">.</span><span class="s1">onNotification</span><span class="s0">(</span><span class="s1">b</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Off</span><span class="s0">||!</span><span class="s1">W</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Verbose</span><span class="s0">||</span><span class="s1">I</span><span class="s0">===</span><span class="s1">p</span><span class="s0">.</span><span class="s1">Compact</span><span class="s0">;</span><span class="s1">W</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">,</span><span class="s1">t</span><span class="s0">?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">verbose</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">)}));</span><span class="s1">Pe</span><span class="s0">.</span><span class="s1">onNotification</span><span class="s0">(</span><span class="s1">l</span><span class="s0">.</span><span class="s1">type</span><span class="s0">,(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">L</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">token</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">H</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}));</span><span class="s4">return </span><span class="s1">Pe</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">createMessageConnection</span><span class="s0">=</span><span class="s1">O</span><span class="s0">},</span><span class="s3">34019</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Disposable</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">:</span><span class="s1">e</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">create</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">r</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Disposable</span><span class="s0">=</span><span class="s1">r</span><span class="s0">={}))},</span><span class="s3">62676</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">69590</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">={</span><span class="s1">dispose</span><span class="s0">(){}};</span><span class="s1">e</span><span class="s0">.</span><span class="s1">None</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}})(</span><span class="s1">s</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Event</span><span class="s0">=</span><span class="s1">s</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">i</span><span class="s0">{</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">null</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">=[]}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">dispose</span><span class="s0">:()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)})}}</span><span class="s1">remove</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s4">null</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">false</span><span class="s0">;</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">n</span><span class="s0">&lt;</span><span class="s1">s</span><span class="s0">;</span><span class="s1">n</span><span class="s0">++){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]===</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">return</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">r</span><span class="s0">=</span><span class="s4">true</span><span class="s0">}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;When adding a listener with a context, you should remove it with the same context&quot;</span><span class="s0">)}}</span><span class="s1">invoke</span><span class="s0">(</span><span class="s1">...e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">return</span><span class="s0">[]}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=[],</span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">),</span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">);</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">,</span><span class="s1">a</span><span class="s0">=</span><span class="s1">r</span><span class="s0">.</span><span class="s1">length</span><span class="s0">;</span><span class="s1">o</span><span class="s0">&lt;</span><span class="s1">a</span><span class="s0">;</span><span class="s1">o</span><span class="s0">++){</span><span class="s4">try</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">r</span><span class="s0">[</span><span class="s1">o</span><span class="s0">].</span><span class="s1">apply</span><span class="s0">(</span><span class="s1">s</span><span class="s0">[</span><span class="s1">o</span><span class="s0">],</span><span class="s1">e</span><span class="s0">))}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">i</span><span class="s0">){(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s1">i</span><span class="s0">)}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">isEmpty</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_contexts</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s4">class </span><span class="s1">o</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">get event</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_event</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_event</span><span class="s0">=(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">.</span><span class="s1">onFirstListenerAdd</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">isEmpty</span><span class="s0">()){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">.</span><span class="s1">onFirstListenerAdd</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">add</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">n</span><span class="s0">={</span><span class="s1">dispose</span><span class="s0">:()=&gt;{</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">n</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">_noop</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">.</span><span class="s1">onLastListenerRemove</span><span class="s0">&amp;&amp;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">isEmpty</span><span class="s0">()){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_options</span><span class="s0">.</span><span class="s1">onLastListenerRemove</span><span class="s0">(</span><span class="s4">this</span><span class="s0">)}}};</span><span class="s4">if</span><span class="s0">(</span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">n</span><span class="s0">}}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_event</span><span class="s0">}</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">invoke</span><span class="s0">.</span><span class="s1">call</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">,</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_callbacks</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">_noop</span><span class="s0">=</span><span class="s4">function</span><span class="s0">(){}},</span><span class="s3">78585</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">stringArray</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">array</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">func</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">error</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">number</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">string</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s4">true</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s4">false</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">boolean</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">String</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">string</span><span class="s0">=</span><span class="s1">n</span><span class="s0">;</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;number&quot;</span><span class="s0">||</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Number</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">number</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">function </span><span class="s1">i</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Error</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">error</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">function </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;function&quot;</span><span class="s0">}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">func</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s4">function </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">Array</span><span class="s0">.</span><span class="s1">isArray</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">array</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">function </span><span class="s1">c</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">every</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">n</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)))}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">stringArray</span><span class="s0">=</span><span class="s1">c</span><span class="s0">},</span><span class="s3">93352</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">r</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LRUCache</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LinkedMap</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Touch</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">var </span><span class="s1">n</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">None</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">First</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">AsOld</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">First</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Last</span><span class="s0">=</span><span class="s3">2</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">AsNew</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Last</span><span class="s0">})(</span><span class="s1">n</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Touch</span><span class="s0">=</span><span class="s1">n</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">s</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">[</span><span class="s1">r</span><span class="s0">]=</span><span class="s2">&quot;LinkedMap&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_map</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_size</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s1">clear</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_map</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_size</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">++}</span><span class="s1">isEmpty</span><span class="s0">(){</span><span class="s4">return</span><span class="s0">!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">}</span><span class="s1">get size</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_size</span><span class="s0">}</span><span class="s1">get first</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">?.</span><span class="s1">value</span><span class="s0">}</span><span class="s1">get last</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">?.</span><span class="s1">value</span><span class="s0">}</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_map</span><span class="s0">.</span><span class="s1">has</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_map</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">touch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">let </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_map</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s1">s</span><span class="s0">.</span><span class="s1">value</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">.</span><span class="s1">None</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">touch</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">s</span><span class="s0">={</span><span class="s1">key</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">next</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">previous</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">};</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">r</span><span class="s0">){</span><span class="s4">case </span><span class="s1">n</span><span class="s0">.</span><span class="s1">None</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addItemLast</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case </span><span class="s1">n</span><span class="s0">.</span><span class="s1">First</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addItemFirst</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case </span><span class="s1">n</span><span class="s0">.</span><span class="s1">Last</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addItemLast</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">addItemLast</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">break</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_map</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">s</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_size</span><span class="s0">++}</span><span class="s4">return this</span><span class="s0">}</span><span class="s4">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">!!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">remove</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">remove</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_map</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_map</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">removeItem</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_size</span><span class="s0">--;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s1">shift</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">||!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid list&quot;</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_map</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">key</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">removeItem</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_size</span><span class="s0">--;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">.</span><span class="s1">value</span><span class="s0">}</span><span class="s1">forEach</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">bind</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">key</span><span class="s0">,</span><span class="s4">this</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">key</span><span class="s0">,</span><span class="s4">this</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">!==</span><span class="s1">r</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`LinkedMap got modified during iteration.`</span><span class="s0">)}</span><span class="s1">n</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">next</span><span class="s0">}}</span><span class="s1">keys</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">;</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]:()=&gt;</span><span class="s1">r</span><span class="s0">,</span><span class="s1">next</span><span class="s0">:()=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`LinkedMap got modified during iteration.`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">key</span><span class="s0">,</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">};</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">done</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}}}};</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">values</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">;</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]:()=&gt;</span><span class="s1">r</span><span class="s0">,</span><span class="s1">next</span><span class="s0">:()=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`LinkedMap got modified during iteration.`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">value</span><span class="s0">:</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">,</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">};</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">done</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}}}};</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s1">entries</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">;</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={[</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">]:()=&gt;</span><span class="s1">r</span><span class="s0">,</span><span class="s1">next</span><span class="s0">:()=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">!==</span><span class="s1">e</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`LinkedMap got modified during iteration.`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">value</span><span class="s0">:[</span><span class="s1">t</span><span class="s0">.</span><span class="s1">key</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">value</span><span class="s0">],</span><span class="s1">done</span><span class="s0">:</span><span class="s4">false</span><span class="s0">};</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">;</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">value</span><span class="s0">:</span><span class="s1">undefined</span><span class="s0">,</span><span class="s1">done</span><span class="s0">:</span><span class="s4">true</span><span class="s0">}}}};</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}[(</span><span class="s1">r</span><span class="s0">=</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">toStringTag</span><span class="s0">,</span><span class="s1">Symbol</span><span class="s0">.</span><span class="s1">iterator</span><span class="s0">)](){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">entries</span><span class="s0">()}</span><span class="s1">trimOld</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&gt;=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">();</span><span class="s4">return</span><span class="s0">}</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">r</span><span class="s0">&gt;</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_map</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">key</span><span class="s0">);</span><span class="s1">t</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">next</span><span class="s0">;</span><span class="s1">r</span><span class="s0">--}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_size</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">++}</span><span class="s1">addItemFirst</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid list&quot;</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">++}</span><span class="s1">addItemLast</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">&amp;&amp;!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid list&quot;</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">++}</span><span class="s1">removeItem</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">&amp;&amp;</span><span class="s1">e</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid list&quot;</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid list&quot;</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">||!</span><span class="s1">r</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid list&quot;</span><span class="s0">)}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">++}</span><span class="s1">touch</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">||!</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Invalid list&quot;</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">.</span><span class="s1">First</span><span class="s0">&amp;&amp;</span><span class="s1">t</span><span class="s0">!==</span><span class="s1">n</span><span class="s0">.</span><span class="s1">Last</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">First</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">){</span><span class="s1">r</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">++}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">n</span><span class="s0">.</span><span class="s1">Last</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_head</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">previous</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">.</span><span class="s1">next</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_tail</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_state</span><span class="s0">++}}</span><span class="s1">toJSON</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">forEach</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">push</span><span class="s0">([</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">])}));</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s1">fromJSON</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">();</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const</span><span class="s0">[</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">]</span><span class="s1">of e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LinkedMap</span><span class="s0">=</span><span class="s1">s</span><span class="s0">;</span><span class="s4">class </span><span class="s1">i </span><span class="s4">extends </span><span class="s1">s</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s3">1</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_limit</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ratio</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">t</span><span class="s0">),</span><span class="s3">1</span><span class="s0">)}</span><span class="s1">get limit</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_limit</span><span class="s0">}</span><span class="s1">set limit</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_limit</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkTrim</span><span class="s0">()}</span><span class="s1">get ratio</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_ratio</span><span class="s0">}</span><span class="s1">set ratio</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ratio</span><span class="s0">=</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">min</span><span class="s0">(</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">max</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">),</span><span class="s3">1</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkTrim</span><span class="s0">()}</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">AsNew</span><span class="s0">){</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}</span><span class="s1">peek</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return super</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">None</span><span class="s0">)}</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">Last</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">checkTrim</span><span class="s0">();</span><span class="s4">return this</span><span class="s0">}</span><span class="s1">checkTrim</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">size</span><span class="s0">&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_limit</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">trimOld</span><span class="s0">(</span><span class="s1">Math</span><span class="s0">.</span><span class="s1">round</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_limit</span><span class="s0">*</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_ratio</span><span class="s0">))}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">LRUCache</span><span class="s0">=</span><span class="s1">i</span><span class="s0">},</span><span class="s3">89244</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageBuffer</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s3">13</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s3">10</span><span class="s0">;</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s2">&quot;</span><span class="s4">\r\n</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">class </span><span class="s1">i</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s2">&quot;utf-8&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_encoding</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_totalLength</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s1">get encoding</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_encoding</span><span class="s0">}</span><span class="s1">append</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">?</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fromString</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_encoding</span><span class="s0">):</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_totalLength</span><span class="s0">+=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">byteLength</span><span class="s0">}</span><span class="s1">tryReadHeaders</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s4">false</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">i</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">a</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">:</span><span class="s4">while</span><span class="s0">(</span><span class="s1">i</span><span class="s0">&lt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">[</span><span class="s1">i</span><span class="s0">];</span><span class="s1">o</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">t</span><span class="s0">:</span><span class="s4">while</span><span class="s0">(</span><span class="s1">o</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">length</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">[</span><span class="s1">o</span><span class="s0">];</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">s</span><span class="s0">){</span><span class="s4">case </span><span class="s1">r</span><span class="s0">:</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">case </span><span class="s3">0</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s3">1</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case </span><span class="s3">2</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s3">3</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case </span><span class="s1">n</span><span class="s0">:</span><span class="s4">switch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">case </span><span class="s3">1</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s3">2</span><span class="s0">;</span><span class="s4">break</span><span class="s0">;</span><span class="s4">case </span><span class="s3">3</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s3">4</span><span class="s0">;</span><span class="s1">o</span><span class="s0">++;</span><span class="s4">break </span><span class="s1">e</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s4">break</span><span class="s0">;</span><span class="s4">default</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s1">o</span><span class="s0">++}</span><span class="s1">a</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">byteLength</span><span class="s0">;</span><span class="s1">i</span><span class="s0">++}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">!==</span><span class="s3">4</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_read</span><span class="s0">(</span><span class="s1">a</span><span class="s0">+</span><span class="s1">o</span><span class="s0">);</span><span class="s4">const </span><span class="s1">u</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">const </span><span class="s1">f</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">(</span><span class="s1">c</span><span class="s0">,</span><span class="s2">&quot;ascii&quot;</span><span class="s0">).</span><span class="s1">split</span><span class="s0">(</span><span class="s1">s</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">f</span><span class="s0">.</span><span class="s1">length</span><span class="s0">&lt;</span><span class="s3">2</span><span class="s0">){</span><span class="s4">return </span><span class="s1">u</span><span class="s0">}</span><span class="s4">for</span><span class="s0">(</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">r</span><span class="s0">&lt;</span><span class="s1">f</span><span class="s0">.</span><span class="s1">length</span><span class="s0">-</span><span class="s3">2</span><span class="s0">;</span><span class="s1">r</span><span class="s0">++){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">f</span><span class="s0">[</span><span class="s1">r</span><span class="s0">];</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s2">&quot;:&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">n</span><span class="s0">===-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Message header must separate key and value using ':'</span><span class="s4">\n</span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">substr</span><span class="s0">(</span><span class="s1">n</span><span class="s0">+</span><span class="s3">1</span><span class="s0">).</span><span class="s1">trim</span><span class="s0">();</span><span class="s1">u</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">?</span><span class="s1">s</span><span class="s0">.</span><span class="s1">toLowerCase</span><span class="s0">():</span><span class="s1">s</span><span class="s0">,</span><span class="s1">i</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">u</span><span class="s0">}</span><span class="s1">tryReadBody</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_totalLength</span><span class="s0">&lt;</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">undefined</span><span class="s0">}</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_read</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">get numberOfBytes</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_totalLength</span><span class="s0">}</span><span class="s1">_read</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">emptyBuffer</span><span class="s0">()}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_totalLength</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Cannot read so many bytes!`</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">byteLength</span><span class="s0">===</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">.</span><span class="s1">shift</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_totalLength</span><span class="s0">-=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">asNative</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">[</span><span class="s3">0</span><span class="s0">].</span><span class="s1">byteLength</span><span class="s0">&gt;</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">[</span><span class="s3">0</span><span class="s0">];</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">asNative</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_totalLength</span><span class="s0">-=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">allocNative</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">let </span><span class="s1">r</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">let </span><span class="s1">n</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&gt;</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">[</span><span class="s1">n</span><span class="s0">];</span><span class="s4">if</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">byteLength</span><span class="s0">&gt;</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">i</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">[</span><span class="s1">n</span><span class="s0">]=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">slice</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_totalLength</span><span class="s0">-=</span><span class="s1">e</span><span class="s0">;</span><span class="s1">e</span><span class="s0">-=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">s</span><span class="s0">,</span><span class="s1">r</span><span class="s0">);</span><span class="s1">r</span><span class="s0">+=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">byteLength</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_chunks</span><span class="s0">.</span><span class="s1">shift</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_totalLength</span><span class="s0">-=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">byteLength</span><span class="s0">;</span><span class="s1">e</span><span class="s0">-=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">byteLength</span><span class="s0">}}</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageBuffer</span><span class="s0">=</span><span class="s1">i</span><span class="s0">},</span><span class="s3">59085</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ReadableStreamMessageReader</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageReader</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">MessageReader</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">69590</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">78585</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">62676</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">94323</span><span class="s0">);</span><span class="s4">var </span><span class="s1">a</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">listen</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">onError</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">onClose</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">onPartialMessage</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">a</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">MessageReader</span><span class="s0">=</span><span class="s1">a</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">c</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorEmitter</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">closeEmitter</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">partialMessageEmitter</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorEmitter</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">closeEmitter</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()}</span><span class="s1">get onError</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">errorEmitter</span><span class="s0">.</span><span class="s1">event</span><span class="s0">}</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorEmitter</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">asError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s1">get onClose</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">closeEmitter</span><span class="s0">.</span><span class="s1">event</span><span class="s0">}</span><span class="s1">fireClose</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">closeEmitter</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">)}</span><span class="s1">get onPartialMessage</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">partialMessageEmitter</span><span class="s0">.</span><span class="s1">event</span><span class="s0">}</span><span class="s1">firePartialMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">partialMessageEmitter</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">asError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Error</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Reader received error. Reason: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;unknown&quot;</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageReader</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">var </span><span class="s1">u</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">;</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">let </span><span class="s1">s</span><span class="s0">;</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">let </span><span class="s1">o</span><span class="s0">;</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">??</span><span class="s2">&quot;utf-8&quot;</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charset</span><span class="s0">??</span><span class="s2">&quot;utf-8&quot;</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">contentDecoder</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">s</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">contentDecoder</span><span class="s0">;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">s</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">s</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">contentDecoders</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">contentDecoders</span><span class="s0">){</span><span class="s1">i</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">contentTypeDecoder</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">contentTypeDecoder</span><span class="s0">;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">contentTypeDecoders</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">for</span><span class="s0">(</span><span class="s4">const </span><span class="s1">t of e</span><span class="s0">.</span><span class="s1">contentTypeDecoders</span><span class="s0">){</span><span class="s1">a</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}}}</span><span class="s4">if</span><span class="s0">(</span><span class="s1">o</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">o</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">applicationJson</span><span class="s0">.</span><span class="s1">decoder</span><span class="s0">;</span><span class="s1">a</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">o</span><span class="s0">.</span><span class="s1">name</span><span class="s0">,</span><span class="s1">o</span><span class="s0">)}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">charset</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">contentDecoder</span><span class="s0">:</span><span class="s1">s</span><span class="s0">,</span><span class="s1">contentDecoders</span><span class="s0">:</span><span class="s1">i</span><span class="s0">,</span><span class="s1">contentTypeDecoder</span><span class="s0">:</span><span class="s1">o</span><span class="s0">,</span><span class="s1">contentTypeDecoders</span><span class="s0">:</span><span class="s1">a</span><span class="s0">}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fromOptions</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">u</span><span class="s0">||(</span><span class="s1">u</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">f </span><span class="s4">extends </span><span class="s1">c</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readable</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">=</span><span class="s1">u</span><span class="s0">.</span><span class="s1">fromOptions</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buffer</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">messageBuffer</span><span class="s0">.</span><span class="s1">create</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">charset</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_partialMessageTimeout</span><span class="s0">=</span><span class="s3">1e4</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextMessageLength</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">messageToken</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readSemaphore</span><span class="s0">=</span><span class="s4">new </span><span class="s1">o</span><span class="s0">.</span><span class="s1">Semaphore</span><span class="s0">(</span><span class="s3">1</span><span class="s0">)}</span><span class="s1">set partialMessageTimeout</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_partialMessageTimeout</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">get partialMessageTimeout</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_partialMessageTimeout</span><span class="s0">}</span><span class="s1">listen</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextMessageLength</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">messageToken</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">partialMessageTimer</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">callback</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readable</span><span class="s0">.</span><span class="s1">onData</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">onData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readable</span><span class="s0">.</span><span class="s1">onError</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readable</span><span class="s0">.</span><span class="s1">onClose</span><span class="s0">((()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireClose</span><span class="s0">()));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">}</span><span class="s1">onData</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buffer</span><span class="s0">.</span><span class="s1">append</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">while</span><span class="s0">(</span><span class="s4">true</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextMessageLength</span><span class="s0">===-</span><span class="s3">1</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buffer</span><span class="s0">.</span><span class="s1">tryReadHeaders</span><span class="s0">(</span><span class="s4">true</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s2">&quot;content-length&quot;</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(!</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Header must provide a Content-Length property.</span><span class="s4">\n</span><span class="s1">$</span><span class="s0">{</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">fromEntries</span><span class="s0">(</span><span class="s1">e</span><span class="s0">))}</span><span class="s2">`</span><span class="s0">));</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">parseInt</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">isNaN</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s4">new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Content-Length value must be a number. Got </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">));</span><span class="s4">return</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextMessageLength</span><span class="s0">=</span><span class="s1">r</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buffer</span><span class="s0">.</span><span class="s1">tryReadBody</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextMessageLength</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setPartialMessageTimer</span><span class="s0">();</span><span class="s4">return</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clearPartialMessageTimer</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">nextMessageLength</span><span class="s0">=-</span><span class="s3">1</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readSemaphore</span><span class="s0">.</span><span class="s1">lock</span><span class="s0">((</span><span class="s1">async</span><span class="s0">()=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">contentDecoder</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">?</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">contentDecoder</span><span class="s0">.</span><span class="s1">decode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">):</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">contentTypeDecoder</span><span class="s0">.</span><span class="s1">decode</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">callback</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)})).</span><span class="s1">catch</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}))}}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">clearPartialMessageTimer</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">partialMessageTimer</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">partialMessageTimer</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">partialMessageTimer</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}</span><span class="s1">setPartialMessageTimer</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">clearPartialMessageTimer</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_partialMessageTimeout</span><span class="s0">&lt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">partialMessageTimer</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">timer</span><span class="s0">.</span><span class="s1">setTimeout</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">partialMessageTimer</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">messageToken</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">firePartialMessage</span><span class="s0">({</span><span class="s1">messageToken</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">waitingTime</span><span class="s0">:</span><span class="s1">t</span><span class="s0">});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">setPartialMessageTimer</span><span class="s0">()}}),</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_partialMessageTimeout</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">messageToken</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_partialMessageTimeout</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ReadableStreamMessageReader</span><span class="s0">=</span><span class="s1">f</span><span class="s0">},</span><span class="s3">23193</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">WriteableStreamMessageWriter</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageWriter</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">MessageWriter</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">69590</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">78585</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">94323</span><span class="s0">);</span><span class="s4">const </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">62676</span><span class="s0">);</span><span class="s4">const </span><span class="s1">a</span><span class="s0">=</span><span class="s2">&quot;Content-Length: &quot;</span><span class="s0">;</span><span class="s4">const </span><span class="s1">c</span><span class="s0">=</span><span class="s2">&quot;</span><span class="s4">\r\n</span><span class="s2">&quot;</span><span class="s0">;</span><span class="s4">var </span><span class="s1">u</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">let </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">onClose</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">onError</span><span class="s0">)&amp;&amp;</span><span class="s1">s</span><span class="s0">.</span><span class="s1">func</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">write</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">is</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">u</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">MessageWriter</span><span class="s0">=</span><span class="s1">u</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">f</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorEmitter</span><span class="s0">=</span><span class="s4">new </span><span class="s1">o</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">closeEmitter</span><span class="s0">=</span><span class="s4">new </span><span class="s1">o</span><span class="s0">.</span><span class="s1">Emitter</span><span class="s0">}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorEmitter</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">closeEmitter</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()}</span><span class="s1">get onError</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">errorEmitter</span><span class="s0">.</span><span class="s1">event</span><span class="s0">}</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorEmitter</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">([</span><span class="s4">this</span><span class="s0">.</span><span class="s1">asError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">),</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">])}</span><span class="s1">get onClose</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">closeEmitter</span><span class="s0">.</span><span class="s1">event</span><span class="s0">}</span><span class="s1">fireClose</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">closeEmitter</span><span class="s0">.</span><span class="s1">fire</span><span class="s0">(</span><span class="s1">undefined</span><span class="s0">)}</span><span class="s1">asError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e </span><span class="s4">instanceof </span><span class="s1">Error</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Writer received error. Reason: </span><span class="s1">$</span><span class="s0">{</span><span class="s1">s</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">:</span><span class="s2">&quot;unknown&quot;</span><span class="s0">}</span><span class="s2">`</span><span class="s0">)}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageWriter</span><span class="s0">=</span><span class="s1">f</span><span class="s0">;</span><span class="s4">var </span><span class="s1">l</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">||</span><span class="s4">typeof </span><span class="s1">e</span><span class="s0">===</span><span class="s2">&quot;string&quot;</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">charset</span><span class="s0">:</span><span class="s1">e</span><span class="s0">??</span><span class="s2">&quot;utf-8&quot;</span><span class="s0">,</span><span class="s1">contentTypeEncoder</span><span class="s0">:(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">applicationJson</span><span class="s0">.</span><span class="s1">encoder</span><span class="s0">}}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return</span><span class="s0">{</span><span class="s1">charset</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">charset</span><span class="s0">??</span><span class="s2">&quot;utf-8&quot;</span><span class="s0">,</span><span class="s1">contentEncoder</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">contentEncoder</span><span class="s0">,</span><span class="s1">contentTypeEncoder</span><span class="s0">:</span><span class="s1">e</span><span class="s0">.</span><span class="s1">contentTypeEncoder</span><span class="s0">??(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">applicationJson</span><span class="s0">.</span><span class="s1">encoder</span><span class="s0">}}}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">fromOptions</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">l</span><span class="s0">||(</span><span class="s1">l</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">d </span><span class="s4">extends </span><span class="s1">f</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">writable</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">=</span><span class="s1">l</span><span class="s0">.</span><span class="s1">fromOptions</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorCount</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">writeSemaphore</span><span class="s0">=</span><span class="s4">new </span><span class="s1">i</span><span class="s0">.</span><span class="s1">Semaphore</span><span class="s0">(</span><span class="s3">1</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">writable</span><span class="s0">.</span><span class="s1">onError</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">writable</span><span class="s0">.</span><span class="s1">onClose</span><span class="s0">((()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireClose</span><span class="s0">()))}</span><span class="s1">async write</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">writeSemaphore</span><span class="s0">.</span><span class="s1">lock</span><span class="s0">((</span><span class="s1">async</span><span class="s0">()=&gt;{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">contentTypeEncoder</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">).</span><span class="s1">then</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">contentEncoder</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">options</span><span class="s0">.</span><span class="s1">contentEncoder</span><span class="s0">.</span><span class="s1">encode</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}));</span><span class="s4">return </span><span class="s1">t</span><span class="s0">.</span><span class="s1">then</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=[];</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">a</span><span class="s0">,</span><span class="s1">t</span><span class="s0">.</span><span class="s1">byteLength</span><span class="s0">.</span><span class="s1">toString</span><span class="s0">(),</span><span class="s1">c</span><span class="s0">);</span><span class="s1">r</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">c</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">doWrite</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">r</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)}),(</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">throw </span><span class="s1">e</span><span class="s0">}))}))}</span><span class="s1">async doWrite</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">await this</span><span class="s0">.</span><span class="s1">writable</span><span class="s0">.</span><span class="s1">write</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">join</span><span class="s0">(</span><span class="s2">&quot;&quot;</span><span class="s0">),</span><span class="s2">&quot;ascii&quot;</span><span class="s0">);</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">writable</span><span class="s0">.</span><span class="s1">write</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">n</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">handleError</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return </span><span class="s1">Promise</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">n</span><span class="s0">)}}</span><span class="s1">handleError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorCount</span><span class="s0">++;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorCount</span><span class="s0">)}</span><span class="s1">end</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">writable</span><span class="s0">.</span><span class="s1">end</span><span class="s0">()}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">WriteableStreamMessageWriter</span><span class="s0">=</span><span class="s1">d</span><span class="s0">},</span><span class="s3">96177</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType9</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType8</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType7</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType6</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType5</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType4</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType3</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType2</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType1</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType0</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType9</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType8</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType7</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType6</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType5</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType4</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType3</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType2</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType1</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType0</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageSignature</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">78585</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ParseError</span><span class="s0">=-</span><span class="s3">32700</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">InvalidRequest</span><span class="s0">=-</span><span class="s3">32600</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MethodNotFound</span><span class="s0">=-</span><span class="s3">32601</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">InvalidParams</span><span class="s0">=-</span><span class="s3">32602</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">InternalError</span><span class="s0">=-</span><span class="s3">32603</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">jsonrpcReservedErrorRangeStart</span><span class="s0">=-</span><span class="s3">32099</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">serverErrorStart</span><span class="s0">=-</span><span class="s3">32099</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MessageWriteError</span><span class="s0">=-</span><span class="s3">32099</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">MessageReadError</span><span class="s0">=-</span><span class="s3">32098</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">PendingResponseRejected</span><span class="s0">=-</span><span class="s3">32097</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ConnectionInactive</span><span class="s0">=-</span><span class="s3">32096</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">ServerNotInitialized</span><span class="s0">=-</span><span class="s3">32002</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">UnknownErrorCode</span><span class="s0">=-</span><span class="s3">32001</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">jsonrpcReservedErrorRangeEnd</span><span class="s0">=-</span><span class="s3">32e3</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">serverErrorEnd</span><span class="s0">=-</span><span class="s3">32e3</span><span class="s0">})(</span><span class="s1">s</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ErrorCodes</span><span class="s0">=</span><span class="s1">s</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">i </span><span class="s4">extends </span><span class="s1">Error</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">code</span><span class="s0">=</span><span class="s1">n</span><span class="s0">.</span><span class="s1">number</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)?</span><span class="s1">e</span><span class="s0">:</span><span class="s1">s</span><span class="s0">.</span><span class="s1">UnknownErrorCode</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">setPrototypeOf</span><span class="s0">(</span><span class="s4">this</span><span class="s0">,</span><span class="s1">i</span><span class="s0">.</span><span class="s1">prototype</span><span class="s0">)}</span><span class="s1">toJson</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">={</span><span class="s1">code</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">code</span><span class="s0">,</span><span class="s1">message</span><span class="s0">:</span><span class="s4">this</span><span class="s0">.</span><span class="s1">message</span><span class="s0">};</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">!==</span><span class="s1">undefined</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">}</span><span class="s4">return </span><span class="s1">e</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ResponseError</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">class </span><span class="s1">o</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s4">static </span><span class="s1">is</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return </span><span class="s1">e</span><span class="s0">===</span><span class="s1">o</span><span class="s0">.</span><span class="s1">auto</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s1">o</span><span class="s0">.</span><span class="s1">byName</span><span class="s0">||</span><span class="s1">e</span><span class="s0">===</span><span class="s1">o</span><span class="s0">.</span><span class="s1">byPosition</span><span class="s0">}</span><span class="s1">toString</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">ParameterStructures</span><span class="s0">=</span><span class="s1">o</span><span class="s0">;</span><span class="s1">o</span><span class="s0">.</span><span class="s1">auto</span><span class="s0">=</span><span class="s4">new </span><span class="s1">o</span><span class="s0">(</span><span class="s2">&quot;auto&quot;</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">byPosition</span><span class="s0">=</span><span class="s4">new </span><span class="s1">o</span><span class="s0">(</span><span class="s2">&quot;byPosition&quot;</span><span class="s0">);</span><span class="s1">o</span><span class="s0">.</span><span class="s1">byName</span><span class="s0">=</span><span class="s4">new </span><span class="s1">o</span><span class="s0">(</span><span class="s2">&quot;byName&quot;</span><span class="s0">);</span><span class="s4">class </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">method</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">numberOfParams</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">get parameterStructures</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">o</span><span class="s0">.</span><span class="s1">auto</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">AbstractMessageSignature</span><span class="s0">=</span><span class="s1">a</span><span class="s0">;</span><span class="s4">class </span><span class="s1">c </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType0</span><span class="s0">=</span><span class="s1">c</span><span class="s0">;</span><span class="s4">class </span><span class="s1">u </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">auto</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parameterStructures</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">get parameterStructures</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_parameterStructures</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType</span><span class="s0">=</span><span class="s1">u</span><span class="s0">;</span><span class="s4">class </span><span class="s1">f </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">auto</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parameterStructures</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">get parameterStructures</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_parameterStructures</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType1</span><span class="s0">=</span><span class="s1">f</span><span class="s0">;</span><span class="s4">class </span><span class="s1">l </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">2</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType2</span><span class="s0">=</span><span class="s1">l</span><span class="s0">;</span><span class="s4">class </span><span class="s1">d </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">3</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType3</span><span class="s0">=</span><span class="s1">d</span><span class="s0">;</span><span class="s4">class </span><span class="s1">h </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">4</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType4</span><span class="s0">=</span><span class="s1">h</span><span class="s0">;</span><span class="s4">class </span><span class="s1">p </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">5</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType5</span><span class="s0">=</span><span class="s1">p</span><span class="s0">;</span><span class="s4">class </span><span class="s1">g </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">6</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType6</span><span class="s0">=</span><span class="s1">g</span><span class="s0">;</span><span class="s4">class </span><span class="s1">m </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">7</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType7</span><span class="s0">=</span><span class="s1">m</span><span class="s0">;</span><span class="s4">class </span><span class="s1">y </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">8</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType8</span><span class="s0">=</span><span class="s1">y</span><span class="s0">;</span><span class="s4">class </span><span class="s1">b </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">9</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">RequestType9</span><span class="s0">=</span><span class="s1">b</span><span class="s0">;</span><span class="s4">class </span><span class="s1">v </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">auto</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parameterStructures</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">get parameterStructures</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_parameterStructures</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType</span><span class="s0">=</span><span class="s1">v</span><span class="s0">;</span><span class="s4">class </span><span class="s1">_ </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType0</span><span class="s0">=</span><span class="s1">_</span><span class="s0">;</span><span class="s4">class </span><span class="s1">w </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">=</span><span class="s1">o</span><span class="s0">.</span><span class="s1">auto</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_parameterStructures</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">get parameterStructures</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_parameterStructures</span><span class="s0">}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType1</span><span class="s0">=</span><span class="s1">w</span><span class="s0">;</span><span class="s4">class </span><span class="s1">T </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">2</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType2</span><span class="s0">=</span><span class="s1">T</span><span class="s0">;</span><span class="s4">class </span><span class="s1">E </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">3</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType3</span><span class="s0">=</span><span class="s1">E</span><span class="s0">;</span><span class="s4">class </span><span class="s1">S </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">4</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType4</span><span class="s0">=</span><span class="s1">S</span><span class="s0">;</span><span class="s4">class </span><span class="s1">k </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">5</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType5</span><span class="s0">=</span><span class="s1">k</span><span class="s0">;</span><span class="s4">class </span><span class="s1">C </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">6</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType6</span><span class="s0">=</span><span class="s1">C</span><span class="s0">;</span><span class="s4">class </span><span class="s1">R </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">7</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType7</span><span class="s0">=</span><span class="s1">R</span><span class="s0">;</span><span class="s4">class </span><span class="s1">M </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">8</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType8</span><span class="s0">=</span><span class="s1">M</span><span class="s0">;</span><span class="s4">class </span><span class="s1">j </span><span class="s4">extends </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">9</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">NotificationType9</span><span class="s0">=</span><span class="s1">j</span><span class="s0">;</span><span class="s4">var </span><span class="s1">O</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">method</span><span class="s0">)&amp;&amp;(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">id</span><span class="s0">)||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">number</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">id</span><span class="s0">))}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">isRequest</span><span class="s0">=</span><span class="s1">t</span><span class="s0">;</span><span class="s4">function </span><span class="s1">r</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;</span><span class="s1">n</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">method</span><span class="s0">)&amp;&amp;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">===</span><span class="s4">void </span><span class="s3">0</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">isNotification</span><span class="s0">=</span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">s</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">return </span><span class="s1">t</span><span class="s0">&amp;&amp;(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">result</span><span class="s0">!==</span><span class="s4">void </span><span class="s3">0</span><span class="s0">||!!</span><span class="s1">t</span><span class="s0">.</span><span class="s1">error</span><span class="s0">)&amp;&amp;(</span><span class="s1">n</span><span class="s0">.</span><span class="s1">string</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">id</span><span class="s0">)||</span><span class="s1">n</span><span class="s0">.</span><span class="s1">number</span><span class="s0">(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">id</span><span class="s0">)||</span><span class="s1">t</span><span class="s0">.</span><span class="s1">id</span><span class="s0">===</span><span class="s4">null</span><span class="s0">)}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">isResponse</span><span class="s0">=</span><span class="s1">s</span><span class="s0">})(</span><span class="s1">O</span><span class="s0">||(</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Message</span><span class="s0">=</span><span class="s1">O</span><span class="s0">={}))},</span><span class="s3">69590</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s4">let </span><span class="s1">r</span><span class="s0">;</span><span class="s4">function </span><span class="s1">n</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`No runtime abstraction layer installed`</span><span class="s0">)}</span><span class="s4">return </span><span class="s1">r</span><span class="s0">}(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">function </span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`No runtime abstraction layer provided`</span><span class="s0">)}</span><span class="s1">r</span><span class="s0">=</span><span class="s1">e</span><span class="s0">}</span><span class="s1">e</span><span class="s0">.</span><span class="s1">install</span><span class="s0">=</span><span class="s1">t</span><span class="s0">})(</span><span class="s1">n</span><span class="s0">||(</span><span class="s1">n</span><span class="s0">={}));</span><span class="s1">t</span><span class="s0">[</span><span class="s2">&quot;default&quot;</span><span class="s0">]=</span><span class="s1">n</span><span class="s0">},</span><span class="s3">94323</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Semaphore</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">69590</span><span class="s0">);</span><span class="s4">class </span><span class="s1">s</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">=</span><span class="s3">1</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">&lt;=</span><span class="s3">0</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">&quot;Capacity must be greater than 0&quot;</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_capacity</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_active</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_waiting</span><span class="s0">=[]}</span><span class="s1">lock</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">Promise</span><span class="s0">(((</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_waiting</span><span class="s0">.</span><span class="s1">push</span><span class="s0">({</span><span class="s1">thunk</span><span class="s0">:</span><span class="s1">e</span><span class="s0">,</span><span class="s1">resolve</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">reject</span><span class="s0">:</span><span class="s1">r</span><span class="s0">});</span><span class="s4">this</span><span class="s0">.</span><span class="s1">runNext</span><span class="s0">()}))}</span><span class="s1">get active</span><span class="s0">(){</span><span class="s4">return this</span><span class="s0">.</span><span class="s1">_active</span><span class="s0">}</span><span class="s1">runNext</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_waiting</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_active</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_capacity</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">default</span><span class="s0">)().</span><span class="s1">timer</span><span class="s0">.</span><span class="s1">setImmediate</span><span class="s0">((()=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">doRunNext</span><span class="s0">()))}</span><span class="s1">doRunNext</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_waiting</span><span class="s0">.</span><span class="s1">length</span><span class="s0">===</span><span class="s3">0</span><span class="s0">||</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_active</span><span class="s0">===</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_capacity</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_waiting</span><span class="s0">.</span><span class="s1">shift</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_active</span><span class="s0">++;</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_active</span><span class="s0">&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_capacity</span><span class="s0">){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`To many thunks active`</span><span class="s0">)}</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">thunk</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t </span><span class="s4">instanceof </span><span class="s1">Promise</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">then</span><span class="s0">((</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_active</span><span class="s0">--;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">runNext</span><span class="s0">()}),(</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_active</span><span class="s0">--;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">runNext</span><span class="s0">()}))}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_active</span><span class="s0">--;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">resolve</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">runNext</span><span class="s0">()}}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">_active</span><span class="s0">--;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reject</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">runNext</span><span class="s0">()}}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">Semaphore</span><span class="s0">=</span><span class="s1">s</span><span class="s0">},</span><span class="s3">74996</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">Object</span><span class="s0">.</span><span class="s1">defineProperty</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s2">&quot;__esModule&quot;</span><span class="s0">,{</span><span class="s1">value</span><span class="s0">:</span><span class="s4">true</span><span class="s0">});</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SharedArrayReceiverStrategy</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SharedArraySenderStrategy</span><span class="s0">=</span><span class="s4">void </span><span class="s3">0</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">59850</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">;(</span><span class="s4">function</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Continue</span><span class="s0">=</span><span class="s3">0</span><span class="s0">;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">Cancelled</span><span class="s0">=</span><span class="s3">1</span><span class="s0">})(</span><span class="s1">s</span><span class="s0">||(</span><span class="s1">s</span><span class="s0">={}));</span><span class="s4">class </span><span class="s1">i</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buffers</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Map</span><span class="s0">}</span><span class="s1">enableCancellation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">===</span><span class="s4">null</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">new </span><span class="s1">SharedArrayBuffer</span><span class="s0">(</span><span class="s3">4</span><span class="s0">);</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Int32Array</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s1">r</span><span class="s0">[</span><span class="s3">0</span><span class="s0">]=</span><span class="s1">s</span><span class="s0">.</span><span class="s1">Continue</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buffers</span><span class="s0">.</span><span class="s1">set</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">id</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cancellationData</span><span class="s0">=</span><span class="s1">t</span><span class="s0">}</span><span class="s1">async sendCancellation</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buffers</span><span class="s0">.</span><span class="s1">get</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return</span><span class="s0">}</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Int32Array</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">1</span><span class="s0">);</span><span class="s1">Atomics</span><span class="s0">.</span><span class="s1">store</span><span class="s0">(</span><span class="s1">n</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s1">s</span><span class="s0">.</span><span class="s1">Cancelled</span><span class="s0">)}</span><span class="s1">cleanup</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buffers</span><span class="s0">.</span><span class="s1">delete</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">buffers</span><span class="s0">.</span><span class="s1">clear</span><span class="s0">()}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SharedArraySenderStrategy</span><span class="s0">=</span><span class="s1">i</span><span class="s0">;</span><span class="s4">class </span><span class="s1">o</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">=</span><span class="s4">new </span><span class="s1">Int32Array</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}</span><span class="s1">get isCancellationRequested</span><span class="s0">(){</span><span class="s4">return </span><span class="s1">Atomics</span><span class="s0">.</span><span class="s1">load</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">data</span><span class="s0">,</span><span class="s3">0</span><span class="s0">)===</span><span class="s1">s</span><span class="s0">.</span><span class="s1">Cancelled</span><span class="s0">}</span><span class="s1">get onCancellationRequested</span><span class="s0">(){</span><span class="s4">throw new </span><span class="s1">Error</span><span class="s0">(</span><span class="s2">`Cancellation over SharedArrayBuffer doesn't support cancellation events`</span><span class="s0">)}}</span><span class="s4">class </span><span class="s1">a</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">token</span><span class="s0">=</span><span class="s4">new </span><span class="s1">o</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">cancel</span><span class="s0">(){}</span><span class="s1">dispose</span><span class="s0">(){}}</span><span class="s4">class </span><span class="s1">c</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">kind</span><span class="s0">=</span><span class="s2">&quot;request&quot;</span><span class="s0">}</span><span class="s1">createCancellationTokenSource</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">$cancellationData</span><span class="s0">;</span><span class="s4">if</span><span class="s0">(</span><span class="s1">t</span><span class="s0">===</span><span class="s1">undefined</span><span class="s0">){</span><span class="s4">return new </span><span class="s1">n</span><span class="s0">.</span><span class="s1">CancellationTokenSource</span><span class="s0">}</span><span class="s4">return new </span><span class="s1">a</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">t</span><span class="s0">.</span><span class="s1">SharedArrayReceiverStrategy</span><span class="s0">=</span><span class="s1">c</span><span class="s0">},</span><span class="s3">96092</span><span class="s0">:(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">,</span><span class="s1">r</span><span class="s0">)=&gt;{</span><span class="s2">&quot;use strict&quot;</span><span class="s0">;</span><span class="s1">r</span><span class="s0">.</span><span class="s1">d</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,{</span><span class="s1">ConsoleLogger</span><span class="s0">:()=&gt;</span><span class="s1">l</span><span class="s0">,</span><span class="s1">listen</span><span class="s0">:()=&gt;</span><span class="s1">d</span><span class="s0">});</span><span class="s4">var </span><span class="s1">n</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">76439</span><span class="s0">);</span><span class="s4">var </span><span class="s1">s</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">96177</span><span class="s0">);</span><span class="s4">class </span><span class="s1">i</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">disposables</span><span class="s0">=[]}</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">disposables</span><span class="s0">.</span><span class="s1">length</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">disposables</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">().</span><span class="s1">dispose</span><span class="s0">()}}</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">disposables</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">push</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">(){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s1">t</span><span class="s0">.</span><span class="s1">indexOf</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">if</span><span class="s0">(</span><span class="s1">r</span><span class="s0">!==-</span><span class="s3">1</span><span class="s0">){</span><span class="s1">t</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s1">r</span><span class="s0">,</span><span class="s3">1</span><span class="s0">)}}}}}</span><span class="s4">var </span><span class="s1">o</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">59085</span><span class="s0">);</span><span class="s4">class </span><span class="s1">a </span><span class="s4">extends </span><span class="s1">o</span><span class="s0">.</span><span class="s1">AbstractMessageReader</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s2">&quot;initial&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">events</span><span class="s0">=[];</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">onMessage</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">onError</span><span class="s0">((</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)));</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">onClose</span><span class="s0">(((</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">)=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">!==</span><span class="s3">1e3</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">={</span><span class="s1">name</span><span class="s0">:</span><span class="s2">&quot;&quot;</span><span class="s0">+</span><span class="s1">e</span><span class="s0">,</span><span class="s1">message</span><span class="s0">:</span><span class="s2">`Error during socket reconnect: code = </span><span class="s1">$</span><span class="s0">{</span><span class="s1">e</span><span class="s0">}</span><span class="s2">, reason = </span><span class="s1">$</span><span class="s0">{</span><span class="s1">t</span><span class="s0">}</span><span class="s2">`</span><span class="s0">};</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">r</span><span class="s0">)}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireClose</span><span class="s0">()}))}</span><span class="s1">listen</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">state</span><span class="s0">===</span><span class="s2">&quot;initial&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s2">&quot;listening&quot;</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">callback</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">while</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">events</span><span class="s0">.</span><span class="s1">length</span><span class="s0">!==</span><span class="s3">0</span><span class="s0">){</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s4">this</span><span class="s0">.</span><span class="s1">events</span><span class="s0">.</span><span class="s1">pop</span><span class="s0">();</span><span class="s4">if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">readMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)}</span><span class="s4">else if</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">error</span><span class="s0">)}</span><span class="s4">else</span><span class="s0">{</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireClose</span><span class="s0">()}}}</span><span class="s4">return</span><span class="s0">{</span><span class="s1">dispose</span><span class="s0">:()=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">callback</span><span class="s0">===</span><span class="s1">e</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">callback</span><span class="s0">=</span><span class="s1">undefined</span><span class="s0">}}}}</span><span class="s1">readMessage</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">state</span><span class="s0">===</span><span class="s2">&quot;initial&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">events</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,{</span><span class="s1">message</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">state</span><span class="s0">===</span><span class="s2">&quot;listening&quot;</span><span class="s0">){</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">parse</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">callback</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}}</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">state</span><span class="s0">===</span><span class="s2">&quot;initial&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">events</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,{</span><span class="s1">error</span><span class="s0">:</span><span class="s1">e</span><span class="s0">})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">state</span><span class="s0">===</span><span class="s2">&quot;listening&quot;</span><span class="s0">){</span><span class="s4">super</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s1">fireClose</span><span class="s0">(){</span><span class="s4">if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">state</span><span class="s0">===</span><span class="s2">&quot;initial&quot;</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">events</span><span class="s0">.</span><span class="s1">splice</span><span class="s0">(</span><span class="s3">0</span><span class="s0">,</span><span class="s3">0</span><span class="s0">,{})}</span><span class="s4">else if</span><span class="s0">(</span><span class="s4">this</span><span class="s0">.</span><span class="s1">state</span><span class="s0">===</span><span class="s2">&quot;listening&quot;</span><span class="s0">){</span><span class="s4">super</span><span class="s0">.</span><span class="s1">fireClose</span><span class="s0">()}</span><span class="s4">this</span><span class="s0">.</span><span class="s1">state</span><span class="s0">=</span><span class="s2">&quot;closed&quot;</span><span class="s0">}}</span><span class="s4">var </span><span class="s1">c</span><span class="s0">=</span><span class="s1">r</span><span class="s0">(</span><span class="s3">23193</span><span class="s0">);</span><span class="s4">class </span><span class="s1">u </span><span class="s4">extends </span><span class="s1">c</span><span class="s0">.</span><span class="s1">AbstractMessageWriter</span><span class="s0">{</span><span class="s1">constructor</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">super</span><span class="s0">();</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorCount</span><span class="s0">=</span><span class="s3">0</span><span class="s0">}</span><span class="s1">end</span><span class="s0">(){}</span><span class="s1">async write</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">try</span><span class="s0">{</span><span class="s4">const </span><span class="s1">t</span><span class="s0">=</span><span class="s1">JSON</span><span class="s0">.</span><span class="s1">stringify</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">this</span><span class="s0">.</span><span class="s1">socket</span><span class="s0">.</span><span class="s1">send</span><span class="s0">(</span><span class="s1">t</span><span class="s0">)}</span><span class="s4">catch</span><span class="s0">(</span><span class="s1">t</span><span class="s0">){</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorCount</span><span class="s0">++;</span><span class="s4">this</span><span class="s0">.</span><span class="s1">fireError</span><span class="s0">(</span><span class="s1">t</span><span class="s0">,</span><span class="s1">e</span><span class="s0">,</span><span class="s4">this</span><span class="s0">.</span><span class="s1">errorCount</span><span class="s0">)}}}</span><span class="s4">function </span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">t</span><span class="s0">){</span><span class="s4">const </span><span class="s1">r</span><span class="s0">=</span><span class="s4">new </span><span class="s1">a</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s4">new </span><span class="s1">u</span><span class="s0">(</span><span class="s1">e</span><span class="s0">);</span><span class="s4">const </span><span class="s1">i</span><span class="s0">=(</span><span class="s3">0</span><span class="s0">,</span><span class="s1">n</span><span class="s0">.</span><span class="s1">createMessageConnection</span><span class="s0">)(</span><span class="s1">r</span><span class="s0">,</span><span class="s1">s</span><span class="s0">,</span><span class="s1">t</span><span class="s0">);</span><span class="s1">i</span><span class="s0">.</span><span class="s1">onClose</span><span class="s0">((()=&gt;</span><span class="s1">i</span><span class="s0">.</span><span class="s1">dispose</span><span class="s0">()));</span><span class="s4">return </span><span class="s1">i</span><span class="s0">}</span><span class="s4">class </span><span class="s1">l</span><span class="s0">{</span><span class="s1">error</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">error</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">warn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">warn</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">info</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">info</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">log</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">log</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}</span><span class="s1">debug</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s1">console</span><span class="s0">.</span><span class="s1">debug</span><span class="s0">(</span><span class="s1">e</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">d</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">const</span><span class="s0">{</span><span class="s1">webSocket</span><span class="s0">:</span><span class="s1">t</span><span class="s0">,</span><span class="s1">onConnection</span><span class="s0">:</span><span class="s1">r</span><span class="s0">}=</span><span class="s1">e</span><span class="s0">;</span><span class="s4">const </span><span class="s1">n</span><span class="s0">=</span><span class="s1">e</span><span class="s0">.</span><span class="s1">logger</span><span class="s0">||</span><span class="s4">new </span><span class="s1">l</span><span class="s0">;</span><span class="s1">t</span><span class="s0">.</span><span class="s1">onopen</span><span class="s0">=()=&gt;{</span><span class="s4">const </span><span class="s1">e</span><span class="s0">=</span><span class="s1">h</span><span class="s0">(</span><span class="s1">t</span><span class="s0">);</span><span class="s4">const </span><span class="s1">s</span><span class="s0">=</span><span class="s1">f</span><span class="s0">(</span><span class="s1">e</span><span class="s0">,</span><span class="s1">n</span><span class="s0">);</span><span class="s1">r</span><span class="s0">(</span><span class="s1">s</span><span class="s0">)}}</span><span class="s4">function </span><span class="s1">h</span><span class="s0">(</span><span class="s1">e</span><span class="s0">){</span><span class="s4">return</span><span class="s0">{</span><span class="s1">send</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">send</span><span class="s0">(</span><span class="s1">t</span><span class="s0">),</span><span class="s1">onMessage</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">onmessage</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">data</span><span class="s0">)},</span><span class="s1">onError</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">onerror</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;{</span><span class="s4">if</span><span class="s0">(</span><span class="s2">&quot;message&quot;</span><span class="s4">in </span><span class="s1">e</span><span class="s0">){</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">message</span><span class="s0">)}}},</span><span class="s1">onClose</span><span class="s0">:</span><span class="s1">t</span><span class="s0">=&gt;{</span><span class="s1">e</span><span class="s0">.</span><span class="s1">onclose</span><span class="s0">=</span><span class="s1">e</span><span class="s0">=&gt;</span><span class="s1">t</span><span class="s0">(</span><span class="s1">e</span><span class="s0">.</span><span class="s1">code</span><span class="s0">,</span><span class="s1">e</span><span class="s0">.</span><span class="s1">reason</span><span class="s0">)},</span><span class="s1">dispose</span><span class="s0">:()=&gt;</span><span class="s1">e</span><span class="s0">.</span><span class="s1">close</span><span class="s0">()}}}}]);</span></pre>
</body>
</html>